(self.webpackChunkangular_web_component=self.webpackChunkangular_web_component||[]).push([[179],{984:(yp,Ys,ec)=>{"use strict";var tc={};function je(i){return"function"==typeof i}function M(i){const e=i(t=>{Error.call(t),t.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}ec.r(tc),ec.d(tc,{Decoder:()=>I1,Encoder:()=>tte,PacketType:()=>bn,protocol:()=>ete});const ue=M(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,o)=>`${o+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ae(i,n){if(i){const e=i.indexOf(n);0<=e&&i.splice(e,1)}}class z{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:t}=this;if(je(t))try{t()}catch(s){n=s instanceof ue?s.errors:[s]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const s of o)try{fe(s)}catch(r){n=n??[],r instanceof ue?n=[...n,...r.errors]:n.push(r)}}if(n)throw new ue(n)}}add(n){var e;if(n&&n!==this)if(this.closed)fe(n);else{if(n instanceof z){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Ae(e,n)}remove(n){const{_finalizers:e}=this;e&&Ae(e,n),n instanceof z&&n._removeParent(this)}}z.EMPTY=(()=>{const i=new z;return i.closed=!0,i})();const oe=z.EMPTY;function be(i){return i instanceof z||i&&"closed"in i&&je(i.remove)&&je(i.add)&&je(i.unsubscribe)}function fe(i){je(i)?i():i.unsubscribe()}const ye={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ce={setTimeout(i,n,...e){const{delegate:t}=ce;return t?.setTimeout?t.setTimeout(i,n,...e):setTimeout(i,n,...e)},clearTimeout(i){const{delegate:n}=ce;return(n?.clearTimeout||clearTimeout)(i)},delegate:void 0};function J(i){ce.setTimeout(()=>{const{onUnhandledError:n}=ye;if(!n)throw i;n(i)})}function O(){}const T=F("C",void 0,void 0);function F(i,n,e){return{kind:i,value:n,error:e}}let v=null;function b(i){if(ye.useDeprecatedSynchronousErrorHandling){const n=!v;if(n&&(v={errorThrown:!1,error:null}),i(),n){const{errorThrown:e,error:t}=v;if(v=null,e)throw t}}else i()}class u extends z{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,be(n)&&n.add(this)):this.destination=V}static create(n,e,t){return new k(n,e,t)}next(n){this.isStopped?S(function N(i){return F("N",i,void 0)}(n),this):this._next(n)}error(n){this.isStopped?S(function j(i){return F("E",void 0,i)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?S(T,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const h=Function.prototype.bind;function d(i,n){return h.call(i,n)}class f{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(t){m(t)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(t){m(t)}else m(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){m(e)}}}class k extends u{constructor(n,e,t){let o;if(super(),je(n)||!n)o={next:n??void 0,error:e??void 0,complete:t??void 0};else{let s;this&&ye.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&d(n.next,s),error:n.error&&d(n.error,s),complete:n.complete&&d(n.complete,s)}):o=n}this.destination=new f(o)}}function m(i){ye.useDeprecatedSynchronousErrorHandling?function p(i){ye.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=i)}(i):J(i)}function S(i,n){const{onStoppedNotification:e}=ye;e&&ce.setTimeout(()=>e(i,n))}const V={closed:!0,next:O,error:function y(i){throw i},complete:O},E="function"==typeof Symbol&&Symbol.observable||"@@observable";function w(i){return i}function K(i){return 0===i.length?w:1===i.length?i[0]:function(e){return i.reduce((t,o)=>o(t),e)}}let U=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){const t=new i;return t.source=this,t.operator=e,t}subscribe(e,t,o){const s=function H(i){return i&&i instanceof u||function re(i){return i&&je(i.next)&&je(i.error)&&je(i.complete)}(i)&&be(i)}(e)?e:new k(e,t,o);return b(()=>{const{operator:r,source:a}=this;s.add(r?r.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=W(t))((o,s)=>{const r=new k({next:a=>{try{e(a)}catch(l){s(l),r.unsubscribe()}},error:s,complete:o});this.subscribe(r)})}_subscribe(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}[E](){return this}pipe(...e){return K(e)(this)}toPromise(e){return new(e=W(e))((t,o)=>{let s;this.subscribe(r=>s=r,r=>o(r),()=>t(s))})}}return i.create=n=>new i(n),i})();function W(i){var n;return null!==(n=i??ye.Promise)&&void 0!==n?n:Promise}const L=M(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let R=(()=>{class i extends U{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const t=new Q(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new L}next(e){b(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const t of this.currentObservers)t.next(e)}})}error(e){b(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:t}=this;for(;t.length;)t.shift().error(e)}})}complete(){b(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:t,isStopped:o,observers:s}=this;return t||o?oe:(this.currentObservers=null,s.push(e),new z(()=>{this.currentObservers=null,Ae(s,e)}))}_checkFinalizedStatuses(e){const{hasError:t,thrownError:o,isStopped:s}=this;t?e.error(o):s&&e.complete()}asObservable(){const e=new U;return e.source=this,e}}return i.create=(n,e)=>new Q(n,e),i})();class Q extends R{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===t||t.call(e,n)}error(n){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===t||t.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,t;return null!==(t=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==t?t:oe}}function ae(i){return je(i?.lift)}function ve(i){return n=>{if(ae(n))return n.lift(function(e){try{return i(e,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}function xe(i,n,e,t,o){return new Se(i,n,e,t,o)}class Se extends u{constructor(n,e,t,o,s,r){super(n),this.onFinalize=s,this.shouldUnsubscribe=r,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=t?function(){try{t()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function we(i,n){return ve((e,t)=>{let o=0;e.subscribe(xe(t,s=>{t.next(i.call(n,s,o++))}))})}function de(i,n,e,t){var r,o=arguments.length,s=o<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(i,n,e,t);else for(var a=i.length-1;a>=0;a--)(r=i[a])&&(s=(o<3?r(s):o>3?r(n,e,s):r(n,e))||s);return o>3&&s&&Object.defineProperty(n,e,s),s}function ge(i,n){return function(e,t){n(e,t,i)}}function ot(i){return this instanceof ot?(this.v=i,this):new ot(i)}function At(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=i[Symbol.asyncIterator];return n?n.call(i):(i=function Wt(i){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&i[n],t=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&t>=i.length&&(i=void 0),{value:i&&i[t++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),e={},t("next"),t("throw"),t("return"),e[Symbol.asyncIterator]=function(){return this},e);function t(s){e[s]=i[s]&&function(r){return new Promise(function(a,l){!function o(s,r,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},r)}(a,l,(r=i[s](r)).done,r.value)})}}}const $i=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function Te(i){return je(i?.then)}function We(i){return je(i[E])}function st(i){return Symbol.asyncIterator&&je(i?.[Symbol.asyncIterator])}function Pt(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Jt=function ci(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ti(i){return je(i?.[Jt])}function Yn(i){return function xt(i,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,t=e.apply(i,n||[]),s=[];return o={},r("next"),r("throw"),r("return"),o[Symbol.asyncIterator]=function(){return this},o;function r(te){t[te]&&(o[te]=function(se){return new Promise(function(le,ke){s.push([te,se,le,ke])>1||a(te,se)})})}function a(te,se){try{!function l(te){te.value instanceof ot?Promise.resolve(te.value.v).then(c,A):D(s[0][2],te)}(t[te](se))}catch(le){D(s[0][3],le)}}function c(te){a("next",te)}function A(te){a("throw",te)}function D(te,se){te(se),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const e=i.getReader();try{for(;;){const{value:t,done:o}=yield ot(e.read());if(o)return yield ot(void 0);yield yield ot(t)}}finally{e.releaseLock()}})}function _o(i){return je(i?.getReader)}function jn(i){if(i instanceof U)return i;if(null!=i){if(We(i))return function Ki(i){return new U(n=>{const e=i[E]();if(je(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if($i(i))return function fn(i){return new U(n=>{for(let e=0;e<i.length&&!n.closed;e++)n.next(i[e]);n.complete()})}(i);if(Te(i))return function Ds(i){return new U(n=>{i.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,J)})}(i);if(st(i))return Os(i);if(Ti(i))return function Ea(i){return new U(n=>{for(const e of i)if(n.next(e),n.closed)return;n.complete()})}(i);if(_o(i))return function He(i){return Os(Yn(i))}(i)}throw Pt(i)}function Os(i){return new U(n=>{(function Oe(i,n){var e,t,o,s;return function Ee(i,n,e,t){return new(e||(e=Promise))(function(s,r){function a(A){try{c(t.next(A))}catch(D){r(D)}}function l(A){try{c(t.throw(A))}catch(D){r(D)}}function c(A){A.done?s(A.value):function o(s){return s instanceof e?s:new e(function(r){r(s)})}(A.value).then(a,l)}c((t=t.apply(i,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=At(i);!(t=yield e.next()).done;)if(n.next(t.value),n.closed)return}catch(r){o={error:r}}finally{try{t&&!t.done&&(s=e.return)&&(yield s.call(e))}finally{if(o)throw o.error}}n.complete()})})(i,n).catch(e=>n.error(e))})}function Ue(i,n,e,t=0,o=!1){const s=n.schedule(function(){e(),o?i.add(this.schedule(null,t)):this.unsubscribe()},t);if(i.add(s),!o)return s}function rt(i,n,e=1/0){return je(n)?rt((t,o)=>we((s,r)=>n(t,s,o,r))(jn(i(t,o))),e):("number"==typeof n&&(e=n),ve((t,o)=>function lt(i,n,e,t,o,s,r,a){const l=[];let c=0,A=0,D=!1;const te=()=>{D&&!l.length&&!c&&n.complete()},se=ke=>c<t?le(ke):l.push(ke),le=ke=>{s&&n.next(ke),c++;let Pe=!1;jn(e(ke,A++)).subscribe(xe(n,ze=>{o?.(ze),s?se(ze):n.next(ze)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(c--;l.length&&c<t;){const ze=l.shift();r?Ue(n,r,()=>le(ze)):le(ze)}te()}catch(ze){n.error(ze)}}))};return i.subscribe(xe(n,se,()=>{D=!0,te()})),()=>{a?.()}}(t,o,i,e)))}function Kt(i=1/0){return rt(w,i)}const xi=new U(i=>i.complete());function bo(i){return i&&je(i.schedule)}function cn(i){return i[i.length-1]}function no(i){return je(cn(i))?i.pop():void 0}function oo(i){return bo(cn(i))?i.pop():void 0}function vn(i,n=0){return ve((e,t)=>{e.subscribe(xe(t,o=>Ue(t,i,()=>t.next(o),n),()=>Ue(t,i,()=>t.complete(),n),o=>Ue(t,i,()=>t.error(o),n)))})}function ro(i,n=0){return ve((e,t)=>{t.add(i.schedule(()=>e.subscribe(t),n))})}function Wn(i,n){if(!i)throw new Error("Iterable cannot be null");return new U(e=>{Ue(e,n,()=>{const t=i[Symbol.asyncIterator]();Ue(e,n,()=>{t.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Dn(i,n){return n?function mr(i,n){if(null!=i){if(We(i))return function Gn(i,n){return jn(i).pipe(ro(n),vn(n))}(i,n);if($i(i))return function Xs(i,n){return new U(e=>{let t=0;return n.schedule(function(){t===i.length?e.complete():(e.next(i[t++]),e.closed||this.schedule())})})}(i,n);if(Te(i))return function ic(i,n){return jn(i).pipe(ro(n),vn(n))}(i,n);if(st(i))return Wn(i,n);if(Ti(i))return function pr(i,n){return new U(e=>{let t;return Ue(e,n,()=>{t=i[Jt](),Ue(e,n,()=>{let o,s;try{({value:o,done:s}=t.next())}catch(r){return void e.error(r)}s?e.complete():e.next(o)},0,!0)}),()=>je(t?.return)&&t.return()})}(i,n);if(_o(i))return function qs(i,n){return Wn(Yn(i),n)}(i,n)}throw Pt(i)}(i,n):jn(i)}function Yi(...i){const n=oo(i),e=function so(i,n){return"number"==typeof cn(i)?i.pop():n}(i,1/0),t=i;return t.length?1===t.length?jn(t[0]):Kt(e)(Dn(t,n)):xi}function Dr(i={}){const{connector:n=(()=>new R),resetOnError:e=!0,resetOnComplete:t=!0,resetOnRefCountZero:o=!0}=i;return s=>{let r,a,l,c=0,A=!1,D=!1;const te=()=>{a?.unsubscribe(),a=void 0},se=()=>{te(),r=l=void 0,A=D=!1},le=()=>{const ke=r;se(),ke?.unsubscribe()};return ve((ke,Pe)=>{c++,!D&&!A&&te();const ze=l=l??n();Pe.add(()=>{c--,0===c&&!D&&!A&&(a=nc(le,o))}),ze.subscribe(Pe),!r&&c>0&&(r=new k({next:at=>ze.next(at),error:at=>{D=!0,te(),a=nc(se,e,at),ze.error(at)},complete:()=>{A=!0,te(),a=nc(se,t),ze.complete()}}),jn(ke).subscribe(r))})(s)}}function nc(i,n,...e){if(!0===n)return void i();if(!1===n)return;const t=new k({next:()=>{t.unsubscribe(),i()}});return jn(n(...e)).subscribe(t)}function On(i){for(let n in i)if(i[n]===On)return n;throw Error("Could not find renamed property on target object.")}function Gc(i,n){for(const e in n)n.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=n[e])}function Sn(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Sn).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const n=i.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function fl(i,n){return null==i||""===i?null===n?"":n:null==n||""===n?i:i+" "+n}const Da=On({__forward_ref__:On});function Si(i){return i.__forward_ref__=Si,i.toString=function(){return Sn(this())},i}function ki(i){return Oa(i)?i():i}function Oa(i){return"function"==typeof i&&i.hasOwnProperty(Da)&&i.__forward_ref__===Si}function xp(i){return i&&!!i.\u0275providers}const kd="https://g.co/ng/security#xss";class mt extends Error{constructor(n,e){super(gl(n,e)),this.code=n}}function gl(i,n){return`NG0${Math.abs(i)}${n?": "+n.trim():""}`}function Fi(i){return"string"==typeof i?i:null==i?"":String(i)}function fr(i,n){throw new mt(-201,!1)}function Or(i,n){null==i&&function Nn(i,n,e,t){throw new Error(`ASSERTION ERROR: ${i}`+(null==t?"":` [Expected=> ${e} ${t} ${n} <=Actual]`))}(n,i,null,"!=")}function dt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Dt(i){return{providers:i.providers||[],imports:i.imports||[]}}function dg(i){return jA(i,ug)||jA(i,WA)}function jA(i,n){return i.hasOwnProperty(n)?i[n]:null}function GA(i){return i&&(i.hasOwnProperty(Hy)||i.hasOwnProperty(P$))?i[Hy]:null}const ug=On({\u0275prov:On}),Hy=On({\u0275inj:On}),WA=On({ngInjectableDef:On}),P$=On({ngInjectorDef:On});var Pi=(()=>((Pi=Pi||{})[Pi.Default=0]="Default",Pi[Pi.Host=1]="Host",Pi[Pi.Self=2]="Self",Pi[Pi.SkipSelf=4]="SkipSelf",Pi[Pi.Optional=8]="Optional",Pi))();let zy;function aa(i){const n=zy;return zy=i,n}function UA(i,n,e){const t=dg(i);return t&&"root"==t.providedIn?void 0===t.value?t.value=t.factory():t.value:e&Pi.Optional?null:void 0!==n?n:void fr(Sn(i))}const ho=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Cp={},jy="__NG_DI_FLAG__",hg="ngTempTokenPath",E$="ngTokenPath",D$=/\n/gm,O$="\u0275",ZA="__source";let wp;function Eu(i){const n=wp;return wp=i,n}function R$(i,n=Pi.Default){if(void 0===wp)throw new mt(-203,!1);return null===wp?UA(i,void 0,n):wp.get(i,n&Pi.Optional?null:void 0,n)}function Le(i,n=Pi.Default){return(function T$(){return zy}()||R$)(ki(i),n)}function di(i,n=Pi.Default){return Le(i,pg(n))}function pg(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Gy(i){const n=[];for(let e=0;e<i.length;e++){const t=ki(i[e]);if(Array.isArray(t)){if(0===t.length)throw new mt(900,!1);let o,s=Pi.Default;for(let r=0;r<t.length;r++){const a=t[r],l=F$(a);"number"==typeof l?-1===l?o=a.token:s|=l:o=a}n.push(Le(o,s))}else n.push(Le(t))}return n}function kp(i,n){return i[jy]=n,i.prototype[jy]=n,i}function F$(i){return i[jy]}function sc(i){return{toString:i}.toString()}var _l=(()=>((_l=_l||{})[_l.OnPush=0]="OnPush",_l[_l.Default=1]="Default",_l))(),Ra=(()=>{return(i=Ra||(Ra={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ra;var i})();const rc={},Bn=[],mg=On({\u0275cmp:On}),Wy=On({\u0275dir:On}),Uy=On({\u0275pipe:On}),YA=On({\u0275mod:On}),ac=On({\u0275fac:On}),Ip=On({__NG_ELEMENT_ID__:On});let B$=0;function Fe(i){return sc(()=>{const n=qA(i),e={...n,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===_l.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||Ra.Emulated,id:"c"+B$++,styles:i.styles||Bn,_:null,schemas:i.schemas||null,tView:null};JA(e);const t=i.dependencies;return e.directiveDefs=fg(t,!1),e.pipeDefs=fg(t,!0),e})}function Tt(i,n,e){const t=i.\u0275cmp;t.directiveDefs=fg(n,!1),t.pipeDefs=fg(e,!0)}function V$(i){return Un(i)||Rs(i)}function $$(i){return null!==i}function Ot(i){return sc(()=>({type:i.type,bootstrap:i.bootstrap||Bn,declarations:i.declarations||Bn,imports:i.imports||Bn,exports:i.exports||Bn,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function XA(i,n){if(null==i)return rc;const e={};for(const t in i)if(i.hasOwnProperty(t)){let o=i[t],s=o;Array.isArray(o)&&(s=o[1],o=o[0]),e[o]=t,n&&(n[o]=s)}return e}function Xe(i){return sc(()=>{const n=qA(i);return JA(n),n})}function Ro(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Un(i){return i[mg]||null}function Rs(i){return i[Wy]||null}function gr(i){return i[Uy]||null}function Rr(i,n){const e=i[YA]||null;if(!e&&!0===n)throw new Error(`Type ${Sn(i)} does not have '\u0275mod' property.`);return e}function qA(i){const n={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:n,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||Bn,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:XA(i.inputs,n),outputs:XA(i.outputs)}}function JA(i){i.features?.forEach(n=>n(i))}function fg(i,n){if(!i)return null;const e=n?gr:V$;return()=>("function"==typeof i?i():i).map(t=>e(t)).filter($$)}const lc=0,ri=1,Xi=2,So=3,Fa=4,Sd=5,Fs=6,Ou=7,Fo=8,gg=9,_g=10,on=11,Zy=12,Ap=13,QA=14,Ru=15,Ls=16,Sp=17,Fu=18,bl=19,Mp=20,eS=21,po=22,Ky=1,tS=2,bg=7,vg=8,Lu=9,Js=10;function Fr(i){return Array.isArray(i)&&"object"==typeof i[Ky]}function La(i){return Array.isArray(i)&&!0===i[Ky]}function Yy(i){return 0!=(4&i.flags)}function Pp(i){return i.componentOffset>-1}function yg(i){return 1==(1&i.flags)}function Na(i){return!!i.template}function z$(i){return 0!=(256&i[Xi])}function Md(i,n){return i.hasOwnProperty(ac)?i[ac]:null}class oS{constructor(n,e,t){this.previousValue=n,this.currentValue=e,this.firstChange=t}isFirstChange(){return this.firstChange}}function dn(){return sS}function sS(i){return i.type.prototype.ngOnChanges&&(i.setInput=U$),W$}function W$(){const i=aS(this),n=i?.current;if(n){const e=i.previous;if(e===rc)i.previous=n;else for(let t in n)e[t]=n[t];i.current=null,this.ngOnChanges(n)}}function U$(i,n,e,t){const o=this.declaredInputs[e],s=aS(i)||function Z$(i,n){return i[rS]=n}(i,{previous:rc,current:null}),r=s.current||(s.current={}),a=s.previous,l=a[o];r[o]=new oS(l&&l.currentValue,n,a===rc),i[t]=n}dn.ngInherit=!0;const rS="__ngSimpleChanges__";function aS(i){return i[rS]||null}const la=function(i,n,e){},lS="svg";function vs(i){for(;Array.isArray(i);)i=i[lc];return i}function xg(i,n){return vs(n[i])}function Lr(i,n){return vs(n[i.index])}function dS(i,n){return i.data[n]}function Nu(i,n){return i[n]}function Nr(i,n){const e=n[i];return Fr(e)?e:e[lc]}function Cg(i){return 64==(64&i[Xi])}function Wc(i,n){return null==n?null:i[n]}function uS(i){i[Fu]=0}function qy(i,n){i[Sd]+=n;let e=i,t=i[So];for(;null!==t&&(1===n&&1===e[Sd]||-1===n&&0===e[Sd]);)t[Sd]+=n,e=t,t=t[So]}const Hi={lFrame:xS(null),bindingsEnabled:!0};function pS(){return Hi.bindingsEnabled}function wt(){return Hi.lFrame.lView}function wn(){return Hi.lFrame.tView}function he(i){return Hi.lFrame.contextLView=i,i[Fo]}function pe(i){return Hi.lFrame.contextLView=null,i}function ys(){let i=mS();for(;null!==i&&64===i.type;)i=i.parent;return i}function mS(){return Hi.lFrame.currentTNode}function vl(i,n){const e=Hi.lFrame;e.currentTNode=i,e.isParent=n}function Jy(){return Hi.lFrame.isParent}function Qy(){Hi.lFrame.isParent=!1}function Qs(){const i=Hi.lFrame;let n=i.bindingRootIndex;return-1===n&&(n=i.bindingRootIndex=i.tView.bindingStartIndex),n}function cc(){return Hi.lFrame.bindingIndex}function Bu(){return Hi.lFrame.bindingIndex++}function dc(i){const n=Hi.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+i,e}function rH(i,n){const e=Hi.lFrame;e.bindingIndex=e.bindingRootIndex=i,ex(n)}function ex(i){Hi.lFrame.currentDirectiveIndex=i}function tx(i){const n=Hi.lFrame.currentDirectiveIndex;return-1===n?null:i[n]}function bS(){return Hi.lFrame.currentQueryIndex}function ix(i){Hi.lFrame.currentQueryIndex=i}function lH(i){const n=i[ri];return 2===n.type?n.declTNode:1===n.type?i[Fs]:null}function vS(i,n,e){if(e&Pi.SkipSelf){let o=n,s=i;for(;!(o=o.parent,null!==o||e&Pi.Host||(o=lH(s),null===o||(s=s[Ru],10&o.type))););if(null===o)return!1;n=o,i=s}const t=Hi.lFrame=yS();return t.currentTNode=n,t.lView=i,!0}function nx(i){const n=yS(),e=i[ri];Hi.lFrame=n,n.currentTNode=e.firstChild,n.lView=i,n.tView=e,n.contextLView=i,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function yS(){const i=Hi.lFrame,n=null===i?null:i.child;return null===n?xS(i):n}function xS(i){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=n),n}function CS(){const i=Hi.lFrame;return Hi.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const wS=CS;function ox(){const i=CS();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function er(){return Hi.lFrame.selectedIndex}function Pd(i){Hi.lFrame.selectedIndex=i}function vo(){const i=Hi.lFrame;return dS(i.tView,i.selectedIndex)}function ls(){Hi.lFrame.currentNamespace=lS}function yl(){!function hH(){Hi.lFrame.currentNamespace=null}()}function wg(i,n){for(let e=n.directiveStart,t=n.directiveEnd;e<t;e++){const s=i.data[e].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:A}=s;r&&(i.contentHooks||(i.contentHooks=[])).push(-e,r),a&&((i.contentHooks||(i.contentHooks=[])).push(e,a),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(e,a)),l&&(i.viewHooks||(i.viewHooks=[])).push(-e,l),c&&((i.viewHooks||(i.viewHooks=[])).push(e,c),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(e,c)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(e,A)}}function kg(i,n,e){kS(i,n,3,e)}function Ig(i,n,e,t){(3&i[Xi])===e&&kS(i,n,e,t)}function sx(i,n){let e=i[Xi];(3&e)===n&&(e&=2047,e+=1,i[Xi]=e)}function kS(i,n,e,t){const s=t??-1,r=n.length-1;let a=0;for(let l=void 0!==t?65535&i[Fu]:0;l<r;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=t&&a>=t)break}else n[l]<0&&(i[Fu]+=65536),(a<s||-1==s)&&(fH(i,e,n,l),i[Fu]=(4294901760&i[Fu])+l+2),l++}function fH(i,n,e,t){const o=e[t]<0,s=e[t+1],a=i[o?-e[t]:e[t]];if(o){if(i[Xi]>>11<i[Fu]>>16&&(3&i[Xi])===n){i[Xi]+=2048,la(4,a,s);try{s.call(a)}finally{la(5,a,s)}}}else{la(4,a,s);try{s.call(a)}finally{la(5,a,s)}}}const Vu=-1;class Ep{constructor(n,e,t){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=t}}function ax(i,n,e){let t=0;for(;t<e.length;){const o=e[t];if("number"==typeof o){if(0!==o)break;t++;const s=e[t++],r=e[t++],a=e[t++];i.setAttribute(n,r,a,s)}else{const s=o,r=e[++t];AS(s)?i.setProperty(n,s,r):i.setAttribute(n,s,r),t++}}return t}function IS(i){return 3===i||4===i||6===i}function AS(i){return 64===i.charCodeAt(0)}function Dp(i,n){if(null!==n&&0!==n.length)if(null===i||0===i.length)i=n.slice();else{let e=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?e=o:0===e||SS(i,e,o,null,-1===e||2===e?n[++t]:null)}}return i}function SS(i,n,e,t,o){let s=0,r=i.length;if(-1===n)r=-1;else for(;s<i.length;){const a=i[s++];if("number"==typeof a){if(a===n){r=-1;break}if(a>n){r=s-1;break}}}for(;s<i.length;){const a=i[s];if("number"==typeof a)break;if(a===e){if(null===t)return void(null!==o&&(i[s+1]=o));if(t===i[s+1])return void(i[s+2]=o)}s++,null!==t&&s++,null!==o&&s++}-1!==r&&(i.splice(r,0,n),s=r+1),i.splice(s++,0,e),null!==t&&i.splice(s++,0,t),null!==o&&i.splice(s++,0,o)}function MS(i){return i!==Vu}function Ag(i){return 32767&i}function Sg(i,n){let e=function vH(i){return i>>16}(i),t=n;for(;e>0;)t=t[Ru],e--;return t}let lx=!0;function Mg(i){const n=lx;return lx=i,n}const PS=255,TS=5;let yH=0;const xl={};function Pg(i,n){const e=ES(i,n);if(-1!==e)return e;const t=n[ri];t.firstCreatePass&&(i.injectorIndex=n.length,cx(t.data,i),cx(n,null),cx(t.blueprint,null));const o=dx(i,n),s=i.injectorIndex;if(MS(o)){const r=Ag(o),a=Sg(o,n),l=a[ri].data;for(let c=0;c<8;c++)n[s+c]=a[r+c]|l[r+c]}return n[s+8]=o,s}function cx(i,n){i.push(0,0,0,0,0,0,0,0,n)}function ES(i,n){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===n[i.injectorIndex+8]?-1:i.injectorIndex}function dx(i,n){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let e=0,t=null,o=n;for(;null!==o;){if(t=BS(o),null===t)return Vu;if(e++,o=o[Ru],-1!==t.injectorIndex)return t.injectorIndex|e<<16}return Vu}function ux(i,n,e){!function xH(i,n,e){let t;"string"==typeof e?t=e.charCodeAt(0)||0:e.hasOwnProperty(Ip)&&(t=e[Ip]),null==t&&(t=e[Ip]=yH++);const o=t&PS;n.data[i+(o>>TS)]|=1<<o}(i,n,e)}function DS(i,n,e){if(e&Pi.Optional||void 0!==i)return i;fr()}function OS(i,n,e,t){if(e&Pi.Optional&&void 0===t&&(t=null),!(e&(Pi.Self|Pi.Host))){const o=i[gg],s=aa(void 0);try{return o?o.get(n,t,e&Pi.Optional):UA(n,t,e&Pi.Optional)}finally{aa(s)}}return DS(t,0,e)}function RS(i,n,e,t=Pi.Default,o){if(null!==i){if(1024&n[Xi]){const r=function AH(i,n,e,t,o){let s=i,r=n;for(;null!==s&&null!==r&&1024&r[Xi]&&!(256&r[Xi]);){const a=FS(s,r,e,t|Pi.Self,xl);if(a!==xl)return a;let l=s.parent;if(!l){const c=r[eS];if(c){const A=c.get(e,xl,t);if(A!==xl)return A}l=BS(r),r=r[Ru]}s=l}return o}(i,n,e,t,xl);if(r!==xl)return r}const s=FS(i,n,e,t,xl);if(s!==xl)return s}return OS(n,e,t,o)}function FS(i,n,e,t,o){const s=function kH(i){if("string"==typeof i)return i.charCodeAt(0)||0;const n=i.hasOwnProperty(Ip)?i[Ip]:void 0;return"number"==typeof n?n>=0?n&PS:IH:n}(e);if("function"==typeof s){if(!vS(n,i,t))return t&Pi.Host?DS(o,0,t):OS(n,e,t,o);try{const r=s(t);if(null!=r||t&Pi.Optional)return r;fr()}finally{wS()}}else if("number"==typeof s){let r=null,a=ES(i,n),l=Vu,c=t&Pi.Host?n[Ls][Fs]:null;for((-1===a||t&Pi.SkipSelf)&&(l=-1===a?dx(i,n):n[a+8],l!==Vu&&NS(t,!1)?(r=n[ri],a=Ag(l),n=Sg(l,n)):a=-1);-1!==a;){const A=n[ri];if(LS(s,a,A.data)){const D=wH(a,n,e,r,t,c);if(D!==xl)return D}l=n[a+8],l!==Vu&&NS(t,n[ri].data[a+8]===c)&&LS(s,a,n)?(r=A,a=Ag(l),n=Sg(l,n)):a=-1}}return o}function wH(i,n,e,t,o,s){const r=n[ri],a=r.data[i+8],A=Tg(a,r,e,null==t?Pp(a)&&lx:t!=r&&0!=(3&a.type),o&Pi.Host&&s===a);return null!==A?Td(n,r,A,a):xl}function Tg(i,n,e,t,o){const s=i.providerIndexes,r=n.data,a=1048575&s,l=i.directiveStart,A=s>>20,te=o?a+A:i.directiveEnd;for(let se=t?a:a+A;se<te;se++){const le=r[se];if(se<l&&e===le||se>=l&&le.type===e)return se}if(o){const se=r[l];if(se&&Na(se)&&se.type===e)return l}return null}function Td(i,n,e,t){let o=i[e];const s=n.data;if(function gH(i){return i instanceof Ep}(o)){const r=o;r.resolving&&function Ly(i,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${i}`:"";throw new mt(-200,`Circular dependency in DI detected for ${i}${e}`)}(function gn(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Fi(i)}(s[e]));const a=Mg(r.canSeeViewProviders);r.resolving=!0;const l=r.injectImpl?aa(r.injectImpl):null;vS(i,t,Pi.Default);try{o=i[e]=r.factory(void 0,s,i,t),n.firstCreatePass&&e>=t.directiveStart&&function mH(i,n,e){const{ngOnChanges:t,ngOnInit:o,ngDoCheck:s}=n.type.prototype;if(t){const r=sS(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(i,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,r)}o&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-i,o),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,s))}(e,s[e],n)}finally{null!==l&&aa(l),Mg(a),r.resolving=!1,wS()}}return o}function LS(i,n,e){return!!(e[n+(i>>TS)]&1<<i)}function NS(i,n){return!(i&Pi.Self||i&Pi.Host&&n)}class $u{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,t){return RS(this._tNode,this._lView,n,pg(t),e)}}function IH(){return new $u(ys(),wt())}function Ci(i){return sc(()=>{const n=i.prototype.constructor,e=n[ac]||hx(n),t=Object.prototype;let o=Object.getPrototypeOf(i.prototype).constructor;for(;o&&o!==t;){const s=o[ac]||hx(o);if(s&&s!==e)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function hx(i){return Oa(i)?()=>{const n=hx(ki(i));return n&&n()}:Md(i)}function BS(i){const n=i[ri],e=n.type;return 2===e?n.declTNode:1===e?i[Fs]:null}function cs(i){return function CH(i,n){if("class"===n)return i.classes;if("style"===n)return i.styles;const e=i.attrs;if(e){const t=e.length;let o=0;for(;o<t;){const s=e[o];if(IS(s))break;if(0===s)o+=2;else if("number"==typeof s)for(o++;o<t&&"string"==typeof e[o];)o++;else{if(s===n)return e[o+1];o+=2}}}return null}(ys(),i)}const Hu="__annotations__",zu="__parameters__",ju="__prop__metadata__";function VS(i,n,e,t,o){return sc(()=>{const s=px(n);function r(...a){if(this instanceof r)return s.call(this,...a),this;const l=new r(...a);return function(A){return o&&o(A,...a),(A.hasOwnProperty(Hu)?A[Hu]:Object.defineProperty(A,Hu,{value:[]})[Hu]).push(l),t&&t(A),A}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}function px(i){return function(...e){if(i){const t=i(...e);for(const o in t)this[o]=t[o]}}}function Gu(i,n,e){return sc(()=>{const t=px(n);function o(...s){if(this instanceof o)return t.apply(this,s),this;const r=new o(...s);return a.annotation=r,a;function a(l,c,A){const D=l.hasOwnProperty(zu)?l[zu]:Object.defineProperty(l,zu,{value:[]})[zu];for(;D.length<=A;)D.push(null);return(D[A]=D[A]||[]).push(r),l}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=i,o.annotationCls=o,o})}const SH=Gu("Attribute",i=>({attributeName:i,__NG_ELEMENT_ID__:()=>cs(i)}));class nt{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=dt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function es(i){const n=ho.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const mx=Function;function Rp(i){return"function"==typeof i}function Ed(i,n){i.forEach(e=>Array.isArray(e)?Ed(e,n):n(e))}function $S(i,n,e){n>=i.length?i.push(e):i.splice(n,0,e)}function Eg(i,n){return n>=i.length-1?i.pop():i.splice(n,1)[0]}function Fp(i,n){const e=[];for(let t=0;t<i;t++)e.push(n);return e}function Br(i,n,e){let t=Wu(i,n);return t>=0?i[1|t]=e:(t=~t,function TH(i,n,e,t){let o=i.length;if(o==n)i.push(e,t);else if(1===o)i.push(t,i[0]),i[0]=e;else{for(o--,i.push(i[o-1],i[o]);o>n;)i[o]=i[o-2],o--;i[n]=e,i[n+1]=t}}(i,t,n,e)),t}function fx(i,n){const e=Wu(i,n);if(e>=0)return i[1|e]}function Wu(i,n){return function HS(i,n,e){let t=0,o=i.length>>e;for(;o!==t;){const s=t+(o-t>>1),r=i[s<<e];if(n===r)return s<<e;r>n?o=s:t=s+1}return~(o<<e)}(i,n,1)}const EH=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,DH=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,OH=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,RH=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class LH{constructor(n){this._reflect=n||ho.Reflect}factory(n){return(...e)=>new n(...e)}_zipTypesAndAnnotations(n,e){let t;t=Fp(typeof n>"u"?e.length:n.length);for(let o=0;o<t.length;o++)t[o]=typeof n>"u"?[]:n[o]&&n[o]!=Object?[n[o]]:[],e&&null!=e[o]&&(t[o]=t[o].concat(e[o]));return t}_ownParameters(n,e){if(function FH(i){return EH.test(i)||RH.test(i)||DH.test(i)&&!OH.test(i)}(n.toString()))return null;if(n.parameters&&n.parameters!==e.parameters)return n.parameters;const o=n.ctorParameters;if(o&&o!==e.ctorParameters){const a="function"==typeof o?o():o,l=a.map(A=>A&&A.type),c=a.map(A=>A&&gx(A.decorators));return this._zipTypesAndAnnotations(l,c)}const s=n.hasOwnProperty(zu)&&n[zu],r=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",n);return r||s?this._zipTypesAndAnnotations(r,s):Fp(n.length)}parameters(n){if(!Rp(n))return[];const e=Dg(n);let t=this._ownParameters(n,e);return!t&&e!==Object&&(t=this.parameters(e)),t||[]}_ownAnnotations(n,e){if(n.annotations&&n.annotations!==e.annotations){let t=n.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return n.decorators&&n.decorators!==e.decorators?gx(n.decorators):n.hasOwnProperty(Hu)?n[Hu]:null}annotations(n){if(!Rp(n))return[];const e=Dg(n),t=this._ownAnnotations(n,e)||[];return(e!==Object?this.annotations(e):[]).concat(t)}_ownPropMetadata(n,e){if(n.propMetadata&&n.propMetadata!==e.propMetadata){let t=n.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(n.propDecorators&&n.propDecorators!==e.propDecorators){const t=n.propDecorators,o={};return Object.keys(t).forEach(s=>{o[s]=gx(t[s])}),o}return n.hasOwnProperty(ju)?n[ju]:null}propMetadata(n){if(!Rp(n))return{};const e=Dg(n),t={};if(e!==Object){const s=this.propMetadata(e);Object.keys(s).forEach(r=>{t[r]=s[r]})}const o=this._ownPropMetadata(n,e);return o&&Object.keys(o).forEach(s=>{const r=[];t.hasOwnProperty(s)&&r.push(...t[s]),r.push(...o[s]),t[s]=r}),t}ownPropMetadata(n){return Rp(n)&&this._ownPropMetadata(n,Dg(n))||{}}hasLifecycleHook(n,e){return n instanceof mx&&e in n.prototype}}function gx(i){return i?i.map(n=>new(0,n.type.annotationCls)(...n.args?n.args:[])):[]}function Dg(i){const n=i.prototype?Object.getPrototypeOf(i.prototype):null;return(n?n.constructor:null)||Object}const Lp=kp(Gu("Inject",i=>({token:i})),-1),_r=kp(Gu("Optional"),8),zS=kp(Gu("Self"),2),Ba=kp(Gu("SkipSelf"),4),NH=kp(Gu("Host"),1);let jS=null;function Og(i){return GS(function Np(){return jS=jS||new LH}().parameters(i))}function GS(i){return i.map(n=>function BH(i){const n={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(i)&&i.length>0)for(let e=0;e<i.length;e++){const t=i[e];if(void 0===t)continue;const o=Object.getPrototypeOf(t);if(t instanceof _r||"Optional"===o.ngMetadataName)n.optional=!0;else if(t instanceof Ba||"SkipSelf"===o.ngMetadataName)n.skipSelf=!0;else if(t instanceof zS||"Self"===o.ngMetadataName)n.self=!0;else if(t instanceof NH||"Host"===o.ngMetadataName)n.host=!0;else if(t instanceof Lp)n.token=t.token;else if(t instanceof SH){if(void 0===t.attributeName)throw new mt(204,!1);n.attribute=t.attributeName}else n.token=t}else n.token=void 0===i||Array.isArray(i)&&0===i.length?null:i;return n}(n))}var br=(()=>((br=br||{})[br.Important=1]="Important",br[br.DashCase=2]="DashCase",br))();const yx=new Map;let JH=0;const Cx="__ngContext__";function Ns(i,n){Fr(n)?(i[Cx]=n[Mp],function ez(i){yx.set(i[Mp],i)}(n)):i[Cx]=n}let wx;function kx(i,n){return wx(i,n)}function $p(i){const n=i[So];return La(n)?n[So]:n}function Ix(i){return aM(i[Ap])}function Ax(i){return aM(i[Fa])}function aM(i){for(;null!==i&&!La(i);)i=i[Fa];return i}function Zu(i,n,e,t,o){if(null!=t){let s,r=!1;La(t)?s=t:Fr(t)&&(r=!0,t=t[lc]);const a=vs(t);0===i&&null!==e?null==o?pM(n,e,a):Dd(n,e,a,o||null,!0):1===i&&null!==e?Dd(n,e,a,o||null,!0):2===i?function Ox(i,n,e){const t=Fg(i,n);t&&function yz(i,n,e,t){i.removeChild(n,e,t)}(i,t,n,e)}(n,a,r):3===i&&n.destroyNode(a),null!=s&&function wz(i,n,e,t,o){const s=e[bg];s!==vs(e)&&Zu(n,i,t,s,o);for(let a=Js;a<e.length;a++){const l=e[a];Hp(l[ri],l,i,n,t,s)}}(n,i,s,e,o)}}function Mx(i,n,e){return i.createElement(n,e)}function cM(i,n){const e=i[Lu],t=e.indexOf(n),o=n[So];512&n[Xi]&&(n[Xi]&=-513,qy(o,-1)),e.splice(t,1)}function Px(i,n){if(i.length<=Js)return;const e=Js+n,t=i[e];if(t){const o=t[Sp];null!==o&&o!==i&&cM(o,t),n>0&&(i[e-1][Fa]=t[Fa]);const s=Eg(i,Js+n);!function hz(i,n){Hp(i,n,n[on],2,null,null),n[lc]=null,n[Fs]=null}(t[ri],t);const r=s[bl];null!==r&&r.detachView(s[ri]),t[So]=null,t[Fa]=null,t[Xi]&=-65}return t}function dM(i,n){if(!(128&n[Xi])){const e=n[on];e.destroyNode&&Hp(i,n,e,3,null,null),function fz(i){let n=i[Ap];if(!n)return Tx(i[ri],i);for(;n;){let e=null;if(Fr(n))e=n[Ap];else{const t=n[Js];t&&(e=t)}if(!e){for(;n&&!n[Fa]&&n!==i;)Fr(n)&&Tx(n[ri],n),n=n[So];null===n&&(n=i),Fr(n)&&Tx(n[ri],n),e=n&&n[Fa]}n=e}}(n)}}function Tx(i,n){if(!(128&n[Xi])){n[Xi]&=-65,n[Xi]|=128,function vz(i,n){let e;if(null!=i&&null!=(e=i.destroyHooks))for(let t=0;t<e.length;t+=2){const o=n[e[t]];if(!(o instanceof Ep)){const s=e[t+1];if(Array.isArray(s))for(let r=0;r<s.length;r+=2){const a=o[s[r]],l=s[r+1];la(4,a,l);try{l.call(a)}finally{la(5,a,l)}}else{la(4,o,s);try{s.call(o)}finally{la(5,o,s)}}}}}(i,n),function bz(i,n){const e=i.cleanup,t=n[Ou];let o=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const r=e[s+3];r>=0?t[o=r]():t[o=-r].unsubscribe(),s+=2}else{const r=t[o=e[s+1]];e[s].call(r)}if(null!==t){for(let s=o+1;s<t.length;s++)(0,t[s])();n[Ou]=null}}(i,n),1===n[ri].type&&n[on].destroy();const e=n[Sp];if(null!==e&&La(n[So])){e!==n[So]&&cM(e,n);const t=n[bl];null!==t&&t.detachView(i)}!function tz(i){yx.delete(i[Mp])}(n)}}function uM(i,n,e){return function hM(i,n,e){let t=n;for(;null!==t&&40&t.type;)t=(n=t).parent;if(null===t)return e[lc];{const{componentOffset:o}=t;if(o>-1){const{encapsulation:s}=i.data[t.directiveStart+o];if(s===Ra.None||s===Ra.Emulated)return null}return Lr(t,e)}}(i,n.parent,e)}function Dd(i,n,e,t,o){i.insertBefore(n,e,t,o)}function pM(i,n,e){i.appendChild(n,e)}function mM(i,n,e,t,o){null!==t?Dd(i,n,e,t,o):pM(i,n,e)}function Fg(i,n){return i.parentNode(n)}function fM(i,n,e){return _M(i,n,e)}let Ex,Bg,Lx,Vg,_M=function gM(i,n,e){return 40&i.type?Lr(i,e):null};function Lg(i,n,e,t){const o=uM(i,t,n),s=n[on],a=fM(t.parent||n[Fs],t,n);if(null!=o)if(Array.isArray(e))for(let l=0;l<e.length;l++)mM(s,o,e[l],a,!1);else mM(s,o,e,a,!1);void 0!==Ex&&Ex(s,t,n,e,o)}function Ng(i,n){if(null!==n){const e=n.type;if(3&e)return Lr(n,i);if(4&e)return Dx(-1,i[n.index]);if(8&e){const t=n.child;if(null!==t)return Ng(i,t);{const o=i[n.index];return La(o)?Dx(-1,o):vs(o)}}if(32&e)return kx(n,i)()||vs(i[n.index]);{const t=vM(i,n);return null!==t?Array.isArray(t)?t[0]:Ng($p(i[Ls]),t):Ng(i,n.next)}}return null}function vM(i,n){return null!==n?i[Ls][Fs].projection[n.projection]:null}function Dx(i,n){const e=Js+i+1;if(e<n.length){const t=n[e],o=t[ri].firstChild;if(null!==o)return Ng(t,o)}return n[bg]}function Rx(i,n,e,t,o,s,r){for(;null!=e;){const a=t[e.index],l=e.type;if(r&&0===n&&(a&&Ns(vs(a),t),e.flags|=2),32!=(32&e.flags))if(8&l)Rx(i,n,e.child,t,o,s,!1),Zu(n,i,o,a,s);else if(32&l){const c=kx(e,t);let A;for(;A=c();)Zu(n,i,o,A,s);Zu(n,i,o,a,s)}else 16&l?yM(i,n,t,e,o,s):Zu(n,i,o,a,s);e=r?e.projectionNext:e.next}}function Hp(i,n,e,t,o,s){Rx(e,t,i.firstChild,n,o,s,!1)}function yM(i,n,e,t,o,s){const r=e[Ls],l=r[Fs].projection[t.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Zu(n,i,o,l[c],s);else Rx(i,n,l,r[So],o,s,!0)}function xM(i,n,e){""===e?i.removeAttribute(n,"class"):i.setAttribute(n,"class",e)}function CM(i,n,e){const{mergedAttrs:t,classes:o,styles:s}=e;null!==t&&ax(i,n,t),null!==o&&xM(i,n,o),null!==s&&function Iz(i,n,e){i.setAttribute(n,"style",e)}(i,n,s)}function Ku(i){return function Fx(){if(void 0===Bg&&(Bg=null,ho.trustedTypes))try{Bg=ho.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Bg}()?.createHTML(i)||i}function Nx(){if(void 0===Vg&&(Vg=null,ho.trustedTypes))try{Vg=ho.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Vg}function kM(i){return Nx()?.createHTML(i)||i}function AM(i){return Nx()?.createScriptURL(i)||i}class Od{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kd})`}}class Tz extends Od{getTypeName(){return"HTML"}}class Ez extends Od{getTypeName(){return"Style"}}class Dz extends Od{getTypeName(){return"Script"}}class Oz extends Od{getTypeName(){return"URL"}}class Rz extends Od{getTypeName(){return"ResourceURL"}}function Vr(i){return i instanceof Od?i.changingThisBreaksApplicationSecurity:i}function Cl(i,n){const e=function Fz(i){return i instanceof Od&&i.getTypeName()||null}(i);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${kd})`)}return e===n}class Hz{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(Ku(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class zz{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=Ku(n),e}}const Gz=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function $g(i){return(i=String(i)).match(Gz)?i:"unsafe:"+i}function uc(i){const n={};for(const e of i.split(","))n[e]=!0;return n}function zp(...i){const n={};for(const e of i)for(const t in e)e.hasOwnProperty(t)&&(n[t]=!0);return n}const MM=uc("area,br,col,hr,img,wbr"),PM=uc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),TM=uc("rp,rt"),Bx=zp(MM,zp(PM,uc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zp(TM,uc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zp(TM,PM)),Vx=uc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),EM=zp(Vx,uc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),uc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wz=uc("script,style,template");class Uz{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,t=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?t=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,t&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!Bx.hasOwnProperty(e))return this.sanitizedSomething=!0,!Wz.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const t=n.attributes;for(let o=0;o<t.length;o++){const s=t.item(o),r=s.name,a=r.toLowerCase();if(!EM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Vx[a]&&(l=$g(l)),this.buf.push(" ",r,'="',DM(l),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();Bx.hasOwnProperty(e)&&!MM.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(DM(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const Zz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kz=/([^\#-~ |!])/g;function DM(i){return i.replace(/&/g,"&amp;").replace(Zz,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Kz,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hg;function OM(i,n){let e=null;try{Hg=Hg||function SM(i){const n=new zz(i);return function jz(){try{return!!(new window.DOMParser).parseFromString(Ku(""),"text/html")}catch{return!1}}()?new Hz(n):n}(i);let t=n?String(n):"";e=Hg.getInertBodyElement(t);let o=5,s=t;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,t=s,s=e.innerHTML,e=Hg.getInertBodyElement(t)}while(t!==s);return Ku((new Uz).sanitizeChildren($x(e)||e))}finally{if(e){const t=$x(e)||e;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function $x(i){return"content"in i&&function Yz(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Vn=(()=>((Vn=Vn||{})[Vn.NONE=0]="NONE",Vn[Vn.HTML=1]="HTML",Vn[Vn.STYLE=2]="STYLE",Vn[Vn.SCRIPT=3]="SCRIPT",Vn[Vn.URL=4]="URL",Vn[Vn.RESOURCE_URL=5]="RESOURCE_URL",Vn))();function yr(i){const n=jp();return n?kM(n.sanitize(Vn.HTML,i)||""):Cl(i,"HTML")?kM(Vr(i)):OM(function wM(){return void 0!==Lx?Lx:typeof document<"u"?document:void 0}(),Fi(i))}function tr(i){const n=jp();return n?n.sanitize(Vn.URL,i)||"":Cl(i,"URL")?Vr(i):$g(Fi(i))}function RM(i){const n=jp();if(n)return AM(n.sanitize(Vn.RESOURCE_URL,i)||"");if(Cl(i,"ResourceURL"))return AM(Vr(i));throw new mt(904,!1)}function jp(){const i=wt();return i&&i[Zy]}const zg=new nt("ENVIRONMENT_INITIALIZER"),LM=new nt("INJECTOR",-1),NM=new nt("INJECTOR_DEF_TYPES");class BM{get(n,e=Cp){if(e===Cp){const t=new Error(`NullInjectorError: No provider for ${Sn(n)}!`);throw t.name="NullInjectorError",t}return e}}function i9(...i){return{\u0275providers:VM(0,i),\u0275fromNgModule:!0}}function VM(i,...n){const e=[],t=new Set;let o;return Ed(n,s=>{const r=s;Hx(r,e,[],t)&&(o||(o=[]),o.push(r))}),void 0!==o&&$M(o,e),e}function $M(i,n){for(let e=0;e<i.length;e++){const{providers:o}=i[e];zx(o,s=>{n.push(s)})}}function Hx(i,n,e,t){if(!(i=ki(i)))return!1;let o=null,s=GA(i);const r=!s&&Un(i);if(s||r){if(r&&!r.standalone)return!1;o=i}else{const l=i.ngModule;if(s=GA(l),!s)return!1;o=l}const a=t.has(o);if(r){if(a)return!1;if(t.add(o),r.dependencies){const l="function"==typeof r.dependencies?r.dependencies():r.dependencies;for(const c of l)Hx(c,n,e,t)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;t.add(o);try{Ed(s.imports,A=>{Hx(A,n,e,t)&&(c||(c=[]),c.push(A))})}finally{}void 0!==c&&$M(c,n)}if(!a){const c=Md(o)||(()=>new o);n.push({provide:o,useFactory:c,deps:Bn},{provide:NM,useValue:o,multi:!0},{provide:zg,useValue:()=>Le(o),multi:!0})}const l=s.providers;null==l||a||zx(l,A=>{n.push(A)})}}return o!==i&&void 0!==i.providers}function zx(i,n){for(let e of i)xp(e)&&(e=e.\u0275providers),Array.isArray(e)?zx(e,n):n(e)}const n9=On({provide:String,useValue:On});function jx(i){return null!==i&&"object"==typeof i&&n9 in i}function Rd(i){return"function"==typeof i}const Gx=new nt("Set Injector scope."),jg={},s9={};let Wx;function Gg(){return void 0===Wx&&(Wx=new BM),Wx}class wl{}class jM extends wl{get destroyed(){return this._destroyed}constructor(n,e,t,o){super(),this.parent=e,this.source=t,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zx(n,r=>this.processProvider(r)),this.records.set(LM,Yu(void 0,this)),o.has("environment")&&this.records.set(wl,Yu(void 0,this));const s=this.records.get(Gx);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(NM.multi,Bn,Pi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const e=Eu(this),t=aa(void 0);try{return n()}finally{Eu(e),aa(t)}}get(n,e=Cp,t=Pi.Default){this.assertNotDestroyed(),t=pg(t);const o=Eu(this),s=aa(void 0);try{if(!(t&Pi.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=function d9(i){return"function"==typeof i||"object"==typeof i&&i instanceof nt}(n)&&dg(n);a=l&&this.injectableDefInScope(l)?Yu(Ux(n),jg):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(t&Pi.Self?Gg():this.parent).get(n,e=t&Pi.Optional&&e===Cp?null:e)}catch(r){if("NullInjectorError"===r.name){if((r[hg]=r[hg]||[]).unshift(Sn(n)),o)throw r;return function L$(i,n,e,t){const o=i[hg];throw n[ZA]&&o.unshift(n[ZA]),i.message=function N$(i,n,e,t=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==O$?i.slice(2):i;let o=Sn(n);if(Array.isArray(n))o=n.map(Sn).join(" -> ");else if("object"==typeof n){let s=[];for(let r in n)if(n.hasOwnProperty(r)){let a=n[r];s.push(r+":"+("string"==typeof a?JSON.stringify(a):Sn(a)))}o=`{${s.join(", ")}}`}return`${e}${t?"("+t+")":""}[${o}]: ${i.replace(D$,"\n  ")}`}("\n"+i.message,o,e,t),i[E$]=o,i[hg]=null,i}(r,n,"R3InjectorError",this.source)}throw r}finally{aa(s),Eu(o)}}resolveInjectorInitializers(){const n=Eu(this),e=aa(void 0);try{const t=this.get(zg.multi,Bn,Pi.Self);for(const o of t)o()}finally{Eu(n),aa(e)}}toString(){const n=[],e=this.records;for(const t of e.keys())n.push(Sn(t));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new mt(205,!1)}processProvider(n){let e=Rd(n=ki(n))?n:ki(n&&n.provide);const t=function a9(i){return jx(i)?Yu(void 0,i.useValue):Yu(GM(i),jg)}(n);if(Rd(n)||!0!==n.multi)this.records.get(e);else{let o=this.records.get(e);o||(o=Yu(void 0,jg,!0),o.factory=()=>Gy(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,t)}hydrate(n,e){return e.value===jg&&(e.value=s9,e.value=e.factory()),"object"==typeof e.value&&e.value&&function c9(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=ki(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Ux(i){const n=dg(i),e=null!==n?n.factory:Md(i);if(null!==e)return e;if(i instanceof nt)throw new mt(204,!1);if(i instanceof Function)return function r9(i){const n=i.length;if(n>0)throw Fp(n,"?"),new mt(204,!1);const e=function S$(i){const n=i&&(i[ug]||i[WA]);return n?(function M$(i){if(i.hasOwnProperty("name"))return i.name;(""+i).match(/^function\s*([^\s(]+)/)}(i),n):null}(i);return null!==e?()=>e.factory(i):()=>new i}(i);throw new mt(204,!1)}function GM(i,n,e){let t;if(Rd(i)){const o=ki(i);return Md(o)||Ux(o)}if(jx(i))t=()=>ki(i.useValue);else if(function zM(i){return!(!i||!i.useFactory)}(i))t=()=>i.useFactory(...Gy(i.deps||[]));else if(function HM(i){return!(!i||!i.useExisting)}(i))t=()=>Le(ki(i.useExisting));else{const o=ki(i&&(i.useClass||i.provide));if(!function l9(i){return!!i.deps}(i))return Md(o)||Ux(o);t=()=>new o(...Gy(i.deps))}return t}function Yu(i,n,e=!1){return{factory:i,value:n,multi:e?[]:void 0}}function Zx(i,n){for(const e of i)Array.isArray(e)?Zx(e,n):e&&xp(e)?Zx(e.\u0275providers,n):n(e)}class u9{}class WM{}class p9{resolveComponentFactory(n){throw function h9(i){const n=Error(`No component factory found for ${Sn(i)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=i,n}(n)}}let Va=(()=>{class i{}return i.NULL=new p9,i})();function m9(){return Xu(ys(),wt())}function Xu(i,n){return new $e(Lr(i,n))}let $e=(()=>{class i{constructor(e){this.nativeElement=e}}return i.__NG_ELEMENT_ID__=m9,i})();function f9(i){return i instanceof $e?i.nativeElement:i}class Gp{}let $r=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function g9(){const i=wt(),e=Nr(ys().index,i);return(Fr(e)?e:i)[on]}(),i})(),_9=(()=>{class i{}return i.\u0275prov=dt({token:i,providedIn:"root",factory:()=>null}),i})();class Uc{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const b9=new Uc("15.2.3"),Kx={},Yx="ngOriginalError";function Xx(i){return i[Yx]}class hc{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Xx(n);for(;e&&Xx(e);)e=Xx(e);return e||null}}function Fd(i){return i.ownerDocument.defaultView}function xr(i){return i.ownerDocument}function pc(i){return i instanceof Function?i():i}function KM(i,n,e){let t=i.length;for(;;){const o=i.indexOf(n,e);if(-1===o)return o;if(0===o||i.charCodeAt(o-1)<=32){const s=n.length;if(o+s===t||i.charCodeAt(o+s)<=32)return o}e=o+1}}const YM="ng-template";function S9(i,n,e){let t=0;for(;t<i.length;){let o=i[t++];if(e&&"class"===o){if(o=i[t],-1!==KM(o.toLowerCase(),n,0))return!0}else if(1===o){for(;t<i.length&&"string"==typeof(o=i[t++]);)if(o.toLowerCase()===n)return!0;return!1}}return!1}function XM(i){return 4===i.type&&i.value!==YM}function M9(i,n,e){return n===(4!==i.type||e?i.value:YM)}function P9(i,n,e){let t=4;const o=i.attrs||[],s=function D9(i){for(let n=0;n<i.length;n++)if(IS(i[n]))return n;return i.length}(o);let r=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!r)if(4&t){if(t=2|1&t,""!==l&&!M9(i,l,e)||""===l&&1===n.length){if($a(t))return!1;r=!0}}else{const c=8&t?l:n[++a];if(8&t&&null!==i.attrs){if(!S9(i.attrs,c,e)){if($a(t))return!1;r=!0}continue}const D=T9(8&t?"class":l,o,XM(i),e);if(-1===D){if($a(t))return!1;r=!0;continue}if(""!==c){let te;te=D>s?"":o[D+1].toLowerCase();const se=8&t?te:null;if(se&&-1!==KM(se,c,0)||2&t&&c!==te){if($a(t))return!1;r=!0}}}}else{if(!r&&!$a(t)&&!$a(l))return!1;if(r&&$a(l))continue;r=!1,t=l|1&t}}return $a(t)||r}function $a(i){return 0==(1&i)}function T9(i,n,e,t){if(null===n)return-1;let o=0;if(t||!e){let s=!1;for(;o<n.length;){const r=n[o];if(r===i)return o;if(3===r||6===r)s=!0;else{if(1===r||2===r){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===r)break;if(0===r){o+=4;continue}}o+=s?1:2}return-1}return function O9(i,n){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){const t=i[e];if("number"==typeof t)return-1;if(t===n)return e;e++}return-1}(n,i)}function qM(i,n,e=!1){for(let t=0;t<n.length;t++)if(P9(i,n[t],e))return!0;return!1}function R9(i,n){e:for(let e=0;e<n.length;e++){const t=n[e];if(i.length===t.length){for(let o=0;o<i.length;o++)if(i[o]!==t[o])continue e;return!0}}return!1}function JM(i,n){return i?":not("+n.trim()+")":n}function F9(i){let n=i[0],e=1,t=2,o="",s=!1;for(;e<i.length;){let r=i[e];if("string"==typeof r)if(2&t){const a=i[++e];o+="["+r+(a.length>0?'="'+a+'"':"")+"]"}else 8&t?o+="."+r:4&t&&(o+=" "+r);else""!==o&&!$a(r)&&(n+=JM(s,o),o=""),t=r,s=s||!$a(t);e++}return""!==o&&(n+=JM(s,o)),n}const zi={};function _(i){QM(wn(),wt(),er()+i,!1)}function QM(i,n,e,t){if(!t)if(3==(3&n[Xi])){const s=i.preOrderCheckHooks;null!==s&&kg(n,s,e)}else{const s=i.preOrderHooks;null!==s&&Ig(n,s,0,e)}Pd(e)}const eP={\u0275\u0275defineInjectable:dt,\u0275\u0275defineInjector:Dt,\u0275\u0275inject:Le,\u0275\u0275invalidFactoryDep:function KA(i){throw new mt(202,!1)},resolveForwardRef:ki};const V9=On({provide:String,useValue:On});function tP(i){return void 0!==i.useClass}function iP(i){return void 0!==i.useFactory}const j9=VS("Injectable",void 0,void 0,void 0,(i,n)=>function B9(i,n){let e=null,t=null;i.hasOwnProperty(ug)||Object.defineProperty(i,ug,{get:()=>(null===e&&(e=es().compileInjectable(eP,`ng:///${i.name}/\u0275prov.js`,function z9(i,n){const e=n||{providedIn:null},t={name:i.name,type:i,typeArgumentCount:0,providedIn:e.providedIn};return(tP(e)||iP(e))&&void 0!==e.deps&&(t.deps=GS(e.deps)),tP(e)?t.useClass=e.useClass:function $9(i){return V9 in i}(e)?t.useValue=e.useValue:iP(e)?t.useFactory=e.useFactory:function H9(i){return void 0!==i.useExisting}(e)&&(t.useExisting=e.useExisting),t}(i,n))),e)}),i.hasOwnProperty(ac)||Object.defineProperty(i,ac,{get:()=>{if(null===t){const o=es();t=o.compileFactory(eP,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,typeArgumentCount:0,deps:Og(i),target:o.FactoryTarget.Injectable})}return t},configurable:!0})}(i,n));function nP(i,n=null,e=null,t){const o=oP(i,n,e,t);return o.resolveInjectorInitializers(),o}function oP(i,n=null,e=null,t,o=new Set){const s=[e||Bn,i9(i)];return t=t||("object"==typeof i?void 0:Sn(i)),new jM(s,n||Gg(),t||null,o)}let Jn=(()=>{class i{static create(e,t){if(Array.isArray(e))return nP({name:""},t,e,"");{const o=e.name??"";return nP({name:o},e.parent,e.providers,o)}}}return i.THROW_IF_NOT_FOUND=Cp,i.NULL=new BM,i.\u0275prov=dt({token:i,providedIn:"any",factory:()=>Le(LM)}),i.__NG_ELEMENT_ID__=-1,i})();function P(i,n=Pi.Default){const e=wt();return null===e?Le(i,n):RS(ys(),e,ki(i),n)}function Ha(){throw new Error("invalid")}function uP(i,n){const e=i.contentQueries;if(null!==e)for(let t=0;t<e.length;t+=2){const s=e[t+1];if(-1!==s){const r=i.data[s];ix(e[t]),r.contentQueries(2,n[s],s)}}}function Ug(i,n,e,t,o,s,r,a,l,c,A){const D=n.blueprint.slice();return D[lc]=o,D[Xi]=76|t,(null!==A||i&&1024&i[Xi])&&(D[Xi]|=1024),uS(D),D[So]=D[Ru]=i,D[Fo]=e,D[_g]=r||i&&i[_g],D[on]=a||i&&i[on],D[Zy]=l||i&&i[Zy]||null,D[gg]=c||i&&i[gg]||null,D[Fs]=s,D[Mp]=function QH(){return JH++}(),D[eS]=A,D[Ls]=2==n.type?i[Ls]:D,D}function Qu(i,n,e,t,o){let s=i.data[n];if(null===s)s=function t0(i,n,e,t,o){const s=mS(),r=Jy(),l=i.data[n]=function lj(i,n,e,t,o,s){return{type:e,index:t,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,r?s:s&&s.parent,e,n,t,o);return null===i.firstChild&&(i.firstChild=l),null!==s&&(r?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(i,n,e,t,o),function sH(){return Hi.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=t,s.attrs=o;const r=function Tp(){const i=Hi.lFrame,n=i.currentTNode;return i.isParent?n:n.parent}();s.injectorIndex=null===r?-1:r.injectorIndex}return vl(s,!0),s}function Wp(i,n,e,t){if(0===e)return-1;const o=n.length;for(let s=0;s<e;s++)n.push(t),i.blueprint.push(t),i.data.push(null);return o}function n0(i,n,e){nx(n);try{const t=i.viewQuery;null!==t&&p0(1,t,e);const o=i.template;null!==o&&hP(i,n,o,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&uP(i,n),i.staticViewQueries&&p0(2,i.viewQuery,e);const s=i.components;null!==s&&function sj(i,n){for(let e=0;e<n.length;e++)Sj(i,n[e])}(n,s)}catch(t){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),t}finally{n[Xi]&=-5,ox()}}function Zg(i,n,e,t){const o=n[Xi];if(128!=(128&o)){nx(n);try{uS(n),function gS(i){return Hi.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==e&&hP(i,n,e,2,t);const r=3==(3&o);if(r){const c=i.preOrderCheckHooks;null!==c&&kg(n,c,null)}else{const c=i.preOrderHooks;null!==c&&Ig(n,c,0,null),sx(n,0)}if(function Ij(i){for(let n=Ix(i);null!==n;n=Ax(n)){if(!n[tS])continue;const e=n[Lu];for(let t=0;t<e.length;t++){const o=e[t];512&o[Xi]||qy(o[So],1),o[Xi]|=512}}}(n),function kj(i){for(let n=Ix(i);null!==n;n=Ax(n))for(let e=Js;e<n.length;e++){const t=n[e],o=t[ri];Cg(t)&&Zg(o,t,o.template,t[Fo])}}(n),null!==i.contentQueries&&uP(i,n),r){const c=i.contentCheckHooks;null!==c&&kg(n,c)}else{const c=i.contentHooks;null!==c&&Ig(n,c,1),sx(n,1)}!function nj(i,n){const e=i.hostBindingOpCodes;if(null!==e)try{for(let t=0;t<e.length;t++){const o=e[t];if(o<0)Pd(~o);else{const s=o,r=e[++t],a=e[++t];rH(r,s),a(2,n[s])}}}finally{Pd(-1)}}(i,n);const a=i.components;null!==a&&function oj(i,n){for(let e=0;e<n.length;e++)Aj(i,n[e])}(n,a);const l=i.viewQuery;if(null!==l&&p0(2,l,t),r){const c=i.viewCheckHooks;null!==c&&kg(n,c)}else{const c=i.viewHooks;null!==c&&Ig(n,c,2),sx(n,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),n[Xi]&=-41,512&n[Xi]&&(n[Xi]&=-513,qy(n[So],-1))}finally{ox()}}}function hP(i,n,e,t,o){const s=er(),r=2&t;try{Pd(-1),r&&n.length>po&&QM(i,n,po,!1),la(r?2:0,o),e(t,o)}finally{Pd(s),la(r?3:1,o)}}function o0(i,n,e){if(Yy(n)){const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const r=i.data[s];r.contentQueries&&r.contentQueries(1,e[s],s)}}}function s0(i,n,e){pS()&&(function mj(i,n,e,t){const o=e.directiveStart,s=e.directiveEnd;Pp(e)&&function xj(i,n,e){const t=Lr(n,i),o=pP(e),s=i[_g],r=Kg(i,Ug(i,o,null,e.onPush?32:16,t,n,s,s.createRenderer(t,e),null,null,null));i[n.index]=r}(n,e,i.data[o+e.componentOffset]),i.firstCreatePass||Pg(e,n),Ns(t,n);const r=e.initialInputs;for(let a=o;a<s;a++){const l=i.data[a],c=Td(n,i,a,e);Ns(c,n),null!==r&&Cj(0,a-o,c,l,0,r),Na(l)&&(Nr(e.index,n)[Fo]=Td(n,i,a,e))}}(i,n,e,Lr(e,n)),64==(64&e.flags)&&vP(i,n,e))}function r0(i,n,e=Lr){const t=n.localNames;if(null!==t){let o=n.index+1;for(let s=0;s<t.length;s+=2){const r=t[s+1],a=-1===r?e(n,i):i[r];i[o++]=a}}}function pP(i){const n=i.tView;return null===n||n.incompleteFirstPass?i.tView=a0(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):n}function a0(i,n,e,t,o,s,r,a,l,c){const A=po+t,D=A+o,te=function rj(i,n){const e=[];for(let t=0;t<n;t++)e.push(t<i?null:zi);return e}(A,D),se="function"==typeof c?c():c;return te[ri]={type:i,blueprint:te,template:e,queries:null,viewQuery:a,declTNode:n,data:te.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof r?r():r,firstChild:null,schemas:l,consts:se,incompleteFirstPass:!1}}function mP(i,n,e,t){const o=xP(n);null===e?o.push(t):(o.push(e),i.firstCreatePass&&CP(i).push(t,o.length-1))}function fP(i,n,e,t){for(let o in i)if(i.hasOwnProperty(o)){e=null===e?{}:e;const s=i[o];null===t?gP(e,n,o,s):t.hasOwnProperty(o)&&gP(e,n,t[o],s)}return e}function gP(i,n,e,t){i.hasOwnProperty(e)?i[e].push(n,t):i[e]=[n,t]}function Hr(i,n,e,t,o,s,r,a){const l=Lr(n,e);let A,c=n.inputs;!a&&null!=c&&(A=c[t])?(m0(i,e,A,t,o),Pp(n)&&_P(e,n.index)):3&n.type&&(t=function dj(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(t),o=null!=r?r(o,n.value||"",t):o,s.setProperty(l,t,o))}function _P(i,n){const e=Nr(n,i);16&e[Xi]||(e[Xi]|=32)}function l0(i,n,e,t){if(pS()){const o=null===t?null:{"":-1},s=function gj(i,n){const e=i.directiveRegistry;let t=null,o=null;if(e)for(let s=0;s<e.length;s++){const r=e[s];if(qM(n,r.selectors,!1))if(t||(t=[]),Na(r))if(null!==r.findHostDirectiveDefs){const a=[];o=o||new Map,r.findHostDirectiveDefs(r,a,o),t.unshift(...a,r),c0(i,n,a.length)}else t.unshift(r),c0(i,n,0);else o=o||new Map,r.findHostDirectiveDefs?.(r,t,o),t.push(r)}return null===t?null:[t,o]}(i,e);let r,a;null===s?r=a=null:[r,a]=s,null!==r&&bP(i,n,e,r,o,a),o&&function _j(i,n,e){if(n){const t=i.localNames=[];for(let o=0;o<n.length;o+=2){const s=e[n[o+1]];if(null==s)throw new mt(-301,!1);t.push(n[o],s)}}}(e,t,o)}e.mergedAttrs=Dp(e.mergedAttrs,e.attrs)}function bP(i,n,e,t,o,s){for(let c=0;c<t.length;c++)ux(Pg(e,n),i,t[c].type);!function vj(i,n,e){i.flags|=1,i.directiveStart=n,i.directiveEnd=n+e,i.providerIndexes=n}(e,i.data.length,t.length);for(let c=0;c<t.length;c++){const A=t[c];A.providersResolver&&A.providersResolver(A)}let r=!1,a=!1,l=Wp(i,n,t.length,null);for(let c=0;c<t.length;c++){const A=t[c];e.mergedAttrs=Dp(e.mergedAttrs,A.hostAttrs),yj(i,e,n,l,A),bj(l,A,o),null!==A.contentQueries&&(e.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(e.flags|=64);const D=A.type.prototype;!r&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e.index),r=!0),!a&&(D.ngOnChanges||D.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e.index),a=!0),l++}!function cj(i,n,e){const o=n.directiveEnd,s=i.data,r=n.attrs,a=[];let l=null,c=null;for(let A=n.directiveStart;A<o;A++){const D=s[A],te=e?e.get(D):null,le=te?te.outputs:null;l=fP(D.inputs,A,l,te?te.inputs:null),c=fP(D.outputs,A,c,le);const ke=null===l||null===r||XM(n)?null:wj(l,A,r);a.push(ke)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}(i,e,s)}function vP(i,n,e){const t=e.directiveStart,o=e.directiveEnd,s=e.index,r=function aH(){return Hi.lFrame.currentDirectiveIndex}();try{Pd(s);for(let a=t;a<o;a++){const l=i.data[a],c=n[a];ex(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&fj(l,c)}}finally{Pd(-1),ex(r)}}function fj(i,n){null!==i.hostBindings&&i.hostBindings(1,n)}function c0(i,n,e){n.componentOffset=e,(i.components||(i.components=[])).push(n.index)}function bj(i,n,e){if(e){if(n.exportAs)for(let t=0;t<n.exportAs.length;t++)e[n.exportAs[t]]=i;Na(n)&&(e[""]=i)}}function yj(i,n,e,t,o){i.data[t]=o;const s=o.factory||(o.factory=Md(o.type)),r=new Ep(s,Na(o),P);i.blueprint[t]=r,e[t]=r,function hj(i,n,e,t,o){const s=o.hostBindings;if(s){let r=i.hostBindingOpCodes;null===r&&(r=i.hostBindingOpCodes=[]);const a=~n.index;(function pj(i){let n=i.length;for(;n>0;){const e=i[--n];if("number"==typeof e&&e<0)return e}return 0})(r)!=a&&r.push(a),r.push(e,t,s)}}(i,n,t,Wp(i,e,o.hostVars,zi),o)}function kl(i,n,e,t,o,s){const r=Lr(i,n);!function d0(i,n,e,t,o,s,r){if(null==s)i.removeAttribute(n,o,e);else{const a=null==r?Fi(s):r(s,t||"",o);i.setAttribute(n,o,a,e)}}(n[on],r,s,i.value,e,t,o)}function Cj(i,n,e,t,o,s){const r=s[n];if(null!==r){const a=t.setInput;for(let l=0;l<r.length;){const c=r[l++],A=r[l++],D=r[l++];null!==a?t.setInput(e,D,c,A):e[A]=D}}}function wj(i,n,e){let t=null,o=0;for(;o<e.length;){const s=e[o];if(0!==s)if(5!==s){if("number"==typeof s)break;if(i.hasOwnProperty(s)){null===t&&(t=[]);const r=i[s];for(let a=0;a<r.length;a+=2)if(r[a]===n){t.push(s,r[a+1],e[o+1]);break}}o+=2}else o+=2;else o+=4}return t}function yP(i,n,e,t){return[i,!0,!1,n,null,0,t,e,null,null]}function Aj(i,n){const e=Nr(n,i);if(Cg(e)){const t=e[ri];48&e[Xi]?Zg(t,e,t.template,e[Fo]):e[Sd]>0&&u0(e)}}function u0(i){for(let t=Ix(i);null!==t;t=Ax(t))for(let o=Js;o<t.length;o++){const s=t[o];if(Cg(s))if(512&s[Xi]){const r=s[ri];Zg(r,s,r.template,s[Fo])}else s[Sd]>0&&u0(s)}const e=i[ri].components;if(null!==e)for(let t=0;t<e.length;t++){const o=Nr(e[t],i);Cg(o)&&o[Sd]>0&&u0(o)}}function Sj(i,n){const e=Nr(n,i),t=e[ri];(function Mj(i,n){for(let e=n.length;e<i.blueprint.length;e++)n.push(i.blueprint[e])})(t,e),n0(t,e,e[Fo])}function Kg(i,n){return i[Ap]?i[QA][Fa]=n:i[Ap]=n,i[QA]=n,n}function h0(i){for(;i;){i[Xi]|=32;const n=$p(i);if(z$(i)&&!n)return i;i=n}return null}function Yg(i,n,e,t=!0){const o=n[_g];o.begin&&o.begin();try{Zg(i,n,i.template,e)}catch(r){throw t&&kP(n,r),r}finally{o.end&&o.end()}}function p0(i,n,e){ix(0),n(i,e)}function xP(i){return i[Ou]||(i[Ou]=[])}function CP(i){return i.cleanup||(i.cleanup=[])}function wP(i,n,e){return(null===i||Na(i))&&(e=function Y$(i){for(;Array.isArray(i);){if("object"==typeof i[Ky])return i;i=i[lc]}return null}(e[n.index])),e[on]}function kP(i,n){const e=i[gg],t=e?e.get(hc,null):null;t&&t.handleError(n)}function m0(i,n,e,t,o){for(let s=0;s<e.length;){const r=e[s++],a=e[s++],l=n[r],c=i.data[r];null!==c.setInput?c.setInput(l,o,t,a):l[a]=o}}function mc(i,n,e){const t=xg(n,i);!function lM(i,n,e){i.setValue(n,e)}(i[on],t,e)}function Xg(i,n,e){let t=e?i.styles:null,o=e?i.classes:null,s=0;if(null!==n)for(let r=0;r<n.length;r++){const a=n[r];"number"==typeof a?s=a:1==s?o=fl(o,a):2==s&&(t=fl(t,a+": "+n[++r]+";"))}e?i.styles=t:i.stylesWithoutHost=t,e?i.classes=o:i.classesWithoutHost=o}function qg(i,n,e,t,o=!1){for(;null!==e;){const s=n[e.index];if(null!==s&&t.push(vs(s)),La(s))for(let a=Js;a<s.length;a++){const l=s[a],c=l[ri].firstChild;null!==c&&qg(l[ri],l,c,t)}const r=e.type;if(8&r)qg(i,n,e.child,t);else if(32&r){const a=kx(e,n);let l;for(;l=a();)t.push(l)}else if(16&r){const a=vM(n,e);if(Array.isArray(a))t.push(...a);else{const l=$p(n[Ls]);qg(l[ri],l,a,t,!0)}}e=o?e.projectionNext:e.next}return t}class Up{get rootNodes(){const n=this._lView,e=n[ri];return qg(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fo]}set context(n){this._lView[Fo]=n}get destroyed(){return 128==(128&this._lView[Xi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[So];if(La(n)){const e=n[vg],t=e?e.indexOf(this):-1;t>-1&&(Px(n,t),Eg(e,t))}this._attachedToViewContainer=!1}dM(this._lView[ri],this._lView)}onDestroy(n){mP(this._lView[ri],this._lView,null,n)}markForCheck(){h0(this._cdRefInjectingView||this._lView)}detach(){this._lView[Xi]&=-65}reattach(){this._lView[Xi]|=64}detectChanges(){Yg(this._lView[ri],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new mt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mz(i,n){Hp(i,n,n[on],2,null,null)}(this._lView[ri],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new mt(902,!1);this._appRef=n}}class Pj extends Up{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Yg(n[ri],n,n[Fo],!1)}checkNoChanges(){}get context(){return null}}class IP extends Va{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Un(n);return new Zp(e,this.ngModule)}}function AP(i){const n=[];for(let e in i)i.hasOwnProperty(e)&&n.push({propName:i[e],templateName:e});return n}class Ej{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,t){t=pg(t);const o=this.injector.get(n,Kx,t);return o!==Kx||e===Kx?o:this.parentInjector.get(n,e,t)}}class Zp extends WM{get inputs(){return AP(this.componentDef.inputs)}get outputs(){return AP(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function L9(i){return i.map(F9).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,t,o){let s=(o=o||this.ngModule)instanceof wl?o:o?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const r=s?new Ej(n,s):n,a=r.get(Gp,null);if(null===a)throw new mt(407,!1);const l=r.get(_9,null),c=a.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",D=t?function aj(i,n,e){return i.selectRootElement(n,e===Ra.ShadowDom)}(c,t,this.componentDef.encapsulation):Mx(c,A,function Tj(i){const n=i.toLowerCase();return"svg"===n?lS:"math"===n?"math":null}(A)),te=this.componentDef.onPush?288:272,se=a0(0,null,null,1,0,null,null,null,null,null),le=Ug(null,se,null,te,null,null,a,c,l,r,null);let ke,Pe;nx(le);try{const ze=this.componentDef;let at,it=null;ze.findHostDirectiveDefs?(at=[],it=new Map,ze.findHostDirectiveDefs(ze,at,it),at.push(ze)):at=[ze];const _t=function Oj(i,n){const e=i[ri],t=po;return i[t]=n,Qu(e,t,2,"#host",null)}(le,D),Nt=function Rj(i,n,e,t,o,s,r,a){const l=o[ri];!function Fj(i,n,e,t){for(const o of i)n.mergedAttrs=Dp(n.mergedAttrs,o.hostAttrs);null!==n.mergedAttrs&&(Xg(n,n.mergedAttrs,!0),null!==e&&CM(t,e,n))}(t,i,n,r);const c=s.createRenderer(n,e),A=Ug(o,pP(e),null,e.onPush?32:16,o[i.index],i,s,c,a||null,null,null);return l.firstCreatePass&&c0(l,i,t.length-1),Kg(o,A),o[i.index]=A}(_t,D,ze,at,le,a,c);Pe=dS(se,po),D&&function Nj(i,n,e,t){if(t)ax(i,e,["ng-version",b9.full]);else{const{attrs:o,classes:s}=function N9(i){const n=[],e=[];let t=1,o=2;for(;t<i.length;){let s=i[t];if("string"==typeof s)2===o?""!==s&&n.push(s,i[++t]):8===o&&e.push(s);else{if(!$a(o))break;o=s}t++}return{attrs:n,classes:e}}(n.selectors[0]);o&&ax(i,e,o),s&&s.length>0&&xM(i,e,s.join(" "))}}(c,ze,D,t),void 0!==e&&function Bj(i,n,e){const t=i.projection=[];for(let o=0;o<n.length;o++){const s=e[o];t.push(null!=s?Array.from(s):null)}}(Pe,this.ngContentSelectors,e),ke=function Lj(i,n,e,t,o,s){const r=ys(),a=o[ri],l=Lr(r,o);bP(a,o,r,e,null,t);for(let A=0;A<e.length;A++)Ns(Td(o,a,r.directiveStart+A,r),o);vP(a,o,r),l&&Ns(l,o);const c=Td(o,a,r.directiveStart+r.componentOffset,r);if(i[Fo]=o[Fo]=c,null!==s)for(const A of s)A(c,n);return o0(a,r,i),c}(Nt,ze,at,it,le,[Vj]),n0(se,le,null)}finally{ox()}return new Dj(this.componentType,ke,Xu(Pe,le),le,Pe)}}class Dj extends u9{constructor(n,e,t,o,s){super(),this.location=t,this._rootLView=o,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new Pj(o),this.componentType=n}setInput(n,e){const t=this._tNode.inputs;let o;if(null!==t&&(o=t[n])){const s=this._rootLView;m0(s[ri],s,o,n,e),_P(s,this._tNode.index)}}get injector(){return new $u(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Vj(){const i=ys();wg(wt()[ri],i)}function Re(i){let n=function SP(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),e=!0;const t=[i];for(;n;){let o;if(Na(i))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new mt(903,!1);o=n.\u0275dir}if(o){if(e){t.push(o);const r=i;r.inputs=f0(i.inputs),r.declaredInputs=f0(i.declaredInputs),r.outputs=f0(i.outputs);const a=o.hostBindings;a&&jj(i,a);const l=o.viewQuery,c=o.contentQueries;if(l&&Hj(i,l),c&&zj(i,c),Gc(i.inputs,o.inputs),Gc(i.declaredInputs,o.declaredInputs),Gc(i.outputs,o.outputs),Na(o)&&o.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let r=0;r<s.length;r++){const a=s[r];a&&a.ngInherit&&a(i),a===Re&&(e=!1)}}n=Object.getPrototypeOf(n)}!function $j(i){let n=0,e=null;for(let t=i.length-1;t>=0;t--){const o=i[t];o.hostVars=n+=o.hostVars,o.hostAttrs=Dp(o.hostAttrs,e=Dp(e,o.hostAttrs))}}(t)}function f0(i){return i===rc?{}:i===Bn?[]:i}function Hj(i,n){const e=i.viewQuery;i.viewQuery=e?(t,o)=>{n(t,o),e(t,o)}:n}function zj(i,n){const e=i.contentQueries;i.contentQueries=e?(t,o,s)=>{n(t,o,s),e(t,o,s)}:n}function jj(i,n){const e=i.hostBindings;i.hostBindings=e?(t,o)=>{n(t,o),e(t,o)}:n}function Jg(i){return!!g0(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function g0(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Il(i,n,e){return i[n]=e}function Kp(i,n){return i[n]}function Bs(i,n,e){return!Object.is(i[n],e)&&(i[n]=e,!0)}function Ld(i,n,e,t){const o=Bs(i,n,e);return Bs(i,n+1,t)||o}function Qg(i,n,e,t,o){const s=Ld(i,n,e,t);return Bs(i,n+2,o)||s}function da(i,n,e,t,o,s){const r=Ld(i,n,e,t);return Ld(i,n+2,o,s)||r}function Et(i,n,e,t){const o=wt();return Bs(o,Bu(),n)&&(wn(),kl(vo(),o,i,n,e,t)),Et}function th(i,n,e,t){return Bs(i,Bu(),e)?n+Fi(e)+t:zi}function nh(i,n,e,t,o,s,r,a){const c=Qg(i,cc(),e,o,r);return dc(3),c?n+Fi(e)+t+Fi(o)+s+Fi(r)+a:zi}function $(i,n,e,t,o,s,r,a){const l=wt(),c=wn(),A=i+po,D=c.firstCreatePass?function Qj(i,n,e,t,o,s,r,a,l){const c=n.consts,A=Qu(n,i,4,r||null,Wc(c,a));l0(n,e,A,Wc(c,l)),wg(n,A);const D=A.tView=a0(2,A,t,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c);return null!==n.queries&&(n.queries.template(n,A),D.queries=n.queries.embeddedTView(A)),A}(A,c,l,n,e,t,o,s,r):c.data[A];vl(D,!1);const te=l[on].createComment("");Lg(c,l,te,D),Ns(te,l),Kg(l,l[A]=yP(te,l,te,D)),yg(D)&&s0(c,l,D),null!=r&&r0(l,D,a)}function Qt(i){return Nu(function oH(){return Hi.lFrame.contextLView}(),po+i)}function g(i,n,e){const t=wt();return Bs(t,Bu(),n)&&Hr(wn(),vo(),t,i,n,t[on],e,!1),g}function _0(i,n,e,t,o){const r=o?"class":"style";m0(i,e,n.inputs[r],r,t)}function x(i,n,e,t){const o=wt(),s=wn(),r=po+i,a=o[on],l=s.firstCreatePass?function t8(i,n,e,t,o,s){const r=n.consts,l=Qu(n,i,2,t,Wc(r,o));return l0(n,e,l,Wc(r,s)),null!==l.attrs&&Xg(l,l.attrs,!1),null!==l.mergedAttrs&&Xg(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(r,s,o,n,e,t):s.data[r],c=o[r]=Mx(a,n,function pH(){return Hi.lFrame.currentNamespace}()),A=yg(l);return vl(l,!0),CM(a,c,l),32!=(32&l.flags)&&Lg(s,o,c,l),0===function Q$(){return Hi.lFrame.elementDepthCount}()&&Ns(c,o),function eH(){Hi.lFrame.elementDepthCount++}(),A&&(s0(s,o,l),o0(s,l,o)),null!==t&&r0(o,l),x}function C(){let i=ys();Jy()?Qy():(i=i.parent,vl(i,!1));const n=i;!function tH(){Hi.lFrame.elementDepthCount--}();const e=wn();return e.firstCreatePass&&(wg(e,i),Yy(i)&&e.queries.elementEnd(i)),null!=n.classesWithoutHost&&function _H(i){return 0!=(8&i.flags)}(n)&&_0(e,n,wt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function bH(i){return 0!=(16&i.flags)}(n)&&_0(e,n,wt(),n.stylesWithoutHost,!1),C}function me(i,n,e,t){return x(i,n,e,t),C(),me}function ds(i,n,e){const t=wt(),o=wn(),s=i+po,r=o.firstCreatePass?function i8(i,n,e,t,o){const s=n.consts,r=Wc(s,t),a=Qu(n,i,8,"ng-container",r);return null!==r&&Xg(a,r,!0),l0(n,e,a,Wc(s,o)),null!==n.queries&&n.queries.elementStart(n,a),a}(s,o,t,n,e):o.data[s];vl(r,!0);const a=t[s]=t[on].createComment("");return Lg(o,t,a,r),Ns(a,t),yg(r)&&(s0(o,t,r),o0(o,r,t)),null!=e&&r0(t,r),ds}function us(){let i=ys();const n=wn();return Jy()?Qy():(i=i.parent,vl(i,!1)),n.firstCreatePass&&(wg(n,i),Yy(i)&&n.queries.elementEnd(i)),us}function Go(i,n,e){return ds(i,n,e),us(),Go}function Me(){return wt()}function Yp(i){return!!i&&"function"==typeof i.then}function $P(i){return!!i&&"function"==typeof i.subscribe}const b0=$P;function ie(i,n,e,t){const o=wt(),s=wn(),r=ys();return HP(s,o,o[on],r,i,n,t),ie}function Xp(i,n){const e=ys(),t=wt(),o=wn();return HP(o,t,wP(tx(o.data),e,t),e,i,n),Xp}function HP(i,n,e,t,o,s,r){const a=yg(t),c=i.firstCreatePass&&CP(i),A=n[Fo],D=xP(n);let te=!0;if(3&t.type||r){const ke=Lr(t,n),Pe=r?r(ke):ke,ze=D.length,at=r?_t=>r(vs(_t[t.index])):t.index;let it=null;if(!r&&a&&(it=function n8(i,n,e,t){const o=i.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const r=o[s];if(r===e&&o[s+1]===t){const a=n[Ou],l=o[s+2];return a.length>l?a[l]:null}"string"==typeof r&&(s+=2)}return null}(i,n,o,t.index)),null!==it)(it.__ngLastListenerFn__||it).__ngNextListenerFn__=s,it.__ngLastListenerFn__=s,te=!1;else{s=jP(t,n,A,s,!1);const _t=e.listen(Pe,o,s);D.push(s,_t),c&&c.push(o,at,ze,ze+1)}}else s=jP(t,n,A,s,!1);const se=t.outputs;let le;if(te&&null!==se&&(le=se[o])){const ke=le.length;if(ke)for(let Pe=0;Pe<ke;Pe+=2){const Nt=n[le[Pe]][le[Pe+1]].subscribe(s),_i=D.length;D.push(s,Nt),c&&c.push(o,t.index,_i,-(_i+1))}}}function zP(i,n,e,t){try{return la(6,n,e),!1!==e(t)}catch(o){return kP(i,o),!1}finally{la(7,n,e)}}function jP(i,n,e,t,o){return function s(r){if(r===Function)return t;h0(i.componentOffset>-1?Nr(i.index,n):n);let l=zP(n,e,t,r),c=s.__ngNextListenerFn__;for(;c;)l=zP(n,e,c,r)&&l,c=c.__ngNextListenerFn__;return o&&!1===l&&(r.preventDefault(),r.returnValue=!1),l}}function I(i=1){return function cH(i){return(Hi.lFrame.contextLView=function dH(i,n){for(;i>0;)n=n[Ru],i--;return n}(i,Hi.lFrame.contextLView))[Fo]}(i)}function o8(i,n){let e=null;const t=function E9(i){const n=i.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(i);for(let o=0;o<n.length;o++){const s=n[o];if("*"!==s){if(null===t?qM(i,s,!0):R9(t,s))return o}else e=o}return e}function Li(i){const n=wt()[Ls][Fs];if(!n.projection){const t=n.projection=Fp(i?i.length:1,null),o=t.slice();let s=n.child;for(;null!==s;){const r=i?o8(s,i):0;null!==r&&(o[r]?o[r].projectionNext=s:t[r]=s,o[r]=s),s=s.next}}}function Ft(i,n=0,e){const t=wt(),o=wn(),s=Qu(o,po+i,16,null,e||null);null===s.projection&&(s.projection=n),Qy(),32!=(32&s.flags)&&function Cz(i,n,e){yM(n[on],0,n,e,uM(i,e,n),fM(e.parent||n[Fs],e,n))}(o,t,s)}function Ei(i,n,e){return qp(i,"",n,"",e),Ei}function qp(i,n,e,t,o){const s=wt(),r=th(s,n,e,t);return r!==zi&&Hr(wn(),vo(),s,i,r,s[on],o,!1),qp}function e_(i,n){return i<<17|n<<2}function Zc(i){return i>>17&32767}function v0(i){return 2|i}function Nd(i){return(131068&i)>>2}function y0(i,n){return-131069&i|n<<2}function x0(i){return 1|i}function JP(i,n,e,t,o){const s=i[e+1],r=null===n;let a=t?Zc(s):Nd(s),l=!1;for(;0!==a&&(!1===l||r);){const A=i[a+1];d8(i[a],n)&&(l=!0,i[a+1]=t?x0(A):v0(A)),a=t?Zc(A):Nd(A)}l&&(i[e+1]=t?v0(s):x0(s))}function d8(i,n){return null===i||null==n||(Array.isArray(i)?i[1]:i)===n||!(!Array.isArray(i)||"string"!=typeof n)&&Wu(i,n)>=0}const ts={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function QP(i){return i.substring(ts.key,ts.keyEnd)}function eT(i,n){const e=ts.textEnd;return e===n?-1:(n=ts.keyEnd=function m8(i,n,e){for(;n<e&&i.charCodeAt(n)>32;)n++;return n}(i,ts.key=n,e),ch(i,n,e))}function ch(i,n,e){for(;n<e&&i.charCodeAt(n)<=32;)n++;return n}function et(i,n,e){return za(i,n,e,!1),et}function St(i,n){return za(i,n,null,!0),St}function C0(i){ja(Br,Sl,i,!0)}function Sl(i,n){for(let e=function h8(i){return function iT(i){ts.key=0,ts.keyEnd=0,ts.value=0,ts.valueEnd=0,ts.textEnd=i.length}(i),eT(i,ch(i,0,ts.textEnd))}(n);e>=0;e=eT(n,e))Br(i,QP(n),!0)}function za(i,n,e,t){const o=wt(),s=wn(),r=dc(2);s.firstUpdatePass&&rT(s,i,r,t),n!==zi&&Bs(o,r,n)&&lT(s,s.data[er()],o,o[on],i,o[r+1]=function k8(i,n){return null==i||("string"==typeof n?i+=n:"object"==typeof i&&(i=Sn(Vr(i)))),i}(n,e),t,r)}function ja(i,n,e,t){const o=wn(),s=dc(2);o.firstUpdatePass&&rT(o,null,s,t);const r=wt();if(e!==zi&&Bs(r,s,e)){const a=o.data[er()];if(dT(a,t)&&!sT(o,s)){let l=t?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=fl(l,e||"")),_0(o,a,r,e,t)}else!function w8(i,n,e,t,o,s,r,a){o===zi&&(o=Bn);let l=0,c=0,A=0<o.length?o[0]:null,D=0<s.length?s[0]:null;for(;null!==A||null!==D;){const te=l<o.length?o[l+1]:void 0,se=c<s.length?s[c+1]:void 0;let ke,le=null;A===D?(l+=2,c+=2,te!==se&&(le=D,ke=se)):null===D||null!==A&&A<D?(l+=2,le=A):(c+=2,le=D,ke=se),null!==le&&lT(i,n,e,t,le,ke,r,a),A=l<o.length?o[l]:null,D=c<s.length?s[c]:null}}(o,a,r,r[on],r[s+1],r[s+1]=function C8(i,n,e){if(null==e||""===e)return Bn;const t=[],o=Vr(e);if(Array.isArray(o))for(let s=0;s<o.length;s++)i(t,o[s],!0);else if("object"==typeof o)for(const s in o)o.hasOwnProperty(s)&&i(t,s,o[s]);else"string"==typeof o&&n(t,o);return t}(i,n,e),t,s)}}function sT(i,n){return n>=i.expandoStartIndex}function rT(i,n,e,t){const o=i.data;if(null===o[e+1]){const s=o[er()],r=sT(i,e);dT(s,t)&&null===n&&!r&&(n=!1),n=function b8(i,n,e,t){const o=tx(i);let s=t?n.residualClasses:n.residualStyles;if(null===o)0===(t?n.classBindings:n.styleBindings)&&(e=Jp(e=w0(null,i,n,e,t),n.attrs,t),s=null);else{const r=n.directiveStylingLast;if(-1===r||i[r]!==o)if(e=w0(o,i,n,e,t),null===s){let l=function v8(i,n,e){const t=e?n.classBindings:n.styleBindings;if(0!==Nd(t))return i[Zc(t)]}(i,n,t);void 0!==l&&Array.isArray(l)&&(l=w0(null,i,n,l[1],t),l=Jp(l,n.attrs,t),function y8(i,n,e,t){i[Zc(e?n.classBindings:n.styleBindings)]=t}(i,n,t,l))}else s=function x8(i,n,e){let t;const o=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<o;s++)t=Jp(t,i[s].hostAttrs,e);return Jp(t,n.attrs,e)}(i,n,t)}return void 0!==s&&(t?n.residualClasses=s:n.residualStyles=s),e}(o,s,n,t),function l8(i,n,e,t,o,s){let r=s?n.classBindings:n.styleBindings,a=Zc(r),l=Nd(r);i[t]=e;let A,c=!1;if(Array.isArray(e)?(A=e[1],(null===A||Wu(e,A)>0)&&(c=!0)):A=e,o)if(0!==l){const te=Zc(i[a+1]);i[t+1]=e_(te,a),0!==te&&(i[te+1]=y0(i[te+1],t)),i[a+1]=function r8(i,n){return 131071&i|n<<17}(i[a+1],t)}else i[t+1]=e_(a,0),0!==a&&(i[a+1]=y0(i[a+1],t)),a=t;else i[t+1]=e_(l,0),0===a?a=t:i[l+1]=y0(i[l+1],t),l=t;c&&(i[t+1]=v0(i[t+1])),JP(i,A,t,!0),JP(i,A,t,!1),function c8(i,n,e,t,o){const s=o?i.residualClasses:i.residualStyles;null!=s&&"string"==typeof n&&Wu(s,n)>=0&&(e[t+1]=x0(e[t+1]))}(n,A,i,t,s),r=e_(a,l),s?n.classBindings=r:n.styleBindings=r}(o,s,n,e,r,t)}}function w0(i,n,e,t,o){let s=null;const r=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<r&&(s=n[a],t=Jp(t,s.hostAttrs,o),s!==i);)a++;return null!==i&&(e.directiveStylingLast=a),t}function Jp(i,n,e){const t=e?1:2;let o=-1;if(null!==n)for(let s=0;s<n.length;s++){const r=n[s];"number"==typeof r?o=r:o===t&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Br(i,r,!!e||n[++s]))}return void 0===i?null:i}function lT(i,n,e,t,o,s,r,a){if(!(3&n.type))return;const l=i.data,c=l[a+1],A=function a8(i){return 1==(1&i)}(c)?cT(l,n,e,o,Nd(c),r):void 0;t_(A)||(t_(s)||function s8(i){return 2==(2&i)}(c)&&(s=cT(l,null,e,o,a,r)),function kz(i,n,e,t,o){if(n)o?i.addClass(e,t):i.removeClass(e,t);else{let s=-1===t.indexOf("-")?void 0:br.DashCase;null==o?i.removeStyle(e,t,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=br.Important),i.setStyle(e,t,o,s))}}(t,r,xg(er(),e),o,s))}function cT(i,n,e,t,o,s){const r=null===n;let a;for(;o>0;){const l=i[o],c=Array.isArray(l),A=c?l[1]:l,D=null===A;let te=e[o+1];te===zi&&(te=D?Bn:void 0);let se=D?fx(te,t):A===t?te:void 0;if(c&&!t_(se)&&(se=fx(l,t)),t_(se)&&(a=se,r))return a;const le=i[o+1];o=r?Zc(le):Nd(le)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=fx(l,t))}return a}function t_(i){return void 0!==i}function dT(i,n){return 0!=(i.flags&(n?8:16))}function ee(i,n=""){const e=wt(),t=wn(),o=i+po,s=t.firstCreatePass?Qu(t,o,1,n,null):t.data[o],r=e[o]=function Sx(i,n){return i.createText(n)}(e[on],n);Lg(t,e,r,s),vl(s,!1)}function Je(i){return Mt("",i,""),Je}function Mt(i,n,e){const t=wt(),o=th(t,i,n,e);return o!==zi&&mc(t,er(),o),Mt}function fc(i,n,e,t,o){const s=wt(),r=function ih(i,n,e,t,o,s){const a=Ld(i,cc(),e,o);return dc(2),a?n+Fi(e)+t+Fi(o)+s:zi}(s,i,n,e,t,o);return r!==zi&&mc(s,er(),r),fc}function k0(i,n,e,t,o,s,r){const a=wt(),l=nh(a,i,n,e,t,o,s,r);return l!==zi&&mc(a,er(),l),k0}function hs(i,n,e){ja(Br,Sl,th(wt(),i,n,e),!0)}function ps(i,n,e){const t=wt();return Bs(t,Bu(),n)&&Hr(wn(),vo(),t,i,n,t[on],e,!0),ps}function Qp(i,n,e){const t=wt();if(Bs(t,Bu(),n)){const s=wn(),r=vo();Hr(s,r,t,i,n,wP(tx(s.data),r,t),e,!0)}return Qp}const uh="en-US";let PT=uh;function S0(i,n,e,t,o){if(i=ki(i),Array.isArray(i))for(let s=0;s<i.length;s++)S0(i[s],n,e,t,o);else{const s=wn(),r=wt();let a=Rd(i)?i:ki(i.provide),l=GM(i);const c=ys(),A=1048575&c.providerIndexes,D=c.directiveStart,te=c.providerIndexes>>20;if(Rd(i)||!i.multi){const se=new Ep(l,o,P),le=P0(a,n,o?A:A+te,D);-1===le?(ux(Pg(c,r),s,a),M0(s,i,n.length),n.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),e.push(se),r.push(se)):(e[le]=se,r[le]=se)}else{const se=P0(a,n,A+te,D),le=P0(a,n,A,A+te),Pe=le>=0&&e[le];if(o&&!Pe||!o&&!(se>=0&&e[se])){ux(Pg(c,r),s,a);const ze=function $G(i,n,e,t,o){const s=new Ep(i,e,P);return s.multi=[],s.index=n,s.componentProviders=0,eE(s,o,t&&!e),s}(o?VG:BG,e.length,o,t,l);!o&&Pe&&(e[le].providerFactory=ze),M0(s,i,n.length,0),n.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),e.push(ze),r.push(ze)}else M0(s,i,se>-1?se:le,eE(e[o?le:se],l,!o&&t));!o&&t&&Pe&&e[le].componentProviders++}}}function M0(i,n,e,t){const o=Rd(n),s=function o9(i){return!!i.useClass}(n);if(o||s){const l=(s?ki(n.useClass):n).prototype.ngOnDestroy;if(l){const c=i.destroyHooks||(i.destroyHooks=[]);if(!o&&n.multi){const A=c.indexOf(e);-1===A?c.push(e,[t,l]):c[A+1].push(t,l)}else c.push(e,l)}}}function eE(i,n,e){return e&&i.componentProviders++,i.multi.push(n)-1}function P0(i,n,e,t){for(let o=e;o<t;o++)if(n[o]===i)return o;return-1}function BG(i,n,e,t){return T0(this.multi,[])}function VG(i,n,e,t){const o=this.multi;let s;if(this.providerFactory){const r=this.providerFactory.componentProviders,a=Td(e,e[ri],this.providerFactory.index,t);s=a.slice(0,r),T0(o,s);for(let l=r;l<a.length;l++)s.push(a[l])}else s=[],T0(o,s);return s}function T0(i,n){for(let e=0;e<i.length;e++)n.push((0,i[e])());return n}function Ct(i,n=[]){return e=>{e.providersResolver=(t,o)=>function NG(i,n,e){const t=wn();if(t.firstCreatePass){const o=Na(i);S0(e,t.data,t.blueprint,o,!0),S0(n,t.data,t.blueprint,o,!1)}}(t,o?o(i):i,n)}}class hh{}class tE{}class iE extends hh{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new IP(this);const t=Rr(n);this._bootstrapComponents=pc(t.bootstrap),this._r3Injector=oP(n,e,[{provide:hh,useValue:this},{provide:Va,useValue:this.componentFactoryResolver}],Sn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class E0 extends tE{constructor(n){super(),this.moduleType=n}create(n){return new iE(this.moduleType,n)}}class zG extends hh{constructor(n,e,t){super(),this.componentFactoryResolver=new IP(this),this.instance=null;const o=new jM([...n,{provide:hh,useValue:this},{provide:Va,useValue:this.componentFactoryResolver}],e||Gg(),t,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function r_(i,n,e=null){return new zG(i,n,e).injector}let jG=(()=>{class i{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const t=VM(0,e.type),o=t.length>0?r_([t],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,o)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=dt({token:i,providedIn:"environment",factory:()=>new i(Le(wl))}),i})();function D0(i){i.getStandaloneInjector=n=>n.get(jG).getOrCreateStandaloneInjector(i)}function ms(i,n,e){const t=Qs()+i,o=wt();return o[t]===zi?Il(o,t,e?n.call(e):n()):Kp(o,t)}function qe(i,n,e,t){return dE(wt(),Qs(),i,n,e,t)}function Ii(i,n,e,t,o){return function uE(i,n,e,t,o,s,r){const a=n+e;return Ld(i,a,o,s)?Il(i,a+2,r?t.call(r,o,s):t(o,s)):rm(i,a+2)}(wt(),Qs(),i,n,e,t,o)}function fs(i,n,e,t,o,s){return function hE(i,n,e,t,o,s,r,a){const l=n+e;return Qg(i,l,o,s,r)?Il(i,l+3,a?t.call(a,o,s,r):t(o,s,r)):rm(i,l+3)}(wt(),Qs(),i,n,e,t,o,s)}function ph(i,n,e,t,o,s,r){return function pE(i,n,e,t,o,s,r,a,l){const c=n+e;return da(i,c,o,s,r,a)?Il(i,c+4,l?t.call(l,o,s,r,a):t(o,s,r,a)):rm(i,c+4)}(wt(),Qs(),i,n,e,t,o,s,r)}function sm(i,n,e,t,o,s,r,a){const l=Qs()+i,c=wt(),A=da(c,l,e,t,o,s);return Bs(c,l+4,r)||A?Il(c,l+5,a?n.call(a,e,t,o,s,r):n(e,t,o,s,r)):Kp(c,l+5)}function rm(i,n){const e=i[n];return e===zi?void 0:e}function dE(i,n,e,t,o,s){const r=n+e;return Bs(i,r,o)?Il(i,r+1,s?t.call(s,o):t(o)):rm(i,r+1)}function R0(i,n){const e=wn();let t;const o=i+po;e.firstCreatePass?(t=function t6(i,n){if(n)for(let e=n.length-1;e>=0;e--){const t=n[e];if(i===t.name)return t}}(n,e.pipeRegistry),e.data[o]=t,t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(o,t.onDestroy)):t=e.data[o];const s=t.factory||(t.factory=Md(t.type)),r=aa(P);try{const a=Mg(!1),l=s();return Mg(a),function e8(i,n,e,t){e>=i.data.length&&(i.data[e]=null,i.blueprint[e]=null),n[e]=t}(e,wt(),o,l),l}finally{aa(r)}}function F0(i,n,e){const t=i+po,o=wt(),s=Nu(o,t);return function am(i,n){return i[ri].data[n].pure}(o,t)?dE(o,Qs(),n,s.transform,e,s):s.transform(e)}function L0(i){return n=>{setTimeout(i,void 0,n)}}const tt=class r6 extends R{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,t){let o=n,s=e||(()=>null),r=t;if(n&&"object"==typeof n){const l=n;o=l.next?.bind(l),s=l.error?.bind(l),r=l.complete?.bind(l)}this.__isAsync&&(s=L0(s),o&&(o=L0(o)),r&&(r=L0(r)));const a=super.subscribe({next:o,error:s,complete:r});return n instanceof z&&n.add(a),a}};function a6(){return this._results[Symbol.iterator]()}class Ml{get changes(){return this._changes||(this._changes=new tt)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ml.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=a6)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const t=this;t.dirty=!1;const o=function ca(i){return i.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function MH(i,n,e){if(i.length!==n.length)return!1;for(let t=0;t<i.length;t++){let o=i[t],s=n[t];if(e&&(o=e(o),s=e(s)),s!==o)return!1}return!0}(t._results,o,e))&&(t._results=o,t.length=o.length,t.last=o[this.length-1],t.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let $n=(()=>{class i{}return i.__NG_ELEMENT_ID__=d6,i})();const l6=$n,c6=class extends l6{constructor(n,e,t){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=t}createEmbeddedView(n,e){const t=this._declarationTContainer.tView,o=Ug(this._declarationLView,t,n,16,null,t.declTNode,null,null,null,null,e||null);o[Sp]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[bl];return null!==r&&(o[bl]=r.createEmbeddedView(t)),n0(t,o,n),new Up(o)}};function d6(){return a_(ys(),wt())}function a_(i,n){return 4&i.type?new c6(n,i,Xu(i,n)):null}let Ri=(()=>{class i{}return i.__NG_ELEMENT_ID__=u6,i})();function u6(){return _E(ys(),wt())}const h6=Ri,fE=class extends h6{constructor(n,e,t){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=t}get element(){return Xu(this._hostTNode,this._hostLView)}get injector(){return new $u(this._hostTNode,this._hostLView)}get parentInjector(){const n=dx(this._hostTNode,this._hostLView);if(MS(n)){const e=Sg(n,this._hostLView),t=Ag(n);return new $u(e[ri].data[t+8],e)}return new $u(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=gE(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-Js}createEmbeddedView(n,e,t){let o,s;"number"==typeof t?o=t:null!=t&&(o=t.index,s=t.injector);const r=n.createEmbeddedView(e||{},s);return this.insert(r,o),r}createComponent(n,e,t,o,s){const r=n&&!Rp(n);let a;if(r)a=e;else{const D=e||{};a=D.index,t=D.injector,o=D.projectableNodes,s=D.environmentInjector||D.ngModuleRef}const l=r?n:new Zp(Un(n)),c=t||this.parentInjector;if(!s&&null==l.ngModule){const te=(r?c:this.parentInjector).get(wl,null);te&&(s=te)}const A=l.create(c,o,void 0,s);return this.insert(A.hostView,a),A}insert(n,e){const t=n._lView,o=t[ri];if(function J$(i){return La(i[So])}(t)){const A=this.indexOf(n);if(-1!==A)this.detach(A);else{const D=t[So],te=new fE(D,D[Fs],D[So]);te.detach(te.indexOf(n))}}const s=this._adjustIndex(e),r=this._lContainer;!function gz(i,n,e,t){const o=Js+t,s=e.length;t>0&&(e[o-1][Fa]=n),t<s-Js?(n[Fa]=e[o],$S(e,Js+t,n)):(e.push(n),n[Fa]=null),n[So]=e;const r=n[Sp];null!==r&&e!==r&&function _z(i,n){const e=i[Lu];n[Ls]!==n[So][So][Ls]&&(i[tS]=!0),null===e?i[Lu]=[n]:e.push(n)}(r,n);const a=n[bl];null!==a&&a.insertView(i),n[Xi]|=64}(o,t,r,s);const a=Dx(s,r),l=t[on],c=Fg(l,r[bg]);return null!==c&&function pz(i,n,e,t,o,s){t[lc]=o,t[Fs]=n,Hp(i,t,e,1,o,s)}(o,r[Fs],l,t,c,a),n.attachToViewContainerRef(),$S(N0(r),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=gE(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),t=Px(this._lContainer,e);t&&(Eg(N0(this._lContainer),e),dM(t[ri],t))}detach(n){const e=this._adjustIndex(n,-1),t=Px(this._lContainer,e);return t&&null!=Eg(N0(this._lContainer),e)?new Up(t):null}_adjustIndex(n,e=0){return n??this.length+e}};function gE(i){return i[vg]}function N0(i){return i[vg]||(i[vg]=[])}function _E(i,n){let e;const t=n[i.index];if(La(t))e=t;else{let o;if(8&i.type)o=vs(t);else{const s=n[on];o=s.createComment("");const r=Lr(i,n);Dd(s,Fg(s,r),o,function xz(i,n){return i.nextSibling(n)}(s,r),!1)}n[i.index]=e=yP(t,n,o,i),Kg(n,e)}return new fE(e,i,n)}class B0{constructor(n){this.queryList=n,this.matches=null}clone(){return new B0(this.queryList)}setDirty(){this.queryList.setDirty()}}class V0{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const t=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let s=0;s<t;s++){const r=e.getByIndex(s);o.push(this.queries[r.indexInDeclarationView].clone())}return new V0(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==CE(n,e).matches&&this.queries[e].setDirty()}}class bE{constructor(n,e,t=null){this.predicate=n,this.flags=e,this.read=t}}class $0{constructor(n=[]){this.queries=n}elementStart(n,e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let t=0;t<this.length;t++){const o=null!==e?e.length:0,s=this.getByIndex(t).embeddedTView(n,o);s&&(s.indexInDeclarationView=t,null!==e?e.push(s):e=[s])}return null!==e?new $0(e):null}template(n,e){for(let t=0;t<this.queries.length;t++)this.queries[t].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class H0{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new H0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let t=n.parent;for(;null!==t&&8&t.type&&t.index!==e;)t=t.parent;return e===(null!==t?t.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const t=this.metadata.predicate;if(Array.isArray(t))for(let o=0;o<t.length;o++){const s=t[o];this.matchTNodeWithReadOption(n,e,p6(e,s)),this.matchTNodeWithReadOption(n,e,Tg(e,n,s,!1,!1))}else t===$n?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Tg(e,n,t,!1,!1))}matchTNodeWithReadOption(n,e,t){if(null!==t){const o=this.metadata.read;if(null!==o)if(o===$e||o===Ri||o===$n&&4&e.type)this.addMatch(e.index,-2);else{const s=Tg(e,n,o,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,t)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function p6(i,n){const e=i.localNames;if(null!==e)for(let t=0;t<e.length;t+=2)if(e[t]===n)return e[t+1];return null}function f6(i,n,e,t){return-1===e?function m6(i,n){return 11&i.type?Xu(i,n):4&i.type?a_(i,n):null}(n,i):-2===e?function g6(i,n,e){return e===$e?Xu(n,i):e===$n?a_(n,i):e===Ri?_E(n,i):void 0}(i,n,t):Td(i,i[ri],e,n)}function vE(i,n,e,t){const o=n[bl].queries[t];if(null===o.matches){const s=i.data,r=e.matches,a=[];for(let l=0;l<r.length;l+=2){const c=r[l];a.push(c<0?null:f6(n,s[c],r[l+1],e.metadata.read))}o.matches=a}return o.matches}function z0(i,n,e,t){const o=i.queries.getByIndex(e),s=o.matches;if(null!==s){const r=vE(i,n,o,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)t.push(r[a/2]);else{const c=s[a+1],A=n[-l];for(let D=Js;D<A.length;D++){const te=A[D];te[Sp]===te[So]&&z0(te[ri],te,c,t)}if(null!==A[Lu]){const D=A[Lu];for(let te=0;te<D.length;te++){const se=D[te];z0(se[ri],se,c,t)}}}}}return t}function Ke(i){const n=wt(),e=wn(),t=bS();ix(t+1);const o=CE(e,t);if(i.dirty&&function q$(i){return 4==(4&i[Xi])}(n)===(2==(2&o.metadata.flags))){if(null===o.matches)i.reset([]);else{const s=o.crossesNgTemplate?z0(e,n,t,[]):vE(e,n,o,t);i.reset(s,f9),i.notifyOnChanges()}return!0}return!1}function ht(i,n,e){const t=wn();t.firstCreatePass&&(xE(t,new bE(i,n,e),-1),2==(2&n)&&(t.staticViewQueries=!0)),yE(t,wt(),n)}function fi(i,n,e,t){const o=wn();if(o.firstCreatePass){const s=ys();xE(o,new bE(n,e,t),s.index),function b6(i,n){const e=i.contentQueries||(i.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(i.queries.length-1,n)}(o,i),2==(2&e)&&(o.staticContentQueries=!0)}yE(o,wt(),e)}function Ye(){return function _6(i,n){return i[bl].queries[n].queryList}(wt(),bS())}function yE(i,n,e){const t=new Ml(4==(4&e));mP(i,n,t,t.destroy),null===n[bl]&&(n[bl]=new V0),n[bl].queries.push(new B0(t))}function xE(i,n,e){null===i.queries&&(i.queries=new $0),i.queries.track(new H0(n,e))}function CE(i,n){return i.queries.getByIndex(n)}function is(i,n){return a_(i,n)}function c_(...i){}const d_=new nt("Application Initializer");let u_=(()=>{class i{constructor(e){this.appInits=e,this.resolve=c_,this.reject=c_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,o)=>{this.resolve=t,this.reject=o})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const s=this.appInits[o]();if(Yp(s))e.push(s);else if(b0(s)){const r=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(r)}}Promise.all(e).then(()=>{t()}).catch(o=>{this.reject(o)}),0===e.length&&t(),this.initialized=!0}}return i.\u0275fac=function(e){return new(e||i)(Le(d_,8))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const gh=new nt("AppId",{providedIn:"root",factory:function $E(){return`${K0()}${K0()}${K0()}`}});function K0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const HE=new nt("Platform Initializer"),h_=new nt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yn=new nt("AnimationModuleType");let B6=(()=>{class i{log(e){console.log(e)}warn(e){console.warn(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Pl=new nt("LocaleId",{providedIn:"root",factory:()=>di(Pl,Pi.Optional|Pi.SkipSelf)||function V6(){return typeof $localize<"u"&&$localize.locale||uh}()});class H6{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let zE=(()=>{class i{compileModuleSync(e){return new E0(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const t=this.compileModuleSync(e),s=pc(Rr(e).declarations).reduce((r,a)=>{const l=Un(a);return l&&r.push(new Zp(l)),r},[]);return new H6(t,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const G6=(()=>Promise.resolve(0))();function Y0(i){typeof Zone>"u"?G6.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Bt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tt(!1),this.onMicrotaskEmpty=new tt(!1),this.onStable=new tt(!1),this.onError=new tt(!1),typeof Zone>"u")throw new mt(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!t&&e,o.shouldCoalesceRunChangeDetection=t,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function W6(){let i=ho.requestAnimationFrame,n=ho.cancelAnimationFrame;if(typeof Zone<"u"&&i&&n){const e=i[Zone.__symbol__("OriginalDelegate")];e&&(i=e);const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function K6(i){const n=()=>{!function Z6(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ho,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,q0(i),i.isCheckStableRunning=!0,X0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),q0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,t,o,s,r,a)=>{try{return WE(i),e.invokeTask(o,s,r,a)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||i.shouldCoalesceRunChangeDetection)&&n(),UE(i)}},onInvoke:(e,t,o,s,r,a,l)=>{try{return WE(i),e.invoke(o,s,r,a,l)}finally{i.shouldCoalesceRunChangeDetection&&n(),UE(i)}},onHasTask:(e,t,o,s)=>{e.hasTask(o,s),t===o&&("microTask"==s.change?(i._hasPendingMicrotasks=s.microTask,q0(i),X0(i)):"macroTask"==s.change&&(i.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,t,o,s)=>(e.handleError(o,s),i.runOutsideAngular(()=>i.onError.emit(s)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bt.isInAngularZone())throw new mt(909,!1)}static assertNotInAngularZone(){if(Bt.isInAngularZone())throw new mt(909,!1)}run(n,e,t){return this._inner.run(n,e,t)}runTask(n,e,t,o){const s=this._inner,r=s.scheduleEventTask("NgZoneEvent: "+o,n,U6,c_,c_);try{return s.runTask(r,e,t)}finally{s.cancelTask(r)}}runGuarded(n,e,t){return this._inner.runGuarded(n,e,t)}runOutsideAngular(n){return this._outer.run(n)}}const U6={};function X0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function q0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function WE(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function UE(i){i._nesting--,X0(i)}class Y6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tt,this.onMicrotaskEmpty=new tt,this.onStable=new tt,this.onError=new tt}run(n,e,t){return n.apply(e,t)}runGuarded(n,e,t){return n.apply(e,t)}runOutsideAngular(n){return n()}runTask(n,e,t,o){return n.apply(e,t)}}const ZE=new nt(""),p_=new nt("");let eC,J0=(()=>{class i{constructor(e,t,o){this._ngZone=e,this.registry=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,eC||(function X6(i){eC=i}(o),o.addToWindow(t)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bt.assertNotInAngularZone(),Y0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Y0(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,o){let s=-1;t&&t>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(r=>r.timeoutId!==s),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:o})}whenStable(e,t,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,t,o){return[]}}return i.\u0275fac=function(e){return new(e||i)(Le(Bt),Le(Q0),Le(p_))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),Q0=(()=>{class i{constructor(){this._applications=new Map}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return eC?.findTestabilityInTree(this,e,t)??null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const gc=!1;let Kc=null;const KE=new nt("AllowMultipleToken"),tC=new nt("PlatformDestroyListeners"),YE=new nt("appBootstrapListener");class XE{constructor(n,e){this.name=n,this.token=e}}function JE(i,n,e=[]){const t=`Platform: ${n}`,o=new nt(t);return(s=[])=>{let r=iC();if(!r||r.injector.get(KE,!1)){const a=[...e,...s,{provide:o,useValue:!0}];i?i(a):function Q6(i){if(Kc&&!Kc.get(KE,!1))throw new mt(400,!1);Kc=i;const n=i.get(eD);(function qE(i){const n=i.get(HE,null);n&&n.forEach(e=>e())})(i)}(function QE(i=[],n){return Jn.create({name:n,providers:[{provide:Gx,useValue:"platform"},{provide:tC,useValue:new Set([()=>Kc=null])},...i]})}(a,t))}return function tW(i){const n=iC();if(!n)throw new mt(401,!1);return n}()}}function iC(){return Kc?.get(eD)??null}let eD=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const o=function iD(i,n){let e;return e="noop"===i?new Y6:("zone.js"===i?void 0:i)||new Bt(n),e}(t?.ngZone,function tD(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(t)),s=[{provide:Bt,useValue:o}];return o.run(()=>{const r=Jn.create({providers:s,parent:this.injector,name:e.moduleType.name}),a=e.create(r),l=a.injector.get(hc,null);if(!l)throw new mt(402,!1);return o.runOutsideAngular(()=>{const c=o.onError.subscribe({next:A=>{l.handleError(A)}});a.onDestroy(()=>{m_(this._modules,a),c.unsubscribe()})}),function nD(i,n,e){try{const t=e();return Yp(t)?t.catch(o=>{throw n.runOutsideAngular(()=>i.handleError(o)),o}):t}catch(t){throw n.runOutsideAngular(()=>i.handleError(t)),t}}(l,o,()=>{const c=a.injector.get(u_);return c.runInitializers(),c.donePromise.then(()=>(function TT(i){Or(i,"Expected localeId to be defined"),"string"==typeof i&&(PT=i.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Pl,uh)||uh),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,t=[]){const o=oD({},t);return function q6(i,n,e){const t=new E0(e);return Promise.resolve(t)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(e){const t=e.injector.get(Vd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>t.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new mt(-403,!1);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new mt(404,!1);this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t());const e=this._injector.get(tC,null);e&&(e.forEach(t=>t()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(e){return new(e||i)(Le(Jn))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function oD(i,n){return Array.isArray(n)?n.reduce(oD,i):{...i,...n}}let Vd=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(e,t,o){this._zone=e,this._injector=t,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new U(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),r=new U(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Bt.assertNotInAngularZone(),Y0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Bt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Yi(s,r.pipe(Dr()))}bootstrap(e,t){const o=e instanceof WM;if(!this._injector.get(u_).done){!o&&function Du(i){const n=Un(i)||Rs(i)||gr(i);return null!==n&&n.standalone}(e);throw new mt(405,gc)}let r;r=o?e:this._injector.get(Va).resolveComponentFactory(e),this.componentTypes.push(r.componentType);const a=function J6(i){return i.isBoundToModule}(r)?void 0:this._injector.get(hh),c=r.create(Jn.NULL,[],t||r.selector,a),A=c.location.nativeElement,D=c.injector.get(ZE,null);return D?.registerApplication(A),c.onDestroy(()=>{this.detachView(c.hostView),m_(this.components,c),D?.unregisterApplication(A)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new mt(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;m_(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const t=this._injector.get(YE,[]);t.push(...this._bootstrapListeners),t.forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>m_(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new mt(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(e){return new(e||i)(Le(Bt),Le(wl),Le(hc))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function m_(i,n){const e=i.indexOf(n);e>-1&&i.splice(e,1)}let Zt=(()=>{class i{}return i.__NG_ELEMENT_ID__=nW,i})();function nW(i){return function oW(i,n,e){if(Pp(i)&&!e){const t=Nr(i.index,n);return new Up(t,t)}return 47&i.type?new Up(n[Ls],n):null}(ys(),wt(),16==(16&i))}class cD{constructor(){}supports(n){return Jg(n)}create(n){return new dW(n)}}const cW=(i,n)=>n;class dW{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||cW}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,t=this._removalsHead,o=0,s=null;for(;e||t;){const r=!t||e&&e.currentIndex<uD(t,o,s)?e:t,a=uD(r,o,s),l=r.currentIndex;if(r===t)o--,t=t._nextRemoved;else if(e=e._next,null==r.previousIndex)o++;else{s||(s=[]);const c=a-o,A=l-o;if(c!=A){for(let te=0;te<c;te++){const se=te<s.length?s[te]:s[te]=0,le=se+te;A<=le&&le<c&&(s[te]=se+1)}s[r.previousIndex]=A-c}}a!==l&&n(r,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Jg(n))throw new mt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,s,r,e=this._itHead,t=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)s=n[a],r=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,r)?(t&&(e=this._verifyReinsertion(e,s,r,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,r,a),t=!0),e=e._next}else o=0,function Xj(i,n){if(Array.isArray(i))for(let e=0;e<i.length;e++)n(i[e]);else{const e=i[Symbol.iterator]();let t;for(;!(t=e.next()).done;)n(t.value)}}(n,a=>{r=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,r)?(t&&(e=this._verifyReinsertion(e,a,r,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,r,o),t=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,t,o){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(t,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,s,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(t,o))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,s,o)):n=this._addAfter(new uW(e,t),s,o),n}_verifyReinsertion(n,e,t,o){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(t,null);return null!==s?n=this._reinsertAfter(s,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,t){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,s=n._nextRemoved;return null===o?this._removalsHead=s:o._nextRemoved=s,null===s?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(n,e,t),this._addToMoves(n,t),n}_moveAfter(n,e,t){return this._unlink(n),this._insertAfter(n,e,t),this._addToMoves(n,t),n}_addAfter(n,e,t){return this._insertAfter(n,e,t),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,t){const o=null===e?this._itHead:e._next;return n._next=o,n._prev=e,null===o?this._itTail=n:o._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new dD),this._linkedRecords.put(n),n.currentIndex=t,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,t=n._next;return null===e?this._itHead=t:e._next=t,null===t?this._itTail=e:t._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dD),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class uW{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hW{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let t;for(t=this._head;null!==t;t=t._nextDup)if((null===e||e<=t.currentIndex)&&Object.is(t.trackById,n))return t;return null}remove(n){const e=n._prevDup,t=n._nextDup;return null===e?this._head=t:e._nextDup=t,null===t?this._tail=e:t._prevDup=e,null===this._head}}class dD{constructor(){this.map=new Map}put(n){const e=n.trackById;let t=this.map.get(e);t||(t=new hW,this.map.set(e,t)),t.add(n)}get(n,e){const o=this.map.get(n);return o?o.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uD(i,n,e){const t=i.previousIndex;if(null===t)return t;let o=0;return e&&t<e.length&&(o=e[t]),t+n+o}class hD{constructor(){}supports(n){return n instanceof Map||g0(n)}create(){return new pW}}class pW{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||g0(n)))throw new mt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(t,o)=>{if(e&&e.key===o)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(o,t);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const t=n._prev;return e._next=n,e._prev=t,n._prev=e,t&&(t._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const o=this._records.get(n);this._maybeAddToChanges(o,e);const s=o._prev,r=o._next;return s&&(s._next=r),r&&(r._prev=s),o._next=null,o._prev=null,o}const t=new mW(n);return this._records.set(n,t),t.currentValue=e,this._addToAdditions(t),t}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(t=>e(n[t],t))}}class mW{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pD(){return new Tl([new cD])}let Tl=(()=>{class i{constructor(e){this.factories=e}static create(e,t){if(null!=t){const o=t.factories.slice();e=e.concat(o)}return new i(e)}static extend(e){return{provide:i,useFactory:t=>i.create(e,t||pD()),deps:[[i,new Ba,new _r]]}}find(e){const t=this.factories.find(o=>o.supports(e));if(null!=t)return t;throw new mt(901,!1)}}return i.\u0275prov=dt({token:i,providedIn:"root",factory:pD}),i})();function mD(){return new cm([new hD])}let cm=(()=>{class i{constructor(e){this.factories=e}static create(e,t){if(t){const o=t.factories.slice();e=e.concat(o)}return new i(e)}static extend(e){return{provide:i,useFactory:t=>i.create(e,t||mD()),deps:[[i,new Ba,new _r]]}}find(e){const t=this.factories.find(o=>o.supports(e));if(t)return t;throw new mt(901,!1)}}return i.\u0275prov=dt({token:i,providedIn:"root",factory:mD}),i})();const _W=JE(null,"core",[]);let bW=(()=>{class i{constructor(e){}}return i.\u0275fac=function(e){return new(e||i)(Le(Vd))},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({}),i})();function _h(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}let aC=null;function _c(){return aC}class xW{}const pi=new nt("DocumentToken");let __=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:function(){return function CW(){return Le(fD)}()},providedIn:"platform"}),i})();const wW=new nt("Location Initialized");let fD=(()=>{class i extends __{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _c().getBaseHref(this._doc)}onPopState(e){const t=_c().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=_c().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,t,o){gD()?this._history.pushState(e,t,o):this._location.hash=o}replaceState(e,t,o){gD()?this._history.replaceState(e,t,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(Le(pi))},i.\u0275prov=dt({token:i,factory:function(){return function kW(){return new fD(Le(pi))}()},providedIn:"platform"}),i})();function gD(){return!!window.history.pushState}function lC(i,n){if(0==i.length)return n;if(0==n.length)return i;let e=0;return i.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?i+n.substring(1):1==e?i+n:i+"/"+n}function _D(i){const n=i.match(/#|\?|$/),e=n&&n.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function bc(i){return i&&"?"!==i[0]?"?"+i:i}let Hd=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:function(){return di(vD)},providedIn:"root"}),i})();const bD=new nt("appBaseHref");let vD=(()=>{class i extends Hd{constructor(e,t){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=t??this._platformLocation.getBaseHrefFromDOM()??di(pi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return lC(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+bc(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${t}${o}`:t}pushState(e,t,o,s){const r=this.prepareExternalUrl(o+bc(s));this._platformLocation.pushState(e,t,r)}replaceState(e,t,o,s){const r=this.prepareExternalUrl(o+bc(s));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return i.\u0275fac=function(e){return new(e||i)(Le(__),Le(bD,8))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),IW=(()=>{class i extends Hd{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=lC(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,o,s){let r=this.prepareExternalUrl(o+bc(s));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,o,s){let r=this.prepareExternalUrl(o+bc(s));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return i.\u0275fac=function(e){return new(e||i)(Le(__),Le(bD,8))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),bh=(()=>{class i{constructor(e){this._subject=new tt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const t=this._locationStrategy.getBaseHref();this._basePath=function MW(i){if(new RegExp("^(https?:)?//").test(i)){const[,e]=i.split(/\/\/[^\/]+/);return e}return i}(_D(yD(t))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+bc(t))}normalize(e){return i.stripTrailingSlash(function SW(i,n){if(!i||!n.startsWith(i))return n;const e=n.substring(i.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,yD(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,t="",o=null){this._locationStrategy.pushState(o,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+bc(t)),o)}replaceState(e,t="",o=null){this._locationStrategy.replaceState(o,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+bc(t)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})),()=>{const t=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(t,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(o=>o(e,t))}subscribe(e,t,o){return this._subject.subscribe({next:e,error:t,complete:o})}}return i.normalizeQueryParams=bc,i.joinWithSlash=lC,i.stripTrailingSlash=_D,i.\u0275fac=function(e){return new(e||i)(Le(Hd))},i.\u0275prov=dt({token:i,factory:function(){return function AW(){return new bh(Le(Hd))}()},providedIn:"root"}),i})();function yD(i){return i.replace(/\/index.html$/,"")}function PD(i,n){n=encodeURIComponent(n);for(const e of i.split(";")){const t=e.indexOf("="),[o,s]=-1==t?[e,""]:[e.slice(0,t),e.slice(t+1)];if(o.trim()===n)return decodeURIComponent(s)}return null}const bC=/\s+/,TD=[];let Gt=(()=>{class i{constructor(e,t,o,s){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=o,this._renderer=s,this.initialClasses=TD,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(bC):TD}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(bC):e}ngDoCheck(){for(const t of this.initialClasses)this._updateState(t,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const t of e)this._updateState(t,!0);else if(null!=e)for(const t of Object.keys(e))this._updateState(t,Boolean(e[t]));this._applyStateDiff()}_updateState(e,t){const o=this.stateMap.get(e);void 0!==o?(o.enabled!==t&&(o.changed=!0,o.enabled=t),o.touched=!0):this.stateMap.set(e,{enabled:t,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const t=e[0],o=e[1];o.changed?(this._toggleClass(t,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(t,!1),this.stateMap.delete(t)),o.touched=!1}}_toggleClass(e,t){(e=e.trim()).length>0&&e.split(bC).forEach(o=>{t?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return i.\u0275fac=function(e){return new(e||i)(P(Tl),P(cm),P($e),P($r))},i.\u0275dir=Xe({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),i})();class h7{constructor(n,e,t,o){this.$implicit=n,this.ngForOf=e,this.index=t,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ai=(()=>{class i{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,t,o){this._viewContainer=e,this._template=t,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=this._viewContainer;e.forEachOperation((o,s,r)=>{if(null==o.previousIndex)t.createEmbeddedView(this._template,new h7(o.item,this._ngForOf,-1,-1),null===r?void 0:r);else if(null==r)t.remove(null===s?void 0:s);else if(null!==s){const a=t.get(s);t.move(a,r),OD(a,o)}});for(let o=0,s=t.length;o<s;o++){const a=t.get(o).context;a.index=o,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{OD(t.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,t){return!0}}return i.\u0275fac=function(e){return new(e||i)(P(Ri),P($n),P(Tl))},i.\u0275dir=Xe({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),i})();function OD(i,n){i.context.$implicit=n.item}let ct=(()=>{class i{constructor(e,t){this._viewContainer=e,this._context=new m7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){RD("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){RD("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return i.\u0275fac=function(e){return new(e||i)(P(Ri),P($n))},i.\u0275dir=Xe({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),i})();class m7{constructor(){this.$implicit=null,this.ngIf=null}}function RD(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${Sn(n)}'.`)}class vC{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let wr=(()=>{class i{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const t of this._defaultViews)t.enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),i})(),pa=(()=>{class i{constructor(e,t,o){this.ngSwitch=o,o._addCase(),this._view=new vC(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(P(Ri),P($n),P(wr,9))},i.\u0275dir=Xe({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),i})(),yC=(()=>{class i{constructor(e,t,o){o._addDefault(new vC(e,t))}}return i.\u0275fac=function(e){return new(e||i)(P(Ri),P($n),P(wr,9))},i.\u0275dir=Xe({type:i,selectors:[["","ngSwitchDefault",""]],standalone:!0}),i})(),vh=(()=>{class i{constructor(e,t,o){this._ngEl=e,this._differs=t,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[o,s]=e.split("."),r=-1===o.indexOf("-")?void 0:br.DashCase;null!=t?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${t}${s}`:t,r):this._renderer.removeStyle(this._ngEl.nativeElement,o,r)}_applyChanges(e){e.forEachRemovedItem(t=>this._setStyle(t.key,null)),e.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),e.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(cm),P($r))},i.\u0275dir=Xe({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),i})(),S_=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const t=this._viewContainerRef;if(this._viewRef&&t.remove(t.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:o,ngTemplateOutletContext:s,ngTemplateOutletInjector:r}=this;this._viewRef=t.createEmbeddedView(o,s,r?{injector:r}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return i.\u0275fac=function(e){return new(e||i)(P(Ri))},i.\u0275dir=Xe({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[dn]}),i})();function Ua(i,n){return new mt(2100,!1)}class g7{createSubscription(n,e){return n.subscribe({next:e,error:t=>{throw t}})}dispose(n){n.unsubscribe()}}class _7{createSubscription(n,e){return n.then(e,t=>{throw t})}dispose(n){}}const b7=new _7,v7=new g7;let LD=(()=>{class i{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(e){if(Yp(e))return b7;if($P(e))return v7;throw Ua()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(P(Zt,16))},i.\u0275pipe=Ro({name:"async",type:i,pure:!1,standalone:!0}),i})(),ND=(()=>{class i{transform(e){if(null==e)return null;if("string"!=typeof e)throw Ua();return e.toUpperCase()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=Ro({name:"uppercase",type:i,pure:!0,standalone:!0}),i})(),Gi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({}),i})();const VD="browser";let $7=(()=>{class i{}return i.\u0275prov=dt({token:i,providedIn:"root",factory:()=>new H7(Le(pi),window)}),i})();class H7{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function z7(i,n){const e=i.getElementById(n)||i.getElementsByName(n)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const t=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let o=t.currentNode;for(;o;){const s=o.shadowRoot;if(s){const r=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(r)return r}o=t.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),t=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(t-s[0],o-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=$D(this.window.history)||$D(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $D(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class HD{}class fU extends xW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class IC extends fU{static makeCurrent(){!function yW(i){aC||(aC=i)}(new IC)}onAndCancel(n,e,t){return n.addEventListener(e,t,!1),()=>{n.removeEventListener(e,t,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function gU(){return pm=pm||document.querySelector("base"),pm?pm.getAttribute("href"):null}();return null==e?null:function _U(i){T_=T_||document.createElement("a"),T_.setAttribute("href",i);const n=T_.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){pm=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return PD(document.cookie,n)}}let T_,pm=null;const UD=new nt("TRANSITION_ID"),vU=[{provide:d_,useFactory:function bU(i,n,e){return()=>{e.get(u_).donePromise.then(()=>{const t=_c(),o=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let s=0;s<o.length;s++)t.remove(o[s])})}},deps:[UD,pi,Jn],multi:!0}];let xU=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();const E_=new nt("EventManagerPlugins");let D_=(()=>{class i{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,t,o){return this._findPluginFor(t).addEventListener(e,t,o)}addGlobalEventListener(e,t,o){return this._findPluginFor(t).addGlobalEventListener(e,t,o)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const o=this._plugins;for(let s=0;s<o.length;s++){const r=o[s];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(Le(E_),Le(Bt))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();class ZD{constructor(n){this._doc=n}addGlobalEventListener(n,e,t){const o=_c().getGlobalEventTarget(this._doc,n);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,t)}}let KD=(()=>{class i{constructor(){this.usageCount=new Map}addStyles(e){for(const t of e)1===this.changeUsageCount(t,1)&&this.onStyleAdded(t)}removeStyles(e){for(const t of e)0===this.changeUsageCount(t,-1)&&this.onStyleRemoved(t)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,t){const o=this.usageCount;let s=o.get(e)??0;return s+=t,s>0?o.set(e,s):o.delete(e),s}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),mm=(()=>{class i extends KD{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const t of this.hostNodes)this.addStyleToHost(t,e)}onStyleRemoved(e){const t=this.styleRef;t.get(e)?.forEach(s=>s.remove()),t.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const t of this.getAllStyles())this.addStyleToHost(e,t)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,t){const o=this.doc.createElement("style");o.textContent=t,e.appendChild(o);const s=this.styleRef.get(t);s?s.push(o):this.styleRef.set(t,[o])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return i.\u0275fac=function(e){return new(e||i)(Le(pi))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();const AC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},SC=/%COMP%/g,qD=new nt("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function JD(i,n){return n.flat(100).map(e=>e.replace(SC,i))}function QD(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let O_=(()=>{class i{constructor(e,t,o,s){this.eventManager=e,this.sharedStylesHost=t,this.appId=o,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new MC(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;const o=this.getOrCreateRenderer(e,t);return o instanceof n2?o.applyToHost(e):o instanceof PC&&o.applyStyles(),o}getOrCreateRenderer(e,t){const o=this.rendererByCompId;let s=o.get(t.id);if(!s){const r=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(t.encapsulation){case Ra.Emulated:s=new n2(r,a,t,this.appId,l);break;case Ra.ShadowDom:return new MU(r,a,e,t);default:s=new PC(r,a,t,l)}s.onDestroy=()=>o.delete(t.id),o.set(t.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(Le(D_),Le(mm),Le(gh),Le(qD))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();class MC{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(AC[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(t2(n)?n.content:n).appendChild(e)}insertBefore(n,e,t){n&&(t2(n)?n.content:n).insertBefore(e,t)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let t="string"==typeof n?document.querySelector(n):n;if(!t)throw new Error(`The selector "${n}" did not match any elements`);return e||(t.textContent=""),t}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,t,o){if(o){e=o+":"+e;const s=AC[o];s?n.setAttributeNS(s,e,t):n.setAttribute(e,t)}else n.setAttribute(e,t)}removeAttribute(n,e,t){if(t){const o=AC[t];o?n.removeAttributeNS(o,e):n.removeAttribute(`${t}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,t,o){o&(br.DashCase|br.Important)?n.style.setProperty(e,t,o&br.Important?"important":""):n.style[e]=t}removeStyle(n,e,t){t&br.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,t){n[e]=t}setValue(n,e){n.nodeValue=e}listen(n,e,t){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,QD(t)):this.eventManager.addEventListener(n,e,QD(t))}}function t2(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class MU extends MC{constructor(n,e,t,o){super(n),this.sharedStylesHost=e,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=JD(o.id,o.styles);for(const r of s){const a=document.createElement("style");a.textContent=r,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,t){return super.insertBefore(this.nodeOrShadowRoot(n),e,t)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class PC extends MC{constructor(n,e,t,o,s=t.id){super(n),this.sharedStylesHost=e,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=JD(s,t.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class n2 extends PC{constructor(n,e,t,o,s){const r=o+"-"+t.id;super(n,e,t,s,r),this.contentAttr=function IU(i){return"_ngcontent-%COMP%".replace(SC,i)}(r),this.hostAttr=function AU(i){return"_nghost-%COMP%".replace(SC,i)}(r)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const t=super.createElement(n,e);return super.setAttribute(t,this.contentAttr,""),t}}let PU=(()=>{class i extends ZD{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,o){return e.addEventListener(t,o,!1),()=>this.removeEventListener(e,t,o)}removeEventListener(e,t,o){return e.removeEventListener(t,o)}}return i.\u0275fac=function(e){return new(e||i)(Le(pi))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();const o2=["alt","control","meta","shift"],TU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EU={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let DU=(()=>{class i extends ZD{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,t,o){const s=i.parseEventName(t),r=i.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_c().onAndCancel(e,s.domEventName,r))}static parseEventName(e){const t=e.toLowerCase().split("."),o=t.shift();if(0===t.length||"keydown"!==o&&"keyup"!==o)return null;const s=i._normalizeKey(t.pop());let r="",a=t.indexOf("code");if(a>-1&&(t.splice(a,1),r="code."),o2.forEach(c=>{const A=t.indexOf(c);A>-1&&(t.splice(A,1),r+=c+".")}),r+=s,0!=t.length||0===s.length)return null;const l={};return l.domEventName=o,l.fullKey=r,l}static matchEventFullKeyCode(e,t){let o=TU[e.key]||e.key,s="";return t.indexOf("code.")>-1&&(o=e.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),o2.forEach(r=>{r!==o&&(0,EU[r])(e)&&(s+=r+".")}),s+=o,s===t)}static eventCallback(e,t,o){return s=>{i.matchEventFullKeyCode(s,e)&&o.runGuarded(()=>t(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(Le(pi))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();const r2=[{provide:h_,useValue:VD},{provide:HE,useValue:function OU(){IC.makeCurrent()},multi:!0},{provide:pi,useFactory:function FU(){return function Pz(i){Lx=i}(document),document},deps:[]}],LU=JE(_W,"browser",r2),a2=new nt(""),l2=[{provide:p_,useClass:class yU{addToWindow(n){ho.getAngularTestability=(t,o=!0)=>{const s=n.findTestabilityInTree(t,o);if(null==s)throw new Error("Could not find testability for element.");return s},ho.getAllAngularTestabilities=()=>n.getAllTestabilities(),ho.getAllAngularRootElements=()=>n.getAllRootElements(),ho.frameworkStabilizers||(ho.frameworkStabilizers=[]),ho.frameworkStabilizers.push(t=>{const o=ho.getAllAngularTestabilities();let s=o.length,r=!1;const a=function(l){r=r||l,s--,0==s&&t(r)};o.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,e,t){return null==e?null:n.getTestability(e)??(t?_c().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:ZE,useClass:J0,deps:[Bt,Q0,p_]},{provide:J0,useClass:J0,deps:[Bt,Q0,p_]}],c2=[{provide:Gx,useValue:"root"},{provide:hc,useFactory:function RU(){return new hc},deps:[]},{provide:E_,useClass:PU,multi:!0,deps:[pi,Bt,h_]},{provide:E_,useClass:DU,multi:!0,deps:[pi]},{provide:O_,useClass:O_,deps:[D_,mm,gh,qD]},{provide:Gp,useExisting:O_},{provide:KD,useExisting:mm},{provide:mm,useClass:mm,deps:[pi]},{provide:D_,useClass:D_,deps:[E_,Bt]},{provide:HD,useClass:xU,deps:[]},[]];let d2=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:gh,useValue:e.appId},{provide:UD,useExisting:gh},vU]}}}return i.\u0275fac=function(e){return new(e||i)(Le(a2,12))},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[...c2,...l2],imports:[Gi,bW]}),i})(),u2=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return i.\u0275fac=function(e){return new(e||i)(Le(pi))},i.\u0275prov=dt({token:i,factory:function(e){let t=null;return t=e?new e:function BU(){return new u2(Le(pi))}(),t},providedIn:"root"}),i})();typeof window<"u"&&window;let fm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:function(e){let t=null;return t=e?new(e||i):Le(m2),t},providedIn:"root"}),i})(),m2=(()=>{class i extends fm{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case Vn.NONE:return t;case Vn.HTML:return Cl(t,"HTML")?Vr(t):OM(this._doc,String(t)).toString();case Vn.STYLE:return Cl(t,"Style")?Vr(t):t;case Vn.SCRIPT:if(Cl(t,"Script"))return Vr(t);throw new Error("unsafe value used in a script context");case Vn.URL:return Cl(t,"URL")?Vr(t):$g(String(t));case Vn.RESOURCE_URL:if(Cl(t,"ResourceURL"))return Vr(t);throw new Error(`unsafe value used in a resource URL context (see ${kd})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${kd})`)}}bypassSecurityTrustHtml(e){return function Lz(i){return new Tz(i)}(e)}bypassSecurityTrustStyle(e){return function Nz(i){return new Ez(i)}(e)}bypassSecurityTrustScript(e){return function Bz(i){return new Dz(i)}(e)}bypassSecurityTrustUrl(e){return function Vz(i){return new Oz(i)}(e)}bypassSecurityTrustResourceUrl(e){return function $z(i){return new Rz(i)}(e)}}return i.\u0275fac=function(e){return new(e||i)(Le(pi))},i.\u0275prov=dt({token:i,factory:function(e){let t=null;return t=e?new e:function jU(i){return new m2(i.get(pi))}(Le(Jn)),t},providedIn:"root"}),i})();function Ht(...i){return Dn(i,oo(i))}class xo extends R{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:t}=this;if(n)throw e;return this._throwIfClosed(),t}next(n){super.next(this._value=n)}}const R_=M(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:GU}=Array,{getPrototypeOf:WU,prototype:UU,keys:ZU}=Object;function f2(i){if(1===i.length){const n=i[0];if(GU(n))return{args:n,keys:null};if(function KU(i){return i&&"object"==typeof i&&WU(i)===UU}(n)){const e=ZU(n);return{args:e.map(t=>n[t]),keys:e}}}return{args:i,keys:null}}const{isArray:YU}=Array;function DC(i){return we(n=>function XU(i,n){return YU(n)?i(...n):i(n)}(i,n))}function g2(i,n){return i.reduce((e,t,o)=>(e[t]=n[o],e),{})}function yh(...i){const n=oo(i),e=no(i),{args:t,keys:o}=f2(i);if(0===t.length)return Dn([],n);const s=new U(function qU(i,n,e=w){return t=>{_2(n,()=>{const{length:o}=i,s=new Array(o);let r=o,a=o;for(let l=0;l<o;l++)_2(n,()=>{const c=Dn(i[l],n);let A=!1;c.subscribe(xe(t,D=>{s[l]=D,A||(A=!0,a--),a||t.next(e(s.slice()))},()=>{--r||t.complete()}))},t)},t)}}(t,n,o?r=>g2(o,r):w));return e?s.pipe(DC(e)):s}function _2(i,n,e){i?Ue(e,i,n):n()}function gm(...i){return function JU(){return Kt(1)}()(Dn(i,oo(i)))}function xh(i){return new U(n=>{jn(i()).subscribe(n)})}function Ch(i,n){const e=je(i)?i:()=>i,t=o=>o.error(e());return new U(n?o=>n.schedule(t,0,o):t)}function OC(){return ve((i,n)=>{let e=null;i._refCount++;const t=xe(n,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const o=i._connection,s=e;e=null,o&&(!s||o===s)&&o.unsubscribe(),n.unsubscribe()});i.subscribe(t),t.closed||(e=i.connect())})}class RC extends U{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ae(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new z;const e=this.getSubject();n.add(this.source.subscribe(xe(e,void 0,()=>{this._teardown(),e.complete()},t=>{this._teardown(),e.error(t)},()=>this._teardown()))),n.closed&&(this._connection=null,n=z.EMPTY)}return n}refCount(){return OC()(this)}}function Po(i,n){return ve((e,t)=>{let o=null,s=0,r=!1;const a=()=>r&&!o&&t.complete();e.subscribe(xe(t,l=>{o?.unsubscribe();let c=0;const A=s++;jn(i(l,A)).subscribe(o=xe(t,D=>t.next(n?n(l,D,A,c++):D),()=>{o=null,a()}))},()=>{r=!0,a()}))})}function mn(i){return i<=0?()=>xi:ve((n,e)=>{let t=0;n.subscribe(xe(e,o=>{++t<=i&&(e.next(o),i<=t&&e.complete())}))})}function Zn(...i){const n=oo(i);return ve((e,t)=>{(n?gm(i,e,n):gm(i,e)).subscribe(t)})}function ln(i,n){return ve((e,t)=>{let o=0;e.subscribe(xe(t,s=>i.call(n,s,o++)&&t.next(s)))})}function F_(i){return ve((n,e)=>{let t=!1;n.subscribe(xe(e,o=>{t=!0,e.next(o)},()=>{t||e.next(i),e.complete()}))})}function b2(i=QU){return ve((n,e)=>{let t=!1;n.subscribe(xe(e,o=>{t=!0,e.next(o)},()=>t?e.complete():e.error(i())))})}function QU(){return new R_}function Xc(i,n){const e=arguments.length>=2;return t=>t.pipe(i?ln((o,s)=>i(o,s,t)):w,mn(1),e?F_(n):b2(()=>new R_))}function qc(i,n){return je(n)?rt(i,n,1):rt(i,1)}function mo(i,n,e){const t=je(i)||n||e?{next:i,error:n,complete:e}:i;return t?ve((o,s)=>{var r;null===(r=t.subscribe)||void 0===r||r.call(t);let a=!0;o.subscribe(xe(s,l=>{var c;null===(c=t.next)||void 0===c||c.call(t,l),s.next(l)},()=>{var l;a=!1,null===(l=t.complete)||void 0===l||l.call(t),s.complete()},l=>{var c;a=!1,null===(c=t.error)||void 0===c||c.call(t,l),s.error(l)},()=>{var l,c;a&&(null===(l=t.unsubscribe)||void 0===l||l.call(t)),null===(c=t.finalize)||void 0===c||c.call(t)}))}):w}function ma(i){return ve((n,e)=>{let s,t=null,o=!1;t=n.subscribe(xe(e,void 0,void 0,r=>{s=jn(i(r,ma(i)(n))),t?(t.unsubscribe(),t=null,s.subscribe(e)):o=!0})),o&&(t.unsubscribe(),t=null,s.subscribe(e))})}function v2(i,n){return ve(function eZ(i,n,e,t,o){return(s,r)=>{let a=e,l=n,c=0;s.subscribe(xe(r,A=>{const D=c++;l=a?i(l,A,D):(a=!0,A),t&&r.next(l)},o&&(()=>{a&&r.next(l),r.complete()})))}}(i,n,arguments.length>=2,!0))}function FC(i){return i<=0?()=>xi:ve((n,e)=>{let t=[];n.subscribe(xe(e,o=>{t.push(o),i<t.length&&t.shift()},()=>{for(const o of t)e.next(o);e.complete()},void 0,()=>{t=null}))})}function y2(i,n){const e=arguments.length>=2;return t=>t.pipe(i?ln((o,s)=>i(o,s,t)):w,FC(1),e?F_(n):b2(()=>new R_))}function x2(i,n=!1){return ve((e,t)=>{let o=0;e.subscribe(xe(t,s=>{const r=i(s,o++);(r||n)&&t.next(s),!r&&t.complete()}))})}function L_(i){return we(()=>i)}function N_(i){return ve((n,e)=>{try{n.subscribe(e)}finally{e.add(i)}})}const Wi="primary",_m=Symbol("RouteTitle");class tZ{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function wh(i){return new tZ(i)}function iZ(i,n,e){const t=e.path.split("/");if(t.length>i.length||"full"===e.pathMatch&&(n.hasChildren()||t.length<i.length))return null;const o={};for(let s=0;s<t.length;s++){const r=t[s],a=i[s];if(r.startsWith(":"))o[r.substring(1)]=a;else if(r!==a.path)return null}return{consumed:i.slice(0,t.length),posParams:o}}function El(i,n){const e=i?Object.keys(i):void 0,t=n?Object.keys(n):void 0;if(!e||!t||e.length!=t.length)return!1;let o;for(let s=0;s<e.length;s++)if(o=e[s],!C2(i[o],n[o]))return!1;return!0}function C2(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const e=[...i].sort(),t=[...n].sort();return e.every((o,s)=>t[s]===o)}return i===n}function w2(i){return Array.prototype.concat.apply([],i)}function k2(i){return i.length>0?i[i.length-1]:null}function xs(i,n){for(const e in i)i.hasOwnProperty(e)&&n(i[e],e)}function Jc(i){return b0(i)?i:Yp(i)?Dn(Promise.resolve(i)):Ht(i)}const B_=!1,oZ={exact:function S2(i,n,e){if(!zd(i.segments,n.segments)||!V_(i.segments,n.segments,e)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const t in n.children)if(!i.children[t]||!S2(i.children[t],n.children[t],e))return!1;return!0},subset:M2},I2={exact:function sZ(i,n){return El(i,n)},subset:function rZ(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(e=>C2(i[e],n[e]))},ignored:()=>!0};function A2(i,n,e){return oZ[e.paths](i.root,n.root,e.matrixParams)&&I2[e.queryParams](i.queryParams,n.queryParams)&&!("exact"===e.fragment&&i.fragment!==n.fragment)}function M2(i,n,e){return P2(i,n,n.segments,e)}function P2(i,n,e,t){if(i.segments.length>e.length){const o=i.segments.slice(0,e.length);return!(!zd(o,e)||n.hasChildren()||!V_(o,e,t))}if(i.segments.length===e.length){if(!zd(i.segments,e)||!V_(i.segments,e,t))return!1;for(const o in n.children)if(!i.children[o]||!M2(i.children[o],n.children[o],t))return!1;return!0}{const o=e.slice(0,i.segments.length),s=e.slice(i.segments.length);return!!(zd(i.segments,o)&&V_(i.segments,o,t)&&i.children[Wi])&&P2(i.children[Wi],n,s,t)}}function V_(i,n,e){return n.every((t,o)=>I2[e](i[o].parameters,t.parameters))}class Qc{constructor(n=new un([],{}),e={},t=null){this.root=n,this.queryParams=e,this.fragment=t}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wh(this.queryParams)),this._queryParamMap}toString(){return cZ.serialize(this)}}class un{constructor(n,e){this.segments=n,this.children=e,this.parent=null,xs(e,(t,o)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $_(this)}}class bm{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=wh(this.parameters)),this._parameterMap}toString(){return D2(this)}}function zd(i,n){return i.length===n.length&&i.every((e,t)=>e.path===n[t].path)}let vm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:function(){return new LC},providedIn:"root"}),i})();class LC{parse(n){const e=new bZ(n);return new Qc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${ym(n.root,!0)}`,t=function hZ(i){const n=Object.keys(i).map(e=>{const t=i[e];return Array.isArray(t)?t.map(o=>`${H_(e)}=${H_(o)}`).join("&"):`${H_(e)}=${H_(t)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${t}${"string"==typeof n.fragment?`#${function dZ(i){return encodeURI(i)}(n.fragment)}`:""}`}}const cZ=new LC;function $_(i){return i.segments.map(n=>D2(n)).join("/")}function ym(i,n){if(!i.hasChildren())return $_(i);if(n){const e=i.children[Wi]?ym(i.children[Wi],!1):"",t=[];return xs(i.children,(o,s)=>{s!==Wi&&t.push(`${s}:${ym(o,!1)}`)}),t.length>0?`${e}(${t.join("//")})`:e}{const e=function lZ(i,n){let e=[];return xs(i.children,(t,o)=>{o===Wi&&(e=e.concat(n(t,o)))}),xs(i.children,(t,o)=>{o!==Wi&&(e=e.concat(n(t,o)))}),e}(i,(t,o)=>o===Wi?[ym(i.children[Wi],!1)]:[`${o}:${ym(t,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Wi]?`${$_(i)}/${e[0]}`:`${$_(i)}/(${e.join("//")})`}}function T2(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function H_(i){return T2(i).replace(/%3B/gi,";")}function NC(i){return T2(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function z_(i){return decodeURIComponent(i)}function E2(i){return z_(i.replace(/\+/g,"%20"))}function D2(i){return`${NC(i.path)}${function uZ(i){return Object.keys(i).map(n=>`;${NC(n)}=${NC(i[n])}`).join("")}(i.parameters)}`}const pZ=/^[^\/()?;=#]+/;function j_(i){const n=i.match(pZ);return n?n[0]:""}const mZ=/^[^=?&#]+/,gZ=/^[^&#]+/;class bZ{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(t[Wi]=new un(n,e)),t}parseSegment(){const n=j_(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new mt(4009,B_);return this.capture(n),new bm(z_(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=j_(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){const o=j_(this.remaining);o&&(t=o,this.capture(t))}n[z_(e)]=z_(t)}parseQueryParam(n){const e=function fZ(i){const n=i.match(mZ);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){const r=function _Z(i){const n=i.match(gZ);return n?n[0]:""}(this.remaining);r&&(t=r,this.capture(t))}const o=E2(e),s=E2(t);if(n.hasOwnProperty(o)){let r=n[o];Array.isArray(r)||(r=[r],n[o]=r),r.push(s)}else n[o]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const t=j_(this.remaining),o=this.remaining[t.length];if("/"!==o&&")"!==o&&";"!==o)throw new mt(4010,B_);let s;t.indexOf(":")>-1?(s=t.slice(0,t.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=Wi);const r=this.parseChildren();e[s]=1===Object.keys(r).length?r[Wi]:new un([],r),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new mt(4011,B_)}}function BC(i){return i.segments.length>0?new un([],{[Wi]:i}):i}function G_(i){const n={};for(const t of Object.keys(i.children)){const s=G_(i.children[t]);(s.segments.length>0||s.hasChildren())&&(n[t]=s)}return function vZ(i){if(1===i.numberOfChildren&&i.children[Wi]){const n=i.children[Wi];return new un(i.segments.concat(n.segments),n.children)}return i}(new un(i.segments,n))}function jd(i){return i instanceof Qc}const VC=!1;function yZ(i,n,e,t,o){if(0===e.length)return kh(n.root,n.root,n.root,t,o);const s=function N2(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new L2(!0,0,i);let n=0,e=!1;const t=i.reduce((o,s,r)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return xs(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...o,{outlets:a}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===r?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,s]},[]);return new L2(e,n,t)}(e);return s.toRoot()?kh(n.root,n.root,new un([],{}),t,o):function r(l){const c=function CZ(i,n,e,t){if(i.isAbsolute)return new Ih(n.root,!0,0);if(-1===t)return new Ih(e,e===n.root,0);return function B2(i,n,e){let t=i,o=n,s=e;for(;s>o;){if(s-=o,t=t.parent,!t)throw new mt(4005,VC&&"Invalid number of '../'");o=t.segments.length}return new Ih(t,!1,o-s)}(e,t+(xm(i.commands[0])?0:1),i.numberOfDoubleDots)}(s,n,i.snapshot?._urlSegment,l),A=c.processChildren?Ah(c.segmentGroup,c.index,s.commands):$C(c.segmentGroup,c.index,s.commands);return kh(n.root,c.segmentGroup,A,t,o)}(i.snapshot?._lastPathIndex)}function xm(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Cm(i){return"object"==typeof i&&null!=i&&i.outlets}function kh(i,n,e,t,o){let r,s={};t&&xs(t,(l,c)=>{s[c]=Array.isArray(l)?l.map(A=>`${A}`):`${l}`}),r=i===n?e:F2(i,n,e);const a=BC(G_(r));return new Qc(a,s,o)}function F2(i,n,e){const t={};return xs(i.children,(o,s)=>{t[s]=o===n?e:F2(o,n,e)}),new un(i.segments,t)}class L2{constructor(n,e,t){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=t,n&&t.length>0&&xm(t[0]))throw new mt(4003,VC&&"Root segment cannot have matrix parameters");const o=t.find(Cm);if(o&&o!==k2(t))throw new mt(4004,VC&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ih{constructor(n,e,t){this.segmentGroup=n,this.processChildren=e,this.index=t}}function $C(i,n,e){if(i||(i=new un([],{})),0===i.segments.length&&i.hasChildren())return Ah(i,n,e);const t=function kZ(i,n,e){let t=0,o=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<i.segments.length;){if(t>=e.length)return s;const r=i.segments[o],a=e[t];if(Cm(a))break;const l=`${a}`,c=t<e.length-1?e[t+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!$2(l,c,r))return s;t+=2}else{if(!$2(l,{},r))return s;t++}o++}return{match:!0,pathIndex:o,commandIndex:t}}(i,n,e),o=e.slice(t.commandIndex);if(t.match&&t.pathIndex<i.segments.length){const s=new un(i.segments.slice(0,t.pathIndex),{});return s.children[Wi]=new un(i.segments.slice(t.pathIndex),i.children),Ah(s,0,o)}return t.match&&0===o.length?new un(i.segments,{}):t.match&&!i.hasChildren()?HC(i,n,e):t.match?Ah(i,0,o):HC(i,n,e)}function Ah(i,n,e){if(0===e.length)return new un(i.segments,{});{const t=function wZ(i){return Cm(i[0])?i[0].outlets:{[Wi]:i}}(e),o={};return!t[Wi]&&i.children[Wi]&&1===i.numberOfChildren&&0===i.children[Wi].segments.length?Ah(i.children[Wi],n,e):(xs(t,(s,r)=>{"string"==typeof s&&(s=[s]),null!==s&&(o[r]=$C(i.children[r],n,s))}),xs(i.children,(s,r)=>{void 0===t[r]&&(o[r]=s)}),new un(i.segments,o))}}function HC(i,n,e){const t=i.segments.slice(0,n);let o=0;for(;o<e.length;){const s=e[o];if(Cm(s)){const l=IZ(s.outlets);return new un(t,l)}if(0===o&&xm(e[0])){t.push(new bm(i.segments[n].path,V2(e[0]))),o++;continue}const r=Cm(s)?s.outlets[Wi]:`${s}`,a=o<e.length-1?e[o+1]:null;r&&a&&xm(a)?(t.push(new bm(r,V2(a))),o+=2):(t.push(new bm(r,{})),o++)}return new un(t,{})}function IZ(i){const n={};return xs(i,(e,t)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[t]=HC(new un([],{}),0,e))}),n}function V2(i){const n={};return xs(i,(e,t)=>n[t]=`${e}`),n}function $2(i,n,e){return i==e.path&&El(n,e.parameters)}const wm="imperative";class Dl{constructor(n,e){this.id=n,this.url=e}}class W_ extends Dl{constructor(n,e,t="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=t,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yc extends Dl{constructor(n,e,t){super(n,e),this.urlAfterRedirects=t,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class U_ extends Dl{constructor(n,e,t,o){super(n,e),this.reason=t,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Z_ extends Dl{constructor(n,e,t,o){super(n,e),this.reason=t,this.code=o,this.type=16}}class zC extends Dl{constructor(n,e,t,o){super(n,e),this.error=t,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class AZ extends Dl{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SZ extends Dl{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MZ extends Dl{constructor(n,e,t,o,s){super(n,e),this.urlAfterRedirects=t,this.state=o,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class PZ extends Dl{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TZ extends Dl{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H2{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class EZ{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DZ{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OZ{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RZ{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FZ{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z2{constructor(n,e,t){this.routerEvent=n,this.position=e,this.anchor=t,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let BZ=(()=>{class i{createUrlTree(e,t,o,s,r,a){return yZ(e||t.root,o,s,r,a)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),$Z=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:function(n){return BZ.\u0275fac(n)},providedIn:"root"}),i})();class j2{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=jC(n,this._root);return e?e.children.map(t=>t.value):[]}firstChild(n){const e=jC(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=GC(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return GC(n,this._root).map(e=>e.value)}}function jC(i,n){if(i===n.value)return n;for(const e of n.children){const t=jC(i,e);if(t)return t}return null}function GC(i,n){if(i===n.value)return[n];for(const e of n.children){const t=GC(i,e);if(t.length)return t.unshift(n),t}return[]}class xc{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Sh(i){const n={};return i&&i.children.forEach(e=>n[e.value.outlet]=e),n}class G2 extends j2{constructor(n,e){super(n),this.snapshot=e,WC(this,n)}toString(){return this.snapshot.toString()}}function W2(i,n){const e=function HZ(i,n){const r=new K_([],{},{},"",{},Wi,n,null,i.root,-1,{});return new Z2("",new xc(r,[]))}(i,n),t=new xo([new bm("",{})]),o=new xo({}),s=new xo({}),r=new xo({}),a=new xo(""),l=new kr(t,o,r,a,s,Wi,n,e.root);return l.snapshot=e.root,new G2(new xc(l,[]),e)}class kr{constructor(n,e,t,o,s,r,a,l){this.url=n,this.params=e,this.queryParams=t,this.fragment=o,this.data=s,this.outlet=r,this.component=a,this.title=this.data?.pipe(we(c=>c[_m]))??Ht(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(we(n=>wh(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(we(n=>wh(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function U2(i,n="emptyOnly"){const e=i.pathFromRoot;let t=0;if("always"!==n)for(t=e.length-1;t>=1;){const o=e[t],s=e[t-1];if(o.routeConfig&&""===o.routeConfig.path)t--;else{if(s.component)break;t--}}return function zZ(i){return i.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(t))}class K_{get title(){return this.data?.[_m]}constructor(n,e,t,o,s,r,a,l,c,A,D){this.url=n,this.params=e,this.queryParams=t,this.fragment=o,this.data=s,this.outlet=r,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=A,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Z2 extends j2{constructor(n,e){super(e),this.url=n,WC(this,e)}toString(){return K2(this._root)}}function WC(i,n){n.value._routerState=i,n.children.forEach(e=>WC(i,e))}function K2(i){const n=i.children.length>0?` { ${i.children.map(K2).join(", ")} } `:"";return`${i.value}${n}`}function UC(i){if(i.snapshot){const n=i.snapshot,e=i._futureSnapshot;i.snapshot=e,El(n.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),n.fragment!==e.fragment&&i.fragment.next(e.fragment),El(n.params,e.params)||i.params.next(e.params),function nZ(i,n){if(i.length!==n.length)return!1;for(let e=0;e<i.length;++e)if(!El(i[e],n[e]))return!1;return!0}(n.url,e.url)||i.url.next(e.url),El(n.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function ZC(i,n){const e=El(i.params,n.params)&&function aZ(i,n){return zd(i,n)&&i.every((e,t)=>El(e.parameters,n[t].parameters))}(i.url,n.url);return e&&!(!i.parent!=!n.parent)&&(!i.parent||ZC(i.parent,n.parent))}function km(i,n,e){if(e&&i.shouldReuseRoute(n.value,e.value.snapshot)){const t=e.value;t._futureSnapshot=n.value;const o=function GZ(i,n,e){return n.children.map(t=>{for(const o of e.children)if(i.shouldReuseRoute(t.value,o.value.snapshot))return km(i,t,o);return km(i,t)})}(i,n,e);return new xc(t,o)}{if(i.shouldAttach(n.value)){const s=i.retrieve(n.value);if(null!==s){const r=s.route;return r.value._futureSnapshot=n.value,r.children=n.children.map(a=>km(i,a)),r}}const t=function WZ(i){return new kr(new xo(i.url),new xo(i.params),new xo(i.queryParams),new xo(i.fragment),new xo(i.data),i.outlet,i.component,i)}(n.value),o=n.children.map(s=>km(i,s));return new xc(t,o)}}const KC="ngNavigationCancelingError";function Y2(i,n){const{redirectTo:e,navigationBehaviorOptions:t}=jd(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=X2(!1,0,n);return o.url=e,o.navigationBehaviorOptions=t,o}function X2(i,n,e){const t=new Error("NavigationCancelingError: "+(i||""));return t[KC]=!0,t.cancellationCode=n,e&&(t.url=e),t}function q2(i){return J2(i)&&jd(i.url)}function J2(i){return i&&i[KC]}class UZ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Im,this.attachRef=null}}let Im=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const o=this.getOrCreateContext(e);o.outlet=t,this.contexts.set(e,o)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new UZ,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Y_=!1;let Am=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wi,this.activateEvents=new tt,this.deactivateEvents=new tt,this.attachEvents=new tt,this.detachEvents=new tt,this.parentContexts=di(Im),this.location=di(Ri),this.changeDetector=di(Zt),this.environmentInjector=di(wl)}ngOnChanges(e){if(e.name){const{firstChange:t,previousValue:o}=e.name;if(t)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new mt(4012,Y_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new mt(4012,Y_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new mt(4012,Y_);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new mt(4013,Y_);this._activatedRoute=e;const o=this.location,r=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ZZ(e,a,o.injector);if(t&&function KZ(i){return!!i.resolveComponentFactory}(t)){const c=t.resolveComponentFactory(r);this.activated=o.createComponent(c,o.length,l)}else this.activated=o.createComponent(r,{index:o.length,injector:l,environmentInjector:t??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[dn]}),i})();class ZZ{constructor(n,e,t){this.route=n,this.childContexts=e,this.parent=t}get(n,e){return n===kr?this.route:n===Im?this.childContexts:this.parent.get(n,e)}}let YC=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["ng-component"]],standalone:!0,features:[D0],decls:1,vars:0,template:function(e,t){1&e&&me(0,"router-outlet")},dependencies:[Am],encapsulation:2}),i})();function Q2(i,n){return i.providers&&!i._injector&&(i._injector=r_(i.providers,n,`Route: ${i.path}`)),i._injector??n}function qC(i){const n=i.children&&i.children.map(qC),e=n?{...i,children:n}:{...i};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Wi&&(e.component=YC),e}function fa(i){return i.outlet||Wi}function eO(i,n){const e=i.filter(t=>fa(t)===n);return e.push(...i.filter(t=>fa(t)!==n)),e}function Sm(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let n=i.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class QZ{constructor(n,e,t,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=t,this.forwardEvent=o}activate(n){const e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,n),UC(this.futureState.root),this.activateChildRoutes(e,t,n)}deactivateChildRoutes(n,e,t){const o=Sh(e);n.children.forEach(s=>{const r=s.value.outlet;this.deactivateRoutes(s,o[r],t),delete o[r]}),xs(o,(s,r)=>{this.deactivateRouteAndItsChildren(s,t)})}deactivateRoutes(n,e,t){const o=n.value,s=e?e.value:null;if(o===s)if(o.component){const r=t.getContext(o.outlet);r&&this.deactivateChildRoutes(n,e,r.children)}else this.deactivateChildRoutes(n,e,t);else s&&this.deactivateRouteAndItsChildren(e,t)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const t=e.getContext(n.value.outlet),o=t&&n.value.component?t.children:e,s=Sh(n);for(const r of Object.keys(s))this.deactivateRouteAndItsChildren(s[r],o);if(t&&t.outlet){const r=t.outlet.detach(),a=t.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:r,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const t=e.getContext(n.value.outlet),o=t&&n.value.component?t.children:e,s=Sh(n);for(const r of Object.keys(s))this.deactivateRouteAndItsChildren(s[r],o);t&&t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated(),t.attachRef=null,t.resolver=null,t.route=null)}activateChildRoutes(n,e,t){const o=Sh(e);n.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],t),this.forwardEvent(new FZ(s.value.snapshot))}),n.children.length&&this.forwardEvent(new OZ(n.value.snapshot))}activateRoutes(n,e,t){const o=n.value,s=e?e.value:null;if(UC(o),o===s)if(o.component){const r=t.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,r.children)}else this.activateChildRoutes(n,e,t);else if(o.component){const r=t.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),r.children.onOutletReAttached(a.contexts),r.attachRef=a.componentRef,r.route=a.route.value,r.outlet&&r.outlet.attach(a.componentRef,a.route.value),UC(a.route.value),this.activateChildRoutes(n,null,r.children)}else{const a=Sm(o.snapshot),l=a?.get(Va)??null;r.attachRef=null,r.route=o,r.resolver=l,r.injector=a,r.outlet&&r.outlet.activateWith(o,r.injector),this.activateChildRoutes(n,null,r.children)}}else this.activateChildRoutes(n,null,t)}}class tO{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class X_{constructor(n,e){this.component=n,this.route=e}}function eK(i,n,e){const t=i._root;return Mm(t,n?n._root:null,e,[t.value])}function Mh(i,n){const e=Symbol(),t=n.get(i,e);return t===e?"function"!=typeof i||function A$(i){return null!==dg(i)}(i)?n.get(i):i:t}function Mm(i,n,e,t,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Sh(n);return i.children.forEach(r=>{(function iK(i,n,e,t,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=i.value,r=n?n.value:null,a=e?e.getContext(i.value.outlet):null;if(r&&s.routeConfig===r.routeConfig){const l=function nK(i,n,e){if("function"==typeof e)return e(i,n);switch(e){case"pathParamsChange":return!zd(i.url,n.url);case"pathParamsOrQueryParamsChange":return!zd(i.url,n.url)||!El(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ZC(i,n)||!El(i.queryParams,n.queryParams);default:return!ZC(i,n)}}(r,s,s.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new tO(t)):(s.data=r.data,s._resolvedData=r._resolvedData),Mm(i,n,s.component?a?a.children:null:e,t,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new X_(a.outlet.component,r))}else r&&Pm(n,a,o),o.canActivateChecks.push(new tO(t)),Mm(i,null,s.component?a?a.children:null:e,t,o)})(r,s[r.value.outlet],e,t.concat([r.value]),o),delete s[r.value.outlet]}),xs(s,(r,a)=>Pm(r,e.getContext(a),o)),o}function Pm(i,n,e){const t=Sh(i),o=i.value;xs(t,(s,r)=>{Pm(s,o.component?n?n.children.getContext(r):null:n,e)}),e.canDeactivateChecks.push(new X_(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function Tm(i){return"function"==typeof i}function JC(i){return i instanceof R_||"EmptyError"===i?.name}const q_=Symbol("INITIAL_VALUE");function Ph(){return Po(i=>yh(i.map(n=>n.pipe(mn(1),Zn(q_)))).pipe(we(n=>{for(const e of n)if(!0!==e){if(e===q_)return q_;if(!1===e||e instanceof Qc)return e}return!0}),ln(n=>n!==q_),mn(1)))}function iO(i){return function B(...i){return K(i)}(mo(n=>{if(jd(n))throw Y2(0,n)}),we(n=>!0===n))}const QC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nO(i,n,e,t,o){const s=ew(i,n,e);return s.matched?function yK(i,n,e,t){const o=n.canMatch;return o&&0!==o.length?Ht(o.map(r=>{const a=Mh(r,i);return Jc(function cK(i){return i&&Tm(i.canMatch)}(a)?a.canMatch(n,e):i.runInContext(()=>a(n,e)))})).pipe(Ph(),iO()):Ht(!0)}(t=Q2(n,t),n,e).pipe(we(r=>!0===r?s:{...QC})):Ht(s)}function ew(i,n,e){if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||e.length>0)?{...QC}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||iZ)(e,i,n);if(!o)return{...QC};const s={};xs(o.posParams,(a,l)=>{s[l]=a.path});const r=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:r,positionalParamSegments:o.posParams??{}}}function J_(i,n,e,t){if(e.length>0&&function wK(i,n,e){return e.some(t=>Q_(i,n,t)&&fa(t)!==Wi)}(i,e,t)){const s=new un(n,function CK(i,n,e,t){const o={};o[Wi]=t,t._sourceSegment=i,t._segmentIndexShift=n.length;for(const s of e)if(""===s.path&&fa(s)!==Wi){const r=new un([],{});r._sourceSegment=i,r._segmentIndexShift=n.length,o[fa(s)]=r}return o}(i,n,t,new un(e,i.children)));return s._sourceSegment=i,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function kK(i,n,e){return e.some(t=>Q_(i,n,t))}(i,e,t)){const s=new un(i.segments,function xK(i,n,e,t,o){const s={};for(const r of t)if(Q_(i,e,r)&&!o[fa(r)]){const a=new un([],{});a._sourceSegment=i,a._segmentIndexShift=n.length,s[fa(r)]=a}return{...o,...s}}(i,n,e,t,i.children));return s._sourceSegment=i,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}const o=new un(i.segments,i.children);return o._sourceSegment=i,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:e}}function Q_(i,n,e){return(!(i.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function oO(i,n,e,t){return!!(fa(i)===t||t!==Wi&&Q_(n,e,i))&&("**"===i.path||ew(n,i,e).matched)}function sO(i,n,e){return 0===n.length&&!i.children[e]}const eb=!1;class tb{constructor(n){this.segmentGroup=n||null}}class rO{constructor(n){this.urlTree=n}}function Em(i){return Ch(new tb(i))}function aO(i){return Ch(new rO(i))}class MK{constructor(n,e,t,o,s){this.injector=n,this.configLoader=e,this.urlSerializer=t,this.urlTree=o,this.config=s,this.allowRedirects=!0}apply(){const n=J_(this.urlTree.root,[],[],this.config).segmentGroup,e=new un(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,Wi).pipe(we(s=>this.createUrlTree(G_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ma(s=>{if(s instanceof rO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof tb?this.noMatchError(s):s}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,Wi).pipe(we(o=>this.createUrlTree(G_(o),n.queryParams,n.fragment))).pipe(ma(o=>{throw o instanceof tb?this.noMatchError(o):o}))}noMatchError(n){return new mt(4002,eb)}createUrlTree(n,e,t){const o=BC(n);return new Qc(o,e,t)}expandSegmentGroup(n,e,t,o){return 0===t.segments.length&&t.hasChildren()?this.expandChildren(n,e,t).pipe(we(s=>new un([],s))):this.expandSegment(n,t,e,t.segments,o,!0)}expandChildren(n,e,t){const o=[];for(const s of Object.keys(t.children))"primary"===s?o.unshift(s):o.push(s);return Dn(o).pipe(qc(s=>{const r=t.children[s],a=eO(e,s);return this.expandSegmentGroup(n,a,r,s).pipe(we(l=>({segment:l,outlet:s})))}),v2((s,r)=>(s[r.outlet]=r.segment,s),{}),y2())}expandSegment(n,e,t,o,s,r){return Dn(t).pipe(qc(a=>this.expandSegmentAgainstRoute(n,e,t,a,o,s,r).pipe(ma(c=>{if(c instanceof tb)return Ht(null);throw c}))),Xc(a=>!!a),ma((a,l)=>{if(JC(a))return sO(e,o,s)?Ht(new un([],{})):Em(e);throw a}))}expandSegmentAgainstRoute(n,e,t,o,s,r,a){return oO(o,e,s,r)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(n,e,o,s,r):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,t,o,s,r):Em(e):Em(e)}expandSegmentAgainstRouteUsingRedirect(n,e,t,o,s,r){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,o,r):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,t,o,s,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,t,o){const s=this.applyRedirectCommands([],t.redirectTo,{});return t.redirectTo.startsWith("/")?aO(s):this.lineralizeSegments(t,s).pipe(rt(r=>{const a=new un(r,{});return this.expandSegment(n,a,e,r,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,t,o,s,r){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:A}=ew(e,o,s);if(!a)return Em(e);const D=this.applyRedirectCommands(l,o.redirectTo,A);return o.redirectTo.startsWith("/")?aO(D):this.lineralizeSegments(o,D).pipe(rt(te=>this.expandSegment(n,e,t,te.concat(c),r,!1)))}matchSegmentAgainstRoute(n,e,t,o,s){return"**"===t.path?(n=Q2(t,n),t.loadChildren?(t._loadedRoutes?Ht({routes:t._loadedRoutes,injector:t._loadedInjector}):this.configLoader.loadChildren(n,t)).pipe(we(a=>(t._loadedRoutes=a.routes,t._loadedInjector=a.injector,new un(o,{})))):Ht(new un(o,{}))):nO(e,t,o,n).pipe(Po(({matched:r,consumedSegments:a,remainingSegments:l})=>r?this.getChildConfig(n=t._injector??n,t,o).pipe(rt(A=>{const D=A.injector??n,te=A.routes,{segmentGroup:se,slicedSegments:le}=J_(e,a,l,te),ke=new un(se.segments,se.children);if(0===le.length&&ke.hasChildren())return this.expandChildren(D,te,ke).pipe(we(it=>new un(a,it)));if(0===te.length&&0===le.length)return Ht(new un(a,{}));const Pe=fa(t)===s;return this.expandSegment(D,ke,te,le,Pe?Wi:s,!0).pipe(we(at=>new un(a.concat(at.segments),at.children)))})):Em(e)))}getChildConfig(n,e,t){return e.children?Ht({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?Ht({routes:e._loadedRoutes,injector:e._loadedInjector}):function vK(i,n,e,t){const o=n.canLoad;return void 0===o||0===o.length?Ht(!0):Ht(o.map(r=>{const a=Mh(r,i);return Jc(function sK(i){return i&&Tm(i.canLoad)}(a)?a.canLoad(n,e):i.runInContext(()=>a(n,e)))})).pipe(Ph(),iO())}(n,e,t).pipe(rt(o=>o?this.configLoader.loadChildren(n,e).pipe(mo(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function AK(i){return Ch(X2(eb,3))}())):Ht({routes:[],injector:n})}lineralizeSegments(n,e){let t=[],o=e.root;for(;;){if(t=t.concat(o.segments),0===o.numberOfChildren)return Ht(t);if(o.numberOfChildren>1||!o.children[Wi])return n.redirectTo,Ch(new mt(4e3,eb));o=o.children[Wi]}}applyRedirectCommands(n,e,t){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,t)}applyRedirectCreateUrlTree(n,e,t,o){const s=this.createSegmentGroup(n,e.root,t,o);return new Qc(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const t={};return xs(n,(o,s)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);t[s]=e[a]}else t[s]=o}),t}createSegmentGroup(n,e,t,o){const s=this.createSegments(n,e.segments,t,o);let r={};return xs(e.children,(a,l)=>{r[l]=this.createSegmentGroup(n,a,t,o)}),new un(s,r)}createSegments(n,e,t,o){return e.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,o):this.findOrReturn(s,t))}findPosParam(n,e,t){const o=t[e.path.substring(1)];if(!o)throw new mt(4001,eb);return o}findOrReturn(n,e){let t=0;for(const o of e){if(o.path===n.path)return e.splice(t),o;t++}return n}}class TK{}class OK{constructor(n,e,t,o,s,r,a){this.injector=n,this.rootComponentType=e,this.config=t,this.urlTree=o,this.url=s,this.paramsInheritanceStrategy=r,this.urlSerializer=a}recognize(){const n=J_(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Wi).pipe(we(e=>{if(null===e)return null;const t=new K_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wi,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new xc(t,e),s=new Z2(this.url,o);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(n){const e=n.value,t=U2(e,this.paramsInheritanceStrategy);e.params=Object.freeze(t.params),e.data=Object.freeze(t.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,t,o){return 0===t.segments.length&&t.hasChildren()?this.processChildren(n,e,t):this.processSegment(n,e,t,t.segments,o)}processChildren(n,e,t){return Dn(Object.keys(t.children)).pipe(qc(o=>{const s=t.children[o],r=eO(e,o);return this.processSegmentGroup(n,r,s,o)}),v2((o,s)=>o&&s?(o.push(...s),o):null),x2(o=>null!==o),F_(null),y2(),we(o=>{if(null===o)return null;const s=cO(o);return function RK(i){i.sort((n,e)=>n.value.outlet===Wi?-1:e.value.outlet===Wi?1:n.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(n,e,t,o,s){return Dn(e).pipe(qc(r=>this.processSegmentAgainstRoute(r._injector??n,r,t,o,s)),Xc(r=>!!r),ma(r=>{if(JC(r))return sO(t,o,s)?Ht([]):Ht(null);throw r}))}processSegmentAgainstRoute(n,e,t,o,s){if(e.redirectTo||!oO(e,t,o,s))return Ht(null);let r;if("**"===e.path){const a=o.length>0?k2(o).parameters:{},l=uO(t)+o.length;r=Ht({snapshot:new K_(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hO(e),fa(e),e.component??e._loadedComponent??null,e,dO(t),l,pO(e)),consumedSegments:[],remainingSegments:[]})}else r=nO(t,e,o,n).pipe(we(({matched:a,consumedSegments:l,remainingSegments:c,parameters:A})=>{if(!a)return null;const D=uO(t)+l.length;return{snapshot:new K_(l,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hO(e),fa(e),e.component??e._loadedComponent??null,e,dO(t),D,pO(e)),consumedSegments:l,remainingSegments:c}}));return r.pipe(Po(a=>{if(null===a)return Ht(null);const{snapshot:l,consumedSegments:c,remainingSegments:A}=a;n=e._injector??n;const D=e._loadedInjector??n,te=function FK(i){return i.children?i.children:i.loadChildren?i._loadedRoutes:[]}(e),{segmentGroup:se,slicedSegments:le}=J_(t,c,A,te.filter(Pe=>void 0===Pe.redirectTo));if(0===le.length&&se.hasChildren())return this.processChildren(D,te,se).pipe(we(Pe=>null===Pe?null:[new xc(l,Pe)]));if(0===te.length&&0===le.length)return Ht([new xc(l,[])]);const ke=fa(e)===s;return this.processSegment(D,te,se,le,ke?Wi:s).pipe(we(Pe=>null===Pe?null:[new xc(l,Pe)]))}))}}function LK(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function cO(i){const n=[],e=new Set;for(const t of i){if(!LK(t)){n.push(t);continue}const o=n.find(s=>t.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...t.children),e.add(o)):n.push(t)}for(const t of e){const o=cO(t.children);n.push(new xc(t.value,o))}return n.filter(t=>!e.has(t))}function dO(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function uO(i){let n=i,e=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift??0;return e-1}function hO(i){return i.data||{}}function pO(i){return i.resolve||{}}function mO(i){return"string"==typeof i.title||null===i.title}function tw(i){return Po(n=>{const e=i(n);return e?Dn(e).pipe(we(()=>n)):Ht(n)})}const Th=new nt("ROUTES");let iw=(()=>{class i{constructor(e,t){this.injector=e,this.compiler=t,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ht(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const t=Jc(e.loadComponent()).pipe(we(gO),mo(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),N_(()=>{this.componentLoaders.delete(e)})),o=new RC(t,()=>new R).pipe(OC());return this.componentLoaders.set(e,o),o}loadChildren(e,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return Ht({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactoryOrRoutes(t.loadChildren).pipe(we(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);let l,c,A=!1;Array.isArray(a)?c=a:(l=a.create(e).injector,c=w2(l.get(Th,[],Pi.Self|Pi.Optional)));return{routes:c.map(qC),injector:l}}),N_(()=>{this.childrenLoaders.delete(t)})),r=new RC(s,()=>new R).pipe(OC());return this.childrenLoaders.set(t,r),r}loadModuleFactoryOrRoutes(e){return Jc(e()).pipe(we(gO),rt(o=>o instanceof tE||Array.isArray(o)?Ht(o):Dn(this.compiler.compileModuleAsync(o))))}}return i.\u0275fac=function(e){return new(e||i)(Le(Jn),Le(zE))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function gO(i){return function WK(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let nb=(()=>{class i{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new R,this.configLoader=di(iw),this.environmentInjector=di(wl),this.urlSerializer=di(vm),this.rootContexts=di(Im),this.navigationId=0,this.afterPreactivation=()=>Ht(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new EZ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new H2(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const t=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:t})}setupNavigations(e){return this.transitions=new xo({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wm,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ln(t=>0!==t.id),we(t=>({...t,extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})),Po(t=>{let o=!1,s=!1;return Ht(t).pipe(mo(r=>{this.currentNavigation={id:r.id,initialUrl:r.rawUrl,extractedUrl:r.extractedUrl,trigger:r.source,extras:r.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Po(r=>{const a=e.browserUrlTree.toString(),l=!e.navigated||r.extractedUrl.toString()!==a||a!==e.currentUrlTree.toString();if(!l&&"reload"!==(r.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const A="";return this.events.next(new Z_(r.id,e.serializeUrl(t.rawUrl),A,0)),e.rawUrlTree=r.rawUrl,r.resolve(null),xi}if(e.urlHandlingStrategy.shouldProcessUrl(r.rawUrl))return _O(r.source)&&(e.browserUrlTree=r.extractedUrl),Ht(r).pipe(Po(A=>{const D=this.transitions?.getValue();return this.events.next(new W_(A.id,this.urlSerializer.serialize(A.extractedUrl),A.source,A.restoredState)),D!==this.transitions?.getValue()?xi:Promise.resolve(A)}),function PK(i,n,e,t){return Po(o=>function SK(i,n,e,t,o){return new MK(i,n,e,t,o).apply()}(i,n,e,o.extractedUrl,t).pipe(we(s=>({...o,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),mo(A=>{this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects},t.urlAfterRedirects=A.urlAfterRedirects}),function BK(i,n,e,t,o){return rt(s=>function DK(i,n,e,t,o,s,r="emptyOnly"){return new OK(i,n,e,t,o,r,s).recognize().pipe(Po(a=>null===a?function EK(i){return new U(n=>n.error(i))}(new TK):Ht(a)))}(i,n,e,s.urlAfterRedirects,t.serialize(s.urlAfterRedirects),t,o).pipe(we(r=>({...s,targetSnapshot:r}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),mo(A=>{if(t.targetSnapshot=A.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!A.extras.skipLocationChange){const te=e.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);e.setBrowserUrl(te,A)}e.browserUrlTree=A.urlAfterRedirects}const D=new AZ(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(D)}));if(l&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:A,extractedUrl:D,source:te,restoredState:se,extras:le}=r,ke=new W_(A,this.urlSerializer.serialize(D),te,se);this.events.next(ke);const Pe=W2(D,this.rootComponentType).snapshot;return Ht(t={...r,targetSnapshot:Pe,urlAfterRedirects:D,extras:{...le,skipLocationChange:!1,replaceUrl:!1}})}{const A="";return this.events.next(new Z_(r.id,e.serializeUrl(t.extractedUrl),A,1)),e.rawUrlTree=r.rawUrl,r.resolve(null),xi}}),mo(r=>{const a=new SZ(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot);this.events.next(a)}),we(r=>t={...r,guards:eK(r.targetSnapshot,r.currentSnapshot,this.rootContexts)}),function uK(i,n){return rt(e=>{const{targetSnapshot:t,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:r}}=e;return 0===r.length&&0===s.length?Ht({...e,guardsResult:!0}):function hK(i,n,e,t){return Dn(i).pipe(rt(o=>function bK(i,n,e,t,o){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?Ht(s.map(a=>{const l=Sm(n)??o,c=Mh(a,l);return Jc(function lK(i){return i&&Tm(i.canDeactivate)}(c)?c.canDeactivate(i,n,e,t):l.runInContext(()=>c(i,n,e,t))).pipe(Xc())})).pipe(Ph()):Ht(!0)}(o.component,o.route,e,n,t)),Xc(o=>!0!==o,!0))}(r,t,o,i).pipe(rt(a=>a&&function oK(i){return"boolean"==typeof i}(a)?function pK(i,n,e,t){return Dn(n).pipe(qc(o=>gm(function fK(i,n){return null!==i&&n&&n(new DZ(i)),Ht(!0)}(o.route.parent,t),function mK(i,n){return null!==i&&n&&n(new RZ(i)),Ht(!0)}(o.route,t),function _K(i,n,e){const t=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(r=>function tK(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(r)).filter(r=>null!==r).map(r=>xh(()=>Ht(r.guards.map(l=>{const c=Sm(r.node)??e,A=Mh(l,c);return Jc(function aK(i){return i&&Tm(i.canActivateChild)}(A)?A.canActivateChild(t,i):c.runInContext(()=>A(t,i))).pipe(Xc())})).pipe(Ph())));return Ht(s).pipe(Ph())}(i,o.path,e),function gK(i,n,e){const t=n.routeConfig?n.routeConfig.canActivate:null;if(!t||0===t.length)return Ht(!0);const o=t.map(s=>xh(()=>{const r=Sm(n)??e,a=Mh(s,r);return Jc(function rK(i){return i&&Tm(i.canActivate)}(a)?a.canActivate(n,i):r.runInContext(()=>a(n,i))).pipe(Xc())}));return Ht(o).pipe(Ph())}(i,o.route,e))),Xc(o=>!0!==o,!0))}(t,s,i,n):Ht(a)),we(a=>({...e,guardsResult:a})))})}(this.environmentInjector,r=>this.events.next(r)),mo(r=>{if(t.guardsResult=r.guardsResult,jd(r.guardsResult))throw Y2(0,r.guardsResult);const a=new MZ(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot,!!r.guardsResult);this.events.next(a)}),ln(r=>!!r.guardsResult||(e.restoreHistory(r),this.cancelNavigationTransition(r,"",3),!1)),tw(r=>{if(r.guards.canActivateChecks.length)return Ht(r).pipe(mo(a=>{const l=new PZ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Po(a=>{let l=!1;return Ht(a).pipe(function VK(i,n){return rt(e=>{const{targetSnapshot:t,guards:{canActivateChecks:o}}=e;if(!o.length)return Ht(e);let s=0;return Dn(o).pipe(qc(r=>function $K(i,n,e,t){const o=i.routeConfig,s=i._resolve;return void 0!==o?.title&&!mO(o)&&(s[_m]=o.title),function HK(i,n,e,t){const o=function zK(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===o.length)return Ht({});const s={};return Dn(o).pipe(rt(r=>function jK(i,n,e,t){const o=Sm(n)??t,s=Mh(i,o);return Jc(s.resolve?s.resolve(n,e):o.runInContext(()=>s(n,e)))}(i[r],n,e,t).pipe(Xc(),mo(a=>{s[r]=a}))),FC(1),L_(s),ma(r=>JC(r)?xi:Ch(r)))}(s,i,n,t).pipe(we(r=>(i._resolvedData=r,i.data=U2(i,e).resolve,o&&mO(o)&&(i.data[_m]=o.title),null)))}(r.route,t,i,n)),mo(()=>s++),FC(1),rt(r=>s===o.length?Ht(e):xi))})}(e.paramsInheritanceStrategy,this.environmentInjector),mo({next:()=>l=!0,complete:()=>{l||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),mo(a=>{const l=new TZ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),tw(r=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(mo(A=>{l.component=A}),we(()=>{})));for(const A of l.children)c.push(...a(A));return c};return yh(a(r.targetSnapshot.root)).pipe(F_(),mn(1))}),tw(()=>this.afterPreactivation()),we(r=>{const a=function jZ(i,n,e){const t=km(i,n._root,e?e._root:void 0);return new G2(t,n)}(e.routeReuseStrategy,r.targetSnapshot,r.currentRouterState);return t={...r,targetRouterState:a}}),mo(r=>{e.currentUrlTree=r.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),e.routerState=r.targetRouterState,"deferred"===e.urlUpdateStrategy&&(r.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,r),e.browserUrlTree=r.urlAfterRedirects)}),((i,n,e)=>we(t=>(new QZ(n,t.targetRouterState,t.currentRouterState,e).activate(i),t)))(this.rootContexts,e.routeReuseStrategy,r=>this.events.next(r)),mo({next:r=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new yc(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(r.targetRouterState.snapshot),r.resolve(!0)},complete:()=>{o=!0}}),N_(()=>{o||s||this.cancelNavigationTransition(t,"",1),this.currentNavigation?.id===t.id&&(this.currentNavigation=null)}),ma(r=>{if(s=!0,J2(r)){q2(r)||(e.navigated=!0,e.restoreHistory(t,!0));const a=new U_(t.id,this.urlSerializer.serialize(t.extractedUrl),r.message,r.cancellationCode);if(this.events.next(a),q2(r)){const l=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree),c={skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||_O(t.source)};e.scheduleNavigation(l,wm,null,c,{resolve:t.resolve,reject:t.reject,promise:t.promise})}else t.resolve(!1)}else{e.restoreHistory(t,!0);const a=new zC(t.id,this.urlSerializer.serialize(t.extractedUrl),r,t.targetSnapshot??void 0);this.events.next(a);try{t.resolve(e.errorHandler(r))}catch(l){t.reject(l)}}return xi}))}))}cancelNavigationTransition(e,t,o){const s=new U_(e.id,this.urlSerializer.serialize(e.extractedUrl),t,o);this.events.next(s),e.resolve(!1)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function _O(i){return i!==wm}let bO=(()=>{class i{buildTitle(e){let t,o=e.root;for(;void 0!==o;)t=this.getResolvedTitleForRoute(o)??t,o=o.children.find(s=>s.outlet===Wi);return t}getResolvedTitleForRoute(e){return e.data[_m]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:function(){return di(UK)},providedIn:"root"}),i})(),UK=(()=>{class i extends bO{constructor(e){super(),this.title=e}updateTitle(e){const t=this.buildTitle(e);void 0!==t&&this.title.setTitle(t)}}return i.\u0275fac=function(e){return new(e||i)(Le(u2))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ZK=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:function(){return di(YK)},providedIn:"root"}),i})();class KK{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let YK=(()=>{class i extends KK{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ob=new nt("",{providedIn:"root",factory:()=>({})});let qK=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:function(){return di(JK)},providedIn:"root"}),i})(),JK=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function QK(i){throw i}function eY(i,n,e){return n.parse("/")}const tY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ji=(()=>{class i{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=di(B6),this.isNgZoneEnabled=!1,this.options=di(ob,{optional:!0})||{},this.errorHandler=this.options.errorHandler||QK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||eY,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=di(qK),this.routeReuseStrategy=di(ZK),this.urlCreationStrategy=di($Z),this.titleStrategy=di(bO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=w2(di(Th,{optional:!0})??[]),this.navigationTransitions=di(nb),this.urlSerializer=di(vm),this.location=di(bh),this.isNgZoneEnabled=di(Bt)instanceof Bt&&Bt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=W2(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),wm,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t="popstate"===e.type?"popstate":"hashchange";"popstate"===t&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,t,e.state)},0)}))}navigateToSyncWithBrowser(e,t,o){const s={replaceUrl:!0},r=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,t,r,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(qC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:o,queryParams:s,fragment:r,queryParamsHandling:a,preserveFragment:l}=t,c=l?this.currentUrlTree.fragment:r;let A=null;switch(a){case"merge":A={...this.currentUrlTree.queryParams,...s};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=s||null}return null!==A&&(A=this.removeEmptyProps(A)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,e,A,c??null)}navigateByUrl(e,t={skipLocationChange:!1}){const o=jd(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,wm,null,t)}navigate(e,t={skipLocationChange:!1}){return function nY(i){for(let n=0;n<i.length;n++){const e=i[n];if(null==e)throw new mt(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(o){t=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return t}isActive(e,t){let o;if(o=!0===t?{...tY}:!1===t?{...iY}:t,jd(e))return A2(this.currentUrlTree,e,o);const s=this.parseUrl(e);return A2(this.currentUrlTree,s,o)}removeEmptyProps(e){return Object.keys(e).reduce((t,o)=>{const s=e[o];return null!=s&&(t[o]=s),t},{})}scheduleNavigation(e,t,o,s,r){if(this.disposed)return Promise.resolve(!1);let a,l,c,A;return r?(a=r.resolve,l=r.reject,c=r.promise):c=new Promise((D,te)=>{a=D,l=te}),A="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:A,source:t,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(D=>Promise.reject(D))}setBrowserUrl(e,t){const o=this.urlSerializer.serialize(e),s={...t.extras.state,...this.generateNgRouterState(t.id,t.targetPageId)};this.location.isCurrentPathEqualTo(o)||t.extras.replaceUrl?this.location.replaceState(o,"",s):this.location.go(o,"",s)}restoreHistory(e,t=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:t}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Dm=(()=>{class i{constructor(e,t,o,s,r,a){this.router=e,this.route=t,this.tabIndexAttribute=o,this.renderer=s,this.el=r,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new R;const l=r.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof yc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=_h(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=_h(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=_h(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,t,o,s,r){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||t||o||s||r||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function FM(i,n,e){return function e9(i,n){return"src"===n&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===n&&("base"===i||"link"===i)?RM:tr}(n,e)(i)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,t){const o=this.renderer,s=this.el.nativeElement;null!==t?o.setAttribute(s,e,t):o.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return i.\u0275fac=function(e){return new(e||i)(P(Ji),P(kr),cs("tabindex"),P($r),P($e),P(Hd))},i.\u0275dir=Xe({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,t){1&e&&ie("click",function(s){return t.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Et("target",t.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[dn]}),i})(),ow=(()=>{class i{get isActive(){return this._isActive}constructor(e,t,o,s,r){this.router=e,this.element=t,this.renderer=o,this.cdr=s,this.link=r,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new tt,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof yc&&this.update()})}ngAfterContentInit(){Ht(this.links.changes,Ht(null)).pipe(Kt()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Dn(e).pipe(Kt()).subscribe(t=>{this._isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const t=function oY(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&e.isActive(o.urlTree,t)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}}return i.\u0275fac=function(e){return new(e||i)(P(Ji),P($e),P($r),P(Zt),P(Dm,8))},i.\u0275dir=Xe({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,o){if(1&e&&fi(o,Dm,5),2&e){let s;Ke(s=Ye())&&(t.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[dn]}),i})();class vO{}let sY=(()=>{class i{constructor(e,t,o,s,r){this.router=e,this.injector=o,this.preloadingStrategy=s,this.loader=r}setUpPreloading(){this.subscription=this.router.events.pipe(ln(e=>e instanceof yc),qc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const o=[];for(const s of t){s.providers&&!s._injector&&(s._injector=r_(s.providers,e,`Route: ${s.path}`));const r=s._injector??e,a=s._loadedInjector??r;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?o.push(this.preloadConfig(r,s)):(s.children||s._loadedRoutes)&&o.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Dn(o).pipe(Kt())}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>{let o;o=t.loadChildren&&void 0===t.canLoad?this.loader.loadChildren(e,t):Ht(null);const s=o.pipe(rt(r=>null===r?Ht(void 0):(t._loadedRoutes=r.routes,t._loadedInjector=r.injector,this.processRoutes(r.injector??e,r.routes))));return t.loadComponent&&!t._loadedComponent?Dn([s,this.loader.loadComponent(t)]).pipe(Kt()):s})}}return i.\u0275fac=function(e){return new(e||i)(Le(Ji),Le(zE),Le(wl),Le(vO),Le(iw))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const sw=new nt("");let yO=(()=>{class i{constructor(e,t,o,s,r={}){this.urlSerializer=e,this.transitions=t,this.viewportScroller=o,this.zone=s,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof W_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof yc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof z2&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new z2(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return i.\u0275fac=function(e){Ha()},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();var zr=(()=>((zr=zr||{})[zr.COMPLETE=0]="COMPLETE",zr[zr.FAILED=1]="FAILED",zr[zr.REDIRECTING=2]="REDIRECTING",zr))();const Eh=!1;function ed(i,n){return{\u0275kind:i,\u0275providers:n}}const rw=new nt("",{providedIn:"root",factory:()=>!1});function CO(){const i=di(Jn);return n=>{const e=i.get(Vd);if(n!==e.components[0])return;const t=i.get(Ji),o=i.get(wO);1===i.get(aw)&&t.initialNavigation(),i.get(kO,null,Pi.Optional)?.setUpPreloading(),i.get(sw,null,Pi.Optional)?.init(),t.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const wO=new nt(Eh?"bootstrap done indicator":"",{factory:()=>new R}),aw=new nt(Eh?"initial navigation":"",{providedIn:"root",factory:()=>1});function dY(){let i=[];return i=Eh?[{provide:zg,multi:!0,useFactory:()=>{const n=di(Ji);return()=>n.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function LZ(i){if(!("type"in i))return`Unknown Router Event: ${i.constructor.name}`;switch(i.type){case 14:return`ActivationEnd(path: '${i.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${i.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${i.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${i.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${i.id}, url: '${i.url}', urlAfterRedirects: '${i.urlAfterRedirects}', state: ${i.state}, shouldActivate: ${i.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${i.id}, url: '${i.url}', urlAfterRedirects: '${i.urlAfterRedirects}', state: ${i.state})`;case 2:return`NavigationCancel(id: ${i.id}, url: '${i.url}')`;case 16:return`NavigationSkipped(id: ${i.id}, url: '${i.url}')`;case 1:return`NavigationEnd(id: ${i.id}, url: '${i.url}', urlAfterRedirects: '${i.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${i.id}, url: '${i.url}', error: ${i.error})`;case 0:return`NavigationStart(id: ${i.id}, url: '${i.url}')`;case 6:return`ResolveEnd(id: ${i.id}, url: '${i.url}', urlAfterRedirects: '${i.urlAfterRedirects}', state: ${i.state})`;case 5:return`ResolveStart(id: ${i.id}, url: '${i.url}', urlAfterRedirects: '${i.urlAfterRedirects}', state: ${i.state})`;case 10:return`RouteConfigLoadEnd(path: ${i.route.path})`;case 9:return`RouteConfigLoadStart(path: ${i.route.path})`;case 4:return`RoutesRecognized(id: ${i.id}, url: '${i.url}', urlAfterRedirects: '${i.urlAfterRedirects}', state: ${i.state})`;case 15:return`Scroll(anchor: '${i.anchor}', position: '${i.position?`${i.position[0]}, ${i.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],ed(1,i)}const kO=new nt(Eh?"router preloader":"");function uY(i){return ed(0,[{provide:kO,useExisting:sY},{provide:vO,useExisting:i}])}const Om=!1,IO=new nt(Om?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),hY=[bh,{provide:vm,useClass:LC},Ji,Im,{provide:kr,useFactory:function xO(i){return i.routerState.root},deps:[Ji]},iw,Om?{provide:rw,useValue:!0}:[]];function pY(){return new XE("Router",Ji)}let Ol=(()=>{class i{constructor(e){}static forRoot(e,t){return{ngModule:i,providers:[hY,Om&&t?.enableTracing?dY().\u0275providers:[],{provide:Th,multi:!0,useValue:e},{provide:IO,useFactory:_Y,deps:[[Ji,new _r,new Ba]]},{provide:ob,useValue:t||{}},t?.useHash?{provide:Hd,useClass:IW}:{provide:Hd,useClass:vD},{provide:sw,useFactory:()=>{const i=di($7),n=di(Bt),e=di(ob),t=di(nb),o=di(vm);return e.scrollOffset&&i.setOffset(e.scrollOffset),new yO(o,t,i,n,e)}},t?.preloadingStrategy?uY(t.preloadingStrategy).\u0275providers:[],{provide:XE,multi:!0,useFactory:pY},t?.initialNavigation?bY(t):[],[{provide:AO,useFactory:CO},{provide:YE,multi:!0,useExisting:AO}]]}}static forChild(e){return{ngModule:i,providers:[{provide:Th,multi:!0,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)(Le(IO,8))},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[YC]}),i})();function _Y(i){if(Om&&i)throw new mt(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function bY(i){return["disabled"===i.initialNavigation?ed(3,[{provide:d_,multi:!0,useFactory:()=>{const n=di(Ji);return()=>{n.setUpLocationChangeListener()}}},{provide:aw,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?ed(2,[{provide:aw,useValue:0},{provide:d_,multi:!0,deps:[Jn],useFactory:n=>{const e=n.get(wW,Promise.resolve());return()=>e.then(()=>new Promise(t=>{const o=n.get(Ji),s=n.get(wO);(function rY(i,n){i.events.pipe(ln(e=>e instanceof yc||e instanceof U_||e instanceof zC||e instanceof Z_),we(e=>e instanceof yc||e instanceof Z_?zr.COMPLETE:e instanceof U_&&(0===e.code||1===e.code)?zr.REDIRECTING:zr.FAILED),ln(e=>e!==zr.REDIRECTING),mn(1)).subscribe(()=>{n()})})(o,()=>{t(!0)}),n.get(nb).afterPreactivation=()=>(t(!0),s.closed?Ht(void 0):s),o.initialNavigation()}))}}]).\u0275providers:[]]}const AO=new nt(Om?"Router Initializer":"");function SO(i,n,e,t,o,s,r){try{var a=i[s](r),l=a.value}catch(c){return void e(c)}a.done?n(l):Promise.resolve(l).then(t,o)}function q(i){return function(){var n=this,e=arguments;return new Promise(function(t,o){var s=i.apply(n,e);function r(l){SO(s,t,o,r,a,"next",l)}function a(l){SO(s,t,o,r,a,"throw",l)}r(void 0)})}}class sb{}class Rm{}class os{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const o=e.slice(0,t),s=o.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(r):this.headers.set(s,[r])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let t=n[e];const o=e.toLowerCase();"string"==typeof t&&(t=[t]),t.length>0&&(this.headers.set(o,t),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof os?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new os;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof os?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let t=n.value;if("string"==typeof t&&(t=[t]),0===t.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...t),this.headers.set(e,o);break;case"d":const s=n.value;if(s){let r=this.headers.get(e);if(!r)return;r=r.filter(a=>-1===s.indexOf(a)),0===r.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,r)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class yY{encodeKey(n){return MO(n)}encodeValue(n){return MO(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const CY=/%(\d[a-f0-9])/gi,wY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MO(i){return encodeURIComponent(i).replace(CY,(n,e)=>wY[e]??n)}function rb(i){return`${i}`}class Za{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new yY,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xY(i,n){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[r,a]=-1==s?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,s)),n.decodeValue(o.slice(s+1))],l=e.get(r)||[];l.push(a),e.set(r,l)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const t=n.fromObject[e],o=Array.isArray(t)?t.map(rb):[rb(t)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(t=>{const o=n[t];Array.isArray(o)?o.forEach(s=>{e.push({param:t,value:s,op:"a"})}):e.push({param:t,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Za({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(rb(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let t=this.map.get(n.param)||[];const o=t.indexOf(rb(n.value));-1!==o&&t.splice(o,1),t.length>0?this.map.set(n.param,t):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class kY{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function PO(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function TO(i){return typeof Blob<"u"&&i instanceof Blob}function EO(i){return typeof FormData<"u"&&i instanceof FormData}class Fm{constructor(n,e,t,o){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function IY(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==t?t:null,s=o):s=t,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new os),this.context||(this.context=new kY),this.params){const r=this.params.toString();if(0===r.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+r}}else this.params=new Za,this.urlWithParams=e}serializeBody(){return null===this.body?null:PO(this.body)||TO(this.body)||EO(this.body)||function AY(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Za?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||EO(this.body)?null:TO(this.body)?this.body.type||null:PO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Za?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,t=n.url||this.url,o=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,r=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let l=n.headers||this.headers,c=n.params||this.params;const A=n.context??this.context;return void 0!==n.setHeaders&&(l=Object.keys(n.setHeaders).reduce((D,te)=>D.set(te,n.setHeaders[te]),l)),n.setParams&&(c=Object.keys(n.setParams).reduce((D,te)=>D.set(te,n.setParams[te]),c)),new Fm(e,t,s,{params:c,headers:l,context:A,reportProgress:a,responseType:o,withCredentials:r})}}var Zo=(()=>((Zo=Zo||{})[Zo.Sent=0]="Sent",Zo[Zo.UploadProgress=1]="UploadProgress",Zo[Zo.ResponseHeader=2]="ResponseHeader",Zo[Zo.DownloadProgress=3]="DownloadProgress",Zo[Zo.Response=4]="Response",Zo[Zo.User=5]="User",Zo))();class lw{constructor(n,e=200,t="OK"){this.headers=n.headers||new os,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||t,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class cw extends lw{constructor(n={}){super(n),this.type=Zo.ResponseHeader}clone(n={}){return new cw({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class ab extends lw{constructor(n={}){super(n),this.type=Zo.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new ab({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class DO extends lw{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function dw(i,n){return{body:n,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let Dh=(()=>{class i{constructor(e){this.handler=e}request(e,t,o={}){let s;if(e instanceof Fm)s=e;else{let l,c;l=o.headers instanceof os?o.headers:new os(o.headers),o.params&&(c=o.params instanceof Za?o.params:new Za({fromObject:o.params})),s=new Fm(e,t,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const r=Ht(s).pipe(qc(l=>this.handler.handle(l)));if(e instanceof Fm||"events"===o.observe)return r;const a=r.pipe(ln(l=>l instanceof ab));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(we(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(we(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(we(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(we(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Za).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,o={}){return this.request("PATCH",e,dw(o,t))}post(e,t,o={}){return this.request("POST",e,dw(o,t))}put(e,t,o={}){return this.request("PUT",e,dw(o,t))}}return i.\u0275fac=function(e){return new(e||i)(Le(sb))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();function OO(i,n){return n(i)}function SY(i,n){return(e,t)=>n.intercept(e,{handle:o=>i(o,t)})}const uw=new nt("HTTP_INTERCEPTORS"),Lm=new nt("HTTP_INTERCEPTOR_FNS");function PY(){let i=null;return(n,e)=>(null===i&&(i=(di(uw,{optional:!0})??[]).reduceRight(SY,OO)),i(n,e))}let RO=(()=>{class i extends sb{constructor(e,t){super(),this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const t=Array.from(new Set(this.injector.get(Lm)));this.chain=t.reduceRight((o,s)=>function MY(i,n,e){return(t,o)=>e.runInContext(()=>n(t,s=>i(s,o)))}(o,s,this.injector),OO)}return this.chain(e,t=>this.backend.handle(t))}}return i.\u0275fac=function(e){return new(e||i)(Le(Rm),Le(wl))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();const OY=/^\)\]\}',?\n/;let LO=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new U(t=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((se,le)=>o.setRequestHeader(se,le.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const se=e.detectContentTypeHeader();null!==se&&o.setRequestHeader("Content-Type",se)}if(e.responseType){const se=e.responseType.toLowerCase();o.responseType="json"!==se?se:"text"}const s=e.serializeBody();let r=null;const a=()=>{if(null!==r)return r;const se=o.statusText||"OK",le=new os(o.getAllResponseHeaders()),ke=function RY(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(o)||e.url;return r=new cw({headers:le,status:o.status,statusText:se,url:ke}),r},l=()=>{let{headers:se,status:le,statusText:ke,url:Pe}=a(),ze=null;204!==le&&(ze=typeof o.response>"u"?o.responseText:o.response),0===le&&(le=ze?200:0);let at=le>=200&&le<300;if("json"===e.responseType&&"string"==typeof ze){const it=ze;ze=ze.replace(OY,"");try{ze=""!==ze?JSON.parse(ze):null}catch(_t){ze=it,at&&(at=!1,ze={error:_t,text:ze})}}at?(t.next(new ab({body:ze,headers:se,status:le,statusText:ke,url:Pe||void 0})),t.complete()):t.error(new DO({error:ze,headers:se,status:le,statusText:ke,url:Pe||void 0}))},c=se=>{const{url:le}=a(),ke=new DO({error:se,status:o.status||0,statusText:o.statusText||"Unknown Error",url:le||void 0});t.error(ke)};let A=!1;const D=se=>{A||(t.next(a()),A=!0);let le={type:Zo.DownloadProgress,loaded:se.loaded};se.lengthComputable&&(le.total=se.total),"text"===e.responseType&&o.responseText&&(le.partialText=o.responseText),t.next(le)},te=se=>{let le={type:Zo.UploadProgress,loaded:se.loaded};se.lengthComputable&&(le.total=se.total),t.next(le)};return o.addEventListener("load",l),o.addEventListener("error",c),o.addEventListener("timeout",c),o.addEventListener("abort",c),e.reportProgress&&(o.addEventListener("progress",D),null!==s&&o.upload&&o.upload.addEventListener("progress",te)),o.send(s),t.next({type:Zo.Sent}),()=>{o.removeEventListener("error",c),o.removeEventListener("abort",c),o.removeEventListener("load",l),o.removeEventListener("timeout",c),e.reportProgress&&(o.removeEventListener("progress",D),null!==s&&o.upload&&o.upload.removeEventListener("progress",te)),o.readyState!==o.DONE&&o.abort()}})}}return i.\u0275fac=function(e){return new(e||i)(Le(HD))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();const hw=new nt("XSRF_ENABLED"),NO=new nt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),BO=new nt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class VO{}let NY=(()=>{class i{constructor(e,t,o){this.doc=e,this.platform=t,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=PD(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return i.\u0275fac=function(e){return new(e||i)(Le(pi),Le(h_),Le(NO))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();function BY(i,n){const e=i.url.toLowerCase();if(!di(hw)||"GET"===i.method||"HEAD"===i.method||e.startsWith("http://")||e.startsWith("https://"))return n(i);const t=di(VO).getToken(),o=di(BO);return null!=t&&!i.headers.has(o)&&(i=i.clone({headers:i.headers.set(o,t)})),n(i)}var Bo=(()=>((Bo=Bo||{})[Bo.Interceptors=0]="Interceptors",Bo[Bo.LegacyInterceptors=1]="LegacyInterceptors",Bo[Bo.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Bo[Bo.NoXsrfProtection=3]="NoXsrfProtection",Bo[Bo.JsonpSupport=4]="JsonpSupport",Bo[Bo.RequestsMadeViaParent=5]="RequestsMadeViaParent",Bo))();function Oh(i,n){return{\u0275kind:i,\u0275providers:n}}function VY(...i){const n=[Dh,LO,RO,{provide:sb,useExisting:RO},{provide:Rm,useExisting:LO},{provide:Lm,useValue:BY,multi:!0},{provide:hw,useValue:!0},{provide:VO,useClass:NY}];for(const e of i)n.push(...e.\u0275providers);return function t9(i){return{\u0275providers:i}}(n)}const $O=new nt("LEGACY_INTERCEPTOR_FN");let pw,Nm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[VY(Oh(Bo.LegacyInterceptors,[{provide:$O,useFactory:PY},{provide:Lm,useExisting:$O,multi:!0}]))]}),i})();try{pw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{pw=!1}let Rh,Mn=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function V7(i){return i===VD}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!pw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(Le(h_))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const HO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function zO(){if(Rh)return Rh;if("object"!=typeof document||!document)return Rh=new Set(HO),Rh;let i=document.createElement("input");return Rh=new Set(HO.filter(n=>(i.setAttribute("type",n),i.type===n))),Rh}let Bm,lb,Gd,mw;function Ka(i){return function HY(){if(null==Bm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Bm=!0}))}finally{Bm=Bm||!1}return Bm}()?i:!!i.capture}function jO(){if(null==Gd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Gd=!1,Gd;if("scrollBehavior"in document.documentElement.style)Gd=!0;else{const i=Element.prototype.scrollTo;Gd=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return Gd}function Vm(){if("object"!=typeof document||!document)return 0;if(null==lb){const i=document.createElement("div"),n=i.style;i.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const e=document.createElement("div"),t=e.style;t.width="2px",t.height="1px",i.appendChild(e),document.body.appendChild(i),lb=0,0===i.scrollLeft&&(i.scrollLeft=1,lb=0===i.scrollLeft?1:2),i.remove()}return lb}function fw(i){if(function zY(){if(null==mw){const i=typeof document<"u"?document.head:null;mw=!(!i||!i.createShadowRoot&&!i.attachShadow)}return mw}()){const n=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function Fh(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const n=i.shadowRoot.activeElement;if(n===i)break;i=n}return i}function jr(i){return i.composedPath?i.composedPath()[0]:i.target}function gw(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function fo(i,...n){return n.length?n.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}class JY extends z{constructor(n,e){super()}schedule(n,e=0){return this}}const pb={setInterval(i,n,...e){const{delegate:t}=pb;return t?.setInterval?t.setInterval(i,n,...e):setInterval(i,n,...e)},clearInterval(i){const{delegate:n}=pb;return(n?.clearInterval||clearInterval)(i)},delegate:void 0};class bw extends JY{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var t;if(this.closed)return this;this.state=n;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,e)),this.pending=!0,this.delay=e,this.id=null!==(t=this.id)&&void 0!==t?t:this.requestAsyncId(s,this.id,e),this}requestAsyncId(n,e,t=0){return pb.setInterval(n.flush.bind(n,this),t)}recycleAsyncId(n,e,t=0){if(null!=t&&this.delay===t&&!1===this.pending)return e;null!=e&&pb.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const t=this._execute(n,e);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,t=!1;try{this.work(n)}catch(s){t=!0,o=s||new Error("Scheduled action threw falsy error")}if(t)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:t}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ae(t,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const vw={now:()=>(vw.delegate||Date).now(),delegate:void 0};class zm{constructor(n,e=zm.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,t){return new this.schedulerActionCtor(this,n).schedule(t,e)}}zm.now=vw.now;class yw extends zm{constructor(n,e=zm.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let t;this._active=!0;do{if(t=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,t){for(;n=e.shift();)n.unsubscribe();throw t}}}const jm=new yw(bw),QY=jm;function Lh(i,n=jm){return ve((e,t)=>{let o=null,s=null,r=null;const a=()=>{if(o){o.unsubscribe(),o=null;const c=s;s=null,t.next(c)}};function l(){const c=r+i,A=n.now();if(A<c)return o=this.schedule(void 0,c-A),void t.add(o);a()}e.subscribe(xe(t,c=>{s=c,r=n.now(),o||(o=n.schedule(l,i),t.add(o))},()=>{a(),t.complete()},void 0,()=>{s=o=null}))})}function xw(i){return ln((n,e)=>i<=e)}function Nh(i,n=w){return i=i??eX,ve((e,t)=>{let o,s=!0;e.subscribe(xe(t,r=>{const a=n(r);(s||!i(o,a))&&(s=!1,o=a,t.next(r))}))})}function eX(i,n){return i===n}function hi(i){return ve((n,e)=>{jn(i).subscribe(xe(e,()=>e.complete(),O)),!e.closed&&n.subscribe(e)})}function bt(i){return null!=i&&"false"!=`${i}`}function hn(i,n=0){return GO(i)?Number(i):n}function GO(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function Gm(i){return Array.isArray(i)?i:[i]}function Ko(i){return null==i?"":"string"==typeof i?i:`${i}px`}function To(i){return i instanceof $e?i.nativeElement:i}let WO=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),iX=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=To(e);return new U(o=>{const r=this._observeElement(t).subscribe(o);return()=>{r.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new R,o=this._mutationObserverFactory.create(s=>t.next(s));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:o}=this._observedElements.get(e);t&&t.disconnect(),o.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(Le(WO))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Wm=(()=>{class i{get disabled(){return this._disabled}set disabled(e){this._disabled=bt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=hn(e),this._subscribe()}constructor(e,t,o){this._contentObserver=e,this._elementRef=t,this._ngZone=o,this.event=new tt,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Lh(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(P(iX),P($e),P(Bt))},i.\u0275dir=Xe({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),mb=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[WO]}),i})();const UO=new Set;let Bh,nX=(()=>{class i{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):sX}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function oX(i){if(!UO.has(i))try{Bh||(Bh=document.createElement("style"),Bh.setAttribute("type","text/css"),document.head.appendChild(Bh)),Bh.sheet&&(Bh.sheet.insertRule(`@media ${i} {body{ }}`,0),UO.add(i))}catch(n){console.error(n)}}(e),this._matchMedia(e)}}return i.\u0275fac=function(e){return new(e||i)(Le(Mn))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function sX(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let Cw=(()=>{class i{constructor(e,t){this._mediaMatcher=e,this._zone=t,this._queries=new Map,this._destroySubject=new R}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return ZO(Gm(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let s=yh(ZO(Gm(e)).map(r=>this._registerQuery(r).observable));return s=gm(s.pipe(mn(1)),s.pipe(xw(1),Lh(0))),s.pipe(we(r=>{const a={matches:!1,breakpoints:{}};return r.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const t=this._mediaMatcher.matchMedia(e),s={observable:new U(r=>{const a=l=>this._zone.run(()=>r.next(l));return t.addListener(a),()=>{t.removeListener(a)}}).pipe(Zn(t),we(({matches:r})=>({query:e,matches:r})),hi(this._destroySubject)),mql:t};return this._queries.set(e,s),s}}return i.\u0275fac=function(e){return new(e||i)(Le(nX),Le(Bt))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ZO(i){return i.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}function fb(i,n){return(i.getAttribute(n)||"").match(/\S+/g)||[]}const YO="cdk-describedby-message",gb="cdk-describedby-host";let ww=0,cX=(()=>{class i{constructor(e,t){this._platform=t,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ww++,this._document=e,this._id=di(gh)+"-"+ww++}describe(e,t,o){if(!this._canBeDescribed(e,t))return;const s=kw(t,o);"string"!=typeof t?(XO(t,this._id),this._messageRegistry.set(s,{messageElement:t,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(t,o),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,t,o){if(!t||!this._isElementNode(e))return;const s=kw(t,o);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof t){const r=this._messageRegistry.get(s);r&&0===r.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${gb}="${this._id}"]`);for(let t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute(gb);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,t){const o=this._document.createElement("div");XO(o,this._id),o.textContent=e,t&&o.setAttribute("role",t),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(kw(e,t),{messageElement:o,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",t=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<t.length;s++)t[s].remove();const o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(e),o.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(e){const t=fb(e,"aria-describedby").filter(o=>0!=o.indexOf(YO));e.setAttribute("aria-describedby",t.join(" "))}_addMessageReference(e,t){const o=this._messageRegistry.get(t);(function aX(i,n,e){const t=fb(i,n);t.some(o=>o.trim()==e.trim())||(t.push(e.trim()),i.setAttribute(n,t.join(" ")))})(e,"aria-describedby",o.messageElement.id),e.setAttribute(gb,this._id),o.referenceCount++}_removeMessageReference(e,t){const o=this._messageRegistry.get(t);o.referenceCount--,function lX(i,n,e){const o=fb(i,n).filter(s=>s!=e.trim());o.length?i.setAttribute(n,o.join(" ")):i.removeAttribute(n)}(e,"aria-describedby",o.messageElement.id),e.removeAttribute(gb)}_isElementDescribedByMessage(e,t){const o=fb(e,"aria-describedby"),s=this._messageRegistry.get(t),r=s&&s.messageElement.id;return!!r&&-1!=o.indexOf(r)}_canBeDescribed(e,t){if(!this._isElementNode(e))return!1;if(t&&"object"==typeof t)return!0;const o=null==t?"":`${t}`.trim(),s=e.getAttribute("aria-label");return!(!o||s&&s.trim()===o)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return i.\u0275fac=function(e){return new(e||i)(Le(pi),Le(Mn))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function kw(i,n){return"string"==typeof i?`${n||""}/${i}`:i}function XO(i,n){i.id||(i.id=`${YO}-${n}-${ww++}`)}class qO{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new R,this._typeaheadSubscription=z.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new R,this.change=new R,n instanceof Ml&&(this._itemChangesSubscription=n.changes.subscribe(e=>{if(this._activeItem){const o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(mo(e=>this._pressedLetters.push(e)),Lh(n),ln(()=>this._pressedLetters.length>0),we(()=>this._pressedLetters.join(""))).subscribe(e=>{const t=this._getItemsArray();for(let o=1;o<t.length+1;o++){const s=(this._activeItemIndex+o)%t.length,r=t[s];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!n[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&o){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&o){const s=this._activeItemIndex+this._pageUpAndDown.delta,r=this._getItemsArray().length;this._setActiveItemByIndex(s<r?s:r-1,-1);break}return;default:return void((o||fo(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),t="number"==typeof n?n:e.indexOf(n);this._activeItem=e[t]??null,this._activeItemIndex=t}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let t=1;t<=e.length;t++){const o=(this._activeItemIndex+n*t+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const t=this._getItemsArray();if(t[n]){for(;this._skipPredicateFn(t[n]);)if(!t[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof Ml?this._items.toArray():this._items}}class dX extends qO{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}class Um extends qO{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}let Zm=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function hX(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function uX(i){try{return i.frameElement}catch{return null}}(function yX(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(t&&(-1===QO(t)||!this.isVisible(t)))return!1;let o=e.nodeName.toLowerCase(),s=QO(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function bX(i){let n=i.nodeName.toLowerCase(),e="input"===n&&i.type;return"text"===e||"password"===e||"select"===n||"textarea"===n}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==s:"video"===o?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,t){return function vX(i){return!function mX(i){return function gX(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function pX(i){let n=i.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(i)||function fX(i){return function _X(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||JO(i))}(e)&&!this.isDisabled(e)&&(t?.ignoreVisibility||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)(Le(Mn))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function JO(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let n=i.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function QO(i){if(!JO(i))return null;const n=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class xX{get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}constructor(n,e,t,o,s=!1){this._element=n,this._checker=e,this._ngZone=t,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return t?.focus(n),!!t}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){const e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let t=0;t<e.length;t++){const o=e[t].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[t]):null;if(o)return o}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let t=e.length-1;t>=0;t--){const o=e[t].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[t]):null;if(o)return o}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(mn(1)).subscribe(n)}}let Km=(()=>{class i{constructor(e,t,o){this._checker=e,this._ngZone=t,this._document=o}create(e,t=!1){return new xX(e,this._checker,this._ngZone,this._document,t)}}return i.\u0275fac=function(e){return new(e||i)(Le(Zm),Le(Bt),Le(pi))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),CX=(()=>{class i{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=bt(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=bt(e)}constructor(e,t,o){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Fh(),this.focusTrap.focusInitialElementWhenReady()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Km),P(pi))},i.\u0275dir=Xe({type:i,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[dn]}),i})();function _b(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function bb(i){const n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const wX=new nt("cdk-input-modality-detector-options"),kX={ignoreKeys:[18,17,224,91,16]},Vh=Ka({passive:!0,capture:!0});let IX=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,t,o,s){this._platform=e,this._mostRecentTarget=null,this._modality=new xo(null),this._lastTouchMs=0,this._onKeydown=r=>{this._options?.ignoreKeys?.some(a=>a===r.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=jr(r))},this._onMousedown=r=>{Date.now()-this._lastTouchMs<650||(this._modality.next(_b(r)?"keyboard":"mouse"),this._mostRecentTarget=jr(r))},this._onTouchstart=r=>{bb(r)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=jr(r))},this._options={...kX,...s},this.modalityDetected=this._modality.pipe(xw(1)),this.modalityChanged=this.modalityDetected.pipe(Nh()),e.isBrowser&&t.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Vh),o.addEventListener("mousedown",this._onMousedown,Vh),o.addEventListener("touchstart",this._onTouchstart,Vh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Vh),document.removeEventListener("mousedown",this._onMousedown,Vh),document.removeEventListener("touchstart",this._onTouchstart,Vh))}}return i.\u0275fac=function(e){return new(e||i)(Le(Mn),Le(Bt),Le(pi),Le(wX,8))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const AX=new nt("liveAnnouncerElement",{providedIn:"root",factory:function SX(){return null}}),MX=new nt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let PX=0,Iw=(()=>{class i{constructor(e,t,o,s){this._ngZone=t,this._defaultOptions=s,this._document=o,this._liveElement=e||this._createLiveElement()}announce(e,...t){const o=this._defaultOptions;let s,r;return 1===t.length&&"number"==typeof t[0]?r=t[0]:[s,r]=t,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),null==r&&o&&(r=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",t=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let s=0;s<t.length;s++)t[s].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id="cdk-live-announcer-"+PX++,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(e){const t=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<t.length;o++){const s=t[o],r=s.getAttribute("aria-owns");r?-1===r.indexOf(e)&&s.setAttribute("aria-owns",r+" "+e):s.setAttribute("aria-owns",e)}}}return i.\u0275fac=function(e){return new(e||i)(Le(AX,8),Le(Bt),Le(pi),Le(MX,8))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const TX=new nt("cdk-focus-monitor-default-options"),vb=Ka({passive:!0,capture:!0});let Cs=(()=>{class i{constructor(e,t,o,s,r){this._ngZone=e,this._platform=t,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new R,this._rootNodeFocusAndBlurListener=a=>{for(let c=jr(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=r?.detectionMode||0}monitor(e,t=!1){const o=To(e);if(!this._platform.isBrowser||1!==o.nodeType)return Ht(null);const s=fw(o)||this._getDocument(),r=this._elementInfo.get(o);if(r)return t&&(r.checkChildren=!0),r.subject;const a={checkChildren:t,subject:new R,rootNode:s};return this._elementInfo.set(o,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const t=To(e),o=this._elementInfo.get(t);o&&(o.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(o))}focusVia(e,t,o){const s=To(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,t,l)):(this._setOrigin(t),"function"==typeof s.focus&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,t){e.classList.toggle("cdk-focused",!!t),e.classList.toggle("cdk-touch-focused","touch"===t),e.classList.toggle("cdk-keyboard-focused","keyboard"===t),e.classList.toggle("cdk-mouse-focused","mouse"===t),e.classList.toggle("cdk-program-focused","program"===t)}_setOrigin(e,t=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&t,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,t){const o=this._elementInfo.get(t),s=jr(e);!o||!o.checkChildren&&t!==s||this._originChanged(t,this._getFocusOrigin(s),o)}_onBlur(e,t){const o=this._elementInfo.get(t);!o||o.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(o,null))}_emitOrigin(e,t){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,o=this._rootNodeFocusListenerCount.get(t)||0;o||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,vb),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,vb)}),this._rootNodeFocusListenerCount.set(t,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(hi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const o=this._rootNodeFocusListenerCount.get(t);o>1?this._rootNodeFocusListenerCount.set(t,o-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vb),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vb),this._rootNodeFocusListenerCount.delete(t))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,t,o){this._setClasses(e,t),this._emitOrigin(o,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){const t=[];return this._elementInfo.forEach((o,s)=>{(s===e||o.checkChildren&&s.contains(e))&&t.push([s,o])}),t}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:t,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!t||t===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let r=0;r<s.length;r++)if(s[r].contains(t))return!0;return!1}}return i.\u0275fac=function(e){return new(e||i)(Le(Bt),Le(Mn),Le(IX),Le(pi,8),Le(TX,8))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Aw=(()=>{class i{constructor(e,t){this._elementRef=e,this._focusMonitor=t,this._focusOrigin=null,this.cdkFocusChange=new tt}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>{this._focusOrigin=t,this.cdkFocusChange.emit(t)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Cs))},i.\u0275dir=Xe({type:i,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),i})();const tR="cdk-high-contrast-black-on-white",iR="cdk-high-contrast-white-on-black",Sw="cdk-high-contrast-active";let Mw,nR=(()=>{class i{constructor(e,t){this._platform=e,this._document=t,this._breakpointSubscription=di(Cw).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,o=t&&t.getComputedStyle?t.getComputedStyle(e):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Sw,tR,iR),this._hasCheckedHighContrastMode=!0;const t=this.getHighContrastMode();1===t?e.add(Sw,tR):2===t&&e.add(Sw,iR)}}}return i.\u0275fac=function(e){return new(e||i)(Le(Mn),Le(pi))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),yb=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(e){return new(e||i)(Le(nR))},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[mb]}),i})(),EX=1;const xb={};function oR(i){return i in xb&&(delete xb[i],!0)}const DX={setImmediate(i){const n=EX++;return xb[n]=!0,Mw||(Mw=Promise.resolve()),Mw.then(()=>oR(n)&&i()),n},clearImmediate(i){oR(i)}},{setImmediate:OX,clearImmediate:RX}=DX,Cb={setImmediate(...i){const{delegate:n}=Cb;return(n?.setImmediate||OX)(...i)},clearImmediate(i){const{delegate:n}=Cb;return(n?.clearImmediate||RX)(i)},delegate:void 0},Pw=new class LX extends yw{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:t}=this;let o;n=n||t.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=t[0])&&n.id===e&&t.shift());if(this._active=!1,o){for(;(n=t[0])&&n.id===e&&t.shift();)n.unsubscribe();throw o}}}(class FX extends bw{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,t=0){return null!==t&&t>0?super.requestAsyncId(n,e,t):(n.actions.push(this),n._scheduled||(n._scheduled=Cb.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,t=0){var o;if(null!=t?t>0:this.delay>0)return super.recycleAsyncId(n,e,t);const{actions:s}=n;null!=e&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==e&&(Cb.clearImmediate(e),n._scheduled=void 0)}});function sR(i,n){return n?e=>gm(n.pipe(mn(1),function NX(){return ve((i,n)=>{i.subscribe(xe(n,O))})}()),e.pipe(sR(i))):rt((e,t)=>jn(i(e,t)).pipe(mn(1),L_(e)))}function wb(i=0,n,e=QY){let t=-1;return null!=n&&(bo(n)?e=n:t=n),new U(o=>{let s=function BX(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;s<0&&(s=0);let r=0;return e.schedule(function(){o.closed||(o.next(r++),0<=t?this.schedule(void 0,t):o.complete())},s)})}function Tw(i,n=jm){const e=wb(i,n);return sR(()=>e)}const VX=new nt("cdk-dir-doc",{providedIn:"root",factory:function $X(){return di(pi)}}),HX=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Hn=(()=>{class i{constructor(e){this.value="ltr",this.change=new tt,e&&(this.value=function zX(i){const n=i?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?HX.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(Le(VX,8))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ym=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({}),i})();const jX=["text"];function GX(i,n){if(1&i&&me(0,"mat-pseudo-checkbox",6),2&i){const e=I();g("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function WX(i,n){1&i&&me(0,"mat-pseudo-checkbox",7),2&i&&g("disabled",I().disabled)}function UX(i,n){if(1&i&&(x(0,"span",8),ee(1),C()),2&i){const e=I();_(1),Mt("(",e.group.label,")")}}const ZX=[[["mat-icon"]],"*"],KX=["mat-icon","*"],JX=new nt("mat-sanity-checks",{providedIn:"root",factory:function qX(){return!0}});let bi=(()=>{class i{constructor(e,t,o){this._sanityChecks=t,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!gw()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return i.\u0275fac=function(e){return new(e||i)(Le(nR),Le(JX,8),Le(pi))},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Ym,Ym]}),i})();function Xa(i){return class extends i{get disabled(){return this._disabled}set disabled(n){this._disabled=bt(n)}constructor(...n){super(...n),this._disabled=!1}}}function Bl(i,n){return class extends i{get color(){return this._color}set color(e){const t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-${t}`),this._color=t)}constructor(...e){super(...e),this.defaultColor=n,this.color=n}}}function qa(i){return class extends i{get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=bt(n)}constructor(...n){super(...n),this._disableRipple=!1}}}function Cc(i,n=0){return class extends i{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?hn(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}}}function kb(i){return class extends i{updateErrorState(){const n=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==n&&(this.errorState=s,this.stateChanges.next())}constructor(...n){super(...n),this.errorState=!1}}}function lR(i){return class extends i{constructor(...n){super(...n),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new U(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(n){n.next(),n.complete()}}}const QX=new nt("MAT_DATE_LOCALE",{providedIn:"root",factory:function eq(){return di(Pl)}});class to{constructor(){this._localeChanges=new R,this.localeChanges=this._localeChanges}getValidDateOrNull(n){return this.isDateInstance(n)&&this.isValid(n)?n:null}deserialize(n){return null==n||this.isDateInstance(n)&&this.isValid(n)?n:this.invalid()}setLocale(n){this.locale=n,this._localeChanges.next()}compareDate(n,e){return this.getYear(n)-this.getYear(e)||this.getMonth(n)-this.getMonth(e)||this.getDate(n)-this.getDate(e)}sameDate(n,e){if(n&&e){let t=this.isValid(n),o=this.isValid(e);return t&&o?!this.compareDate(n,e):t==o}return n==e}clampDate(n,e,t){return e&&this.compareDate(n,e)<0?e:t&&this.compareDate(n,t)>0?t:n}}const ga=new nt("mat-date-formats"),tq=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Ew(i,n){const e=Array(i);for(let t=0;t<i;t++)e[t]=n(t);return e}let cR=(()=>{class i extends to{constructor(e,t){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Ew(12,o=>this._format(t,new Date(2017,o,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ew(31,t=>this._format(e,new Date(2017,0,t+1)))}getDayOfWeekNames(e){const t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Ew(7,o=>this._format(t,new Date(2017,0,o+1)))}getYearName(e){const t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(t,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,t,o){let s=this._createDateWithOverflow(e,t,o);return s.getMonth(),s}today(){return new Date}parse(e,t){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const o=new Intl.DateTimeFormat(this.locale,{...t,timeZone:"utc"});return this._format(o,e)}addCalendarYears(e,t){return this.addCalendarMonths(e,12*t)}addCalendarMonths(e,t){let o=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(o)!=((this.getMonth(e)+t)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(tq.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,t,o){const s=new Date;return s.setFullYear(e,t,o),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,t){const o=new Date;return o.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),o.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.format(o)}}return i.\u0275fac=function(e){return new(e||i)(Le(QX,8),Le(Mn))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();const iq={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let nq=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[{provide:to,useClass:cR}]}),i})(),oq=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[{provide:ga,useValue:iq}],imports:[nq]}),i})(),Wd=(()=>{class i{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),dR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi,bi]}),i})();class sq{constructor(n,e,t,o=!1){this._renderer=n,this.element=e,this.config=t,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const uR=Ka({passive:!0,capture:!0});class rq{constructor(){this._events=new Map,this._delegateEventHandler=n=>{const e=jr(n);e&&this._events.get(n.type)?.forEach((t,o)=>{(o===e||o.contains(e))&&t.forEach(s=>s.handleEvent(n))})}}addHandler(n,e,t,o){const s=this._events.get(e);if(s){const r=s.get(t);r?r.add(o):s.set(t,new Set([o]))}else this._events.set(e,new Map([[t,new Set([o])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,uR)})}removeHandler(n,e,t){const o=this._events.get(n);if(!o)return;const s=o.get(e);s&&(s.delete(t),0===s.size&&o.delete(e),0===o.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,uR)))}}const hR={enterDuration:225,exitDuration:150},pR=Ka({passive:!0,capture:!0}),mR=["mousedown","touchstart"],fR=["mouseup","mouseleave","touchend","touchcancel"];class $h{constructor(n,e,t,o){this._target=n,this._ngZone=e,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=To(t))}fadeInRipple(n,e,t={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...hR,...t.animation};t.centered&&(n=o.left+o.width/2,e=o.top+o.height/2);const r=t.radius||function lq(i,n,e){const t=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),o=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(t*t+o*o)}(n,e,o),a=n-o.left,l=e-o.top,c=s.enterDuration,A=document.createElement("div");A.classList.add("mat-ripple-element"),A.style.left=a-r+"px",A.style.top=l-r+"px",A.style.height=2*r+"px",A.style.width=2*r+"px",null!=t.color&&(A.style.backgroundColor=t.color),A.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(A);const D=window.getComputedStyle(A),se=D.transitionDuration,le="none"===D.transitionProperty||"0s"===se||"0s, 0s"===se||0===o.width&&0===o.height,ke=new sq(this,A,t,le);A.style.transform="scale3d(1, 1, 1)",ke.state=0,t.persistent||(this._mostRecentTransientRipple=ke);let Pe=null;return!le&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ze=()=>this._finishRippleTransition(ke),at=()=>this._destroyRipple(ke);A.addEventListener("transitionend",ze),A.addEventListener("transitioncancel",at),Pe={onTransitionEnd:ze,onTransitionCancel:at}}),this._activeRipples.set(ke,Pe),(le||!c)&&this._finishRippleTransition(ke),ke}fadeOutRipple(n){if(2===n.state||3===n.state)return;const e=n.element,t={...hR,...n.config.animation};e.style.transitionDuration=`${t.exitDuration}ms`,e.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!t.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=To(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,mR.forEach(t=>{$h._eventManager.addHandler(this._ngZone,t,e,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{fR.forEach(e=>{this._triggerElement.addEventListener(e,this,pR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:t}=n.config;n.state=1,!t&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=_b(n),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!t&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!bb(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(mR.forEach(e=>$h._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&fR.forEach(e=>n.removeEventListener(e,this,pR)))}}$h._eventManager=new rq;const wc=new nt("mat-ripple-global-options");let Vo=(()=>{class i{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,t,o,s,r){this._elementRef=e,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new $h(this,t,e,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Bt),P(Mn),P(wc,8),P(yn,8))},i.\u0275dir=Xe({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&St("mat-ripple-unbounded",t.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),Ir=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi,bi]}),i})(),cq=(()=>{class i{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return i.\u0275fac=function(e){return new(e||i)(P(yn,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(e,t){2&e&&St("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("mat-pseudo-checkbox-minimal","minimal"===t.appearance)("mat-pseudo-checkbox-full","full"===t.appearance)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),i})(),gR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi]}),i})();const _R=new nt("MAT_OPTION_PARENT_COMPONENT"),bR=new nt("MatOptgroup");let dq=0;class vR{constructor(n,e=!1){this.source=n,this.isUserInput=e}}let uq=(()=>{class i{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=bt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,t,o,s){this._element=e,this._changeDetectorRef=t,this._parent=o,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+dq++,this.onSelectionChange=new tt,this._stateChanges=new R}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,t){const o=this._getHostElement();"function"==typeof o.focus&&o.focus(t)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!fo(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new vR(this,e))}}return i.\u0275fac=function(e){Ha()},i.\u0275dir=Xe({type:i,viewQuery:function(e,t){if(1&e&&ht(jX,7),2&e){let o;Ke(o=Ye())&&(t._text=o.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),i})(),Ib=(()=>{class i extends uq{constructor(e,t,o,s){super(e,t,o,s)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt),P(_R,8),P(bR,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mat-mdc-focus-indicator","mdc-list-item"],hostVars:12,hostBindings:function(e,t){1&e&&ie("click",function(){return t._selectViaInteraction()})("keydown",function(s){return t._handleKeydown(s)}),2&e&&(ps("id",t.id),Et("tabindex",t._getTabIndex())("aria-selected",t.selected)("aria-disabled",t.disabled.toString()),St("mdc-list-item--selected",t.selected)("mat-mdc-option-multiple",t.multiple)("mat-mdc-option-active",t.active)("mdc-list-item--disabled",t.disabled))},exportAs:["matOption"],features:[Re],ngContentSelectors:KX,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(e,t){1&e&&(Li(ZX),$(0,GX,1,2,"mat-pseudo-checkbox",0),Ft(1),x(2,"span",1,2),Ft(4,1),C(),$(5,WX,1,1,"mat-pseudo-checkbox",3),$(6,UX,2,1,"span",4),me(7,"div",5)),2&e&&(g("ngIf",t.multiple),_(5),g("ngIf",!t.multiple&&t.selected&&!t.hideSingleSelectionIndicator),_(1),g("ngIf",t.group&&t.group._inert),_(1),g("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disabled||t.disableRipple))},dependencies:[Vo,ct,cq],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active::before{content:""}'],encapsulation:2,changeDetection:0}),i})();let Ab=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Ir,Gi,bi,gR]}),i})();class Dw{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class Vl extends Dw{constructor(n,e,t,o,s){super(),this.component=n,this.viewContainerRef=e,this.injector=t,this.componentFactoryResolver=o,this.projectableNodes=s}}class $l extends Dw{constructor(n,e,t,o){super(),this.templateRef=n,this.viewContainerRef=e,this.context=t,this.injector=o}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class hq extends Dw{constructor(n){super(),this.element=n instanceof $e?n.nativeElement:n}}class Sb{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof Vl?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof $l?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof hq?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class pq extends Sb{constructor(n,e,t,o,s){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=t,this._defaultInjector=o,this.attachDomPortal=r=>{const a=r.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=r,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(n){const t=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let o;return n.viewContainerRef?(o=n.viewContainerRef.createComponent(t,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>o.destroy())):(o=t.create(n.injector||this._defaultInjector||Jn.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=n,o}attachTemplatePortal(n){let e=n.viewContainerRef,t=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return t.rootNodes.forEach(o=>this.outletElement.appendChild(o)),t.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(t);-1!==o&&e.remove(o)}),this._attachedPortal=n,t}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let mq=(()=>{class i extends $l{constructor(e,t){super(e,t)}}return i.\u0275fac=function(e){return new(e||i)(P($n),P(Ri))},i.\u0275dir=Xe({type:i,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Re]}),i})(),or=(()=>{class i extends Sb{constructor(e,t,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new tt,this.attachDomPortal=s=>{const r=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),r.parentNode.insertBefore(a,r),this._getRootNode().appendChild(r),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(r,a)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r=t.createComponent(s,t.length,e.injector||t.injector,e.projectableNodes||void 0);return t!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(P(Va),P(Ri),P(pi))},i.\u0275dir=Xe({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Re]}),i})(),Hl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({}),i})();class CR{}class fq{}const kc="*";function Co(i,n){return{type:7,name:i,definitions:n,options:{}}}function Qi(i,n=null){return{type:4,styles:n,timings:i}}function qm(i,n=null){return{type:3,steps:i,options:n}}function wR(i,n=null){return{type:2,steps:i,options:n}}function ei(i){return{type:6,styles:i,offset:null}}function _n(i,n,e){return{type:0,name:i,styles:n,options:e}}function Hh(i){return{type:5,steps:i}}function sn(i,n,e=null){return{type:1,expr:i,animation:n,options:e}}function Mb(i=null){return{type:9,options:i}}function Pb(i,n,e=null){return{type:11,selector:i,animation:n,options:e}}function kR(i){Promise.resolve().then(i)}class Jm{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class IR{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,t=0,o=0;const s=this.players.length;0==s?kR(()=>this._onFinish()):this.players.forEach(r=>{r.onDone(()=>{++e==s&&this._onFinish()}),r.onDestroy(()=>{++t==s&&this._onDestroy()}),r.onStart(()=>{++o==s&&this._onStart()})}),this.totalTime=this.players.reduce((r,a)=>Math.max(r,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(t=>{const o=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(o)})}getPosition(){const n=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Ow="!",gq=["addListener","removeListener"],_q=["addEventListener","removeEventListener"],bq=["on","off"];function Ja(i,n,e,t){if(je(e)&&(t=e,e=void 0),t)return Ja(i,n,e).pipe(DC(t));const[o,s]=function xq(i){return je(i.addEventListener)&&je(i.removeEventListener)}(i)?_q.map(r=>a=>i[r](n,a,e)):function vq(i){return je(i.addListener)&&je(i.removeListener)}(i)?gq.map(AR(i,n)):function yq(i){return je(i.on)&&je(i.off)}(i)?bq.map(AR(i,n)):[];if(!o&&$i(i))return rt(r=>Ja(r,n,e))(jn(i));if(!o)throw new TypeError("Invalid event target");return new U(r=>{const a=(...l)=>r.next(1<l.length?l:l[0]);return o(a),()=>s(a)})}function AR(i,n){return e=>t=>i[e](n,t)}const Qm={schedule(i){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:t}=Qm;t&&(n=t.requestAnimationFrame,e=t.cancelAnimationFrame);const o=n(s=>{e=void 0,i(s)});return new z(()=>e?.(o))},requestAnimationFrame(...i){const{delegate:n}=Qm;return(n?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:n}=Qm;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0},SR=new class wq extends yw{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:t}=this;let o;n=n||t.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=t[0])&&n.id===e&&t.shift());if(this._active=!1,o){for(;(n=t[0])&&n.id===e&&t.shift();)n.unsubscribe();throw o}}}(class Cq extends bw{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,t=0){return null!==t&&t>0?super.requestAsyncId(n,e,t):(n.actions.push(this),n._scheduled||(n._scheduled=Qm.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,t=0){var o;if(null!=t?t>0:this.delay>0)return super.recycleAsyncId(n,e,t);const{actions:s}=n;null!=e&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==e&&(Qm.cancelAnimationFrame(e),n._scheduled=void 0)}});function Rw(i){return!!i&&(i instanceof U||je(i.lift)&&je(i.subscribe))}function Fw(i,n=jm){return function kq(i){return ve((n,e)=>{let t=!1,o=null,s=null,r=!1;const a=()=>{if(s?.unsubscribe(),s=null,t){t=!1;const c=o;o=null,e.next(c)}r&&e.complete()},l=()=>{s=null,r&&e.complete()};n.subscribe(xe(e,c=>{t=!0,o=c,s||jn(i(c)).subscribe(s=xe(e,a,l))},()=>{r=!0,(!t||!s||s.closed)&&e.complete()}))})}(()=>wb(i,n))}class MR extends R{constructor(n=1/0,e=1/0,t=vw){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:t,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:r}=this;e||(t.push(n),!o&&t.push(s.now()+r)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:t,_buffer:o}=this,s=o.slice();for(let r=0;r<s.length&&!n.closed;r+=t?1:2)n.next(s[r]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:t,_infiniteTimeWindow:o}=this,s=(o?1:2)*n;if(n<1/0&&s<t.length&&t.splice(0,t.length-s),!o){const r=e.now();let a=0;for(let l=1;l<t.length&&t[l]<=r;l+=2)a=l;a&&t.splice(0,a+1)}}}class PR{}function Tb(i){return i&&"function"==typeof i.connect&&!(i instanceof RC)}class Sq extends PR{constructor(n){super(),this._data=n}connect(){return Rw(this._data)?this._data:Ht(this._data)}disconnect(){}}class TR{applyChanges(n,e,t,o,s){n.forEachOperation((r,a,l)=>{let c,A;if(null==r.previousIndex){const D=t(r,a,l);c=e.createEmbeddedView(D.templateRef,D.context,D.index),A=1}else null==l?(e.remove(a),A=3):(c=e.get(a),e.move(c,l),A=2);s&&s({context:c?.context,operation:A,record:r})})}detach(){}}class Lw{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(n,e,t,o,s){n.forEachOperation((r,a,l)=>{let c,A;null==r.previousIndex?(c=this._insertView(()=>t(r,a,l),l,e,o(r)),A=c?1:0):null==l?(this._detachAndCacheView(a,e),A=3):(c=this._moveView(a,l,e,o(r)),A=2),s&&s({context:c?.context,operation:A,record:r})})}detach(){for(const n of this._viewCache)n.destroy();this._viewCache=[]}_insertView(n,e,t,o){const s=this._insertViewFromCache(e,t);if(s)return void(s.context.$implicit=o);const r=n();return t.createEmbeddedView(r.templateRef,r.context,r.index)}_detachAndCacheView(n,e){const t=e.detach(n);this._maybeCacheView(t,e)}_moveView(n,e,t,o){const s=t.get(n);return t.move(s,e),s.context.$implicit=o,s}_maybeCacheView(n,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(n);else{const t=e.indexOf(n);-1===t?n.destroy():e.remove(t)}}_insertViewFromCache(n,e){const t=this._viewCache.pop();return t&&e.insert(t,n),t||null}}class Ud{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(n=!1,e,t=!0,o){this._multiple=n,this._emitChanges=t,this.compareWith=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new R,e&&e.length&&(n?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(t=>this._markSelected(t));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(t=>this._unmarkSelected(t));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);const e=this.selected,t=new Set(n);n.forEach(s=>this._markSelected(s)),e.filter(s=>!t.has(s)).forEach(s=>this._unmarkSelected(s));const o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();const e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(n){if(this.compareWith){for(let e of this._selection)if(this.compareWith(n,e))return e;return n}return n}}let Nw=(()=>{class i{constructor(){this._listeners=[]}notify(e,t){for(let o of this._listeners)o(e,t)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(t=>e!==t)}}ngOnDestroy(){this._listeners=[]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Zd=new nt("_ViewRepeater"),Mq=["contentWrapper"],Pq=["*"],ER=new nt("VIRTUAL_SCROLL_STRATEGY");class Tq{constructor(n,e,t){this._scrolledIndexChange=new R,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Nh()),this._viewport=null,this._itemSize=n,this._minBufferPx=e,this._maxBufferPx=t}attach(n){this._viewport=n,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(n,e,t){this._itemSize=n,this._minBufferPx=e,this._maxBufferPx=t,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(n,e){this._viewport&&this._viewport.scrollToOffset(n*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const n=this._viewport.getRenderedRange(),e={start:n.start,end:n.end},t=this._viewport.getViewportSize(),o=this._viewport.getDataLength();let s=this._viewport.measureScrollOffset(),r=this._itemSize>0?s/this._itemSize:0;if(e.end>o){const l=Math.ceil(t/this._itemSize),c=Math.max(0,Math.min(r,o-l));r!=c&&(r=c,s=c*this._itemSize,e.start=Math.floor(r)),e.end=Math.max(0,Math.min(o,e.start+l))}const a=s-e.start*this._itemSize;if(a<this._minBufferPx&&0!=e.start){const l=Math.ceil((this._maxBufferPx-a)/this._itemSize);e.start=Math.max(0,e.start-l),e.end=Math.min(o,Math.ceil(r+(t+this._minBufferPx)/this._itemSize))}else{const l=e.end*this._itemSize-(s+t);if(l<this._minBufferPx&&e.end!=o){const c=Math.ceil((this._maxBufferPx-l)/this._itemSize);c>0&&(e.end=Math.min(o,e.end+c),e.start=Math.max(0,Math.floor(r-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(r))}}function Eq(i){return i._scrollStrategy}let DR=(()=>{class i{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Tq(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=hn(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=hn(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=hn(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[Ct([{provide:ER,useFactory:Eq,deps:[Si(()=>i)]}]),dn]}),i})(),Kd=(()=>{class i{constructor(e,t,o){this._ngZone=e,this._platform=t,this._scrolled=new R,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new U(t=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(Fw(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ht()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const o=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(ln(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,e)&&t.push(s)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let o=To(t),s=e.getElementRef().nativeElement;do{if(o==s)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ja(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(Le(Bt),Le(Mn),Le(pi,8))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ef=(()=>{class i{constructor(e,t,o,s){this.elementRef=e,this.scrollDispatcher=t,this.ngZone=o,this.dir=s,this._destroyed=new R,this._elementScrolled=new U(r=>this.ngZone.runOutsideAngular(()=>Ja(this.elementRef.nativeElement,"scroll").pipe(hi(this._destroyed)).subscribe(r)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const t=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=o?e.end:e.start),null==e.right&&(e.right=o?e.start:e.end),null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),o&&0!=Vm()?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),2==Vm()?e.left=e.right:1==Vm()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const t=this.elementRef.nativeElement;jO()?t.scrollTo(e):(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left))}measureScrollOffset(e){const t="left",o="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const r=this.dir&&"rtl"==this.dir.value;return"start"==e?e=r?o:t:"end"==e&&(e=r?t:o),r&&2==Vm()?e==t?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:r&&1==Vm()?e==t?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==t?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Kd),P(Bt),P(Hn,8))},i.\u0275dir=Xe({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),i})(),Gr=(()=>{class i{constructor(e,t,o){this._platform=e,this._change=new R,this._changeListener=s=>{this._change.next(s)},this._document=o,t.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+t,height:o,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),o=e.documentElement,s=o.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||t.scrollY||o.scrollTop||0,left:-s.left||e.body.scrollLeft||t.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Fw(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(Le(Mn),Le(Bt),Le(pi,8))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const OR=new nt("VIRTUAL_SCROLLABLE");let Rq=(()=>{class i extends ef{constructor(e,t,o,s){super(e,t,o,s)}measureViewportSize(e){const t=this.elementRef.nativeElement;return"horizontal"===e?t.clientWidth:t.clientHeight}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Kd),P(Bt),P(Hn,8))},i.\u0275dir=Xe({type:i,features:[Re]}),i})();const Lq=typeof requestAnimationFrame<"u"?SR:Pw;let Eb=(()=>{class i extends Rq{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=bt(e)}constructor(e,t,o,s,r,a,l,c){super(e,a,o,r),this.elementRef=e,this._changeDetectorRef=t,this._scrollStrategy=s,this.scrollable=c,this._platform=di(Mn),this._detachedSubject=new R,this._renderedRangeSubject=new R,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new U(A=>this._scrollStrategy.scrolledIndexChange.subscribe(D=>Promise.resolve().then(()=>this.ngZone.run(()=>A.next(D))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=z.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Zn(null),Fw(0,Lq)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(hi(this._detachedSubject)).subscribe(t=>{const o=t.length;o!==this._dataLength&&(this._dataLength=o,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function Fq(i,n){return i.start==n.start&&i.end==n.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,t="to-start"){e=this.appendOnly&&"to-start"===t?0:e;const s="horizontal"==this.orientation,r=s?"X":"Y";let l=`translate${r}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===t&&(l+=` translate${r}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,t="auto"){const o={behavior:t};"horizontal"===this.orientation?o.start=e:o.top=e,this.scrollable.scrollTo(o)}scrollToIndex(e,t="auto"){this._scrollStrategy.scrollToIndex(e,t)}measureScrollOffset(e){let t;return t=this.scrollable==this?o=>super.measureScrollOffset(o):o=>this.scrollable.measureScrollOffset(o),Math.max(0,t(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let t;const o="left",s="right",r="rtl"==this.dir?.value;t="start"==e?r?s:o:"end"==e?r?o:s:e||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(t);return this.elementRef.nativeElement.getBoundingClientRect()[t]-a}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const t of e)t()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt),P(Bt),P(ER,8),P(Hn,8),P(Kd),P(Gr),P(OR,8))},i.\u0275cmp=Fe({type:i,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,t){if(1&e&&ht(Mq,7),2&e){let o;Ke(o=Ye())&&(t._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,t){2&e&&St("cdk-virtual-scroll-orientation-horizontal","horizontal"===t.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==t.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Ct([{provide:ef,useFactory:(n,e)=>n||e,deps:[[new _r,new Lp(OR)],i]}]),Re,D0],ngContentSelectors:Pq,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,t){1&e&&(Li(),x(0,"div",0,1),Ft(2),C(),me(3,"div",2)),2&e&&(_(3),et("width",t._totalContentWidth)("height",t._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),i})();function RR(i,n,e){if(!e.getBoundingClientRect)return 0;const o=e.getBoundingClientRect();return"horizontal"===i?"start"===n?o.left:o.right:"start"===n?o.top:o.bottom}let FR=(()=>{class i{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,Tb(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new Sq(Rw(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(t,o)=>e(t+(this._renderedRange?this._renderedRange.start:0),o):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=hn(e)}constructor(e,t,o,s,r,a){this._viewContainerRef=e,this._template=t,this._differs=o,this._viewRepeater=s,this._viewport=r,this.viewChange=new R,this._dataSourceChanges=new R,this.dataStream=this._dataSourceChanges.pipe(Zn(null),function Iq(){return ve((i,n)=>{let e,t=!1;i.subscribe(xe(n,o=>{const s=e;e=o,t&&n.next([s,o]),t=!0}))})}(),Po(([l,c])=>this._changeDataSource(l,c)),function Aq(i,n,e){let t,o=!1;return i&&"object"==typeof i?({bufferSize:t=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=i):t=i??1/0,Dr({connector:()=>new MR(t,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new R,this.dataStream.subscribe(l=>{this._data=l,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(hi(this._destroyed)).subscribe(l=>{this._renderedRange=l,this.viewChange.observers.length&&a.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(e,t){if(e.start>=e.end)return 0;const o=e.start-this._renderedRange.start,s=e.end-e.start;let r,a;for(let l=0;l<s;l++){const c=this._viewContainerRef.get(l+o);if(c&&c.rootNodes.length){r=a=c.rootNodes[0];break}}for(let l=s-1;l>-1;l--){const c=this._viewContainerRef.get(l+o);if(c&&c.rootNodes.length){a=c.rootNodes[c.rootNodes.length-1];break}}return r&&a?RR(t,"end",a)-RR(t,"start",r):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,t)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,t):t)),this._needsUpdate=!0)}_changeDataSource(e,t){return e&&e.disconnect(this),this._needsUpdate=!0,t?t.connect(this):Ht()}_updateContext(){const e=this._data.length;let t=this._viewContainerRef.length;for(;t--;){const o=this._viewContainerRef.get(t);o.context.index=this._renderedRange.start+t,o.context.count=e,this._updateComputedContextProperties(o.context),o.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(s,r,a)=>this._getEmbeddedViewArgs(s,a),s=>s.item),e.forEachIdentityChange(s=>{this._viewContainerRef.get(s.currentIndex).context.$implicit=s.item});const t=this._data.length;let o=this._viewContainerRef.length;for(;o--;){const s=this._viewContainerRef.get(o);s.context.index=this._renderedRange.start+o,s.context.count=t,this._updateComputedContextProperties(s.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,t){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:t}}}return i.\u0275fac=function(e){return new(e||i)(P(Ri),P($n),P(Tl),P(Zd),P(Eb,4),P(Bt))},i.\u0275dir=Xe({type:i,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[Ct([{provide:Zd,useClass:Lw}])]}),i})(),zl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({}),i})(),tf=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Ym,zl,Eb,Ym,zl]}),i})();const LR=jO();class Nq{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Ko(-this._previousScrollPosition.left),n.style.top=Ko(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,t=n.style,o=this._document.body.style,s=t.scrollBehavior||"",r=o.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),LR&&(t.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),LR&&(t.scrollBehavior=s,o.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class Bq{constructor(n,e,t,o){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=t,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class NR{enable(){}disable(){}attach(){}}function Bw(i,n){return n.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function BR(i,n){return n.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class Vq{constructor(n,e,t,o){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=t,this._config=o,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:o}=this._viewportRuler.getViewportSize();Bw(e,[{width:t,height:o,bottom:o,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let $q=(()=>{class i{constructor(e,t,o,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=o,this.noop=()=>new NR,this.close=r=>new Bq(this._scrollDispatcher,this._ngZone,this._viewportRuler,r),this.block=()=>new Nq(this._viewportRuler,this._document),this.reposition=r=>new Vq(this._scrollDispatcher,this._viewportRuler,this._ngZone,r),this._document=s}}return i.\u0275fac=function(e){return new(e||i)(Le(Kd),Le(Gr),Le(Bt),Le(pi))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Yd{constructor(n){if(this.scrollStrategy=new NR,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const t of e)void 0!==n[t]&&(this[t]=n[t])}}}class Hq{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let VR=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(Le(pi))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),zq=(()=>{class i extends VR{constructor(e,t){super(e),this._ngZone=t,this._keydownListener=o=>{const s=this._attachedOverlays;for(let r=s.length-1;r>-1;r--)if(s[r]._keydownEvents.observers.length>0){const a=s[r]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(o)):a.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(Le(pi),Le(Bt,8))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),jq=(()=>{class i extends VR{constructor(e,t,o){super(e),this._platform=t,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=jr(s)},this._clickListener=s=>{const r=jr(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const A=l[c];if(A._outsidePointerEvents.observers.length<1||!A.hasAttached())continue;if(A.overlayElement.contains(r)||A.overlayElement.contains(a))break;const D=A._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(s)):D.next(s)}}}add(e){if(super.add(e),!this._isAttached){const t=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(t)):this._addEventListeners(t),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(e){return new(e||i)(Le(pi),Le(Mn),Le(Bt,8))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Xd=(()=>{class i{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||gw()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}const t=this._document.createElement("div");t.classList.add(e),gw()?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return i.\u0275fac=function(e){return new(e||i)(Le(pi),Le(Mn))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class nf{constructor(n,e,t,o,s,r,a,l,c,A=!1){this._portalOutlet=n,this._host=e,this._pane=t,this._config=o,this._ngZone=s,this._keyboardDispatcher=r,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=A,this._backdropElement=null,this._backdropClick=new R,this._attachments=new R,this._detachments=new R,this._locationChanges=z.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new R,this._outsidePointerEvents=new R,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(mn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=Ko(this._config.width),n.height=Ko(this._config.height),n.minWidth=Ko(this._config.minWidth),n.minHeight=Ko(this._config.minHeight),n.maxWidth=Ko(this._config.maxWidth),n.maxHeight=Ko(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,t){const o=Gm(e||[]).filter(s=>!!s);o.length&&(t?n.classList.add(...o):n.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(hi(Yi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const $R="cdk-overlay-connected-position-bounding-box",Gq=/([A-Za-z%]+)$/;class HR{get positions(){return this._preferredPositions}constructor(n,e,t,o,s){this._viewportRuler=e,this._document=t,this._platform=o,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new R,this._resizeSubscription=z.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add($R),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,t=this._viewportRect,o=this._containerRect,s=[];let r;for(let a of this._preferredPositions){let l=this._getOriginPoint(n,o,a),c=this._getOverlayPoint(l,e,a),A=this._getOverlayFit(c,e,t,a);if(A.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(A,c,t)?s.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!r||r.overlayFit.visibleArea<A.visibleArea)&&(r={overlayFit:A,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(s.length){let a=null,l=-1;for(const c of s){const A=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);A>l&&(l=A,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove($R),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,t){let o,s;if("center"==t.originX)o=n.left+n.width/2;else{const r=this._isRtl()?n.right:n.left,a=this._isRtl()?n.left:n.right;o="start"==t.originX?r:a}return e.left<0&&(o-=e.left),s="center"==t.originY?n.top+n.height/2:"top"==t.originY?n.top:n.bottom,e.top<0&&(s-=e.top),{x:o,y:s}}_getOverlayPoint(n,e,t){let o,s;return o="center"==t.overlayX?-e.width/2:"start"===t.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==t.overlayY?-e.height/2:"top"==t.overlayY?0:-e.height,{x:n.x+o,y:n.y+s}}_getOverlayFit(n,e,t,o){const s=jR(e);let{x:r,y:a}=n,l=this._getOffset(o,"x"),c=this._getOffset(o,"y");l&&(r+=l),c&&(a+=c);let te=0-a,se=a+s.height-t.height,le=this._subtractOverflows(s.width,0-r,r+s.width-t.width),ke=this._subtractOverflows(s.height,te,se),Pe=le*ke;return{visibleArea:Pe,isCompletelyWithinViewport:s.width*s.height===Pe,fitsInViewportVertically:ke===s.height,fitsInViewportHorizontally:le==s.width}}_canFitWithFlexibleDimensions(n,e,t){if(this._hasFlexibleDimensions){const o=t.bottom-e.y,s=t.right-e.x,r=zR(this._overlayRef.getConfig().minHeight),a=zR(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=r&&r<=o)&&(n.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(n,e,t){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const o=jR(e),s=this._viewportRect,r=Math.max(n.x+o.width-s.width,0),a=Math.max(n.y+o.height-s.height,0),l=Math.max(s.top-t.top-n.y,0),c=Math.max(s.left-t.left-n.x,0);let A=0,D=0;return A=o.width<=s.width?c||-r:n.x<this._viewportMargin?s.left-t.left-n.x:0,D=o.height<=s.height?l||-a:n.y<this._viewportMargin?s.top-t.top-n.y:0,this._previousPushAmount={x:A,y:D},{x:n.x+A,y:n.y+D}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const t=this._getScrollVisibility(),o=new Hq(n,t);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let t,o=n.overlayY;t="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${t} ${o}`}_calculateBoundingBoxRect(n,e){const t=this._viewportRect,o=this._isRtl();let s,r,a,A,D,te;if("top"===e.overlayY)r=n.y,s=t.height-r+this._viewportMargin;else if("bottom"===e.overlayY)a=t.height-n.y+2*this._viewportMargin,s=t.height-a+this._viewportMargin;else{const se=Math.min(t.bottom-n.y+t.top,n.y),le=this._lastBoundingBoxSize.height;s=2*se,r=n.y-se,s>le&&!this._isInitialRender&&!this._growAfterOpen&&(r=n.y-le/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)te=t.width-n.x+this._viewportMargin,A=n.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)D=n.x,A=t.right-n.x;else{const se=Math.min(t.right-n.x+t.left,n.x),le=this._lastBoundingBoxSize.width;A=2*se,D=n.x-se,A>le&&!this._isInitialRender&&!this._growAfterOpen&&(D=n.x-le/2)}return{top:r,left:D,bottom:a,right:te,width:A,height:s}}_setBoundingBoxStyles(n,e){const t=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(t.height=Math.min(t.height,this._lastBoundingBoxSize.height),t.width=Math.min(t.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;o.height=Ko(t.height),o.top=Ko(t.top),o.bottom=Ko(t.bottom),o.width=Ko(t.width),o.left=Ko(t.left),o.right=Ko(t.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(o.maxHeight=Ko(s)),r&&(o.maxWidth=Ko(r))}this._lastBoundingBoxSize=t,qd(this._boundingBox.style,o)}_resetBoundingBoxStyles(){qd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const t={},o=this._hasExactPosition(),s=this._hasFlexibleDimensions,r=this._overlayRef.getConfig();if(o){const A=this._viewportRuler.getViewportScrollPosition();qd(t,this._getExactOverlayY(e,n,A)),qd(t,this._getExactOverlayX(e,n,A))}else t.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),t.transform=a.trim(),r.maxHeight&&(o?t.maxHeight=Ko(r.maxHeight):s&&(t.maxHeight="")),r.maxWidth&&(o?t.maxWidth=Ko(r.maxWidth):s&&(t.maxWidth="")),qd(this._pane.style,t)}_getExactOverlayY(n,e,t){let o={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,t)),"bottom"===n.overlayY?o.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":o.top=Ko(s.y),o}_getExactOverlayX(n,e,t){let r,o={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,t)),r=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===r?o.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":o.left=Ko(s.x),o}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),t=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:BR(n,t),isOriginOutsideView:Bw(n,t),isOverlayClipped:BR(e,t),isOverlayOutsideView:Bw(e,t)}}_subtractOverflows(n,...e){return e.reduce((t,o)=>t-Math.max(o,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,t=this._viewportRuler.getViewportScrollPosition();return{top:t.top+this._viewportMargin,left:t.left+this._viewportMargin,right:t.left+n-this._viewportMargin,bottom:t.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&Gm(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof $e)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,t=n.height||0;return{top:n.y,bottom:n.y+t,left:n.x,right:n.x+e,height:t,width:e}}}function qd(i,n){for(let e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i}function zR(i){if("number"!=typeof i&&null!=i){const[n,e]=i.split(Gq);return e&&"px"!==e?null:parseFloat(n)}return i||null}function jR(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const GR="cdk-global-overlay-wrapper";class Wq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(GR),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,t=this._overlayRef.getConfig(),{width:o,height:s,maxWidth:r,maxHeight:a}=t,l=!("100%"!==o&&"100vw"!==o||r&&"100%"!==r&&"100vw"!==r),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),A=this._xPosition,D=this._xOffset,te="rtl"===this._overlayRef.getConfig().direction;let se="",le="",ke="";l?ke="flex-start":"center"===A?(ke="center",te?le=D:se=D):te?"left"===A||"end"===A?(ke="flex-end",se=D):("right"===A||"start"===A)&&(ke="flex-start",le=D):"left"===A||"start"===A?(ke="flex-start",se=D):("right"===A||"end"===A)&&(ke="flex-end",le=D),n.position=this._cssPosition,n.marginLeft=l?"0":se,n.marginTop=c?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=l?"0":le,e.justifyContent=ke,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,t=e.style;e.classList.remove(GR),t.justifyContent=t.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let Uq=(()=>{class i{constructor(e,t,o,s){this._viewportRuler=e,this._document=t,this._platform=o,this._overlayContainer=s}global(){return new Wq}flexibleConnectedTo(e){return new HR(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(Le(Gr),Le(pi),Le(Mn),Le(Xd))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Zq=0,ss=(()=>{class i{constructor(e,t,o,s,r,a,l,c,A,D,te,se){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=r,this._injector=a,this._ngZone=l,this._document=c,this._directionality=A,this._location=D,this._outsideClickDispatcher=te,this._animationsModuleType=se}create(e){const t=this._createHostElement(),o=this._createPaneElement(t),s=this._createPortalOutlet(o),r=new Yd(e);return r.direction=r.direction||this._directionality.value,new nf(s,t,o,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+Zq++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Vd)),new pq(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(Le($q),Le(Xd),Le(Va),Le(Uq),Le(zq),Le(Jn),Le(Bt),Le(pi),Le(Hn),Le(bh),Le(jq),Le(yn,8))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Kq=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],WR=new nt("cdk-connected-overlay-scroll-strategy");let Vw=(()=>{class i{constructor(e){this.elementRef=e}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275dir=Xe({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),i})(),UR=(()=>{class i{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=bt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=bt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=bt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=bt(e)}get push(){return this._push}set push(e){this._push=bt(e)}constructor(e,t,o,s,r){this._overlay=e,this._dir=r,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=z.EMPTY,this._attachSubscription=z.EMPTY,this._detachSubscription=z.EMPTY,this._positionSubscription=z.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new tt,this.positionChange=new tt,this.attach=new tt,this.detach=new tt,this.overlayKeydown=new tt,this.overlayOutsideClick=new tt,this._templatePortal=new $l(t,o),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Kq);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27===t.keyCode&&!this.disableClose&&!fo(t)&&(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new Yd({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}_updatePositionStrategy(e){const t=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(t).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Vw?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(x2(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(P(ss),P($n),P(Ri),P(WR),P(Hn,8))},i.\u0275dir=Xe({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[dn]}),i})();const Xq={provide:WR,deps:[ss],useFactory:function Yq(i){return()=>i.scrollStrategies.reposition()}};let td=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[ss,Xq],imports:[Ym,Hl,tf,tf]}),i})();const qq=["mat-menu-item",""];function Jq(i,n){1&i&&(ls(),x(0,"svg",3),me(1,"polygon",4),C())}const Qq=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],eJ=["mat-icon, [matMenuItemIcon]","*"];function tJ(i,n){if(1&i){const e=Me();x(0,"div",0),ie("keydown",function(o){return he(e),pe(I()._handleKeydown(o))})("click",function(){return he(e),pe(I().closed.emit("click"))})("@transformMenu.start",function(o){return he(e),pe(I()._onAnimationStart(o))})("@transformMenu.done",function(o){return he(e),pe(I()._onAnimationDone(o))}),x(1,"div",1),Ft(2),C()()}if(2&i){const e=I();g("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),Et("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const iJ=["*"],$w=new nt("MAT_MENU_PANEL"),nJ=qa(Xa(class{}));let sf=(()=>{class i extends nJ{constructor(e,t,o,s,r){super(),this._elementRef=e,this._document=t,this._focusMonitor=o,this._parentMenu=s,this._changeDetectorRef=r,this.role="menuitem",this._hovered=new R,this._focused=new R,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),t=e.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<t.length;o++)t[o].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(pi),P(Cs),P($w,8),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,t){1&e&&ie("click",function(s){return t._checkDisabled(s)})("mouseenter",function(){return t._handleMouseEnter()}),2&e&&(Et("role",t.role)("tabindex",t._getTabIndex())("aria-disabled",t.disabled)("disabled",t.disabled||null),St("mat-mdc-menu-item-highlighted",t._highlighted)("mat-mdc-menu-item-submenu-trigger",t._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Re],attrs:qq,ngContentSelectors:eJ,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,t){1&e&&(Li(Qq),Ft(0),x(1,"span",0),Ft(2,1),C(),me(3,"div",1),$(4,Jq,2,0,"svg",2)),2&e&&(_(3),g("matRippleDisabled",t.disableRipple||t.disabled)("matRippleTrigger",t._getHostElement()),_(1),g("ngIf",t._triggersSubmenu))},dependencies:[ct,Vo],encapsulation:2,changeDetection:0}),i})();const oJ=new nt("MatMenuContent"),Db={transformMenu:Co("transformMenu",[_n("void",ei({opacity:0,transform:"scale(0.8)"})),sn("void => enter",Qi("120ms cubic-bezier(0, 0, 0.2, 1)",ei({opacity:1,transform:"scale(1)"}))),sn("* => void",Qi("100ms 25ms linear",ei({opacity:0})))]),fadeInItems:Co("fadeInItems",[_n("showing",ei({opacity:1})),sn("void => *",[ei({opacity:0}),Qi("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let sJ=0;const ZR=new nt("mat-menu-default-options",{providedIn:"root",factory:function rJ(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let rf=(()=>{class i{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=bt(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=bt(e)}set panelClass(e){const t=this._previousPanelClass;t&&t.length&&t.split(" ").forEach(o=>{this._classList[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{this._classList[o]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,t,o,s){this._elementRef=e,this._ngZone=t,this._defaultOptions=o,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Ml,this._classList={},this._panelAnimationState="void",this._animationDone=new R,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new tt,this.close=this.closed,this.panelId="mat-menu-panel-"+sJ++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Um(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Zn(this._directDescendantItems),Po(e=>Yi(...e.map(t=>t._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const t=this._keyManager;if("enter"===this._panelAnimationState&&t.activeItem?._hasFocus()){const o=e.toArray(),s=Math.max(0,Math.min(o.length-1,t.activeItemIndex||0));o[s]&&!o[s].disabled?t.setActiveItem(s):t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Zn(this._directDescendantItems),Po(t=>Yi(...t.map(o=>o._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const t=e.keyCode,o=this._keyManager;switch(t){case 27:fo(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===t||40===t)&&o.setFocusOrigin("keyboard"),void o.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(mn(1)).subscribe(()=>{let t=null;if(this._directDescendantItems.length&&(t=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!t||!t.contains(document.activeElement)){const o=this._keyManager;o.setFocusOrigin(e).setFirstItemActive(),!o.activeItem&&t&&t.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const t=Math.min(this._baseElevation+e,24),o=`${this._elevationPrefix}${t}`,s=Object.keys(this._classList).find(r=>r.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[o]=!0,this._previousElevation=o)}setPositionClasses(e=this.xPosition,t=this.yPosition){const o=this._classList;o["mat-menu-before"]="before"===e,o["mat-menu-after"]="after"===e,o["mat-menu-above"]="above"===t,o["mat-menu-below"]="below"===t,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Zn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Bt),P(ZR),P(Zt))},i.\u0275dir=Xe({type:i,contentQueries:function(e,t,o){if(1&e&&(fi(o,oJ,5),fi(o,sf,5),fi(o,sf,4)),2&e){let s;Ke(s=Ye())&&(t.lazyContent=s.first),Ke(s=Ye())&&(t._allItems=s),Ke(s=Ye())&&(t.items=s)}},viewQuery:function(e,t){if(1&e&&ht($n,5),2&e){let o;Ke(o=Ye())&&(t.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),i})(),Hw=(()=>{class i extends rf{constructor(e,t,o,s){super(e,t,o,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Bt),P(ZR),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,t){2&e&&Et("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Ct([{provide:$w,useExisting:i}]),Re],ngContentSelectors:iJ,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,t){1&e&&(Li(),$(0,tJ,3,6,"ng-template"))},dependencies:[Gt],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Db.transformMenu,Db.fadeInItems]},changeDetection:0}),i})();const KR=new nt("mat-menu-scroll-strategy"),lJ={provide:KR,deps:[ss],useFactory:function aJ(i){return()=>i.scrollStrategies.reposition()}},YR=Ka({passive:!0});let cJ=(()=>{class i{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(t=>{this._destroyMenu(t),("click"===t||"tab"===t)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(t)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,t,o,s,r,a,l,c,A){this._overlay=e,this._element=t,this._viewContainerRef=o,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._ngZone=A,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=z.EMPTY,this._hoverSubscription=z.EMPTY,this._menuCloseSubscription=z.EMPTY,this._changeDetectorRef=di(Zt),this._handleTouchStart=D=>{bb(D)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new tt,this.onMenuOpen=this.menuOpened,this.menuClosed=new tt,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=r instanceof rf?r:void 0,t.nativeElement.addEventListener("touchstart",this._handleTouchStart,YR)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,YR),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const t=this._createOverlay(e),o=t.getConfig(),s=o.positionStrategy;this._setPosition(e,s),o.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,t.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof rf&&(e._startAnimation(),e._directDescendantItems.changes.pipe(hi(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,t instanceof rf?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(ln(o=>"void"===o.toState),mn(1),hi(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let t=0,o=e.parentMenu;for(;o;)t++,o=o.parentMenu;e.setElevation(t)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const t=this._getOverlayConfig(e);this._subscribeToPositions(e,t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Yd({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,t){e.setPositionClasses&&t.positionChanges.subscribe(o=>{const s="start"===o.connectionPair.overlayX?"after":"before",r="top"===o.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,r)):e.setPositionClasses(s,r)})}_setPosition(e,t){let[o,s]="before"===e.xPosition?["end","start"]:["start","end"],[r,a]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[l,c]=[r,a],[A,D]=[o,s],te=0;if(this.triggersSubmenu()){if(D=o="before"===e.xPosition?"start":"end",s=A="end"===o?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const se=this._parentMaterialMenu.items.first;this._parentInnerPadding=se?se._getHostElement().offsetTop:0}te="bottom"===r?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l="top"===r?"bottom":"top",c="top"===a?"bottom":"top");t.withPositions([{originX:o,originY:l,overlayX:A,overlayY:r,offsetY:te},{originX:s,originY:l,overlayX:D,overlayY:r,offsetY:te},{originX:o,originY:c,overlayX:A,overlayY:a,offsetY:-te},{originX:s,originY:c,overlayX:D,overlayY:a,offsetY:-te}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments();return Yi(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:Ht(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(ln(r=>r!==this._menuItemInstance),ln(()=>this._menuOpen)):Ht(),t)}_handleMousedown(e){_b(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const t=e.keyCode;(13===t||32===t)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===t&&"ltr"===this.dir||37===t&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(ln(e=>e===this._menuItemInstance&&!e.disabled),Tw(0,Pw)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof rf&&this.menu._isAnimating?this.menu._animationDone.pipe(mn(1),Tw(0,Pw),hi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new $l(e.templateRef,this._viewContainerRef)),this._portal}}return i.\u0275fac=function(e){return new(e||i)(P(ss),P($e),P(Ri),P(KR),P($w,8),P(sf,10),P(Hn,8),P(Cs),P(Bt))},i.\u0275dir=Xe({type:i,hostVars:3,hostBindings:function(e,t){1&e&&ie("click",function(s){return t._handleClick(s)})("mousedown",function(s){return t._handleMousedown(s)})("keydown",function(s){return t._handleKeydown(s)}),2&e&&Et("aria-haspopup",t.menu?"menu":null)("aria-expanded",t.menuOpen)("aria-controls",t.menuOpen?t.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),i})(),Ob=(()=>{class i extends cJ{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[Re]}),i})(),Rb=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[lJ],imports:[Gi,Ir,bi,td,zl,bi]}),i})();function Ar(...i){const n=no(i),{args:e,keys:t}=f2(i),o=new U(s=>{const{length:r}=e;if(!r)return void s.complete();const a=new Array(r);let l=r,c=r;for(let A=0;A<r;A++){let D=!1;jn(e[A]).subscribe(xe(s,te=>{D||(D=!0,c--),a[A]=te},()=>l--,void 0,()=>{(!l||!D)&&(c||s.next(t?g2(t,a):a),s.complete())}))}});return n?o.pipe(DC(n)):o}const dJ=["*"];let Fb;function af(i){return function uJ(){if(void 0===Fb&&(Fb=null,typeof window<"u")){const i=window;void 0!==i.trustedTypes&&(Fb=i.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return Fb}()?.createHTML(i)||i}function XR(i){return Error(`Unable to find icon with the name "${i}"`)}function qR(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function JR(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class Jd{constructor(n,e,t){this.url=n,this.svgText=e,this.options=t}}let lf=(()=>{class i{constructor(e,t,o,s){this._httpClient=e,this._sanitizer=t,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(e,t,o){return this.addSvgIconInNamespace("",e,t,o)}addSvgIconLiteral(e,t,o){return this.addSvgIconLiteralInNamespace("",e,t,o)}addSvgIconInNamespace(e,t,o,s){return this._addSvgIconConfig(e,t,new Jd(o,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,o,s){const r=this._sanitizer.sanitize(Vn.HTML,o);if(!r)throw JR(o);const a=af(r);return this._addSvgIconConfig(e,t,new Jd("",a,s))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,o){return this._addSvgIconSetConfig(e,new Jd(t,null,o))}addSvgIconSetLiteralInNamespace(e,t,o){const s=this._sanitizer.sanitize(Vn.HTML,t);if(!s)throw JR(t);const r=af(s);return this._addSvgIconSetConfig(e,new Jd("",r,o))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const t=this._sanitizer.sanitize(Vn.RESOURCE_URL,e);if(!t)throw qR(e);const o=this._cachedIconsByUrl.get(t);return o?Ht(Lb(o)):this._loadSvgIconFromConfig(new Jd(e,null)).pipe(mo(s=>this._cachedIconsByUrl.set(t,s)),we(s=>Lb(s)))}getNamedSvgIcon(e,t=""){const o=QR(t,e);let s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(t,e),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);const r=this._iconSetConfigs.get(t);return r?this._getSvgFromIconSetConfigs(e,r):Ch(XR(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ht(Lb(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(we(t=>Lb(t)))}_getSvgFromIconSetConfigs(e,t){const o=this._extractIconWithNameFromAnySet(e,t);return o?Ht(o):Ar(t.filter(r=>!r.svgText).map(r=>this._loadSvgIconSetFromConfig(r).pipe(ma(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Vn.RESOURCE_URL,r.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Ht(null)})))).pipe(we(()=>{const r=this._extractIconWithNameFromAnySet(e,t);if(!r)throw XR(e);return r}))}_extractIconWithNameFromAnySet(e,t){for(let o=t.length-1;o>=0;o--){const s=t[o];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const r=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(r,e,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(mo(t=>e.svgText=t),we(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ht(null):this._fetchIcon(e).pipe(mo(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,o){const s=e.querySelector(`[id="${t}"]`);if(!s)return null;const r=s.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,o);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),o);const a=this._svgElementFromString(af("<svg></svg>"));return a.appendChild(r),this._setSvgAttributes(a,o)}_svgElementFromString(e){const t=this._document.createElement("DIV");t.innerHTML=e;const o=t.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const t=this._svgElementFromString(af("<svg></svg>")),o=e.attributes;for(let s=0;s<o.length;s++){const{name:r,value:a}=o[s];"id"!==r&&t.setAttribute(r,a)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[s].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){const{url:t,options:o}=e,s=o?.withCredentials??!1;if(!this._httpClient)throw function hJ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const r=this._sanitizer.sanitize(Vn.RESOURCE_URL,t);if(!r)throw qR(t);const a=this._inProgressUrlFetches.get(r);if(a)return a;const l=this._httpClient.get(r,{responseType:"text",withCredentials:s}).pipe(we(c=>af(c)),N_(()=>this._inProgressUrlFetches.delete(r)),Dr());return this._inProgressUrlFetches.set(r,l),l}_addSvgIconConfig(e,t,o){return this._svgIconConfigs.set(QR(e,t),o),this}_addSvgIconSetConfig(e,t){const o=this._iconSetConfigs.get(e);return o?o.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){const t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let o=0;o<this._resolvers.length;o++){const s=this._resolvers[o](t,e);if(s)return mJ(s)?new Jd(s.url,null,s.options):new Jd(s,null)}}}return i.\u0275fac=function(e){return new(e||i)(Le(Dh,8),Le(fm),Le(pi,8),Le(hc))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Lb(i){return i.cloneNode(!0)}function QR(i,n){return i+":"+n}function mJ(i){return!(!i.url||!i.options)}const fJ=Bl(class{constructor(i){this._elementRef=i}}),gJ=new nt("MAT_ICON_DEFAULT_OPTIONS"),_J=new nt("mat-icon-location",{providedIn:"root",factory:function bJ(){const i=di(pi),n=i?i.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),eF=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],vJ=eF.map(i=>`[${i}]`).join(", "),yJ=/^url\(['"]?#(.*?)['"]?\)$/;let wi=(()=>{class i extends fJ{get inline(){return this._inline}set inline(e){this._inline=bt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}constructor(e,t,o,s,r,a){super(e),this._iconRegistry=t,this._location=s,this._errorHandler=r,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=z.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),o||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const o=e.childNodes[t];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),t.forEach(o=>e.classList.add(o)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((o,s)=>{o.forEach(r=>{s.setAttribute(r.name,`url('${e}#${r.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll(vJ),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<t.length;s++)eF.forEach(r=>{const a=t[s],l=a.getAttribute(r),c=l?l.match(yJ):null;if(c){let A=o.get(a);A||(A=[],o.set(a,A)),A.push({name:r,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[t,o]=this._splitIconName(e);t&&(this._svgNamespace=t),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,t).pipe(mn(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${t}:${o}! ${s.message}`))})}}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(lf),cs("aria-hidden"),P(_J),P(hc),P(gJ,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,t){2&e&&(Et("data-mat-icon-type",t._usingFontIcon()?"font":"svg")("data-mat-icon-name",t._svgName||t.fontIcon)("data-mat-icon-namespace",t._svgNamespace||t.fontSet)("fontIcon",t._usingFontIcon()?t.fontIcon:null),St("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Re],ngContentSelectors:dJ,decls:1,vars:0,template:function(e,t){1&e&&(Li(),Ft(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),i})(),Ic=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi,bi]}),i})();const xJ=["mat-button",""],CJ=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],wJ=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],IJ=["mat-icon-button",""],AJ=["*"],SJ=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],MJ=Bl(Xa(qa(class{constructor(i){this._elementRef=i}})));let tF=(()=>{class i extends MJ{constructor(e,t,o,s){super(e),this._platform=t,this._ngZone=o,this._animationMode=s,this._focusMonitor=di(Cs),this._isFab=!1;const r=e.nativeElement.classList;for(const a of SJ)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{r.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",t){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,t):this._elementRef.nativeElement.focus(t)}_hasHostAttributes(...e){return e.some(t=>this._elementRef.nativeElement.hasAttribute(t))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return i.\u0275fac=function(e){Ha()},i.\u0275dir=Xe({type:i,viewQuery:function(e,t){if(1&e&&ht(Vo,5),2&e){let o;Ke(o=Ye())&&(t.ripple=o.first)}},features:[Re]}),i})(),kn=(()=>{class i extends tF{constructor(e,t,o,s){super(e,t,o,s)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Mn),P(Bt),P(yn,8))},i.\u0275cmp=Fe({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,t){2&e&&(Et("disabled",t.disabled||null),St("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-unthemed",!t.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Re],attrs:xJ,ngContentSelectors:wJ,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,t){1&e&&(Li(CJ),me(0,"span",0),Ft(1),x(2,"span",1),Ft(3,1),C(),Ft(4,2),me(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(St("mdc-button__ripple",!t._isFab)("mdc-fab__ripple",t._isFab),_(6),g("matRippleDisabled",t._isRippleDisabled())("matRippleTrigger",t._elementRef.nativeElement))},dependencies:[Vo],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),i})(),zh=(()=>{class i extends tF{constructor(e,t,o,s){super(e,t,o,s)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Mn),P(Bt),P(yn,8))},i.\u0275cmp=Fe({type:i,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,t){2&e&&(Et("disabled",t.disabled||null),St("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-unthemed",!t.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Re],attrs:IJ,ngContentSelectors:AJ,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,t){1&e&&(Li(),me(0,"span",0),Ft(1),me(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(_(3),g("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",t._elementRef.nativeElement))},dependencies:[Vo],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),i})(),jl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi,Ir,bi]}),i})(),iF=(()=>{class i{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(P($r),P($e))},i.\u0275dir=Xe({type:i}),i})(),Qd=(()=>{class i extends iF{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,features:[Re]}),i})();const go=new nt("NgValueAccessor"),DJ={provide:go,useExisting:Si(()=>$s),multi:!0},RJ=new nt("CompositionEventMode");let $s=(()=>{class i extends iF{constructor(e,t,o){super(e,t),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function OJ(){const i=_c()?_c().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(P($r),P($e),P(RJ,8))},i.\u0275dir=Xe({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&ie("input",function(s){return t._handleInput(s.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(s){return t._compositionEnd(s.target.value)})},features:[Ct([DJ]),Re]}),i})();const FJ=!1;function id(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function oF(i){return null!=i&&"number"==typeof i.length}const Eo=new nt("NgValidators"),nd=new nt("NgAsyncValidators"),LJ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xt{static min(n){return sF(n)}static max(n){return rF(n)}static required(n){return function aF(i){return id(i.value)?{required:!0}:null}(n)}static requiredTrue(n){return function lF(i){return!0===i.value?null:{required:!0}}(n)}static email(n){return function cF(i){return id(i.value)||LJ.test(i.value)?null:{email:!0}}(n)}static minLength(n){return function dF(i){return n=>id(n.value)||!oF(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static maxLength(n){return uF(n)}static pattern(n){return function hF(i){if(!i)return Nb;let n,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),n=new RegExp(e)):(e=i.toString(),n=i),t=>{if(id(t.value))return null;const o=t.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return bF(n)}static composeAsync(n){return vF(n)}}function sF(i){return n=>{if(id(n.value)||id(i))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<i?{min:{min:i,actual:n.value}}:null}}function rF(i){return n=>{if(id(n.value)||id(i))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>i?{max:{max:i,actual:n.value}}:null}}function uF(i){return n=>oF(n.value)&&n.value.length>i?{maxlength:{requiredLength:i,actualLength:n.value.length}}:null}function Nb(i){return null}function pF(i){return null!=i}function mF(i){const n=Yp(i)?Dn(i):i;if(FJ&&!b0(n)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof i&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new mt(-1101,e)}return n}function fF(i){let n={};return i.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function gF(i,n){return n.map(e=>e(i))}function _F(i){return i.map(n=>function NJ(i){return!i.validate}(n)?n:e=>n.validate(e))}function bF(i){if(!i)return null;const n=i.filter(pF);return 0==n.length?null:function(e){return fF(gF(e,n))}}function zw(i){return null!=i?bF(_F(i)):null}function vF(i){if(!i)return null;const n=i.filter(pF);return 0==n.length?null:function(e){return Ar(gF(e,n).map(mF)).pipe(we(fF))}}function jw(i){return null!=i?vF(_F(i)):null}function yF(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function xF(i){return i._rawValidators}function CF(i){return i._rawAsyncValidators}function Gw(i){return i?Array.isArray(i)?i:[i]:[]}function Bb(i,n){return Array.isArray(i)?i.includes(n):i===n}function wF(i,n){const e=Gw(n);return Gw(i).forEach(o=>{Bb(e,o)||e.push(o)}),e}function kF(i,n){return Gw(n).filter(e=>!Bb(i,e))}class IF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=zw(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=jw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Hs extends IF{get formDirective(){return null}get path(){return null}}class _a extends IF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class AF{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $o=(()=>{class i extends AF{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(P(_a,2))},i.\u0275dir=Xe({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&St("ng-untouched",t.isUntouched)("ng-touched",t.isTouched)("ng-pristine",t.isPristine)("ng-dirty",t.isDirty)("ng-valid",t.isValid)("ng-invalid",t.isInvalid)("ng-pending",t.isPending)},features:[Re]}),i})(),jh=(()=>{class i extends AF{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(P(Hs,10))},i.\u0275dir=Xe({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&St("ng-untouched",t.isUntouched)("ng-touched",t.isTouched)("ng-pristine",t.isPristine)("ng-dirty",t.isDirty)("ng-valid",t.isValid)("ng-invalid",t.isInvalid)("ng-pending",t.isPending)("ng-submitted",t.isSubmitted)},features:[Re]}),i})();function SF(i,n){return i?`with name: '${n}'`:`at index: ${n}`}const Zw=!1,cf="VALID",$b="INVALID",Gh="PENDING",df="DISABLED";function Kw(i){return(Hb(i)?i.validators:i)||null}function Yw(i,n){return(Hb(n)?n.asyncValidators:i)||null}function Hb(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class TF{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===cf}get invalid(){return this.status===$b}get pending(){return this.status==Gh}get disabled(){return this.status===df}get enabled(){return this.status!==df}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(wF(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(wF(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(kF(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(kF(n,this._rawAsyncValidators))}hasValidator(n){return Bb(this._rawValidators,n)}hasAsyncValidator(n){return Bb(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Gh,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=df,this.errors=null,this._forEachChild(t=>{t.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(t=>t(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=cf,this._forEachChild(t=>{t.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cf||this.status===Gh)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?df:cf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Gh,this._hasOwnPendingAsyncValidator=!0;const e=mF(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((t,o)=>t&&t._find(o),this)}getError(n,e){const t=e?this.get(e):this;return t&&t.errors?t.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new tt,this.statusChanges=new tt}_calculateStatus(){return this._allControlsDisabled()?df:this.errors?$b:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gh)?Gh:this._anyControlsHaveStatus($b)?$b:cf}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Hb(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function GJ(i){return Array.isArray(i)?zw(i):i||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function WJ(i){return Array.isArray(i)?jw(i):i||null}(this._rawAsyncValidators)}}class zb extends TF{constructor(n,e,t){super(Kw(e),Yw(t,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,t={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function PF(i,n,e){i._forEachChild((t,o)=>{if(void 0===e[o])throw new mt(1002,Zw?function jJ(i,n){return`Must supply a value for form control ${SF(i,n)}`}(n,o):"")})})(this,!0,n),Object.keys(n).forEach(t=>{(function MF(i,n,e){const t=i.controls;if(!(n?Object.keys(t):t).length)throw new mt(1e3,Zw?function HJ(i){return`\n    There are no form controls registered with this ${i?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(n):"");if(!t[e])throw new mt(1001,Zw?function zJ(i,n){return`Cannot find form control ${SF(i,n)}`}(n,e):"")})(this,!0,t),this.controls[t].setValue(n[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(t=>{const o=this.controls[t];o&&o.patchValue(n[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((t,o)=>{t.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,t)=>(n[t]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const t=this.controls[e];t&&n(t,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,t]of Object.entries(this.controls))if(this.contains(e)&&n(t))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,t,o)=>((t.enabled||this.disabled)&&(e[o]=t.value),e))}_reduceChildren(n,e){let t=n;return this._forEachChild((o,s)=>{t=e(t,o,s)}),t}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const Xw=zb,eu=new nt("CallSetDisabledState",{providedIn:"root",factory:()=>uf}),uf="always";function jb(i,n){return[...n.path,i]}function hf(i,n,e=uf){qw(i,n),n.valueAccessor.writeValue(i.value),(i.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(i.disabled),function KJ(i,n){n.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&EF(i,n)})}(i,n),function XJ(i,n){const e=(t,o)=>{n.valueAccessor.writeValue(t),o&&n.viewToModelUpdate(t)};i.registerOnChange(e),n._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,n),function YJ(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&EF(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function ZJ(i,n){if(n.valueAccessor.setDisabledState){const e=t=>{n.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(e),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,n)}function Gb(i,n,e=!0){const t=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(t),n.valueAccessor.registerOnTouched(t)),Ub(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Wb(i,n){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function qw(i,n){const e=xF(i);null!==n.validator?i.setValidators(yF(e,n.validator)):"function"==typeof e&&i.setValidators([e]);const t=CF(i);null!==n.asyncValidator?i.setAsyncValidators(yF(t,n.asyncValidator)):"function"==typeof t&&i.setAsyncValidators([t]);const o=()=>i.updateValueAndValidity();Wb(n._rawValidators,o),Wb(n._rawAsyncValidators,o)}function Ub(i,n){let e=!1;if(null!==i){if(null!==n.validator){const o=xF(i);if(Array.isArray(o)&&o.length>0){const s=o.filter(r=>r!==n.validator);s.length!==o.length&&(e=!0,i.setValidators(s))}}if(null!==n.asyncValidator){const o=CF(i);if(Array.isArray(o)&&o.length>0){const s=o.filter(r=>r!==n.asyncValidator);s.length!==o.length&&(e=!0,i.setAsyncValidators(s))}}}const t=()=>{};return Wb(n._rawValidators,t),Wb(n._rawAsyncValidators,t),e}function EF(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function DF(i,n){qw(i,n)}function Qw(i,n){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function OF(i,n){i._syncPendingControls(),n.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function e1(i,n){if(!n)return null;let e,t,o;return Array.isArray(n),n.forEach(s=>{s.constructor===$s?e=s:function QJ(i){return Object.getPrototypeOf(i.constructor)===Qd}(s)?t=s:o=s}),o||t||e||null}const tQ={provide:Hs,useExisting:Si(()=>Qa)},pf=(()=>Promise.resolve())();let Qa=(()=>{class i extends Hs{constructor(e,t,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new tt,this.form=new zb({},zw(e),jw(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){pf.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),hf(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){pf.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){pf.then(()=>{const t=this._findContainer(e.path),o=new zb({});DF(o,e),t.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){pf.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){pf.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,OF(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(P(Eo,10),P(nd,10),P(eu,8))},i.\u0275dir=Xe({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&ie("submit",function(s){return t.onSubmit(s)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ct([tQ]),Re]}),i})();function RF(i,n){const e=i.indexOf(n);e>-1&&i.splice(e,1)}function FF(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const t1=class extends TF{constructor(n=null,e,t){super(Kw(e),Yw(t,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hb(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=FF(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){RF(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){RF(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){FF(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},vi=t1,oQ={provide:_a,useExisting:Si(()=>Gl)},BF=(()=>Promise.resolve())();let Gl=(()=>{class i extends _a{constructor(e,t,o,s,r,a){super(),this._changeDetectorRef=r,this.callSetDisabledState=a,this.control=new t1,this._registered=!1,this.update=new tt,this._parent=e,this._setValidators(t),this._setAsyncValidators(o),this.valueAccessor=e1(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const t=e.name.previousValue;this.formDirective.removeControl({name:t,path:this._getPath(t)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Qw(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){BF.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const t=e.isDisabled.currentValue,o=0!==t&&_h(t);BF.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?jb(e,this._parent):[e]}}return i.\u0275fac=function(e){return new(e||i)(P(Hs,9),P(Eo,10),P(nd,10),P(go,10),P(Zt,8),P(eu,8))},i.\u0275dir=Xe({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ct([oQ]),Re,dn]}),i})(),mf=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})();const sQ={provide:go,useExisting:Si(()=>n1),multi:!0};let n1=(()=>{class i extends Qd{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&ie("input",function(s){return t.onChange(s.target.value)})("blur",function(){return t.onTouched()})},features:[Ct([sQ]),Re]}),i})(),VF=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({}),i})();const o1=new nt("NgModelWithFormControlWarning"),cQ={provide:_a,useExisting:Si(()=>sr)};let sr=(()=>{class i extends _a{set isDisabled(e){}constructor(e,t,o,s,r){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=r,this.update=new tt,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=e1(0,o)}ngOnChanges(e){if(this._isControlChanged(e)){const t=e.form.previousValue;t&&Gb(t,this,!1),hf(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Qw(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Gb(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return i._ngModelWarningSentOnce=!1,i.\u0275fac=function(e){return new(e||i)(P(Eo,10),P(nd,10),P(go,10),P(o1,8),P(eu,8))},i.\u0275dir=Xe({type:i,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ct([cQ]),Re,dn]}),i})();const dQ={provide:Hs,useExisting:Si(()=>ba)};let ba=(()=>{class i extends Hs{constructor(e,t,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new tt,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ub(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return hf(t,e,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){Gb(e.control||null,e,!1),function eQ(i,n){const e=i.indexOf(n);e>-1&&i.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,OF(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,o=this.form.get(e.path);t!==o&&(Gb(t||null,e),(i=>i instanceof t1)(o)&&(hf(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);DF(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function qJ(i,n){return Ub(i,n)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qw(this.form,this),this._oldForm&&Ub(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(P(Eo,10),P(nd,10),P(eu,8))},i.\u0275dir=Xe({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&ie("submit",function(s){return t.onSubmit(s)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ct([dQ]),Re,dn]}),i})();const pQ={provide:_a,useExisting:Si(()=>a1)};let a1=(()=>{class i extends _a{set isDisabled(e){}constructor(e,t,o,s,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new tt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(o),this.valueAccessor=e1(0,s)}ngOnChanges(e){this._added||this._setUpControl(),Qw(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return jb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return i._ngModelWarningSentOnce=!1,i.\u0275fac=function(e){return new(e||i)(P(Hs,13),P(Eo,10),P(nd,10),P(go,10),P(o1,8))},i.\u0275dir=Xe({type:i,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ct([pQ]),Re,dn]}),i})();function UF(i){return"number"==typeof i?i:parseFloat(i)}let tu=(()=>{class i{constructor(){this._validator=Nb}ngOnChanges(e){if(this.inputName in e){const t=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(t),this._validator=this._enabled?this.createValidator(t):Nb,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,features:[dn]}),i})();const yQ={provide:Eo,useExisting:Si(()=>d1),multi:!0};let d1=(()=>{class i extends tu{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>UF(e),this.createValidator=e=>rF(e)}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&Et("max",t._enabled?t.max:null)},inputs:{max:"max"},features:[Ct([yQ]),Re]}),i})();const xQ={provide:Eo,useExisting:Si(()=>u1),multi:!0};let u1=(()=>{class i extends tu{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>UF(e),this.createValidator=e=>sF(e)}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&Et("min",t._enabled?t.min:null)},inputs:{min:"min"},features:[Ct([xQ]),Re]}),i})();const AQ={provide:Eo,useExisting:Si(()=>ff),multi:!0};let ff=(()=>{class i extends tu{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function WF(i){return"number"==typeof i?i:parseInt(i,10)}(e),this.createValidator=e=>uF(e)}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&Et("maxlength",t._enabled?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ct([AQ]),Re]}),i})(),XF=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[VF]}),i})(),el=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:eu,useValue:e.callSetDisabledState??uf}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[XF]}),i})(),od=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:o1,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:eu,useValue:e.callSetDisabledState??uf}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[XF]}),i})();const PQ=["determinateSpinner"];function TQ(i,n){if(1&i&&(ls(),x(0,"svg",11),me(1,"circle",12),C()),2&i){const e=I();Et("viewBox",e._viewBox()),_(1),et("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),Et("r",e._circleRadius())}}const EQ=Bl(class{constructor(i){this._elementRef=i}},"primary"),DQ=new nt("mat-progress-spinner-default-options",{providedIn:"root",factory:function OQ(){return{diameter:qF}}}),qF=100;let gf=(()=>{class i extends EQ{constructor(e,t,o){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=qF,this._noopAnimations="NoopAnimations"===t&&!!o&&!o._forceAnimations,o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,hn(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=hn(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=hn(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(yn,8),P(DQ))},i.\u0275cmp=Fe({type:i,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(e,t){if(1&e&&ht(PQ,5),2&e){let o;Ke(o=Ye())&&(t._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(e,t){2&e&&(Et("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),et("width",t.diameter,"px")("height",t.diameter,"px"),St("_mat-animation-noopable",t._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===t.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[Re],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(e,t){if(1&e&&($(0,TQ,2,8,"ng-template",null,0,is),x(2,"div",1,2),ls(),x(4,"svg",3),me(5,"circle",4),C()(),yl(),x(6,"div",5)(7,"div",6)(8,"div",7),Go(9,8),C(),x(10,"div",9),Go(11,8),C(),x(12,"div",10),Go(13,8),C()()()),2&e){const o=Qt(1);_(4),Et("viewBox",t._viewBox()),_(1),et("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeDashOffset(),"px")("stroke-width",t._circleStrokeWidth(),"%"),Et("r",t._circleRadius()),_(4),g("ngTemplateOutlet",o),_(2),g("ngTemplateOutlet",o),_(2),g("ngTemplateOutlet",o)}},dependencies:[S_],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),i})(),p1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,bi]}),i})();function FQ(i,n){if(1&i){const e=Me();x(0,"div",2)(1,"button",3),ie("click",function(){return he(e),pe(I().action())}),ee(2),C()()}if(2&i){const e=I();_(2),Mt(" ",e.data.action," ")}}const LQ=["label"];function NQ(i,n){}const BQ=Math.pow(2,31)-1;class m1{constructor(n,e){this._overlayRef=e,this._afterDismissed=new R,this._afterOpened=new R,this._onAction=new R,this._dismissedByAction=!1,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,BQ))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const f1=new nt("MatSnackBarData");class Kb{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let VQ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),i})(),$Q=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),i})(),HQ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),i})(),zQ=(()=>{class i{constructor(e,t){this.snackBarRef=e,this.data=t}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return i.\u0275fac=function(e){return new(e||i)(P(m1),P(f1))},i.\u0275cmp=Fe({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,t){1&e&&(x(0,"div",0),ee(1),C(),$(2,FQ,3,1,"div",1)),2&e&&(_(1),Mt(" ",t.data.message,"\n"),_(1),g("ngIf",t.hasAction))},dependencies:[ct,kn,VQ,$Q,HQ],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),i})();const jQ={snackBarState:Co("state",[_n("void, hidden",ei({transform:"scale(0.8)",opacity:0})),_n("visible",ei({transform:"scale(1)",opacity:1})),sn("* => visible",Qi("150ms cubic-bezier(0, 0, 0.2, 1)")),sn("* => void, * => hidden",Qi("75ms cubic-bezier(0.4, 0.0, 1, 1)",ei({opacity:0})))])};let GQ=0,WQ=(()=>{class i extends Sb{constructor(e,t,o,s,r){super(),this._ngZone=e,this._elementRef=t,this._changeDetectorRef=o,this._platform=s,this.snackBarConfig=r,this._document=di(pi),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new R,this._onExit=new R,this._onEnter=new R,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+GQ++,this.attachDomPortal=a=>{this._assertNotAttached();const l=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),l},this._live="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const t=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),t}attachTemplatePortal(e){this._assertNotAttached();const t=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),t}onAnimationEnd(e){const{fromState:t,toState:o}=e;if(("void"===o&&"void"!==t||"hidden"===o)&&this._completeExit(),"visible"===o){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(mn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(o=>e.classList.add(o)):e.classList.add(t)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,t=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<t.length;o++){const s=t[o],r=s.getAttribute("aria-owns");this._trackedModals.add(s),r?-1===r.indexOf(e)&&s.setAttribute("aria-owns",r+" "+e):s.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const t=e.getAttribute("aria-owns");if(t){const o=t.replace(this._liveElementId,"").trim();o.length>0?e.setAttribute("aria-owns",o):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),t=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&t){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),t.appendChild(e),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return i.\u0275fac=function(e){return new(e||i)(P(Bt),P($e),P(Zt),P(Mn),P(Kb))},i.\u0275dir=Xe({type:i,viewQuery:function(e,t){if(1&e&&ht(or,7),2&e){let o;Ke(o=Ye())&&(t._portalOutlet=o.first)}},features:[Re]}),i})(),UQ=(()=>{class i extends WQ{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,t="mdc-snackbar__label";e.classList.toggle(t,!e.querySelector(`.${t}`))}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275cmp=Fe({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,t){if(1&e&&ht(LQ,7),2&e){let o;Ke(o=Ye())&&(t._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(e,t){1&e&&Xp("@state.done",function(s){return t.onAnimationEnd(s)}),2&e&&Qp("@state",t._animationState)},features:[Re],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1,2)(3,"div",3),$(4,NQ,0,0,"ng-template",4),C(),me(5,"div"),C()()),2&e&&(_(5),Et("aria-live",t._live)("role",t._role)("id",t._liveElementId))},dependencies:[or],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[jQ.snackBarState]}}),i})(),JF=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[td,Hl,Gi,jl,bi,bi]}),i})();const QF=new nt("mat-snack-bar-default-options",{providedIn:"root",factory:function ZQ(){return new Kb}});let KQ=(()=>{class i{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,t,o,s,r,a){this._overlay=e,this._live=t,this._injector=o,this._breakpointObserver=s,this._parentSnackBar=r,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}openFromComponent(e,t){return this._attach(e,t)}openFromTemplate(e,t){return this._attach(e,t)}open(e,t="",o){const s={...this._defaultConfig,...o};return s.data={message:e,action:t},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,t){const s=Jn.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Kb,useValue:t}]}),r=new Vl(this.snackBarContainerComponent,t.viewContainerRef,s),a=e.attach(r);return a.instance.snackBarConfig=t,a.instance}_attach(e,t){const o={...new Kb,...this._defaultConfig,...t},s=this._createOverlay(o),r=this._attachSnackBarContainer(s,o),a=new m1(r,s);if(e instanceof $n){const l=new $l(e,null,{$implicit:o.data,snackBarRef:a});a.instance=r.attachTemplatePortal(l)}else{const l=this._createInjector(o,a),c=new Vl(e,void 0,l),A=r.attachComponentPortal(c);a.instance=A.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(hi(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),o.announcementMessage&&r._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(a,o),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,t){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),t.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration))}_createOverlay(e){const t=new Yd;t.direction=e.direction;let o=this._overlay.position().global();const s="rtl"===e.direction,r="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,a=!r&&"center"!==e.horizontalPosition;return r?o.left("0"):a?o.right("0"):o.centerHorizontally(),"top"===e.verticalPosition?o.top("0"):o.bottom("0"),t.positionStrategy=o,this._overlay.create(t)}_createInjector(e,t){return Jn.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:m1,useValue:t},{provide:f1,useValue:e.data}]})}}return i.\u0275fac=function(e){return new(e||i)(Le(ss),Le(Iw),Le(Jn),Le(Cw),Le(i,12),Le(QF))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),YQ=(()=>{class i extends KQ{constructor(e,t,o,s,r,a){super(e,t,o,s,r,a),this.simpleSnackBarComponent=zQ,this.snackBarContainerComponent=UQ,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return i.\u0275fac=function(e){return new(e||i)(Le(ss),Le(Iw),Le(Jn),Le(Cw),Le(i,12),Le(QF))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:JF}),i})();const XQ=new nt("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),JQ=Bl(class{constructor(i){this._elementRef=i}},"primary");let ws=(()=>{class i extends JQ{constructor(e,t,o,s,r){super(e),this._ngZone=t,this._changeDetectorRef=o,this._animationMode=s,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new tt,this._mode="determinate",this._transitionendHandler=a=>{0===this.animationEnd.observers.length||!a.target||!a.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===s,r&&(r.color&&(this.color=this.defaultColor=r.color),this.mode=r.mode||this.mode)}get value(){return this._value}set value(e){this._value=e3(hn(e)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=e3(hn(e)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Bt),P(Zt),P(yn,8),P(XQ,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(e,t){2&e&&(Et("aria-valuenow",t._isIndeterminate()?null:t.value)("mode",t.mode),St("_mat-animation-noopable",t._isNoopAnimation)("mdc-linear-progress--animation-ready",!t._isNoopAnimation)("mdc-linear-progress--indeterminate",t._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[Re],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(e,t){1&e&&(x(0,"div",0),me(1,"div",1)(2,"div",2),C(),x(3,"div",3),me(4,"span",4),C(),x(5,"div",5),me(6,"span",4),C()),2&e&&(_(1),et("flex-basis",t._getBufferBarFlexBasis()),_(2),et("transform",t._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half, 83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full, 200.611057%))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter, 37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half, 84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full, 160.277782%))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(-10px)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg, -83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg, -200.611057%))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg, -37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg, -84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg, -160.277782%))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;width:100%;height:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;width:100%;height:100%}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color, #6200ee)}.mdc-linear-progress__buffer-dots{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E\")}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6}.mdc-linear-progress{height:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height, 4px)}.mat-mdc-progress-bar{display:block}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0}),i})();function e3(i,n=0,e=100){return Math.max(n,Math.min(e,i))}let Wh=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi]}),i})();function QQ(i,n){}class Yb{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let t3=(()=>{class i extends Sb{constructor(e,t,o,s,r,a,l,c){super(),this._elementRef=e,this._focusTrapFactory=t,this._config=s,this._interactivityChecker=r,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=A=>{this._portalOutlet.hasAttached();const D=this._portalOutlet.attachDomPortal(A);return this._contentAttached(),D},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=o}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();const t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(t)}_focusByCssSelector(e,t){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,t)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(t=>{t||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let t=null;if("string"==typeof e?t=this._document.querySelector(e):"boolean"==typeof e?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&"function"==typeof t.focus){const o=Fh(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,t=Fh();return e===t||e.contains(t)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Fh())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Km),P(pi,8),P(Yb),P(Zm),P(Bt),P(nf),P(Cs))},i.\u0275cmp=Fe({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(e,t){if(1&e&&ht(or,7),2&e){let o;Ke(o=Ye())&&(t._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,t){2&e&&Et("id",t._config.id||null)("role",t._config.role)("aria-modal",t._config.ariaModal)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null)},features:[Re],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&$(0,QQ,0,0,"ng-template",0)},dependencies:[or],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),i})();class g1{constructor(n,e){this.overlayRef=n,this.config=e,this.closed=new R,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(t=>{27===t.keyCode&&!this.disableClose&&!fo(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=n.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(n,e){if(this.containerInstance){const t=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(n),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}}const n3=new nt("DialogScrollStrategy"),eee=new nt("DialogData"),tee=new nt("DefaultDialogConfig"),nee={provide:n3,deps:[ss],useFactory:function iee(i){return()=>i.scrollStrategies.block()}};let oee=0,o3=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,t,o,s,r,a){this._overlay=e,this._injector=t,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=r,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new R,this._afterOpenedAtThisLevel=new R,this._ariaHiddenElements=new Map,this.afterAllClosed=xh(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Zn(void 0))),this._scrollStrategy=a}open(e,t){(t={...this._defaultOptions||new Yb,...t}).id=t.id||"cdk-dialog-"+oee++,t.id&&this.getDialogById(t.id);const s=this._getOverlayConfig(t),r=this._overlay.create(s),a=new g1(r,t),l=this._attachContainer(r,a,t);return a.containerInstance=l,this._attachDialogContent(e,a,l,t),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){_1(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){_1(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),_1(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const t=new Yd({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,o){const s=o.injector||o.viewContainerRef?.injector,r=[{provide:Yb,useValue:o},{provide:g1,useValue:t},{provide:nf,useValue:e}];let a;o.container?"function"==typeof o.container?a=o.container:(a=o.container.type,r.push(...o.container.providers(o))):a=t3;const l=new Vl(a,o.viewContainerRef,Jn.create({parent:s||this._injector,providers:r}),o.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,t,o,s){if(e instanceof $n){const r=this._createInjector(s,t,o,void 0);let a={$implicit:s.data,dialogRef:t};s.templateContext&&(a={...a,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),o.attachTemplatePortal(new $l(e,null,a,r))}else{const r=this._createInjector(s,t,o,this._injector),a=o.attachComponentPortal(new Vl(e,s.viewContainerRef,r,s.componentFactoryResolver));t.componentInstance=a.instance}}_createInjector(e,t,o,s){const r=e.injector||e.viewContainerRef?.injector,a=[{provide:eee,useValue:e.data},{provide:g1,useValue:t}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(t,e,o)):a.push(...e.providers)),e.direction&&(!r||!r.get(Hn,null,{optional:!0}))&&a.push({provide:Hn,useValue:{value:e.direction,change:Ht()}}),Jn.create({parent:r||s,providers:a})}_removeOpenDialog(e,t){const o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,r)=>{s?r.setAttribute("aria-hidden",s):r.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let o=t.length-1;o>-1;o--){const s=t[o];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return i.\u0275fac=function(e){return new(e||i)(Le(ss),Le(Jn),Le(tee,8),Le(i,12),Le(Xd),Le(n3))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();function _1(i,n){let e=i.length;for(;e--;)n(i[e])}let see=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[o3,nee],imports:[td,Hl,yb,Hl]}),i})();function ree(i,n){}class Xb{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const b1="mdc-dialog--open",s3="mdc-dialog--opening",r3="mdc-dialog--closing";let cee=(()=>{class i extends t3{constructor(e,t,o,s,r,a,l,c){super(e,t,o,s,r,a,l,c),this._animationStateChanged=new tt}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Km),P(pi,8),P(Xb),P(Zm),P(Bt),P(nf),P(Cs))},i.\u0275cmp=Fe({type:i,selectors:[["ng-component"]],features:[Re],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})();const a3="--mat-dialog-transition-duration";function l3(i){return null==i?null:"number"==typeof i?i:i.endsWith("ms")?hn(i.substring(0,i.length-2)):i.endsWith("s")?1e3*hn(i.substring(0,i.length-1)):"0"===i?0:null}let dee=(()=>{class i extends cee{constructor(e,t,o,s,r,a,l,c,A){super(e,t,o,s,r,a,l,A),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?l3(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?l3(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(a3,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(s3),this._hostElement.classList.add(b1),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(b1),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(b1),this._animationsEnabled?(this._hostElement.style.setProperty(a3,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(r3),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(s3),this._hostElement.classList.remove(r3)}_waitForAnimationToComplete(e,t){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Km),P(pi,8),P(Xb),P(Zm),P(Bt),P(nf),P(yn,8),P(Cs))},i.\u0275cmp=Fe({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,t){2&e&&(ps("id",t._config.id),Et("aria-modal",t._config.ariaModal)("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),St("_mat-animation-noopable",!t._animationsEnabled))},features:[Re],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1),$(2,ree,0,0,"ng-template",2),C()())},dependencies:[or],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),i})();class Yo{constructor(n,e,t){this._ref=n,this._containerInstance=t,this._afterOpened=new R,this._beforeClosed=new R,this._state=0,this.disableClose=e.disableClose,this.id=n.id,t._animationStateChanged.pipe(ln(o=>"opened"===o.state),mn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(ln(o=>"closed"===o.state),mn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Yi(this.backdropClick(),this.keydownEvents().pipe(ln(o=>27===o.keyCode&&!this.disableClose&&!fo(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),function uee(i,n,e){i._closeInteractionType=n,i.close(e)}(this,"keydown"===o.type?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe(ln(e=>"closing"===e.state),mn(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const zs=new nt("MatMdcDialogData"),hee=new nt("mat-mdc-dialog-default-options"),c3=new nt("mat-mdc-dialog-scroll-strategy"),mee={provide:c3,deps:[ss],useFactory:function pee(i){return()=>i.scrollStrategies.block()}};let fee=0,gee=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,t,o,s,r,a,l,c,A,D){this._overlay=e,this._defaultOptions=o,this._parentDialog=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=A,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new R,this._afterOpenedAtThisLevel=new R,this._idPrefix="mat-dialog-",this.dialogConfigClass=Xb,this.afterAllClosed=xh(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Zn(void 0))),this._scrollStrategy=a,this._dialog=t.get(o3)}open(e,t){let o;(t={...this._defaultOptions||new Xb,...t}).id=t.id||`${this._idPrefix}${fee++}`,t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...t,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:Yb,useValue:t}]},templateContext:()=>({dialogRef:o}),providers:(r,a,l)=>(o=new this._dialogRefConstructor(r,t,l),o.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:o}])});return o.componentInstance=s.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{const r=this.openDialogs.indexOf(o);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}return i.\u0275fac=function(e){Ha()},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),Fn=(()=>{class i extends gee{constructor(e,t,o,s,r,a,l,c){super(e,t,s,a,l,r,Yo,dee,zs,c),this._idPrefix="mat-mdc-dialog-"}}return i.\u0275fac=function(e){return new(e||i)(Le(ss),Le(Jn),Le(bh,8),Le(hee,8),Le(c3),Le(i,12),Le(Xd),Le(yn,8))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),v1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[Fn,mee],imports:[see,td,Hl,bi,bi]}),i})();const Wl=Object.create(null);Wl.open="0",Wl.close="1",Wl.ping="2",Wl.pong="3",Wl.message="4",Wl.upgrade="5",Wl.noop="6";const qb=Object.create(null);Object.keys(Wl).forEach(i=>{qb[Wl[i]]=i});const _ee={type:"error",data:"parser error"},bee="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),vee="function"==typeof ArrayBuffer,u3=(i,n)=>{const e=new FileReader;return e.onload=function(){const t=e.result.split(",")[1];n("b"+(t||""))},e.readAsDataURL(i)},h3=({type:i,data:n},e,t)=>bee&&n instanceof Blob?e?t(n):u3(n,t):vee&&(n instanceof ArrayBuffer||(i=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer)(n))?e?t(n):u3(new Blob([n]),t):t(Wl[i]+(n||"")),Uh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_f=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<Uh.length;i++)_f[Uh.charCodeAt(i)]=i;const wee="function"==typeof ArrayBuffer,Iee=(i,n)=>{if(wee){const e=(i=>{let t,s,r,a,l,n=.75*i.length,e=i.length,o=0;"="===i[i.length-1]&&(n--,"="===i[i.length-2]&&n--);const c=new ArrayBuffer(n),A=new Uint8Array(c);for(t=0;t<e;t+=4)s=_f[i.charCodeAt(t)],r=_f[i.charCodeAt(t+1)],a=_f[i.charCodeAt(t+2)],l=_f[i.charCodeAt(t+3)],A[o++]=s<<2|r>>4,A[o++]=(15&r)<<4|a>>2,A[o++]=(3&a)<<6|63&l;return c})(i);return p3(e,n)}return{base64:!0,data:i}},p3=(i,n)=>"blob"===n&&i instanceof ArrayBuffer?new Blob([i]):i,m3=(i,n)=>{if("string"!=typeof i)return{type:"message",data:p3(i,n)};const e=i.charAt(0);return"b"===e?{type:"message",data:Iee(i.substring(1),n)}:qb[e]?i.length>1?{type:qb[e],data:i.substring(1)}:{type:qb[e]}:_ee},f3=String.fromCharCode(30);function Xo(i){if(i)return function Mee(i){for(var n in Xo.prototype)i[n]=Xo.prototype[n];return i}(i)}Xo.prototype.on=Xo.prototype.addEventListener=function(i,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(n),this},Xo.prototype.once=function(i,n){function e(){this.off(i,e),n.apply(this,arguments)}return e.fn=n,this.on(i,e),this},Xo.prototype.off=Xo.prototype.removeListener=Xo.prototype.removeAllListeners=Xo.prototype.removeEventListener=function(i,n){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+i];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+i],this;for(var t,o=0;o<e.length;o++)if((t=e[o])===n||t.fn===n){e.splice(o,1);break}return 0===e.length&&delete this._callbacks["$"+i],this},Xo.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),e=this._callbacks["$"+i],t=1;t<arguments.length;t++)n[t-1]=arguments[t];if(e){t=0;for(var o=(e=e.slice(0)).length;t<o;++t)e[t].apply(this,n)}return this},Xo.prototype.emitReserved=Xo.prototype.emit,Xo.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},Xo.prototype.hasListeners=function(i){return!!this.listeners(i).length};const va=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function _3(i,...n){return n.reduce((e,t)=>(i.hasOwnProperty(t)&&(e[t]=i[t]),e),{})}const Pee=va.setTimeout,Tee=va.clearTimeout;function Jb(i,n){n.useNativeTimers?(i.setTimeoutFn=Pee.bind(va),i.clearTimeoutFn=Tee.bind(va)):(i.setTimeoutFn=va.setTimeout.bind(va),i.clearTimeoutFn=va.clearTimeout.bind(va))}const Eee=1.33;function Dee(i){return"string"==typeof i?function Oee(i){let n=0,e=0;for(let t=0,o=i.length;t<o;t++)n=i.charCodeAt(t),n<128?e+=1:n<2048?e+=2:n<55296||n>=57344?e+=3:(t++,e+=4);return e}(i):Math.ceil((i.byteLength||i.size)*Eee)}class Ree extends Error{constructor(n,e,t){super(n),this.description=e,this.context=t,this.type="TransportError"}}class b3 extends Xo{constructor(n){super(),this.writable=!1,Jb(this,n),this.opts=n,this.query=n.query,this.socket=n.socket}onError(n,e,t){return super.emitReserved("error",new Ree(n,e,t)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(n){"open"===this.readyState&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const e=m3(n,this.socket.binaryType);this.onPacket(e)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}}const v3="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Qb=64,y3={};let C3,x3=0,sd=0;function w3(i){let n="";do{n=v3[i%Qb]+n,i=Math.floor(i/Qb)}while(i>0);return n}function k3(){const i=w3(+new Date);return i!==C3?(x3=0,C3=i):i+"."+w3(x3++)}for(;sd<Qb;sd++)y3[v3[sd]]=sd;function I3(i){let n="";for(let e in i)i.hasOwnProperty(e)&&(n.length&&(n+="&"),n+=encodeURIComponent(e)+"="+encodeURIComponent(i[e]));return n}let A3=!1;try{A3=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Lee=A3;function S3(i){const n=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||Lee))return new XMLHttpRequest}catch{}if(!n)try{return new(va[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function Nee(){}const Bee=null!=new S3({xdomain:!1}).responseType;let ev=(()=>{class i extends Xo{constructor(e,t){super(),Jb(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=_3(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new S3(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.opts.extraHeaders[o])}}catch{}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof t.status?t.status:0)},0))},t.send(this.data)}catch(o){return void this.setTimeoutFn(()=>{this.onError(o)},0)}typeof document<"u"&&(this.index=i.requestsCount++,i.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||null===this.xhr)){if(this.xhr.onreadystatechange=Nee,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete i.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return i.requestsCount=0,i.requests={},i})();function M3(){for(let i in ev.requests)ev.requests.hasOwnProperty(i)&&ev.requests[i].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",M3):"function"==typeof addEventListener&&addEventListener("onpagehide"in va?"pagehide":"unload",M3,!1));const P3="function"==typeof Promise&&"function"==typeof Promise.resolve?n=>Promise.resolve().then(n):(n,e)=>e(n,0),tv=va.WebSocket||va.MozWebSocket,T3=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),zee={websocket:class Hee extends b3{constructor(n){super(n),this.supportsBinary=!n.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const n=this.uri(),e=this.opts.protocols,t=T3?{}:_3(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(t.headers=this.opts.extraHeaders);try{this.ws=T3?new tv(n,e,t):e?new tv(n,e):new tv(n)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let e=0;e<n.length;e++){const o=e===n.length-1;h3(n[e],this.supportsBinary,s=>{try{this.ws.send(s)}catch{}o&&P3(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let n=this.query||{};const e=this.opts.secure?"wss":"ws";let t="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(t=":"+this.opts.port),this.opts.timestampRequests&&(n[this.opts.timestampParam]=k3()),this.supportsBinary||(n.b64=1);const o=I3(n);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+t+this.opts.path+(o.length?"?"+o:"")}check(){return!!tv}},polling:class Vee extends b3{constructor(n){if(super(n),this.polling=!1,typeof location<"u"){const t="https:"===location.protocol;let o=location.port;o||(o=t?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||o!==n.port,this.xs=n.secure!==t}this.supportsBinary=Bee&&!(n&&n.forceBase64)}get name(){return"polling"}doOpen(){this.poll()}pause(n){this.readyState="pausing";const e=()=>{this.readyState="paused",n()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",function(){--t||e()})),this.writable||(t++,this.once("drain",function(){--t||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){((i,n)=>{const e=i.split(f3),t=[];for(let o=0;o<e.length;o++){const s=m3(e[o],n);if(t.push(s),"error"===s.type)break}return t})(n,this.socket.binaryType).forEach(t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const n=()=>{this.write([{type:"close"}])};"open"===this.readyState?n():this.once("open",n)}write(n){this.writable=!1,((i,n)=>{const e=i.length,t=new Array(e);let o=0;i.forEach((s,r)=>{h3(s,!1,a=>{t[r]=a,++o===e&&n(t.join(f3))})})})(n,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let n=this.query||{};const e=this.opts.secure?"https":"http";let t="";!1!==this.opts.timestampRequests&&(n[this.opts.timestampParam]=k3()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(t=":"+this.opts.port);const o=I3(n);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+t+this.opts.path+(o.length?"?"+o:"")}request(n={}){return Object.assign(n,{xd:this.xd,xs:this.xs},this.opts),new ev(this.uri(),n)}doWrite(n,e){const t=this.request({method:"POST",data:n});t.on("success",e),t.on("error",(o,s)=>{this.onError("xhr post error",o,s)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=n}}},jee=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Gee=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function x1(i){const n=i,e=i.indexOf("["),t=i.indexOf("]");-1!=e&&-1!=t&&(i=i.substring(0,e)+i.substring(e,t).replace(/:/g,";")+i.substring(t,i.length));let o=jee.exec(i||""),s={},r=14;for(;r--;)s[Gee[r]]=o[r]||"";return-1!=e&&-1!=t&&(s.source=n,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function Wee(i,n){const t=n.replace(/\/{2,9}/g,"/").split("/");return("/"==n.slice(0,1)||0===n.length)&&t.splice(0,1),"/"==n.slice(-1)&&t.splice(t.length-1,1),t}(0,s.path),s.queryKey=function Uee(i,n){const e={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,o,s){o&&(e[o]=s)}),e}(0,s.query),s}let E3=(()=>{class i extends Xo{constructor(e,t={}){super(),this.writeBuffer=[],e&&"object"==typeof e&&(t=e,e=null),e?(e=x1(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=x1(t.host).host),Jb(this,t),this.secure=null!=t.secure?t.secure:typeof location<"u"&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function Fee(i){let n={},e=i.split("&");for(let t=0,o=e.length;t<o;t++){let s=e[t].split("=");n[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return n}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const o=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new zee[e](o)}open(){let e;if(this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch{return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),o=!1;i.priorWebsocketSuccess=!1;const s=()=>{o||(t.send([{type:"ping",data:"probe"}]),t.once("packet",te=>{if(!o)if("pong"===te.type&&"probe"===te.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;i.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{o||"closed"!==this.readyState&&(D(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const se=new Error("probe error");se.transport=t.name,this.emitReserved("upgradeError",se)}}))};function r(){o||(o=!0,D(),t.close(),t=null)}const a=te=>{const se=new Error("probe error: "+te);se.transport=t.name,r(),this.emitReserved("upgradeError",se)};function l(){a("transport closed")}function c(){a("socket closed")}function A(te){t&&te.name!==t.name&&r()}const D=()=>{t.removeListener("open",s),t.removeListener("error",a),t.removeListener("close",l),this.off("close",c),this.off("upgrading",A)};t.once("open",s),t.once("error",a),t.once("close",l),this.once("close",c),this.once("upgrading",A),t.open()}onOpen(){if(this.readyState="open",i.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let o=0;o<this.writeBuffer.length;o++){const s=this.writeBuffer[o].data;if(s&&(t+=Dee(s)),o>0&&t>this.maxPayload)return this.writeBuffer.slice(0,o);t+=2}return this.writeBuffer}write(e,t,o){return this.sendPacket("message",e,t,o),this}send(e,t,o){return this.sendPacket("message",e,t,o),this}sendPacket(e,t,o,s){if("function"==typeof t&&(s=t,t=void 0),"function"==typeof o&&(s=o,o=null),"closing"===this.readyState||"closed"===this.readyState)return;(o=o||{}).compress=!1!==o.compress;const r={type:e,data:t,options:o};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},o=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():e()}):this.upgrading?o():e()),this}onError(e){i.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let o=0;const s=e.length;for(;o<s;o++)~this.transports.indexOf(e[o])&&t.push(e[o]);return t}}return i.protocol=4,i})();const Kee="function"==typeof ArrayBuffer,Yee=i=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,D3=Object.prototype.toString,Xee="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===D3.call(Blob),qee="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===D3.call(File);function C1(i){return Kee&&(i instanceof ArrayBuffer||Yee(i))||Xee&&i instanceof Blob||qee&&i instanceof File}function iv(i,n){if(!i||"object"!=typeof i)return!1;if(Array.isArray(i)){for(let e=0,t=i.length;e<t;e++)if(iv(i[e]))return!0;return!1}if(C1(i))return!0;if(i.toJSON&&"function"==typeof i.toJSON&&1===arguments.length)return iv(i.toJSON(),!0);for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&iv(i[e]))return!0;return!1}function Jee(i){const n=[],t=i;return t.data=w1(i.data,n),t.attachments=n.length,{packet:t,buffers:n}}function w1(i,n){if(!i)return i;if(C1(i)){const e={_placeholder:!0,num:n.length};return n.push(i),e}if(Array.isArray(i)){const e=new Array(i.length);for(let t=0;t<i.length;t++)e[t]=w1(i[t],n);return e}if("object"==typeof i&&!(i instanceof Date)){const e={};for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=w1(i[t],n));return e}return i}function Qee(i,n){return i.data=k1(i.data,n),delete i.attachments,i}function k1(i,n){if(!i)return i;if(i&&!0===i._placeholder){if("number"==typeof i.num&&i.num>=0&&i.num<n.length)return n[i.num];throw new Error("illegal attachments")}if(Array.isArray(i))for(let e=0;e<i.length;e++)i[e]=k1(i[e],n);else if("object"==typeof i)for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e]=k1(i[e],n));return i}const ete=5;var bn=(()=>{return(i=bn||(bn={}))[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK",bn;var i})();class tte{constructor(n){this.replacer=n}encode(n){return n.type!==bn.EVENT&&n.type!==bn.ACK||!iv(n)?[this.encodeAsString(n)]:this.encodeAsBinary({type:n.type===bn.EVENT?bn.BINARY_EVENT:bn.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id})}encodeAsString(n){let e=""+n.type;return(n.type===bn.BINARY_EVENT||n.type===bn.BINARY_ACK)&&(e+=n.attachments+"-"),n.nsp&&"/"!==n.nsp&&(e+=n.nsp+","),null!=n.id&&(e+=n.id),null!=n.data&&(e+=JSON.stringify(n.data,this.replacer)),e}encodeAsBinary(n){const e=Jee(n),t=this.encodeAsString(e.packet),o=e.buffers;return o.unshift(t),o}}class I1 extends Xo{constructor(n){super(),this.reviver=n}add(n){let e;if("string"==typeof n){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(n);const t=e.type===bn.BINARY_EVENT;t||e.type===bn.BINARY_ACK?(e.type=t?bn.EVENT:bn.ACK,this.reconstructor=new ite(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!C1(n)&&!n.base64)throw new Error("Unknown type: "+n);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(n),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(n){let e=0;const t={type:Number(n.charAt(0))};if(void 0===bn[t.type])throw new Error("unknown packet type "+t.type);if(t.type===bn.BINARY_EVENT||t.type===bn.BINARY_ACK){const s=e+1;for(;"-"!==n.charAt(++e)&&e!=n.length;);const r=n.substring(s,e);if(r!=Number(r)||"-"!==n.charAt(e))throw new Error("Illegal attachments");t.attachments=Number(r)}if("/"===n.charAt(e+1)){const s=e+1;for(;++e&&","!==n.charAt(e)&&e!==n.length;);t.nsp=n.substring(s,e)}else t.nsp="/";const o=n.charAt(e+1);if(""!==o&&Number(o)==o){const s=e+1;for(;++e;){const r=n.charAt(e);if(null==r||Number(r)!=r){--e;break}if(e===n.length)break}t.id=Number(n.substring(s,e+1))}if(n.charAt(++e)){const s=this.tryParse(n.substr(e));if(!I1.isPayloadValid(t.type,s))throw new Error("invalid payload");t.data=s}return t}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,e){switch(n){case bn.CONNECT:return"object"==typeof e;case bn.DISCONNECT:return void 0===e;case bn.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case bn.EVENT:case bn.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case bn.ACK:case bn.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ite{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const e=Qee(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function tl(i,n,e){return i.on(n,e),function(){i.off(n,e)}}const nte=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class O3 extends Xo{constructor(n,e,t){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=e,t&&t.auth&&(this.auth=t.auth),this._opts=Object.assign({},t),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[tl(n,"open",this.onopen.bind(this)),tl(n,"packet",this.onpacket.bind(this)),tl(n,"error",this.onerror.bind(this)),tl(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...e){if(nte.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(e.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const t={type:bn.EVENT,data:e,options:{}};if(t.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const r=this.ids++,a=e.pop();this._registerAckCallback(r,a),t.id=r}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(t),this.packet(t)):this.sendBuffer.push(t)),this.flags={},this}_registerAckCallback(n,e){var t;const o=null!==(t=this.flags.timeout)&&void 0!==t?t:this._opts.ackTimeout;if(void 0===o)return void(this.acks[n]=e);const s=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let r=0;r<this.sendBuffer.length;r++)this.sendBuffer[r].id===n&&this.sendBuffer.splice(r,1);e.call(this,new Error("operation has timed out"))},o);this.acks[n]=(...r)=>{this.io.clearTimeoutFn(s),e.apply(this,[null,...r])}}emitWithAck(n,...e){const t=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((o,s)=>{e.push((r,a)=>t?r?s(r):o(a):o(r)),this.emit(n,...e)})}_addToQueue(n){let e;"function"==typeof n[n.length-1]&&(e=n.pop());const t={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((o,...s)=>t!==this._queue[0]?void 0:(null!==o?t.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(o)):(this._queue.shift(),e&&e(null,...s)),t.pending=!1,this._drainQueue())),this._queue.push(t),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!n||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){"function"==typeof this.auth?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:bn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,e)}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case bn.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case bn.EVENT:case bn.BINARY_EVENT:this.onevent(n);break;case bn.ACK:case bn.BINARY_ACK:this.onack(n);break;case bn.DISCONNECT:this.ondisconnect();break;case bn.CONNECT_ERROR:this.destroy();const t=new Error(n.data.message);t.data=n.data.data,this.emitReserved("connect_error",t)}}onevent(n){const e=n.data||[];null!=n.id&&e.push(this.ack(n.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const t of e)t.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&"string"==typeof n[n.length-1]&&(this._lastOffset=n[n.length-1])}ack(n){const e=this;let t=!1;return function(...o){t||(t=!0,e.packet({type:bn.ACK,id:n,data:o}))}}onack(n){const e=this.acks[n.id];"function"==typeof e&&(e.apply(this,n.data),delete this.acks[n.id])}onconnect(n,e){this.id=n,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:bn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const e=this._anyListeners;for(let t=0;t<e.length;t++)if(n===e[t])return e.splice(t,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const e=this._anyOutgoingListeners;for(let t=0;t<e.length;t++)if(n===e[t])return e.splice(t,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const t of e)t.apply(this,n.data)}}}function Zh(i){this.ms=(i=i||{}).min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}Zh.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),e=Math.floor(n*this.jitter*i);i=1&Math.floor(10*n)?i+e:i-e}return 0|Math.min(i,this.max)},Zh.prototype.reset=function(){this.attempts=0},Zh.prototype.setMin=function(i){this.ms=i},Zh.prototype.setMax=function(i){this.max=i},Zh.prototype.setJitter=function(i){this.jitter=i};class A1 extends Xo{constructor(n,e){var t;super(),this.nsps={},this.subs=[],n&&"object"==typeof n&&(e=n,n=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,Jb(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(t=e.randomizationFactor)&&void 0!==t?t:.5),this.backoff=new Zh({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=n;const o=e.parser||tc;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,this):this._reconnection}reconnectionAttempts(n){return void 0===n?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var e;return void 0===n?this._reconnectionDelay:(this._reconnectionDelay=n,null===(e=this.backoff)||void 0===e||e.setMin(n),this)}randomizationFactor(n){var e;return void 0===n?this._randomizationFactor:(this._randomizationFactor=n,null===(e=this.backoff)||void 0===e||e.setJitter(n),this)}reconnectionDelayMax(n){var e;return void 0===n?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,null===(e=this.backoff)||void 0===e||e.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new E3(this.uri,this.opts);const e=this.engine,t=this;this._readyState="opening",this.skipReconnect=!1;const o=tl(e,"open",function(){t.onopen(),n&&n()}),s=tl(e,"error",r=>{t.cleanup(),t._readyState="closed",this.emitReserved("error",r),n?n(r):t.maybeReconnectOnOpen()});if(!1!==this._timeout){const r=this._timeout;0===r&&o();const a=this.setTimeoutFn(()=>{o(),e.close(),e.emit("error",new Error("timeout"))},r);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(o),this.subs.push(s),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(tl(n,"ping",this.onping.bind(this)),tl(n,"data",this.ondata.bind(this)),tl(n,"error",this.onerror.bind(this)),tl(n,"close",this.onclose.bind(this)),tl(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(e){this.onclose("parse error",e)}}ondecoded(n){P3(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,e){let t=this.nsps[n];return t?this._autoConnect&&!t.active&&t.connect():(t=new O3(this,n,e),this.nsps[n]=t),t}_destroy(n){const e=Object.keys(this.nsps);for(const t of e)if(this.nsps[t].active)return;this._close()}_packet(n){const e=this.encoder.encode(n);for(let t=0;t<e.length;t++)this.engine.write(e[t],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(n,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const t=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(o=>{o?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",o)):n.onreconnect()}))},e);this.opts.autoUnref&&t.unref(),this.subs.push(function(){clearTimeout(t)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const bf={};function nv(i,n){"object"==typeof i&&(n=i,i=void 0);const e=function Zee(i,n="",e){let t=i;e=e||typeof location<"u"&&location,null==i&&(i=e.protocol+"//"+e.host),"string"==typeof i&&("/"===i.charAt(0)&&(i="/"===i.charAt(1)?e.protocol+i:e.host+i),/^(https?|wss?):\/\//.test(i)||(i=typeof e<"u"?e.protocol+"//"+i:"https://"+i),t=x1(i)),t.port||(/^(http|ws)$/.test(t.protocol)?t.port="80":/^(http|ws)s$/.test(t.protocol)&&(t.port="443")),t.path=t.path||"/";const s=-1!==t.host.indexOf(":")?"["+t.host+"]":t.host;return t.id=t.protocol+"://"+s+":"+t.port+n,t.href=t.protocol+"://"+s+(e&&e.port===t.port?"":":"+t.port),t}(i,(n=n||{}).path||"/socket.io"),t=e.source,o=e.id;let l;return n.forceNew||n["force new connection"]||!1===n.multiplex||bf[o]&&e.path in bf[o].nsps?l=new A1(t,n):(bf[o]||(bf[o]=new A1(t,n)),l=bf[o]),e.query&&!n.query&&(n.query=e.queryKey),l.socket(e.path,n)}Object.assign(nv,{Manager:A1,Socket:O3,io:nv,connect:nv});const ote=["tooltip"],R3=new nt("mat-tooltip-scroll-strategy"),ate={provide:R3,deps:[ss],useFactory:function rte(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}},cte=new nt("mat-tooltip-default-options",{providedIn:"root",factory:function lte(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),F3="tooltip-panel",L3=Ka({passive:!0});let fte=(()=>{class i{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=bt(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=bt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=hn(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=hn(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,t,o,s,r,a,l,c,A,D,te,se){this._overlay=e,this._elementRef=t,this._scrollDispatcher=o,this._viewContainerRef=s,this._ngZone=r,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=D,this._defaultOptions=te,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new R,this._scrollStrategy=A,this._document=se,te&&(te.position&&(this.position=te.position),te.positionAtOrigin&&(this.positionAtOrigin=te.positionAtOrigin),te.touchGestures&&(this.touchGestures=te.touchGestures)),D.change.pipe(hi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(hi(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([t,o])=>{e.removeEventListener(t,o,L3)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,t){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const o=this._createOverlay(t);this._detach(),this._portal=this._portal||new Vl(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=o.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(hi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(e)}hide(e=this.hideDelay){const t=this._tooltipInstance;t&&(t.isVisible()?t.hide(e):(t._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof $e)return this._overlayRef;this._detach()}const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return o.positionChanges.pipe(hi(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${F3}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(hi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(hi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(hi(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!fo(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const t=e.getConfig().positionStrategy,o=this._getOrigin(),s=this._getOverlayPosition();t.withPositions([this._addOffset({...o.main,...s.main}),this._addOffset({...o.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,t=this.position;let o;"above"==t||"below"==t?o={originX:"center",originY:"above"==t?"top":"bottom"}:"before"==t||"left"==t&&e||"right"==t&&!e?o={originX:"start",originY:"center"}:("after"==t||"right"==t&&e||"left"==t&&!e)&&(o={originX:"end",originY:"center"});const{x:s,y:r}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:s,originY:r}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,t=this.position;let o;"above"==t?o={overlayX:"center",overlayY:"bottom"}:"below"==t?o={overlayX:"center",overlayY:"top"}:"before"==t||"left"==t&&e||"right"==t&&!e?o={overlayX:"end",overlayY:"center"}:("after"==t||"right"==t&&e||"left"==t&&!e)&&(o={overlayX:"start",overlayY:"center"});const{x:s,y:r}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:s,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(mn(1),hi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return"above"===this.position||"below"===this.position?"top"===t?t="bottom":"bottom"===t&&(t="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){const{overlayY:t,originX:o,originY:s}=e;let r;if(r="center"===t?this._dir&&"rtl"===this._dir.value?"end"===o?"left":"right":"start"===o?"left":"right":"bottom"===t&&"top"===s?"above":"below",r!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${F3}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+r)}this._currentPosition=r}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let t;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(t=e),this.show(void 0,t)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const t=e.targetTouches?.[0],o=t?{x:t.clientX,y:t.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,o),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",t=>{const o=t.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",t=>this._wheelListener(t)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const t=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([t,o])=>{this._elementRef.nativeElement.addEventListener(t,o,L3)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const t=this._document.elementFromPoint(e.clientX,e.clientY),o=this._elementRef.nativeElement;t!==o&&!o.contains(t)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const t=this._elementRef.nativeElement,o=t.style;("on"===e||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),("on"===e||!t.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}}return i.\u0275fac=function(e){Ha()},i.\u0275dir=Xe({type:i,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),i})(),Pn=(()=>{class i extends fte{constructor(e,t,o,s,r,a,l,c,A,D,te,se){super(e,t,o,s,r,a,l,c,A,D,te,se),this._tooltipComponent=_te,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const o=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=o?-8:8:"end"===e.originX&&(e.offsetX=o?8:-8),e}}return i.\u0275fac=function(e){return new(e||i)(P(ss),P($e),P(Kd),P(Ri),P(Bt),P(Mn),P(cX),P(Cs),P(R3),P(Hn,8),P(cte,8),P(pi))},i.\u0275dir=Xe({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[Re]}),i})(),gte=(()=>{class i{constructor(e,t){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new R,this._animationsDisabled="NoopAnimations"===t}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const t=this._tooltip.nativeElement,o=this._showAnimation,s=this._hideAnimation;if(t.classList.remove(e?s:o),t.classList.add(e?o:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const r=getComputedStyle(t);("0s"===r.getPropertyValue("animation-duration")||"none"===r.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(t.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return i.\u0275fac=function(e){return new(e||i)(P(Zt),P(yn,8))},i.\u0275dir=Xe({type:i}),i})(),_te=(()=>{class i extends gte{constructor(e,t,o){super(e,o),this._elementRef=t,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return i.\u0275fac=function(e){return new(e||i)(P(Zt),P($e),P(yn,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(e,t){if(1&e&&ht(ote,7),2&e){let o;Ke(o=Ye())&&(t._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,t){1&e&&ie("mouseleave",function(s){return t._handleMouseLeave(s)}),2&e&&et("zoom",t.isVisible()?1:null)},features:[Re],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,t){1&e&&(x(0,"div",0,1),ie("animationend",function(s){return t._handleAnimationEnd(s)}),x(2,"div",2),ee(3),C()()),2&e&&(St("mdc-tooltip--multiline",t._isMultiline),g("ngClass",t.tooltipClass),_(3),Je(t.message))},dependencies:[Gt],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:-8px;right:-8px;bottom:-8px;left:-8px;z-index:-1;position:absolute}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),i})(),iu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[ate],imports:[yb,Gi,td,bi,bi,zl]}),i})();const bte=["matFormFieldNotchedOutline",""],vte=["*"],yte=["textField"],xte=["iconPrefixContainer"],Cte=["textPrefixContainer"];function wte(i,n){1&i&&me(0,"span",19)}function kte(i,n){if(1&i){const e=Me();x(0,"label",17),ie("cdkObserveContent",function(){return he(e),pe(I(2)._refreshOutlineNotchWidth())}),Ft(1,1),$(2,wte,1,0,"span",18),C()}if(2&i){const e=I(2);g("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),Et("for",e._control.id)("aria-owns",e._control.id),_(2),g("ngIf",!e.hideRequiredMarker&&e._control.required)}}function Ite(i,n){1&i&&$(0,kte,3,6,"label",16),2&i&&g("ngIf",I()._hasFloatingLabel())}function Ate(i,n){1&i&&me(0,"div",20)}function Ste(i,n){}function Mte(i,n){1&i&&$(0,Ste,0,0,"ng-template",22),2&i&&(I(2),g("ngTemplateOutlet",Qt(1)))}function Pte(i,n){if(1&i&&(x(0,"div",21),$(1,Mte,1,1,"ng-template",9),C()),2&i){const e=I();g("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),_(1),g("ngIf",!e._forceDisplayInfixLabel())}}function Tte(i,n){1&i&&(x(0,"div",23,24),Ft(2,2),C())}function Ete(i,n){1&i&&(x(0,"div",25,26),Ft(2,3),C())}function Dte(i,n){}function Ote(i,n){1&i&&$(0,Dte,0,0,"ng-template",22),2&i&&(I(),g("ngTemplateOutlet",Qt(1)))}function Rte(i,n){1&i&&(x(0,"div",27),Ft(1,4),C())}function Fte(i,n){1&i&&(x(0,"div",28),Ft(1,5),C())}function Lte(i,n){1&i&&me(0,"div",29)}function Nte(i,n){1&i&&(x(0,"div",30),Ft(1,6),C()),2&i&&g("@transitionMessages",I()._subscriptAnimationState)}function Bte(i,n){if(1&i&&(x(0,"mat-hint",34),ee(1),C()),2&i){const e=I(2);g("id",e._hintLabelId),_(1),Je(e.hintLabel)}}function Vte(i,n){if(1&i&&(x(0,"div",31),$(1,Bte,2,2,"mat-hint",32),Ft(2,7),me(3,"div",33),Ft(4,8),C()),2&i){const e=I();g("@transitionMessages",e._subscriptAnimationState),_(1),g("ngIf",e.hintLabel)}}const $te=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Hte=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let js=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["mat-label"]]}),i})(),zte=0;const N3=new nt("MatError");let jte=(()=>{class i{constructor(e,t){this.id="mat-mdc-error-"+zte++,e||t.nativeElement.setAttribute("aria-live","polite")}}return i.\u0275fac=function(e){return new(e||i)(cs("aria-live"),P($e))},i.\u0275dir=Xe({type:i,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,t){2&e&&ps("id",t.id)},inputs:{id:"id"},features:[Ct([{provide:N3,useExisting:i}])]}),i})(),Gte=0,ov=(()=>{class i{constructor(){this.align="start",this.id="mat-mdc-hint-"+Gte++}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,t){2&e&&(ps("id",t.id),Et("align",null),St("mat-mdc-form-field-hint-end","end"===t.align))},inputs:{align:"align",id:"id"}}),i})();const B3=new nt("MatPrefix");let nu=(()=>{class i{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:["matTextPrefix","_isTextSelector"]},features:[Ct([{provide:B3,useExisting:i}])]}),i})();const V3=new nt("MatSuffix");let Ac=(()=>{class i{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Ct([{provide:V3,useExisting:i}])]}),i})(),$3=(()=>{class i{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function Wte(i){if(null!==i.offsetParent)return i.scrollWidth;const e=i.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const t=e.scrollWidth;return e.remove(),t}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275dir=Xe({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,t){2&e&&St("mdc-floating-label--float-above",t.floating)},inputs:{floating:"floating"}}),i})();const H3="mdc-line-ripple--active",sv="mdc-line-ripple--deactivating";let z3=(()=>{class i{constructor(e,t){this._elementRef=e,this._handleTransitionEnd=o=>{const s=this._elementRef.nativeElement.classList,r=s.contains(sv);"opacity"===o.propertyName&&r&&s.remove(H3,sv)},t.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(sv),e.add(H3)}deactivate(){this._elementRef.nativeElement.classList.add(sv)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Bt))},i.\u0275dir=Xe({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),i})(),j3=(()=>{class i{constructor(e,t){this._elementRef=e,this._ngZone=t,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Bt))},i.\u0275cmp=Fe({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,t){2&e&&St("mdc-notched-outline--notched",t.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:bte,ngContentSelectors:vte,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,t){1&e&&(Li(),me(0,"div",0),x(1,"div",1),Ft(2),C(),me(3,"div",2)),2&e&&(_(1),et("width",t._getNotchWidth()))},encapsulation:2,changeDetection:0}),i})();const Ute={transitionMessages:Co("transitionMessages",[_n("enter",ei({opacity:1,transform:"translateY(0%)"})),sn("void => enter",[ei({opacity:0,transform:"translateY(-5px)"}),Qi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let vf=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i}),i})();const ou=new nt("MatFormField"),Zte=new nt("MAT_FORM_FIELD_DEFAULT_OPTIONS");let G3=0,ks=(()=>{class i{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=bt(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==t&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,t,o,s,r,a,l,c){this._elementRef=e,this._changeDetectorRef=t,this._ngZone=o,this._dir=s,this._platform=r,this._defaults=a,this._animationMode=l,this._document=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+G3++,this._hintLabelId="mat-mdc-hint-"+G3++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new R,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=Boolean(a?.hideRequiredMarker),a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(hi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Yi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(hi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(hi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,o=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const t=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=t?.getBoundingClientRect().width??0,r=o?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+r}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt),P(Bt),P(Hn),P(Mn),P(Zte,8),P(yn,8),P(pi))},i.\u0275cmp=Fe({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,t,o){if(1&e&&(fi(o,js,5),fi(o,js,7),fi(o,vf,5),fi(o,B3,5),fi(o,V3,5),fi(o,N3,5),fi(o,ov,5)),2&e){let s;Ke(s=Ye())&&(t._labelChildNonStatic=s.first),Ke(s=Ye())&&(t._labelChildStatic=s.first),Ke(s=Ye())&&(t._formFieldControl=s.first),Ke(s=Ye())&&(t._prefixChildren=s),Ke(s=Ye())&&(t._suffixChildren=s),Ke(s=Ye())&&(t._errorChildren=s),Ke(s=Ye())&&(t._hintChildren=s)}},viewQuery:function(e,t){if(1&e&&(ht(yte,5),ht(xte,5),ht(Cte,5),ht($3,5),ht(j3,5),ht(z3,5)),2&e){let o;Ke(o=Ye())&&(t._textField=o.first),Ke(o=Ye())&&(t._iconPrefixContainer=o.first),Ke(o=Ye())&&(t._textPrefixContainer=o.first),Ke(o=Ye())&&(t._floatingLabel=o.first),Ke(o=Ye())&&(t._notchedOutline=o.first),Ke(o=Ye())&&(t._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,t){2&e&&St("mat-mdc-form-field-label-always-float",t._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",t._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",t._hasIconSuffix)("mat-form-field-invalid",t._control.errorState)("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===t._animationMode)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-hide-placeholder",t._hasFloatingLabel()&&!t._shouldLabelFloat())("mat-focused",t._control.focused)("mat-primary","accent"!==t.color&&"warn"!==t.color)("mat-accent","accent"===t.color)("mat-warn","warn"===t.color)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ct([{provide:ou,useExisting:i}])],ngContentSelectors:Hte,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,t){1&e&&(Li($te),$(0,Ite,1,1,"ng-template",null,0,is),x(2,"div",1,2),ie("click",function(s){return t._control.onContainerClick&&t._control.onContainerClick(s)}),$(4,Ate,1,0,"div",3),x(5,"div",4),$(6,Pte,2,3,"div",5),$(7,Tte,3,0,"div",6),$(8,Ete,3,0,"div",7),x(9,"div",8),$(10,Ote,1,1,"ng-template",9),Ft(11),C(),$(12,Rte,2,0,"div",10),$(13,Fte,2,0,"div",11),C(),$(14,Lte,1,0,"div",12),C(),x(15,"div",13),$(16,Nte,2,1,"div",14),$(17,Vte,5,2,"div",15),C()),2&e&&(_(2),St("mdc-text-field--filled",!t._hasOutline())("mdc-text-field--outlined",t._hasOutline())("mdc-text-field--no-label",!t._hasFloatingLabel())("mdc-text-field--disabled",t._control.disabled)("mdc-text-field--invalid",t._control.errorState),_(2),g("ngIf",!t._hasOutline()&&!t._control.disabled),_(2),g("ngIf",t._hasOutline()),_(1),g("ngIf",t._hasIconPrefix),_(1),g("ngIf",t._hasTextPrefix),_(2),g("ngIf",!t._hasOutline()||t._forceDisplayInfixLabel()),_(2),g("ngIf",t._hasTextSuffix),_(1),g("ngIf",t._hasIconSuffix),_(1),g("ngIf",!t._hasOutline()),_(1),St("mat-mdc-form-field-subscript-dynamic-size","dynamic"===t.subscriptSizing),g("ngSwitch",t._getDisplayedMessages()),_(1),g("ngSwitchCase","error"),_(1),g("ngSwitchCase","hint"))},dependencies:[ct,S_,wr,pa,Wm,ov,$3,j3,z3],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[Ute.transitionMessages]},changeDetection:0}),i})(),Ul=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi,Gi,mb,bi]}),i})();const Z3=Ka({passive:!0});let Xte=(()=>{class i{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return xi;const t=To(e),o=this._monitoredElements.get(t);if(o)return o.subject;const s=new R,r="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||t.classList.contains(r)?"cdk-text-field-autofill-end"===l.animationName&&t.classList.contains(r)&&(t.classList.remove(r),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(t.classList.add(r),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",a,Z3),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:s,unlisten:()=>{t.removeEventListener("animationstart",a,Z3)}}),s}stopMonitoring(e){const t=To(e),o=this._monitoredElements.get(t);o&&(o.unlisten(),o.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return i.\u0275fac=function(e){return new(e||i)(Le(Mn),Le(Bt))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),qte=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({}),i})();const K3=new nt("MAT_INPUT_VALUE_ACCESSOR"),Jte=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Qte=0;const eie=kb(class{constructor(i,n,e,t){this._defaultErrorStateMatcher=i,this._parentForm=n,this._parentFormGroup=e,this.ngControl=t,this.stateChanges=new R}});let Wr=(()=>{class i extends eie{get disabled(){return this._disabled}set disabled(e){this._disabled=bt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Xt.required)??!1}set required(e){this._required=bt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&zO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=bt(e)}constructor(e,t,o,s,r,a,l,c,A,D){super(a,s,r,o),this._elementRef=e,this._platform=t,this._autofillMonitor=c,this._formField=D,this._uid="mat-input-"+Qte++,this.focused=!1,this.stateChanges=new R,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(le=>zO().has(le)),this._iOSKeyupListener=le=>{const ke=le.target;!ke.value&&0===ke.selectionStart&&0===ke.selectionEnd&&(ke.setSelectionRange(1,1),ke.setSelectionRange(0,0))};const te=this._elementRef.nativeElement,se=te.nodeName.toLowerCase();this._inputValueAccessor=l||te,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&A.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===se,this._isTextarea="textarea"===se,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=te.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=e,e?t.setAttribute("placeholder",e):t.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Jte.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Mn),P(_a,10),P(Qa,8),P(ba,8),P(Wd),P(K3,10),P(Xte),P(Bt),P(ou,8))},i.\u0275dir=Xe({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,t){1&e&&ie("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),2&e&&(ps("id",t.id)("disabled",t.disabled)("required",t.required),Et("name",t.name||null)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.empty&&t.required?null:t.errorState)("aria-required",t.required)("id",t.id),St("mat-input-server",t._isServer)("mat-mdc-form-field-textarea-control",t._isInFormField&&t._isTextarea)("mat-mdc-form-field-input-control",t._isInFormField)("mdc-text-field__input",t._isInFormField)("mat-mdc-native-select-inline",t._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ct([{provide:vf,useExisting:i}]),Re,dn]}),i})(),rd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi,Ul,Ul,qte,bi]}),i})();const tie=["button"],iie=["*"],Y3=new nt("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),X3=new nt("MatButtonToggleGroup"),nie={provide:go,useExisting:Si(()=>Q3),multi:!0};let q3=0;class J3{constructor(n,e){this.source=n,this.value=e}}let Q3=(()=>{class i{get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(e){this._vertical=bt(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(t=>t.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=bt(e),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=bt(e),this._markButtonsForCheck()}constructor(e,t){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+q3++,this.valueChange=new tt,this.change=new tt,this.appearance=t&&t.appearance?t.appearance:"standard"}ngOnInit(){this._selectionModel=new Ud(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(e){const t=new J3(e,this.value);this._controlValueAccessorChangeFn(t.value),this.change.emit(t)}_syncButtonToggle(e,t,o=!1,s=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?t?this._selectionModel.select(e):this._selectionModel.deselect(e):s=!0,s?Promise.resolve().then(()=>this._updateModelValue(e,o)):this._updateModelValue(e,o)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(t=>null!=e.value&&t===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(t=>this._selectValue(t))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const t=this._buttonToggles.find(o=>null!=o.value&&o.value===e);t&&(t.checked=!0,this._selectionModel.select(t))}_updateModelValue(e,t){t&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(P(Zt),P(Y3,8))},i.\u0275dir=Xe({type:i,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,t,o){if(1&e&&fi(o,eL,5),2&e){let s;Ke(s=Ye())&&(t._buttonToggles=s)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,t){2&e&&(Et("aria-disabled",t.disabled),St("mat-button-toggle-vertical",t.vertical)("mat-button-toggle-group-appearance-standard","standard"===t.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[Ct([nie,{provide:X3,useExisting:i}])]}),i})();const oie=qa(class{});let eL=(()=>{class i extends oie{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const t=bt(e);t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=bt(e)}constructor(e,t,o,s,r,a){super(),this._changeDetectorRef=t,this._elementRef=o,this._focusMonitor=s,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new tt;const l=Number(r);this.tabIndex=l||0===l?l:null,this.buttonToggleGroup=e,this.appearance=a&&a.appearance?a.appearance:"standard"}ngOnInit(){const e=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+q3++,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector()||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new J3(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return i.\u0275fac=function(e){return new(e||i)(P(X3,8),P(Zt),P($e),P(Cs),cs("tabindex"),P(Y3,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-button-toggle"]],viewQuery:function(e,t){if(1&e&&ht(tie,5),2&e){let o;Ke(o=Ye())&&(t._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,t){1&e&&ie("focus",function(){return t.focus()}),2&e&&(Et("aria-label",null)("aria-labelledby",null)("id",t.id)("name",null),St("mat-button-toggle-standalone",!t.buttonToggleGroup)("mat-button-toggle-checked",t.checked)("mat-button-toggle-disabled",t.disabled)("mat-button-toggle-appearance-standard","standard"===t.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[Re],ngContentSelectors:iie,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,t){if(1&e&&(Li(),x(0,"button",0,1),ie("click",function(){return t._onButtonClick()}),x(2,"span",2),Ft(3),C()(),me(4,"span",3)(5,"span",4)),2&e){const o=Qt(1);g("id",t.buttonId)("disabled",t.disabled||null),Et("tabindex",t.disabled?-1:t.tabIndex)("aria-pressed",t.checked)("name",t._getButtonName())("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby),_(5),g("matRippleTrigger",o)("matRippleDisabled",t.disableRipple||t.disabled)}},dependencies:[Vo],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),i})(),tL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi,Ir,bi]}),i})();const sie=["input"],rie=["label"],aie=["*"],lie=new nt("mat-checkbox-default-options",{providedIn:"root",factory:iL});function iL(){return{color:"accent",clickAction:"check-indeterminate"}}const cie={provide:go,useExisting:Si(()=>ad),multi:!0};class die{}let uie=0;const nL=iL(),hie=Cc(Bl(qa(Xa(class{constructor(i){this._elementRef=i}}))));let pie=(()=>{class i extends hie{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=bt(e)}constructor(e,t,o,s,r,a,l){super(t),this._changeDetectorRef=o,this._ngZone=s,this._animationMode=a,this._options=l,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new tt,this.indeterminateChange=new tt,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||nL,this.color=this.defaultColor=this._options.color||nL.color,this.tabIndex=parseInt(r)||0,this.id=this._uniqueId=`${e}${++uie}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const t=bt(e);t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const t=bt(e);t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const t=e!=this._indeterminate;this._indeterminate=bt(e),t&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let t=this._currentCheckState,o=this._getAnimationTargetElement();if(t!==e&&o&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,t){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===t)return this._animationClasses.uncheckedToChecked;if(3==t)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===t?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===t?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===t?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}}return i.\u0275fac=function(e){Ha()},i.\u0275dir=Xe({type:i,viewQuery:function(e,t){if(1&e&&(ht(sie,5),ht(rie,5),ht(Vo,5)),2&e){let o;Ke(o=Ye())&&(t._inputElement=o.first),Ke(o=Ye())&&(t._labelElement=o.first),Ke(o=Ye())&&(t.ripple=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[Re]}),i})(),ad=(()=>{class i extends pie{constructor(e,t,o,s,r,a){super("mat-mdc-checkbox-",e,t,o,s,r,a),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const t=new die;return t.source=this,t.checked=e,t}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt),P(Bt),cs("tabindex"),P(yn,8),P(lie,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(e,t){2&e&&(ps("id",t.id),Et("tabindex",null)("aria-label",null)("aria-labelledby",null),St("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mdc-checkbox--disabled",t.disabled)("mat-mdc-checkbox-disabled",t.disabled)("mat-mdc-checkbox-checked",t.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[Ct([cie]),Re],ngContentSelectors:aie,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[3,"for"],["label",""]],template:function(e,t){if(1&e&&(Li(),x(0,"div",0),ie("click",function(s){return t._preventBubblingFromLabel(s)}),x(1,"div",1,2)(3,"div",3),ie("click",function(){return t._onTouchTargetClick()}),C(),x(4,"input",4,5),ie("blur",function(){return t._onBlur()})("click",function(){return t._onInputClick()})("change",function(s){return t._onInteractionEvent(s)}),C(),me(6,"div",6),x(7,"div",7),ls(),x(8,"svg",8),me(9,"path",9),C(),yl(),me(10,"div",10),C(),me(11,"div",11),C(),x(12,"label",12,13),Ft(14),C()()),2&e){const o=Qt(2);St("mdc-form-field--align-end","before"==t.labelPosition),_(4),St("mdc-checkbox--selected",t.checked),g("checked",t.checked)("indeterminate",t.indeterminate)("disabled",t.disabled)("id",t.inputId)("required",t.required)("tabIndex",t.tabIndex),Et("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby)("name",t.name)("value",t.value),_(7),g("matRippleTrigger",o)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0),_(1),g("for",t.inputId)}},dependencies:[Vo],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:not([disabled])~.mdc-checkbox__ripple{opacity:.04;transform:scale(1);transition:opacity 80ms 0 cubic-bezier(0, 0, 0.2, 1),transform 80ms 0 cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:not([disabled]):focus~.mdc-checkbox__ripple{opacity:.16}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__native-control:focus:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, black)}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),i})(),oL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({}),i})(),S1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi,Ir,oL,bi,oL]}),i})();const gie=["*"],xie=new nt("MAT_CARD_CONFIG");let Kh=(()=>{class i{constructor(e){this.appearance=e?.appearance||"raised"}}return i.\u0275fac=function(e){return new(e||i)(P(xie,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,t){2&e&&St("mat-mdc-card-outlined","outlined"===t.appearance)("mdc-card--outlined","outlined"===t.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:gie,decls:1,vars:0,template:function(e,t){1&e&&(Li(),Ft(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),i})(),rv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),i})(),sL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi,Gi,bi]}),i})();const Rie=["mat-calendar-body",""];function Fie(i,n){if(1&i&&(x(0,"tr",3)(1,"td",4),ee(2),C()()),2&i){const e=I();_(1),et("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Et("colspan",e.numCols),_(1),Mt(" ",e.label," ")}}function Lie(i,n){if(1&i&&(x(0,"td",4),ee(1),C()),2&i){const e=I(2);et("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Et("colspan",e._firstRowOffset),_(1),Mt(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function Nie(i,n){if(1&i){const e=Me();x(0,"td",8)(1,"button",9),ie("click",function(o){const r=he(e).$implicit;return pe(I(2)._cellClicked(r,o))})("focus",function(o){const r=he(e).$implicit;return pe(I(2)._emitActiveDateChange(r,o))}),x(2,"div",10),ee(3),C(),me(4,"div",11),C()()}if(2&i){const e=n.$implicit,t=n.index,o=I().index,s=I();et("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),Et("data-mat-row",o)("data-mat-col",t),_(1),St("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(o,t))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,o,t))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,o,t))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),g("ngClass",e.cssClasses)("tabindex",s._isActiveCell(o,t)?0:-1),Et("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null)("aria-describedby",s._getDescribedby(e.compareValue)),_(1),St("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),_(1),Mt(" ",e.displayValue," ")}}function Bie(i,n){if(1&i&&(x(0,"tr",5),$(1,Lie,2,6,"td",6),$(2,Nie,5,48,"td",7),C()),2&i){const e=n.$implicit,t=n.index,o=I();_(1),g("ngIf",0===t&&o._firstRowOffset),_(1),g("ngForOf",e)}}function Vie(i,n){if(1&i&&(x(0,"th",5)(1,"span",6),ee(2),C(),x(3,"span",7),ee(4),C()()),2&i){const e=n.$implicit;_(2),Je(e.long),_(2),Je(e.narrow)}}const rL=["*"];function $ie(i,n){}function Hie(i,n){if(1&i){const e=Me();x(0,"mat-month-view",5),ie("activeDateChange",function(o){return he(e),pe(I().activeDate=o)})("_userSelection",function(o){return he(e),pe(I()._dateSelected(o))})("dragStarted",function(o){return he(e),pe(I()._dragStarted(o))})("dragEnded",function(o){return he(e),pe(I()._dragEnded(o))}),C()}if(2&i){const e=I();g("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function zie(i,n){if(1&i){const e=Me();x(0,"mat-year-view",6),ie("activeDateChange",function(o){return he(e),pe(I().activeDate=o)})("monthSelected",function(o){return he(e),pe(I()._monthSelectedInYearView(o))})("selectedChange",function(o){return he(e),pe(I()._goToDateInView(o,"month"))}),C()}if(2&i){const e=I();g("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function jie(i,n){if(1&i){const e=Me();x(0,"mat-multi-year-view",7),ie("activeDateChange",function(o){return he(e),pe(I().activeDate=o)})("yearSelected",function(o){return he(e),pe(I()._yearSelectedInMultiYearView(o))})("selectedChange",function(o){return he(e),pe(I()._goToDateInView(o,"year"))}),C()}if(2&i){const e=I();g("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Gie(i,n){}const Wie=["button"];function Uie(i,n){1&i&&(ls(),x(0,"svg",3),me(1,"path",4),C())}const Zie=[[["","matDatepickerToggleIcon",""]]],Kie=["[matDatepickerToggleIcon]"],Yie=[[["input","matStartDate",""]],[["input","matEndDate",""]]],Xie=["input[matStartDate]","input[matEndDate]"];function qie(i,n){1&i&&(x(0,"div",0),Ft(1),C())}let yf=(()=>{class i{constructor(){this.changes=new R,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,t){return`${e} \u2013 ${t}`}formatYearRangeLabel(e,t){return`${e} to ${t}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class M1{constructor(n,e,t,o,s={},r=n,a){this.value=n,this.displayValue=e,this.ariaLabel=t,this.enabled=o,this.cssClasses=s,this.compareValue=r,this.rawValue=a}}let Jie=1,Yh=(()=>{class i{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,t){this._elementRef=e,this._ngZone=t,this._platform=di(Mn),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new tt,this.previewChange=new tt,this.activeDateChange=new tt,this.dragStarted=new tt,this.dragEnded=new tt,this._didDragSinceMouseDown=!1,this._enterHandler=o=>{if(this._skipNextFocus&&"focus"===o.type)this._skipNextFocus=!1;else if(o.target&&this.isRange){const s=this._getCellFromElement(o.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:o}))}},this._touchmoveHandler=o=>{if(!this.isRange)return;const s=aL(o),r=s?this._getCellFromElement(s):null;s!==o.target&&(this._didDragSinceMouseDown=!0),T1(o.target)&&o.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:r?.enabled?r:null,event:o}))},this._leaveHandler=o=>{null!==this.previewEnd&&this.isRange&&("blur"!==o.type&&(this._didDragSinceMouseDown=!0),o.target&&this._getCellFromElement(o.target)&&(!o.relatedTarget||!this._getCellFromElement(o.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:o})))},this._mousedownHandler=o=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const s=o.target&&this._getCellFromElement(o.target);!s||!this._isInRange(s.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:o})})},this._mouseupHandler=o=>{if(!this.isRange)return;const s=T1(o.target);s?s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const r=this._getCellFromElement(s);this.dragEnded.emit({value:r?.rawValue??null,event:o})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:o})})},this._touchendHandler=o=>{const s=aL(o);s&&this._mouseupHandler({target:s})},this._id="mat-calendar-body-"+Jie++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,t.runOutsideAngular(()=>{const o=e.nativeElement;o.addEventListener("mouseenter",this._enterHandler,!0),o.addEventListener("touchmove",this._touchmoveHandler,!0),o.addEventListener("focus",this._enterHandler,!0),o.addEventListener("mouseleave",this._leaveHandler,!0),o.addEventListener("blur",this._leaveHandler,!0),o.addEventListener("mousedown",this._mousedownHandler),o.addEventListener("touchstart",this._mousedownHandler),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,t){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}_emitActiveDateChange(e,t){e.enabled&&this.activeDateChange.emit({value:e.value,event:t})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const t=e.numCols,{rows:o,numCols:s}=this;(e.rows||t)&&(this._firstRowOffset=o&&o.length&&o[0].length?s-o[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(t||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("touchmove",this._touchmoveHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0),e.removeEventListener("mousedown",this._mousedownHandler),e.removeEventListener("touchstart",this._mousedownHandler),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,t){let o=e*this.numCols+t;return e&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(mn(1)).subscribe(()=>{setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&(e||(this._skipNextFocus=!0),t.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return E1(e,this.startValue,this.endValue)}_isRangeEnd(e){return D1(e,this.startValue,this.endValue)}_isInRange(e){return O1(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return E1(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,t,o){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[t][o-1];if(!s){const r=this.rows[t-1];s=r&&r[r.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,t,o){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[t][o+1];if(!s){const r=this.rows[t+1];s=r&&r[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return D1(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return O1(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return E1(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return D1(e,this.previewStart,this.previewEnd)}_isInPreview(e){return O1(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){const t=T1(e);if(t){const o=t.getAttribute("data-mat-row"),s=t.getAttribute("data-mat-col");if(o&&s)return this.rows[parseInt(o)][parseInt(s)]}return null}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Bt))},i.\u0275cmp=Fe({type:i,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[dn],attrs:Rie,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,t){1&e&&($(0,Fie,3,6,"tr",0),$(1,Bie,3,2,"tr",1),x(2,"label",2),ee(3),C(),x(4,"label",2),ee(5),C()),2&e&&(g("ngIf",t._firstRowOffset<t.labelMinRequiredCells),_(1),g("ngForOf",t.rows),_(1),g("id",t._startDateLabelId),_(1),Mt(" ",t.startDateAccessibleName,"\n"),_(1),g("id",t._endDateLabelId),_(1),Mt(" ",t.endDateAccessibleName,"\n"))},dependencies:[Gt,ai,ct],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),i})();function P1(i){return"TD"===i?.nodeName}function T1(i){let n;return P1(i)?n=i:P1(i.parentNode)?n=i.parentNode:P1(i.parentNode?.parentNode)&&(n=i.parentNode.parentNode),null!=n?.getAttribute("data-mat-row")?n:null}function E1(i,n,e){return null!==e&&n!==e&&i<e&&i===n}function D1(i,n,e){return null!==n&&n!==e&&i>=n&&i===e}function O1(i,n,e,t){return t&&null!==n&&null!==e&&n!==e&&i>=n&&i<=e}function aL(i){const n=i.changedTouches[0];return document.elementFromPoint(n.clientX,n.clientY)}class Is{constructor(n,e){this.start=n,this.end=e}}let ld=(()=>{class i{constructor(e,t){this.selection=e,this._adapter=t,this._selectionChanged=new R,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,t){const o=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:t,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return i.\u0275fac=function(e){Ha()},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),Qie=(()=>{class i extends ld{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new i(this._adapter);return e.updateSelection(this.selection,this),e}}return i.\u0275fac=function(e){return new(e||i)(Le(to))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),ene=(()=>{class i extends ld{constructor(e){super(new Is(null,null),e)}add(e){let{start:t,end:o}=this.selection;null==t?t=e:null==o?o=e:(t=e,o=null),super.updateSelection(new Is(t,o),this)}isValid(){const{start:e,end:t}=this.selection;return null==e&&null==t||(null!=e&&null!=t?this._isValidDateInstance(e)&&this._isValidDateInstance(t)&&this._adapter.compareDate(e,t)<=0:(null==e||this._isValidDateInstance(e))&&(null==t||this._isValidDateInstance(t)))}isComplete(){return null!=this.selection.start&&null!=this.selection.end}clone(){const e=new i(this._adapter);return e.updateSelection(this.selection,this),e}}return i.\u0275fac=function(e){return new(e||i)(Le(to))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();const lL={provide:ld,deps:[[new _r,new Ba,ld],to],useFactory:function tne(i,n){return i||new Qie(n)}},nne={provide:ld,deps:[[new _r,new Ba,ld],to],useFactory:function ine(i,n){return i||new ene(n)}},av=new nt("MAT_DATE_RANGE_SELECTION_STRATEGY");let one=(()=>{class i{constructor(e){this._dateAdapter=e}selectionFinished(e,t){let{start:o,end:s}=t;return null==o?o=e:null==s&&e&&this._dateAdapter.compareDate(e,o)>=0?s=e:(o=e,s=null),new Is(o,s)}createPreview(e,t){let o=null,s=null;return t.start&&!t.end&&e&&(o=t.start,s=e),new Is(o,s)}createDrag(e,t,o){let s=t.start,r=t.end;if(!s||!r)return null;const a=this._dateAdapter,l=0!==a.compareDate(s,r),c=a.getYear(o)-a.getYear(e),A=a.getMonth(o)-a.getMonth(e),D=a.getDate(o)-a.getDate(e);return l&&a.sameDate(e,t.start)?(s=o,a.compareDate(o,r)>0&&(r=a.addCalendarYears(r,c),r=a.addCalendarMonths(r,A),r=a.addCalendarDays(r,D))):l&&a.sameDate(e,t.end)?(r=o,a.compareDate(o,s)<0&&(s=a.addCalendarYears(s,c),s=a.addCalendarMonths(s,A),s=a.addCalendarDays(s,D))):(s=a.addCalendarYears(s,c),s=a.addCalendarMonths(s,A),s=a.addCalendarDays(s,D),r=a.addCalendarYears(r,c),r=a.addCalendarMonths(r,A),r=a.addCalendarDays(r,D)),new Is(s,r)}}return i.\u0275fac=function(e){return new(e||i)(Le(to))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();const rne={provide:av,deps:[[new _r,new Ba,av],to],useFactory:function sne(i,n){return i||new one(n)}};let cL=(()=>{class i{get activeDate(){return this._activeDate}set activeDate(e){const t=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Is?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,t,o,s,r){this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=o,this._dir=s,this._rangeStrategy=r,this._rerenderSubscription=z.EMPTY,this.activeDrag=null,this.selectedChange=new tt,this._userSelection=new tt,this.dragStarted=new tt,this.dragEnded=new tt,this.activeDateChange=new tt,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Zn(null)).subscribe(()=>this._init())}ngOnChanges(e){const t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const t=e.value,o=this._getDateFromDayOfMonth(t);let s,r;this._selected instanceof Is?(s=this._getDateInCurrentMonth(this._selected.start),r=this._getDateInCurrentMonth(this._selected.end)):s=r=this._getDateInCurrentMonth(this._selected),(s!==t||r!==t)&&this.selectedChange.emit(o),this._userSelection.emit({value:o,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const o=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const t=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!fo(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:t}){if(this._rangeStrategy){const o=t?t.rawValue:null,s=this._rangeStrategy.createPreview(o,this.selected,e);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&o){const r=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,o,e);r&&(this._previewStart=this._getCellCompareValue(r.start),this._previewEnd=this._getCellCompareValue(r.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const t=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:t??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((r,a)=>({long:r,narrow:t[a]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,s=this._firstWeekOffset;o<e;o++,s++){7==s&&(this._weeks.push([]),s=0);const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),a=this._shouldEnableDate(r),l=this._dateAdapter.format(r,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(r,"month"):void 0;this._weeks[this._weeks.length-1].push(new M1(o+1,t[o],l,a,c,this._getCellCompareValue(r),r))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!(!e||!t||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(t)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(t))}_getCellCompareValue(e){if(e){const t=this._dateAdapter.getYear(e),o=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(t,o,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Is?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}}return i.\u0275fac=function(e){return new(e||i)(P(Zt),P(ga,8),P(to,8),P(Hn,8),P(av,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-month-view"]],viewQuery:function(e,t){if(1&e&&ht(Yh,5),2&e){let o;Ke(o=Ye())&&(t._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[dn],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,t){1&e&&(x(0,"table",0)(1,"thead",1)(2,"tr"),$(3,Vie,5,2,"th",2),C(),x(4,"tr"),me(5,"th",3),C()(),x(6,"tbody",4),ie("selectedValueChange",function(s){return t._dateSelected(s)})("activeDateChange",function(s){return t._updateActiveDate(s)})("previewChange",function(s){return t._previewChanged(s)})("dragStarted",function(s){return t.dragStarted.emit(s)})("dragEnded",function(s){return t._dragEnded(s)})("keyup",function(s){return t._handleCalendarBodyKeyup(s)})("keydown",function(s){return t._handleCalendarBodyKeydown(s)}),C()()),2&e&&(_(3),g("ngForOf",t._weekdays),_(3),g("label",t._monthLabel)("rows",t._weeks)("todayValue",t._todayDate)("startValue",t._rangeStart)("endValue",t._rangeEnd)("comparisonStart",t._comparisonRangeStart)("comparisonEnd",t._comparisonRangeEnd)("previewStart",t._previewStart)("previewEnd",t._previewEnd)("isRange",t._isRange)("labelMinRequiredCells",3)("activeCell",t._dateAdapter.getDate(t.activeDate)-1)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName))},dependencies:[ai,Yh],encapsulation:2,changeDetection:0}),i})();const Ur=24;let dL=(()=>{class i{get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),uL(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Is?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,t,o){this._changeDetectorRef=e,this._dateAdapter=t,this._dir=o,this._rerenderSubscription=z.EMPTY,this.selectedChange=new tt,this.yearSelected=new tt,this.activeDateChange=new tt,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Zn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const t=this._dateAdapter.getYear(this._activeDate)-xf(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,s=[];o<Ur;o++)s.push(t+o),4==s.length&&(this._years.push(s.map(r=>this._createCellForYear(r))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const t=e.value,o=this._dateAdapter.createDate(t,0,1),s=this._getDateFromYear(t);this.yearSelected.emit(o),this.selectedChange.emit(s)}_updateActiveDate(e){const o=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const t=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-xf(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ur-xf(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-Ur:-Ur);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*Ur:Ur);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return xf(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const t=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));return this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForYear(e){const t=this._dateAdapter.createDate(e,0,1),o=this._dateAdapter.getYearName(t),s=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new M1(e,o,o,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Is){const t=e.start||e.end;t&&(this._selectedYear=this._dateAdapter.getYear(t))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return i.\u0275fac=function(e){return new(e||i)(P(Zt),P(to,8),P(Hn,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-multi-year-view"]],viewQuery:function(e,t){if(1&e&&ht(Yh,5),2&e){let o;Ke(o=Ye())&&(t._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,t){1&e&&(x(0,"table",0)(1,"thead",1)(2,"tr"),me(3,"th",2),C()(),x(4,"tbody",3),ie("selectedValueChange",function(s){return t._yearSelected(s)})("activeDateChange",function(s){return t._updateActiveDate(s)})("keyup",function(s){return t._handleCalendarBodyKeyup(s)})("keydown",function(s){return t._handleCalendarBodyKeydown(s)}),C()()),2&e&&(_(4),g("rows",t._years)("todayValue",t._todayYear)("startValue",t._selectedYear)("endValue",t._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._getActiveCell()))},dependencies:[Yh],encapsulation:2,changeDetection:0}),i})();function uL(i,n,e,t,o){const s=i.getYear(n),r=i.getYear(e),a=hL(i,t,o);return Math.floor((s-a)/Ur)===Math.floor((r-a)/Ur)}function xf(i,n,e,t){return function ane(i,n){return(i%n+n)%n}(i.getYear(n)-hL(i,e,t),Ur)}function hL(i,n,e){let t=0;return e?t=i.getYear(e)-Ur+1:n&&(t=i.getYear(n)),t}let pL=(()=>{class i{get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Is?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,t,o,s){this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=o,this._dir=s,this._rerenderSubscription=z.EMPTY,this.selectedChange=new tt,this.monthSelected=new tt,this.activeDateChange=new tt,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Zn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const t=e.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(o);const s=this._getDateFromMonth(t);this.selectedChange.emit(s)}_updateActiveDate(e){const o=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const t=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(o=>this._createCellForMonth(o,e[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.getNumDaysInMonth(t);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForMonth(e,t){const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),r=this.dateClass?this.dateClass(o,"year"):void 0;return new M1(e,t.toLocaleUpperCase(),s,this._shouldEnableMonth(e),r)}_shouldEnableMonth(e){const t=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(t,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){const o=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>o||e===o&&t>s}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){const o=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<o||e===o&&t<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Is?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return i.\u0275fac=function(e){return new(e||i)(P(Zt),P(ga,8),P(to,8),P(Hn,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-year-view"]],viewQuery:function(e,t){if(1&e&&ht(Yh,5),2&e){let o;Ke(o=Ye())&&(t._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,t){1&e&&(x(0,"table",0)(1,"thead",1)(2,"tr"),me(3,"th",2),C()(),x(4,"tbody",3),ie("selectedValueChange",function(s){return t._monthSelected(s)})("activeDateChange",function(s){return t._updateActiveDate(s)})("keyup",function(s){return t._handleCalendarBodyKeyup(s)})("keydown",function(s){return t._handleCalendarBodyKeydown(s)}),C()()),2&e&&(_(4),g("label",t._yearLabel)("rows",t._months)("todayValue",t._todayMonth)("startValue",t._selectedMonth)("endValue",t._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._dateAdapter.getMonth(t.activeDate)))},dependencies:[Yh],encapsulation:2,changeDetection:0}),i})(),lne=1,cne=(()=>{class i{constructor(e,t,o,s,r){this._intl=e,this.calendar=t,this._dateAdapter=o,this._dateFormats=s,this._id="mat-calendar-header-"+lne++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>r.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Ur)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Ur)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,t){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):uL(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const t=this._dateAdapter.getYear(this.calendar.activeDate)-xf(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=t+Ur-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1))]}}return i.\u0275fac=function(e){return new(e||i)(P(yf),P(Si(()=>su)),P(to,8),P(ga,8),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:rL,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(e,t){1&e&&(Li(),x(0,"div",0)(1,"div",1)(2,"button",2),ie("click",function(){return t.currentPeriodClicked()}),x(3,"span",3),ee(4),C(),ls(),x(5,"svg",4),me(6,"polygon",5),C()(),yl(),me(7,"div",6),Ft(8),x(9,"button",7),ie("click",function(){return t.previousClicked()}),C(),x(10,"button",8),ie("click",function(){return t.nextClicked()}),C()()(),x(11,"label",9),ee(12),C()),2&e&&(_(2),Et("aria-label",t.periodButtonLabel)("aria-describedby",t._periodButtonLabelId),_(2),Je(t.periodButtonText),_(1),St("mat-calendar-invert","month"!==t.calendar.currentView),_(4),g("disabled",!t.previousEnabled()),Et("aria-label",t.prevButtonLabel),_(1),g("disabled",!t.nextEnabled()),Et("aria-label",t.nextButtonLabel),_(1),g("id",t._periodButtonLabelId),_(1),Je(t.periodButtonDescription))},dependencies:[kn,zh],encapsulation:2,changeDetection:0}),i})(),su=(()=>{class i{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Is?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const t=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),t&&this.viewChanged.emit(t)}constructor(e,t,o,s){this._dateAdapter=t,this._dateFormats=o,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new tt,this.yearSelected=new tt,this.monthSelected=new tt,this.viewChanged=new tt(!0),this._userSelection=new tt,this._userDragDrop=new tt,this._activeDrag=null,this.stateChanges=new R,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Vl(this.headerComponent||cne),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const t=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,o=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=t||o||e.dateFilter;if(s&&!s.firstChange){const r=this._getCurrentViewComponent();r&&(this._changeDetectorRef.detectChanges(),r._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const t=e.value;(this.selected instanceof Is||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return i.\u0275fac=function(e){return new(e||i)(P(yf),P(to,8),P(ga,8),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["mat-calendar"]],viewQuery:function(e,t){if(1&e&&(ht(cL,5),ht(pL,5),ht(dL,5)),2&e){let o;Ke(o=Ye())&&(t.monthView=o.first),Ke(o=Ye())&&(t.yearView=o.first),Ke(o=Ye())&&(t.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Ct([lL]),dn],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,t){1&e&&($(0,$ie,0,0,"ng-template",0),x(1,"div",1),$(2,Hie,1,11,"mat-month-view",2),$(3,zie,1,6,"mat-year-view",3),$(4,jie,1,6,"mat-multi-year-view",4),C()),2&e&&(g("cdkPortalOutlet",t._calendarHeaderPortal),_(1),g("ngSwitch",t.currentView),_(1),g("ngSwitchCase","month"),_(1),g("ngSwitchCase","year"),_(1),g("ngSwitchCase","multi-year"))},dependencies:[wr,pa,Aw,or,cL,pL,dL],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0}),i})();const mL={transformPanel:Co("transformPanel",[sn("void => enter-dropdown",Qi("120ms cubic-bezier(0, 0, 0.2, 1)",Hh([ei({opacity:0,transform:"scale(1, 0.8)"}),ei({opacity:1,transform:"scale(1, 1)"})]))),sn("void => enter-dialog",Qi("150ms cubic-bezier(0, 0, 0.2, 1)",Hh([ei({opacity:0,transform:"scale(0.7)"}),ei({transform:"none",opacity:1})]))),sn("* => void",Qi("100ms linear",ei({opacity:0})))]),fadeInCalendar:Co("fadeInCalendar",[_n("void",ei({opacity:0})),_n("enter",ei({opacity:1})),sn("void => *",Qi("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let dne=0;const fL=new nt("mat-datepicker-scroll-strategy"),hne={provide:fL,deps:[ss],useFactory:function une(i){return()=>i.scrollStrategies.reposition()}},pne=Bl(class{constructor(i){this._elementRef=i}});let mne=(()=>{class i extends pne{constructor(e,t,o,s,r,a){super(e),this._changeDetectorRef=t,this._globalModel=o,this._dateAdapter=s,this._rangeSelectionStrategy=r,this._subscriptions=new z,this._animationDone=new R,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=a.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const t=this._model.selection,o=e.value,s=t instanceof Is;if(s&&this._rangeSelectionStrategy){const r=this._rangeSelectionStrategy.selectionFinished(o,t,e.event);this._model.updateSelection(r,this)}else o&&(s||!this._dateAdapter.sameDate(o,t))&&this._model.add(o);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating="start"===e.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,t){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,t&&this._changeDetectorRef.detectChanges()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt),P(ld),P(to),P(av,8),P(yf))},i.\u0275cmp=Fe({type:i,selectors:[["mat-datepicker-content"]],viewQuery:function(e,t){if(1&e&&ht(su,5),2&e){let o;Ke(o=Ye())&&(t._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,t){1&e&&Xp("@transformPanel.start",function(s){return t._handleAnimationEvent(s)})("@transformPanel.done",function(s){return t._handleAnimationEvent(s)}),2&e&&(Qp("@transformPanel",t._animationState),St("mat-datepicker-content-touch",t.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[Re],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,t){if(1&e&&(x(0,"div",0)(1,"mat-calendar",1),ie("yearSelected",function(s){return t.datepicker._selectYear(s)})("monthSelected",function(s){return t.datepicker._selectMonth(s)})("viewChanged",function(s){return t.datepicker._viewChanged(s)})("_userSelection",function(s){return t._handleUserSelection(s)})("_userDragDrop",function(s){return t._handleUserDragDrop(s)}),C(),$(2,Gie,0,0,"ng-template",2),x(3,"button",3),ie("focus",function(){return t._closeButtonFocused=!0})("blur",function(){return t._closeButtonFocused=!1})("click",function(){return t.datepicker.close()}),ee(4),C()()),2&e){let o;St("mat-datepicker-content-container-with-custom-header",t.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",t._actionsPortal),Et("aria-modal",!0)("aria-labelledby",null!==(o=t._dialogLabelId)&&void 0!==o?o:void 0),_(1),g("id",t.datepicker.id)("ngClass",t.datepicker.panelClass)("startAt",t.datepicker.startAt)("startView",t.datepicker.startView)("minDate",t.datepicker._getMinDate())("maxDate",t.datepicker._getMaxDate())("dateFilter",t.datepicker._getDateFilter())("headerComponent",t.datepicker.calendarHeaderComponent)("selected",t._getSelected())("dateClass",t.datepicker.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName),_(1),g("cdkPortalOutlet",t._actionsPortal),_(1),St("cdk-visually-hidden",!t._closeButtonFocused),g("color",t.color||"primary"),_(1),Je(t._closeButtonText)}},dependencies:[Gt,kn,CX,or,su],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[mL.transformPanel,mL.fadeInCalendar]},changeDetection:0}),i})(),ru=(()=>{class i{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=bt(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const t=bt(e);t!==this._disabled&&(this._disabled=t,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=bt(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function tX(i,n=/\s+/){const e=[];if(null!=i){const t=Array.isArray(i)?i:`${i}`.split(n);for(const o of t){const s=`${o}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){bt(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,t,o,s,r,a,l){this._overlay=e,this._ngZone=t,this._viewContainerRef=o,this._dateAdapter=r,this._dir=a,this._model=l,this._inputStateChanges=z.EMPTY,this._document=di(pi),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new tt,this.monthSelected=new tt,this.viewChanged=new tt(!0),this.openedStream=new tt,this.closedStream=new tt,this._opened=!1,this.id="mat-datepicker-"+dne++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new R,this._scrollStrategy=s}ngOnChanges(e){const t=e.xPosition||e.yPosition;if(t&&!t.firstChange&&this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;o instanceof HR&&(this._setConnectedPositions(o),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=Fh(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:o,location:s}=this._componentRef;o._startExitAnimation(),o._animationDone.pipe(mn(1)).subscribe(()=>{const r=this._document.activeElement;e&&(!r||r===this._document.activeElement||s.nativeElement.contains(r))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(t):t()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,t=new Vl(mne,this._viewContainerRef),o=this._overlayRef=this._overlay.create(new Yd({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(o).subscribe(s=>{s&&s.preventDefault(),this.close()}),o.keydownEvents().subscribe(s=>{const r=s.keyCode;(38===r||40===r||37===r||39===r||33===r||34===r)&&s.preventDefault()}),this._componentRef=o.attach(t),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(mn(1)).subscribe(()=>o.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const t="end"===this.xPosition?"end":"start",o="start"===t?"end":"start",s="above"===this.yPosition?"bottom":"top",r="top"===s?"bottom":"top";return e.withPositions([{originX:t,originY:r,overlayX:t,overlayY:s},{originX:t,originY:s,overlayX:t,overlayY:r},{originX:o,originY:r,overlayX:o,overlayY:s},{originX:o,originY:s,overlayX:o,overlayY:r}])}_getCloseStream(e){const t=["ctrlKey","shiftKey","metaKey"];return Yi(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(ln(o=>27===o.keyCode&&!fo(o)||this.datepickerInput&&fo(o,"altKey")&&38===o.keyCode&&t.every(s=>!fo(o,s)))))}}return i.\u0275fac=function(e){return new(e||i)(P(ss),P(Bt),P(Ri),P(fL),P(to,8),P(Hn,8),P(ld))},i.\u0275dir=Xe({type:i,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[dn]}),i})(),lv=(()=>{class i extends ru{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275cmp=Fe({type:i,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Ct([lL,{provide:ru,useExisting:i}]),Re],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),i})();class cv{constructor(n,e){this.target=n,this.targetElement=e,this.value=this.target.value}}let gL=(()=>{class i{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const t=bt(e),o=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.next(void 0)),t&&this._isInitialized&&o.blur&&o.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(t=>{if(this._shouldHandleChangeEvent(t)){const o=this._getValueFromModel(t.selection);this._lastValueValid=this._isValidValue(o),this._cvaOnChange(o),this._onTouched(),this._formatValue(o),this.dateInput.emit(new cv(this,this._elementRef.nativeElement)),this.dateChange.emit(new cv(this,this._elementRef.nativeElement))}})}constructor(e,t,o){this._elementRef=e,this._dateAdapter=t,this._dateFormats=o,this.dateChange=new tt,this.dateInput=new tt,this.stateChanges=new R,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=z.EMPTY,this._localeSubscription=z.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!r||this._matchesFilter(r)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),a=this._getMinDate();return!a||!r||this._dateAdapter.compareDate(a,r)<=0?null:{matDatepickerMin:{min:a,actual:r}}},this._maxValidator=s=>{const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),a=this._getMaxDate();return!a||!r||this._dateAdapter.compareDate(a,r)>=0?null:{matDatepickerMax:{max:a,actual:r}}},this._lastValueValid=!1,this._localeSubscription=t.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){_L(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){fo(e,"altKey")&&40===e.keyCode&&["ctrlKey","shiftKey","metaKey"].every(s=>!fo(e,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const t=this._lastValueValid;let o=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o);const s=!this._dateAdapter.sameDate(o,this.value);!o||s?this._cvaOnChange(o):(e&&!this.value&&this._cvaOnChange(o),t!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(o),this.dateInput.emit(new cv(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new cv(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const t=this._getDateFilter();return!t||t(e)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(to,8),P(ga,8))},i.\u0275dir=Xe({type:i,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[dn]}),i})();function _L(i,n){const e=Object.keys(i);for(let t of e){const{previousValue:o,currentValue:s}=i[t];if(!n.isDateInstance(o)||!n.isDateInstance(s))return!0;if(!n.sameDate(o,s))return!0}return!1}const fne={provide:go,useExisting:Si(()=>Cf),multi:!0},gne={provide:Eo,useExisting:Si(()=>Cf),multi:!0};let Cf=(()=>{class i extends gL{set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._validatorOnChange())}get max(){return this._max}set max(e){const t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const t=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==t&&this._validatorOnChange()}constructor(e,t,o,s){super(e,t,o),this._formField=s,this._closedSubscription=z.EMPTY,this._validator=Xt.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(to,8),P(ga,8),P(ou,8))},i.\u0275dir=Xe({type:i,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,t){1&e&&ie("input",function(s){return t._onInput(s.target.value)})("change",function(){return t._onChange()})("blur",function(){return t._onBlur()})("keydown",function(s){return t._onKeydown(s)}),2&e&&(ps("disabled",t.disabled),Et("aria-haspopup",t._datepicker?"dialog":null)("aria-owns",(null==t._datepicker?null:t._datepicker.opened)&&t._datepicker.id||null)("min",t.min?t._dateAdapter.toIso8601(t.min):null)("max",t.max?t._dateAdapter.toIso8601(t.max):null)("data-mat-calendar",t._datepicker?t._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Ct([fne,gne,{provide:K3,useExisting:i}]),Re]}),i})(),_ne=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["","matDatepickerToggleIcon",""]]}),i})(),L1=(()=>{class i{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=bt(e)}constructor(e,t,o){this._intl=e,this._changeDetectorRef=t,this._stateChanges=z.EMPTY;const s=Number(o);this.tabIndex=s||0===s?s:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:Ht(),t=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Ht(),o=this.datepicker?Yi(this.datepicker.openedStream,this.datepicker.closedStream):Ht();this._stateChanges.unsubscribe(),this._stateChanges=Yi(this._intl.changes,e,t,o).subscribe(()=>this._changeDetectorRef.markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(P(yf),P(Zt),cs("tabindex"))},i.\u0275cmp=Fe({type:i,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,t,o){if(1&e&&fi(o,_ne,5),2&e){let s;Ke(s=Ye())&&(t._customIcon=s.first)}},viewQuery:function(e,t){if(1&e&&ht(Wie,5),2&e){let o;Ke(o=Ye())&&(t._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,t){1&e&&ie("click",function(s){return t._open(s)}),2&e&&(Et("tabindex",null)("data-mat-calendar",t.datepicker?t.datepicker.id:null),St("mat-datepicker-toggle-active",t.datepicker&&t.datepicker.opened)("mat-accent",t.datepicker&&"accent"===t.datepicker.color)("mat-warn",t.datepicker&&"warn"===t.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[dn],ngContentSelectors:Kie,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,t){1&e&&(Li(Zie),x(0,"button",0,1),$(2,Uie,2,0,"svg",2),Ft(3),C()),2&e&&(g("disabled",t.disabled)("disableRipple",t.disableRipple),Et("aria-haspopup",t.datepicker?"dialog":null)("aria-label",t.ariaLabel||t._intl.openCalendarLabel)("tabindex",t.disabled?-1:t.tabIndex),_(2),g("ngIf",!t._customIcon))},dependencies:[ct,zh],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),i})();function bne(i){return N1(i,!0)}function bL(i){return i.nodeType===Node.ELEMENT_NODE}function N1(i,n){if(bL(i)&&n){const t=(i.getAttribute?.("aria-labelledby")?.split(/\s+/g)||[]).reduce((o,s)=>{const r=document.getElementById(s);return r&&o.push(r),o},[]);if(t.length)return t.map(o=>N1(o,!1)).join(" ")}if(bL(i)){const e=i.getAttribute("aria-label")?.trim();if(e)return e}if(function vne(i){return"INPUT"===i.nodeName}(i)||function yne(i){return"TEXTAREA"===i.nodeName}(i)){if(i.labels?.length)return Array.from(i.labels).map(o=>N1(o,!1)).join(" ");const e=i.getAttribute("placeholder")?.trim();if(e)return e;const t=i.getAttribute("title")?.trim();if(t)return t}return(i.textContent||"").replace(/\s+/g," ").trim()}const dv=new nt("MAT_DATE_RANGE_INPUT_PARENT"),vL=kb((()=>{class i extends gL{constructor(e,t,o,s,r,a,l,c){super(t,l,c),this._rangeInput=e,this._elementRef=t,this._defaultErrorStateMatcher=o,this._injector=s,this._parentForm=r,this._parentFormGroup=a,this._dir=di(Hn,{optional:!0})}ngOnInit(){const e=this._injector.get(_a,null,{optional:!0,self:!0});e&&(this.ngControl=e)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return 0===this._elementRef.nativeElement.value.length}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}getMirrorValue(){const e=this._elementRef.nativeElement,t=e.value;return t.length>0?t:e.placeholder}_onInput(e){super._onInput(e),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:e}){return e!==this._rangeInput._startInput&&e!==this._rangeInput._endInput}_assignValueProgrammatically(e){super._assignValueProgrammatically(e),(this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput)?._validatorOnChange()}_getAccessibleName(){return bne(this._elementRef.nativeElement)}}return i.\u0275fac=function(e){return new(e||i)(P(dv),P($e),P(Wd),P(Jn),P(Qa,8),P(ba,8),P(to,8),P(ga,8))},i.\u0275dir=Xe({type:i,features:[Re]}),i})());let yL=(()=>{class i extends vL{constructor(e,t,o,s,r,a,l,c){super(e,t,o,s,r,a,l,c),this._startValidator=A=>{const D=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A.value)),te=this._model?this._model.selection.end:null;return!D||!te||this._dateAdapter.compareDate(D,te)<=0?null:{matStartDateInvalid:{end:te,actual:D}}},this._validator=Xt.compose([...super._getValidators(),this._startValidator])}_getValueFromModel(e){return e.start}_shouldHandleChangeEvent(e){return!(!super._shouldHandleChangeEvent(e)||(e.oldValue?.start?e.selection.start&&!this._dateAdapter.compareDate(e.oldValue.start,e.selection.start):!e.selection.start))}_assignValueToModel(e){if(this._model){const t=new Is(e,this._model.selection.end);this._model.updateSelection(t,this)}}_formatValue(e){super._formatValue(e),this._rangeInput._handleChildValueChange()}_onKeydown(e){const t=this._rangeInput._endInput,o=this._elementRef.nativeElement,s="rtl"!==this._dir?.value;(39===e.keyCode&&s||37===e.keyCode&&!s)&&o.selectionStart===o.value.length&&o.selectionEnd===o.value.length?(e.preventDefault(),t._elementRef.nativeElement.setSelectionRange(0,0),t.focus()):super._onKeydown(e)}}return i.\u0275fac=function(e){return new(e||i)(P(dv),P($e),P(Wd),P(Jn),P(Qa,8),P(ba,8),P(to,8),P(ga,8))},i.\u0275dir=Xe({type:i,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(e,t){1&e&&ie("input",function(s){return t._onInput(s.target.value)})("change",function(){return t._onChange()})("keydown",function(s){return t._onKeydown(s)})("blur",function(){return t._onBlur()}),2&e&&(ps("disabled",t.disabled),Et("aria-haspopup",t._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==t._rangeInput.rangePicker?null:t._rangeInput.rangePicker.opened)&&t._rangeInput.rangePicker.id||null)("min",t._getMinDate()?t._dateAdapter.toIso8601(t._getMinDate()):null)("max",t._getMaxDate()?t._dateAdapter.toIso8601(t._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Ct([{provide:go,useExisting:i,multi:!0},{provide:Eo,useExisting:i,multi:!0}]),Re]}),i})(),xL=(()=>{class i extends vL{constructor(e,t,o,s,r,a,l,c){super(e,t,o,s,r,a,l,c),this._endValidator=A=>{const D=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A.value)),te=this._model?this._model.selection.start:null;return!D||!te||this._dateAdapter.compareDate(D,te)>=0?null:{matEndDateInvalid:{start:te,actual:D}}},this._validator=Xt.compose([...super._getValidators(),this._endValidator])}_getValueFromModel(e){return e.end}_shouldHandleChangeEvent(e){return!(!super._shouldHandleChangeEvent(e)||(e.oldValue?.end?e.selection.end&&!this._dateAdapter.compareDate(e.oldValue.end,e.selection.end):!e.selection.end))}_assignValueToModel(e){if(this._model){const t=new Is(this._model.selection.start,e);this._model.updateSelection(t,this)}}_onKeydown(e){const t=this._rangeInput._startInput,o=this._elementRef.nativeElement,s="rtl"!==this._dir?.value;if(8!==e.keyCode||o.value)if((37===e.keyCode&&s||39===e.keyCode&&!s)&&0===o.selectionStart&&0===o.selectionEnd){e.preventDefault();const r=t._elementRef.nativeElement.value.length;t._elementRef.nativeElement.setSelectionRange(r,r),t.focus()}else super._onKeydown(e);else t.focus()}}return i.\u0275fac=function(e){return new(e||i)(P(dv),P($e),P(Wd),P(Jn),P(Qa,8),P(ba,8),P(to,8),P(ga,8))},i.\u0275dir=Xe({type:i,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(e,t){1&e&&ie("input",function(s){return t._onInput(s.target.value)})("change",function(){return t._onChange()})("keydown",function(s){return t._onKeydown(s)})("blur",function(){return t._onBlur()}),2&e&&(ps("disabled",t.disabled),Et("aria-haspopup",t._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==t._rangeInput.rangePicker?null:t._rangeInput.rangePicker.opened)&&t._rangeInput.rangePicker.id||null)("min",t._getMinDate()?t._dateAdapter.toIso8601(t._getMinDate()):null)("max",t._getMaxDate()?t._dateAdapter.toIso8601(t._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Ct([{provide:go,useExisting:i,multi:!0},{provide:Eo,useExisting:i,multi:!0}]),Re]}),i})(),xne=0,Cne=(()=>{class i{get value(){return this._model?this._model.selection:null}get shouldLabelFloat(){return this.focused||!this.empty}get placeholder(){const e=this._startInput?._getPlaceholder()||"",t=this._endInput?._getPlaceholder()||"";return e||t?`${e} ${this.separator} ${t}`:""}get rangePicker(){return this._rangePicker}set rangePicker(e){e&&(this._model=e.registerInput(this),this._rangePicker=e,this._closedSubscription.unsubscribe(),this._closedSubscription=e.closedStream.subscribe(()=>{this._startInput?._onTouched(),this._endInput?._onTouched()}),this._registerModel(this._model))}get required(){return!!this._required}set required(e){this._required=bt(e)}get dateFilter(){return this._dateFilter}set dateFilter(e){const t=this._startInput,o=this._endInput,s=t&&t._matchesFilter(t.value),r=o&&o._matchesFilter(t.value);this._dateFilter=e,t&&t._matchesFilter(t.value)!==s&&t._validatorOnChange(),o&&o._matchesFilter(o.value)!==r&&o._validatorOnChange()}get min(){return this._min}set min(e){const t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._revalidate())}get max(){return this._max}set max(e){const t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._revalidate())}get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(e){const t=bt(e);t!==this._groupDisabled&&(this._groupDisabled=t,this.stateChanges.next(void 0))}get errorState(){return!(!this._startInput||!this._endInput)&&(this._startInput.errorState||this._endInput.errorState)}get empty(){const e=!!this._startInput&&this._startInput.isEmpty(),t=!!this._endInput&&this._endInput.isEmpty();return e&&t}constructor(e,t,o,s,r){if(this._changeDetectorRef=e,this._elementRef=t,this._dateAdapter=s,this._formField=r,this._closedSubscription=z.EMPTY,this.id="mat-date-range-input-"+xne++,this.focused=!1,this.controlType="mat-date-range-input",this._groupDisabled=!1,this._ariaDescribedBy=null,this.separator="\u2013",this.comparisonStart=null,this.comparisonEnd=null,this.stateChanges=new R,r?._elementRef.nativeElement.classList.contains("mat-mdc-form-field")){const a=t.nativeElement.classList;a.add("mat-mdc-input-element"),a.add("mat-mdc-form-field-input-control")}this.ngControl=o}setDescribedByIds(e){this._ariaDescribedBy=e.length?e.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(this._model&&this._model.selection.start?this._endInput.focus():this._startInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),Yi(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(e){_L(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(e){const t="start"===e?this._startInput:this._endInput;return t?t.getMirrorValue():""}_shouldHidePlaceholders(){return!!this._startInput&&!this._startInput.isEmpty()}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){const e=this._formField;return e&&e._hasFloatingLabel()?e._labelId:null}_getStartDateAccessibleName(){return this._startInput._getAccessibleName()}_getEndDateAccessibleName(){return this._endInput._getAccessibleName()}_updateFocus(e){this.focused=null!==e,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(e){this._startInput&&this._startInput._registerModel(e),this._endInput&&this._endInput._registerModel(e)}}return i.\u0275fac=function(e){return new(e||i)(P(Zt),P($e),P(Hs,10),P(to,8),P(ou,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-date-range-input"]],contentQueries:function(e,t,o){if(1&e&&(fi(o,yL,5),fi(o,xL,5)),2&e){let s;Ke(s=Ye())&&(t._startInput=s.first),Ke(s=Ye())&&(t._endInput=s.first)}},hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(e,t){2&e&&(Et("id",t.id)("aria-labelledby",t._getAriaLabelledby())("aria-describedby",t._ariaDescribedBy)("data-mat-calendar",t.rangePicker?t.rangePicker.id:null),St("mat-date-range-input-hide-placeholders",t._shouldHidePlaceholders())("mat-date-range-input-required",t.required))},inputs:{rangePicker:"rangePicker",required:"required",dateFilter:"dateFilter",min:"min",max:"max",disabled:"disabled",separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],features:[Ct([{provide:vf,useExisting:i},{provide:dv,useExisting:i}]),dn],ngContentSelectors:Xie,decls:11,vars:5,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-wrapper","mat-date-range-input-end-wrapper"]],template:function(e,t){1&e&&(Li(Yie),x(0,"div",0),ie("cdkFocusChange",function(s){return t._updateFocus(s)}),x(1,"div",1),Ft(2),x(3,"span",2),ee(4),C()(),x(5,"span",3),ee(6),C(),x(7,"div",4),Ft(8,1),x(9,"span",2),ee(10),C()()()),2&e&&(_(4),Je(t._getInputMirrorValue("start")),_(1),St("mat-date-range-input-separator-hidden",t._shouldHideSeparator()),_(1),Je(t.separator),_(4),Je(t._getInputMirrorValue("end")))},dependencies:[Aw],styles:[".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px}._mat-animation-noopable .mat-date-range-input-separator{transition:none}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-end-wrapper{flex-grow:1}.mat-date-range-input-inner{position:absolute;top:0;left:0;font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%;height:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-date-range-input-inner::placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-moz-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner:-ms-input-placeholder{transition:none}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-mdc-form-field-type-mat-date-range-input .mat-mdc-form-field-infix{width:200px}"],encapsulation:2,changeDetection:0}),i})(),CL=(()=>{class i extends ru{_forwardContentValues(e){super._forwardContentValues(e);const t=this.datepickerInput;t&&(e.comparisonStart=t.comparisonStart,e.comparisonEnd=t.comparisonEnd,e.startDateAccessibleName=t._getStartDateAccessibleName(),e.endDateAccessibleName=t._getEndDateAccessibleName())}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275cmp=Fe({type:i,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],features:[Ct([nne,rne,{provide:ru,useExisting:i}]),Re],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),i})(),wne=(()=>{class i{constructor(e){this._datepicker=e}_applySelection(){this._datepicker._applyPendingSelection(),this._datepicker.close()}}return i.\u0275fac=function(e){return new(e||i)(P(ru))},i.\u0275dir=Xe({type:i,selectors:[["","matDatepickerApply",""],["","matDateRangePickerApply",""]],hostBindings:function(e,t){1&e&&ie("click",function(){return t._applySelection()})}}),i})(),kne=(()=>{class i{constructor(e){this._datepicker=e}}return i.\u0275fac=function(e){return new(e||i)(P(ru))},i.\u0275dir=Xe({type:i,selectors:[["","matDatepickerCancel",""],["","matDateRangePickerCancel",""]],hostBindings:function(e,t){1&e&&ie("click",function(){return t._datepicker.close()})}}),i})(),Ine=(()=>{class i{constructor(e,t){this._datepicker=e,this._viewContainerRef=t}ngAfterViewInit(){this._portal=new $l(this._template,this._viewContainerRef),this._datepicker.registerActions(this._portal)}ngOnDestroy(){this._datepicker.removeActions(this._portal),this._portal&&this._portal.isAttached&&this._portal?.detach()}}return i.\u0275fac=function(e){return new(e||i)(P(ru),P(Ri))},i.\u0275cmp=Fe({type:i,selectors:[["mat-datepicker-actions"],["mat-date-range-picker-actions"]],viewQuery:function(e,t){if(1&e&&ht($n,5),2&e){let o;Ke(o=Ye())&&(t._template=o.first)}},ngContentSelectors:rL,decls:1,vars:0,consts:[[1,"mat-datepicker-actions"]],template:function(e,t){1&e&&(Li(),$(0,qie,2,0,"ng-template"))},styles:[".mat-datepicker-actions{display:flex;justify-content:flex-end;align-items:center;padding:0 8px 8px 8px}.mat-datepicker-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-datepicker-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),i})(),wL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[yf,hne],imports:[Gi,jl,td,yb,Hl,bi,zl]}),i})(),Ane=0;const B1=new nt("CdkAccordion");let Sne=(()=>{class i{constructor(){this._stateChanges=new R,this._openCloseAllActions=new R,this.id="cdk-accordion-"+Ane++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=bt(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[Ct([{provide:B1,useExisting:i}]),dn]}),i})(),Mne=0,Pne=(()=>{class i{get expanded(){return this._expanded}set expanded(e){e=bt(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=bt(e)}constructor(e,t,o){this.accordion=e,this._changeDetectorRef=t,this._expansionDispatcher=o,this._openCloseAllSubscription=z.EMPTY,this.closed=new tt,this.opened=new tt,this.destroyed=new tt,this.expandedChange=new tt,this.id="cdk-accordion-child-"+Mne++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=o.listen((s,r)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===r&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return i.\u0275fac=function(e){return new(e||i)(P(B1,12),P(Zt),P(Nw))},i.\u0275dir=Xe({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Ct([{provide:B1,useValue:void 0}])]}),i})(),Tne=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({}),i})();const Ene=["body"];function Dne(i,n){}const One=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Rne=["mat-expansion-panel-header","*","mat-action-row"];function Fne(i,n){1&i&&me(0,"span",2),2&i&&g("@indicatorRotate",I()._getExpandedState())}const Lne=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Nne=["mat-panel-title","mat-panel-description","*"],V1=new nt("MAT_ACCORDION"),kL="225ms cubic-bezier(0.4,0.0,0.2,1)",IL={indicatorRotate:Co("indicatorRotate",[_n("collapsed, void",ei({transform:"rotate(0deg)"})),_n("expanded",ei({transform:"rotate(180deg)"})),sn("expanded <=> collapsed, void => collapsed",Qi(kL))]),bodyExpansion:Co("bodyExpansion",[_n("collapsed, void",ei({height:"0px",visibility:"hidden"})),_n("expanded",ei({height:"*",visibility:"visible"})),sn("expanded <=> collapsed, void => collapsed",Qi(kL))])},AL=new nt("MAT_EXPANSION_PANEL");let Bne=(()=>{class i{constructor(e,t){this._template=e,this._expansionPanel=t}}return i.\u0275fac=function(e){return new(e||i)(P($n),P(AL,8))},i.\u0275dir=Xe({type:i,selectors:[["ng-template","matExpansionPanelContent",""]]}),i})(),Vne=0;const SL=new nt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let $1=(()=>{class i extends Pne{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=bt(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,t,o,s,r,a,l){super(e,t,o),this._viewContainerRef=s,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new tt,this.afterCollapse=new tt,this._inputChanges=new R,this._headerId="mat-expansion-panel-header-"+Vne++,this._bodyAnimationDone=new R,this.accordion=e,this._document=r,this._bodyAnimationDone.pipe(Nh((c,A)=>c.fromState===A.fromState&&c.toState===A.toState)).subscribe(c=>{"void"!==c.fromState&&("expanded"===c.toState?this.afterExpand.emit():"collapsed"===c.toState&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Zn(null),ln(()=>this.expanded&&!this._portal),mn(1)).subscribe(()=>{this._portal=new $l(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,t=this._body.nativeElement;return e===t||t.contains(e)}return!1}}return i.\u0275fac=function(e){return new(e||i)(P(V1,12),P(Zt),P(Nw),P(Ri),P(pi),P(yn,8),P(SL,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(e,t,o){if(1&e&&fi(o,Bne,5),2&e){let s;Ke(s=Ye())&&(t._lazyContent=s.first)}},viewQuery:function(e,t){if(1&e&&ht(Ene,5),2&e){let o;Ke(o=Ye())&&(t._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,t){2&e&&St("mat-expanded",t.expanded)("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-expansion-panel-spacing",t._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Ct([{provide:V1,useValue:void 0},{provide:AL,useExisting:i}]),Re,dn],ngContentSelectors:Rne,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,t){1&e&&(Li(One),Ft(0),x(1,"div",0,1),ie("@bodyExpansion.done",function(s){return t._bodyAnimationDone.next(s)}),x(3,"div",2),Ft(4,1),$(5,Dne,0,0,"ng-template",3),C(),Ft(6,2),C()),2&e&&(_(1),g("@bodyExpansion",t._getExpandedState())("id",t.id),Et("aria-labelledby",t._headerId),_(4),g("cdkPortalOutlet",t._portal))},dependencies:[or],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[IL.bodyExpansion]},changeDetection:0}),i})();class $ne{}const Hne=Cc($ne);let H1=(()=>{class i extends Hne{constructor(e,t,o,s,r,a,l){super(),this.panel=e,this._element=t,this._focusMonitor=o,this._changeDetectorRef=s,this._animationMode=a,this._parentChangeSubscription=z.EMPTY;const c=e.accordion?e.accordion._stateChanges.pipe(ln(A=>!(!A.hideToggle&&!A.togglePosition))):xi;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=Yi(e.opened,e.closed,c,e._inputChanges.pipe(ln(A=>!!(A.hideToggle||A.disabled||A.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(ln(()=>e._containsFocus())).subscribe(()=>o.focusVia(t,"program")),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:fo(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,t){e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return i.\u0275fac=function(e){return new(e||i)(P($1,1),P($e),P(Cs),P(Zt),P(SL,8),P(yn,8),cs("tabindex"))},i.\u0275cmp=Fe({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,t){1&e&&ie("click",function(){return t._toggle()})("keydown",function(s){return t._keydown(s)}),2&e&&(Et("id",t.panel._headerId)("tabindex",t.tabIndex)("aria-controls",t._getPanelId())("aria-expanded",t._isExpanded())("aria-disabled",t.panel.disabled),et("height",t._getHeaderHeight()),St("mat-expanded",t._isExpanded())("mat-expansion-toggle-indicator-after","after"===t._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===t._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Re],ngContentSelectors:Nne,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,t){1&e&&(Li(Lne),x(0,"span",0),Ft(1),Ft(2,1),Ft(3,2),C(),$(4,Fne,1,1,"span",1)),2&e&&(St("mat-content-hide-toggle",!t._showToggle()),_(4),g("ngIf",t._showToggle()))},dependencies:[ct],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[IL.indicatorRotate]},changeDetection:0}),i})(),z1=(()=>{class i extends Sne{constructor(){super(...arguments),this._ownHeaders=new Ml,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=bt(e)}ngAfterContentInit(){this._headers.changes.pipe(Zn(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(t=>t.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Um(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["mat-accordion"]],contentQueries:function(e,t,o){if(1&e&&fi(o,H1,5),2&e){let s;Ke(s=Ye())&&(t._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,t){2&e&&St("mat-accordion-multi",t.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[Ct([{provide:V1,useExisting:i}]),Re]}),i})(),ML=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,bi,Tne,Hl]}),i})(),TL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[dR,bi,dR,bi]}),i})(),Zr=(()=>{class i{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=bt(e)}get inset(){return this._inset}set inset(e){this._inset=bt(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,t){2&e&&(Et("aria-orientation",t.vertical?"vertical":"horizontal"),St("mat-divider-vertical",t.vertical)("mat-divider-horizontal",!t.vertical)("mat-divider-inset",t.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,t){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),i})(),j1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi,bi]}),i})();const G1=["*"],W1='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}',EL=["unscopedContent"],Gne=["text"],Wne=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Une=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];function Zne(i,n){1&i&&Ft(0,4)}function Kne(i,n){if(1&i&&(x(0,"div",11),me(1,"input",12),x(2,"div",13),ls(),x(3,"svg",14),me(4,"path",15),C(),yl(),me(5,"div",16),C()()),2&i){const e=I();St("mdc-checkbox--disabled",e.disabled),_(1),g("checked",e.selected)("disabled",e.disabled)}}function Yne(i,n){if(1&i&&(x(0,"div",17),me(1,"input",18),x(2,"div",19),me(3,"div",20)(4,"div",21),C()()),2&i){const e=I();St("mdc-radio--disabled",e.disabled),_(1),g("checked",e.selected)("disabled",e.disabled)}}function Xne(i,n){}function qne(i,n){if(1&i&&(x(0,"span",22),$(1,Xne,0,0,"ng-template",23),C()),2&i){I();const e=Qt(3);_(1),g("ngTemplateOutlet",e)}}function Jne(i,n){}function Qne(i,n){if(1&i&&(x(0,"span",24),$(1,Jne,0,0,"ng-template",23),C()),2&i){I();const e=Qt(5);_(1),g("ngTemplateOutlet",e)}}function eoe(i,n){}function toe(i,n){1&i&&$(0,eoe,0,0,"ng-template",23),2&i&&(I(),g("ngTemplateOutlet",Qt(1)))}function ioe(i,n){}function noe(i,n){if(1&i&&(x(0,"span",25),$(1,ioe,0,0,"ng-template",23),C()),2&i){I();const e=Qt(3);_(1),g("ngTemplateOutlet",e)}}function ooe(i,n){}function soe(i,n){if(1&i&&(x(0,"span",25),$(1,ooe,0,0,"ng-template",23),C()),2&i){I();const e=Qt(5);_(1),g("ngTemplateOutlet",e)}}function roe(i,n){}function aoe(i,n){1&i&&$(0,roe,0,0,"ng-template",23),2&i&&(I(),g("ngTemplateOutlet",Qt(1)))}const loe=[[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["mat-divider"]],[["","matListItemAvatar",""],["","matListItemIcon",""]]],coe=["[matListItemTitle]","[matListItemLine]","*","mat-divider","[matListItemAvatar],[matListItemIcon]"],DL=new nt("ListOption");let OL=(()=>{class i{constructor(e){this._elementRef=e}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275dir=Xe({type:i,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),i})(),RL=(()=>{class i{constructor(e){this._elementRef=e}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275dir=Xe({type:i,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),i})(),doe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),i})(),FL=(()=>{class i{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return i.\u0275fac=function(e){return new(e||i)(P(DL,8))},i.\u0275dir=Xe({type:i,hostVars:4,hostBindings:function(e,t){2&e&&St("mdc-list-item__start",t._isAlignedAtStart())("mdc-list-item__end",!t._isAlignedAtStart())}}),i})(),uoe=(()=>{class i extends FL{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[Re]}),i})(),hoe=(()=>{class i extends FL{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[Re]}),i})();const poe=new nt("MAT_LIST_CONFIG");let cd=(()=>{class i{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=di(poe,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=bt(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=bt(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,hostVars:1,hostBindings:function(e,t){2&e&&Et("aria-disabled",t.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),i})(),U1=(()=>{class i{set lines(e){this._explicitLines=hn(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=bt(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=bt(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,t,o,s,r,a){this._elementRef=e,this._ngZone=t,this._listBase=o,this._platform=s,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new z,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=r||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===a,o&&!o._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new $h(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(Yi(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const t=this._explicitLines??this._inferLinesFromContent(),o=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",t<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",t<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===t),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===t),this._hasUnscopedTextContent){const s=0===this._titles.length&&1===t;o.classList.toggle("mdc-list-item__primary-text",s),o.classList.toggle("mdc-list-item__secondary-text",!s)}else o.classList.remove("mdc-list-item__primary-text"),o.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Bt),P(cd,8),P(Mn),P(wc,8),P(yn,8))},i.\u0275dir=Xe({type:i,contentQueries:function(e,t,o){if(1&e&&(fi(o,uoe,4),fi(o,hoe,4)),2&e){let s;Ke(s=Ye())&&(t._avatars=s),Ke(s=Ye())&&(t._icons=s)}},hostVars:4,hostBindings:function(e,t){2&e&&(Et("aria-disabled",t.disabled)("disabled",t._isButtonElement&&t.disabled||null),St("mdc-list-item--disabled",t.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),i})(),LL=(()=>{class i extends cd{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275cmp=Fe({type:i,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[Ct([{provide:cd,useExisting:i}]),Re],ngContentSelectors:G1,decls:1,vars:0,template:function(e,t){1&e&&(Li(),Ft(0))},styles:[W1],encapsulation:2,changeDetection:0}),i})(),Z1=(()=>{class i extends U1{get activated(){return this._activated}set activated(e){this._activated=bt(e)}constructor(e,t,o,s,r,a){super(e,t,o,s,r,a),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Bt),P(cd,8),P(Mn),P(wc,8),P(yn,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,t,o){if(1&e&&(fi(o,RL,5),fi(o,OL,5),fi(o,doe,5)),2&e){let s;Ke(s=Ye())&&(t._lines=s),Ke(s=Ye())&&(t._titles=s),Ke(s=Ye())&&(t._meta=s)}},viewQuery:function(e,t){if(1&e&&(ht(EL,5),ht(Gne,5)),2&e){let o;Ke(o=Ye())&&(t._unscopedContent=o.first),Ke(o=Ye())&&(t._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(e,t){2&e&&(Et("aria-current",t._getAriaCurrent()),St("mdc-list-item--activated",t.activated)("mdc-list-item--with-leading-avatar",0!==t._avatars.length)("mdc-list-item--with-leading-icon",0!==t._icons.length)("mdc-list-item--with-trailing-meta",0!==t._meta.length)("_mat-animation-noopable",t._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[Re],ngContentSelectors:Une,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(e,t){1&e&&(Li(Wne),Ft(0),x(1,"span",0),Ft(2,1),Ft(3,2),x(4,"span",1,2),ie("cdkObserveContent",function(){return t._updateItemLines(!0)}),Ft(6,3),C()(),Ft(7,4),Ft(8,5),me(9,"div",3))},dependencies:[Wm],encapsulation:2,changeDetection:0}),i})();const NL=new nt("SelectionList");let lu=(()=>{class i extends U1{get checkboxPosition(){return this.togglePosition}set checkboxPosition(e){this.togglePosition=e}get color(){return this._color||this._selectionList.color}set color(e){this._color=e}get value(){return this._value}set value(e){this.selected&&e!==this.value&&this._inputsInitialized&&(this.selected=!1),this._value=e}get selected(){return this._selectionList.selectedOptions.isSelected(this)}set selected(e){const t=bt(e);t!==this._selected&&(this._setSelected(t),(t||this._selectionList.multiple)&&this._selectionList._reportValueChange())}constructor(e,t,o,s,r,a,l){super(e,t,o,s,a,l),this._selectionList=o,this._changeDetectorRef=r,this.selectedChange=new tt,this.togglePosition="after",this._selected=!1,this._inputsInitialized=!1}ngOnInit(){const e=this._selectionList;e._value&&e._value.some(o=>e.compareWith(this._value,o))&&this._setSelected(!0);const t=this._selected;Promise.resolve().then(()=>{(this._selected||t)&&(this.selected=!0,this._changeDetectorRef.markForCheck())}),this._inputsInitialized=!0}ngOnDestroy(){super.ngOnDestroy(),this.selected&&Promise.resolve().then(()=>{this.selected=!1})}toggle(){this.selected=!this.selected}focus(){this._hostElement.focus()}getLabel(){return(this._titles?.get(0)?._elementRef.nativeElement||this._unscopedContent?.nativeElement)?.textContent||""}_hasCheckboxAt(e){return this._selectionList.multiple&&this._getTogglePosition()===e}_hasRadioAt(e){return!this._selectionList.multiple&&this._getTogglePosition()===e&&!this._selectionList.hideSingleSelectionIndicator}_hasIconsOrAvatarsAt(e){return this._hasProjected("icons",e)||this._hasProjected("avatars",e)}_hasProjected(e,t){return this._getTogglePosition()!==t&&("avatars"===e?0!==this._avatars.length:0!==this._icons.length)}_handleBlur(){this._selectionList._onTouched()}_getTogglePosition(){return this.togglePosition||"after"}_setSelected(e){return e!==this._selected&&(this._selected=e,e?this._selectionList.selectedOptions.select(this):this._selectionList.selectedOptions.deselect(this),this.selectedChange.emit(e),this._changeDetectorRef.markForCheck(),!0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_toggleOnInteraction(){this.disabled||(this._selectionList.multiple?(this.selected=!this.selected,this._selectionList._emitChangeEvent([this])):this.selected||(this.selected=!0,this._selectionList._emitChangeEvent([this])))}_setTabindex(e){this._hostElement.setAttribute("tabindex",e+"")}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Bt),P(NL),P(Mn),P(Zt),P(wc,8),P(yn,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-list-option"]],contentQueries:function(e,t,o){if(1&e&&(fi(o,RL,5),fi(o,OL,5)),2&e){let s;Ke(s=Ye())&&(t._lines=s),Ke(s=Ye())&&(t._titles=s)}},viewQuery:function(e,t){if(1&e&&ht(EL,5),2&e){let o;Ke(o=Ye())&&(t._unscopedContent=o.first)}},hostAttrs:["role","option",1,"mat-mdc-list-item","mat-mdc-list-option","mdc-list-item"],hostVars:25,hostBindings:function(e,t){1&e&&ie("blur",function(){return t._handleBlur()})("click",function(){return t._toggleOnInteraction()}),2&e&&(Et("aria-selected",t.selected),St("mdc-list-item--selected",t.selected&&!t._selectionList.multiple&&t._selectionList.hideSingleSelectionIndicator)("mdc-list-item--with-leading-avatar",t._hasProjected("avatars","before"))("mdc-list-item--with-leading-icon",t._hasProjected("icons","before"))("mdc-list-item--with-trailing-icon",t._hasProjected("icons","after"))("mat-mdc-list-option-with-trailing-avatar",t._hasProjected("avatars","after"))("mdc-list-item--with-leading-checkbox",t._hasCheckboxAt("before"))("mdc-list-item--with-trailing-checkbox",t._hasCheckboxAt("after"))("mdc-list-item--with-leading-radio",t._hasRadioAt("before"))("mdc-list-item--with-trailing-radio",t._hasRadioAt("after"))("mat-accent","primary"!==t.color&&"warn"!==t.color)("mat-warn","warn"===t.color)("_mat-animation-noopable",t._noopAnimations))},inputs:{togglePosition:"togglePosition",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[Ct([{provide:U1,useExisting:i},{provide:DL,useExisting:i}]),Re],ngContentSelectors:coe,decls:20,vars:6,consts:[["icons",""],["checkbox",""],["radio",""],["class","mdc-list-item__start mat-mdc-list-option-checkbox-before",4,"ngIf"],["class","mdc-list-item__start mat-mdc-list-option-radio-before",4,"ngIf"],[3,"ngIf"],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],["class","mdc-list-item__end",4,"ngIf"],[1,"mat-mdc-focus-indicator"],[1,"mdc-checkbox"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","disabled"],[1,"mdc-checkbox__background"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],[1,"mdc-radio"],["type","radio",1,"mdc-radio__native-control",3,"checked","disabled"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],[1,"mdc-list-item__start","mat-mdc-list-option-checkbox-before"],[3,"ngTemplateOutlet"],[1,"mdc-list-item__start","mat-mdc-list-option-radio-before"],[1,"mdc-list-item__end"]],template:function(e,t){1&e&&(Li(loe),$(0,Zne,1,0,"ng-template",null,0,is),$(2,Kne,6,4,"ng-template",null,1,is),$(4,Yne,5,4,"ng-template",null,2,is),$(6,qne,2,1,"span",3),$(7,Qne,2,1,"span",4),$(8,toe,1,1,"ng-template",5),x(9,"span",6),Ft(10),Ft(11,1),x(12,"span",7,8),ie("cdkObserveContent",function(){return t._updateItemLines(!0)}),Ft(14,2),C()(),$(15,noe,2,1,"span",9),$(16,soe,2,1,"span",9),$(17,aoe,1,1,"ng-template",5),Ft(18,3),me(19,"div",10)),2&e&&(_(6),g("ngIf",t._hasCheckboxAt("before")),_(1),g("ngIf",t._hasRadioAt("before")),_(1),g("ngIf",t._hasIconsOrAvatarsAt("before")),_(7),g("ngIf",t._hasCheckboxAt("after")),_(1),g("ngIf",t._hasRadioAt("after")),_(1),g("ngIf",t._hasIconsOrAvatarsAt("after")))},dependencies:[Wm,ct,S_],styles:['.mat-mdc-list-option-with-trailing-avatar.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mat-mdc-list-option-with-trailing-avatar.mdc-list-item,.mat-mdc-list-option-with-trailing-avatar.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end,.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{width:40px;height:40px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{border-radius:50%}.mat-mdc-list-option .mdc-touch-target-wrapper{display:inline}.mat-mdc-list-option .mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mat-mdc-list-option .mdc-checkbox[hidden]{display:none}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-list-option .mdc-checkbox__mixedmark{margin:0 1px}}.mat-mdc-list-option .mdc-checkbox--disabled{cursor:default;pointer-events:none}.mat-mdc-list-option .mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color}.mat-mdc-list-option .mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0}.mdc-checkbox--upgraded .mat-mdc-list-option .mdc-checkbox__checkmark{opacity:1}.mat-mdc-list-option .mdc-checkbox__checkmark-path{stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mat-mdc-list-option .mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mat-mdc-list-option .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mat-mdc-list-option .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mat-mdc-list-option .mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mat-mdc-list-option .mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-list-option .mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{opacity:1}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mat-mdc-list-option .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mat-mdc-list-option .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mat-mdc-list-option .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mat-mdc-list-option .mdc-radio[hidden]{display:none}.mat-mdc-list-option .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-list-option .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:""}.mat-mdc-list-option .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%}.mat-mdc-list-option .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%}.mat-mdc-list-option .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mat-mdc-list-option .mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mat-mdc-list-option .mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mat-mdc-list-option .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5)}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background,.mat-mdc-list-option [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mat-mdc-list-option .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}@media all and (-ms-high-contrast: none){.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox .mdc-checkbox__focus-ring{display:none}}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__background{transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__mixedmark{transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__background::before{transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:focus+.mdc-radio__background::before{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-checkbox{padding:calc((40px - 18px) / 2);padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((40px - 40px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.38);border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:rgba(0, 0, 0, 0.38);background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#018786;border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:#018786;border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:#018786;border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__background{top:calc((40px - 18px) / 2);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((40px - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control{top:calc((40px - 40px) / 2);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((40px - 40px) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((40px - 40px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:40px;width:var(--mdc-checkbox-state-layer-size, 40px);height:40px;height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-list-option .mdc-radio{padding:calc((40px - 20px) / 2);padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px) / 2)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:#000;border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:#000;border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:0.38;opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:0.38;opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:#000;border-color:var(--mdc-radio-disabled-unselected-icon-color, #000)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:0.38;opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:#6200ee;border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:#6200ee;border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:#000;border-color:var(--mdc-radio-unselected-icon-color, #000)}.mat-mdc-list-option .mdc-radio .mdc-radio__background::before{top:calc(-1 * (40px - 20px) / 2);top:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);left:calc(-1 * (40px - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);width:40px;width:var(--mdc-radio-state-layer-size, 40px);height:40px;height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-list-option .mdc-radio .mdc-radio__native-control{top:calc((40px - 40px) / 2);top:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);right:calc((40px - 40px) / 2);right:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);left:calc((40px - 40px) / 2);left:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);width:40px;width:var(--mdc-radio-state-layer-size, 40px);height:40px;height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-list-option .mdc-checkbox__native-control,.mat-mdc-list-option .mdc-radio__native-control{display:none}.cdk-high-contrast-active .mat-mdc-list-option.mdc-list-item--selected::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active .mat-mdc-list-option.mdc-list-item--selected [dir=rtl]::after{right:auto;left:16px}'],encapsulation:2,changeDetection:0}),i})(),BL=(()=>{class i extends cd{constructor(){super(...arguments),this._isNonInteractive=!1}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275cmp=Fe({type:i,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[Ct([{provide:cd,useExisting:i}]),Re],ngContentSelectors:G1,decls:1,vars:0,template:function(e,t){1&e&&(Li(),Ft(0))},styles:[W1],encapsulation:2,changeDetection:0}),i})();const moe={provide:go,useExisting:Si(()=>cu),multi:!0};class foe{constructor(n,e){this.source=n,this.options=e}}let cu=(()=>{class i extends cd{get multiple(){return this._multiple}set multiple(e){const t=bt(e);t!==this._multiple&&(this._multiple=t,this.selectedOptions=new Ud(this._multiple,this.selectedOptions.selected))}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=bt(e)}constructor(e,t){super(),this._element=e,this._ngZone=t,this._initialized=!1,this._destroyed=new R,this._onChange=o=>{},this.selectionChange=new tt,this.color="accent",this.compareWith=(o,s)=>o===s,this._multiple=!0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.selectedOptions=new Ud(this._multiple),this._onTouched=()=>{},this._selectionListDisabled=!1,this._handleFocusout=()=>{setTimeout(()=>{this._containsFocus()||this._resetActiveOption()})},this._handleFocusin=o=>{if(this.disabled)return;const s=this._items.toArray().findIndex(r=>r._elementRef.nativeElement.contains(o.target));s>-1?this._setActiveOption(s):this._resetActiveOption()},this._isNonInteractive=!1}ngAfterViewInit(){this._initialized=!0,this._setupRovingTabindex(),this._ngZone.runOutsideAngular(()=>{this._element.nativeElement.addEventListener("focusin",this._handleFocusin),this._element.nativeElement.addEventListener("focusout",this._handleFocusout)}),this._value&&this._setOptionsFromValues(this._value),this._watchForSelectionChange()}ngOnChanges(e){const t=e.disabled,o=e.disableRipple,s=e.hideSingleSelectionIndicator;(o&&!o.firstChange||t&&!t.firstChange||s&&!s.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._keyManager?.destroy(),this._element.nativeElement.removeEventListener("focusin",this._handleFocusin),this._element.nativeElement.removeEventListener("focusout",this._handleFocusout),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(e){this._element.nativeElement.focus(e)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_reportValueChange(){if(this.options&&!this._isDestroyed){const e=this._getSelectedOptionValues();this._onChange(e),this._value=e}}_emitChangeEvent(e){this.selectionChange.emit(new foe(this,e))}writeValue(e){this._value=e,this.options&&this._setOptionsFromValues(e||[])}setDisabledState(e){this.disabled=e}get disabled(){return this._selectionListDisabled}set disabled(e){this._selectionListDisabled=bt(e),this._selectionListDisabled&&this._keyManager?.setActiveItem(-1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}_watchForSelectionChange(){this.selectedOptions.changed.pipe(hi(this._destroyed)).subscribe(e=>{for(let t of e.added)t.selected=!0;for(let t of e.removed)t.selected=!1;this._containsFocus()||this._resetActiveOption()})}_setOptionsFromValues(e){this.options.forEach(t=>t._setSelected(!1)),e.forEach(t=>{const o=this.options.find(s=>!s.selected&&this.compareWith(s.value,t));o&&o._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(e=>e.selected).map(e=>e.value)}_markOptionsForCheck(){this.options&&this.options.forEach(e=>e._markForCheck())}_setAllOptionsSelected(e,t){const o=[];return this.options.forEach(s=>{(!t||!s.disabled)&&s._setSelected(e)&&o.push(s)}),o.length&&this._reportValueChange(),o}get options(){return this._items}_handleKeydown(e){const t=this._keyManager.activeItem;if(13!==e.keyCode&&32!==e.keyCode||this._keyManager.isTyping()||!t||t.disabled)if(65===e.keyCode&&this.multiple&&!this._keyManager.isTyping()&&fo(e,"ctrlKey")){const o=this.options.some(s=>!s.disabled&&!s.selected);e.preventDefault(),this._emitChangeEvent(this._setAllOptionsSelected(o,!0))}else this._keyManager.onKeydown(e);else e.preventDefault(),t._toggleOnInteraction()}_setupRovingTabindex(){this._keyManager=new Um(this._items).withHomeAndEnd().withTypeAhead().withWrap().skipPredicate(()=>this.disabled),this._resetActiveOption(),this._keyManager.change.subscribe(e=>this._setActiveOption(e)),this._items.changes.pipe(hi(this._destroyed)).subscribe(()=>{const e=this._keyManager.activeItem;(!e||!this._items.toArray().indexOf(e))&&this._resetActiveOption()})}_setActiveOption(e){this._items.forEach((t,o)=>t._setTabindex(o===e?0:-1)),this._keyManager.updateActiveItem(e)}_resetActiveOption(){if(this.disabled)return void this._setActiveOption(-1);const e=this._items.find(t=>t.selected&&!t.disabled)||this._items.first;this._setActiveOption(e?this._items.toArray().indexOf(e):-1)}_containsFocus(){const e=Fh();return e&&this._element.nativeElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Bt))},i.\u0275cmp=Fe({type:i,selectors:[["mat-selection-list"]],contentQueries:function(e,t,o){if(1&e&&fi(o,lu,5),2&e){let s;Ke(s=Ye())&&(t._items=s)}},hostAttrs:["role","listbox",1,"mat-mdc-selection-list","mat-mdc-list-base","mdc-list"],hostVars:1,hostBindings:function(e,t){1&e&&ie("keydown",function(s){return t._handleKeydown(s)}),2&e&&Et("aria-multiselectable",t.multiple)},inputs:{color:"color",compareWith:"compareWith",multiple:"multiple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",disabled:"disabled"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[Ct([moe,{provide:cd,useExisting:i},{provide:NL,useExisting:i}]),Re,dn],ngContentSelectors:G1,decls:1,vars:0,template:function(e,t){1&e&&(Li(),Ft(0))},styles:[W1],encapsulation:2,changeDetection:0}),i})(),uv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[mb,Gi,bi,Ir,gR,j1]}),i})();const goe=["trigger"],_oe=["panel"];function boe(i,n){if(1&i&&(x(0,"span",10),ee(1),C()),2&i){const e=I();_(1),Je(e.placeholder)}}function voe(i,n){if(1&i&&(x(0,"span",14),ee(1),C()),2&i){const e=I(2);_(1),Je(e.triggerValue)}}function yoe(i,n){1&i&&Ft(0,0,["*ngSwitchCase","true"])}function xoe(i,n){1&i&&(x(0,"span",11),$(1,voe,2,1,"span",12),$(2,yoe,1,0,"ng-content",13),C()),2&i&&(g("ngSwitch",!!I().customTrigger),_(2),g("ngSwitchCase",!0))}function Coe(i,n){if(1&i){const e=Me();ls(),yl(),x(0,"div",15,16),ie("@transformPanel.done",function(o){return he(e),pe(I()._panelDoneAnimatingStream.next(o.toState))})("keydown",function(o){return he(e),pe(I()._handleKeydown(o))}),Ft(2,1),C()}if(2&i){const e=I();hs("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),g("ngClass",e.panelClass)("@transformPanel","showing"),Et("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const woe=[[["mat-select-trigger"]],"*"],koe=["mat-select-trigger","*"],Ioe={transformPanelWrap:Co("transformPanelWrap",[sn("* => void",Pb("@transformPanel",[Mb()],{optional:!0}))]),transformPanel:Co("transformPanel",[_n("void",ei({opacity:0,transform:"scale(1, 0.8)"})),sn("void => showing",Qi("120ms cubic-bezier(0, 0, 0.2, 1)",ei({opacity:1,transform:"scale(1, 1)"}))),sn("* => void",Qi("100ms linear",ei({opacity:0})))])};let VL=0;const $L=new nt("mat-select-scroll-strategy"),Soe=new nt("MAT_SELECT_CONFIG"),Moe={provide:$L,deps:[ss],useFactory:function Aoe(i){return()=>i.scrollStrategies.reposition()}},Poe=new nt("MatSelectTrigger");class Toe{constructor(n,e){this.source=n,this.value=e}}const Eoe=qa(Cc(Xa(kb(class{constructor(i,n,e,t,o){this._elementRef=i,this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=o,this.stateChanges=new R}}))));let Doe=(()=>{class i extends Eoe{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Xt.required)??!1}set required(e){this._required=bt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=bt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=bt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=hn(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,t,o,s,r,a,l,c,A,D,te,se,le,ke){super(r,s,l,c,D),this._viewportRuler=e,this._changeDetectorRef=t,this._ngZone=o,this._dir=a,this._parentFormField=A,this._liveAnnouncer=le,this._defaultOptions=ke,this._panelOpen=!1,this._compareWith=(Pe,ze)=>Pe===ze,this._uid="mat-select-"+VL++,this._triggerAriaLabelledBy=null,this._destroy=new R,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+VL++,this._panelDoneAnimatingStream=new R,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=xh(()=>{const Pe=this.options;return Pe?Pe.changes.pipe(Zn(Pe),Po(()=>Yi(...Pe.map(ze=>ze.onSelectionChange)))):this._ngZone.onStable.pipe(mn(1),Po(()=>this.optionSelectionChanges))}),this.openedChange=new tt,this._openedStream=this.openedChange.pipe(ln(Pe=>Pe),we(()=>{})),this._closedStream=this.openedChange.pipe(ln(Pe=>!Pe),we(()=>{})),this.selectionChange=new tt,this.valueChange=new tt,this.ngControl&&(this.ngControl.valueAccessor=this),null!=ke?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=ke.typeaheadDebounceInterval),this._scrollStrategyFactory=se,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(te)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Ud(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Nh(),hi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(hi(this._destroy)).subscribe(e=>{e.added.forEach(t=>t.select()),e.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Zn(null),hi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),t=this.ngControl;if(e!==this._triggerAriaLabelledBy){const o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?o.setAttribute("aria-labelledby",e):o.removeAttribute("aria-labelledby")}t&&(this._previousControl!==t.control&&(void 0!==this._previousControl&&null!==t.disabled&&t.disabled!==this.disabled&&(this.disabled=t.disabled),this._previousControl=t.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const t=e.keyCode,o=40===t||38===t||37===t||39===t,s=13===t||32===t,r=this._keyManager;if(!r.isTyping()&&s&&!fo(e)||(this.multiple||e.altKey)&&o)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;r.onKeydown(e);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const t=this._keyManager,o=e.keyCode,s=40===o||38===o,r=t.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(r||13!==o&&32!==o||!t.activeItem||fo(e))if(!r&&this._multiple&&65===o&&e.ctrlKey){e.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=t.activeItemIndex;t.onKeydown(e),this._multiple&&s&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==a&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(mn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(t=>this._selectOptionByValue(t)),this._sortValues();else{const t=this._selectOptionByValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const t=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return null!=o.value&&this._compareWith(o.value,e)}catch{return!1}});return t&&this._selectionModel.select(t),t}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new dX(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=Yi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(hi(e)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Yi(...this.options.map(t=>t._stateChanges)).pipe(hi(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,t){const o=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(o!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),o!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((t,o)=>this.sortComparator?this.sortComparator(t,o,e):e.indexOf(t)-e.indexOf(o)),this.stateChanges.next()}}_propagateChanges(e){let t=null;t=this.multiple?this.selected.map(o=>o.value):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let t=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return i.\u0275fac=function(e){return new(e||i)(P(Gr),P(Zt),P(Bt),P(Wd),P($e),P(Hn,8),P(Qa,8),P(ba,8),P(ou,8),P(_a,10),cs("tabindex"),P($L),P(Iw),P(Soe,8))},i.\u0275dir=Xe({type:i,viewQuery:function(e,t){if(1&e&&(ht(goe,5),ht(_oe,5),ht(UR,5)),2&e){let o;Ke(o=Ye())&&(t.trigger=o.first),Ke(o=Ye())&&(t.panel=o.first),Ke(o=Ye())&&(t._overlayDir=o.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Re,dn]}),i})(),K1=(()=>{class i extends Doe{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(hi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const t=this.options.toArray()[e];if(t){const o=this.panel.nativeElement,s=function yR(i,n,e){if(e.length){let t=n.toArray(),o=e.toArray(),s=0;for(let r=0;r<i+1;r++)t[r].group&&t[r].group===o[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),r=t._getHostElement();o.scrollTop=0===e&&1===s?0:function xR(i,n,e,t){return i<e?i:i+n>e+t?Math.max(0,i-t+n):e}(r.offsetTop,r.offsetHeight,o.scrollTop,o.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Toe(this,e)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof Vw?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=bt(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275cmp=Fe({type:i,selectors:[["mat-select"]],contentQueries:function(e,t,o){if(1&e&&(fi(o,Poe,5),fi(o,Ib,5),fi(o,bR,5)),2&e){let s;Ke(s=Ye())&&(t.customTrigger=s.first),Ke(s=Ye())&&(t.options=s),Ke(s=Ye())&&(t.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,t){1&e&&ie("keydown",function(s){return t._handleKeydown(s)})("focus",function(){return t._onFocus()})("blur",function(){return t._onBlur()}),2&e&&(Et("id",t.id)("tabindex",t.tabIndex)("aria-controls",t.panelOpen?t.id+"-panel":null)("aria-expanded",t.panelOpen)("aria-label",t.ariaLabel||null)("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-activedescendant",t._getAriaActiveDescendant()),St("mat-mdc-select-disabled",t.disabled)("mat-mdc-select-invalid",t.errorState)("mat-mdc-select-required",t.required)("mat-mdc-select-empty",t.empty)("mat-mdc-select-multiple",t.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[Ct([{provide:vf,useExisting:i},{provide:_R,useExisting:i}]),Re],ngContentSelectors:koe,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(Li(woe),x(0,"div",0,1),ie("click",function(){return t.toggle()}),x(3,"div",2),$(4,boe,2,1,"span",3),$(5,xoe,3,2,"span",4),C(),x(6,"div",5)(7,"div",6),ls(),x(8,"svg",7),me(9,"path",8),C()()()(),$(10,Coe,3,9,"ng-template",9),ie("backdropClick",function(){return t.close()})("attach",function(){return t._onAttached()})("detach",function(){return t.close()})),2&e){const o=Qt(1);Et("aria-owns",t.panelOpen?t.id+"-panel":null),_(3),g("ngSwitch",t.empty),Et("id",t._valueId),_(1),g("ngSwitchCase",!0),_(1),g("ngSwitchCase",!1),_(5),g("cdkConnectedOverlayPanelClass",t._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",t._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayWidth",t._overlayWidth)}},dependencies:[Gt,wr,pa,yC,UR,Vw],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Ioe.transformPanel]},changeDetection:0}),i})(),Y1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[Moe],imports:[Gi,td,Ab,bi,zl,Ul,Ab,bi]}),i})();function Ooe(i,n){if(1&i&&(x(0,"mat-option",19),ee(1),C()),2&i){const e=n.$implicit;g("value",e),_(1),Mt(" ",e," ")}}function Roe(i,n){if(1&i){const e=Me();x(0,"mat-form-field",16)(1,"mat-select",17),ie("selectionChange",function(o){return he(e),pe(I(2)._changePageSize(o.value))}),$(2,Ooe,2,2,"mat-option",18),C()()}if(2&i){const e=I(2);g("appearance",e._formFieldAppearance)("color",e.color),_(1),g("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),_(1),g("ngForOf",e._displayedPageSizeOptions)}}function Foe(i,n){if(1&i&&(x(0,"div",20),ee(1),C()),2&i){const e=I(2);_(1),Je(e.pageSize)}}function Loe(i,n){if(1&i&&(x(0,"div",12)(1,"div",13),ee(2),C(),$(3,Roe,3,8,"mat-form-field",14),$(4,Foe,2,1,"div",15),C()),2&i){const e=I();_(1),Ei("id",e._pageSizeLabelId),_(1),Mt(" ",e._intl.itemsPerPageLabel," "),_(1),g("ngIf",e._displayedPageSizeOptions.length>1),_(1),g("ngIf",e._displayedPageSizeOptions.length<=1)}}function Noe(i,n){if(1&i){const e=Me();x(0,"button",21),ie("click",function(){return he(e),pe(I().firstPage())}),ls(),x(1,"svg",7),me(2,"path",22),C()()}if(2&i){const e=I();g("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),Et("aria-label",e._intl.firstPageLabel)}}function Boe(i,n){if(1&i){const e=Me();ls(),yl(),x(0,"button",23),ie("click",function(){return he(e),pe(I().lastPage())}),ls(),x(1,"svg",7),me(2,"path",24),C()()}if(2&i){const e=I();g("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),Et("aria-label",e._intl.lastPageLabel)}}let hv=(()=>{class i{constructor(){this.changes=new R,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,t,o)=>{if(0==o||0==t)return`0 of ${o}`;const s=e*t;return`${s+1} \u2013 ${s<(o=Math.max(o,0))?Math.min(s+t,o):s+t} of ${o}`}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const $oe={provide:hv,deps:[[new _r,new Ba,hv]],useFactory:function Voe(i){return i||new hv}},zoe=new nt("MAT_PAGINATOR_DEFAULT_OPTIONS"),joe=Xa(lR(class{}));let Goe=(()=>{class i extends joe{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(hn(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=hn(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(hn(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(t=>hn(t)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=bt(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=bt(e)}constructor(e,t,o){if(super(),this._intl=e,this._changeDetectorRef=t,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new tt,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),o){const{pageSize:s,pageSizeOptions:r,hidePageSize:a,showFirstLastButtons:l}=o;null!=s&&(this._pageSize=s),null!=r&&(this._pageSizeOptions=r),null!=a&&(this._hidePageSize=a),null!=l&&(this._showFirstLastButtons=l)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const o=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(o)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,t)=>e-t),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return i.\u0275fac=function(e){Ha()},i.\u0275dir=Xe({type:i,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[Re]}),i})(),Woe=0,HL=(()=>{class i extends Goe{constructor(e,t,o){super(e,t,o),this._pageSizeLabelId="mat-paginator-page-size-label-"+Woe++,this._formFieldAppearance=o?.formFieldAppearance||"outline"}}return i.\u0275fac=function(e){return new(e||i)(P(hv),P(Zt),P(zoe,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[Re],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1),$(2,Loe,5,4,"div",2),x(3,"div",3)(4,"div",4),ee(5),C(),$(6,Noe,3,5,"button",5),x(7,"button",6),ie("click",function(){return t.previousPage()}),ls(),x(8,"svg",7),me(9,"path",8),C()(),yl(),x(10,"button",9),ie("click",function(){return t.nextPage()}),ls(),x(11,"svg",7),me(12,"path",10),C()(),$(13,Boe,3,5,"button",11),C()()()),2&e&&(_(2),g("ngIf",!t.hidePageSize),_(3),Mt(" ",t._intl.getRangeLabel(t.pageIndex,t.pageSize,t.length)," "),_(1),g("ngIf",t.showFirstLastButtons),_(1),g("matTooltip",t._intl.previousPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),Et("aria-label",t._intl.previousPageLabel),_(3),g("matTooltip",t._intl.nextPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),Et("aria-label",t._intl.nextPageLabel),_(3),g("ngIf",t.showFirstLastButtons))},dependencies:[ai,ct,zh,ks,K1,Ib,Pn],styles:[".mat-mdc-paginator{display:block}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),i})(),X1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[$oe],imports:[Gi,jl,Y1,iu]}),i})();const Uoe=["input"],Zoe=["*"];let zL=0;class jL{constructor(n,e){this.source=n,this.value=e}}const Koe={provide:go,useExisting:Si(()=>WL),multi:!0},GL=new nt("MatRadioGroup"),Yoe=new nt("mat-radio-default-options",{providedIn:"root",factory:function Xoe(){return{color:"accent"}}});let qoe=(()=>{class i{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=bt(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=bt(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+zL++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new tt}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(t=>{t.checked=this.value===t.value,t.checked&&(this._selected=t)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new jL(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(P(Zt))},i.\u0275dir=Xe({type:i,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),i})();class Joe{constructor(n){this._elementRef=n}}const Qoe=qa(Cc(Joe));let ese=(()=>{class i extends Qoe{get checked(){return this._checked}set checked(e){const t=bt(e);this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(bt(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=bt(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,t,o,s,r,a,l,c){super(t),this._changeDetector=o,this._focusMonitor=s,this._radioDispatcher=r,this._providerOverride=l,this._uniqueId="mat-radio-"+ ++zL,this.id=this._uniqueId,this.change=new tt,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===a,c&&(this.tabIndex=hn(c,0))}focus(e,t){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,t)=>{e!==this.id&&t===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new jL(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const t=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),t&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let t;if(t=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,t!==this._previousTabIndex){const o=this._inputElement?.nativeElement;o&&(o.setAttribute("tabindex",t+""),this._previousTabIndex=t)}}}return i.\u0275fac=function(e){Ha()},i.\u0275dir=Xe({type:i,viewQuery:function(e,t){if(1&e&&ht(Uoe,5),2&e){let o;Ke(o=Ye())&&(t._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[Re]}),i})(),WL=(()=>{class i extends qoe{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["mat-radio-group"]],contentQueries:function(e,t,o){if(1&e&&fi(o,UL,5),2&e){let s;Ke(s=Ye())&&(t._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[Ct([Koe,{provide:GL,useExisting:i}]),Re]}),i})(),UL=(()=>{class i extends ese{constructor(e,t,o,s,r,a,l,c){super(e,t,o,s,r,a,l,c)}}return i.\u0275fac=function(e){return new(e||i)(P(GL,8),P($e),P(Zt),P(Cs),P(Nw),P(yn,8),P(Yoe,8),cs("tabindex"))},i.\u0275cmp=Fe({type:i,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(e,t){1&e&&ie("focus",function(){return t._inputElement.nativeElement.focus()}),2&e&&(Et("id",t.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),St("mat-primary","primary"===t.color)("mat-accent","accent"===t.color)("mat-warn","warn"===t.color)("mat-mdc-radio-checked",t.checked)("_mat-animation-noopable",t._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[Re],ngContentSelectors:Zoe,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[3,"for"]],template:function(e,t){if(1&e&&(Li(),x(0,"div",0,1)(2,"div",2)(3,"div",3),ie("click",function(s){return t._onTouchTargetClick(s)}),C(),x(4,"input",4,5),ie("change",function(s){return t._onInputInteraction(s)}),C(),x(6,"div",6),me(7,"div",7)(8,"div",8),C(),x(9,"div",9),me(10,"div",10),C()(),x(11,"label",11),Ft(12),C()()),2&e){const o=Qt(1);St("mdc-form-field--align-end","before"==t.labelPosition),_(2),St("mdc-radio--disabled",t.disabled),_(2),g("id",t.inputId)("checked",t.checked)("disabled",t.disabled)("required",t.required),Et("name",t.name)("value",t.value)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby),_(5),g("matRippleTrigger",o)("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",!0),_(2),g("for",t.inputId)}},dependencies:[Vo],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);right:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);left:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-mdc-radio-ripple-color, transparent)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),i})(),ZL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi,Gi,Ir,bi]}),i})();const KL=["*"],tse=["content"];function ise(i,n){if(1&i){const e=Me();x(0,"div",2),ie("click",function(){return he(e),pe(I()._onBackdropClicked())}),C()}2&i&&St("mat-drawer-shown",I()._isShowingBackdrop())}function nse(i,n){1&i&&(x(0,"mat-drawer-content"),Ft(1,2),C())}const ose=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],sse=["mat-drawer","mat-drawer-content","*"],rse={transformDrawer:Co("transform",[_n("open, open-instant",ei({transform:"none",visibility:"visible"})),_n("void",ei({"box-shadow":"none",visibility:"hidden"})),sn("void => open-instant",Qi("0ms")),sn("void <=> open, open-instant => void",Qi("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},ase=new nt("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function lse(){return!1}}),YL=new nt("MAT_DRAWER_CONTAINER");let wf=(()=>{class i extends ef{constructor(e,t,o,s,r){super(o,s,r),this._changeDetectorRef=e,this._container=t}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(P(Zt),P(Si(()=>mv)),P($e),P(Kd),P(Bt))},i.\u0275cmp=Fe({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,t){2&e&&et("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[Ct([{provide:ef,useExisting:i}]),Re],ngContentSelectors:KL,decls:1,vars:0,template:function(e,t){1&e&&(Li(),Ft(0))},encapsulation:2,changeDetection:0}),i})(),pv=(()=>{class i{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=bt(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=bt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(bt(e))}constructor(e,t,o,s,r,a,l,c){this._elementRef=e,this._focusTrapFactory=t,this._focusMonitor=o,this._platform=s,this._ngZone=r,this._interactivityChecker=a,this._doc=l,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new R,this._animationEnd=new R,this._animationState="void",this.openedChange=new tt(!0),this._openedStream=this.openedChange.pipe(ln(A=>A),we(()=>{})),this.openedStart=this._animationStarted.pipe(ln(A=>A.fromState!==A.toState&&0===A.toState.indexOf("open")),L_(void 0)),this._closedStream=this.openedChange.pipe(ln(A=>!A),we(()=>{})),this.closedStart=this._animationStarted.pipe(ln(A=>A.fromState!==A.toState&&"void"===A.toState),L_(void 0)),this._destroyed=new R,this.onPositionChanged=new tt,this._modeChanged=new R,this.openedChange.subscribe(A=>{A?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ja(this._elementRef.nativeElement,"keydown").pipe(ln(A=>27===A.keyCode&&!this.disableClose&&!fo(A)),hi(this._destroyed)).subscribe(A=>this._ngZone.run(()=>{this.close(),A.stopPropagation(),A.preventDefault()}))}),this._animationEnd.pipe(Nh((A,D)=>A.fromState===D.fromState&&A.toState===D.toState)).subscribe(A=>{const{fromState:D,toState:te}=A;(0===te.indexOf("open")&&"void"===D||"void"===te&&0===D.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(t)}_focusByCssSelector(e,t){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,t)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(t=>{!t&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,t){e&&t&&(this._openedVia=t);const o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,t,o){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",t&&this._restoreFocus(o)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(mn(1)).subscribe(r=>s(r?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const t=this._elementRef.nativeElement,o=t.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,t)),o.appendChild(t)):this._anchor&&this._anchor.parentNode.insertBefore(t,this._anchor)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Km),P(Cs),P(Mn),P(Bt),P(Zm),P(pi,8),P(YL,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-drawer"]],viewQuery:function(e,t){if(1&e&&ht(tse,5),2&e){let o;Ke(o=Ye())&&(t._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,t){1&e&&Xp("@transform.start",function(s){return t._animationStarted.next(s)})("@transform.done",function(s){return t._animationEnd.next(s)}),2&e&&(Et("align",null),Qp("@transform",t._animationState),St("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:KL,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,t){1&e&&(Li(),x(0,"div",0,1),Ft(2),C())},dependencies:[ef],encapsulation:2,data:{animation:[rse.transformDrawer]},changeDetection:0}),i})(),mv=(()=>{class i{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=bt(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:bt(e)}get scrollable(){return this._userContent||this._content}constructor(e,t,o,s,r,a=!1,l){this._dir=e,this._element=t,this._ngZone=o,this._changeDetectorRef=s,this._animationMode=l,this._drawers=new Ml,this.backdropClick=new tt,this._destroyed=new R,this._doCheckSubject=new R,this._contentMargins={left:null,right:null},this._contentMarginChanges=new R,e&&e.change.pipe(hi(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),r.change().pipe(hi(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(Zn(this._allDrawers),hi(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Zn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Lh(10),hi(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const o=this._left._getWidth();e+=o,t-=o}if(this._right&&this._right.opened)if("side"==this._right.mode)t+=this._right._getWidth();else if("push"==this._right.mode){const o=this._right._getWidth();t+=o,e-=o}e=e||null,t=t||null,(e!==this._contentMargins.left||t!==this._contentMargins.right)&&(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(ln(t=>t.fromState!==t.toState),hi(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(hi(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(hi(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(mn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(hi(Yi(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const t=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?t.add(o):t.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return i.\u0275fac=function(e){return new(e||i)(P(Hn,8),P($e),P(Bt),P(Zt),P(Gr),P(ase),P(yn,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(e,t,o){if(1&e&&(fi(o,wf,5),fi(o,pv,5)),2&e){let s;Ke(s=Ye())&&(t._content=s.first),Ke(s=Ye())&&(t._allDrawers=s)}},viewQuery:function(e,t){if(1&e&&ht(wf,5),2&e){let o;Ke(o=Ye())&&(t._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,t){2&e&&St("mat-drawer-container-explicit-backdrop",t._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ct([{provide:YL,useExisting:i}])],ngContentSelectors:sse,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,t){1&e&&(Li(ose),$(0,ise,1,2,"div",0),Ft(1),Ft(2,1),$(3,nse,2,0,"mat-drawer-content",1)),2&e&&(g("ngIf",t.hasBackdrop),_(3),g("ngIf",!t._content))},dependencies:[ct,wf],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),i})(),q1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,bi,zl,zl,bi]}),i})();const cse=["switch"],dse=["*"],use=new nt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),hse={provide:go,useExisting:Si(()=>qL),multi:!0};class XL{constructor(n,e){this.source=n,this.checked=e}}let pse=0;const mse=Cc(Bl(qa(Xa(class{constructor(i){this._elementRef=i}}))));let fse=(()=>{class i extends mse{get required(){return this._required}set required(e){this._required=bt(e)}get checked(){return this._checked}set checked(e){this._checked=bt(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,t,o,s,r,a,l){super(e),this._focusMonitor=t,this._changeDetectorRef=o,this.defaults=r,this._onChange=c=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new tt,this.toggleChange=new tt,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=r.color||"accent",this._noopAnimations="NoopAnimations"===a,this.id=this._uniqueId=`${l}${++pse}`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return i.\u0275fac=function(e){Ha()},i.\u0275dir=Xe({type:i,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[Re]}),i})(),qL=(()=>{class i extends fse{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(e,t,o,s,r,a){super(e,t,o,s,r,a,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new XL(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(e){return new XL(this,e)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Cs),P(Zt),cs("tabindex"),P(use),P(yn,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(e,t){if(1&e&&ht(cse,5),2&e){let o;Ke(o=Ye())&&(t._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(e,t){2&e&&(ps("id",t.id),Et("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),St("mat-mdc-slide-toggle-focused",t._focused)("mat-mdc-slide-toggle-checked",t.checked)("_mat-animation-noopable",t._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[Ct([hse]),Re],ngContentSelectors:dse,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[3,"for","click"]],template:function(e,t){if(1&e&&(Li(),x(0,"div",0)(1,"button",1,2),ie("click",function(){return t._handleClick()}),me(3,"div",3),x(4,"div",4)(5,"div",5)(6,"div",6),me(7,"div",7),C(),x(8,"div",8),me(9,"div",9),C(),x(10,"div",10),ls(),x(11,"svg",11),me(12,"path",12),C(),x(13,"svg",13),me(14,"path",14),C()()()()(),yl(),x(15,"label",15),ie("click",function(s){return s.stopPropagation()}),Ft(16),C()()),2&e){const o=Qt(2);St("mdc-form-field--align-end","before"==t.labelPosition),_(1),St("mdc-switch--selected",t.checked)("mdc-switch--unselected",!t.checked)("mdc-switch--checked",t.checked)("mdc-switch--disabled",t.disabled),g("tabIndex",t.tabIndex)("disabled",t.disabled),Et("id",t.buttonId)("name",t.name)("aria-label",t.ariaLabel)("aria-labelledby",t._getAriaLabelledBy())("aria-describedby",t.ariaDescribedby)("aria-required",t.required||null)("aria-checked",t.checked),_(8),g("matRippleTrigger",o)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0),_(6),g("for",t.buttonId),Et("id",t._labelId)}},dependencies:[Vo],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}'],encapsulation:2,changeDetection:0}),i})(),JL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({}),i})(),QL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[JL,bi,Ir,Gi,JL,bi]}),i})();const bse=new nt("MAT_SORT_DEFAULT_OPTIONS"),vse=lR(Xa(class{}));let eN=(()=>{class i extends vse{get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=bt(e)}constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new R,this.start="asc",this._direction="",this.sortChange=new tt}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let o=function yse(i,n){let e=["asc","desc"];return"desc"==i&&e.reverse(),n||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=o.indexOf(this.direction)+1;return s>=o.length&&(s=0),o[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return i.\u0275fac=function(e){return new(e||i)(P(bse,8))},i.\u0275dir=Xe({type:i,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[Re,dn]}),i})(),J1=(()=>{class i{constructor(){this.changes=new R}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Cse={provide:J1,deps:[[new _r,new Ba,J1]],useFactory:function xse(i){return i||new J1}};let Q1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[Cse],imports:[Gi,bi]}),i})();const wse=[[["caption"]],[["colgroup"],["col"]]],kse=["caption","colgroup, col"];function ek(i){return class extends i{get sticky(){return this._sticky}set sticky(n){const e=this._sticky;this._sticky=bt(n),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const n=this._hasStickyChanged;return this._hasStickyChanged=!1,n}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...n){super(...n),this._sticky=!1,this._hasStickyChanged=!1}}}const Xh=new nt("CDK_TABLE");let qh=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(P($n))},i.\u0275dir=Xe({type:i,selectors:[["","cdkCellDef",""]]}),i})(),Jh=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(P($n))},i.\u0275dir=Xe({type:i,selectors:[["","cdkHeaderCellDef",""]]}),i})(),fv=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(P($n))},i.\u0275dir=Xe({type:i,selectors:[["","cdkFooterCellDef",""]]}),i})();class Mse{}const Pse=ek(Mse);let Sc=(()=>{class i extends Pse{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const t=this._stickyEnd;this._stickyEnd=bt(e),this._hasStickyChanged=t!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return i.\u0275fac=function(e){return new(e||i)(P(Xh,8))},i.\u0275dir=Xe({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,t,o){if(1&e&&(fi(o,qh,5),fi(o,Jh,5),fi(o,fv,5)),2&e){let s;Ke(s=Ye())&&(t.cell=s.first),Ke(s=Ye())&&(t.headerCell=s.first),Ke(s=Ye())&&(t.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[Ct([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),Re]}),i})();class tk{constructor(n,e){e.nativeElement.classList.add(...n._columnCssClassName)}}let ik=(()=>{class i extends tk{constructor(e,t){super(e,t)}}return i.\u0275fac=function(e){return new(e||i)(P(Sc),P($e))},i.\u0275dir=Xe({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Re]}),i})(),nk=(()=>{class i extends tk{constructor(e,t){if(super(e,t),1===e._table?._elementRef.nativeElement.nodeType){const o=e._table._elementRef.nativeElement.getAttribute("role");t.nativeElement.setAttribute("role","grid"===o||"treegrid"===o?"gridcell":"cell")}}}return i.\u0275fac=function(e){return new(e||i)(P(Sc),P($e))},i.\u0275dir=Xe({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Re]}),i})();class iN{constructor(){this.tasks=[],this.endTasks=[]}}const ok=new nt("_COALESCED_STYLE_SCHEDULER");let nN=(()=>{class i{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new R}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new iN,this._getScheduleObservable().pipe(hi(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new iN;for(const t of e.tasks)t();for(const t of e.endTasks)t()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Dn(Promise.resolve(void 0)):this._ngZone.onStable.pipe(mn(1))}}return i.\u0275fac=function(e){return new(e||i)(Le(Bt))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),sk=(()=>{class i{constructor(e,t){this.template=e,this._differs=t}ngOnChanges(e){if(!this._columnsDiffer){const t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof kf?e.headerCell.template:this instanceof If?e.footerCell.template:e.cell.template}}return i.\u0275fac=function(e){return new(e||i)(P($n),P(Tl))},i.\u0275dir=Xe({type:i,features:[dn]}),i})();class Tse extends sk{}const Ese=ek(Tse);let kf=(()=>{class i extends Ese{constructor(e,t,o){super(e,t),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(P($n),P(Tl),P(Xh,8))},i.\u0275dir=Xe({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Re,dn]}),i})();class Dse extends sk{}const Ose=ek(Dse);let If=(()=>{class i extends Ose{constructor(e,t,o){super(e,t),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(P($n),P(Tl),P(Xh,8))},i.\u0275dir=Xe({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Re,dn]}),i})(),gv=(()=>{class i extends sk{constructor(e,t,o){super(e,t),this._table=o}}return i.\u0275fac=function(e){return new(e||i)(P($n),P(Tl),P(Xh,8))},i.\u0275dir=Xe({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Re]}),i})(),Mc=(()=>{class i{constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}}return i.mostRecentCellOutlet=null,i.\u0275fac=function(e){return new(e||i)(P(Ri))},i.\u0275dir=Xe({type:i,selectors:[["","cdkCellOutlet",""]]}),i})(),rk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Go(0,0)},dependencies:[Mc],encapsulation:2}),i})(),lk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Go(0,0)},dependencies:[Mc],encapsulation:2}),i})(),_v=(()=>{class i{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return i.\u0275fac=function(e){return new(e||i)(P($n))},i.\u0275dir=Xe({type:i,selectors:[["ng-template","cdkNoDataRow",""]]}),i})();const oN=["top","bottom","left","right"];class Rse{constructor(n,e,t,o,s=!0,r=!0,a){this._isNativeHtmlTable=n,this._stickCellCss=e,this.direction=t,this._coalescedStyleScheduler=o,this._isBrowser=s,this._needsPositionStickyOnElement=r,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(n,e){const t=[];for(const o of n)if(o.nodeType===o.ELEMENT_NODE){t.push(o);for(let s=0;s<o.children.length;s++)t.push(o.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const o of t)this._removeStickyStyle(o,e)})}updateStickyColumns(n,e,t,o=!0){if(!n.length||!this._isBrowser||!e.some(te=>te)&&!t.some(te=>te))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=n[0],r=s.children.length,a=this._getCellWidths(s,o),l=this._getStickyStartColumnPositions(a,e),c=this._getStickyEndColumnPositions(a,t),A=e.lastIndexOf(!0),D=t.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const te="rtl"===this.direction,se=te?"right":"left",le=te?"left":"right";for(const ke of n)for(let Pe=0;Pe<r;Pe++){const ze=ke.children[Pe];e[Pe]&&this._addStickyStyle(ze,se,l[Pe],Pe===A),t[Pe]&&this._addStickyStyle(ze,le,c[Pe],Pe===D)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===A?[]:a.slice(0,A+1).map((ke,Pe)=>e[Pe]?ke:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===D?[]:a.slice(D).map((ke,Pe)=>t[Pe+D]?ke:null).reverse()}))})}stickRows(n,e,t){if(!this._isBrowser)return;const o="bottom"===t?n.slice().reverse():n,s="bottom"===t?e.slice().reverse():e,r=[],a=[],l=[];for(let A=0,D=0;A<o.length;A++){if(!s[A])continue;r[A]=D;const te=o[A];l[A]=this._isNativeHtmlTable?Array.from(te.children):[te];const se=te.getBoundingClientRect().height;D+=se,a[A]=se}const c=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let A=0;A<o.length;A++){if(!s[A])continue;const D=r[A],te=A===c;for(const se of l[A])this._addStickyStyle(se,t,D,te)}"top"===t?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:r,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:r,elements:l})})}updateStickyFooterContainer(n,e){if(!this._isNativeHtmlTable)return;const t=n.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(o=>!o)?this._removeStickyStyle(t,["bottom"]):this._addStickyStyle(t,"bottom",0,!1)})}_removeStickyStyle(n,e){for(const o of e)n.style[o]="",n.classList.remove(this._borderCellCss[o]);oN.some(o=>-1===e.indexOf(o)&&n.style[o])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}_addStickyStyle(n,e,t,o){n.classList.add(this._stickCellCss),o&&n.classList.add(this._borderCellCss[e]),n.style[e]=`${t}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){const e={top:100,bottom:10,left:1,right:1};let t=0;for(const o of oN)n.style[o]&&(t+=e[o]);return t?`${t}`:""}_getCellWidths(n,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const t=[],o=n.children;for(let s=0;s<o.length;s++)t.push(o[s].getBoundingClientRect().width);return this._cachedCellWidths=t,t}_getStickyStartColumnPositions(n,e){const t=[];let o=0;for(let s=0;s<n.length;s++)e[s]&&(t[s]=o,o+=n[s]);return t}_getStickyEndColumnPositions(n,e){const t=[];let o=0;for(let s=n.length;s>0;s--)e[s]&&(t[s]=o,o+=n[s]);return t}}const ck=new nt("CDK_SPL");let bv=(()=>{class i{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return i.\u0275fac=function(e){return new(e||i)(P(Ri),P($e))},i.\u0275dir=Xe({type:i,selectors:[["","rowOutlet",""]]}),i})(),vv=(()=>{class i{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return i.\u0275fac=function(e){return new(e||i)(P(Ri),P($e))},i.\u0275dir=Xe({type:i,selectors:[["","headerRowOutlet",""]]}),i})(),yv=(()=>{class i{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return i.\u0275fac=function(e){return new(e||i)(P(Ri),P($e))},i.\u0275dir=Xe({type:i,selectors:[["","footerRowOutlet",""]]}),i})(),xv=(()=>{class i{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return i.\u0275fac=function(e){return new(e||i)(P(Ri),P($e))},i.\u0275dir=Xe({type:i,selectors:[["","noDataRowOutlet",""]]}),i})(),Cv=(()=>{class i{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=bt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=bt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,t,o,s,r,a,l,c,A,D,te,se){this._differs=e,this._changeDetectorRef=t,this._elementRef=o,this._dir=r,this._platform=l,this._viewRepeater=c,this._coalescedStyleScheduler=A,this._viewportRuler=D,this._stickyPositioningListener=te,this._ngZone=se,this._onDestroy=new R,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new tt,this.viewChange=new xo({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,t)=>this.trackBy?this.trackBy(t.dataIndex,t.data):t),this._viewportRuler.change().pipe(hi(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Tb(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const t=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,t,(o,s,r)=>this._getEmbeddedViewArgs(o.item,r),o=>o.item.data,o=>{1===o.operation&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{t.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this._ngZone&&Bt.isInAngularZone()?this._ngZone.onStable.pipe(mn(1),hi(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),o=this._elementRef.nativeElement.querySelector("thead");o&&(o.style.display=e.length?"":"none");const s=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),o=this._elementRef.nativeElement.querySelector("tfoot");o&&(o.style.display=e.length?"":"none");const s=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),t=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...t,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,r)=>{this._addStickyColumnStyles([s],this._headerRowDefs[r])}),this._rowDefs.forEach(s=>{const r=[];for(let a=0;a<t.length;a++)this._renderRows[a].rowDef===s&&r.push(t[a]);this._addStickyColumnStyles(r,s)}),o.forEach((s,r)=>{this._addStickyColumnStyles([s],this._footerRowDefs[r])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],t=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let s=this._data[o];const r=this._getRenderRowsForData(s,o,t.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let a=0;a<r.length;a++){let l=r[a];const c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),e.push(l)}}return e}_getRenderRowsForData(e,t,o){return this._getRowDefs(e,t).map(r=>{const a=o&&o.has(r)?o.get(r):[];if(a.length){const l=a.shift();return l.dataIndex=t,l}return{data:e,rowDef:r,dataIndex:t}})}_cacheColumnDefs(){this._columnDefsByName.clear(),wv(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=wv(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=wv(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=wv(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(r,a)=>r||!!a.getColumnsDiff(),t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),t||o||s}_switchDataSource(e){this._data=[],Tb(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Tb(this.dataSource)?e=this.dataSource.connect(this):Rw(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Ht(this.dataSource)),this._renderChangeSubscription=e.pipe(hi(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,t)=>this._renderRow(this._headerRowOutlet,e,t)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,t)=>this._renderRow(this._footerRowOutlet,e,t)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,t){const o=Array.from(t.columns||[]).map(a=>this._columnDefsByName.get(a)),s=o.map(a=>a.sticky),r=o.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,r,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const t=[];for(let o=0;o<e.viewContainer.length;o++){const s=e.viewContainer.get(o);t.push(s.rootNodes[0])}return t}_getRowDefs(e,t){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(s=>!s.when||s.when(t,e));else{let s=this._rowDefs.find(r=>r.when&&r.when(t,e))||this._defaultRowDef;s&&o.push(s)}return o}_getEmbeddedViewArgs(e,t){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:t}}_renderRow(e,t,o,s={}){const r=e.viewContainer.createEmbeddedView(t.template,s,o);return this._renderCellTemplateForItem(t,s),r}_renderCellTemplateForItem(e,t){for(let o of this._getCellTemplates(e))Mc.mostRecentCellOutlet&&Mc.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,t);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let t=0,o=e.length;t<o;t++){const r=e.get(t).context;r.count=o,r.first=0===t,r.last=t===o-1,r.even=t%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[t].dataIndex,r.renderIndex=t):r.index=this._renderRows[t].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,t=>{const o=this._columnDefsByName.get(t);return e.extractCellTemplate(o)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),t=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const o of t){const s=this._document.createElement(o.tag);s.setAttribute("role","rowgroup");for(const r of o.outlets)s.appendChild(r.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(t,o)=>t||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Rse(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ht()).pipe(hi(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const t=0===this._rowOutlet.viewContainer.length;if(t===this._isShowingNoDataRow)return;const o=this._noDataRowOutlet.viewContainer;if(t){const s=o.createEmbeddedView(e.templateRef),r=s.rootNodes[0];1===s.rootNodes.length&&r?.nodeType===this._document.ELEMENT_NODE&&(r.setAttribute("role","row"),r.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=t}}return i.\u0275fac=function(e){return new(e||i)(P(Tl),P(Zt),P($e),cs("role"),P(Hn,8),P(pi),P(Mn),P(Zd),P(ok),P(Gr),P(ck,12),P(Bt,8))},i.\u0275cmp=Fe({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,t,o){if(1&e&&(fi(o,_v,5),fi(o,Sc,5),fi(o,gv,5),fi(o,kf,5),fi(o,If,5)),2&e){let s;Ke(s=Ye())&&(t._noDataRow=s.first),Ke(s=Ye())&&(t._contentColumnDefs=s),Ke(s=Ye())&&(t._contentRowDefs=s),Ke(s=Ye())&&(t._contentHeaderRowDefs=s),Ke(s=Ye())&&(t._contentFooterRowDefs=s)}},viewQuery:function(e,t){if(1&e&&(ht(bv,7),ht(vv,7),ht(yv,7),ht(xv,7)),2&e){let o;Ke(o=Ye())&&(t._rowOutlet=o.first),Ke(o=Ye())&&(t._headerRowOutlet=o.first),Ke(o=Ye())&&(t._footerRowOutlet=o.first),Ke(o=Ye())&&(t._noDataRowOutlet=o.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,t){2&e&&St("cdk-table-fixed-layout",t.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[Ct([{provide:Xh,useExisting:i},{provide:Zd,useClass:TR},{provide:ok,useClass:nN},{provide:ck,useValue:null}])],ngContentSelectors:kse,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(Li(wse),Ft(0),Ft(1,1),Go(2,0)(3,1)(4,2)(5,3))},dependencies:[bv,vv,yv,xv],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),i})();function wv(i,n){return i.concat(Array.from(n))}let Lse=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[tf]}),i})();const Nse=[[["caption"]],[["colgroup"],["col"]]],Bse=["caption","colgroup, col"];let rN=(()=>{class i extends Cv{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275cmp=Fe({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,t){2&e&&St("mdc-table-fixed-layout",t.fixedLayout)},exportAs:["matTable"],features:[Ct([{provide:Cv,useExisting:i},{provide:Xh,useExisting:i},{provide:ok,useClass:nN},{provide:Zd,useClass:TR},{provide:ck,useValue:null}]),Re],ngContentSelectors:Bse,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(Li(Nse),Ft(0),Ft(1,1),Go(2,0)(3,1)(4,2)(5,3))},dependencies:[bv,vv,yv,xv],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),i})(),dk=(()=>{class i extends qh{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["","matCellDef",""]],features:[Ct([{provide:qh,useExisting:i}]),Re]}),i})(),uk=(()=>{class i extends Jh{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["","matHeaderCellDef",""]],features:[Ct([{provide:Jh,useExisting:i}]),Re]}),i})(),hk=(()=>{class i extends Sc{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[Ct([{provide:Sc,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),Re]}),i})(),pk=(()=>{class i extends ik{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[Re]}),i})(),mk=(()=>{class i extends nk{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[Re]}),i})(),aN=(()=>{class i extends kf{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[Ct([{provide:kf,useExisting:i}]),Re]}),i})(),lN=(()=>{class i extends gv{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[Ct([{provide:gv,useExisting:i}]),Re]}),i})(),cN=(()=>{class i extends rk{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275cmp=Fe({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[Ct([{provide:rk,useExisting:i}]),Re],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Go(0,0)},dependencies:[Mc],encapsulation:2}),i})(),dN=(()=>{class i extends lk{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275cmp=Fe({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[Ct([{provide:lk,useExisting:i}]),Re],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Go(0,0)},dependencies:[Mc],encapsulation:2}),i})(),uN=(()=>{class i extends _v{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["ng-template","matNoDataRow",""]],features:[Ct([{provide:_v,useExisting:i}]),Re]}),i})(),fk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi,Lse,bi]}),i})();class Kse extends PR{get data(){return this._data.value}set data(n){n=Array.isArray(n)?n:[],this._data.next(n),this._renderChangesSubscription||this._filterData(n)}get filter(){return this._filter.value}set filter(n){this._filter.next(n),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(n){this._sort=n,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(n){this._paginator=n,this._updateChangeSubscription()}constructor(n=[]){super(),this._renderData=new xo([]),this._filter=new xo(""),this._internalPageChanges=new R,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,t)=>{const o=e[t];if(GO(o)){const s=Number(o);return s<9007199254740991?s:o}return o},this.sortData=(e,t)=>{const o=t.active,s=t.direction;return o&&""!=s?e.sort((r,a)=>{let l=this.sortingDataAccessor(r,o),c=this.sortingDataAccessor(a,o);const A=typeof l,D=typeof c;A!==D&&("number"===A&&(l+=""),"number"===D&&(c+=""));let te=0;return null!=l&&null!=c?l>c?te=1:l<c&&(te=-1):null!=l?te=1:null!=c&&(te=-1),te*("asc"==s?1:-1)}):e},this.filterPredicate=(e,t)=>{const o=Object.keys(e).reduce((r,a)=>r+e[a]+"\u25ec","").toLowerCase(),s=t.trim().toLowerCase();return-1!=o.indexOf(s)},this._data=new xo(n),this._updateChangeSubscription()}_updateChangeSubscription(){const n=this._sort?Yi(this._sort.sortChange,this._sort.initialized):Ht(null),e=this._paginator?Yi(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ht(null),o=yh([this._data,this._filter]).pipe(we(([a])=>this._filterData(a))),s=yh([o,n]).pipe(we(([a])=>this._orderData(a))),r=yh([s,e]).pipe(we(([a])=>this._pageData(a)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=r.subscribe(a=>this._renderData.next(a))}_filterData(n){return this.filteredData=null==this.filter||""===this.filter?n:n.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(n){return this.sort?this.sortData(n.slice(),this.sort):n}_pageData(n){if(!this.paginator)return n;const e=this.paginator.pageIndex*this.paginator.pageSize;return n.slice(e,e+this.paginator.pageSize)}_updatePaginator(n){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=n,e.pageIndex>0)){const t=Math.ceil(e.length/e.pageSize)-1||0,o=Math.min(e.pageIndex,t);o!==e.pageIndex&&(e.pageIndex=o,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class Yse extends Kse{}function Xse(i,n){}const qse=function(i){return{animationDuration:i}},Jse=function(i,n){return{value:i,params:n}};function Qse(i,n){1&i&&Ft(0)}const Af=["*"],hN=["tabListContainer"],pN=["tabList"],mN=["tabListInner"],fN=["nextPaginator"],gN=["previousPaginator"],ere=["tabBodyWrapper"],tre=["tabHeader"];function ire(i,n){}function nre(i,n){1&i&&$(0,ire,0,0,"ng-template",14),2&i&&g("cdkPortalOutlet",I().$implicit.templateLabel)}function ore(i,n){1&i&&ee(0),2&i&&Je(I().$implicit.textLabel)}function sre(i,n){if(1&i){const e=Me();x(0,"div",6,7),ie("click",function(){const o=he(e),s=o.$implicit,r=o.index,a=I(),l=Qt(1);return pe(a._handleClick(s,l,r))})("cdkFocusChange",function(o){const r=he(e).index;return pe(I()._tabFocusChanged(o,r))}),me(2,"span",8)(3,"div",9),x(4,"span",10)(5,"span",11),$(6,nre,1,1,"ng-template",12),$(7,ore,1,1,"ng-template",null,13,is),C()()()}if(2&i){const e=n.$implicit,t=n.index,o=Qt(1),s=Qt(8),r=I();St("mdc-tab--active",r.selectedIndex===t),g("id",r._getTabLabelId(t))("ngClass",e.labelClass)("disabled",e.disabled)("fitInkBarToContent",r.fitInkBarToContent),Et("tabIndex",r._getTabIndex(t))("aria-posinset",t+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(t))("aria-selected",r.selectedIndex===t)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),_(3),g("matRippleTrigger",o)("matRippleDisabled",e.disabled||r.disableRipple),_(3),g("ngIf",e.templateLabel)("ngIfElse",s)}}function rre(i,n){if(1&i){const e=Me();x(0,"mat-tab-body",15),ie("_onCentered",function(){return he(e),pe(I()._removeTabBodyWrapperHeight())})("_onCentering",function(o){return he(e),pe(I()._setTabBodyWrapperHeight(o))}),C()}if(2&i){const e=n.$implicit,t=n.index,o=I();St("mat-mdc-tab-body-active",o.selectedIndex===t),g("id",o._getTabContentId(t))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",o.animationDuration)("preserveContent",o.preserveContent),Et("tabindex",null!=o.contentTabIndex&&o.selectedIndex===t?o.contentTabIndex:null)("aria-labelledby",o._getTabLabelId(t))}}const are=["mat-tab-nav-bar",""],lre=["mat-tab-link",""],cre={translateTab:Co("translateTab",[_n("center, void, left-origin-center, right-origin-center",ei({transform:"none"})),_n("left",ei({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),_n("right",ei({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),sn("* => left, * => right, left => center, right => center",Qi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),sn("void => left-origin-center",[ei({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Qi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),sn("void => right-origin-center",[ei({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Qi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let dre=(()=>{class i extends or{constructor(e,t,o,s){super(e,t,s),this._host=o,this._centeringSub=z.EMPTY,this._leavingSub=z.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Zn(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(P(Va),P(Ri),P(Si(()=>_N)),P(pi))},i.\u0275dir=Xe({type:i,selectors:[["","matTabBodyHost",""]],features:[Re]}),i})(),ure=(()=>{class i{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,t,o){this._elementRef=e,this._dir=t,this._dirChangeSubscription=z.EMPTY,this._translateTabComplete=new R,this._onCentering=new tt,this._beforeCentering=new tt,this._afterLeavingCenter=new tt,this._onCentered=new tt(!0),this.animationDuration="500ms",this.preserveContent=!1,t&&(this._dirChangeSubscription=t.change.subscribe(s=>{this._computePositionAnimationState(s),o.markForCheck()})),this._translateTabComplete.pipe(Nh((s,r)=>s.fromState===r.fromState&&s.toState===r.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const t=this._isCenterPosition(e.toState);this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const t=this._getLayoutDirection();return"ltr"==t&&e<=0||"rtl"==t&&e>0?"left-origin-center":"right-origin-center"}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Hn,8),P(Zt))},i.\u0275dir=Xe({type:i,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),i})(),_N=(()=>{class i extends ure{constructor(e,t,o){super(e,t,o)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Hn,8),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["mat-tab-body"]],viewQuery:function(e,t){if(1&e&&ht(or,5),2&e){let o;Ke(o=Ye())&&(t._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[Re],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,t){1&e&&(x(0,"div",0,1),ie("@translateTab.start",function(s){return t._onTranslateTabStarted(s)})("@translateTab.done",function(s){return t._translateTabComplete.next(s)}),$(2,Xse,0,0,"ng-template",2),C()),2&e&&g("@translateTab",Ii(3,Jse,t._position,qe(1,qse,t.animationDuration)))},dependencies:[dre],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[cre.translateTab]}}),i})();const hre=new nt("MatTabContent");let pre=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(P($n))},i.\u0275dir=Xe({type:i,selectors:[["","matTabContent",""]],features:[Ct([{provide:hre,useExisting:i}])]}),i})();const mre=new nt("MatTabLabel"),bN=new nt("MAT_TAB");let fre=(()=>{class i extends mq{constructor(e,t,o){super(e,t),this._closestTab=o}}return i.\u0275fac=function(e){return new(e||i)(P($n),P(Ri),P(bN,8))},i.\u0275dir=Xe({type:i,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Ct([{provide:mre,useExisting:i}]),Re]}),i})();const gk="mdc-tab-indicator--active",vN="mdc-tab-indicator--no-transition";class yN{constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar())}alignToElement(n){const e=this._items.find(o=>o.elementRef.nativeElement===n),t=this._currentItem;if(t?.deactivateInkBar(),e){const o=t?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(o),this._currentItem=e}}}function xN(i){return class extends i{constructor(...n){super(...n),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(n){const e=bt(n);this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(n){const e=this.elementRef.nativeElement;if(!n||!e.getBoundingClientRect||!this._inkBarContentElement)return void e.classList.add(gk);const t=e.getBoundingClientRect(),o=n.width/t.width,s=n.left-t.left;e.classList.add(vN),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${o})`),e.getBoundingClientRect(),e.classList.remove(vN),e.classList.add(gk),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(gk)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const n=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=n.createElement("span"),this._inkBarContentElement=n.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const _re=Xa(class{}),bre=xN((()=>{class i extends _re{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275dir=Xe({type:i,features:[Re]}),i})());let CN=(()=>{class i extends bre{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,t){2&e&&(Et("aria-disabled",!!t.disabled),St("mat-mdc-tab-disabled",t.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[Re]}),i})();const vre=Xa(class{}),wN=new nt("MAT_TAB_GROUP");let yre=(()=>{class i extends vre{get content(){return this._contentPortal}constructor(e,t){super(),this._viewContainerRef=e,this._closestTabGroup=t,this.textLabel="",this._contentPortal=null,this._stateChanges=new R,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new $l(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return i.\u0275fac=function(e){return new(e||i)(P(Ri),P(wN,8))},i.\u0275dir=Xe({type:i,viewQuery:function(e,t){if(1&e&&ht($n,7),2&e){let o;Ke(o=Ye())&&(t._implicitContent=o.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[Re,dn]}),i})(),kN=(()=>{class i extends yre{get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275cmp=Fe({type:i,selectors:[["mat-tab"]],contentQueries:function(e,t,o){if(1&e&&(fi(o,pre,7,$n),fi(o,fre,5)),2&e){let s;Ke(s=Ye())&&(t._explicitContent=s.first),Ke(s=Ye())&&(t.templateLabel=s.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[Ct([{provide:bN,useExisting:i}]),Re],ngContentSelectors:Af,decls:1,vars:0,template:function(e,t){1&e&&(Li(),$(0,Qse,1,0,"ng-template"))},encapsulation:2}),i})();const IN=Ka({passive:!0});let AN=(()=>{class i{get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=bt(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=hn(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}constructor(e,t,o,s,r,a,l){this._elementRef=e,this._changeDetectorRef=t,this._viewportRuler=o,this._dir=s,this._ngZone=r,this._platform=a,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new R,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new R,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new tt,this.indexFocused=new tt,r.runOutsideAngular(()=>{Ja(e.nativeElement,"mouseleave").pipe(hi(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Ja(this._previousPaginator.nativeElement,"touchstart",IN).pipe(hi(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ja(this._nextPaginator.nativeElement,"touchstart",IN).pipe(hi(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Ht("ltr"),t=this._viewportRuler.change(150),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Um(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(mn(1)).subscribe(o),Yi(e,t,this._items.changes,this._itemsResized()).pipe(hi(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?xi:this._items.changes.pipe(Zn(this._items),Po(e=>new U(t=>this._ngZone.runOutsideAngular(()=>{const o=new ResizeObserver(s=>t.next(s));return e.forEach(s=>o.observe(s.elementRef.nativeElement)),()=>{o.disconnect()}}))),xw(1),ln(e=>e.some(t=>t.contentRect.width>0&&t.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!fo(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const t=this._items.get(this.focusIndex);t&&!t.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const t=this._tabListContainer.nativeElement;t.scrollLeft="ltr"==this._getLayoutDirection()?0:t.scrollWidth-t.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,t="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(t)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const t=this._items?this._items.toArray()[e]:null;if(!t)return;const o=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:r}=t.elementRef.nativeElement;let a,l;"ltr"==this._getLayoutDirection()?(a=s,l=a+r):(l=this._tabListInner.nativeElement.offsetWidth-s,a=l-r);const c=this.scrollDistance,A=this.scrollDistance+o;a<c?this.scrollDistance-=c-a:l>A&&(this.scrollDistance+=Math.min(l-A,a-c))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,t=e?e.elementRef.nativeElement:null;t?this._inkBar.alignToElement(t):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,t){t&&null!=t.button&&0!==t.button||(this._stopInterval(),wb(650,100).pipe(hi(Yi(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:o,distance:s}=this._scrollHeader(e);(0===s||s>=o)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const t=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(t,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:t,distance:this._scrollDistance}}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt),P(Gr),P(Hn,8),P(Bt),P(Mn),P(yn,8))},i.\u0275dir=Xe({type:i,inputs:{disablePagination:"disablePagination"}}),i})(),wre=(()=>{class i extends AN{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=bt(e)}constructor(e,t,o,s,r,a,l){super(e,t,o,s,r,a,l),this._disableRipple=!1}_itemSelected(e){e.preventDefault()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt),P(Gr),P(Hn,8),P(Bt),P(Mn),P(yn,8))},i.\u0275dir=Xe({type:i,inputs:{disableRipple:"disableRipple"},features:[Re]}),i})(),kre=(()=>{class i extends wre{constructor(e,t,o,s,r,a,l){super(e,t,o,s,r,a,l)}ngAfterContentInit(){this._inkBar=new yN(this._items),super.ngAfterContentInit()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt),P(Gr),P(Hn,8),P(Bt),P(Mn),P(yn,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-tab-header"]],contentQueries:function(e,t,o){if(1&e&&fi(o,CN,4),2&e){let s;Ke(s=Ye())&&(t._items=s)}},viewQuery:function(e,t){if(1&e&&(ht(hN,7),ht(pN,7),ht(mN,7),ht(fN,5),ht(gN,5)),2&e){let o;Ke(o=Ye())&&(t._tabListContainer=o.first),Ke(o=Ye())&&(t._tabList=o.first),Ke(o=Ye())&&(t._tabListInner=o.first),Ke(o=Ye())&&(t._nextPaginator=o.first),Ke(o=Ye())&&(t._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(e,t){2&e&&St("mat-mdc-tab-header-pagination-controls-enabled",t._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==t._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Re],ngContentSelectors:Af,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,t){1&e&&(Li(),x(0,"button",0,1),ie("click",function(){return t._handlePaginatorClick("before")})("mousedown",function(s){return t._handlePaginatorPress("before",s)})("touchend",function(){return t._stopInterval()}),me(2,"div",2),C(),x(3,"div",3,4),ie("keydown",function(s){return t._handleKeydown(s)}),x(5,"div",5,6),ie("cdkObserveContent",function(){return t._onContentChanges()}),x(7,"div",7,8),Ft(9),C()()(),x(10,"button",9,10),ie("mousedown",function(s){return t._handlePaginatorPress("after",s)})("click",function(){return t._handlePaginatorClick("after")})("touchend",function(){return t._stopInterval()}),me(12,"div",2),C()),2&e&&(St("mat-mdc-tab-header-pagination-disabled",t._disableScrollBefore),g("matRippleDisabled",t._disableScrollBefore||t.disableRipple)("disabled",t._disableScrollBefore||null),_(3),St("_mat-animation-noopable","NoopAnimations"===t._animationMode),_(7),St("mat-mdc-tab-header-pagination-disabled",t._disableScrollAfter),g("matRippleDisabled",t._disableScrollAfter||t.disableRipple)("disabled",t._disableScrollAfter||null))},dependencies:[Vo,Wm],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),i})();const _k=new nt("MAT_TABS_CONFIG");let Ire=0;const Are=Bl(qa(class{constructor(i){this._elementRef=i}}),"primary");let Sre=(()=>{class i extends Are{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=bt(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=hn(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=hn(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=bt(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=bt(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const t=this._elementRef.nativeElement.classList;t.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&t.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,t,o,s){super(e),this._changeDetectorRef=t,this._animationMode=s,this._tabs=new Ml,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=z.EMPTY,this._tabLabelSubscription=z.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new tt,this.focusChange=new tt,this.animationDone=new tt,this.selectedTabChange=new tt(!0),this._groupId=Ire++,this.animationDuration=o&&o.animationDuration?o.animationDuration:"500ms",this.disablePagination=!(!o||null==o.disablePagination)&&o.disablePagination,this.dynamicHeight=!(!o||null==o.dynamicHeight)&&o.dynamicHeight,this.contentTabIndex=o?.contentTabIndex??null,this.preserveContent=!!o?.preserveContent}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const t=null==this._selectedIndex;if(!t){this.selectedTabChange.emit(this._createChangeEvent(e));const o=this._tabBodyWrapper.nativeElement;o.style.minHeight=o.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((o,s)=>o.isActive=s===e),t||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((t,o)=>{t.position=o-e,null!=this._selectedIndex&&0==t.position&&!t.origin&&(t.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const t=this._tabs.toArray();let o;for(let s=0;s<t.length;s++)if(t[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,o=t[s];break}!o&&t[e]&&Promise.resolve().then(()=>{t[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Zn(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(t=>t._closestTabGroup===this||!t._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const t=this._tabHeader;t&&(t.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const t=new Pre;return t.index=e,this._tabs&&this._tabs.length&&(t.tab=this._tabs.toArray()[e]),t}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Yi(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const t=this._tabBodyWrapper.nativeElement;t.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(t.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,t,o){t.focusIndex=o,e.disabled||(this.selectedIndex=o)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,t){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=t)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt),P(_k,8),P(yn,8))},i.\u0275dir=Xe({type:i,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[Re]}),i})(),Mre=(()=>{class i extends Sre{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=bt(e),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(e){this._stretchTabs=bt(e)}constructor(e,t,o,s){super(e,t,o,s),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!o||null==o.fitInkBarToContent)&&o.fitInkBarToContent}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt),P(_k,8),P(yn,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-tab-group"]],contentQueries:function(e,t,o){if(1&e&&fi(o,kN,5),2&e){let s;Ke(s=Ye())&&(t._allTabs=s)}},viewQuery:function(e,t){if(1&e&&(ht(ere,5),ht(tre,5)),2&e){let o;Ke(o=Ye())&&(t._tabBodyWrapper=o.first),Ke(o=Ye())&&(t._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:6,hostBindings:function(e,t){2&e&&St("mat-mdc-tab-group-dynamic-height",t.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===t.headerPosition)("mat-mdc-tab-group-stretch-tabs",t.stretchTabs)},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[Ct([{provide:wN,useExisting:i}]),Re],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(e,t){1&e&&(x(0,"mat-tab-header",0,1),ie("indexFocused",function(s){return t._focusChanged(s)})("selectFocusedIndex",function(s){return t.selectedIndex=s}),$(2,sre,9,17,"div",2),C(),x(3,"div",3,4),$(5,rre,1,11,"mat-tab-body",5),C()),2&e&&(g("selectedIndex",t.selectedIndex||0)("disableRipple",t.disableRipple)("disablePagination",t.disablePagination),_(2),g("ngForOf",t._tabs),_(1),St("_mat-animation-noopable","NoopAnimations"===t._animationMode),_(2),g("ngForOf",t._tabs))},dependencies:[Gt,ai,ct,or,Vo,Aw,_N,CN,kre],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-top-width:2px}.mdc-tab-indicator .mdc-tab-indicator__content--icon{height:34px;font-size:34px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-tab.mdc-tab{height:48px;flex-grow:0}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none}.mat-mdc-tab .mdc-tab__text-label{display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-disabled{opacity:.4}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-mdc-tab-header-with-background-background-color, transparent)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab-indicator__content--underline,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),i})();class Pre{}let SN=0,MN=(()=>{class i extends AN{get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const t=this._elementRef.nativeElement.classList;t.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&t.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=bt(e)}constructor(e,t,o,s,r,a,l){super(e,s,r,t,o,a,l),this._disableRipple=!1,this.color="primary"}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe(Zn(null),hi(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const e=this._items.toArray();for(let t=0;t<e.length;t++)if(e[t].active)return this.selectedIndex=t,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=e[t].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Hn,8),P(Bt),P(Zt),P(Gr),P(Mn),P(yn,8))},i.\u0275dir=Xe({type:i,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color",tabPanel:"tabPanel"},features:[Re]}),i})();const Tre=Cc(qa(Xa(class{}))),Ere=xN((()=>{class i extends Tre{get active(){return this._isActive}set active(e){const t=bt(e);t!==this._isActive&&(this._isActive=t,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}constructor(e,t,o,s,r,a){super(),this._tabNavBar=e,this.elementRef=t,this._focusMonitor=r,this._isActive=!1,this.id="mat-tab-link-"+SN++,this.rippleConfig=o||{},this.tabIndex=parseInt(s)||0,"NoopAnimations"===a&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(e){this._tabNavBar.tabPanel&&32===e.keyCode&&this.elementRef.nativeElement.click()}_getAriaControls(){return this._tabNavBar.tabPanel?this._tabNavBar.tabPanel?.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive&&!this.disabled?0:-1:this.tabIndex}}return i.\u0275fac=function(e){return new(e||i)(P(MN),P($e),P(wc,8),cs("tabindex"),P(Cs),P(yn,8))},i.\u0275dir=Xe({type:i,inputs:{active:"active",id:"id"},features:[Re]}),i})());let Sf=(()=>{class i extends MN{get fitInkBarToContent(){return this._fitInkBarToContent.value}set fitInkBarToContent(e){this._fitInkBarToContent.next(bt(e)),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(e){this._stretchTabs=bt(e)}constructor(e,t,o,s,r,a,l,c){super(e,t,o,s,r,a,l),this._fitInkBarToContent=new xo(!1),this._stretchTabs=!0,this.disablePagination=!(!c||null==c.disablePagination)&&c.disablePagination,this.fitInkBarToContent=!(!c||null==c.fitInkBarToContent)&&c.fitInkBarToContent}ngAfterContentInit(){this._inkBar=new yN(this._items),super.ngAfterContentInit()}ngAfterViewInit(){super.ngAfterViewInit()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Hn,8),P(Bt),P(Zt),P(Gr),P(Mn),P(yn,8),P(_k,8))},i.\u0275cmp=Fe({type:i,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(e,t,o){if(1&e&&fi(o,Mf,5),2&e){let s;Ke(s=Ye())&&(t._items=s)}},viewQuery:function(e,t){if(1&e&&(ht(hN,7),ht(pN,7),ht(mN,7),ht(fN,5),ht(gN,5)),2&e){let o;Ke(o=Ye())&&(t._tabListContainer=o.first),Ke(o=Ye())&&(t._tabList=o.first),Ke(o=Ye())&&(t._tabListInner=o.first),Ke(o=Ye())&&(t._nextPaginator=o.first),Ke(o=Ye())&&(t._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-nav-bar","mat-mdc-tab-header"],hostVars:15,hostBindings:function(e,t){2&e&&(Et("role",t._getRole()),St("mat-mdc-tab-header-pagination-controls-enabled",t._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==t._getLayoutDirection())("mat-mdc-tab-nav-bar-stretch-tabs",t.stretchTabs)("mat-primary","warn"!==t.color&&"accent"!==t.color)("mat-accent","accent"===t.color)("mat-warn","warn"===t.color)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{color:"color",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabNavBar","matTabNav"],features:[Re],attrs:are,ngContentSelectors:Af,decls:13,vars:8,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-links"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,t){1&e&&(Li(),x(0,"button",0,1),ie("click",function(){return t._handlePaginatorClick("before")})("mousedown",function(s){return t._handlePaginatorPress("before",s)})("touchend",function(){return t._stopInterval()}),me(2,"div",2),C(),x(3,"div",3,4),ie("keydown",function(s){return t._handleKeydown(s)}),x(5,"div",5,6),ie("cdkObserveContent",function(){return t._onContentChanges()}),x(7,"div",7,8),Ft(9),C()()(),x(10,"button",9,10),ie("mousedown",function(s){return t._handlePaginatorPress("after",s)})("click",function(){return t._handlePaginatorClick("after")})("touchend",function(){return t._stopInterval()}),me(12,"div",2),C()),2&e&&(St("mat-mdc-tab-header-pagination-disabled",t._disableScrollBefore),g("matRippleDisabled",t._disableScrollBefore||t.disableRipple)("disabled",t._disableScrollBefore||null),_(10),St("mat-mdc-tab-header-pagination-disabled",t._disableScrollAfter),g("matRippleDisabled",t._disableScrollAfter||t.disableRipple)("disabled",t._disableScrollAfter||null))},dependencies:[Vo,Wm],styles:[".mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-top-width:2px}.mdc-tab-indicator .mdc-tab-indicator__content--icon{height:34px;font-size:34px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-links{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:flex-end}.mat-mdc-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-mdc-tab-header-with-background-background-color, transparent)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab .mdc-tab__text-label,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mdc-tab-indicator__content--underline,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-focus-indicator::before{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mdc-tab__ripple::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}"],encapsulation:2}),i})(),Mf=(()=>{class i extends Ere{constructor(e,t,o,s,r,a){super(e,t,o,s,r,a),this._destroyed=new R,e._fitInkBarToContent.pipe(hi(this._destroyed)).subscribe(l=>{this.fitInkBarToContent=l})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(P(Sf),P($e),P(wc,8),cs("tabindex"),P(Cs),P(yn,8))},i.\u0275cmp=Fe({type:i,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mdc-tab","mat-mdc-tab-link","mat-mdc-focus-indicator"],hostVars:11,hostBindings:function(e,t){1&e&&ie("focus",function(){return t._handleFocus()})("keydown",function(s){return t._handleKeydown(s)}),2&e&&(Et("aria-controls",t._getAriaControls())("aria-current",t._getAriaCurrent())("aria-disabled",t.disabled)("aria-selected",t._getAriaSelected())("id",t.id)("tabIndex",t._getTabIndex())("role",t._getRole()),St("mat-mdc-tab-disabled",t.disabled)("mdc-tab--active",t.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",active:"active",id:"id"},exportAs:["matTabLink"],features:[Re],attrs:lre,ngContentSelectors:Af,decls:5,vars:2,consts:[[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"]],template:function(e,t){1&e&&(Li(),me(0,"span",0)(1,"div",1),x(2,"span",2)(3,"span",3),Ft(4),C()()),2&e&&(_(1),g("matRippleTrigger",t.elementRef.nativeElement)("matRippleDisabled",t.rippleDisabled))},dependencies:[Vo],styles:['.mat-mdc-tab-link{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-tab-link.mdc-tab{height:48px;flex-grow:0}.mat-mdc-tab-link .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none}.mat-mdc-tab-link .mdc-tab__text-label{display:inline-flex;align-items:center}.mat-mdc-tab-link .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab-link:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab-link.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab-link.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab-link .mat-ripple-element{opacity:.12}.mat-mdc-tab-link.mat-mdc-tab-disabled{pointer-events:none;opacity:.4}.mat-mdc-tab-header.mat-mdc-tab-nav-bar-stretch-tabs .mat-mdc-tab-link{flex-grow:1}.mat-mdc-tab-link::before{margin:5px}@media(max-width: 599px){.mat-mdc-tab-link{min-width:72px}}'],encapsulation:2,changeDetection:0}),i})(),Dre=(()=>{class i{constructor(){this.id="mat-tab-nav-panel-"+SN++}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["mat-tab-nav-panel"]],hostAttrs:["role","tabpanel",1,"mat-mdc-tab-nav-panel"],hostVars:2,hostBindings:function(e,t){2&e&&Et("aria-labelledby",t._activeTabId)("id",t.id)},inputs:{id:"id"},exportAs:["matTabNavPanel"],ngContentSelectors:Af,decls:1,vars:0,template:function(e,t){1&e&&(Li(),Ft(0))},encapsulation:2,changeDetection:0}),i})(),kv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,bi,Hl,Ir,mb,yb,bi]}),i})(),PN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi,bi]}),i})();const Nre={provide:new nt("mat-autocomplete-scroll-strategy"),deps:[ss],useFactory:function Lre(i){return()=>i.scrollStrategies.reposition()}};let bk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[Nre],imports:[td,Ab,bi,Gi,zl,Ab,bi]}),i})();const $re=["knob"],Hre=["valueIndicatorContainer"];function zre(i,n){if(1&i&&(x(0,"div",4,5)(2,"div",6)(3,"span",7),ee(4),C()()()),2&i){const e=I();_(4),Je(e.valueIndicatorText)}}const jre=["trackActive"];function Gre(i,n){if(1&i&&me(0,"div"),2&i){const e=n.$implicit,t=n.index,o=I(3);C0(0===e?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),et("transform",o._calcTickMarkTransform(t))}}function Wre(i,n){if(1&i&&(ds(0),$(1,Gre,1,4,"div",11),us()),2&i){const e=I(2);_(1),g("ngForOf",e._tickMarks)}}function Ure(i,n){if(1&i&&(x(0,"div",8,9),$(2,Wre,2,1,"ng-container",10),C()),2&i){const e=I();_(2),g("ngIf",e._cachedWidth)}}function Zre(i,n){if(1&i&&me(0,"mat-slider-visual-thumb",7),2&i){const e=I();g("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}const Kre=["*"],Iv=new nt("_MatSlider"),EN=new nt("_MatSliderThumb"),DN=new nt("_MatSliderRangeThumb"),ON=new nt("_MatSliderVisualThumb");let Yre=(()=>{class i{constructor(e,t,o,s){this._cdr=e,this._ngZone=t,this._slider=s,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=r=>{if(this._sliderInput._isFocused)return;const a=this._hostElement.getBoundingClientRect(),l=this._isSliderThumbHovered(r,a);this._isHovered=l,l?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=()=>{this._isActive=!0,this._showActiveRipple()},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=o.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const e=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{e.addEventListener("pointermove",this._onPointerMove),e.addEventListener("pointerdown",this._onDragStart),e.addEventListener("pointerup",this._onDragEnd),e.addEventListener("pointerleave",this._onMouseLeave),e.addEventListener("focus",this._onFocus),e.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const e=this._sliderInputEl;e.removeEventListener("pointermove",this._onPointerMove),e.removeEventListener("pointerdown",this._onDragStart),e.removeEventListener("pointerup",this._onDragEnd),e.removeEventListener("pointerleave",this._onMouseLeave),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return 0===e?.state||1===e?.state}_showRipple(e,t){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||t))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const t=this._getSibling();t._isShowingAnyRipple()||(this._hideValueIndicator(),t._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}_isSliderThumbHovered(e,t){const o=t.width/2,l=e.clientY-(t.y+o);return Math.pow(e.clientX-(t.x+o),2)+Math.pow(l,2)<Math.pow(o,2)}}return i.\u0275fac=function(e){return new(e||i)(P(Zt),P(Bt),P($e),P(Iv))},i.\u0275cmp=Fe({type:i,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(e,t){if(1&e&&(ht(Vo,5),ht($re,5),ht(Hre,5)),2&e){let o;Ke(o=Ye())&&(t._ripple=o.first),Ke(o=Ye())&&(t._knob=o.first),Ke(o=Ye())&&(t._valueIndicatorContainer=o.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[Ct([{provide:ON,useExisting:i}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(e,t){1&e&&($(0,zre,5,1,"div",0),me(1,"div",1,2)(3,"div",3)),2&e&&(g("ngIf",t.discrete),_(3),g("matRippleDisabled",!0))},dependencies:[ct,Vo],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0}),i})();const Xre=Bl(qa(class{constructor(i){this._elementRef=i}}),"primary");let qre=(()=>{class i extends Xre{get disabled(){return this._disabled}set disabled(e){this._disabled=bt(e);const t=this._getInput(2),o=this._getInput(1);t&&(t.disabled=this._disabled),o&&(o.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(e){this._discrete=bt(e),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(e){this._showTickMarks=bt(e)}get min(){return this._min}set min(e){const t=hn(e,this._min);this._min!==t&&this._updateMin(t)}_updateMin(e){const t=this._min;this._min=e,this._isRange?this._updateMinRange({old:t,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){const t=this._getInput(2),o=this._getInput(1),s=t.value,r=o.value;o.min=e.new,t.min=Math.max(e.new,o.value),o.max=Math.min(t.max,t.value),o._updateWidthInactive(),t._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(t,o):this._onTranslateXChangeBySideEffect(o,t),s!==t.value&&this._onValueChange(t),r!==o.value&&this._onValueChange(o)}_updateMinNonRange(e){const t=this._getInput(2);if(t){const o=t.value;t.min=e,t._updateThumbUIByValue(),this._updateTrackUI(t),o!==t.value&&this._onValueChange(t)}}get max(){return this._max}set max(e){const t=hn(e,this._max);this._max!==t&&this._updateMax(t)}_updateMax(e){const t=this._max;this._max=e,this._isRange?this._updateMaxRange({old:t,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){const t=this._getInput(2),o=this._getInput(1),s=t.value,r=o.value;t.max=e.new,o.max=Math.min(e.new,t.value),t.min=o.value,t._updateWidthInactive(),o._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(o,t):this._onTranslateXChangeBySideEffect(t,o),s!==t.value&&this._onValueChange(t),r!==o.value&&this._onValueChange(o)}_updateMaxNonRange(e){const t=this._getInput(2);if(t){const o=t.value;t.max=e,t._updateThumbUIByValue(),this._updateTrackUI(t),o!==t.value&&this._onValueChange(t)}}get step(){return this._step}set step(e){const t=hn(e,this._step);this._step!==t&&this._updateStep(t)}_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const e=this._getInput(2),t=this._getInput(1),o=e.value,s=t.value,r=t.value;e.min=this._min,t.max=this._max,e.step=this._step,t.step=this._step,this._platform.SAFARI&&(e.value=e.value,t.value=t.value),e.min=Math.max(this._min,t.value),t.max=Math.min(this._max,e.value),t._updateWidthInactive(),e._updateWidthInactive(),e.value<r?this._onTranslateXChangeBySideEffect(t,e):this._onTranslateXChangeBySideEffect(e,t),o!==e.value&&this._onValueChange(e),s!==t.value&&this._onValueChange(t)}_updateStepNonRange(){const e=this._getInput(2);if(e){const t=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),t!==e.value&&this._onValueChange(e)}}constructor(e,t,o,s,r,a,l){super(s),this._ngZone=e,this._cdr=t,this._platform=o,this._dir=r,this._globalRippleOptions=a,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=0,this.displayWith=c=>`${c}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===l,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const e=this._getInput(2),t=this._getInput(1);this._isRange=!!e&&!!t,this._cdr.detectChanges();const o=this._getThumb(2);this._rippleRadius=o._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(e,t):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,t){e.initProps(),e.initUI(),t.initProps(),t.initUI(),e._updateMinMax(),t._updateMinMax(),e._updateStaticStyles(),t._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),t._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const e=this._getInput(2),t=this._getInput(1);e._setIsLeftThumb(),t._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),t.translateX=t._calcTranslateXByValue(),e._updateStaticStyles(),t._updateStaticStyles(),e._updateWidthInactive(),t._updateWidthInactive(),e._updateThumbUIByValue(),t._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(e=2){const t=this._getInput(e);return t?t.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){const t=this._trackActive.nativeElement.style,o=e.left!==t.left&&e.right!==t.right;t.left=e.left,t.right=e.right,t.transformOrigin=e.transformOrigin,o?(this._elementRef.nativeElement.classList.add("mat-mdc-slider-disable-track-animation"),this._ngZone.onStable.pipe(mn(1)).subscribe(()=>{this._elementRef.nativeElement.classList.remove("mat-mdc-slider-disable-track-animation"),t.transform=e.transform})):t.transform=e.transform}_calcTickMarkTransform(e){return`translateX(${e*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,t){this._hasViewInitialized&&(e._updateThumbUIByValue(),t._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const e=this._getInput(2),t=this._getInput(1);e._updateThumbUIByValue(),t._updateThumbUIByValue(),e._updateStaticStyles(),t._updateStaticStyles(),e._updateMinMax(),t._updateMinMax(),e._updateWidthInactive(),t._updateWidthInactive()}else{const e=this._getInput(2);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const e=this._getInput(1),t=this._getInput(2);return!(!e||!t)&&t.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){const t=e.getSibling(),o=this._getThumb(e.thumbPosition);this._getThumb(t.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),o._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){this._skipUpdate()||(this._getThumb(2===e.thumbPosition?2:1)._hostElement.style.transform=`translateX(${e.translateX}px)`)}_updateValueIndicatorUI(e){if(this._skipUpdate())return;const t=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext=t:e._hostElement.setAttribute("aria-valuetext",t),this.discrete){1===e.thumbPosition?this.startValueIndicatorText=t:this.endValueIndicatorText=t;const o=this._getThumb(e.thumbPosition);t.length<3?o._hostElement.classList.add("mdc-slider__thumb--short-value"):o._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const e=this._getInput(2),t=this._getInput(1);e&&this._updateValueIndicatorUI(e),t&&this._updateValueIndicatorUI(t)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const e=this._step&&this._step>0?this._step:1,o=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*o-6}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){const t=e.getSibling();if(!t||!this._cachedWidth)return;const o=Math.abs(t.translateX-e.translateX)/this._cachedWidth;this._setTrackActiveStyles(e._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-t.translateX+"px",transformOrigin:"right",transform:`scaleX(${o})`}:{left:`${t.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${o})`})}_updateTrackUINonRange(e){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(e){const t=this._getValue();let o=Math.max(Math.round((t-this.min)/e),0),s=Math.max(Math.round((this.max-t)/e),0);this._isRtl?o++:s++,this._tickMarks=Array(o).fill(0).concat(Array(s).fill(1))}_updateTickMarkUIRange(e){const t=this._getValue(),o=this._getValue(1),s=Math.max(Math.floor((o-this.min)/e),0),r=Math.max(Math.floor((t-o)/e)+1,0),a=Math.max(Math.floor((this.max-t)/e),0);this._tickMarks=Array(s).fill(1).concat(Array(r).fill(0),Array(a).fill(1))}_getInput(e){return 2===e&&this._input?this._input:this._inputs?.length?1===e?this._inputs.first:this._inputs.last:void 0}_getThumb(e){return 2===e?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}}return i.\u0275fac=function(e){return new(e||i)(P(Bt),P(Zt),P(Mn),P($e),P(Hn,8),P(wc,8),P(yn,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-slider"]],contentQueries:function(e,t,o){if(1&e&&(fi(o,EN,5),fi(o,DN,4)),2&e){let s;Ke(s=Ye())&&(t._input=s.first),Ke(s=Ye())&&(t._inputs=s)}},viewQuery:function(e,t){if(1&e&&(ht(jre,5),ht(ON,5)),2&e){let o;Ke(o=Ye())&&(t._trackActive=o.first),Ke(o=Ye())&&(t._thumbs=o)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(e,t){2&e&&St("mdc-slider--range",t._isRange)("mdc-slider--disabled",t.disabled)("mdc-slider--discrete",t.discrete)("mdc-slider--tick-marks",t.showTickMarks)("_mat-animation-noopable",t._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[Ct([{provide:Iv,useExisting:i}]),Re],ngContentSelectors:Kre,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(Li(),Ft(0),x(1,"div",0),me(2,"div",1),x(3,"div",2),me(4,"div",3,4),C(),$(6,Ure,3,1,"div",5),C(),$(7,Zre,1,3,"mat-slider-visual-thumb",6),me(8,"mat-slider-visual-thumb",7)),2&e&&(_(6),g("ngIf",t.showTickMarks),_(1),g("ngIf",t._isRange),_(1),g("discrete",t.discrete)("thumbPosition",2)("valueIndicatorText",t.endValueIndicatorText))},dependencies:[ai,ct,Yre],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:0;margin:0;height:100%;opacity:0;pointer-events:none;position:absolute;top:0;width:100%}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),i})();const Qre={provide:go,useExisting:Si(()=>vk),multi:!0};let vk=(()=>{class i{get value(){return hn(this._hostElement.value)}set value(e){const t=hn(e).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=t,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges()):this._initialValue=t}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}get min(){return hn(this._hostElement.min)}set min(e){this._hostElement.min=hn(e).toString(),this._cdr.detectChanges()}get max(){return hn(this._hostElement.max)}set max(e){this._hostElement.max=hn(e).toString(),this._cdr.detectChanges()}get step(){return hn(this._hostElement.step)}set step(e){this._hostElement.step=hn(e).toString(),this._cdr.detectChanges()}get disabled(){return bt(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=bt(e),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(e){this._isFocused=e}constructor(e,t,o,s){this._ngZone=e,this._elementRef=t,this._cdr=o,this._slider=s,this.valueChange=new tt,this.dragStart=new tt,this.dragEnd=new tt,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new R,this._skipUIUpdate=!1,this._onChangeFn=()=>{},this._onTouchedFn=()=>{},this._hostElement=t.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){this.disabled||0!==e.button||(this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value})))}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){const t=e.clientX-this._slider._cachedLeft,o=this._slider._cachedWidth,s=0===this._slider.step?1:this._slider.step,r=Math.floor((this._slider.max-this._slider.min)/s),c=Math.round((this._slider._isRtl?1-t/o:t/o)*r)/r*(this._slider.max-this._slider.min)+this._slider.min,A=Math.round(c/s)*s;if(A===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation}));this.value=A,this.valueChange.emit(this.value),this._onChangeFn(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive()))}_clamp(e){return Math.max(Math.min(e,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,t){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(t)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){this.value=e}registerOnChange(e){this._onChangeFn=e}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}}return i.\u0275fac=function(e){return new(e||i)(P(Bt),P($e),P(Zt),P(Iv))},i.\u0275dir=Xe({type:i,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(e,t){1&e&&ie("change",function(){return t._onChange()})("input",function(){return t._onInput()})("blur",function(){return t._onBlur()})("focus",function(){return t._onFocus()}),2&e&&Et("aria-valuetext",t._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[Ct([Qre,{provide:EN,useExisting:i}])]}),i})(),RN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bi,Gi,Ir]}),i})();var iae=ec(623);const nae=["jsonEditorContainer"];class As{constructor(){this.enableSort=!0,this.enableTransform=!0,this.escapeUnicode=!1,this.expandAll=!1,this.sortObjectKeys=!1,this.history=!0,this.mode="tree",this.search=!0,this.indentation=2}}let ya=(()=>{class i{constructor(){this.id="angjsoneditor"+Math.floor(1e6*Math.random()),this.disabled=!1,this.isFocused=!1,this.optionsChanged=!1,this._data={},this.options=new As,this.debug=!1,this.change=new tt,this.jsonChange=new tt,this.onTouched=()=>{},this.onChangeModel=e=>{}}set data(e){this._data=e,this.editor&&(this.editor.destroy(),this.ngOnInit())}ngOnInit(){let e=this.options;!this.optionsChanged&&this.editor&&(e=this.editor.options),!this.options.onChangeJSON&&this.jsonChange&&(this.options.onChangeJSON=this.onChangeJSON.bind(this)),!this.options.onChange&&this.change&&(this.options.onChange=this.onChange.bind(this));const t=Object.assign({},e);delete t.expandAll,this.debug&&console.log(t,this._data),this.jsonEditorContainer.nativeElement||console.error("Can't find the ElementRef reference for jsoneditor)"),("text"===t.mode||"code"===t.mode)&&(t.onChangeJSON=null),this.editor=new iae(this.jsonEditorContainer.nativeElement,t,this._data),this.options.expandAll&&this.editor.expandAll()}ngOnDestroy(){this.destroy()}writeValue(e){this.data=e}registerOnChange(e){this.onChangeModel=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}onChange(e){if(this.editor)try{const t=this.editor.get();this.onChangeModel(t),this.change.emit(t)}catch(t){this.debug&&console.log(t)}}onChangeJSON(e){if(this.editor)try{this.jsonChange.emit(this.editor.get())}catch(t){this.debug&&console.log(t)}}collapseAll(){this.editor.collapseAll()}expandAll(){this.editor.expandAll()}focus(){this.editor.focus()}get(){return this.editor.get()}getMode(){return this.editor.getMode()}getName(){return this.editor.getName()}getText(){return this.editor.getText()}set(e){this.editor.set(e)}setMode(e){this.editor.setMode(e)}setName(e){this.editor.setName(e)}setSelection(e,t){this.editor.setSelection(e,t)}getSelection(){return this.editor.getSelection()}getValidateSchema(){return this.editor.validateSchema}setSchema(e,t){this.editor.setSchema(e,t)}search(e){this.editor.search(e)}setOptions(e){this.editor&&this.editor.destroy(),this.optionsChanged=!0,this.options=e,this.ngOnInit()}update(e){this.editor.update(e)}destroy(){this.editor.destroy()}getEditor(){return this.editor}isValidJson(){try{return JSON.parse(this.getText()),!0}catch{return!1}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["json-editor"]],viewQuery:function(e,t){if(1&e&&ht(nae,7),2&e){let o;Ke(o=Ye())&&(t.jsonEditorContainer=o.first)}},inputs:{options:"options",debug:"debug",data:"data"},outputs:{change:"change",jsonChange:"jsonChange"},features:[Ct([{provide:go,useExisting:Si(()=>i),multi:!0}])],decls:2,vars:1,consts:[[3,"id"],["jsonEditorContainer",""]],template:function(e,t){1&e&&me(0,"div",0,1),2&e&&g("id",t.id)},encapsulation:2,changeDetection:0}),i})(),yk=(()=>{class i{static forRoot(){return{ngModule:i,providers:[]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,el]}),i})();function oae(i,n){1&i&&(x(0,"span",8),Ft(1,1),C())}function sae(i,n){1&i&&(x(0,"span",9),Ft(1,2),C())}const FN=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],LN=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function rae(i,n){1&i&&(x(0,"span",9),Ft(1,1),x(2,"span",10),ls(),x(3,"svg",11),me(4,"path",12),C()()())}function aae(i,n){1&i&&(x(0,"span",13),Ft(1,2),C())}const xk=["*"],Av=new nt("mat-chips-default-options"),Ck=new nt("MatChipAvatar"),wk=new nt("MatChipTrailingIcon"),kk=new nt("MatChipRemove"),Sv=new nt("MatChip");class _ae{}const bae=Cc(_ae,-1);let Qh=(()=>{class i extends bae{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=bt(e)}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,t){super(),this._elementRef=e,this._parentChip=t,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this._allowFocusWhenDisabled=!1,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Sv))},i.\u0275dir=Xe({type:i,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(e,t){1&e&&ie("click",function(s){return t._handleClick(s)})("keydown",function(s){return t._handleKeydown(s)}),2&e&&(Et("tabindex",t._getTabindex())("disabled",t._getDisabledAttribute())("aria-disabled",t.disabled),St("mdc-evolution-chip__action--primary",t._isPrimary)("mdc-evolution-chip__action--presentational",!t.isInteractive)("mdc-evolution-chip__action--trailing",!t._isPrimary))},inputs:{disabled:"disabled",tabIndex:"tabIndex",isInteractive:"isInteractive",_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[Re]}),i})(),VN=(()=>{class i extends Qh{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(e){this.disabled||(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275dir=Xe({type:i,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(e,t){2&e&&Et("aria-hidden",null)},features:[Ct([{provide:kk,useExisting:i}]),Re]}),i})(),xae=0;const Cae=Cc(Bl(qa(Xa(class{constructor(i){this._elementRef=i}})),"primary"),-1);let ep=(()=>{class i extends Cae{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get removable(){return this._removable}set removable(e){this._removable=bt(e)}get highlighted(){return this._highlighted}set highlighted(e){this._highlighted=bt(e)}constructor(e,t,o,s,r,a,l,c){super(t),this._changeDetectorRef=e,this._ngZone=o,this._focusMonitor=s,this._globalRippleOptions=l,this._isRippleCentered=!1,this._onFocus=new R,this._onBlur=new R,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+xae++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._removable=!0,this._highlighted=!1,this.removed=new tt,this.destroyed=new tt,this.basicChipAttrName="mat-basic-chip",this._document=r,this._animationsDisabled="NoopAnimations"===a,null!=c&&(this.tabIndex=parseInt(c)??this.defaultTabIndex),this._monitorFocus()}ngOnInit(){const e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=Yi(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(8===e.keyCode||46===e.keyCode)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(t=>{const o=t._elementRef.nativeElement;return o===e||o.contains(e)})}_getActions(){const e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const t=null!==e;t!==this._hasFocusInternal&&(this._hasFocusInternal=t,t?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(mn(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}}return i.\u0275fac=function(e){return new(e||i)(P(Zt),P($e),P(Bt),P(Cs),P(pi),P(yn,8),P(wc,8),cs("tabindex"))},i.\u0275cmp=Fe({type:i,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,t,o){if(1&e&&(fi(o,Ck,5),fi(o,wk,5),fi(o,kk,5),fi(o,Ck,5),fi(o,wk,5),fi(o,kk,5)),2&e){let s;Ke(s=Ye())&&(t.leadingIcon=s.first),Ke(s=Ye())&&(t.trailingIcon=s.first),Ke(s=Ye())&&(t.removeIcon=s.first),Ke(s=Ye())&&(t._allLeadingIcons=s),Ke(s=Ye())&&(t._allTrailingIcons=s),Ke(s=Ye())&&(t._allRemoveIcons=s)}},viewQuery:function(e,t){if(1&e&&(ht(Vo,5),ht(Qh,5)),2&e){let o;Ke(o=Ye())&&(t.ripple=o.first),Ke(o=Ye())&&(t.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:30,hostBindings:function(e,t){1&e&&ie("keydown",function(s){return t._handleKeydown(s)}),2&e&&(ps("id",t.id),Et("role",t.role)("tabindex",t.role?t.tabIndex:null)("aria-label",t.ariaLabel),St("mdc-evolution-chip",!t._isBasicChip)("mdc-evolution-chip--disabled",t.disabled)("mdc-evolution-chip--with-trailing-action",t._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",t.leadingIcon)("mdc-evolution-chip--with-primary-icon",t.leadingIcon)("mdc-evolution-chip--with-avatar",t.leadingIcon)("mat-mdc-chip-with-avatar",t.leadingIcon)("mat-mdc-chip-highlighted",t.highlighted)("mat-mdc-chip-disabled",t.disabled)("mat-mdc-basic-chip",t._isBasicChip)("mat-mdc-standard-chip",!t._isBasicChip)("mat-mdc-chip-with-trailing-icon",t._hasTrailingIcon())("_mat-animation-noopable",t._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaDescription:["aria-description","ariaDescription"],value:"value",removable:"removable",highlighted:"highlighted"},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[Ct([{provide:Sv,useExisting:i}]),Re],ngContentSelectors:LN,decls:9,vars:6,consts:[["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(e,t){1&e&&(Li(FN),me(0,"span",0)(1,"span",1),x(2,"span",2)(3,"span",3),$(4,oae,2,0,"span",4),x(5,"span",5),Ft(6),me(7,"span",6),C()()(),$(8,sae,2,0,"span",7)),2&e&&(g("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t._isRippleCentered)("matRippleTrigger",t._elementRef.nativeElement),_(3),g("isInteractive",!1),_(1),g("ngIf",t.leadingIcon),_(4),g("ngIf",t._hasTrailingIcon()))},dependencies:[ct,Vo,Qh],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__graphic{height:24px;width:24px;font-size:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__icon--primary{height:24px;width:24px;font-size:24px}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 14px 14px 14px 14px)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size, 28px);width:var(--mdc-chip-with-avatar-avatar-size, 28px);font-size:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width, 1px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-outline-width, 1px)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--selected) .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-unselected-outline-width, 1px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size, 18px);width:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, currentColor)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{width:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),i})(),Ik=(()=>{class i extends ep{constructor(){super(...arguments),this._defaultOptions=di(Av,{optional:!0}),this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListHideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new tt}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=bt(e),this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(e){this._setSelectedState(bt(e),!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){super.ngOnInit(),this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(e=!1){return this._setSelectedState(!this.selected,e,!0),this.selected}_handlePrimaryActionInteraction(){this.selectable&&!this.disabled&&this.toggleSelected(!0)}_hasLeadingGraphic(){return!!this.leadingIcon||!this._chipListHideSingleSelectionIndicator||this._chipListMultiple}_setSelectedState(e,t,o){e!==this.selected&&(this._selected=e,o&&this.selectionChange.emit({source:this,isUserInput:t,selected:this.selected}),this._changeDetectorRef.markForCheck())}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275cmp=Fe({type:i,selectors:[["mat-basic-chip-option"],["","mat-basic-chip-option",""],["mat-chip-option"],["","mat-chip-option",""]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option"],hostVars:37,hostBindings:function(e,t){2&e&&(ps("id",t.id),Et("tabindex",null)("aria-label",null)("aria-description",null)("role",t.role),St("mdc-evolution-chip",!t._isBasicChip)("mdc-evolution-chip--filter",!t._isBasicChip)("mdc-evolution-chip--selectable",!t._isBasicChip)("mat-mdc-chip-selected",t.selected)("mat-mdc-chip-multiple",t._chipListMultiple)("mat-mdc-chip-disabled",t.disabled)("mat-mdc-chip-with-avatar",t.leadingIcon)("mdc-evolution-chip--disabled",t.disabled)("mdc-evolution-chip--selected",t.selected)("mdc-evolution-chip--selecting",!t._animationsDisabled)("mdc-evolution-chip--with-trailing-action",t._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",t.leadingIcon)("mdc-evolution-chip--with-primary-graphic",t._hasLeadingGraphic())("mdc-evolution-chip--with-avatar",t.leadingIcon)("mat-mdc-chip-highlighted",t.highlighted)("mat-mdc-chip-with-trailing-icon",t._hasTrailingIcon()))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",selectable:"selectable",selected:"selected"},outputs:{selectionChange:"selectionChange"},features:[Ct([{provide:ep,useExisting:i},{provide:Sv,useExisting:i}]),Re],ngContentSelectors:LN,decls:11,vars:12,consts:[["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"tabIndex","_allowFocusWhenDisabled"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(e,t){1&e&&(Li(FN),me(0,"span",0)(1,"span",1),x(2,"span",2)(3,"button",3),$(4,rae,5,0,"span",4),x(5,"span",5),Ft(6),me(7,"span",6),C()()(),$(8,aae,2,0,"span",7),x(9,"span",8),ee(10),C()),2&e&&(g("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t._isRippleCentered)("matRippleTrigger",t._elementRef.nativeElement),_(3),g("tabIndex",t.tabIndex)("_allowFocusWhenDisabled",!0),Et("aria-selected",t.ariaSelected)("aria-label",t.ariaLabel)("aria-describedby",t._ariaDescriptionId),_(1),g("ngIf",t._hasLeadingGraphic()),_(4),g("ngIf",t._hasTrailingIcon()),_(1),g("id",t._ariaDescriptionId),_(1),Je(t.ariaDescription))},dependencies:[ct,Vo,Qh],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__graphic{height:24px;width:24px;font-size:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__icon--primary{height:24px;width:24px;font-size:24px}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 14px 14px 14px 14px)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size, 28px);width:var(--mdc-chip-with-avatar-avatar-size, 28px);font-size:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width, 1px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-outline-width, 1px)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--selected) .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-unselected-outline-width, 1px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size, 18px);width:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, currentColor)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{width:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),i})();class wae{constructor(n){}}const kae=Cc(wae);let Ak=(()=>{class i extends kae{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get disabled(){return this._disabled}set disabled(e){this._disabled=bt(e),this._syncChipsState()}get empty(){return 0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,t,o){super(e),this._elementRef=e,this._changeDetectorRef=t,this._dir=o,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new R,this._defaultRole="presentation",this._disabled=!1,this._explicitRole=null,this._chipActions=new Ml}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const e=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=e)}}_getChipStream(e){return this._chips.changes.pipe(Zn(null),Po(()=>Yi(...this._chips.map(e))))}_originatesFromChip(e){let t=e.target;for(;t&&t!==this._elementRef.nativeElement;){if(t.classList.contains("mat-mdc-chip"))return!0;t=t.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(Zn(this._chips)).subscribe(e=>{const t=[];e.forEach(o=>o._getActions().forEach(s=>t.push(s))),this._chipActions.reset(t),this._chipActions.notifyOnChanges()}),this._keyManager=new Um(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(hi(this._destroyed)).subscribe(({chip:e})=>{const t=e._getSourceAction(document.activeElement);t&&this._keyManager.updateActiveItem(t)}),this._dir?.change.pipe(hi(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(Zn(null),hi(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(hi(this._destroyed)).subscribe(e=>{const o=this._chips.toArray().indexOf(e.chip);this._isValidIndex(o)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=o)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),t=this._chips.toArray()[e];t.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():t.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt),P(Hn,8))},i.\u0275cmp=Fe({type:i,selectors:[["mat-chip-set"]],contentQueries:function(e,t,o){if(1&e&&fi(o,ep,5),2&e){let s;Ke(s=Ye())&&(t._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(e,t){1&e&&ie("keydown",function(s){return t._handleKeydown(s)}),2&e&&Et("role",t.role)},inputs:{disabled:"disabled",role:"role"},features:[Re],ngContentSelectors:xk,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(e,t){1&e&&(Li(),x(0,"div",0),Ft(1),C())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),i})();class Iae{constructor(n,e){this.source=n,this.value=e}}const Aae={provide:go,useExisting:Si(()=>Sk),multi:!0};let Sk=(()=>{class i extends Ak{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._defaultOptions=di(Av,{optional:!0}),this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(e,t)=>e===t,this._required=!1,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.change=new tt}get multiple(){return this._multiple}set multiple(e){this._multiple=bt(e),this._syncListboxProperties()}get selected(){const e=this._chips.toArray().filter(t=>t.selected);return this.multiple?e:e[0]}get selectable(){return this._selectable}set selectable(e){this._selectable=bt(e),this._syncListboxProperties()}get required(){return this._required}set required(e){this._required=bt(e)}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=bt(e),this._syncListboxProperties()}get chipSelectionChanges(){return this._getChipStream(e=>e.selectionChange)}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}ngAfterContentInit(){void 0!==this._pendingInitialValue&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(Zn(null),hi(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(hi(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(hi(this._destroyed)).subscribe(e=>{this.multiple||this._chips.forEach(t=>{t!==e.source&&t._setSelectedState(!1,!1,!1)}),e.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;const e=this._getFirstSelectedChip();e&&!e.disabled?e.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(e){this._chips?this._setSelectionByValue(e,!1):null!=e&&(this._pendingInitialValue=e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_setSelectionByValue(e,t=!0){this._clearSelection(),Array.isArray(e)?e.forEach(o=>this._selectValue(o,t)):this._selectValue(e,t)}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_keydown(e){9===e.keyCode&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:void 0,this._value=e,this.change.emit(new Iae(this,e)),this._onChange(e),this._changeDetectorRef.markForCheck()}_clearSelection(e){this._chips.forEach(t=>{t!==e&&t.deselect()})}_selectValue(e,t){const o=this._chips.find(s=>null!=s.value&&this.compareWith(s.value,e));return o&&(t?o.selectViaInteraction():o.select()),o}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(e=>{e._chipListMultiple=this.multiple,e.chipListSelectable=this._selectable,e._chipListHideSingleSelectionIndicator=this.hideSingleSelectionIndicator,e._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(e){return!e.isInteractive}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275cmp=Fe({type:i,selectors:[["mat-chip-listbox"]],contentQueries:function(e,t,o){if(1&e&&fi(o,Ik,5),2&e){let s;Ke(s=Ye())&&(t._chips=s)}},hostAttrs:[1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(e,t){1&e&&ie("focus",function(){return t.focus()})("blur",function(){return t._blur()})("keydown",function(s){return t._keydown(s)}),2&e&&(ps("tabIndex",t.empty?-1:t.tabIndex),Et("role",t.role)("aria-describedby",t._ariaDescribedby||null)("aria-required",t.role?t.required:null)("aria-disabled",t.disabled.toString())("aria-multiselectable",t.multiple)("aria-orientation",t.ariaOrientation),St("mat-mdc-chip-list-disabled",t.disabled)("mat-mdc-chip-list-required",t.required))},inputs:{tabIndex:"tabIndex",multiple:"multiple",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",compareWith:"compareWith",required:"required",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",value:"value"},outputs:{change:"change"},features:[Ct([Aae]),Re],ngContentSelectors:xk,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(e,t){1&e&&(Li(),x(0,"div",0),Ft(1),C())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),i})(),Mk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[Wd,{provide:Av,useValue:{separatorKeyCodes:[13]}}],imports:[bi,Gi,Ir,bi]}),i})();const Pv=new nt("ngx-mask config"),HN=new nt("new ngx-mask config"),zN=new nt("initial ngx-mask config"),Oae={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new tt,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},Rae=["Hh:m0:s0","Hh:m0","m0:s0"],Fae=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let Lae=(()=>{class i{constructor(){this._config=di(Pv),this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.hiddenInput=this._config.hiddenInput,this.clearIfNotMatch=this._config.clearIfNotMatch,this.specialCharacters=this._config.specialCharacters,this.patterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime,this._shift=new Set,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(e,t,o,s)=>{let r=[],a="";if(Array.isArray(o)){const te=new RegExp(o.map(se=>"[\\^$.|?*+()".indexOf(se)>=0?`\\${se}`:se).join("|"));r=e.split(te),a=e.match(te)?.[0]??""}else r=e.split(o),a=o;const l=r.length>1?`${a}${r[1]}`:"";let c=r[0]??"";const A=this.separatorLimit.replace(/\s/g,"");A&&+A&&(c="-"===c[0]?`-${c.slice(1,c.length).slice(0,A.length)}`:c.slice(0,A.length));const D=/(\d+)(\d{3})/;for(;t&&D.test(c);)c=c.replace(D,"$1"+t+"$2");return void 0===s?c+l:0===s?c:c+l.substring(0,s+1)},this.percentage=e=>Number(e)>=0&&Number(e)<=100,this.getPrecision=e=>{const t=e.split(".");return t.length>1?Number(t[t.length-1]):1/0},this.checkAndRemoveSuffix=e=>{for(let t=this.suffix?.length-1;t>=0;t--){const o=this.suffix.substring(t,this.suffix?.length);if(e.includes(o)&&t!==this.suffix?.length-1&&(t-1<0||!e.includes(this.suffix.substring(t-1,this.suffix?.length))))return e.replace(o,"")}return e},this.checkInputPrecision=(e,t,o)=>{if(t<1/0){if(Array.isArray(o)){const l=o.find(c=>c!==this.thousandSeparator);o=l||o[0]}const s=new RegExp(this._charToRegExpExpression(o)+`\\d{${t}}.*$`),r=e.match(s),a=(r&&r[0]?.length)??0;a-1>t&&(e=e.substring(0,e.length-(a-1-t))),0===t&&this._compareOrIncludes(e[e.length-1],o,this.thousandSeparator)&&(e=e.substring(0,e.length-1))}return e}}applyMaskWithPattern(e,t){const[o,s]=t;return this.customPattern=s,this.applyMask(e,o)}applyMask(e,t,o=0,s=!1,r=!1,a=(()=>{})){if(!t||"string"!=typeof e)return"";let l=0,c="",A=!1,D=!1,te=1,se=!1;e.slice(0,this.prefix.length)===this.prefix&&(e=e.slice(this.prefix.length,e.length)),this.suffix&&e?.length>0&&(e=this.checkAndRemoveSuffix(e));const le=e.toString().split("");if("IP"===t){const _t=e.split(".");this.ipError=this._validIP(_t),t="099.099.099.099"}const ke=[];for(let _t=0;_t<e.length;_t++)e[_t]?.match("\\d")&&ke.push(e[_t]??"");if("CPF_CNPJ"===t&&(this.cpfCnpjError=11!==ke.length&&14!==ke.length,t=ke.length>11?"00.000.000/0000-00":"000.000.000-00"),t.startsWith("percent")){if(e.match("[a-z]|[A-Z]")||e.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){e=this._stripToDecimal(e);const _t=this.getPrecision(t);e=this.checkInputPrecision(e,_t,this.decimalMarker)}e.indexOf(".")>0&&!this.percentage(e.substring(0,e.indexOf(".")))&&(e=`${e.substring(0,e.indexOf(".")-1)}${e.substring(e.indexOf("."),e.length)}`),c=this.percentage(e)?e:e.substring(0,e.length-1)}else if(t.startsWith("separator")){(e.match("[w\u0430-\u044f\u0410-\u042f]")||e.match("[\u0401\u0451\u0410-\u044f]")||e.match("[a-z]|[A-Z]")||e.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\]:";<>.?/]/)||e.match("[^A-Za-z0-9,]"))&&(e=this._stripToDecimal(e)),e=e.length>1&&"0"===e[0]&&e[1]!==this.thousandSeparator&&!this._compareOrIncludes(e[1],this.decimalMarker,this.thousandSeparator)&&!r?e.slice(0,e.length-1):e,r&&(e=this._compareOrIncludes(e[e.length-1],this.decimalMarker,this.thousandSeparator)?e.slice(0,e.length-1):e);const _t=this._charToRegExpExpression(this.thousandSeparator);let Nt='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(_t,"");if(Array.isArray(this.decimalMarker))for(const Us of this.decimalMarker)Nt=Nt.replace(this._charToRegExpExpression(Us),"");else Nt=Nt.replace(this._charToRegExpExpression(this.decimalMarker),"");const _i=new RegExp("["+Nt+"]");(e.match(_i)||1===e.length&&this._compareOrIncludes(e,this.decimalMarker,this.thousandSeparator))&&(e=e.substring(0,e.length-1));const An=this.getPrecision(t),Oo=(e=this.checkInputPrecision(e,An,this.decimalMarker)).replace(new RegExp(_t,"g"),"");c=this._formatWithSeparators(Oo,this.thousandSeparator,this.decimalMarker,An);const Es=c.indexOf(",")-e.indexOf(","),zo=c.length-e.length;if(zo>0&&","!==c[o]){D=!0;let Us=0;do{this._shift.add(o+Us),Us++}while(Us<zo)}else 0!==Es&&o>0&&!(c.indexOf(",")>=o&&o>3)||!(c.indexOf(".")>=o&&o>3)&&zo<=0?(this._shift.clear(),D=!0,te=zo,this._shift.add(o+=zo)):this._shift.clear()}else for(let _t=0,Nt=le[0];_t<le.length&&l!==t.length;_t++,Nt=le[_t]??"")if(this._checkSymbolMask(Nt,t[l]??"")&&"?"===t[l+1])c+=Nt,l+=2;else if("*"===t[l+1]&&A&&this._checkSymbolMask(Nt,t[l+2]??""))c+=Nt,l+=3,A=!1;else if(this._checkSymbolMask(Nt,t[l]??"")&&"*"===t[l+1])c+=Nt,A=!0;else if("?"===t[l+1]&&this._checkSymbolMask(Nt,t[l+2]??""))c+=Nt,l+=3;else if(this._checkSymbolMask(Nt,t[l]??"")){if("H"===t[l]&&Number(Nt)>2){l+=1,this._shiftStep(t,l,le.length),_t--,this.leadZeroDateTime&&(c+="0");continue}if("h"===t[l]&&"2"===c&&Number(Nt)>3){l+=1,_t--;continue}if("m"===t[l]&&Number(Nt)>5){l+=1,this._shiftStep(t,l,le.length),_t--,this.leadZeroDateTime&&(c+="0");continue}if("s"===t[l]&&Number(Nt)>5){l+=1,this._shiftStep(t,l,le.length),_t--,this.leadZeroDateTime&&(c+="0");continue}const _i=31;if("d"===t[l]&&(Number(Nt)>3&&this.leadZeroDateTime||Number(e.slice(l,l+2))>_i||"/"===e[l+1])){l+=1,this._shiftStep(t,l,le.length),_t--,this.leadZeroDateTime&&(c+="0");continue}if("M"===t[l]){const Oo=0===l&&(Number(Nt)>2||Number(e.slice(l,l+2))>12||"/"===e[l+1]),Es=e.slice(l-3,l-1).includes("/")&&("/"===e[l-2]&&Number(e.slice(l-1,l+1))>12&&"/"!==e[l]||"/"===e[l]||"/"===e[l-3]&&Number(e.slice(l-2,l))>12&&"/"!==e[l-1]||"/"===e[l-1]),zo=Number(e.slice(l-3,l-1))<=_i&&!e.slice(l-3,l-1).includes("/")&&"/"===e[l-1]&&(Number(e.slice(l,l+2))>12||"/"===e[l+1]),Us=Number(e.slice(l-3,l-1))>_i&&!e.slice(l-3,l-1).includes("/")&&!e.slice(l-2,l).includes("/")&&Number(e.slice(l-2,l))>12,sa=Number(e.slice(l-3,l-1))<=_i&&!e.slice(l-3,l-1).includes("/")&&"/"!==e[l-1]&&Number(e.slice(l-1,l+1))>12;if(Number(Nt)>1&&this.leadZeroDateTime||Oo||Es||zo||Us||sa){l+=1,this._shiftStep(t,l,le.length),_t--,this.leadZeroDateTime&&(c+="0");continue}}c+=Nt,l++}else" "===Nt&&" "===t[l]?(c+=Nt,l++):-1!==this.specialCharacters.indexOf(t[l]??"")?(c+=t[l],l++,this._shiftStep(t,l,le.length),_t--):this.specialCharacters.indexOf(Nt)>-1&&this.patterns[t[l]??""]&&this.patterns[t[l]??""]?.optional?(le[l]&&"099.099.099.099"!==t&&"000.000.000-00"!==t&&"00.000.000/0000-00"!==t&&!t.match(/^9+\.0+$/)&&(c+=le[l]),l++,_t--):"*"===this.maskExpression[l+1]&&this._findSpecialChar(this.maskExpression[l+2]??"")&&this._findSpecialChar(Nt)===this.maskExpression[l+2]&&A||"?"===this.maskExpression[l+1]&&this._findSpecialChar(this.maskExpression[l+2]??"")&&this._findSpecialChar(Nt)===this.maskExpression[l+2]&&A?(l+=3,c+=Nt):this.showMaskTyped&&this.specialCharacters.indexOf(Nt)<0&&Nt!==this.placeHolderCharacter&&(se=!0);c.length+1===t.length&&-1!==this.specialCharacters.indexOf(t[t.length-1]??"")&&(c+=t[t.length-1]);let Pe=o+1;for(;this._shift.has(Pe);)te++,Pe++;let ze=s&&!t.startsWith("separator")?l:this._shift.has(o)?te:0;se&&ze--,a(ze,D),te<0&&this._shift.clear();let at=!1;r&&(at=le.every(_t=>this.specialCharacters.includes(_t)));let it=`${this.prefix}${at?"":c}${this.suffix}`;return 0===c.length&&(it=`${this.prefix}${c}`),it}_findSpecialChar(e){return this.specialCharacters.find(t=>t===e)}_checkSymbolMask(e,t){return this.patterns=this.customPattern?this.customPattern:this.patterns,(this.patterns[t]?.pattern&&this.patterns[t]?.pattern.test(e))??!1}_stripToDecimal(e){return e.split("").filter((t,o)=>{const s="string"==typeof this.decimalMarker?t===this.decimalMarker:this.decimalMarker.includes(t);return t.match("^-?\\d")||t===this.thousandSeparator||s||"-"===t&&0===o&&this.allowNegativeNumbers}).join("")}_charToRegExpExpression(e){return e&&(" "===e?"\\s":"[\\^$.|?*+()".indexOf(e)>=0?`\\${e}`:e)}_shiftStep(e,t,o){const s=/[*?]/g.test(e.slice(0,t))?o:t;this._shift.add(s+this.prefix.length||0)}_compareOrIncludes(e,t,o){return Array.isArray(t)?t.filter(s=>s!==o).includes(e):e===t}_validIP(e){return!(4===e.length&&!e.some((t,o)=>e.length!==o+1?""===t||Number(t)>255:""===t||Number(t.substring(0,3))>255))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),Tv=(()=>{class i extends Lae{constructor(){super(...arguments),this.isNumberValue=!1,this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.triggerOnMaskChange=!1,this.onChange=e=>{},this.document=di(pi),this._config=di(Pv),this._elementRef=di($e,{optional:!0}),this._renderer=di($r,{optional:!0})}applyMask(e,t,o=0,s=!1,r=!1,a=(()=>{})){if(!t)return e!==this.actualValue?this.actualValue:e;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),!e&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const l=e&&"number"==typeof this.selStart?e[this.selStart]??"":"";let c="";if(void 0!==this.hiddenInput&&!this.writingValue){let se=this.actualValue.split("");""!==e&&se.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(e.length>se.length?se.splice(this.selStart,0,l):e.length<se.length&&(se.length-e.length==1?se.splice(this.selStart-1,1):se.splice(this.selStart,this.selEnd-this.selStart))):se=[],this.showMaskTyped&&(e=this.removeMask(e)),c=this.actualValue.length&&se.length<=e.length?this.shiftTypedSymbols(se.join("")):e}this.showMaskTyped&&(e=this.removeMask(e)),c=Boolean(c)&&c.length?c:e;const A=super.applyMask(c,t,o,s,r,a);if(this.actualValue=this.getActualValue(A),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.specialCharacters=this.specialCharacters.filter(se=>!this._compareOrIncludes(se,this.decimalMarker,this.thousandSeparator))),this.formControlResult(A),!this.showMaskTyped)return this.hiddenInput&&A&&A.length?this.hideInput(A,this.maskExpression):A;const D=A.length,te=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const se=this._numberSkipedSymbols(A);return A+te.slice(D+se)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?A+te:A+te.slice(D)}_numberSkipedSymbols(e){const t=/(^|\D)(\d\D)/g;let o=t.exec(e),s=0;for(;null!=o;)s+=1,o=t.exec(e);return s}applyValueChanges(e,t,o,s=(()=>{})){const r=this._elementRef?.nativeElement;r&&(r.value=this.applyMask(r.value,this.maskExpression,e,t,o,s),r!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(e,t){return e.split("").map((o,s)=>this.patterns&&this.patterns[t[s]??""]&&this.patterns[t[s]??""]?.symbol?this.patterns[t[s]??""]?.symbol:o).join("")}getActualValue(e){const t=e.split("").filter((o,s)=>{const r=this.maskExpression[s]??"";return this._checkSymbolMask(o,r)||this.specialCharacters.includes(r)&&o===r});return t.join("")===e?t.join(""):e}shiftTypedSymbols(e){let t="";return(e&&e.split("").map((s,r)=>{if(this.specialCharacters.includes(e[r+1]??"")&&e[r+1]!==this.maskExpression[r+1])return t=s,e[r+1];if(t.length){const a=t;return t="",a}return s})||[]).join("")}numberToString(e){return e||0===e?Number(e).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}):String(e)}showMaskInInput(e){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(e){if("IP"===this.maskExpression)return this._checkForIp(e);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(e)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const e=this._elementRef?.nativeElement;e&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==e.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(e.value,this.maskExpression))}set formElementProperty([e,t]){!this._renderer||!this._elementRef||Promise.resolve().then(()=>this._renderer?.setProperty(this._elementRef?.nativeElement,e,t))}checkSpecialCharAmount(e){return e.split("").filter(o=>this._findSpecialChar(o)).length}removeMask(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(e){if("#"===e)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const t=[];for(let o=0;o<e.length;o++){const s=e[o]??"";s&&s.match("\\d")&&t.push(s)}return t.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>3&&t.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>6&&t.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(e){const t=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,o=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===e)return t;const s=[];for(let r=0;r<e.length;r++){const a=e[r]??"";a&&a.match("\\d")&&s.push(a)}return s.length<=3?t.slice(s.length,t.length):s.length>3&&s.length<=6?t.slice(s.length+1,t.length):s.length>6&&s.length<=9?t.slice(s.length+2,t.length):s.length>9&&s.length<11?t.slice(s.length+3,t.length):11===s.length?"":12===s.length?o.slice(17===e.length?16:15,o.length):s.length>12&&s.length<=14?o.slice(s.length+4,o.length):""}_getActiveElement(e=this.document){const t=e?.activeElement?.shadowRoot;return t?.activeElement?this._getActiveElement(t):e.activeElement}formControlResult(e){this.writingValue||!this.triggerOnMaskChange&&this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(e)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(e)):this._removeSuffix(e))}_toNumber(e){if(!this.isNumberValue||""===e)return e;const t=Number(e);return Number.isNaN(t)?e:t}_removeMask(e,t){return e&&e.replace(this._regExpForRemove(t),"")}_removePrefix(e){return this.prefix?e&&e.replace(this.prefix,""):e}_removeSuffix(e){return this.suffix?e&&e.replace(this.suffix,""):e}_retrieveSeparatorValue(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.specialCharacters)}_regExpForRemove(e){return new RegExp(e.map(t=>`\\${t}`).join("|"),"gi")}_replaceDecimalMarkerToDot(e){const t=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return e.replace(this._regExpForRemove(t),".")}_checkSymbols(e){if(""===e)return e;const t=this._retrieveSeparatorPrecision(this.maskExpression),o=this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(e));return this.isNumberValue?t?e===this.decimalMarker?null:this._checkPrecision(this.maskExpression,o):Number(o):o}_retrieveSeparatorPrecision(e){const t=e.match(new RegExp("^separator\\.([^d]*)"));return t?Number(t[1]):null}_checkPrecision(e,t){return e.indexOf("2")>0?Number(t).toFixed(2):Number(t)}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();function Nae(){const i=di(zN),n=di(HN);return n instanceof Function?{...i,...n()}:{...i,...n}}function jN(i){return[{provide:HN,useValue:i},{provide:zN,useValue:Oae},{provide:Pv,useFactory:Nae},Tv]}let Bae=(()=>{class i{constructor(){this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.triggerOnMaskChange=null,this.maskFilled=new tt,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.document=di(pi),this._maskService=di(Tv,{self:!0}),this._config=di(Pv),this.onChange=e=>{},this.onTouch=()=>{}}ngOnChanges(e){const{maskExpression:t,specialCharacters:o,patterns:s,prefix:r,suffix:a,thousandSeparator:l,decimalMarker:c,dropSpecialCharacters:A,hiddenInput:D,showMaskTyped:te,placeHolderCharacter:se,shownMaskExpression:le,showTemplate:ke,clearIfNotMatch:Pe,validation:ze,separatorLimit:at,allowNegativeNumbers:it,leadZeroDateTime:_t,triggerOnMaskChange:Nt}=e;if(t&&(t.currentValue!==t.previousValue&&!t.firstChange&&(this._maskService.maskChanged=!0),t.currentValue&&t.currentValue.split("||").length>1?(this._maskExpressionArray=t.currentValue.split("||").sort((_i,An)=>_i.length-An.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=t.currentValue||"",this._maskService.maskExpression=this._maskValue)),o){if(!o.currentValue||!Array.isArray(o.currentValue))return;this._maskService.specialCharacters=o.currentValue||[]}s&&s.currentValue&&(this._maskService.patterns=s.currentValue),r&&(this._maskService.prefix=r.currentValue),a&&(this._maskService.suffix=a.currentValue),l&&(this._maskService.thousandSeparator=l.currentValue),c&&(this._maskService.decimalMarker=c.currentValue),A&&(this._maskService.dropSpecialCharacters=A.currentValue),D&&(this._maskService.hiddenInput=D.currentValue),te&&(this._maskService.showMaskTyped=te.currentValue),se&&(this._maskService.placeHolderCharacter=se.currentValue),le&&(this._maskService.shownMaskExpression=le.currentValue),ke&&(this._maskService.showTemplate=ke.currentValue),Pe&&(this._maskService.clearIfNotMatch=Pe.currentValue),ze&&(this._maskService.validation=ze.currentValue),at&&(this._maskService.separatorLimit=at.currentValue),it&&(this._maskService.allowNegativeNumbers=it.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.specialCharacters=this._maskService.specialCharacters.filter(_i=>"-"!==_i))),_t&&(this._maskService.leadZeroDateTime=_t.currentValue),Nt&&(this._maskService.triggerOnMaskChange=Nt.currentValue),this._applyMask()}validate({value:e}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(e);if(this._maskService.cpfCnpjError)return this._createValidationError(e);if(this._maskValue.startsWith("separator")||Fae.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(Rae.includes(this._maskValue))return this._validateTime(e);if(e&&e.toString().length>=1){let t=0;for(const o in this._maskService.patterns)if(this._maskService.patterns[o]?.optional&&(this._maskValue.indexOf(o)!==this._maskValue.lastIndexOf(o)?t+=this._maskValue.split("").filter(r=>r===o).join("").length:-1!==this._maskValue.indexOf(o)&&t++,-1!==this._maskValue.indexOf(o)&&e.toString().length>=this._maskValue.indexOf(o)||t===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&e.toString().length===this._maskValue.length+Number((this._maskValue.split("{")[1]??"").split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&e.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&e.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(e);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const o=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-t:this._maskValue.length-t;if(e.toString().length<o)return this._createValidationError(e)}}return e&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onModelChange(e){(""===e||null==e)&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(e){const t=e.target;if(this._inputValue=t.value,this._setMask(),!this._maskValue)return void this.onChange(t.value);let o=1===t.selectionStart?t.selectionStart+this._maskService.prefix.length:t.selectionStart,s=0,r=!1;if(this._maskService.applyValueChanges(o,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(l,c)=>{this._justPasted=!1,s=l,r=c}),this._getActiveElement()!==t)return;this._maskExpressionArray.length&&(o=1===t.selectionStart?t.selectionStart+this._maskService.prefix.length:t.selectionStart),this._position=1===this._position&&1===this._inputValue.length?null:this._position;let a=this._position?this._inputValue.length+o+s:o+("Backspace"!==this._code||r?s:0);a>this._getActualInputLength()&&(a=this._getActualInputLength()),a<0&&(a=0),t.setSelectionRange(a,a),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(e){if(!this._maskValue)return;const t=e.target;null!==t&&null!==t.selectionStart&&t.selectionStart===t.selectionEnd&&t.selectionStart>this._maskService.prefix.length&&38!==e.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),t.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===t.value?(t.focus(),t.setSelectionRange(0,0)):t.selectionStart>this._maskService.actualValue.length&&t.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const r=t&&(t.value&&t.value!==this._maskService.prefix?t.value:this._maskService.prefix+this._maskService.maskIsShown);t&&t.value!==r&&(t.value=r),t&&(t.selectionStart||t.selectionEnd)<=this._maskService.prefix.length?t.selectionStart=this._maskService.prefix.length:t&&t.selectionEnd>this._getActualInputLength()&&(t.selectionEnd=this._getActualInputLength())}onKeyDown(e){if(!this._maskValue)return;this._code=e.code?e.code:e.key;const t=e.target;if(this._inputValue=t.value,this._setMask(),38===e.keyCode&&e.preventDefault(),37===e.keyCode||8===e.keyCode||46===e.keyCode){if(8===e.keyCode&&0===t.value.length&&(t.selectionStart=t.selectionEnd),8===e.keyCode&&0!==t.selectionStart)if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&t.selectionStart<=this.prefix.length)t.setSelectionRange(this.prefix.length,t.selectionEnd);else if(this._inputValue.length!==t.selectionStart&&1!==t.selectionStart)for(;this.specialCharacters.includes((this._inputValue[t.selectionStart-1]??"").toString())&&(this.prefix.length>=1&&t.selectionStart>this.prefix.length||0===this.prefix.length);)t.setSelectionRange(t.selectionStart-1,t.selectionEnd);this.checkSelectionOnDeletion(t),this._maskService.prefix.length&&t.selectionStart<=this._maskService.prefix.length&&t.selectionEnd<=this._maskService.prefix.length&&e.preventDefault(),8===e.keyCode&&!t.readOnly&&0===t.selectionStart&&t.selectionEnd===t.value.length&&0!==t.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<t.selectionStart?t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===e.keyCode&&e.ctrlKey||65===e.keyCode&&e.metaKey)&&(t.setSelectionRange(0,this._getActualInputLength()),e.preventDefault()),this._maskService.selStart=t.selectionStart,this._maskService.selEnd=t.selectionEnd}writeValue(e){var t=this;return q(function*(){"object"==typeof e&&null!==e&&"value"in e&&("disable"in e&&t.setDisabledState(Boolean(e.disable)),e=e.value),("number"==typeof e||t._maskValue.startsWith("separator"))&&(e=t._maskService.numberToString(e),Array.isArray(t.decimalMarker)||(e="."!==t.decimalMarker?e.replace(".",t.decimalMarker):e),t._maskService.isNumberValue=!0),"string"!=typeof e&&(e=""),t._inputValue=e,t._setMask(),e&&t._maskService.maskExpression||t._maskService.maskExpression&&(t._maskService.prefix||t._maskService.showMaskTyped)?(t._maskService.writingValue=!0,t._maskService.formElementProperty=["value",t._maskService.applyMask(e,t._maskService.maskExpression)],t._maskService.writingValue=!1):t._maskService.formElementProperty=["value",e],t._inputValue=e})()}registerOnChange(e){this._maskService.onChange=this.onChange=e}registerOnTouched(e){this.onTouch=e}_getActiveElement(e=this.document){const t=e?.activeElement?.shadowRoot;return t?.activeElement?this._getActiveElement(t):e.activeElement}checkSelectionOnDeletion(e){e.selectionStart=Math.min(Math.max(this.prefix.length,e.selectionStart),this._inputValue.length-this.suffix.length),e.selectionEnd=Math.min(Math.max(this.prefix.length,e.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(e){this._maskService.formElementProperty=["disabled",e]}_repeatPatternSymbols(e){return e.match(/{[0-9]+}/)&&e.split("").reduce((t,o,s)=>{if(this._start="{"===o?s:this._start,"}"!==o)return this._maskService._findSpecialChar(o)?t+o:t;this._end=s;const r=Number(e.slice(this._start+1,this._end));return t+new Array(r+1).join(e[this._start-1])},"")||e}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(e){const t=this._maskValue.split("").filter(o=>":"!==o).length;return e&&(0==+(e[e.length-1]??-1)&&e.length<t||e.length<=t-2)?this._createValidationError(e):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(e){return{mask:{requiredMask:this._maskValue,actualValue:e}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(e=>{const t=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(e)?.length;if(this._inputValue&&t)return this._maskValue=e,this.maskExpression=e,this._maskService.maskExpression=e,t;this._maskValue=this.maskExpression=this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]??""})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(e,t){1&e&&ie("paste",function(){return t.onPaste()})("ngModelChange",function(s){return t.onModelChange(s)})("input",function(s){return t.onInput(s)})("blur",function(){return t.onBlur()})("click",function(s){return t.onClick(s)})("keydown",function(s){return t.onKeyDown(s)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",triggerOnMaskChange:"triggerOnMaskChange"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],standalone:!0,features:[Ct([{provide:go,useExisting:i,multi:!0},{provide:Eo,useExisting:i,multi:!0},Tv]),dn]}),i})();const GN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pk(i,n,e){for(let t in n)if(n.hasOwnProperty(t)){const o=n[t];o?i.setProperty(t,o,e?.has(t)?"important":""):i.removeProperty(t)}return i}function tp(i,n){const e=n?"":"none";Pk(i.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function WN(i,n,e){Pk(i.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function Ev(i,n){return n&&"none"!=n?i+" "+n:i}function UN(i){const n=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*n}function Tk(i,n){return i.getPropertyValue(n).split(",").map(t=>t.trim())}function Ek(i){const n=i.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function Dk(i,n,e){const{top:t,bottom:o,left:s,right:r}=i;return e>=t&&e<=o&&n>=s&&n<=r}function Pf(i,n,e){i.top+=n,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function ZN(i,n,e,t){const{top:o,right:s,bottom:r,left:a,width:l,height:c}=i,A=l*n,D=c*n;return t>o-D&&t<r+D&&e>a-A&&e<s+A}GN.KeyboardEvent||(GN.KeyboardEvent=function(i,n){});class KN{constructor(n){this._document=n,this.positions=new Map}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Ek(e)})})}handleScroll(n){const e=jr(n),t=this.positions.get(e);if(!t)return null;const o=t.scrollPosition;let s,r;if(e===this._document){const c=this.getViewportScrollPosition();s=c.top,r=c.left}else s=e.scrollTop,r=e.scrollLeft;const a=o.top-s,l=o.left-r;return this.positions.forEach((c,A)=>{c.clientRect&&e!==A&&e.contains(A)&&Pf(c.clientRect,a,l)}),o.top=s,o.left=r,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function YN(i){const n=i.cloneNode(!0),e=n.querySelectorAll("[id]"),t=i.nodeName.toLowerCase();n.removeAttribute("id");for(let o=0;o<e.length;o++)e[o].removeAttribute("id");return"canvas"===t?JN(i,n):("input"===t||"select"===t||"textarea"===t)&&qN(i,n),XN("canvas",i,n,JN),XN("input, textarea, select",i,n,qN),n}function XN(i,n,e,t){const o=n.querySelectorAll(i);if(o.length){const s=e.querySelectorAll(i);for(let r=0;r<o.length;r++)t(o[r],s[r])}}let Hae=0;function qN(i,n){"file"!==n.type&&(n.value=i.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${Hae++}`)}function JN(i,n){const e=n.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch{}}const QN=Ka({passive:!0}),Dv=Ka({passive:!1}),Ok=new Set(["position"]);class jae{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){const e=bt(n);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>tp(t,e)))}constructor(n,e,t,o,s,r){this._config=e,this._document=t,this._ngZone=o,this._viewportRuler=s,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new R,this._pointerMoveSubscription=z.EMPTY,this._pointerUpSubscription=z.EMPTY,this._scrollSubscription=z.EMPTY,this._resizeSubscription=z.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new R,this.started=new R,this.released=new R,this.ended=new R,this.entered=new R,this.exited=new R,this.dropped=new R,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const se=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),le=this._dropContainer;if(!se)return void this._endDragSequence(a);(!le||!le.isDragging()&&!le.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const A=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,D=this._activeTransform;D.x=c.x-A.x+this._passiveTransform.x,D.y=c.y-A.y+this._passiveTransform.y,this._applyRootElementTransform(D.x,D.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new KN(t),r.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(t=>To(t)),this._handles.forEach(t=>tp(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const e=To(n);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Dv),e.addEventListener("touchstart",this._pointerDown,QN),e.addEventListener("dragstart",this._nativeDragStart,Dv)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?To(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),tp(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),tp(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){Tf(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,o=t.parentNode,s=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();o.insertBefore(r,t),this._initialTransform=t.style.transform||"",this._preview=this._createPreviewElement(),WN(t,!1,Ok),this._document.body.appendChild(o.replaceChild(s,t)),this._getPreviewInsertionPoint(o,a).appendChild(this._preview),this.started.next({source:this,event:n}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();const t=this.isDragging(),o=Tf(e),s=!o&&0!==e.button,r=this._rootElement,a=jr(e),l=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=o?bb(e):_b(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),t||s||l||c)return;if(this._handles.length){const te=r.style;this._rootElementTapHighlight=te.webkitTapHighlightColor||"",te.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(te=>this._updateOnScroll(te)),this._boundaryElement&&(this._boundaryRect=Ek(this._boundaryElement));const A=this._previewTemplate;this._pickupPositionInElement=A&&A.template&&!A.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,n,e);const D=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:D.x,y:D.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){WN(this._rootElement,!0,Ok),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,t=e.getItemIndex(this),o=this._getPointerPositionOnPage(n),s=this._getDragDistance(o),r=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:s,dropPoint:o,event:n}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:s,dropPoint:o,event:n}),e.drop(this,t,this._initialIndex,this._initialContainer,r,s,o,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:t,y:o}){let s=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,n,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,o),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,e):this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const n=this._previewTemplate,e=this.previewClass,t=n?n.template:null;let o;if(t&&n){const s=n.matchSize?this._initialClientRect:null,r=n.viewContainer.createEmbeddedView(t,n.context);r.detectChanges(),o=tB(r,this._document),this._previewRef=r,n.matchSize?iB(o,s):o.style.transform=Ov(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=YN(this._rootElement),iB(o,this._initialClientRect),this._initialTransform&&(o.style.transform=this._initialTransform);return Pk(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Ok),tp(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>o.classList.add(s)):o.classList.add(e)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const e=function $ae(i){const n=getComputedStyle(i),e=Tk(n,"transition-property"),t=e.find(a=>"transform"===a||"all"===a);if(!t)return 0;const o=e.indexOf(t),s=Tk(n,"transition-duration"),r=Tk(n,"transition-delay");return UN(s[o])+UN(r[o])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const o=r=>{(!r||jr(r)===this._preview&&"transform"===r.propertyName)&&(this._preview?.removeEventListener("transitionend",o),t(),clearTimeout(s))},s=setTimeout(o,1.5*e);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,e=n?n.template:null;let t;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),t=tB(this._placeholderRef,this._document)):t=YN(this._rootElement),t.style.pointerEvents="none",t.classList.add("cdk-drag-placeholder"),t}_getPointerPositionInElement(n,e,t){const o=e===this._rootElement?null:e,s=o?o.getBoundingClientRect():n,r=Tf(t)?t.targetTouches[0]:t,a=this._getViewportScrollPosition();return{x:s.left-n.left+(r.pageX-s.left-a.left),y:s.top-n.top+(r.pageY-s.top-a.top)}}_getPointerPositionOnPage(n){const e=this._getViewportScrollPosition(),t=Tf(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,o=t.pageX-e.left,s=t.pageY-e.top;if(this._ownerSVGElement){const r=this._ownerSVGElement.getScreenCTM();if(r){const a=this._ownerSVGElement.createSVGPoint();return a.x=o,a.y=s,a.matrixTransform(r.inverse())}}return{x:o,y:s}}_getConstrainedPointerPosition(n){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:t,y:o}=this.constrainPosition?this.constrainPosition(n,this,this._initialClientRect,this._pickupPositionInElement):n;if("x"===this.lockAxis||"x"===e?o=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(t=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:r}=this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),A=a.top+r,D=a.bottom-(c-r);t=eB(t,a.left+s,a.right-(l-s)),o=eB(o,A,D)}return{x:t,y:o}}_updatePointerDirectionDelta(n){const{x:e,y:t}=n,o=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,r=Math.abs(e-s.x),a=Math.abs(t-s.y);return r>this._config.pointerDirectionChangeThreshold&&(o.x=e>s.x?1:-1,s.x=e),a>this._config.pointerDirectionChangeThreshold&&(o.y=t>s.y?1:-1,s.y=t),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,tp(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,Dv),n.removeEventListener("touchstart",this._pointerDown,QN),n.removeEventListener("dragstart",this._nativeDragStart,Dv)}_applyRootElementTransform(n,e){const t=Ov(n,e),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=Ev(t,this._initialTransform)}_applyPreviewTransform(n,e){const t=this._previewTemplate?.template?void 0:this._initialTransform,o=Ov(n,e);this._preview.style.transform=Ev(o,t)}_getDragDistance(n){const e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(0===n&&0===e||this.isDragging()||!this._boundaryElement)return;const t=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(0===o.width&&0===o.height||0===t.width&&0===t.height)return;const s=o.left-t.left,r=t.right-o.right,a=o.top-t.top,l=t.bottom-o.bottom;o.width>t.width?(s>0&&(n+=s),r>0&&(n-=r)):n=0,o.height>t.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){const e=this.dragStartDelay;return"number"==typeof e?e:Tf(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){const e=this._parentPositions.handleScroll(n);if(e){const t=jr(n);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&Pf(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=fw(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){const t=this._previewContainer||"global";if("parent"===t)return n;if("global"===t){const o=this._document;return e||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return To(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}}function Ov(i,n){return`translate3d(${Math.round(i)}px, ${Math.round(n)}px, 0)`}function eB(i,n,e){return Math.max(n,Math.min(e,i))}function Tf(i){return"t"===i.type[0]}function tB(i,n){const e=i.rootNodes;if(1===e.length&&e[0].nodeType===n.ELEMENT_NODE)return e[0];const t=n.createElement("div");return e.forEach(o=>t.appendChild(o)),t}function iB(i,n){i.style.width=`${n.width}px`,i.style.height=`${n.height}px`,i.style.transform=Ov(n.left,n.top)}function Pc(i,n,e){const t=Ef(n,i.length-1),o=Ef(e,i.length-1);if(t===o)return;const s=i[t],r=o<t?-1:1;for(let a=t;a!==o;a+=r)i[a]=i[a+r];i[o]=s}function Ef(i,n){return Math.max(0,Math.min(n,i))}class Wae{constructor(n,e){this._element=n,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(n){this.withItems(n)}sort(n,e,t,o){const s=this._itemPositions,r=this._getItemIndexFromPointerPosition(n,e,t,o);if(-1===r&&s.length>0)return null;const a="horizontal"===this.orientation,l=s.findIndex(Pe=>Pe.drag===n),c=s[r],D=c.clientRect,te=l>r?1:-1,se=this._getItemOffsetPx(s[l].clientRect,D,te),le=this._getSiblingOffsetPx(l,s,te),ke=s.slice();return Pc(s,l,r),s.forEach((Pe,ze)=>{if(ke[ze]===Pe)return;const at=Pe.drag===n,it=at?se:le,_t=at?n.getPlaceholderElement():Pe.drag.getRootElement();Pe.offset+=it,a?(_t.style.transform=Ev(`translate3d(${Math.round(Pe.offset)}px, 0, 0)`,Pe.initialTransform),Pf(Pe.clientRect,0,it)):(_t.style.transform=Ev(`translate3d(0, ${Math.round(Pe.offset)}px, 0)`,Pe.initialTransform),Pf(Pe.clientRect,it,0))}),this._previousSwap.overlaps=Dk(D,e,t),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?o.x:o.y,{previousIndex:l,currentIndex:r}}enter(n,e,t,o){const s=null==o||o<0?this._getItemIndexFromPointerPosition(n,e,t):o,r=this._activeDraggables,a=r.indexOf(n),l=n.getPlaceholderElement();let c=r[s];if(c===n&&(c=r[s+1]),!c&&(null==s||-1===s||s<r.length-1)&&this._shouldEnterAsFirstChild(e,t)&&(c=r[0]),a>-1&&r.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const A=c.getRootElement();A.parentElement.insertBefore(l,A),r.splice(s,0,n)}else To(this._element).appendChild(l),r.push(n);l.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables.forEach(n=>{const e=n.getRootElement();if(e){const t=this._itemPositions.find(o=>o.drag===n)?.initialTransform;e.style.transform=t||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(t=>t.drag===n)}updateOnScroll(n,e){this._itemPositions.forEach(({clientRect:t})=>{Pf(t,n,e)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}_cacheItemPositions(){const n="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:Ek(t)}}).sort((e,t)=>n?e.clientRect.left-t.clientRect.left:e.clientRect.top-t.clientRect.top)}_getItemOffsetPx(n,e,t){const o="horizontal"===this.orientation;let s=o?e.left-n.left:e.top-n.top;return-1===t&&(s+=o?e.width-n.width:e.height-n.height),s}_getSiblingOffsetPx(n,e,t){const o="horizontal"===this.orientation,s=e[n].clientRect,r=e[n+-1*t];let a=s[o?"width":"height"]*t;if(r){const l=o?"left":"top",c=o?"right":"bottom";-1===t?a-=r.clientRect[l]-s[c]:a+=s[l]-r.clientRect[c]}return a}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;const t=this._itemPositions,o="horizontal"===this.orientation;if(t[0].drag!==this._activeDraggables[0]){const r=t[t.length-1].clientRect;return o?n>=r.right:e>=r.bottom}{const r=t[0].clientRect;return o?n<=r.left:e<=r.top}}_getItemIndexFromPointerPosition(n,e,t,o){const s="horizontal"===this.orientation,r=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==n&&((!o||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?o.x:o.y)!==this._previousSwap.delta)&&(s?e>=Math.floor(l.left)&&e<Math.floor(l.right):t>=Math.floor(l.top)&&t<Math.floor(l.bottom))));return-1!==r&&this._sortPredicate(r,n)?r:-1}}const oB=.05;class Uae{constructor(n,e,t,o,s){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new R,this.entered=new R,this.exited=new R,this.dropped=new R,this.sorted=new R,this.receivingStarted=new R,this.receivingStopped=new R,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=z.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new R,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Vae(i=0,n=jm){return i<0&&(i=0),wb(i,i,n)}(0,SR).pipe(hi(this._stopScrollTimers)).subscribe(()=>{const r=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?r.scrollBy(0,-a):2===this._verticalScrollDirection&&r.scrollBy(0,a),1===this._horizontalScrollDirection?r.scrollBy(-a,0):2===this._horizontalScrollDirection&&r.scrollBy(a,0)})},this.element=To(n),this._document=t,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new KN(t),this._sortStrategy=new Wae(this.element,e),this._sortStrategy.withSortPredicate((r,a)=>this.sortPredicate(r,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,t,o){this._draggingStarted(),null==o&&this.sortingDisabled&&(o=this._draggables.indexOf(n)),this._sortStrategy.enter(n,e,t,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,t,o,s,r,a,l={}){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:t,container:this,previousContainer:o,isPointerOverContainer:s,distance:r,dropPoint:a,event:l})}withItems(n){const e=this._draggables;return this._draggables=n,n.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(o=>o.isDragging()).every(o=>-1===n.indexOf(o))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._sortStrategy.direction=n,this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){return this._sortStrategy.orientation=n,this}withScrollableParents(n){const e=To(this.element);return this._scrollableElements=-1===n.indexOf(e)?[e,...n]:n.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,t,o){if(this.sortingDisabled||!this._clientRect||!ZN(this._clientRect,.05,e,t))return;const s=this._sortStrategy.sort(n,e,t,o);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let t,o=0,s=0;if(this._parentPositions.positions.forEach((r,a)=>{a===this._document||!r.clientRect||t||ZN(r.clientRect,.05,n,e)&&([o,s]=function Zae(i,n,e,t){const o=sB(n,t),s=rB(n,e);let r=0,a=0;if(o){const l=i.scrollTop;1===o?l>0&&(r=1):i.scrollHeight-l>i.clientHeight&&(r=2)}if(s){const l=i.scrollLeft;1===s?l>0&&(a=1):i.scrollWidth-l>i.clientWidth&&(a=2)}return[r,a]}(a,r.clientRect,n,e),(o||s)&&(t=a))}),!o&&!s){const{width:r,height:a}=this._viewportRuler.getViewportSize(),l={width:r,height:a,top:0,right:r,bottom:a,left:0};o=sB(l,e),s=rB(l,n),t=window}t&&(o!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=s,this._scrollNode=t,(o||s)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=To(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const n=To(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(n).clientRect}_reset(){this._isDragging=!1;const n=To(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(n,e){return null!=this._clientRect&&Dk(this._clientRect,n,e)}_getSiblingContainerFromPosition(n,e,t){return this._siblings.find(o=>o._canReceive(n,e,t))}_canReceive(n,e,t){if(!this._clientRect||!Dk(this._clientRect,e,t)||!this.enterPredicate(n,this))return!1;const o=this._getShadowRoot().elementFromPoint(e,t);if(!o)return!1;const s=To(this.element);return o===s||s.contains(o)}_startReceiving(n,e){const t=this._activeSiblings;!t.has(n)&&e.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(t.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:e}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(n);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=fw(To(this.element));this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}}function sB(i,n){const{top:e,bottom:t,height:o}=i,s=o*oB;return n>=e-s&&n<=e+s?1:n>=t-s&&n<=t+s?2:0}function rB(i,n){const{left:e,right:t,width:o}=i,s=o*oB;return n>=e-s&&n<=e+s?1:n>=t-s&&n<=t+s?2:0}const Rv=Ka({passive:!1,capture:!0});let Kae=(()=>{class i{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new R,this.pointerUp=new R,this.scroll=new R,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=t}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Rv)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Rv)}startDragging(e,t){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const o=t.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Rv}),o||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:Rv}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,r)=>{this._document.addEventListener(r,s.handler,s.options)})})}}stopDragging(e){const t=this._activeDragInstances.indexOf(e);t>-1&&(this._activeDragInstances.splice(t,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const t=[this.scroll];return e&&e!==this._document&&t.push(new U(o=>this._ngZone.runOutsideAngular(()=>{const r=a=>{this._activeDragInstances.length&&o.next(a)};return e.addEventListener("scroll",r,!0),()=>{e.removeEventListener("scroll",r,!0)}}))),Yi(...t)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)}),this._globalListeners.clear()}}return i.\u0275fac=function(e){return new(e||i)(Le(Bt),Le(pi))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Yae={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Rk=(()=>{class i{constructor(e,t,o,s){this._document=e,this._ngZone=t,this._viewportRuler=o,this._dragDropRegistry=s}createDrag(e,t=Yae){return new jae(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Uae(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return i.\u0275fac=function(e){return new(e||i)(Le(pi),Le(Bt),Le(Gr),Le(Kae))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Fk=new nt("CDK_DRAG_PARENT"),Lk=new nt("CdkDropListGroup");let aB=(()=>{class i{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=bt(e)}ngOnDestroy(){this._items.clear()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=Xe({type:i,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],standalone:!0,features:[Ct([{provide:Lk,useExisting:i}])]}),i})();const lB=new nt("CDK_DRAG_CONFIG");let Xae=0;const cB=new nt("CdkDropList");let Tc=(()=>{class i{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=bt(e)}constructor(e,t,o,s,r,a,l){this.element=e,this._changeDetectorRef=o,this._scrollDispatcher=s,this._dir=r,this._group=a,this._destroyed=new R,this.connectedTo=[],this.id="cdk-drop-list-"+Xae++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new tt,this.entered=new tt,this.exited=new tt,this.sorted=new tt,this._unsortedItems=new Set,this._dropListRef=t.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(c,A)=>this.enterPredicate(c.data,A.data),this._dropListRef.sortPredicate=(c,A,D)=>this.sortPredicate(c,A.data,D.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),a&&a._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=i._dropLists.indexOf(this);e>-1&&i._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Zn(this._dir.value),hi(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const t=Gm(this.connectedTo).map(o=>"string"==typeof o?i._dropLists.find(r=>r.id===o):o);if(this._group&&this._group._items.forEach(o=>{-1===t.indexOf(o)&&t.push(o)}),!this._scrollableParentsResolved){const o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=bt(this.sortingDisabled),e.autoScrollDisabled=bt(this.autoScrollDisabled),e.autoScrollStep=hn(this.autoScrollStep,2),e.connectedTo(t.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),Yi(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){const{lockAxis:t,draggingDisabled:o,sortingDisabled:s,listAutoScrollDisabled:r,listOrientation:a}=e;this.disabled=o??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=r??!1,this.orientation=a||"vertical",t&&(this.lockAxis=t)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return i._dropLists=[],i.\u0275fac=function(e){return new(e||i)(P($e),P(Rk),P(Zt),P(Kd),P(Hn,8),P(Lk,12),P(lB,8))},i.\u0275dir=Xe({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,t){2&e&&(Et("id",t.id),St("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[Ct([{provide:Lk,useValue:void 0},{provide:cB,useExisting:i}])]}),i})();const Nk=new nt("CdkDragHandle");let Ec=(()=>{class i{get disabled(){return this._disabled}set disabled(e){this._disabled=bt(e),this._stateChanges.next(this)}constructor(e,t){this.element=e,this._stateChanges=new R,this._disabled=!1,this._parentDrag=t}ngOnDestroy(){this._stateChanges.complete()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Fk,12))},i.\u0275dir=Xe({type:i,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},standalone:!0,features:[Ct([{provide:Nk,useExisting:i}])]}),i})();const dB=new nt("CdkDragPlaceholder"),uB=new nt("CdkDragPreview");let Bk=(()=>{class i{get matchSize(){return this._matchSize}set matchSize(e){this._matchSize=bt(e)}constructor(e){this.templateRef=e,this._matchSize=!1}}return i.\u0275fac=function(e){return new(e||i)(P($n))},i.\u0275dir=Xe({type:i,selectors:[["ng-template","cdkDragPreview",""]],inputs:{data:"data",matchSize:"matchSize"},standalone:!0,features:[Ct([{provide:uB,useExisting:i}])]}),i})(),Zl=(()=>{class i{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=bt(e),this._dragRef.disabled=this._disabled}constructor(e,t,o,s,r,a,l,c,A,D,te){this.element=e,this.dropContainer=t,this._ngZone=s,this._viewContainerRef=r,this._dir=l,this._changeDetectorRef=A,this._selfHandle=D,this._parentDrag=te,this._destroyed=new R,this.started=new tt,this.released=new tt,this.ended=new tt,this.entered=new tt,this.exited=new tt,this.dropped=new tt,this.moved=new U(se=>{const le=this._dragRef.moved.pipe(we(ke=>({source:this,pointerPosition:ke.pointerPosition,event:ke.event,delta:ke.delta,distance:ke.distance}))).subscribe(se);return()=>{le.unsubscribe()}}),this._dragRef=c.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:a?.zIndex}),this._dragRef.data=this,i._dragInstances.push(this),a&&this._assignDefaults(a),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(mn(1),hi(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const t=e.rootElementSelector,o=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=i._dragInstances.indexOf(this);e>-1&&i._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let t=e;this.rootElementSelector&&(t=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(t||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):To(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,o=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof o&&o?o:hn(o),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(mn(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let t=this.element.nativeElement.parentElement;for(;t;){if(t.classList.contains("cdk-drag")){e.withParent(i._dragInstances.find(o=>o.element.nativeElement===t)?._dragRef||null);break}t=t.parentElement}})}_handleEvents(e){e.started.subscribe(t=>{this.started.emit({source:this,event:t.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(t=>{this.released.emit({source:this,event:t.event})}),e.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event})})}_assignDefaults(e){const{lockAxis:t,dragStartDelay:o,constrainPosition:s,previewClass:r,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:A}=e;this.disabled=l??!1,this.dragStartDelay=o||0,t&&(this.lockAxis=t),s&&(this.constrainPosition=s),r&&(this.previewClass=r),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),A&&(this.previewContainer=A)}_setupHandlesListener(){this._handles.changes.pipe(Zn(this._handles),mo(e=>{const t=e.filter(o=>o._parentDrag===this).map(o=>o.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),Po(e=>Yi(...e.map(t=>t._stateChanges.pipe(Zn(t))))),hi(this._destroyed)).subscribe(e=>{const t=this._dragRef,o=e.element.nativeElement;e.disabled?t.disableHandle(o):t.enableHandle(o)})}}return i._dragInstances=[],i.\u0275fac=function(e){return new(e||i)(P($e),P(cB,12),P(pi),P(Bt),P(Ri),P(lB,8),P(Hn,8),P(Rk),P(Zt),P(Nk,10),P(Fk,12))},i.\u0275dir=Xe({type:i,selectors:[["","cdkDrag",""]],contentQueries:function(e,t,o){if(1&e&&(fi(o,uB,5),fi(o,dB,5),fi(o,Nk,5)),2&e){let s;Ke(s=Ye())&&(t._previewTemplate=s.first),Ke(s=Ye())&&(t._placeholderTemplate=s.first),Ke(s=Ye())&&(t._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,t){2&e&&St("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[Ct([{provide:Fk,useExisting:i}]),dn]}),i})(),Vk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[Rk],imports:[zl]}),i})();const hB=(i,n,e)=>{const[t,o]=i.split("/"),[s,r]=o.split(":");return Date.UTC(e,t-1,s,r)-36e5*n},pB=(i,n,e,t,o)=>{const s=new Date(i).getUTCFullYear(),r=hB(n,o,s),a=hB(e,t,s);return i>=r&&i<a},mB={"9|s":"2/dili,2/jayapura","9|n":"2/chita,2/khandyga,2/pyongyang,2/seoul,2/tokyo,2/yakutsk,11/palau,japan,rok","9.5|s|04/02:03->10/01:02":"4/adelaide,4/broken_hill,4/south,4/yancowinna","9.5|s":"4/darwin,4/north","8|s|03/13:01->10/02:00":"12/casey","8|s":"2/kuala_lumpur,2/makassar,2/singapore,4/perth,2/ujung_pandang,4/west,singapore","8|n":"2/brunei,2/choibalsan,2/hong_kong,2/irkutsk,2/kuching,2/macau,2/manila,2/shanghai,2/taipei,2/ulaanbaatar,2/chongqing,2/chungking,2/harbin,2/macao,2/ulan_bator,hongkong,prc,roc","8.75|s":"4/eucla","7|s":"12/davis,2/jakarta,9/christmas","7|n":"2/bangkok,2/barnaul,2/hovd,2/krasnoyarsk,2/novokuznetsk,2/novosibirsk,2/phnom_penh,2/pontianak,2/ho_chi_minh,2/tomsk,2/vientiane,2/saigon","6|s":"12/vostok","6|n":"2/almaty,2/bishkek,2/dhaka,2/omsk,2/qyzylorda,2/qostanay,2/thimphu,2/urumqi,9/chagos,2/dacca,2/kashgar,2/thimbu","6.5|n":"2/yangon,9/cocos,2/rangoon","5|s":"12/mawson,9/kerguelen","5|n":"2/aqtau,2/aqtobe,2/ashgabat,2/atyrau,2/dushanbe,2/karachi,2/oral,2/samarkand,2/tashkent,2/yekaterinburg,9/maldives,2/ashkhabad","5.75|n":"2/kathmandu,2/katmandu","5.5|n":"2/kolkata,2/colombo,2/calcutta","4|s":"9/reunion","4|n":"2/baku,2/dubai,2/muscat,2/tbilisi,2/yerevan,8/astrakhan,8/samara,8/saratov,8/ulyanovsk,8/volgograd,9/mahe,9/mauritius,2/volgograd","4.5|n|03/22:00->09/21:24":"2/tehran,iran","4.5|n":"2/kabul","3|s":"12/syowa,9/antananarivo","3|n|03/26:03->10/29:04":"2/famagusta,2/nicosia,8/athens,8/bucharest,8/helsinki,8/kyiv,8/mariehamn,8/riga,8/sofia,8/tallinn,8/uzhgorod,8/vilnius,8/zaporozhye,8/nicosia,8/kiev","3|n|03/26:02->10/29:03":"8/chisinau,8/tiraspol","3|n|03/26:00->10/28:24":"2/beirut","3|n|03/25:02->10/28:02":"2/gaza,2/hebron","3|n|03/24:02->10/29:02":"2/jerusalem,2/tel_aviv,israel","3|n":"0/addis_ababa,0/asmara,0/asmera,0/dar_es_salaam,0/djibouti,0/juba,0/kampala,0/mogadishu,0/nairobi,2/aden,2/amman,2/baghdad,2/bahrain,2/damascus,2/kuwait,2/qatar,2/riyadh,8/istanbul,8/kirov,8/minsk,8/moscow,8/simferopol,9/comoro,9/mayotte,2/istanbul,turkey,w-su","2|s|03/26:02->10/29:02":"12/troll","2|s":"0/gaborone,0/harare,0/johannesburg,0/lubumbashi,0/lusaka,0/maputo,0/maseru,0/mbabane","2|n|03/26:02->10/29:03":"0/ceuta,arctic/longyearbyen,8/amsterdam,8/andorra,8/belgrade,8/berlin,8/bratislava,8/brussels,8/budapest,8/busingen,8/copenhagen,8/gibraltar,8/ljubljana,8/luxembourg,8/madrid,8/malta,8/monaco,8/oslo,8/paris,8/podgorica,8/prague,8/rome,8/san_marino,8/sarajevo,8/skopje,8/stockholm,8/tirane,8/vaduz,8/vatican,8/vienna,8/warsaw,8/zagreb,8/zurich,3/jan_mayen,poland","2|n":"0/blantyre,0/bujumbura,0/cairo,0/khartoum,0/kigali,0/tripoli,8/kaliningrad,egypt,libya","1|s":"0/brazzaville,0/kinshasa,0/luanda,0/windhoek","1|n|03/26:01->10/29:02":"3/canary,3/faroe,3/madeira,8/dublin,8/guernsey,8/isle_of_man,8/jersey,8/lisbon,8/london,3/faeroe,eire,8/belfast,gb-eire,gb,portugal","1|n|03/19:03->04/30:02":"0/casablanca,0/el_aaiun","1|n":"0/algiers,0/bangui,0/douala,0/lagos,0/libreville,0/malabo,0/ndjamena,0/niamey,0/porto-novo,0/tunis","14|n":"11/kiritimati","13|s":"11/apia,11/tongatapu","13|n":"11/enderbury,11/kanton,11/fakaofo","12|s|04/02:03->09/24:02":"12/mcmurdo,11/auckland,12/south_pole,nz","12|s":"11/fiji","12|n":"2/anadyr,2/kamchatka,2/srednekolymsk,11/funafuti,11/kwajalein,11/majuro,11/nauru,11/tarawa,11/wake,11/wallis,kwajalein","12.75|s|04/02:03->04/02:02":"11/chatham,nz-chat","11|s|04/02:03->10/01:02":"12/macquarie","11|s":"11/bougainville","11|n":"2/magadan,2/sakhalin,11/efate,11/guadalcanal,11/kosrae,11/noumea,11/pohnpei,11/ponape","11.5|n|04/02:03->10/01:02":"11/norfolk","10|s|04/02:03->10/01:02":"4/currie,4/hobart,4/melbourne,4/sydney,4/act,4/canberra,4/nsw,4/tasmania,4/victoria","10|s":"12/dumontdurville,4/brisbane,4/lindeman,11/port_moresby,4/queensland","10|n":"2/ust-nera,2/vladivostok,11/guam,11/saipan,11/chuuk,11/truk,11/yap","10.5|s|04/02:01->10/01:02":"4/lord_howe,4/lhi","0|n|03/26:00->10/29:01":"1/scoresbysund,3/azores","0|n":"0/abidjan,0/accra,0/bamako,0/banjul,0/bissau,0/conakry,0/dakar,0/freetown,0/lome,0/monrovia,0/nouakchott,0/ouagadougou,0/sao_tome,1/danmarkshavn,3/reykjavik,3/st_helena,13/gmt,13/utc,0/timbuktu,13/greenwich,13/uct,13/universal,13/zulu,gmt-0,gmt+0,gmt0,greenwich,iceland,uct,universal,utc,zulu,13/unknown","-9|n|03/12:02->11/05:02":"1/adak,1/atka,us/aleutian","-9|n":"11/gambier","-9.5|n":"11/marquesas","-8|n|03/12:02->11/05:02":"1/anchorage,1/juneau,1/metlakatla,1/nome,1/sitka,1/yakutat,us/alaska","-8|n":"11/pitcairn","-7|n|03/12:02->11/05:02":"1/los_angeles,1/santa_isabel,1/tijuana,1/vancouver,1/ensenada,6/pacific,10/bajanorte,us/pacific-new,us/pacific","-7|n":"1/creston,1/dawson,1/dawson_creek,1/fort_nelson,1/hermosillo,1/phoenix,1/whitehorse,6/yukon,us/arizona","-6|s|04/01:22->09/02:22":"11/easter,7/easterisland","-6|n|03/12:02->11/05:02":"1/boise,1/cambridge_bay,1/denver,1/edmonton,1/inuvik,1/north_dakota,1/ojinaga,1/yellowknife,1/shiprock,6/mountain,navajo,us/mountain","-6|n":"1/belize,1/chihuahua,1/costa_rica,1/el_salvador,1/guatemala,1/managua,1/mazatlan,1/regina,1/swift_current,1/tegucigalpa,11/galapagos,6/east-saskatchewan,6/saskatchewan,10/bajasur","-5|s":"1/lima,1/rio_branco,1/porto_acre,5/acre","-5|n|03/12:02->11/05:02":"1/chicago,1/matamoros,1/menominee,1/rainy_river,1/rankin_inlet,1/resolute,1/winnipeg,1/indiana/knox,1/indiana/tell_city,1/north_dakota/beulah,1/north_dakota/center,1/north_dakota/new_salem,1/knox_in,6/central,us/central,us/indiana-starke","-5|n":"1/bahia_banderas,1/bogota,1/cancun,1/cayman,1/coral_harbour,1/eirunepe,1/guayaquil,1/jamaica,1/merida,1/mexico_city,1/monterrey,1/panama,1/atikokan,jamaica,10/general","-4|s|04/01:24->09/03:00":"1/santiago,7/continental","-4|s|03/25:24->10/01:00":"1/asuncion","-4|s":"1/campo_grande,1/cuiaba,1/la_paz,1/manaus,5/west","-4|n|03/12:02->11/05:02":"1/detroit,1/grand_turk,1/indiana,1/indianapolis,1/iqaluit,1/kentucky,1/louisville,1/montreal,1/nassau,1/new_york,1/nipigon,1/pangnirtung,1/port-au-prince,1/thunder_bay,1/toronto,1/indiana/marengo,1/indiana/petersburg,1/indiana/vevay,1/indiana/vincennes,1/indiana/winamac,1/kentucky/monticello,1/fort_wayne,1/indiana/indianapolis,1/kentucky/louisville,6/eastern,us/east-indiana,us/eastern,us/michigan","-4|n|03/12:00->11/05:01":"1/havana,cuba","-4|n":"1/anguilla,1/antigua,1/aruba,1/barbados,1/blanc-sablon,1/boa_vista,1/caracas,1/curacao,1/dominica,1/grenada,1/guadeloupe,1/guyana,1/kralendijk,1/lower_princes,1/marigot,1/martinique,1/montserrat,1/port_of_spain,1/porto_velho,1/puerto_rico,1/santo_domingo,1/st_barthelemy,1/st_kitts,1/st_lucia,1/st_thomas,1/st_vincent,1/tortola,1/virgin","-3|s":"1/argentina,1/buenos_aires,1/catamarca,1/cordoba,1/fortaleza,1/jujuy,1/mendoza,1/montevideo,1/punta_arenas,1/sao_paulo,12/palmer,12/rothera,3/stanley,1/argentina/la_rioja,1/argentina/rio_gallegos,1/argentina/salta,1/argentina/san_juan,1/argentina/san_luis,1/argentina/tucuman,1/argentina/ushuaia,1/argentina/comodrivadavia,1/argentina/buenos_aires,1/argentina/catamarca,1/argentina/cordoba,1/argentina/jujuy,1/argentina/mendoza,1/argentina/rosario,1/rosario,5/east","-3|n|03/12:02->11/05:02":"1/glace_bay,1/goose_bay,1/halifax,1/moncton,1/thule,3/bermuda,6/atlantic","-3|n":"1/araguaina,1/bahia,1/belem,1/cayenne,1/maceio,1/paramaribo,1/recife,1/santarem","-2|n|03/25:22->10/28:23":"1/nuuk,1/godthab","-2|n|03/12:02->11/05:02":"1/miquelon","-2|n":"1/noronha,3/south_georgia,5/denoronha","-2.5|n|03/12:02->11/05:02":"1/st_johns,6/newfoundland","-1|n":"3/cape_verde","-11|n":"11/midway,11/niue,11/pago_pago,11/samoa,us/samoa","-10|n":"11/honolulu,11/johnston,11/rarotonga,11/tahiti,us/hawaii"},tle=["africa","america","asia","atlantic","australia","brazil","canada","chile","europe","indian","mexico","pacific","antarctica","etc"];let Df={};Object.keys(mB).forEach(i=>{let n=i.split("|"),e={offset:Number(n[0]),hem:n[1]};n[2]&&(e.dst=n[2]),mB[i].split(",").forEach(o=>{o=o.replace(/(^[0-9]+)\//,(s,r)=>(r=Number(r),tle[r]+"/")),Df[o]=e})}),Df.utc={offset:0,hem:"n"};for(let i=-14;i<=14;i+=.5){let n=i;n>0&&(n="+"+n);let e="etc/gmt"+n;Df[e]={offset:-1*i,hem:"n"},e="utc/gmt"+n,Df[e]={offset:-1*i,hem:"n"}}const fB=Df,sle=/(\-?[0-9]+)h(rs)?/i,rle=/(\-?[0-9]+)/,ale=/utc([\-+]?[0-9]+)/i,lle=/gmt([\-+]?[0-9]+)/i,Fv=function(i){return(i=Number(i))>=-13&&i<=13?"etc/gmt"+(i=((i*=-1)>0?"+":"")+i):null},dle=(()=>{let i=(()=>{if(typeof Intl>"u"||typeof Intl.DateTimeFormat>"u")return null;let i=Intl.DateTimeFormat();if(typeof i>"u"||typeof i.resolvedOptions>"u")return null;let n=i.resolvedOptions().timeZone;return n?n.toLowerCase():null})();return null===i?"utc":i})(),gB=Object.keys(fB).reduce((i,n)=>{let e=n.split("/")[1]||"";return e=e.replace(/_/g," "),i[e]=n,i},{}),Lv=(i,n)=>{if(!i)return dle;"string"!=typeof i&&console.error("Timezone must be a string - recieved: '",i,"'\n");let e=i.trim();if(e=e.toLowerCase(),!0===n.hasOwnProperty(e)||(e=(i=>(i=(i=(i=(i=(i=i.replace(/ time/g,"")).replace(/ (standard|daylight|summer)/g,"")).replace(/\b(east|west|north|south)ern/g,"$1")).replace(/\b(africa|america|australia)n/g,"$1")).replace(/\beuropean/g,"europe")).replace(/\islands/g,"island"))(e),!0===n.hasOwnProperty(e)))return e;if(!0===gB.hasOwnProperty(e))return gB[e];if(!0===/[0-9]/.test(e)){let t=function(i){let n=i.match(sle);if(null!==n||(n=i.match(ale),null!==n))return Fv(n[1]);if(n=i.match(lle),null!==n){let e=-1*Number(n[1]);return Fv(e)}return n=i.match(rle),null!==n?Fv(n[1]):null}(e);if(t)return t}throw new Error("Spacetime: Cannot find timezone named: '"+i+"'. Please enter an IANA timezone id.")};function Nv(i){return i%4==0&&i%100!=0||i%400==0}function _B(i){return"[object Date]"===Object.prototype.toString.call(i)&&!isNaN(i.valueOf())}function ip(i){return"[object Object]"===Object.prototype.toString.call(i)}function Ni(i,n=2){return(i+="").length>=n?i:new Array(n-i.length+1).join("0")+i}function Dc(i){let n=i%10,e=i%100;return 1===n&&11!==e?i+"st":2===n&&12!==e?i+"nd":3===n&&13!==e?i+"rd":i+"th"}function np(i){return i=(i=String(i)).replace(/([0-9])(st|nd|rd|th)$/i,"$1"),parseInt(i,10)}function du(i=""){return"day"===(i=(i=(i=(i=i.toLowerCase().trim()).replace(/ies$/,"y")).replace(/s$/,"")).replace(/-/g,""))||"days"===i?"date":"min"===i||"mins"===i?"minute":i}function Of(i){return"number"==typeof i?i:_B(i)?i.getTime():i.epoch?i.epoch:null}function uu(i,n){return!1===ip(i)?n.clone().set(i):i}function Rf(i,n=""){const e=i>0?"+":"-",t=Math.abs(i);return`${e}${Ni(parseInt(""+t,10))}${n}${Ni(t%1*60)}`}const $k={year:(new Date).getFullYear(),month:0,date:1},fle={parseArray:(i,n,e)=>{if(0===n.length)return i;let t=["year","month","date","hour","minute","second","millisecond"];for(let o=0;o<t.length;o++)i=i[t[o]](n[o]||e[t[o]]||$k[t[o]]||0);return i},parseObject:(i,n,e)=>{if(0===Object.keys(n).length)return i;n=Object.assign({},$k,e,n);let t=Object.keys(n);for(let o=0;o<t.length;o++){let s=t[o];void 0!==i[s]&&"function"==typeof i[s]&&null!=n[s]&&""!==n[s]&&(i=i[s](n[s]||e[s]||$k[s]||0))}return i},parseNumber:function(i,n){return n>0&&n<25e8&&!1===i.silent&&(console.warn("  - Warning: You are setting the date to January 1970."),console.warn("       -   did input seconds instead of milliseconds?")),i.epoch=n,i}},hu=function(i){return i.epoch=Date.now(),Object.keys(i._today||{}).forEach(n=>{"function"==typeof i[n]&&(i=i[n](i._today[n]))}),i},Hk={now:i=>hu(i),today:i=>hu(i),tonight:i=>(i=hu(i)).hour(18),tomorrow:i=>(i=(i=hu(i)).add(1,"day")).startOf("day"),yesterday:i=>(i=(i=hu(i)).subtract(1,"day")).startOf("day"),christmas:i=>{let n=hu(i).year();return i.set([n,11,25,18,0,0])},"new years":i=>{let n=hu(i).year();return i.set([n,11,31,18,0,0])}};Hk["new years eve"]=Hk["new years"];const bB=Hk;let Kr={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5};Kr.date=Kr.day,Kr.month=25488e5,Kr.week=6048e5,Kr.year=3154e7,Object.keys(Kr).forEach(i=>{Kr[i+"s"]=Kr[i]});const _s=Kr,Bv=(i,n,e,t,o)=>{let s=i.d[e]();if(s===n)return;let r=null===o?null:i.d[o](),a=i.epoch,l=n-s;i.epoch+=_s[t]*l,"day"===t&&Math.abs(l)>28&&n<28&&(i.epoch+=_s.hour),null!==o&&r!==i.d[o]()&&(i.epoch=a);const c=_s[t]/2;for(;i.d[e]()<n;)i.epoch+=c;for(;i.d[e]()>n;)i.epoch-=c;null!==o&&r!==i.d[o]()&&(i.epoch=a)},zk={year:{valid:i=>i>-4e3&&i<4e3,walkTo:(i,n)=>Bv(i,n,"getFullYear","year",null)},month:{valid:i=>i>=0&&i<=11,walkTo:(i,n)=>{let e=i.d,t=e.getMonth(),o=i.epoch,s=e.getFullYear();if(t!==n){for(i.epoch+=_s.day*(28*(n-t)),s!==i.d.getFullYear()&&(i.epoch=o);i.d.getMonth()<n;)i.epoch+=_s.day;for(;i.d.getMonth()>n;)i.epoch-=_s.day}}},date:{valid:i=>i>0&&i<=31,walkTo:(i,n)=>Bv(i,n,"getDate","day","getMonth")},hour:{valid:i=>i>=0&&i<24,walkTo:(i,n)=>Bv(i,n,"getHours","hour","getDate")},minute:{valid:i=>i>=0&&i<60,walkTo:(i,n)=>Bv(i,n,"getMinutes","minute","getHours")},second:{valid:i=>i>=0&&i<60,walkTo:(i,n)=>{i.epoch=i.seconds(n).epoch}},millisecond:{valid:i=>i>=0&&i<1e3,walkTo:(i,n)=>{i.epoch=i.milliseconds(n).epoch}}},zn=(i,n)=>{let e=Object.keys(zk),t=i.clone();for(let o=0;o<e.length;o++){let s=e[o],r=n[s];if(void 0===r&&(r=t[s]()),"string"==typeof r&&(r=parseInt(r,10)),!zk[s].valid(r))return i.epoch=null,void(!1===i.silent&&console.warn("invalid "+s+": "+r));zk[s].walkTo(i,r)}},pu=[31,28,31,30,31,30,31,31,30,31,30,31];let Ff=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],Lf=["january","february","march","april","may","june","july","august","september","october","november","december"];function Nf(){return Ff}function vB(){return function _le(){const i={sep:8};for(let n=0;n<Ff.length;n++)i[Ff[n]]=n;for(let n=0;n<Lf.length;n++)i[Lf[n]]=n;return i}()}let yB=vB();const rr=i=>!0===pu.hasOwnProperty(i.month)&&(1===i.month?!!(Nv(i.year)&&i.date<=29)||i.date<=28:i.date<=(pu[i.month]||0)),Oc=(i="",n)=>{if(i=i.trim(),!0===/^'[0-9][0-9]$/.test(i)){let t=Number(i.replace(/'/,""));return t>50?1900+t:2e3+t}let e=parseInt(i,10);return!e&&n&&(e=n.year),e=e||(new Date).getFullYear(),e},ud=function(i){return"sept"===(i=i.toLowerCase().trim())?yB.sep:yB[i]},ar=(i,n="")=>{let e=(n=n.replace(/^\s+/,"").toLowerCase()).match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?[:\.]?([0-9]{1,4})?/);if(null!==e){let t=Number(e[1]);if(t<0||t>24)return i.startOf("day");let o=Number(e[2]);if(e[2].length<2||o<0||o>59)return i.startOf("day");i=(i=(i=(i=i.hour(t)).minute(o)).seconds(e[3]||0)).millisecond(function(i=""){return(i=String(i)).length>3?i=i.substr(0,3):1===i.length?i+="00":2===i.length&&(i+="0"),Number(i)||0}(e[4]));let s=n.match(/[\b0-9] ?(am|pm)\b/);return null!==s&&s[1]&&(i=i.ampm(s[1])),i}if(e=n.match(/([0-9]+) ?(am|pm)/),null!==e&&e[1]){let t=Number(e[1]);return t>12||t<1?i.startOf("day"):i=(i=(i=i.hour(e[1]||0)).ampm(e[2])).startOf("hour")}return i.startOf("day")},Cle=[{reg:/^(\-?0?0?[0-9]{3,4})-([0-9]{1,2})-([0-9]{1,2})[T| ]([0-9.:]+)(Z|[0-9\-\+:]+)?$/i,parse:(i,n)=>{let e={year:n[1],month:parseInt(n[2],10)-1,date:n[3]};return!1===rr(e)?(i.epoch=null,i):(((i,n)=>{if(!n)return i;let e=0;if(/^[\+-]?[0-9]{2}:[0-9]{2}$/.test(n)&&(!0===/:00/.test(n)&&(n=n.replace(/:00/,"")),!0===/:30/.test(n)&&(n=n.replace(/:30/,".5"))),/^[\+-]?[0-9]{4}$/.test(n)&&(n=n.replace(/30$/,".5")),e=parseFloat(n),Math.abs(e)>100&&(e/=100),0===e||"Z"===n||"z"===n)return i.tz="etc/gmt",i;e*=-1,e>=0&&(e="+"+e);let t="etc/gmt"+e;i.timezones[t]&&(i.tz=t)})(i,n[5]),zn(i,e),i=ar(i,n[4]))}},{reg:/^([0-9]{4})[\-\/\. ]([0-9]{1,2})[\-\/\. ]([0-9]{1,2})( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:(i,n)=>{let e={year:n[1],month:parseInt(n[2],10)-1,date:parseInt(n[3],10)};return e.month>=12&&(e.date=parseInt(n[2],10),e.month=parseInt(n[3],10)-1),!1===rr(e)?(i.epoch=null,i):(zn(i,e),i=ar(i,n[4]))}},{reg:/^([0-9]{4})[\-\/\. ]([a-z]+)[\-\/\. ]([0-9]{1,2})( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:(i,n)=>{let e={year:Oc(n[1],i._today),month:ud(n[2]),date:np(n[3]||"")};return!1===rr(e)?(i.epoch=null,i):(zn(i,e),i=ar(i,n[4]))}}],wle=[{reg:/^([0-9]{1,2})[\-\/.]([0-9]{1,2})[\-\/.]?([0-9]{4})?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,parse:(i,n)=>{let e=parseInt(n[1],10)-1,t=parseInt(n[2],10);(i.british||e>=12)&&(t=parseInt(n[1],10),e=parseInt(n[2],10)-1);let o={date:t,month:e,year:Oc(n[3],i._today)||(new Date).getFullYear()};return!1===rr(o)?(i.epoch=null,i):(zn(i,o),i=ar(i,n[4]))}},{reg:/^([a-z]+)[\-\/\. ]([0-9]{1,2})[\-\/\. ]?([0-9]{4}|'[0-9]{2})?( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:(i,n)=>{let e={year:Oc(n[3],i._today),month:ud(n[1]),date:np(n[2]||"")};return!1===rr(e)?(i.epoch=null,i):(zn(i,e),i=ar(i,n[4]))}},{reg:/^([a-z]+) ([0-9]{1,2})( [0-9]{4})?( ([0-9:]+( ?am| ?pm| ?gmt)?))?$/i,parse:(i,n)=>{let e={year:Oc(n[3],i._today),month:ud(n[1]),date:np(n[2]||"")};return!1===rr(e)?(i.epoch=null,i):(zn(i,e),i=ar(i,n[4]))}},{reg:/^([a-z]+) ([0-9]{1,2})( [0-9:]+)?( \+[0-9]{4})?( [0-9]{4})?$/i,parse:(i,n)=>{let e={year:Oc(n[5],i._today),month:ud(n[1]),date:np(n[2]||"")};return!1===rr(e)?(i.epoch=null,i):(zn(i,e),i=ar(i,n[3]))}}],kle=[{reg:/^([0-9]{1,2})[\-\/]([a-z]+)[\-\/]?([0-9]{4})?$/i,parse:(i,n)=>{let e={year:Oc(n[3],i._today),month:ud(n[2]),date:np(n[1]||"")};return!1===rr(e)?(i.epoch=null,i):(zn(i,e),i=ar(i,n[4]))}},{reg:/^([0-9]{1,2})( [a-z]+)( [0-9]{4}| '[0-9]{2})? ?([0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,parse:(i,n)=>{let e={year:Oc(n[3],i._today),month:ud(n[2]),date:np(n[1])};return e.month&&!1!==rr(e)?(zn(i,e),i=ar(i,n[4])):(i.epoch=null,i)}},{reg:/^([0-9]{1,2})[\. -/]([a-z]+)[\. -/]([0-9]{4})?( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:(i,n)=>{let e={date:Number(n[1]),month:ud(n[2]),year:Number(n[3])};return!1===rr(e)?(i.epoch=null,i):(zn(i,e),i=i.startOf("day"),i=ar(i,n[4]))}}],Ile=[{reg:/^([0-9]{4})[\-\/]([0-9]{2})$/i,parse:(i,n)=>{let e={year:n[1],month:parseInt(n[2],10)-1,date:1};return!1===rr(e)?(i.epoch=null,i):(zn(i,e),i=ar(i,n[4]))}},{reg:/^([a-z]+) ([0-9]{4})$/i,parse:(i,n)=>{let e={year:Oc(n[2],i._today),month:ud(n[1]),date:i._today.date||1};return!1===rr(e)?(i.epoch=null,i):(zn(i,e),i=ar(i,n[4]))}},{reg:/^(q[0-9])( of)?( [0-9]{4})?/i,parse:(i,n)=>{i=i.quarter(n[1]||"");let t=n[3]||"";return t&&(t=t.trim(),i=i.year(t)),i}},{reg:/^(spring|summer|winter|fall|autumn)( of)?( [0-9]{4})?/i,parse:(i,n)=>{i=i.season(n[1]||"");let t=n[3]||"";return t&&(t=t.trim(),i=i.year(t)),i}},{reg:/^[0-9,]+ ?b\.?c\.?$/i,parse:(i,n)=>{let e=n[0]||"";e=e.replace(/^([0-9,]+) ?b\.?c\.?$/i,"-$1");let t=new Date,o={year:parseInt(e.trim(),10),month:t.getMonth(),date:t.getDate()};return!1===rr(o)?(i.epoch=null,i):(zn(i,o),i=ar(i))}},{reg:/^[0-9,]+ ?(a\.?d\.?|c\.?e\.?)$/i,parse:(i,n)=>{let e=n[0]||"";e=e.replace(/,/g,"");let t=new Date,o={year:parseInt(e.trim(),10),month:t.getMonth(),date:t.getDate()};return!1===rr(o)?(i.epoch=null,i):(zn(i,o),i=ar(i))}},{reg:/^[0-9]{4}( ?a\.?d\.?)?$/i,parse:(i,n)=>{let e=i._today;e.month&&!e.date&&(e.date=1);let t=new Date,o={year:Oc(n[0],e),month:e.month||t.getMonth(),date:e.date||t.getDate()};return!1===rr(o)?(i.epoch=null,i):(zn(i,o),i=ar(i))}}],jk=[].concat(Cle,wle,kle,Ile),{parseArray:Sle,parseObject:xB,parseNumber:Mle}=fle,CB={year:(new Date).getFullYear(),month:0,date:1},wB=(i,n)=>{let e=i._today||CB;if("number"==typeof n)return Mle(i,n);if(i.epoch=Date.now(),i._today&&ip(i._today)&&Object.keys(i._today).length>0){let t=xB(i,e,CB);t.isValid()&&(i.epoch=t.epoch)}return null==n||""===n?i:!0===_B(n)?(i.epoch=n.getTime(),i):!0===function hle(i){return"[object Array]"===Object.prototype.toString.call(i)}(n)?i=Sle(i,n,e):!0===ip(n)?n.epoch?(i.epoch=n.epoch,i.tz=n.tz,i):i=xB(i,n,e):"string"!=typeof n?i:(n=function(i){return(i=(i=(i=i.replace(/\b(mon|tues?|wed|wednes|thur?s?|fri|sat|satur|sun)(day)?\b/i,"")).replace(/([0-9])(th|rd|st|nd)/,"$1")).replace(/,/g,"")).replace(/ +/g," ").trim()}(n),!0===bB.hasOwnProperty(n)?i=bB[n](i):function(i,n,e){for(let t=0;t<jk.length;t++){let o=n.match(jk[t].reg);if(o){let s=jk[t].parse(i,o,undefined);if(null!==s&&s.isValid())return s}}return!1===i.silent&&console.warn("Warning: couldn't parse date-string: '"+n+"'"),i.epoch=null,i}(i,n))};let Gk=["sun","mon","tue","wed","thu","fri","sat"],Wk=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function Bf(){return Gk}function Vv(){return Wk}const kB={mo:1,tu:2,we:3,th:4,fr:5,sa:6,su:7,tues:2,weds:3,wedn:3,thur:4,thurs:4};let IB=!0;const AB=i=>{let n=i.timezone().current.offset;return n?Rf(n,":"):"Z"},Rc=i=>function Tle(){return IB}()?function mle(i){return i?i[0].toUpperCase()+i.substr(1):""}(i):i,op={day:i=>Rc(i.dayName()),"day-short":i=>Rc(Bf()[i.day()]),"day-number":i=>i.day(),"day-ordinal":i=>Dc(i.day()),"day-pad":i=>Ni(i.day()),date:i=>i.date(),"date-ordinal":i=>Dc(i.date()),"date-pad":i=>Ni(i.date()),month:i=>Rc(i.monthName()),"month-short":i=>Rc(Nf()[i.month()]),"month-number":i=>i.month(),"month-ordinal":i=>Dc(i.month()),"month-pad":i=>Ni(i.month()),"iso-month":i=>Ni(i.month()+1),year:i=>{let n=i.year();return n>0?n:(n=Math.abs(n),n+" BC")},"year-short":i=>{let n=i.year();return n>0?`'${String(i.year()).substr(2,4)}`:(n=Math.abs(n),n+" BC")},"iso-year":i=>{let n=i.year(),e=n<0,t=Ni(Math.abs(n),4);return e&&(t=Ni(t,6),t="-"+t),t},time:i=>i.time(),"time-24":i=>`${i.hour24()}:${Ni(i.minute())}`,hour:i=>i.hour12(),"hour-pad":i=>Ni(i.hour12()),"hour-24":i=>i.hour24(),"hour-24-pad":i=>Ni(i.hour24()),minute:i=>i.minute(),"minute-pad":i=>Ni(i.minute()),second:i=>i.second(),"second-pad":i=>Ni(i.second()),millisecond:i=>i.millisecond(),"millisecond-pad":i=>Ni(i.millisecond(),3),ampm:i=>i.ampm(),AMPM:i=>i.ampm().toUpperCase(),quarter:i=>"Q"+i.quarter(),season:i=>i.season(),era:i=>i.era(),json:i=>i.json(),timezone:i=>i.timezone().name,offset:i=>AB(i),numeric:i=>`${i.year()}/${Ni(i.month()+1)}/${Ni(i.date())}`,"numeric-us":i=>`${Ni(i.month()+1)}/${Ni(i.date())}/${i.year()}`,"numeric-uk":i=>`${Ni(i.date())}/${Ni(i.month()+1)}/${i.year()}`,"mm/dd":i=>`${Ni(i.month()+1)}/${Ni(i.date())}`,iso:i=>`${i.format("iso-year")}-${Ni(i.month()+1)}-${Ni(i.date())}T${Ni(i.h24())}:${Ni(i.minute())}:${Ni(i.second())}.${Ni(i.millisecond(),3)}${AB(i)}`,"iso-short":i=>{let n=Ni(i.month()+1),e=Ni(i.date());return`${(i=>i>=0?Ni(i,4):"-"+Ni(i=Math.abs(i),4))(i.year())}-${n}-${e}`},"iso-utc":i=>new Date(i.epoch).toISOString(),nice:i=>`${Nf()[i.month()]} ${Dc(i.date())}, ${i.time()}`,"nice-24":i=>`${Nf()[i.month()]} ${Dc(i.date())}, ${i.hour24()}:${Ni(i.minute())}`,"nice-year":i=>`${Nf()[i.month()]} ${Dc(i.date())}, ${i.year()}`,"nice-day":i=>`${Bf()[i.day()]} ${Rc(Nf()[i.month()])} ${Dc(i.date())}`,"nice-full":i=>`${i.dayName()} ${Rc(i.monthName())} ${Dc(i.date())}, ${i.time()}`,"nice-full-24":i=>`${i.dayName()} ${Rc(i.monthName())} ${Dc(i.date())}, ${i.hour24()}:${Ni(i.minute())}`},SB={"day-name":"day","month-name":"month","iso 8601":"iso","time-h24":"time-24","time-12":"time","time-h12":"time",tz:"timezone","day-num":"day-number","month-num":"month-number","month-iso":"iso-month","year-iso":"iso-year","nice-short":"nice","nice-short-24":"nice-24",mdy:"numeric-us",dmy:"numeric-uk",ymd:"numeric","yyyy/mm/dd":"numeric","mm/dd/yyyy":"numeric-us","dd/mm/yyyy":"numeric-us","little-endian":"numeric-uk","big-endian":"numeric","day-nice":"nice-day"};Object.keys(SB).forEach(i=>op[i]=op[SB[i]]);const Uk=(i,n="")=>{if(!0!==i.isValid())return"";if(op.hasOwnProperty(n)){let e=op[n](i)||"";return"json"!==n&&(e=String(e),"ampm"!==n.toLowerCase()&&(e=Rc(e))),e}return-1!==n.indexOf("{")?n.replace(/\{(.+?)\}/g,(t,o)=>{if(o=o.toLowerCase().trim(),op.hasOwnProperty(o)){let s=String(op[o](i));return"ampm"!==o.toLowerCase()?Rc(s):s}return""}):i.format("iso-short")},$v={G:i=>i.era(),GG:i=>i.era(),GGG:i=>i.era(),GGGG:i=>"AD"===i.era()?"Anno Domini":"Before Christ",y:i=>i.year(),yy:i=>Ni(Number(String(i.year()).substr(2,4))),yyy:i=>i.year(),yyyy:i=>i.year(),yyyyy:i=>"0"+i.year(),Q:i=>i.quarter(),QQ:i=>i.quarter(),QQQ:i=>i.quarter(),QQQQ:i=>i.quarter(),M:i=>i.month()+1,MM:i=>Ni(i.month()+1),MMM:i=>i.format("month-short"),MMMM:i=>i.format("month"),w:i=>i.week(),ww:i=>Ni(i.week()),d:i=>i.date(),dd:i=>Ni(i.date()),D:i=>i.dayOfYear(),DD:i=>Ni(i.dayOfYear()),DDD:i=>Ni(i.dayOfYear(),3),E:i=>i.format("day-short"),EE:i=>i.format("day-short"),EEE:i=>i.format("day-short"),EEEE:i=>i.format("day"),EEEEE:i=>i.format("day")[0],e:i=>i.day(),ee:i=>i.day(),eee:i=>i.format("day-short"),eeee:i=>i.format("day"),eeeee:i=>i.format("day")[0],a:i=>i.ampm().toUpperCase(),aa:i=>i.ampm().toUpperCase(),aaa:i=>i.ampm().toUpperCase(),aaaa:i=>i.ampm().toUpperCase(),h:i=>i.h12(),hh:i=>Ni(i.h12()),H:i=>i.hour(),HH:i=>Ni(i.hour()),m:i=>i.minute(),mm:i=>Ni(i.minute()),s:i=>i.second(),ss:i=>Ni(i.second()),SSS:i=>Ni(i.millisecond(),3),A:i=>i.epoch-i.startOf("day").epoch,z:i=>i.timezone().name,zz:i=>i.timezone().name,zzz:i=>i.timezone().name,zzzz:i=>i.timezone().name,Z:i=>Rf(i.timezone().current.offset),ZZ:i=>Rf(i.timezone().current.offset),ZZZ:i=>Rf(i.timezone().current.offset),ZZZZ:i=>Rf(i.timezone().current.offset,":")},Fc=(i,n,e)=>{let t=i,o=n;for(let s=0;s<e;s+=1)$v[t]=$v[o],t+=i,o+=n};Fc("q","Q",4),Fc("L","M",4),Fc("Y","y",4),Fc("c","e",4),Fc("k","H",2),Fc("K","h",2),Fc("S","s",2),Fc("v","z",4),Fc("V","Z",4);const Lle=["year","season","quarter","month","week","day","quarterHour","hour","minute"],MB=function(i,n){let e=i.clone().startOf(n),o=i.clone().endOf(n).epoch-e.epoch;return parseFloat(((i.epoch-e.epoch)/o).toFixed(2))},PB=(i,n,e)=>{let t=0;for(i=i.clone();i.isBefore(n);)i=i.add(1,e),t+=1;return i.isAfter(n,e)&&(t-=1),t},Zk=(i,n,e)=>i.isBefore(n)?PB(i,n,e):-1*PB(n,i,e),sp=i=>Math.abs(i)||0,TB={months:{almost:10,over:4},days:{almost:25,over:10},hours:{almost:20,over:8},minutes:{almost:50,over:20},seconds:{almost:50,over:20}};function EB(i,n){return 1===i&&(n=n.slice(0,-1)),i+" "+n}const Zle=(i,n)=>{const e=function Gle(i,n){const e=i.isBefore(n),t=e?n:i;let o=e?i:n;o=o.clone();const s={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return Object.keys(s).forEach(r=>{if(o.isSame(t,r))return;let a=o.diff(t,r);o=o.add(a,r),s[r]=a}),e&&Object.keys(s).forEach(r=>{0!==s[r]&&(s[r]*=-1)}),s}(i,n=uu(n,i));if(!0===Object.keys(e).every(D=>!e[D]))return{diff:e,rounded:"now",qualified:"now",precise:"now",abbreviated:[],iso:"P0Y0M0DT0H0M0S",direction:"present"};let o,s="future",{rounded:r,qualified:a,englishValues:l,abbreviated:c}=function(i){let n=null,e=null,t=[],o=[];return Object.keys(i).forEach((s,r,a)=>{const l=Math.abs(i[s]);if(0===l)return;t.push(l+s[0]);const c=EB(l,s);if(o.push(c),!n){if(n=e=c,r>4)return;const A=a[r+1],D=Math.abs(i[A]);D>TB[A].almost?(n=EB(l+1,s),e="almost "+n):D>TB[A].over&&(e="over "+c)}}),{qualified:e,rounded:n,abbreviated:t,englishValues:o}}(e);o=l.splice(0,2).join(", "),!0===i.isAfter(n)?(r+=" ago",a+=" ago",o+=" ago",s="past"):(r="in "+r,a="in "+a,o="in "+o);let A=function(i){let n="P";return n+=sp(i.years)+"Y",n+=sp(i.months)+"M",n+=sp(i.days)+"DT",n+=sp(i.hours)+"H",n+=sp(i.minutes)+"M",n+=sp(i.seconds)+"S",n}(e);return{diff:e,rounded:r,qualified:a,precise:o,abbreviated:c,iso:A,direction:s}},il={north:[["spring",2,1],["summer",5,1],["fall",8,1],["autumn",8,1],["winter",11,1]],south:[["fall",2,1],["autumn",2,1],["winter",5,1],["spring",8,1],["summer",11,1]]},mu=[null,[0,1],[3,1],[6,1],[9,1]],fu={second:i=>(zn(i,{millisecond:0}),i),minute:i=>(zn(i,{second:0,millisecond:0}),i),quarterhour:i=>{let n=i.minutes();return i=i.minutes(n>=45?45:n>=30?30:n>=15?15:0),zn(i,{second:0,millisecond:0}),i},hour:i=>(zn(i,{minute:0,second:0,millisecond:0}),i),day:i=>(zn(i,{hour:0,minute:0,second:0,millisecond:0}),i),week:i=>{let n=i.clone();return(i=i.day(i._weekStart)).isAfter(n)&&(i=i.subtract(1,"week")),zn(i,{hour:0,minute:0,second:0,millisecond:0}),i},month:i=>(zn(i,{date:1,hour:0,minute:0,second:0,millisecond:0}),i),quarter:i=>{let n=i.quarter();return mu[n]&&zn(i,{month:mu[n][0],date:mu[n][1],hour:0,minute:0,second:0,millisecond:0}),i},season:i=>{let n=i.season(),e="north";"South"===i.hemisphere()&&(e="south");for(let t=0;t<il[e].length;t++)if(il[e][t][0]===n){let o=i.year();return"winter"===n&&i.month()<3&&(o-=1),zn(i,{year:o,month:il[e][t][1],date:il[e][t][2],hour:0,minute:0,second:0,millisecond:0}),i}return i},year:i=>(zn(i,{month:0,date:1,hour:0,minute:0,second:0,millisecond:0}),i),decade:i=>{let n=(i=i.startOf("year")).year(),e=10*parseInt(n/10,10);return i.year(e)},century:i=>{let n=(i=i.startOf("year")).year(),e=100*parseInt(n/100,10);return i.year(e)}};fu.date=fu.day;const Qle=i=>(i=(i=(i=(i=(i=(i=i[0].toUpperCase()+i.substr(1)).replace(/[\/_-]([a-z])/gi,n=>n.toUpperCase())).replace(/_(of|es)_/i,n=>n.toLowerCase())).replace(/\/gmt/i,"/GMT")).replace(/\/Dumontdurville$/i,"/DumontDUrville")).replace(/\/Mcmurdo$/i,"/McMurdo")).replace(/\/Port-au-prince$/i,"/Port-au-Prince"),Vf=i=>{let n=i.timezones,e=i.tz;if(!1===n.hasOwnProperty(e)&&(e=Lv(i.tz,n)),null===e)return!1===i.silent&&console.warn("Warn: could not find given or local timezone - '"+i.tz+"'"),{current:{epochShift:0}};let t=n[e],o={name:Qle(e),hasDst:Boolean(t.dst),default_offset:t.offset,hemisphere:"s"===t.hem?"South":"North",current:{}};if(o.hasDst){let a=(i=>i?i.split("->"):[])(t.dst);o.change={start:a[0],back:a[1]}}let s=t.offset,r=s;return!0===o.hasDst&&(r="North"===o.hemisphere?s-1:t.offset+1),!1===o.hasDst?(o.current.offset=s,o.current.isDST=!1):!0===pB(i.epoch,o.change.start,o.change.back,s,r)?(o.current.offset=s,o.current.isDST="North"===o.hemisphere):(o.current.offset=r,o.current.isDST="South"===o.hemisphere),o},ece=["century","decade","year","month","date","day","hour","minute","second","millisecond"],gu={set:function(i,n){let e=this.clone();return e=wB(e,i),n&&(this.tz=Lv(n)),e},timezone:function(){return Vf(this)},isDST:function(){return Vf(this).current.isDST},hasDST:function(){return Vf(this).hasDst},offset:function(){return 60*Vf(this).current.offset},hemisphere:function(){return Vf(this).hemisphere},format:function(i){return Uk(this,i)},unixFmt:function(i){return((i,n)=>{let e=n.split("");return e=function(i){for(let n=0;n<i.length;n+=1)if("'"===i[n])for(let e=n+1;e<i.length;e+=1){if(i[e]&&(i[n]+=i[e]),"'"===i[e]){i[e]=null;break}i[e]=null}return i.filter(n=>n)}(e),e=function(i){for(let n=0;n<i.length;n+=1){let e=i[n];for(let t=n+1;t<i.length&&i[t]===e;t+=1)i[n]+=i[t],i[t]=null}return(i=i.filter(n=>n)).map(n=>("''"===n&&(n="'"),n))}(e),e.reduce((t,o)=>(void 0!==$v[o]?t+=$v[o](i)||"":(/^'.{1,}'$/.test(o)&&(o=o.replace(/'/g,"")),t+=o),t),"")})(this,i)},startOf:function(i){return((i,n)=>{let e=this.clone();return n=du(n),fu[n]?fu[n](e):"summer"===n||"winter"===n?(e=e.season(n),fu.season(e)):e})(0,i)},endOf:function(i){return((i,n)=>{let e=this.clone();return n=du(n),fu[n]&&(e=fu[n](e),e=e.add(1,n),e=e.subtract(1,"millisecond")),e})(0,i)},leapYear:function(){return Nv(this.year())},progress:function(i){return((i,n)=>{if(n)return n=du(n),MB(i,n);let e={};return Lle.forEach(t=>{e[t]=MB(i,t)}),e})(this,i)},nearest:function(i){return((i,n)=>{let e=i.progress();return"quarterhour"===(n=du(n))&&(n="quarterHour"),void 0!==e[n]?(e[n]>.5&&(i=i.add(1,n)),i=i.startOf(n)):!1===i.silent&&console.warn("no known unit '"+n+"'"),i})(this,i)},diff:function(i,n){return function(i,n,e){n=uu(n,i);let t=!1;if(i.isAfter(n)){let s=i;i=n,n=s,t=!0}let o=function(i,n){let e=n.epoch-i.epoch,t={milliseconds:e,seconds:parseInt(e/1e3,10)};t.minutes=parseInt(t.seconds/60,10),t.hours=parseInt(t.minutes/60,10);let o=i.clone();return t.years=((i,n)=>{let e=n.year()-i.year();return(i=i.year(n.year())).isAfter(n)&&(e-=1),e})(o,n),o=i.add(t.years,"year"),t.months=12*t.years,o=i.add(t.months,"month"),t.months+=Zk(o,n,"month"),t.quarters=4*t.years,t.quarters+=parseInt(t.months%12/3,10),t.weeks=52*t.years,o=i.add(t.weeks,"week"),t.weeks+=Zk(o,n,"week"),t.days=7*t.weeks,o=i.add(t.days,"day"),t.days+=Zk(o,n,"day"),t}(i,n);return t&&(o=function(i){return Object.keys(i).forEach(n=>{i[n]*=-1}),i}(o)),e?(e=du(e),!0!==/s$/.test(e)&&(e+="s"),"dates"===e&&(e="days"),o[e]):o}(this,i,n)},since:function(i){return i||(i=this.clone().set()),Zle(this,i)},next:function(i){return this.add(1,i).startOf(i)},last:function(i){return this.subtract(1,i).startOf(i)},isValid:function(){return!(!this.epoch&&0!==this.epoch||isNaN(this.d.getTime()))},goto:function(i){let n=this.clone();return n.tz=Lv(i,n.timezones),n},every:function(i,n){if("object"==typeof i&&"string"==typeof n){let e=n;n=i,i=e}return function(i,n,e){if(!n||!e)return[];if(n=du(n),e=i.clone().set(e),i.isAfter(e)){let s=i;i=e,e=s}let t=i.clone();!function(i){return!(!Bf().find(n=>n===i)&&!Vv().find(n=>n===i))}(n)?t.startOf(n).isBefore(i)&&(t=t.next(n)):(t=t.next(n),n="week");let o=[];for(;t.isBefore(e);)o.push(t),t=t.add(1,n);return o}(this,i,n)},isAwake:function(){let i=this.hour();return!(i<8||i>22)},isAsleep:function(){return!this.isAwake()},daysInMonth:function(){switch(this.month()){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return this.leapYear()?29:28;case 3:case 5:case 8:case 10:return 30;default:throw new Error("Invalid Month state.")}},log:function(){return console.log(""),console.log(Uk(this,"nice-short")),this},logYear:function(){return console.log(""),console.log(Uk(this,"full-short")),this},json:function(){return ece.reduce((i,n)=>(i[n]=this[n](),i),{})},debug:function(){let i=this.timezone(),n=this.format("MM")+" "+this.format("date-ordinal")+" "+this.year();return n+="\n     - "+this.format("time"),console.log("\n\n",n+"\n     - "+i.name+" ("+i.current.offset+")"),this},from:function(i){return(i=this.clone().set(i)).since(this)},fromNow:function(){return this.clone().set(Date.now()).since(this)},weekStart:function(i){if("number"==typeof i)return this._weekStart=i,this;if("string"==typeof i){i=i.toLowerCase().trim();let n=Bf().indexOf(i);-1===n&&(n=Vv().indexOf(i)),-1===n&&(n=1),this._weekStart=n}else console.warn("Spacetime Error: Cannot understand .weekStart() input:",i);return this}};gu.inDST=gu.isDST,gu.round=gu.nearest,gu.each=gu.every;const DB=gu,Lc=i=>("string"==typeof i&&(i=parseInt(i,10)),i),Kk=["year","month","date","hour","minute","second","millisecond"],Yk=(i,n,e)=>{let t=Kk.indexOf(e),o=Kk.slice(t,Kk.length);for(let s=0;s<o.length;s++){let r=n[o[s]]();i[o[s]](r)}return i},hd=function(i,n,e,t){return!0===e&&i.isBefore(n)?i=i.add(1,t):!1===e&&i.isAfter(n)&&(i=i.minus(1,t)),i},OB=function(i,n,e){n=Lc(n);let t=i.clone(),s=(i.minute()-n)*_s.minute;return i.epoch-=s,Yk(i,t,"second"),(i=hd(i,t,e,"hour")).epoch},Xk=function(i,n,e){(n=Lc(n))>=24?n=24:n<0&&(n=0);let t=i.clone(),o=i.hour()-n,s=o*_s.hour;return i.epoch-=s,i.date()!==t.date()&&(i=t.clone(),o>1&&(o-=1),o<1&&(o+=1),s=o*_s.hour,i.epoch-=s),zn(i,{hour:n}),Yk(i,t,"minute"),(i=hd(i,t,e,"day")).epoch},qk=function(i,n){return"string"==typeof n&&/^'[0-9]{2}$/.test(n)&&(n=n.replace(/'/,"").trim(),n=(n=Number(n))>30?1900+n:2e3+n),n=Lc(n),zn(i,{year:n}),i.epoch};let Jk="am",Qk="pm";const hce={millisecond:function(i){if(void 0!==i){let n=this.clone();return n.epoch=function(i,n){n=Lc(n);let t=i.millisecond()-n;return i.epoch-t}(n,i),n}return this.d.getMilliseconds()},second:function(i,n){if(void 0!==i){let e=this.clone();return e.epoch=function(i,n,e){n=Lc(n);let t=i.clone(),s=(i.second()-n)*_s.second;return i.epoch=i.epoch-s,(i=hd(i,t,e,"minute")).epoch}(e,i,n),e}return this.d.getSeconds()},minute:function(i,n){if(void 0!==i){let e=this.clone();return e.epoch=OB(e,i,n),e}return this.d.getMinutes()},hour:function(i,n){let e=this.d;if(void 0!==i){let t=this.clone();return t.epoch=Xk(t,i,n),t}return e.getHours()},hourFloat:function(i,n){if(void 0!==i){let s=this.clone(),r=i%1;r*=60;let a=parseInt(i,10);return s.epoch=Xk(s,a,n),s.epoch=OB(s,r,n),s}let e=this.d,t=e.getHours(),o=e.getMinutes();return o/=60,t+o},hour12:function(i,n){let e=this.d;if(void 0!==i){let o=this.clone(),s=(i=""+i).match(/^([0-9]+)(am|pm)$/);if(s){let r=parseInt(s[1],10);"pm"===s[2]&&(r+=12),o.epoch=Xk(o,r,n)}return o}let t=e.getHours();return t>12&&(t-=12),0===t&&(t=12),t},time:function(i,n){if(void 0!==i){let e=this.clone();return i=i.toLowerCase().trim(),e.epoch=function(i,n,e){let t=n.match(/([0-9]{1,2})[:h]([0-9]{1,2})(:[0-9]{1,2})? ?(am|pm)?/);if(!t){if(t=n.match(/([0-9]{1,2}) ?(am|pm)/),!t)return i.epoch;t.splice(2,0,"0"),t.splice(3,0,"")}let o=!1,s=parseInt(t[1],10),r=parseInt(t[2],10);r>=60&&(r=59),s>12&&(o=!0),!1===o&&("am"===t[4]&&12===s&&(s=0),"pm"===t[4]&&s<12&&(s+=12)),t[3]=t[3]||"",t[3]=t[3].replace(/:/,"");let a=parseInt(t[3],10)||0,l=i.clone();return i=(i=(i=(i=i.hour(s)).minute(r)).second(a)).millisecond(0),(i=hd(i,l,e,"day")).epoch}(e,i,n),e}return`${this.h12()}:${Ni(this.minute())}${this.ampm()}`},ampm:function(i,n){let e=function cce(){return Jk}(),t=this.hour();if(t>=12&&(e=function dce(){return Qk}()),"string"!=typeof i)return e;let o=this.clone();return i=i.toLowerCase().trim(),t>=12&&"am"===i?(t-=12,o.hour(t,n)):t<12&&"pm"===i?(t+=12,o.hour(t,n)):o},dayTime:function(i,n){if(void 0!==i){const t={morning:"7:00am",breakfast:"7:00am",noon:"12:00am",lunch:"12:00pm",afternoon:"2:00pm",evening:"6:00pm",dinner:"6:00pm",night:"11:00pm",midnight:"23:59pm"};let o=this.clone();return i=(i=i||"").toLowerCase(),!0===t.hasOwnProperty(i)&&(o=o.time(t[i],n)),o}let e=this.hour();return e<6?"night":e<12?"morning":e<17?"afternoon":e<22?"evening":"night"},iso:function(i){return void 0!==i?this.set(i):this.format("iso")}},pce={date:function(i,n){if(void 0!==i){let e=this.clone();return(i=parseInt(i,10))&&(e.epoch=function(i,n,e){if((n=Lc(n))>28){let o=i.month(),s=pu[o];1===o&&29===n&&Nv(i.year())&&(s=29),n>s&&(n=s)}n<=0&&(n=1);let t=i.clone();return zn(i,{date:n}),(i=hd(i,t,e,"month")).epoch}(e,i,n)),e}return this.d.getDate()},day:function(i,n){if(void 0===i)return this.d.getDay();let e=this.clone(),t=i;"string"==typeof i&&(i=i.toLowerCase(),kB.hasOwnProperty(i)?t=kB[i]:(t=Bf().indexOf(i),-1===t&&(t=Vv().indexOf(i))));let s=this.d.getDay()-t;!0===n&&s>0&&(s-=7),!1===n&&s<0&&(s+=7);let r=this.subtract(s,"days");return zn(r,{hour:e.hour(),minute:e.minute(),second:e.second()}),r},dayName:function(i,n){if(void 0===i)return Vv()[this.day()];let e=this.clone();return e=e.day(i,n),e}},RB=i=>(i=(i=i.minute(0)).second(0)).millisecond(1),bs=Object.assign({},hce,pce,{dayOfYear:function(i,n){if(void 0!==i){let s=this.clone();return s.epoch=function(i,n,e){n=Lc(n);let t=i.clone();return(n-=1)<=0?n=0:n>=365&&(n=364),i=(i=i.startOf("year")).add(n,"day"),Yk(i,t,"hour"),(i=hd(i,t,e,"year")).epoch}(s,i,n),s}let o,e=0,t=this.d.getMonth();for(let s=1;s<=t;s++)o=new Date,o.setDate(1),o.setFullYear(this.d.getFullYear()),o.setHours(1),o.setMinutes(1),o.setMonth(s),o.setHours(-2),e+=o.getDate();return e+this.d.getDate()},week:function(i,n){if(void 0!==i){let a=this.clone();return a.epoch=function(i,n,e){let t=i.clone();return n=Lc(n),"december"===(i=(i=(i=i.month(0)).date(1)).day("monday")).monthName()&&i.date()>=28&&(i=i.add(1,"week")),i=i.add(n-=1,"weeks"),(i=hd(i,t,e,"year")).epoch}(this,i,n),a=RB(a),a}let e=this.clone();e=e.month(0),e=e.date(1),e=RB(e),e=e.day("monday"),"december"===e.monthName()&&e.date()>=28&&(e=e.add(1,"week"));let t=1;1===e.date()&&(t=0),e=e.minus(1,"second");const o=this.epoch;if(e.epoch>o)return 1;let s=0,r=4*this.month();for(e.epoch+=_s.week*r,s+=r;s<=52;s++){if(e.epoch>o)return s+t;e=e.add(1,"week")}return 52},month:function(i,n){if(void 0!==i){let e=this.clone();return e.epoch=function(i,n,e){"string"==typeof n&&("sept"===n&&(n="sep"),n=vB()[n.toLowerCase()]),(n=Lc(n))>=12&&(n=11),n<=0&&(n=0);let t=i.date();t>pu[n]&&(t=pu[n]);let o=i.clone();return zn(i,{month:n,d:t}),(i=hd(i,o,e,"year")).epoch}(e,i,n),e}return this.d.getMonth()},monthName:function(i,n){if(void 0!==i){let e=this.clone();return e=e.month(i,n),e}return function ble(){return Lf}()[this.month()]},quarter:function(i,n){if(void 0!==i&&("string"==typeof i&&(i=i.replace(/^q/i,""),i=parseInt(i,10)),mu[i])){let t=this.clone();return t=t.month(mu[i][0],n),t=t.date(1,n),t=t.startOf("day"),t}let e=this.d.getMonth();for(let t=1;t<mu.length;t++)if(e<mu[t][0])return t-1;return 4},season:function(i,n){let e="north";if("South"===this.hemisphere()&&(e="south"),void 0!==i){let o=this.clone();for(let s=0;s<il[e].length;s++)i===il[e][s][0]&&(o=o.month(il[e][s][1],n),o=o.date(1),o=o.startOf("day"));return o}let t=this.d.getMonth();for(let o=0;o<il[e].length-1;o++)if(t>=il[e][o][1]&&t<il[e][o+1][1])return il[e][o][0];return"north"===e?"winter":"summer"},year:function(i){if(void 0!==i){let n=this.clone();return n.epoch=qk(n,i),n}return this.d.getFullYear()},era:function(i){if(void 0!==i){let n=this.clone();i=i.toLowerCase();let e=n.d.getFullYear();return"bc"===i&&e>0&&(n.epoch=qk(n,-1*e)),"ad"===i&&e<0&&(n.epoch=qk(n,-1*e)),n}return this.d.getFullYear()<0?"BC":"AD"},decade:function(i){if(void 0!==i){if(!(i=(i=(i=String(i)).replace(/([0-9])'?s$/,"$1")).replace(/([0-9])(th|rd|st|nd)/,"$1")))return console.warn("Spacetime: Invalid decade input"),this;2===i.length&&/[0-9][0-9]/.test(i)&&(i="19"+i);let n=Number(i);return isNaN(n)?this:(n=10*Math.floor(n/10),this.year(n))}return this.startOf("decade").year()},century:function(i){if(void 0!==i){"string"==typeof i&&(i=(i=(i=i.replace(/([0-9])(th|rd|st|nd)/,"$1")).replace(/([0-9]+) ?(b\.?c\.?|a\.?d\.?)/i,(t,o,s)=>(s.match(/b\.?c\.?/i)&&(o="-"+o),o))).replace(/c$/,""));let e=Number(i);return isNaN(i)?(console.warn("Spacetime: Invalid century input"),this):(0===e&&(e=1),e=e>=0?100*(e-1):100*(e+1),this.year(e))}let n=this.startOf("century").year();return n=Math.floor(n/100),n<0?n-1:n+1},millenium:function(i){if(void 0!==i){if("string"==typeof i&&(i=i.replace(/([0-9])(th|rd|st|nd)/,"$1"),i=Number(i),isNaN(i)))return console.warn("Spacetime: Invalid millenium input"),this;i>0&&(i-=1);let e=1e3*i;return 0===e&&(e=1),this.year(e)}let n=Math.floor(this.year()/1e3);return n>=0&&(n+=1),n}});bs.milliseconds=bs.millisecond,bs.seconds=bs.second,bs.minutes=bs.minute,bs.hours=bs.hour,bs.hour24=bs.hour,bs.h12=bs.hour12,bs.h24=bs.hour24,bs.days=bs.day;const eI=function(i,n){return 1===i&&Nv(n)?29:pu[i]},nl=["millisecond","second","minute","hour","date","month"];let pd={second:nl.slice(0,1),minute:nl.slice(0,2),quarterhour:nl.slice(0,2),hour:nl.slice(0,3),date:nl.slice(0,4),month:nl.slice(0,4),quarter:nl.slice(0,4),season:nl.slice(0,4),year:nl,decade:nl,century:nl};pd.week=pd.hour,pd.season=pd.date,pd.quarter=pd.date;const xce={year:!0,quarter:!0,season:!0,month:!0,week:!0,date:!0},Cce={month:!0,quarter:!0,season:!0,year:!0},$f={millisecond:i=>i.epoch,second:i=>[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second()].join("-"),minute:i=>[i.year(),i.month(),i.date(),i.hour(),i.minute()].join("-"),hour:i=>[i.year(),i.month(),i.date(),i.hour()].join("-"),day:i=>[i.year(),i.month(),i.date()].join("-"),week:i=>[i.year(),i.week()].join("-"),month:i=>[i.year(),i.month()].join("-"),quarter:i=>[i.year(),i.quarter()].join("-"),year:i=>i.year()};$f.date=$f.day;let tI=fB;const ol=function(i,n,e={}){this.epoch=null,this.tz=Lv(n,tI),this.silent=!(typeof e.silent<"u")||e.silent,this.british=e.dmy||e.british,this._weekStart=1,void 0!==e.weekStart&&(this._weekStart=e.weekStart),this._today={},void 0!==e.today&&(this._today=e.today),Object.defineProperty(this,"d",{get:function(){let o=(i=>{let e=i.timezones[i.tz];if(void 0===e)return console.warn("Warning: couldn't find timezone "+i.tz),0;if(void 0===e.dst)return e.offset;let t=e.offset,o=e.offset+1;"n"===e.hem&&(o=t-1);let s=e.dst.split("->");return!0===pB(i.epoch,s[0],s[1],t,o)?t:o})(this),r=(new Date(this.epoch).getTimezoneOffset()||0)+60*o;return r=60*r*1e3,new Date(this.epoch+r)}}),Object.defineProperty(this,"timezones",{get:()=>tI,set:o=>(tI=o,o)});let t=wB(this,i);this.epoch=t.epoch};var i;Object.keys(DB).forEach(i=>{ol.prototype[i]=DB[i]}),ol.prototype.clone=function(){return new ol(this.epoch,this.tz,{silent:this.silent,weekStart:this._weekStart,today:this._today,parsers:this.parsers})},ol.prototype.toLocalDate=function(){return this.toNativeDate()},ol.prototype.toNativeDate=function(){return new Date(this.epoch)},i=ol,Object.keys(bs).forEach(n=>{i.prototype[n]=bs[n]}),(i=>{i.prototype.add=function(n,e){let t=this.clone();if(!e||0===n)return t;let o=this.clone();if("millisecond"===(e=du(e)))return t.epoch+=n,t;"fortnight"===e&&(n*=2,e="week"),_s[e]?t.epoch+=_s[e]*n:"week"===e||"weekend"===e?t.epoch+=_s.day*(7*n):"quarter"===e||"season"===e?t.epoch+=_s.month*(3*n):"quarterhour"===e&&(t.epoch+=15*_s.minute*n);let s={};if(pd[e]&&pd[e].forEach(r=>{s[r]=o[r]()}),xce[e]){const r=o.timezone().current.offset-t.timezone().current.offset;t.epoch+=3600*r*1e3}if("month"===e&&(s.month=o.month()+n,s=((i,n)=>{if(i.month>0){let e=parseInt(i.month/12,10);i.year=n.year()+e,i.month=i.month%12}else if(i.month<0){let e=Math.abs(i.month),t=parseInt(e/12,10);e%12!=0&&(t+=1),i.year=n.year()-t,i.month=i.month%12,i.month=i.month+12,12===i.month&&(i.month=0)}return i})(s,o)),"week"===e){let r=o.date()+7*n;r<=28&&r>1&&(s.date=r)}if("weekend"===e&&"saturday"!==t.dayName())t=t.day("saturday",!0);else if("date"===e){if(n<0)s=((i,n,e)=>{i.year=n.year(),i.month=n.month();let t=n.date();for(i.date=t-Math.abs(e);i.date<1;){i.month-=1,i.month<0&&(i.month=11,i.year-=1);let o=eI(i.month,i.year);i.date+=o}return i})(s,o,n);else{let r=o.date()+n;s=((i,n,e)=>{let t=n.year(),o=n.month(),s=eI(o,t);for(;e>s;)e-=s,o+=1,o>=12&&(o-=12,t+=1),s=eI(o,t);return i.month=o,i.date=e,i})(s,o,r)}0!==n&&o.isSame(t,"day")&&(s.date=o.date()+n)}else if("quarter"===e){if(s.month=o.month()+3*n,s.year=o.year(),s.month<0){let r=Math.floor(s.month/12),a=s.month+12*Math.abs(r);s.month=a,s.year+=r}else if(s.month>=12){let r=Math.floor(s.month/12);s.month=s.month%12,s.year+=r}s.date=o.date()}else if("year"===e){let r=o.year()+n,a=t.year();if(a<r){let l=Math.floor(n/4)||1;t.epoch+=Math.abs(_s.day*l)}else if(a>r){let l=Math.floor(n/4)||1;t.epoch+=_s.day*l}}else"decade"===e?s.year=t.year()+10:"century"===e&&(s.year=t.year()+100);if(Cce[e]){let r=pu[s.month];s.date=o.date(),s.date>r&&(s.date=r)}return Object.keys(s).length>1&&zn(t,s),t},i.prototype.subtract=function(n,e){return this.clone().add(-1*n,e)},i.prototype.minus=i.prototype.subtract,i.prototype.plus=i.prototype.add})(ol),(i=>{i.prototype.isSame=function(n,e,t=!0){let o=this;if(!e)return null;if("string"==typeof n&&"object"==typeof e){let s=n;n=e,e=s}return("string"==typeof n||"number"==typeof n)&&(n=new i(n,this.timezone.name)),e=e.replace(/s$/,""),!0===t&&o.tz!==n.tz&&((n=n.clone()).tz=o.tz),$f[e]?$f[e](o)===$f[e](n):null}})(ol),(i=>{const n={isAfter:function(e){let t=Of(e=uu(e,this));return null===t?null:this.epoch>t},isBefore:function(e){let t=Of(e=uu(e,this));return null===t?null:this.epoch<t},isEqual:function(e){let t=Of(e=uu(e,this));return null===t?null:this.epoch===t},isBetween:function(e,t,o=!1){e=uu(e,this),t=uu(t,this);let s=Of(e);if(null===s)return null;let r=Of(t);return null===r?null:o?this.isBetween(e,t)||this.isEqual(e)||this.isEqual(t):s<this.epoch&&this.epoch<r}};Object.keys(n).forEach(e=>{i.prototype[e]=n[e]})})(ol),(i=>{const n={i18n:e=>{ip(e.days)&&function Ple(i){Gk=i.short||Gk,Wk=i.long||Wk}(e.days),ip(e.months)&&function vle(i){Ff=i.short||Ff,Lf=i.long||Lf}(e.months),function ple(i){return"[object Boolean]"===Object.prototype.toString.call(i)}(e.useTitleCase)&&function Ele(i){IB=i}(e.useTitleCase),ip(e.ampm)&&function uce(i){Jk=i.am||Jk,Qk=i.pm||Qk}(e.ampm)}};Object.keys(n).forEach(e=>{i.prototype[e]=n[e]})})(ol);const xa=ol,Yr=(i,n,e)=>new xa(i,n,e),Hv=function(i){let n=i._today||{};return Object.keys(n).forEach(e=>{i=i[e](n[e])}),i};Yr.now=(i,n)=>{let e=new xa((new Date).getTime(),i,n);return e=Hv(e),e},Yr.today=(i,n)=>{let e=new xa((new Date).getTime(),i,n);return e=Hv(e),e.startOf("day")},Yr.tomorrow=(i,n)=>{let e=new xa((new Date).getTime(),i,n);return e=Hv(e),e.add(1,"day").startOf("day")},Yr.yesterday=(i,n)=>{let e=new xa((new Date).getTime(),i,n);return e=Hv(e),e.subtract(1,"day").startOf("day")},Yr.extend=function(i={}){return Object.keys(i).forEach(n=>{xa.prototype[n]=i[n]}),this},Yr.timezones=function(){return(new xa).timezones},Yr.max=function(i,n){let e=new xa(null,i,n);return e.epoch=864e13,e},Yr.min=function(i,n){let e=new xa(null,i,n);return e.epoch=-864e13,e},Yr.whereIts=(i,n)=>{let e=new xa(null),t=new xa(null);e=e.time(i),t=n?t.time(n):e.add(59,"minutes");let o=e.hour(),s=t.hour();return Object.keys(e.timezones).filter(a=>{if(-1===a.indexOf("/"))return!1;let l=new xa(null,a),c=l.hour();return c>=o&&c<=s&&!(c===o&&l.minute()<e.minute()||c===s&&l.minute()>t.minute())})},Yr.version="7.4.0",Yr.plugin=Yr.extend;const md=Yr;typeof performance<"u"&&typeof performance.now<"u"&&"function"==typeof performance.mark&&"function"==typeof performance.measure&&("function"==typeof performance.clearMarks||performance),typeof PerformanceObserver<"u"&&typeof PerformanceObserver.prototype<"u"&&PerformanceObserver,Object.prototype.toString.call(typeof process<"u"?process:0);const BB=new nt("ngx-skeleton-loader.config");let VB=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:BB,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi]}),i})();const Fce=["wrapper"],Lce=["sourceImage"];function Nce(i,n){if(1&i){const e=Me();x(0,"img",4,5),ie("load",function(){return he(e),pe(I().imageLoadedInView())})("mousedown",function(o){he(e);const s=I();return pe(s.startMove(o,s.moveTypes.Drag))})("touchstart",function(o){he(e);const s=I();return pe(s.startMove(o,s.moveTypes.Drag))}),C()}if(2&i){const e=I();et("visibility",e.imageVisible?"visible":"hidden")("transform",e.safeTransformStyle),St("ngx-ic-draggable",!e.disabled&&e.allowMoveImage),g("src",e.safeImgDataUrl,tr),Et("alt",e.imageAltText)}}function Bce(i,n){if(1&i){const e=Me();ds(0),x(1,"span",9),ie("mousedown",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"topleft"))})("touchstart",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"topleft"))}),me(2,"span",10),C(),x(3,"span",11),me(4,"span",10),C(),x(5,"span",12),ie("mousedown",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"topright"))})("touchstart",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"topright"))}),me(6,"span",10),C(),x(7,"span",13),me(8,"span",10),C(),x(9,"span",14),ie("mousedown",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"bottomright"))})("touchstart",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"bottomright"))}),me(10,"span",10),C(),x(11,"span",15),me(12,"span",10),C(),x(13,"span",16),ie("mousedown",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"bottomleft"))})("touchstart",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"bottomleft"))}),me(14,"span",10),C(),x(15,"span",17),me(16,"span",10),C(),x(17,"span",18),ie("mousedown",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"top"))})("touchstart",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"top"))}),C(),x(18,"span",19),ie("mousedown",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"right"))})("touchstart",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"right"))}),C(),x(19,"span",20),ie("mousedown",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"bottom"))})("touchstart",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"bottom"))}),C(),x(20,"span",21),ie("mousedown",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"left"))})("touchstart",function(o){he(e);const s=I(2);return pe(s.startMove(o,s.moveTypes.Resize,"left"))}),C(),us()}}function Vce(i,n){if(1&i){const e=Me();x(0,"div",6),ie("keydown",function(o){return he(e),pe(I().keyboardAccess(o))}),x(1,"div",7),ie("mousedown",function(o){he(e);const s=I();return pe(s.startMove(o,s.moveTypes.Move))})("touchstart",function(o){he(e);const s=I();return pe(s.startMove(o,s.moveTypes.Move))}),C(),$(2,Bce,21,0,"ng-container",8),C()}if(2&i){const e=I();et("top",e.cropper.y1,"px")("left",e.cropper.x1,"px")("width",e.cropper.x2-e.cropper.x1,"px")("height",e.cropper.y2-e.cropper.y1,"px")("margin-left","center"===e.alignImage?e.marginLeft:null)("visibility",e.imageVisible?"visible":"hidden"),St("ngx-ic-round",e.roundCropper),_(2),g("ngIf",!e.hideResizeSquares)}}class $ce{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(n){Object.keys(n).filter(e=>e in this).forEach(e=>this[e]=n[e]),this.validateOptions()}setOptionsFromChanges(n){Object.keys(n).filter(e=>e in this).forEach(e=>this[e]=n[e].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var Sr=(()=>(function(i){i.Drag="drag",i.Move="move",i.Resize="resize",i.Pinch="pinch"}(Sr||(Sr={})),Sr))();function $B(i,n){return i/100*n}let Wce=(()=>{class i{crop(e,t,o,s){const r=this.getImagePosition(e,t,o,s),a=r.x2-r.x1,l=r.y2-r.y1,c=document.createElement("canvas");c.width=a,c.height=l;const A=c.getContext("2d");if(!A)return null;null!=s.backgroundColor&&(A.fillStyle=s.backgroundColor,A.fillRect(0,0,a,l));const D=(s.transform.scale||1)*(s.transform.flipH?-1:1),te=(s.transform.scale||1)*(s.transform.flipV?-1:1),{translateH:se,translateV:le}=this.getCanvasTranslate(e,t,s),ke=t.transformed;A.setTransform(D,0,0,te,ke.size.width/2+se,ke.size.height/2+le),A.translate(-r.x1/D,-r.y1/te),A.rotate((s.transform.rotate||0)*Math.PI/180),A.drawImage(ke.image,-ke.size.width/2,-ke.size.height/2);const Pe={width:a,height:l,imagePosition:r,cropperPosition:{...o}};s.containWithinAspectRatio&&(Pe.offsetImagePosition=this.getOffsetImagePosition(e,t,o,s));const ze=this.getResizeRatio(a,l,s);return 1!==ze&&(Pe.width=Math.round(a*ze),Pe.height=s.maintainAspectRatio?Math.round(Pe.width/s.aspectRatio):Math.round(l*ze),function Gce(i,n,e){const t=i.width,o=i.height,s=t/(n=Math.round(n)),r=o/(e=Math.round(e)),a=Math.ceil(s/2),l=Math.ceil(r/2),c=i.getContext("2d");if(c){const A=c.getImageData(0,0,t,o),D=c.createImageData(n,e),te=A.data,se=D.data;for(let le=0;le<e;le++)for(let ke=0;ke<n;ke++){const Pe=4*(ke+le*n),ze=le*r;let at=0,it=0,_t=0,Nt=0,_i=0,An=0,Oo=0;const Es=Math.floor(ke*s),zo=Math.floor(le*r);let Us=Math.ceil((ke+1)*s),sa=Math.ceil((le+1)*r);Us=Math.min(Us,t),sa=Math.min(sa,o);for(let Er=zo;Er<sa;Er++){const Zs=Math.abs(ze-Er)/l,lg=ke*s,oi=Zs*Zs;for(let mi=Es;mi<Us;mi++){const yi=Math.abs(lg-mi)/a,nn=Math.sqrt(oi+yi*yi);if(nn>=1)continue;at=2*nn*nn*nn-3*nn*nn+1;const io=4*(mi+Er*t);Oo+=at*te[io+3],_t+=at,te[io+3]<255&&(at=at*te[io+3]/250),Nt+=at*te[io],_i+=at*te[io+1],An+=at*te[io+2],it+=at}}se[Pe]=Nt/it,se[Pe+1]=_i/it,se[Pe+2]=An/it,se[Pe+3]=Oo/_t}i.width=n,i.height=e,c.putImageData(D,0,0)}}(c,Pe.width,Pe.height)),Pe.base64=c.toDataURL("image/"+s.format,this.getQuality(s)),Pe}getCanvasTranslate(e,t,o){if("px"===o.transform.translateUnit){const s=this.getRatio(e,t);return{translateH:(o.transform.translateH||0)*s,translateV:(o.transform.translateV||0)*s}}return{translateH:o.transform.translateH?$B(o.transform.translateH,t.transformed.size.width):0,translateV:o.transform.translateV?$B(o.transform.translateV,t.transformed.size.height):0}}getRatio(e,t){return t.transformed.size.width/e.nativeElement.offsetWidth}getImagePosition(e,t,o,s){const r=this.getRatio(e,t),a={x1:Math.round(o.x1*r),y1:Math.round(o.y1*r),x2:Math.round(o.x2*r),y2:Math.round(o.y2*r)};return s.containWithinAspectRatio||(a.x1=Math.max(a.x1,0),a.y1=Math.max(a.y1,0),a.x2=Math.min(a.x2,t.transformed.size.width),a.y2=Math.min(a.y2,t.transformed.size.height)),a}getOffsetImagePosition(e,t,o,s){const l=t.transformed.size.width/e.nativeElement.offsetWidth;let c,A;(s.canvasRotation+t.exifTransform.rotate)%2?(c=(t.transformed.size.width-t.original.size.height)/2,A=(t.transformed.size.height-t.original.size.width)/2):(c=(t.transformed.size.width-t.original.size.width)/2,A=(t.transformed.size.height-t.original.size.height)/2);const D={x1:Math.round(o.x1*l)-c,y1:Math.round(o.y1*l)-A,x2:Math.round(o.x2*l)-c,y2:Math.round(o.y2*l)-A};return s.containWithinAspectRatio||(D.x1=Math.max(D.x1,0),D.y1=Math.max(D.y1,0),D.x2=Math.min(D.x2,t.transformed.size.width),D.y2=Math.min(D.y2,t.transformed.size.height)),D}getResizeRatio(e,t,o){const s=o.resizeToWidth/e,r=o.resizeToHeight/t,a=new Array;o.resizeToWidth>0&&a.push(s),o.resizeToHeight>0&&a.push(r);const l=0===a.length?1:Math.min(...a);return l>1&&!o.onlyScaleDown?l:Math.min(l,1)}getQuality(e){return Math.min(1,Math.max(0,e.imageQuality/100))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Uce=(()=>{class i{resetCropperPosition(e,t,o){if(!e?.nativeElement)return;const s=e.nativeElement;if(o.cropperStaticHeight&&o.cropperStaticWidth)t.x1=0,t.x2=s.offsetWidth>o.cropperStaticWidth?o.cropperStaticWidth:s.offsetWidth,t.y1=0,t.y2=s.offsetHeight>o.cropperStaticHeight?o.cropperStaticHeight:s.offsetHeight;else{const r=Math.min(o.cropperScaledMaxWidth,s.offsetWidth),a=Math.min(o.cropperScaledMaxHeight,s.offsetHeight);if(o.maintainAspectRatio)if(s.offsetWidth/o.aspectRatio<s.offsetHeight){t.x1=0,t.x2=r;const l=r/o.aspectRatio;t.y1=(s.offsetHeight-l)/2,t.y2=t.y1+l}else{t.y1=0,t.y2=a;const l=a*o.aspectRatio;t.x1=(s.offsetWidth-l)/2,t.x2=t.x1+l}else t.x1=0,t.x2=r,t.y1=0,t.y2=a}}move(e,t,o){const s=this.getClientX(e)-t.clientX,r=this.getClientY(e)-t.clientY;o.x1=t.x1+s,o.y1=t.y1+r,o.x2=t.x2+s,o.y2=t.y2+r}resize(e,t,o,s,r){const a=this.getClientX(e)-t.clientX,l=this.getClientY(e)-t.clientY;switch(t.position){case"left":o.x1=Math.min(Math.max(t.x1+a,o.x2-r.cropperScaledMaxWidth),o.x2-r.cropperScaledMinWidth);break;case"topleft":o.x1=Math.min(Math.max(t.x1+a,o.x2-r.cropperScaledMaxWidth),o.x2-r.cropperScaledMinWidth),o.y1=Math.min(Math.max(t.y1+l,o.y2-r.cropperScaledMaxHeight),o.y2-r.cropperScaledMinHeight);break;case"top":o.y1=Math.min(Math.max(t.y1+l,o.y2-r.cropperScaledMaxHeight),o.y2-r.cropperScaledMinHeight);break;case"topright":o.x2=Math.max(Math.min(t.x2+a,o.x1+r.cropperScaledMaxWidth),o.x1+r.cropperScaledMinWidth),o.y1=Math.min(Math.max(t.y1+l,o.y2-r.cropperScaledMaxHeight),o.y2-r.cropperScaledMinHeight);break;case"right":o.x2=Math.max(Math.min(t.x2+a,o.x1+r.cropperScaledMaxWidth),o.x1+r.cropperScaledMinWidth);break;case"bottomright":o.x2=Math.max(Math.min(t.x2+a,o.x1+r.cropperScaledMaxWidth),o.x1+r.cropperScaledMinWidth),o.y2=Math.max(Math.min(t.y2+l,o.y1+r.cropperScaledMaxHeight),o.y1+r.cropperScaledMinHeight);break;case"bottom":o.y2=Math.max(Math.min(t.y2+l,o.y1+r.cropperScaledMaxHeight),o.y1+r.cropperScaledMinHeight);break;case"bottomleft":o.x1=Math.min(Math.max(t.x1+a,o.x2-r.cropperScaledMaxWidth),o.x2-r.cropperScaledMinWidth),o.y2=Math.max(Math.min(t.y2+l,o.y1+r.cropperScaledMaxHeight),o.y1+r.cropperScaledMinHeight);break;case"center":const c=e.scale,A=Math.min(Math.max(r.cropperScaledMinWidth,Math.abs(t.x2-t.x1)*c),r.cropperScaledMaxWidth),D=Math.min(Math.max(r.cropperScaledMinHeight,Math.abs(t.y2-t.y1)*c),r.cropperScaledMaxHeight);o.x1=t.clientX-A/2,o.x2=t.clientX+A/2,o.y1=t.clientY-D/2,o.y2=t.clientY+D/2,o.x1<0?(o.x2-=o.x1,o.x1=0):o.x2>s.width&&(o.x1-=o.x2-s.width,o.x2=s.width),o.y1<0?(o.y2-=o.y1,o.y1=0):o.y2>s.height&&(o.y1-=o.y2-s.height,o.y2=s.height)}r.maintainAspectRatio&&this.checkAspectRatio(t.position,o,s,r)}checkAspectRatio(e,t,o,s){let r=0,a=0;switch(e){case"top":t.x2=t.x1+(t.y2-t.y1)*s.aspectRatio,r=Math.max(t.x2-o.width,0),a=Math.max(0-t.y1,0),(r>0||a>0)&&(t.x2-=a*s.aspectRatio>r?a*s.aspectRatio:r,t.y1+=a*s.aspectRatio>r?a:r/s.aspectRatio);break;case"bottom":t.x2=t.x1+(t.y2-t.y1)*s.aspectRatio,r=Math.max(t.x2-o.width,0),a=Math.max(t.y2-o.height,0),(r>0||a>0)&&(t.x2-=a*s.aspectRatio>r?a*s.aspectRatio:r,t.y2-=a*s.aspectRatio>r?a:r/s.aspectRatio);break;case"topleft":t.y1=t.y2-(t.x2-t.x1)/s.aspectRatio,r=Math.max(0-t.x1,0),a=Math.max(0-t.y1,0),(r>0||a>0)&&(t.x1+=a*s.aspectRatio>r?a*s.aspectRatio:r,t.y1+=a*s.aspectRatio>r?a:r/s.aspectRatio);break;case"topright":t.y1=t.y2-(t.x2-t.x1)/s.aspectRatio,r=Math.max(t.x2-o.width,0),a=Math.max(0-t.y1,0),(r>0||a>0)&&(t.x2-=a*s.aspectRatio>r?a*s.aspectRatio:r,t.y1+=a*s.aspectRatio>r?a:r/s.aspectRatio);break;case"right":case"bottomright":t.y2=t.y1+(t.x2-t.x1)/s.aspectRatio,r=Math.max(t.x2-o.width,0),a=Math.max(t.y2-o.height,0),(r>0||a>0)&&(t.x2-=a*s.aspectRatio>r?a*s.aspectRatio:r,t.y2-=a*s.aspectRatio>r?a:r/s.aspectRatio);break;case"left":case"bottomleft":t.y2=t.y1+(t.x2-t.x1)/s.aspectRatio,r=Math.max(0-t.x1,0),a=Math.max(t.y2-o.height,0),(r>0||a>0)&&(t.x1+=a*s.aspectRatio>r?a*s.aspectRatio:r,t.y2-=a*s.aspectRatio>r?a:r/s.aspectRatio);break;case"center":t.x2=t.x1+(t.y2-t.y1)*s.aspectRatio,t.y2=t.y1+(t.x2-t.x1)/s.aspectRatio;const l=Math.max(0-t.x1,0),c=Math.max(t.x2-o.width,0),A=Math.max(t.y2-o.height,0),D=Math.max(0-t.y1,0);(l>0||c>0||A>0||D>0)&&(t.x1+=A*s.aspectRatio>l?A*s.aspectRatio:l,t.x2-=D*s.aspectRatio>c?D*s.aspectRatio:c,t.y1+=D*s.aspectRatio>c?D:c/s.aspectRatio,t.y2-=A*s.aspectRatio>l?A:l/s.aspectRatio)}}getClientX(e){return e.touches?.[0].clientX||e.clientX||0}getClientY(e){return e.touches?.[0].clientY||e.clientY||0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();let Rt,Qn,Gv,Nc,eo,wo,_u,ut,zB,ap,sI,gt,jB,GB,Wv,Bi,Uv,Hf,sl,zt,Mr,lo,ZB,Zv,Jce=(()=>{class i{constructor(){this.autoRotateSupported=function Kce(){return new Promise(i=>{const n=new Image;n.onload=()=>{i(1===n.width&&2===n.height)},n.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(e,t){return new Promise((o,s)=>{const r=new FileReader;r.onload=a=>{this.loadImage(a.target.result,e.type,t).then(o).catch(s)},r.readAsDataURL(e)})}loadImage(e,t,o){return this.isValidImageType(t)?this.loadBase64Image(e,o):Promise.reject(new Error("Invalid image type"))}isValidImageType(e){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(e)}loadImageFromURL(e,t){return new Promise((o,s)=>{const r=new Image;r.onerror=()=>s,r.onload=()=>{const a=document.createElement("canvas"),l=a.getContext("2d");a.width=r.width,a.height=r.height,l?.drawImage(r,0,0),this.loadBase64Image(a.toDataURL(),t).then(o)},r.crossOrigin="anonymous",r.src=e})}loadBase64Image(e,t){return new Promise((o,s)=>{const r=new Image;r.onload=()=>o({originalImage:r,originalBase64:e}),r.onerror=s,r.src=e}).then(o=>this.transformImageBase64(o,t))}transformImageBase64(e,t){var o=this;return q(function*(){const s=yield o.autoRotateSupported,r=yield function Yce(i){switch("string"==typeof i&&(i=function Xce(i){const n=new DataView(function qce(i){i=i.replace(/^data\:([^\;]+)\;base64,/gim,"");const n=atob(i),e=n.length,t=new Uint8Array(e);for(let o=0;o<e;o++)t[o]=n.charCodeAt(o);return t.buffer}(i));if(65496!==n.getUint16(0,!1))return-2;const e=n.byteLength;let t=2;for(;t<e;){if(n.getUint16(t+2,!1)<=8)return-1;const o=n.getUint16(t,!1);if(t+=2,65505==o){if(1165519206!==n.getUint32(t+=2,!1))return-1;const s=18761==n.getUint16(t+=6,!1);t+=n.getUint32(t+4,s);const r=n.getUint16(t,s);t+=2;for(let a=0;a<r;a++)if(274==n.getUint16(t+12*a,s))return n.getUint16(t+12*a+8,s)}else{if(65280!=(65280&o))break;t+=n.getUint16(t,!1)}}return-1}(i)),i){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(s?-1:e.originalBase64);return e.originalImage&&e.originalImage.complete?o.transformLoadedImage({original:{base64:e.originalBase64,image:e.originalImage,size:{width:e.originalImage.naturalWidth,height:e.originalImage.naturalHeight}},exifTransform:r},t):Promise.reject(new Error("No image loaded"))})()}transformLoadedImage(e,t){var o=this;return q(function*(){const s=t.canvasRotation+e.exifTransform.rotate,r={width:e.original.image.naturalWidth,height:e.original.image.naturalHeight};if(0===s&&!e.exifTransform.flip&&!t.containWithinAspectRatio)return{original:{base64:e.original.base64,image:e.original.image,size:{...r}},transformed:{base64:e.original.base64,image:e.original.image,size:{...r}},exifTransform:e.exifTransform};const a=o.getTransformedSize(r,e.exifTransform,t),l=document.createElement("canvas");l.width=a.width,l.height=a.height;const c=l.getContext("2d");c?.setTransform(e.exifTransform.flip?-1:1,0,0,1,l.width/2,l.height/2),c?.rotate(Math.PI*(s/2)),c?.drawImage(e.original.image,-r.width/2,-r.height/2);const A=l.toDataURL(),D=yield o.loadImageFromBase64(A);return{original:{base64:e.original.base64,image:e.original.image,size:{...r}},transformed:{base64:A,image:D,size:{width:D.width,height:D.height}},exifTransform:e.exifTransform}})()}loadImageFromBase64(e){return new Promise((t,o)=>{const s=new Image;s.onload=()=>t(s),s.onerror=o,s.src=e})}getTransformedSize(e,t,o){const s=o.canvasRotation+t.rotate;if(o.containWithinAspectRatio){if(s%2){const a=e.height/o.aspectRatio;return{width:Math.max(e.height,e.width*o.aspectRatio),height:Math.max(e.width,a)}}{const a=e.width/o.aspectRatio;return{width:Math.max(e.width,e.height*o.aspectRatio),height:Math.max(e.height,a)}}}return s%2?{height:e.width,width:e.height}:{width:e.width,height:e.height}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Qce=(()=>{class i{constructor(e,t,o,s,r){this.cropService=e,this.cropperPositionService=t,this.loadImageService=o,this.sanitizer=s,this.cd=r,this.Hammer=window?.Hammer||null,this.settings=new $ce,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=Sr,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new tt,this.startCropImage=new tt,this.imageLoaded=new tt,this.cropperReady=new tt,this.loadImageFailed=new tt,this.transformChange=new tt,this.reset()}ngOnChanges(e){this.onChangesUpdateSettings(e),this.onChangesInputImage(e),this.loadedImage?.original.image.complete&&(e.containWithinAspectRatio||e.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t)),(e.cropper||e.maintainAspectRatio||e.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),!this.maintainAspectRatio||!this.resetCropOnAspectRatioChange&&this.aspectRatioIsCorrect()||!e.maintainAspectRatio&&!e.aspectRatio?e.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()):this.resetCropperPosition(),this.cd.markForCheck()),e.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop(),this.cd.markForCheck()),e.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(e){this.settings.setOptionsFromChanges(e),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(e){(e.imageChangedEvent||e.imageURL||e.imageBase64||e.imageFile)&&this.reset(),e.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),e.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),e.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),e.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){return this.imageChangedEvent?.target?.files?.length>0}setCssTransform(){const e=this.transform?.translateUnit||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${e}, ${this.transform.translateV||0}${e}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(e){this.loadImageService.loadImageFile(e,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}loadBase64Image(e){this.loadImageService.loadBase64Image(e,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}loadImageFromURL(e){this.loadImageService.loadImageFromURL(e,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}setLoadedImage(e){this.loadedImage=e,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e.transformed.base64),this.cd.markForCheck()}loadImageError(e){console.error(e),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit({...this.maxSize}),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>0}onResize(){this.loadedImage&&(this.hidden?this.resizedWhileHidden=!0:(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()))}activatePinchGesture(){if(this.Hammer){const e=new this.Hammer(this.wrapper.nativeElement);e.get("pinch").set({enable:!0}),e.on("pinchmove",this.onPinch.bind(this)),e.on("pinchend",this.pinchStop.bind(this)),e.on("pinchstart",this.startPinch.bind(this))}}resizeCropperPosition(){const e=this.sourceImage.nativeElement;(this.maxSize.width!==e.offsetWidth||this.maxSize.height!==e.offsetHeight)&&(this.cropper.x1=this.cropper.x1*e.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*e.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*e.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*e.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(e){this.changeKeyboardStepSize(e),this.keyboardMoveCropper(e)}changeKeyboardStepSize(e){const t=+e.key;t>=1&&t<=9&&(this.settings.stepSize=t)}keyboardMoveCropper(e){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(e.key))return;const o=e.shiftKey?Sr.Resize:Sr.Move,s=e.altKey?function zce(i){switch(i){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(e.key):function Hce(i){switch(i){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(e.key),r=function jce(i,n){switch(i){case"ArrowUp":return{clientX:0,clientY:-1*n};case"ArrowRight":return{clientX:n,clientY:0};case"ArrowDown":return{clientX:0,clientY:n};default:return{clientX:-1*n,clientY:0}}}(e.key,this.settings.stepSize);e.preventDefault(),e.stopPropagation(),this.startMove({clientX:0,clientY:0},o,s),this.moveImg(r),this.moveStop()}startMove(e,t,o=null){this.disabled||this.moveStart?.active&&this.moveStart?.type===Sr.Pinch||t===Sr.Drag&&!this.allowMoveImage||(e.preventDefault&&e.preventDefault(),this.moveStart={active:!0,type:t,position:o,transform:{...this.transform},clientX:this.cropperPositionService.getClientX(e),clientY:this.cropperPositionService.getClientY(e),...this.cropper})}startPinch(e){this.safeImgDataUrl&&(e.preventDefault&&e.preventDefault(),this.moveStart={active:!0,type:Sr.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2,...this.cropper})}moveImg(e){if(this.moveStart.active){if(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===Sr.Move)this.cropperPositionService.move(e,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===Sr.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===Sr.Drag){const t=this.cropperPositionService.getClientX(e)-this.moveStart.clientX,o=this.cropperPositionService.getClientY(e)-this.moveStart.clientY;this.transform={...this.transform,translateH:(this.moveStart.transform?.translateH||0)+t,translateV:(this.moveStart.transform?.translateV||0)+o},this.setCssTransform()}this.cd.detectChanges()}}onPinch(e){this.moveStart.active&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===Sr.Pinch&&(this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const e=this.sourceImage.nativeElement;this.maxSize.width=e.offsetWidth,this.maxSize.height=e.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage?.transformed?.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed?.image){const e=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/e:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/e:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(e=!1){this.cropper.x1<0&&(this.cropper.x2-=e?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=e?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=e?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=e?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){this.moveStart.active&&(this.moveStart.active=!1,this.moveStart?.type===Sr.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){if(null!=this.loadedImage?.transformed?.image){this.startCropImage.emit();const e=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=e&&this.imageCropped.emit(e),e}return null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}}return i.\u0275fac=function(e){return new(e||i)(P(Wce),P(Uce),P(Jce),P(fm),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["image-cropper"]],viewQuery:function(e,t){if(1&e&&(ht(Fce,7),ht(Lce,5)),2&e){let o;Ke(o=Ye())&&(t.wrapper=o.first),Ke(o=Ye())&&(t.sourceImage=o.first)}},hostVars:6,hostBindings:function(e,t){1&e&&ie("resize",function(){return t.onResize()},0,Fd)("mousemove",function(s){return t.moveImg(s)},!1,xr)("touchmove",function(s){return t.moveImg(s)},!1,xr)("mouseup",function(){return t.moveStop()},!1,xr)("touchend",function(){return t.moveStop()},!1,xr),2&e&&(et("text-align",t.alignImage),St("disabled",t.disabled)("ngx-ix-hidden",t.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[dn],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load","mousedown","touchstart"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(e,t){1&e&&(x(0,"div",null,0),$(2,Nce,2,8,"img",1),me(3,"div",2),$(4,Vce,3,15,"div",3),C()),2&e&&(et("background",t.imageVisible&&t.backgroundColor),_(2),g("ngIf",t.safeImgDataUrl),_(1),et("width",t.maxSize.width,"px")("height",t.maxSize.height,"px")("margin-left","center"===t.alignImage?t.marginLeft:null),_(1),g("ngIf",t.imageVisible))},dependencies:[ct],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0}),i})(),ede=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[[Gi]]}),i})(),HB=(()=>{class i{transform(e,t=null){if(t||(t="(XXX) XXX-XXXX"),"string"==typeof e&&String(e).length>=9){let o=String(e).trim();o=o.replace(/^\+/,""),o=o.replace(/\D/g,""),o=o.slice(0,(t.match(/X/g)||[]).length);let s=t;const r=o.split("");let a=0;for(const c of r)a=s.indexOf("X"),a>=0&&(s=s.slice(0,Math.max(0,a))+c+s.slice(a+1));let l=t.length;return-1!=a&&(l=a+1),s.slice(0,Math.max(0,l))}return e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=Ro({name:"phone",type:i,pure:!0}),i})(),ide=(()=>{class i{transform(e){return e?"Yes":"No"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=Ro({name:"toYesNo",type:i,pure:!0}),i})(),oI=!1;function fd(i){Uv=i&&"string"==typeof i?i:void 0}function WB(i=null,n=null){i instanceof Ji?(n||(n=i.url),Hf=n,i.navigateByUrl("system/cache/clear",{skipLocationChange:!0}).catch(e=>{window.console.log("e",e)})):Hf=void 0}function rI(i){i&&"object"==typeof i&&Object.keys(i).length>0&&(sl=JSON.parse(JSON.stringify(i)))}function UB(i){i&&"object"==typeof i&&Object.keys(i).length>0&&(zt=JSON.parse(JSON.stringify(i)))}function KB(i){ZB="object"==typeof i?i:null}function YB(i){Zv="object"==typeof i?i:null}let gd,lp,Kv={};function XB(i){"object"==typeof i&&null!==i&&(Kv=i)}let xn,Ide={};const Mde=new nt("Field Custom Setting",{providedIn:"root",factory:()=>({})});class Pde{constructor(n){if(this.flag={},this.resource={},n)for(const e in n)this[e]=n[e];this.metadata||(this.metadata={})}}class qB{constructor(n){if(this.showHeader=!0,n)for(const e in n)this[e]=n[e]}}class Tde{constructor(n){if(this.defaultValue=null,this.api_cache=!1,this.api_version=1,this.api_path="",this.api_path_vars=null,this.data_values=[],this.data_filter=null,this.data_when=null,n)for(const e in n)this[e]=n[e]}}class JB{constructor(n){if(this.canAdd=!1,this.canRemove=!1,this.custom_setting={},this.data={},this.data_keys=[],this.entries=[],this.facade=!1,this.id=null,this.metadata={},this.uses_multiple_values=!1,this.multiple_values_max=1,this.multiple_values_limit=10,this.multiple_values_min=1,this.name="",this.options={},this.setting={},this.show_name=!0,this.sort=99,this.state="template_edit",n)for(const e in n)this[e]=n[e];this.options||(this.options={})}}let QB=(()=>{class i{transform(e){return("true"===e||"1"===e)&&(e=!0),("false"===e||"0"===e)&&(e=!1),e&&null!==e?"Archived":"Active"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=Ro({name:"toActiveOrArchived",type:i,pure:!0}),i})(),e4=(()=>{class i{constructor(){this.aliases=[]}transform(e,t="",o=""){let s="";if(t&&"string"==typeof t?s=t:t&&o&&t[o]?s=t[o]:t&&t.display?s=t.display:t&&t.label&&(s=t.label),s){if(s.includes("alias:")){const r=s.split(":");r.shift();const a=this.getAlias(r.shift()).toLocaleLowerCase();s=a.charAt(0).toUpperCase()+a.slice(1)+" ";let l="";for(;l=r.shift();)s+=" "+l}}else{const r=e.split("_");for(const a of r)s+="id"===a||"fk"===a?"ID ":a.charAt(0).toUpperCase()+a.slice(1)+" "}return s.trim()}getAlias(e){return this.aliases[e]?this.aliases[e]:e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=Ro({name:"label",type:i,pure:!0}),i})();function Oi(i,n){if(Ne(i,!0)&&i.includes(".")&&kt(n)){const e=i.split("."),t=e.shift();if(t){const o=JSON.parse(localStorage.getItem(t)||"{}"),s=e.length>0?e.pop():t,r=e.length>0?cp(o,e):o;r&&s&&(null===n?delete r[s]:r[s]=n,localStorage.setItem(t,JSON.stringify(o)))}}}function rs(i,n=null){if(Ne(i,!0)&&i.includes(".")){const e=i.split("."),t=e.shift();if(t){const o=e.length>0?e.pop():t,s=JSON.parse(localStorage.getItem(t)||"{}"),r=e.length>0?cp(s,e):s;return r&&o&&typeof r[o]<"u"?r[o]:n}}return n}function _d(i,n="plural"){if(Ne(i,!0)){if(Y(lp,[i]))return lp[i][n];{let e=Tn(i);return e=Yl(e),"plural"===n&&"s"!==e.slice(-1)&&(e=`${e}s`),e}}return i}function Xn(i,n){if(Ne(i,!0)&&i.includes(".")&&kt(n)){const e=i.split("."),t=e.shift();if(t){const o=e.length>0?e.pop():t,s=JSON.parse(sessionStorage.getItem(t)||"{}"),r=e.length>0?cp(s,e):s;r&&o&&(null===n?delete r[o]:r[o]=n,sessionStorage.setItem(t,JSON.stringify(s)))}}}function Ss(i,n=null){if(Ne(i,!0)&&i.includes(".")){const e=i.split("."),t=e.shift();if(t){const o=e.length>0?e.pop():t,s=JSON.parse(sessionStorage.getItem(t)||"{}"),r=e.length>0?cp(s,e):s;return r&&o&&typeof r[o]<"u"?r[o]:n}}return n}function rl(i,n=null){let e=rs(i,n);if(Ne(e,!0))try{e=JSON.parse(atob(e))}catch{e=null}else e=null;return e}function Gs(i){let n;if(null==i||"object"!=typeof i)return i;if(i instanceof Date)return n=new Date,n.setTime(i.getTime()),n;if(Array.isArray(i)){n=[];for(let e=0,t=i.length;e<t;e++)n[e]=Gs(i[e]);return n}if(i instanceof Object){n={};for(const e in i)i.hasOwnProperty(e)&&(n[e]=Gs(i[e]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")}function gi(i){return JSON.parse(JSON.stringify(i))}function co(i,...n){if(0===n.length)return i;const e=n.shift();if(Y(i)&&Y(e))for(const t in e)Y(e[t])?(i[t]||Object.assign(i,{[t]:{}}),co(i[t],e[t])):Object.assign(i,{[t]:e[t]});return co(i,...n)}function as(i,n={}){if(n.key||(n.key="id"),n.setKey||(n.setKey="value"),n.nameKey||(n.nameKey="name"),n.tags||(n.tags=null),n.prevent||(n.prevent=[]),n.parent||(n.parent=null),n.groupKey||(n.groupKey="group"),n.activeKey||(n.activeKey="active"),n.statusKey||(n.activeKey="status"),n.preserveKeys||(n.preserveKeys=[]),n.converted)return[...i];const e=[];let t,o=!1;if(Array.isArray(i)&&i.length>0){let s=[...i];const r=s[0];"id"===n.key&&typeof r.id>"u"&&typeof r.value<"u"&&(n.key="value"),typeof r[n.activeKey]<"u"&&(s=s.filter(a=>a[n.activeKey])),typeof r[n.nameKey]>"u"&&r.name&&(n.nameKey="name"),De(n.disabled,!0)&&(n.disabled=n.disabled.map(a=>String(a))),s.map((a,l)=>{if(a&&n.key in a&&!n.prevent.includes(a[n.key])){if(n.parent&&(!(n.parent.field in a)||+a[n.parent.field]!=+n.parent.value))return!1;t={name:a[n.nameKey],sort_order:a.sort??l},t[n.setKey]=a[n.key],n.preserveKeys.length>0&&n.preserveKeys.map(c=>{t[c]=a[c]?a[c]:void 0}),a[n.statusKey]&&(t.status=a[n.statusKey]),"number"==typeof a.level?t.level=a.level:n.level&&(t.level=n.level),"string"==typeof a[n.groupKey]&&(t.group=a[n.groupKey]||n.group?a[n.groupKey]:""),"string"==typeof n.groupFkKey&&(t.groupFk=a[n.groupFkKey]?a[n.groupFkKey]:0),n.ensure&&n.ensure.id&&!o&&n.ensure[n.setKey]===a[n.setKey]&&(o=!0),n.tags&&n.tags.map(c=>{c in a&&(t[c]=a[c])}),De(n.disabled,!0)&&n.disabled.includes(String(t.value))&&(t.disabled=!0),t[n.setKey]&&e.push(t)}}),n.ensure&&!o&&e.push(n.ensure),n.sort&&e.length>1&&e.sort(typeof e[0].sort_order<"u"?(a,l)=>a.sort_order<l.sort_order?-1:a.sort_order>l.sort_order?1:0:(a,l)=>a.name<l.name?-1:a.name>l.name?1:0)}return[...new Map(e.map(s=>[s.name,s])).values()]}function Lt(i,n,e=null){if(!Y(i,!0))return e;{let o,t=n.length;for(;t;){if(o=n.shift(),!i[o])return e;i=i[o],t--}if(!i)return e}return i}function cp(i,n){let t,e=n.length;for(;e;)t=n.shift(),i[t]||(i[t]={}),i=i[t],e--;return i}function al(i){return new Promise(n=>setTimeout(n,i))}function ko(i,n="asc"){return function(e,t){if(!e.hasOwnProperty(i)||!t.hasOwnProperty(i))return 0;const o="string"==typeof e[i]?e[i].toUpperCase():e[i],s="string"==typeof t[i]?t[i].toUpperCase():t[i];let r=0;return o>s?r=1:o<s&&(r=-1),"desc"==n?-1*r:r}}function Kn(i,n){const e={};if(Array.isArray(i))for(const[t,o]of i.entries())o[n]&&(e[o[n]]=t);return e}function bu(i,n){const e={};return De(i,!0)&&Ne(n,!0)&&i.map(t=>{kt(t[n])&&(e[t[n]]=t)}),e}function De(i,n=!1,e=1){return!!Array.isArray(i)&&(!n||i.length>=e)}function Kl(i,n=!1,e){const t=De(i,n);if(!t)throw Y(ut)&&ut.enabled("error")&&window.console.log(ut.message("IsArrayError: Fail"),ut.color("error"),{data:i,requireLength:n,name:e}),new Error(e);return t}function Lde(i){return"object"==typeof i&&Object.keys(i).length>0?Object.keys(i).map(function(n){return i[n]}):[]}function Xr(i){return typeof i>"u"}function kt(i,n=!0){return!(null===i&&!n)&&typeof i<"u"}function aI(i,n){if(null==i||null==n)return i===n;if(i.constructor!==n.constructor)return!1;if(i instanceof Function||i instanceof RegExp)return i===n;if(i===n||i.valueOf()===n.valueOf())return!0;if(Array.isArray(i)&&i.length!==n.length||i instanceof Date||!(i instanceof Object)||!(n instanceof Object))return!1;const e=Object.keys(i);return Object.keys(n).every(function(t){return e.includes(t)})&&e.every(function(t){return aI(i[t],n[t])})}function Y(i,n=!1){if(!Array.isArray(i)&&null!==i&&"object"==typeof i){if(n){if("boolean"==typeof n&&Object.keys(i).length>0)return!0;if(!De(n,!0))return!1;{let e=!0;if(n.some(o=>(o in i||(e=!1),!0)),!e)return!1}}return!0}return!1}function It(i){return"function"==typeof i}function Ui(i,n={}){De(n.whitelist)||(n.whitelist=[]),De(n.blacklist)||(n.blacklist=[]),Y(n.alias)||(n.alias={});for(const e in i)!n.whitelist.includes(e)&&(null==i[e]||n.blacklist.includes(e))&&delete i[e],e in n.alias&&Ne(n.alias[e],!0)&&(i[n.alias[e]]=i[e],delete i[e]);return i}function Ai(i,n=!1,e){const t=Y(i,n);if(!t&&e)throw Y(ut)&&ut.enabled("error")&&window.console.log(ut.message("IsObjectError: Fail"),ut.color("error"),{data:i,requireKeys:n,name:e}),new Error(e);return t}function Vi(i,n){return!("number"!=typeof i&&"string"!=typeof i||!(String(i).length>0)||Number.isNaN(Number(i.toString()))||n&&!+i)}function Ne(i,n=!1){return!(!i||"string"!=typeof i||Vi(i))&&(!n||String(i).length>0)}function jt(i,n=0){return Ne(i,!0)&&(i=rn(i,"_"," "),i=(i=String(i).replace(/\w\S*/g,e=>n&&String(e).length<=n?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).replace(/(^|[\s-])\S/g,function(e){return e.toUpperCase()})),i}function Tn(i){if(Ne(i,!0)){const n=i.split("_");let e="";for(const t of n)e+=t.charAt(0).toUpperCase()+t.slice(1)+" ";return String(e).trim()}return i}function o4(i){if(i){const n=i.split(" ");for(let e of n)e=String(e).toLowerCase();return n.join("_")}return i}function Yl(i){const n=i.trim();return String(rn(n," ","-")).toLowerCase()}function rn(i,n,e){return i.replace(new RegExp(n,"g"),e)}function ll(i,n,e=null,t=null,o=null,s=null){return!(String(n).length>0)||(o=String(n).toLowerCase().split(",").map(function(r){return r.trim()}).filter(r=>String(r).length>0&&"!"!==String(r).charAt(0)),s=(s=String(n).toLowerCase().split(",").map(r=>r.trim()).filter(r=>String(r).length>=2&&"!"===String(r).charAt(0))).map(r=>rn(r,"!","")).filter(r=>r.length>0),e=!0,t=Object.values(i).filter(r=>String(r).length>0),Array.isArray(s)&&s.length>0&&(e=!0,s.some(r=>{if(t.some(a=>{if(String(a).toLowerCase().includes(r))return e=null,!0}),!e)return!0})),!0===e&&(e=null,Array.isArray(o)&&o.length>0&&o.some(r=>{if(r.includes("&")){const a=String(r).toLowerCase().split("&").map(c=>c.trim()).filter(c=>String(c).length>0&&"!"!==String(c).charAt(0));let l=String(r).toLowerCase().split("&").map(c=>c.trim()).filter(c=>String(c).length>0&&"!"===String(c).charAt(0));return l=l.map(c=>rn(c,"!","")).filter(c=>c.length>0),e=!0,Array.isArray(l)&&l.length>0&&(e=!0,l.some(c=>{if(t.some(A=>{if(String(A).toLowerCase().includes(c))return e=null,!0}),!e)return!0})),!0===e&&(e=null,Array.isArray(a)&&a.length>0)&&function Ode(i,n,e=!1){if(n=n.map(function(t){return String(t).toLowerCase().trim()}),!e){const t=i.length;let o,s=0;for(const r of i)o=null,n.some(function(a){if(String(a).toLowerCase().trim().includes(r))return o=!0,!0}),o&&s++;return s>=t}for(let t=0,o=i.length;t<o;t++)if(i[t]=String(i[t]).toLowerCase().trim(),!n.includes(i[t]))return!1;return!0}(a,t)&&(e=!0),e}if(t.some(a=>{if(String(a).toLowerCase().includes(r))return e=!0,!0}),e)return!0})),e)}function cl(){return Math.random().toString(36).replace(/[^a-z]+/g,"").slice(0,5)}function lI(i){if(Kl(i,!0,"RandomArrayElement: Invalid Array"))return i[Math.floor(Math.random()*i.length)]}function vu(i){return De(i,!0)?i.filter(function(n,e,t){return e===t.indexOf(n)}):i}function qn(i){let n="",e=i;if(Y(e,!0))if(Y(i.error,!0)){if(e=i.error,Y(e.errors,!0))Object.keys(e.errors).map(t=>{De(e.errors[t],!0)?e.errors[t].map((o,s)=>{s&&(n+="<br/>"),n+=o+"<br/>"}):Ne(e.errors[t])&&(n+=i.errors[t]+"<br/>"),n+="<br/>"});else if(Ne(e.message,!0))if(Ne(e.message)&&function Hde(i){try{JSON.parse(i)}catch{return!1}return!0}(e.message))try{const t=JSON.parse(e.message);n=Y(t,!0)?t[Object.keys(t)[0]]:e.message}catch{n=e.message}else n=e.message}else Ne(e.message,!0)?n=i.message:Lt(e,["data","message"])&&(n=e.data.message);else Y(e,["message"])?n=e.message:Ne(e,!0)&&(n=String(e));return n||(Y(ut)&&window.console.log(ut.message("GetHttpErrorMsg: Fail"),ut.color("error"),{data:e}),n="Not Found!"),n}function Ca(i){let n=i;return n?n.data&&(n=n.data):window.console.log(`Undefined response: ${JSON.stringify(n)}`),n}function lr(i,n=!1){let e=i;return e&&e.data&&(e=e.data),Kl(e,n,"Api Result was not an array as expected")?e:null}function wa(i,n=!1){let e=i;return e&&e.data&&(e=e.data),Ai(e,n,"Api Result was not an object as expected")?e:null}function dp(i,n){if("string"==typeof i&&i.includes("{")&&Y(n,!0)){const e=i.indexOf("{"),t=i.includes("}",e)?i.indexOf("}",e):i.length,o=i.slice(e+1,t),s=o.trim();s in n&&(i=i.replace("{"+o+"}",n[s]))&&i.includes("{")&&(i=dp(i,n))}return i}function up(i,n=2){let e="";if(Ne(i,!0)){let t=String(i).trim().split(" ");const o=[];if(t.length>n){const r=t.pop();for(;o.length<n-1&&t.length>0;)o.push(t.shift());o.push(r),t=o}let s;for(;t.length>0;)s=t.shift(),e+=String(s).trim().charAt(0).toLocaleUpperCase()}return e}function en(i,n=null,e){return new Promise(function(){var t=q(function*(o){Y(n)?n.setSubscriber(e,i.subscribe(s=>{const r=Ca(s);return o(r)},s=>(n&&n.setError(s,!0),o(null)))):i.subscribe(s=>{const r=Ca(s);return o(r)},s=>(ut.error("PopRequestService","awaitObject",qn(s)),n&&n.setError(s,!0),o(null)))});return function(o){return t.apply(this,arguments)}}())}function ka(i,n){let e;switch(String(n).toLowerCase()){case"toRelationName":if(Y(i)){const s=Lt(i,[i.label?"label":"name"]);s&&(i=s)}break;case"totitlecase":case"title":i=jt(String(i));break;case"tolowercase":case"lower":i=String(i).toLowerCase();break;case"label":e=new e4,i=e.transform(i+"");break;case"todigits":case"digits":i=String(i).match(/\d+/g).map(Number).join("");break;case"name":Y(i,["first","last"])&&i.first&&i.last?i=jt(String(i.first+" "+i.last).trim()):Y(i,["first_name","last_name"])&&i.first_name&&i.last_name?i=jt(String(i.first_name+" "+i.last_name).trim()):Ne(i,!0)&&(i=jt(i));break;case"address":Y(i,["city","region_name"])&&i.city&&i.region_name&&(i=String(i.city+", "+i.region_name+" "+(i.zip??"")).trim());break;case"tophonepipe":case"phone":e=new HB,i=e.transform(i);break;case"active":case"archived":case"toactiveararchived":e=new QB,i=e.transform(i);break;case"touppercase":case"upper":i=String(i).toUpperCase();break;case"convertemptytonull":0===String(i).length&&(i=null);break;case"convertemptyzero":0===String(i).length&&(i=0);break;case"tocurrency":case"currency":case"dollar":Vi(i)&&(i=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(Number(i)));break;case"amount":i=Vi(i)?Number.parseFloat(String(i)).toFixed(2):"0.00"}return i}let s4=(()=>{class i{transform(e,t){if(Ne(e,!0)){const o=t.length>0?parseInt(t[0]+"",10):20,s=t.length>1?t[1]:"...";return String(e).length>o?String(e).substring(0,o)+s:e}return e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=Ro({name:"truncate",type:i,pure:!0}),i})();class Bc{constructor(n){if(this.hidden=!1,this.path="",this.scheme=!1,this.overhead=0,this.sections=null,this.syncPositions=!1,this.requireRefresh=!1,this.when=null,this.scroll=!0,this.wrap=!0,this.columnWrap=!0,this.groups={},n)for(const e in n)this[e]=n[e];this.name||(this.name=this.id.replace(/_/g," ").replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})),this.path||(this.path=this.id.replace(/_/g,"-").toLowerCase()),this.metadata||(this.metadata={}),this.syncPositionMap||(this.syncPositionMap={}),this.positions||(this.positions={1:{flex:1}}),Object.keys(this.positions).map(e=>{this.positions[e].min||(this.positions[e].multiple_min=null),this.positions[e].max||(this.positions[e].multiple_max=null),!this.positions[e].flex&&this.positions[e].cols&&(this.positions[e].flex=this.positions[e].cols),delete this.positions[e].cols})}}class c4{constructor(n){if(this.name="",this.goBack=!0,this.tabs=[],this.buttons=[],this.portal=!1,this.metadata={},this.loaded=!1,this.loading=!1,n)for(const e in n)this[e]=n[e]}}class d4{constructor(n){this.assignAll=!1,this.assigned=[],this.assignedLabel="",this.bubble=!1,this.bucketLimit=0,this.disabled=!1,this.display="",this.displayCircleID=!0,this.displayHelper=!0,this.displayTitle=!0,this.facade=!1,this.facadeEvent=!1,this.filter=!0,this.filterBoth=!1,this.hasFilterRow=!1,this.hasHeader=!1,this.hasLabelRow=!1,this.labelWrap="ellipsis",this.metadata=null,this.name="name",this.optionHtml="label",this.options={values:[]},this.optionsLabel="",this.patch=null,this.removeAll=!1,this.route="";for(const e in n)this[e]=n[e];this.patch||(this.patch={path:"",field:""}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.patch.field||(this.patch.field="option"),this.patch.assignMethod||(this.patch.assignMethod="POST"),this.patch.removeMethod||(this.patch.removeMethod="DELETE"),this.patch.businessId||(this.patch.businessId=0),this.metadata||(this.metadata={}),this.hasHeader=this.display&&this.displayTitle,this.hasLabelRow=!!(this.assignAll||this.removeAll||this.optionsLabel||this.assignedLabel),this.hasFilterRow=this.filter||this.filterBoth,this.route&&(this.optionHtml="route"),this.displayHelper&&!this.helpText&&(this.helpText="You have no "+(this.display?this.display.toLowerCase():"options")),this.options=JSON.parse(JSON.stringify(this.options)),this.displayHelper&&!this.helpTextRight&&(this.helpTextRight=" No "+(this.display?this.display.toLowerCase()+" available ":"data available ")),this.options=JSON.parse(JSON.stringify(this.options)),this.sort&&this.options.values.length>1&&this.options.values.sort(typeof this.options[0].sort_order<"u"?(e,t)=>e.sort_order<t.sort_order?-1:e.sort_order>t.sort_order?1:0:(e,t)=>e.name<t.name?-1:e.name>t.name?1:0)}}class Zi{constructor(n){if(this.bubble=!1,this.createNew=!1,this.createNewText="Create new",this.createTag=!1,this.createTagText="Create new",this.createNewActions=[],this.disabled=!1,this.displayErrors=!0,this.facade=!1,this.helpText="",this.height=240,this.label="",this.message="",this.mode="select",this.minimal=!1,this.name="name",this.noInitialValue=!1,this.triggerInitialValue=!1,this.options={values:[]},this.readonly=!1,this.showTooltip=!1,this.sort=!1,this.toggleLock=!1,this.tooltip="",this.value=null,n)for(const e in n)this[e]=n[e];this.sort&&this.options.values.length>1&&this.options.values.sort(typeof this.options.values[0].sort_order<"u"?(e,t)=>e.sort_order<t.sort_order?-1:e.sort_order>t.sort_order?1:0:(e,t)=>e.name<t.name?-1:e.name>t.name?1:0),this.options.empty&&this.options.values.unshift({value:this.options.empty.value,name:this.options.empty.name}),this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1,businessId:0}),this.disabled||(this.disabled=!1),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.noInitialValue&&(this.value=""),this.control||this.setControl(),this.createNew&&(this.createTag=!1)}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,this.validators?this.validators:[])}}class u4{constructor(n){if(this.bubble=!1,this.displayErrors=!0,this.disabled=!1,this.facade=!1,this.helpText="",this.height=null,this.label="",this.message="",this.noInitialValue=!1,this.name="name",this.showTooltip=!1,this.tooltip="",this.toggleLock=!1,this.strVal="",n)for(const e in n)this[e]=n[e];this.value=Array.isArray(this.value)?this.value:[],this.options||(this.options={values:[]}),this.sort&&this.options.values.length>1&&this.options.values.sort(typeof this.options.values[0].sort_order<"u"?(e,t)=>e.sort_order<t.sort_order?-1:e.sort_order>t.sort_order?1:0:(e,t)=>e.name<t.name?-1:e.name>t.name?1:0),this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.noInitialValue&&(this.value=[]),this.control||this.setControl()}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,this.validators?this.validators:[])}}class li{constructor(n){if(this.autofocus=!1,this.autoselect=!1,this.bubble=!1,this.conceal=!1,this.displayErrors=!0,this.disabled=!1,this.dropSpecial=!1,this.facade=!1,this.helpText="",this.hintText="",this.hidden=!1,this.hint=!1,this.id="",this.label="",this.maxlength=129,this.mask=null,this.minimal=!1,this.message="",this.name="name",this.noInitialValue=!1,this.prefix="",this.readonly=!1,this.showMask=!1,this.showTooltip=!1,this.suffix="",this.selectMode=!1,this.selectModeOptionsDirection="down",this.specialChars=["-","/","(",")",".",":"," ","+",",","@","[","]"],this.tooltip="",this.type="text",this.tabOnEnter=!1,this.value="",n)for(const e in n)this[e]=n[e];this.patch||(this.patch={field:"",path:"",duration:750,disabled:!1,businessId:0}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.readonly||(this.readonly=!1),this.selectMode&&(this.readonly=!0),this.noInitialValue&&(this.value=""),this.suffix&&this.value&&this.value.replace(this.suffix,""),this.prefix&&this.value&&this.value.replace(this.prefix,""),this.control||this.setControl(),this.mask&&(this.maxlength=null,this.hint=!1,this.pattern=null)}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,this.validators?this.validators:[])}}class zf{constructor(n){if(this.bubble=!1,this.dropSpecial=!0,this.displayErrors=!0,this.disabled=!1,this.facade=!1,this.helpText="",this.hidden=!1,this.id="",this.label="",this.message="",this.min=0,this.minimal=!1,this.mask="0*",this.name="name",this.noInitialValue=!1,this.pattern="Numeric",this.prefix="",this.readonly=!1,this.showTooltip=!1,this.specialChars=["$"," ",",","%"],this.showMask=!1,this.suffix="",this.step=1,this.tooltip="",this.value="",n)for(const e in n)this[e]=n[e];this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1,businessId:0}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.readonly||(this.readonly=!1),kt(this.min)&&kt(this.max)&&(+this.min>+this.max&&(this.min=0),+this.max<+this.min&&(this.max=null)),this.value&&(this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max)),this.noInitialValue&&(this.value=""),this.control||this.setControl()}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,this.validators?this.validators:[])}}class cI{constructor(n){if(this.bubble=!1,this.displayErrors=!0,this.disabled=!1,this.expansionItems=!1,this.filterPredicate=null,this.helpText="",this.id="",this.label="",this.min=null,this.max=null,this.message="",this.name="name",this.noInitialValue=!1,this.preventClear=!1,this.showTooltip=!1,this.tooltip="",n)for(const e in n)this[e]=n[e];this.value&&(this.value=new Date(this.value)),"string"==typeof this.min&&(this.min=new Date(this.min)),"string"==typeof this.max&&(this.max=new Date(this.max)),this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1,businessId:0}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.noInitialValue&&(this.value=""),this.control||this.setControl()}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,this.validators?this.validators:[])}}class dI{constructor(n){if(this.bubble=!1,this.displayErrors=!0,this.disabled=!1,this.facade=!1,this.helpText="",this.id="",this.label="",this.layout="vertical",this.message="",this.minutesSinceMidnight=!1,this.maxHour=12,this.minHour=1,this.name="name",this.noInitialValue=!1,this.showTooltip=!1,this.readonly=!1,this.tooltip="",this.time=12,this.minuteInterval=15,this.value="",n)for(const e in n)this[e]=n[e];this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1,businessId:0}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.readonly||(this.readonly=!1),!this.value&&this.defaultValue&&(this.value=this.defaultValue),this.noInitialValue&&(this.value=""),this.control||this.setControl()}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,this.validators?this.validators:[])}getCurrentPeriodTime(){const n=this.control.value;let e=null;if(Vi(n,!0)){const t=n>=720?"PM":"AM",o=(n%60).toString(10).padStart(2,"0");e=`${Math.floor(n/60).toString(10).padStart(2,"0")}:${o}:00 ${t}`}else e=this.control.value;return e}getMinutesSinceMidnight(){const n=this.control.value;let e=0;if(Vi(n))e=n;else{const t=Number(String(n).slice(2,5).replace(/[^\dA-Za-z]/g,"").padStart(2,"0")),o=Number(String(n).slice(0,2).replace(/[^\dA-Za-z]/g,"").padStart(2,"0"));"PM"==(n.includes("PM")?"PM":"AM")&&(e+=720),e+=60*o,e+=t}return e}convertMinutesToPeriodTime(n){let e="00",t="00",o=0;const s=n>=720?"PM":"AM";return o="PM"===s?n-720:n,e=(o%60).toString(10).padStart(2,"0"),t=Math.floor(o/60).toString(10).padStart(2,"0"),`${t}:${e}:00 ${s}`}convertPeriodTimeToMinutes(n){let e=0;const t=String(n).includes("PM")?"PM":"AM",o=Number(String(n).slice(2,5).replace(/[^\dA-Za-z]/g,"").padStart(2,"0")),s=Number(String(n).slice(0,2).replace(/[^\dA-Za-z]/g,"").padStart(2,"0"));return"PM"===t&&(e+=720),e+=Number(o),e+=60*Number(s),e}isValidTime(n){return Ne(n)?/^(?:\d{1,2}:){2}\d{1,2} [AP]M$/.test(String(n)):+n>=0&&+n<=1339}getDefaultTime(){return this.minutesSinceMidnight?0:"12:00:00 AM"}}class qr{constructor(n){if(this.align="right",this.bubble=!1,this.disabled=!1,this.displayErrors=!0,this.facade=!1,this.helpText="",this.id="",this.label="",this.labelPosition="after",this.message="",this.name="name",this.noInitialValue=!1,this.options={values:[]},this.tabOnEnter=!1,this.toolTipDirection="right",this.textOverflow="wrap",this.value=!1,n)for(const e in n)this[e]=n[e];this.toolTipDirection=this.label?"after"===this.labelPosition?"right":"left":"above",["left","center","right"].includes(this.align)||(this.align="center"),this.patch||(this.patch={field:"",path:"",disabled:!1,businessId:0}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.patch.type||(this.patch.type="binary"),this.noInitialValue&&(this.value=null),this.control||this.setControl()}setControl(){this.control=!0===this.disabled?new vi({value:this.value,disabled:this.disabled}):new vi(this.value,this.validators?this.validators:[])}}class uo{constructor(n){if(this.bubble=!1,this.disabled=!1,this.displayErrors=!0,this.facade=!1,this.helpText="",this.label="",this.labelPosition="after",this.message="",this.noInitialValue=!1,this.name="name",this.padding="0",this.toolTipDirection="right",this.tabOnEnter=!1,this.textOverflow="wrap",this.value=!1,n)for(const e in n)this[e]=n[e];this.value=1==+this.value,this.labelPosition=["before","after"].includes(this.labelPosition)?this.labelPosition:"after",this.label?"after"===this.labelPosition&&(this.toolTipDirection="right"):this.toolTipDirection="above",this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1,businessId:0}),this.disabled||(this.disabled=!1),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.patch.type||(this.patch.type="binary"),this.control||this.setControl()}setControl(){this.control=!0===this.disabled?new vi({value:this.value,disabled:this.disabled}):new vi(this.value,this.validators?this.validators:[])}}class h4{constructor(n){if(this.allowNegative=!1,this.bubble=!1,this.disabled=!1,this.facade=!1,this.helpText="",this.id="",this.label="Min/Max",this.limit=100,this.minValue=1,this.maxValue=10,this.min=1,this.max=10,this.minColumn="min",this.maxColumn="max",this.minReadonly=!1,this.maxReadonly=!1,this.minRequired=!1,this.maxRequired=!1,this.minDefaultValue=1,this.maxDefaultValue=1,this.minLabel="Minimum",this.maxLabel="Maximum",this.message="",this.showTooltip=!1,this.tooltip="",this.value="",n)for(const e in n)this[e]=n[e];this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.limit&&this.maxValue>this.limit&&(this.maxValue=+this.limit),this.isMaxConfig=new uo({label:this.maxLabel,value:!!+this.maxValue||!!this.maxRequired,disabled:!!this.maxRequired,bubble:!0,facade:!1,labelPosition:"after"}),this.maxConfig=new zf({label:null,value:+this.maxValue,min:this.min,max:this.max,readonly:this.maxReadonly,facade:!0,minimal:!0,bubble:!0}),this.minValue>this.maxValue&&(this.minValue=this.maxValue),this.isMinConfig=new uo({label:this.minLabel,value:!!+this.minValue||!!this.minRequired,disabled:!!this.minRequired,bubble:!0,facade:!1,labelPosition:"after"}),this.minConfig=new zf({label:null,value:+this.minValue,min:this.min,max:this.max,readonly:this.minReadonly,facade:!0,minimal:!0,bubble:!0}),this.control||this.setControl()}setControl(){this.control=this.disabled?new vi({value:{min:this.minValue,max:this.maxValue},disabled:!0}):new vi(this.value,this.validators?this.validators:[])}}class hp{constructor(n){if(this.bubble=!1,this.disabled=!1,this.displayErrors=!0,this.facade=!1,this.helpText="",this.label="",this.labelPosition="above",this.layout="row",this.message="",this.noInitialValue=!1,this.name="name",this.reset=!1,this.sort=!1,this.value="",n)for(const e in n)this[e]=n[e];this.sort&&this.options.values.length>1&&this.options.values.sort(typeof this.options.values[0].sort_order<"u"?(e,t)=>e.sort_order<t.sort_order?-1:e.sort_order>t.sort_order?1:0:(e,t)=>e.name<t.name?-1:e.name>t.name?1:0),"column"!==this.layout&&(this.layout="row"),De(this.options.values,!0,4)&&(this.layout="column"),this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1,businessId:0}),this.disabled||(this.disabled=!1),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.noInitialValue&&(this.value=""),this.control||this.setControl()}setControl(){this.control||(this.control=!0===this.disabled?new vi({value:this.value,disabled:this.disabled}):new vi(this.value,this.validators?this.validators:[]))}}class Jr{constructor(n){if(this.autoSize=!1,this.bubble=!1,this._disabled=!1,this.displayErrors=!0,this.facade=!1,this.helpText="",this.height=0,this.maxHeight=null,this.hint=!1,this.message="",this.maxlength=1024,this.name="name",this.noInitialValue=!1,this.readonly=!1,this.showTooltip=!1,this.tabOnEnter=!1,this.tooltip="",this.value="",n)for(const e in n)this[e]=n[e];this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1,businessId:0}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.noInitialValue&&(this.value=""),this.control||this.setControl()}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,this.validators?this.validators:[])}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this.control&&(!0===n?this.control.disable():!1===n&&this.control.enable())}}class p4{constructor(n){if(this.bubble=!1,this.button=!1,this.border=!1,this.copyValue=!1,this.copyLabel=!1,this.html="label",this.header=6,this.helpText="",this.iconType="mat",this.name="name",this.label="Label",this.link=!1,this.subLabel="",this.subValue="",this.tooltip="",this.textOverflow="wrap",this.truncate=0,this.value="",this.valueButton=!1,this.valueButtonDisabled=!1,n)for(const e in n)this[e]=n[e];(this.link||this.route)&&(this.html="link"),this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.icon&&1===this.icon.length&&(this.icon=this.icon.toUpperCase(),this.iconType="sw")}setControl(){}}class Xde{constructor(n,e){this.bubble=!1,this.value="",this.name=n,this.value=e,this.control=new vi(e)}}class Ms{constructor(n){if(this.color="default",this.bubble=!1,this.displayErrors=!0,this.disabled=!1,this.event="click",this.helpText="",this.hidden=!1,this.icon="help_outline",this.iconColor="accent",this.id="",this.label="",this.message="",this.name="name",this.radius=2,this.size=35,this.showTooltip=!1,this.text=26,this.tooltip="",this.type="mat-button",this.value="Button",this.width=null,n)for(const e in n)this[e]=n[e];this.patch||(this.patch={field:"",path:"",disabled:!1}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.size<10&&(this.size=10),this.control||this.setControl()}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,this.validators?this.validators:[])}}const uI={make_primary:{name:"make_primary",type:"fixed",defaultValue:!1}};let hI=(()=>{class i{constructor(){this.events=new tt}ngOnInit(){this.param=new uo({name:this.config.name,label:this.config.label,labelPosition:this.config.labelPosition??"after",value:kt(this.config.value)?this.config.value:this.config.defaultValue,patch:this.config.patch,disabled:this.config.disabled,helpText:this.config.helpText,facade:this.config.facade,metadata:this.config.metadata?this.config.metadata:{}})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-switch-param"]],inputs:{config:"config"},outputs:{events:"events"},decls:1,vars:1,consts:[[3,"config","events"]],template:function(e,t){1&e&&(x(0,"lib-pop-switch",0),ie("events",function(s){return t.events.emit(s)}),C()),2&e&&g("config",t.param)},encapsulation:2}),i})();const pI={make_primary:{name:"make_primary",type:"fixed",defaultValue:!1},allow_canada:{name:"allow_canada",type:"boolean",item:"zip",defaultValue:!1},auto_fill:{name:"auto_fill",type:"boolean",item:"zip",component:hI,defaultValue:!0}},mI={make_primary:{name:"make_primary",type:"fixed",defaultValue:!0},text_primary:{name:"text_primary",type:"trait",icon:"sms",defaultValue:!1},call_primary:{name:"call_primary",type:"trait",icon:"call",defaultValue:!1}},fI={make_primary:{name:"make_primary",type:"fixed",defaultValue:!0}},m4={},f4={unique_label:{name:"unique_label",type:"boolean",defaultValue:!0}},g4={},gI={unique_label:{name:"unique_label",type:"boolean",defaultValue:!0}},_4={},b4={};class pp{constructor(n){if(this.allLabel="All",this.all=!1,this.allowAll=!0,this.bubble=!1,this.displayErrors=!0,this.collapsed=!1,this.checkboxPosition="before",this.createNew=!1,this.createNewText="Create new",this.createTag=!1,this.createTagText="Create new",this.createNewActions=[],this.defaultMinHeight=1,this.facade=!1,this.filter=!0,this.groups=[],this.helpText="",this.height=200,this.levelGap=35,this.minHeight=50,this.multiple=!1,this.name="name",this.noInitialValue=!1,this.offset=null,this.offsetSession=null,this.patchGroupFk=!1,this.strVal="",this.toggleLock=!1,this.triggerInitialValue=!1,this.setDefaultValues(),n)for(const e in n)this[e]=n[e];this.value=this.multiple?Array.isArray(this.value)?this.value:[]:this.value??null,this.options.values.length>0&&(this.sort&&this.options.values.sort(typeof this.options.values[0].sort_order<"u"?(e,t)=>e.sort_order<t.sort_order?-1:e.sort_order>t.sort_order?1:0:(e,t)=>e.name<t.name?-1:e.name>t.name?1:0),this.options.values[0].group?(this.groups=this.getOptionGroups(),this.groups.length<2&&(this.allowAll=!1)):(this.options.empty&&this.options.values.unshift({value:this.options.empty.value,name:this.options.empty.name}),this.selectedOptions=[],this.options.values.map(t=>{this.all?(t.selected=!0,this.selectedOptions.push(t.value)):(t.selected=!!De(this.value)&&!!this.value.includes(t.value),t.selected&&this.selectedOptions.push(t.value)),t.level=this.levelGap*t.level}),this.groups=[{label:"",options:this.options,groupFk:0,open:!0}])),this.levelGap||(this.levelGap=35),this.defaultHeight=this.height,this.all=!!De(this.value)&&this.options.values.length===this.value.length,this.position||(this.position="float"),this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),1===this.groups.length&&(this.collapsed=!1),this.noInitialValue&&(this.value=this.multiple?[]:""),this.control||this.setControl(),this.createNew&&(this.createTag=!1)}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,this.validators?this.validators:[])}setDefaultValues(){this.label="",this.message="",this.options={values:[]},this.disabled=!1,this.sort=!1}getOptionGroups(){this.selectedOptions=[];const n={},e=[];let t=this.options.values[0].group;this.options.values.map(s=>{typeof s.level>"u"&&(s.level=0),s.level=this.levelGap*s.level,s.group||(s.group=t),s.group in n||(n[s.group]={label:s.group,groupFk:s.groupFk,options:{values:[],filtered:[]},all:!1,open:!0,indeterminate:!1},t=s.group),this.all?(s.selected=!0,this.selectedOptions.push(s.value)):(s.selected=!!De(this.value)&&this.value.includes(s.value),s.selected&&this.selectedOptions.push(s.value)),n[s.group].options.values.push(s)});const o=Object.keys(n).length;return Object.keys(n).map(s=>{o>1&&this.collapsed&&(n[s].open=!1),e.push(n[s])}),e}resetSelection(){this.selectedOptions=[]}addSelectedOption(n){this.selectedOptions.push(n)}}function cr(i){switch(i){case"Alpha":return{tester:/^[ A-Z_a-z\-]+/g,replacer:/[^ A-Z_a-z\-]+/g};case"AlphaNoSpace":return{tester:/^[A-Za-z]+/g,replacer:/[^.A-Z_a-z\-]+/g};case"AlphaNoSpaceOnlyDash":return{tester:/^[A-Za-z]+/g,replacer:/[^A-Za-z\-]+/g};case"AlphaLowercaseNoSpace":return{tester:/^[a-z]+/g,replacer:/[^._a-z\-]+/g};case"AlphaLowercaseWithDashHyphen":return{tester:/^[/a-z\-]+/g,replacer:/[^/a-z\-]+/g};case"AlphaLowercaseNumberWithDashHyphen":return{tester:/^[\d/a-z\-]+/g,replacer:/[^\d/a-z\-]+/g};case"AlphaNumeric":return{tester:/^[\w .\-]+/g,replacer:/[^\w .\-]+/g};case"AlphaNumericUnderscore":return{tester:/^[\dA-Za-z\_]+/g,replacer:/[^\dA-Za-z\_]+/g};case"AlphaNumericNoUnderscore":return{tester:/^[\d .A-Za-z\-]+/g,replacer:/[^\d .A-Za-z\-]+/g};case"AlphaSnake":return{tester:/^[ _a-z]+/g,replacer:/[^ _a-z]+/g};case"AlphaWithSpace":return{tester:/^[ A-Za-z]+/g,replacer:/[^ A-Za-z]+/g};case"AlphaNumericNoSpace":return{tester:/^[\w.\-]+/g,replacer:/[^\w.\-]+/g};case"Currency":return{tester:/^[\d.]+/g,replacer:/[^\d.]+/g};case"Date":return{tester:/^[\d\-\/]+/g,replacer:/[^\d\-\/]+/g};case"NumericNoSpace":case"Numeric":return{tester:/^\d+/g,replacer:/\D+/g};case"NoSpace":return{tester:/[^ ]+/g,replacer:/ +/g};case"Default":return{tester:/^[\d !$%&()*,./?@A-Za-z\-]+/g,replacer:/[^\d !$%&()*,./?@A-Za-z\-]+/g};case"NumericWithSpace":return{tester:/^[\d ]+/g,replacer:/[^\d ]+/g};case"Phone":return{tester:/@"^[\d-]+$"/,replacer:/[^\d-]+/g};case"Email":return{tester:/^[^@]+@[\w.-]+\\.+[._a-z-]+$/,replacer:/[^\w.@-]+/g};case"Password":return{tester:/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!#$%&*?@])[\d!#$%&*?@A-Za-z]{8,}$/,replacer:/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!#$%&*?@])[\d!#$%&*?@A-Za-z]{8,}$/};case"Username":return{tester:/^\S[\w.\-]{2,}$/g,replacer:/[^\w.\-]+/g};case"Url":return{tester:/https?:\/\/(www\.)?[\w#%+.:=@~-]{1,256}\.[\d()A-Za-z]{1,6}\b([\w#%&()+./:=?@~-]*)/,replacer:/[^\w#&./:=?\\]+/g};case"Zip":return{tester:/^(\d{5}(-\d{4})?|[A-Z]\d[A-Z] *\d[A-Z]\d)$/,replacer:/[^\d[][A-Z]{2}$]+/g};default:return{tester:/^[\d !$%&().@A-Za-z\-]+/g,replacer:/[^\d !$%&().@A-Za-z\-]+/g}}}function Ps(i,n,e){const t=cr(i);if("test"===n)return t.tester.test(e.trim());if("value"===n)return"string"!=typeof e&&(e=""),e.replace(t.replacer,"");switch(i){case"Alpha":case"AlphaNoSpace":return"Only letters are allowed.";case"AlphaLowercaseNoSpace":return"Only lowercase letters are allowed.";case"AlphaNumeric":case"AlphaNumericNoUnderscore":case"AlphaNumericNoSpace":return"Only letters and Numbers are allowed.";case"AlphaNumericUnderscore":return"Only letters, Numbers, And Underscores are allowed.";case"AlphaSnake":return"Only lowercase letters and underscore allowed.";case"Currency":return"Only Dollar amount allowed";case"Blacklist":return"Not allowed";case"NoSpace":return"Spaces not allowed.";case"Numeric":case"NumericNoSpace":return"Only numbers are allowed.";case"Phone":return"Invalid Phone.";case"Email":return"Invalid Email.";case"Password":return"Must contain a number, letter, special and be > 8 characters.";case"Username":return"Must contain only A-Z 0-9 . - _";case"Url":return"Must be a valid url.";default:return"Invalid characters."}}function qde(i){return cr("Username").tester.test(i.value)?null:{username:{message:Ps("Username","message")}}}function Jde(i){return cr("Password").tester.test(i.value)?null:{password:{message:Ps("Password","message")}}}function v4(i){return cr("Phone").tester.test(i.value)?null:{phone:{message:Ps("Phone","message")}}}function Qde(i){return cr("Zip").tester.test(i.value)?null:{zip:{message:Ps("Zip","message")}}}function eue(i){const n=cr("Url");let e=i.value;return Ne(e,!0)&&(e=e.trim()),n.tester.test(e)?null:{url:{message:Ps("Url","message")}}}function mp(i){let n="";for(const e in i)if(i.hasOwnProperty(e))if("string"==typeof i[e].message)n+=i[e].message+" ";else switch(e){case"min":n+=`Must be greater than or equal to ${i[e].min}. `;break;case"max":n+=`Must be less than or equal to ${i[e].max}. `;break;case"required":n+="Field is required.";break;case"email":n+="Invalid email. ";break;case"unique":n+="The current value is already in use.";break;case"minlength":n+=`To short, minimum ${i[e].requiredLength} characters. `;break;case"maxlength":n+=`To long, maximum ${i[e].requiredLength} characters. `;break;case"pattern":n+="Invalid characters. ";break;case"MatchPassword":n="This field must match the password.";break;case"MatchEmail":n="This field must match the email.";break;default:n+="Invalid. "}return n.trim()}class tue{constructor(n){if(this.border=!1,this.className="theme-foreground-base",this.header=!1,this.message="",this.noInitialValue=!1,this.name="name",this.padding=5,this.textOverflow="wrap",this.value=!1,this.warning=!0,n)for(const e in n)this[e]=n[e];this.control||this.setControl()}setControl(){this.control=new vi(this.value)}}class _I{constructor(n){if(this.allLabel="All",this.allowAll=!0,this.allowGroupAll=!0,this.allOverlay=!1,this.allOverlayEnabled=!1,this.allOverlayLabel="",this.allOverlayMessage="",this.all=!1,this.bubble=!1,this.checkboxPosition="before",this.collapsed=!1,this.column="column",this.displayErrors=!0,this.defaultHeight=null,this.disabledIds=[],this.facade=!1,this.filter=!0,this.helpText="",this.height=null,this.levelGap=35,this.label="",this.multiple=!1,this.minHeight=null,this.noInitialValue=!1,this.outline=!0,this.patchGroupFk=!1,this.strVal="",this.setDefaultValues(),n)for(const t in n)this[t]=n[t];const e=!!De(this.mode,!0);this.defaultMode=e?this.mode[0].value:0,this.value=Array.isArray(this.value)?this.value:[],this.noInitialValue&&(this.value=this.multiple?[]:""),this.control||this.setControl(),this._setOptionGroups(),delete this.value,this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),kt(this.value,!1)||(this.value=this.multiple?[]:""),this.allOverlay&&!this.allOverlayLabel&&(this.allOverlayLabel="All Access")}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!1}):new vi(this.value,this.validators?this.validators:[])}_setOptionGroups(){this.value=De(this.value)?this.value:this.value?[this.value]:[];const n=!!De(this.mode,!0);if(this.groups=[],this.options.values.length>0)if(this.sort&&this.options.values.sort(typeof this.options.values[0].sort_order<"u"?(o,s)=>o.sort_order<s.sort_order?-1:o.sort_order>s.sort_order?1:0:(o,s)=>o.name<s.name?-1:o.name>s.name?1:0),this.options.values[0].group)this.groups=this.getOptionGroups();else if(this.options.values.length>0){let o=[];this.selectedOptions=[],this.options.values.map(r=>{n&&Xr(r.mode)&&(r.mode=this.defaultMode),r.selected=!!this.value.includes(r.value),r.selected&&(this.selectedOptions.push(r.value),o.push(r.name)),r.indentation=+this.levelGap*(r.level+1),o=o.sort(),this.strVal=o.join(", ")}),this.options.empty&&this.options.values.unshift({value:this.options.empty.value,name:this.options.empty.name}),this.groups=[{label:"",options:this.options,open:!0}]}else this.groups=[];this.groups||(this.groups=[]),this.levelGap||(this.levelGap=35),this.defaultHeight=this.height;let t,e=!0;if(this.all)this.selectedOptions=[],this.groups.map(o=>{o.all=!0,this.selectedOptions=o.options.values.map(s=>{s.selected=!0,this.selectedOptions.push(s.value)})}),this.strVal=this.allLabel;else{let o=[];this.selectedOptions=[];const s=this.groups.length>1;this.groups.map(r=>{r.all?(o.push(s?r.label+" (All)":"All"),r.options.values.filter(a=>{this.selectedOptions.push(a.value)})):(t=r.options.values.filter(a=>a.selected),t&&t.length>0?(t.length===r.options.values.length&&(r.all=!0),r.all?(o.push(s?r.label+" (All)":"All"),r.options.values.filter(a=>{this.selectedOptions.push(a.value)})):(e=!1,s&&t.length>0?(o.push(r.label+` (${t.length} of ${r.options.values.length})`),t.map(a=>{this.selectedOptions.push(a.value)})):t.map(a=>{this.selectedOptions.push(a.value),o.push(a.name)}))):(r.all=!1,e=!1))}),0===this.selectedOptions.length?(e=!1,this.emptyLabel&&(o=[this.emptyLabel])):!this.all&&e&&(o=["All"]),this.all=e,o=o.sort(),this.strVal=o.join(", ")}1===this.groups.length&&(this.collapsed=!1)}setDefaultValues(){this.label="",this.message="",this.options={values:[]},this.disabled=!1,this.sort=!1}getOptionGroups(){this.selectedOptions=[];const n={},e=[];let t=this.options.values[0].group;this.options.values.map(s=>{typeof s.level>"u"&&(s.level=0),this.mode&&Xr(s.mode)&&(s.mode=this.defaultMode),s.indentation=+this.levelGap*(s.level+1),s.group||(s.group=t),s.group in n||(n[s.group]={label:s.group,options:{values:[]},all:!1,indeterminate:!1,open:!0,groupFk:s.groupFk},t=s.group),s.selected=this.value.includes(s.value),s.selected&&this.selectedOptions.push(s.value),n[s.group].options.values.push(s)});const o=Object.keys(n).length;return Object.keys(n).map(s=>{let r=!1,a=!0;n[s].options.values.some(l=>{if(!l.selected)return a=!1,r=!0,!0}),n[s].all=a,n[s].indeterminate=r,o>1&&this.collapsed&&(n[s].open=!1),e.push(n[s])}),e}setValue(n){const e=this.control;if(e){const t=this.multiple?De(n)?n:[n]:De(n)?n[0]:n;return this.value=t,this._setOptionGroups(),e.setValue(t),this.strVal}}resetSelection(){this.selectedOptions=[]}addSelectedOption(n){this.selectedOptions.push(n)}}class y4{constructor(n){if(this.bubble=!1,this.displayErrors=!0,this.disabled=!1,this.filterPredicate=null,this.helpText="",this.id="",this.label="",this.min=null,this.max=null,this.message="",this.name="name",this.noInitialValue=!1,this.showTooltip=!1,this.tooltip="",n)for(const e in n)this[e]=n[e];if(this.value&&(this.value=new Date(this.value)),"string"==typeof this.min&&(this.min=new Date(this.min)),!1===Number.isNaN(this.max)){const e=new Date;e.setDate(e.getDate()+Number.parseInt(this.max,10)),this.max=new Date(e)}this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1,businessId:0}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.noInitialValue&&(this.value=""),this.control||this.setControl()}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,this.validators?this.validators:[])}}class x4{constructor(n){if(this.displayErrors=!0,this.disabled=!1,this.facade=!1,this.header="",this.helpText="",this.label="",this.noInitialValue=!1,n)for(const e in n)this[e]=n[e];this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1,json:!1}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.noInitialValue&&(this.value=this.list.multiple?[]:""),this.control||this.setControl()}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!1}):new vi(this.value,this.validators?this.validators:[])}}class C4{constructor(n){if(this.bubble=!1,this.displayErrors=!0,this.disabled=!1,this.helpText="",this.id="",this.label="",this.message="",this.name="name",this.noInitialValue=!1,this.showTooltip=!1,this.tooltip="",n)for(const e in n)this[e]=n[e];this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1,businessId:0}),this.disabled||(this.disabled=!1),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.noInitialValue&&(this.value=""),this.control||this.setControl()}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,this.validators?this.validators:[])}}class Yv{constructor(n){if(this.autofocus=!1,this.bubble=!1,this.disabled=!1,this.dropSpecial=!0,this.facade=!1,this.helpText="",this.hintText="",this.hidden=!1,this.hint=!1,this.id="",this.icon="search",this.label="",this.maxlength=129,this.mask=null,this.minimal=!1,this.message="",this.name="name",this.noInitialValue=!1,this.prefix="",this.readonly=!1,this.showMask=!1,this.showTooltip=!1,this.suffix="",this.selectMode=!1,this.selectModeOptionsDirection="down",this.specialChars=["-","/","(",")",".",":"," ","+",",","@","[","]"],this.tooltip="",this.type="text",this.tabOnEnter=!1,this.value="",n)for(const e in n)this[e]=n[e];this.readonly||(this.readonly=!1),this.selectMode&&(this.readonly=!0),this.noInitialValue&&(this.value=""),this.control||this.setControl(),this.mask&&(this.maxlength=null,this.hint=!1,this.pattern=null)}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,this.validators?this.validators:[])}}class iue{constructor(n){if(this.bubble=!1,this.color="accent",this.displayErrors=!0,this.disabled=!1,this.helpText="",this.id="",this.name="name",this.type="rounded",this.showDropDown=!1,this.options={values:[]},this.showHelpText=!1,this.showRemove=!1,this.readonly=!1,this.value=null,n)for(const e in n)this[e]=n[e];this.patch||(this.patch={field:"",path:"",disabled:!1}),this.control||this.setControl(),this.options.values.length>1&&(this.showDropDown=!0),this.readonly&&(this.showDropDown=!1)}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,this.validators?this.validators:[])}}const w4={make_primary:{name:"make_primary",type:"fixed",defaultValue:!0}};class k4{constructor(n){if(this.bubble=!1,this.displayErrors=!0,this.disabled=!1,this.expansionItems=!1,this.filterPredicate=null,this.helpText="",this.id="",this.label="",this.min=null,this.max=null,this.message="",this.name="name",this.noInitialValue=!1,this.preventClear=!1,this.showTooltip=!1,this.tooltip="",n)for(const e in n)this[e]=n[e];this.value&&(this.value=new Date(this.value)),"string"==typeof this.min&&(this.min=new Date(this.min)),"string"==typeof this.max&&(this.max=new Date(this.max)),this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1,businessId:0}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.noInitialValue&&(this.value=""),this.control||this.setControl()}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,this.validators?this.validators:[])}}function I4(i,n=[],e=!1){return new c4({name:M4(i.entity),goBack:!0,portal:!1,tabs:n,buttons:nue(i,e)})}function nue(i,n=!1){let e=[];return Y(i.repo.model.menu.button,!0)&&(e=[{id:"clone",name:"Clone",accessType:"can_update",hidden:!1},{id:"delete",name:"Delete",accessType:"can_delete",hidden:!0},{id:"close",name:"Close",hidden:!1}].filter(o=>!("clone"===o.id&&!i.repo.model.menu.button.clone||"delete"===o.id&&!i.repo.model.menu.button.delete||"close"===o.id&&!n)&&(!o.accessType||i.access[o.accessType]))),e}function Xv(i,n){const e=n.split("."),t=e.pop(),o=Lt(i,e);if(o)return typeof o[t]<"u"?o[t]:void 0}function bI(i){const n=[];return Object.keys(i).map(e=>{const t=i[e];Y(t,["model"])?t.model&&t.model.name&&t.model.transformation&&(n[t.model.name]=Ui({type:t.model.transformation.type,arg1:t.model.transformation.arg1?t.model.transformation.arg1:null,arg2:t.model.transformation.arg2?t.model.transformation.arg2:null,arg3:t.model.transformation.arg3?t.model.transformation.arg3:null})):Y(t,["id","name"])?window.console.log("with relation",e,i[e]):window.console.log("fail",e)}),n}function tn(i="",n,e=!1){let t=i;if(typeof t>"u")return t;if("null"===t||null===t)t=null;else if("boolean"==typeof t)t=+t;else if(Ne(t,!0)){if(t.includes("/")){if(n&&n.params&&Ne(t,!0)&&t.includes("#")&&(t=vd(t,n.params)),!e&&n&&n.entity&&Ne(t,!0)&&t.includes(":")){const o=qv(t,n.entity);kt(o,!1)&&(t=o)}return t}if(Ne(t,!0)&&t.includes("alias:")&&(t=Do(t)),n){if(t.includes(".")&&!t.includes("@")&&!t.includes(" ")){const o=Xv(n,t);typeof o<"u"&&(t=o)}if(n.params&&Ne(t,!0)&&t.includes("#")){const o=A4(t,n.params);kt(o,!1)&&(t=o)}if(!e&&n.entity&&Ne(t,!0)&&t.includes(":")){const o=qv(t,n.entity);kt(o,!1)&&(t=o)}}}else Vi(t)&&(t=Number(t));return t}function vI(i,n){if(i&&i.includes(":")){const e=i.indexOf(":"),t=i.includes("/",e)?i.indexOf("/",e):i.length,o=i.slice(e+1,t);(i=i.replace(":"+o,n[o]))&&i.includes(":")&&(i=vI(i,n))}return i}function bd(i,n=null,e=[]){return i&&i.split("/").map(t=>(t.includes("alias:")?t=eo.label.getAlias(t.split(":")[1]):t.includes(":")&&n&&!e.includes(t)&&(t=t.split(":")[1])in n&&(t=n[t]),t)).join("/")}function vd(i,n){if(i&&i.includes("#")&&!i.includes(" ")){const e=i.indexOf("#"),t=i.includes("/",e)?i.indexOf("/",e):i.length,o=i.slice(e+1,t);(i=i.replace("#"+o,n[o]))&&i.includes("#")&&(i=vd(i,n))}return i}function Do(i){if(Ne(i,!0)){let n=!1;const e=[];return i.split(":").map(t=>(t.includes("alias")?n=!0:(e.push(n?jt(eo.label.getAlias(t)):t),n=!1),t)),e.join(" ")}return i}function qv(i,n){if("string"==typeof i&&i.includes(":")&&!i.includes(" ")){const e=i.indexOf(":"),t=i.includes(".",e)?i.indexOf(".",e):i.length,o=i.slice(e+1,t);kt(n[o],!1)&&(i=i.replace(":"+o,n[o]))&&i.includes(":")&&(i=qv(i,n))}else if("string"==typeof i&&i.includes(":")&&i.includes(" ")){const e=i.trim().split(" "),t=[];e.map(o=>{const s=o.indexOf(":"),r=o.includes(".",s)?o.indexOf(".",s):o.length,a=o.slice(s+1,r);kt(n[a],!1)&&(o=o.replace(":"+a,n[a]))&&o.includes(":")&&(o=qv(o,n)),t.push(o)}),i=t.join(" ").trim()}return i}function A4(i,n,e="."){if("string"==typeof i&&i.includes("#")){const t=i.indexOf("#"),o=i.includes(e,t)?i.indexOf(e,t):i.length,s=i.slice(t+1,o);n[s]&&(i=i.replace("#"+s,n[s]))&&i.includes("#")&&(i=A4(i,n))}return i}function S4(i,n){let e=dp(i,n);return e=rn(e,"\\/\\/","\\/"),e}function M4(i){let n="";return i&&(Ne(i.label,!0)?n=i.label:Ne(i.name,!0)?n=i.name:Ne(i.display_name,!0)?n=i.display_name:Ne(i.first_name,!0)?n=i.first_name+" "+i.last_name:Ne(i.email,!0)?n=i.email:typeof i.id<"u"&&(n=String(i.id))),n}function dl(i,n=null,e){if(!n)return!0;let t=!0;if(De(n,!0)){let o;if((n=Gs(n).filter(r=>De(r,!0))).length>1)for(n.reverse();n.length>0&&(o=n.pop().filter(r=>De(r,!0)),t=Vc(i,o,e),!t););else t=Vc(i,n,e)}else t=!1;return t}function Vc(i,n,e){const t=new Set(["=",">","<>","!=",">=","<","truthy","falsey","length","contains"]);let s,r,a,o=!0;return De(n,!0)?n.some(l=>(l.some(c=>{if(!De(c,!0))return o=!1,!0;if(s=c[0],1===c.length?(r="truthy",a=void 0):2===c.length?(r="=",a=c[1],["truthy","falsey","length"].includes(a)&&(r=a,a=void 0)):c.length>=2&&(r=c[1],a=c[2]),!(s&&r&&t.has(r)))return o=!1,!0;switch(s=Ne(s,!0)&&s in i&&i[s]?i[s]:Ne(s,!0)&&s.includes(".")?Xv(i,s):tn(s,e),Ne(a,!0)&&Y(e,[a])?a=tn(a,e):Ne(a,!0)&&Y(i,[a])&&(a=Xv(i,a)),r){case"contains":if(De(s)){if(!s.includes(a))return o=!1,!0}else if(Ne(s)){if(s.search(a)<=-1)return o=!1,!0}else{if(!Y(s))return o=!1,!0;if(!(a in s))return o=!1,!0}break;case"length":if(!De(s,!0))return o=!1,!0;break;case"truthy":if(!s)return o=!1,!0;break;case"falsey":if(s)return o=!1,!0;break;case"=":if(s!=a)return o=!1,!0;break;case"!=":case"<>":if(s==a)return o=!1,!0;break;case">":if(s<=a)return o=!1,!0;break;case">=":if(s<a)return o=!1,!0;break;case"<":if(s>=a)return o=!1,!0;break;case"<=":if(s>a)return o=!1,!0;break;default:return o=!1,!0}}),!1===o)):o=!1,o}function Ln(i,n){return!(!Y(n,!0)||!("field"===n.type&&"patch"===n.name&&n.success||"field"===n.type&&"onChange"===n.name&&n.config.facade))}function P4(i,n){return Y(n,!0)&&"field"===n.type&&"onChange"===n.name}function T4(i,n=null){return!(!Y(i,!0)||!Y(i.entity)||Y(n,!0)&&Y(n.core)&&i!==n.core)}function yI(i){let n;switch(String(i.cf_type_name).toLowerCase()){case"email":n=uI;break;case"address":n=pI;break;case"phone":n=mI;break;case"name":n=fI;break;case"textfield":case"input":n=m4;break;case"radio":n=f4;break;case"switch":n=g4;break;case"select":case"select-multi":case"select_multi":case"multi_selection":n=gI;break;case"checkbox":n=_4;break;case"textarea":n=b4;break;case"ssn":n=w4;break;default:n={}}return n}function aue(i,n){if(Y(n,!0))if(Ne(n.resource,!0))Y(i.resource,!0)&&n.resource in i.resource&&Y(i.resource[n.resource],["data_values"])&&De(i.resource[n.resource].data_values,!0)&&(n.converted=!1,n.rawValues=Gs(i.resource[n.resource].data_values));else if(De(n.values,!0)){n.converted=!1;const e=Gs(n.values);n.values=null,n.rawValues=e}else if(Ne(n.values)){const e=Xv(i,String(n.values));if(De(e))n.converted=!1,n.rawValues=Gs(e);else{const t=tn(n.values,i);De(t,!0)&&(n.converted=!1,n.rawValues=Gs(t))}}return n}function jf(i,n,e=!0){if(Y(n,!0)){let t=!0;e&&(t=!!i.access.can_update,Y(i.entity,["system"])&&i.entity.system&&(t=!1));const o=1==+n.readonly||!t,s=Y(i.entity,["id"])&&Y(n.patch,["path"])&&t&&!o;n.metadata||(n.metadata={}),n.metadata=co(n.metadata,{internal_name:i.params.internal_name});let r={...Ui({access:t,align:n.align,all:n.all,allValue:n.allValue,allowAll:n.allowAll,allowGroupAll:n.allowGroupAll,allOverlay:n.allOverlay,allOverlayEnabled:n.allOverlayEnabled,allOverlayLabel:n.allOverlayLabel,allOverlayMessage:n.allOverlayMessage,allOverlayCallback:n.allOverlayCallback,autoFill:!!+n.autoFill||null,autoSize:!!+n.autoSize||null,autofocus:!!+n.autofocus||null,autoselect:!!+n.autoselect||null,border:n.border,bubble:n.bubble,trigger:n.button,checkboxPosition:n.checkboxPosition,className:n.className,color:n.color,collapsed:n.collapsed,control:n.control,createNew:!!n.createNew&&n.createNew,createTag:!!n.createTag&&n.createTag,createNewActions:n.createNewActions?n.createNewActions:[],defaultHeight:n.defaultHeight,disabled:!!+n.disabled,displayErrors:!!+n.displayErrors,dropSpecial:n.dropSpecial,event:+n.event,empty:n.empty,expansionItems:n.expansionItems,facade:!!n.facade,filterPredicate:n.filterPredicate,form:n.cf_item_view_html_form?n.cf_item_view_html_form:n.form?n.form:"label",header:n.header,hidden:n.hidden,hint:n.hint,hintText:n.hintText,height:n.height,helpText:n.helpText,helper:n.helper,html:n.html,icon:n.icon,iconColor:n.iconColor,interval:n.interval,layout:n.setting&&n.setting.layout,level:n.level,levelGap:n.levelGap,link:n.link,label:n.label,list:n.list,maxHeight:n.maxHeight,multiple:n.multiple,message:n.message,minimal:n.minimal,mode:n.mode,noInitialValue:n.noInitialValue,listDirectionFixed:n.listDirectionFixed,labelPosition:n.labelPosition,mask:n.mask,metadata:n.metadata?n.metadata:{},min:n.min,max:n.max,minColumn:n.minColumn,maxColumn:n.maxColumn,minHeight:n.minHeight,minlength:Y(n.rule)&&kt(n.rule.minlength)?n.rule.minlength:n.minlength?n.minlength:null,maxlength:Y(n.rule)&&kt(n.rule.maxlength)?n.rule.maxlength:n.maxlength?n.maxlength:128,minValue:n.minValue,maxValue:n.maxValue,minuteInterval:n.minuteInterval,name:n.name,internal_name:n.internal_name,onEnter:n.onEnter,onEvent:n.onEvent,options:aue(i,n.options),pattern:n.rule&&n.rule.pattern?n.rule.pattern:n.pattern?n.pattern:null,patch:s&&n.patch?n.patch:null,patchGroupFk:n.patchGroupFk,padding:n.padding,position:n.position,preserve:n.preserve,prevent:n.prevent,preventClear:n.preventClear,preset:n.preset,prefix:n.prefix?n.prefix:null,suffix:n.suffix?n.suffix:null,radius:n.radius,readonly:o,reset:n.reset,route:n.route,required:!(!n.rule||!n.rule.required)||!!n.required,session:n.session,sessionHistoryPath:n.sessionPath,showMask:n.showMask,showTooltip:n.showTooltip,size:n.size,sort:n.sort,sort_order:n.sort_order,specialChars:n.specialChars,tooltip:n.tooltip,toolTipDirection:n.toolTipDirection,textOverflow:n.textOverflow,transformation:n.transformation,triggerInitialValue:n.triggerInitialValue,truncate:n.truncate,toggleLock:n.toggleLock,type:n.type,value:n.value,validators:n.validators,width:n.width,warning:n.warning,when:De(n.when,!0)?n.when:null})};return"label"===r.form&&(r={...r,...Ui({subLabel:n.subLabel?n.subLabel:null,subValue:n.subValue?n.subValue:null,truncate:n.truncate?n.truncate:null,copyLabel:n.copyLabel?n.copyLabel:null,labelButton:n.labelButton?n.labelButton:null,valueButton:n.valueButton?n.valueButton:null,copyLabelBody:n.copyLabelBody?n.copyLabelBody:null,copyLabelDisplay:n.copyLabelDisplay?n.copyLabelDisplay:null,valueButtonDisplay:n.valueButtonDisplay?n.valueButtonDisplay:null,valueButtonDisabled:n.valueButtonDisabled?n.valueButtonDisabled:null,valueButtonDisplayTransformation:n.valueButtonDisplayTransformation?n.valueButtonDisplayTransformation:null})}),delete n.patch,r.patch&&(r.patch.path&&(r.patch.path=rn(vd(r.patch.path,i.params),"//","/")),r.patch.metadata&&(r.patch.metadata=function oue(i,n){const e={};let t;return typeof i<"u"&&(i&&Array.isArray(i)&&(i=function n4(i){if(i&&Array.isArray(i)&&i.length>0){const n={};for(let e=0;e<i.length;++e)n[e]=i[e];return n}return i}(i)),"object"==typeof i&&Object.keys(i).map(o=>{t=tn(i[o],n),e[o]=t})),e}(r.patch.metadata,i))),r}return{}}function E4(i,n,e=null){if(ut.event("SessionEntityFieldUpdate","Session Detected",n),T4(i,n)&&Ln(0,n)){let t;Ne(e,!0)||(e="entity");const o=Lt(i,String(e).trim().split("."));return(n.config.name in o||n.config.facade)&&(t=n.config.control?n.config.control.value:n.data,t=tn(t),o[n.config.name]=t,i.repo.clearCache("table","data"),n.session=!0),!0}return!1}function xI(i){if(Ne(i,!0)){ut.info("ClearResourceCache","internal_name");const n=rn(jt(Tn(i))," ","");Oi(`App.${zt.id}.Resource.${n}`,null)}}function CI(i){if(Y(i,["params"])){ut.info("ClearEntityListCache","Session Detected");const n=rn(jt(Tn(i.params.internal_name))," ",""),e=`Entity.${zt.id}.${n}`;Oi(`${e}.active`,null),Oi(`${e}.all`,null),i.repo.clearCache("table","data","ClearEntityListCache")}}function wI(i){if(Ne(i,!0)&&String(i).length>3){let n=Yl(String(i).toLowerCase().trim());return"ies"===String(n).slice(-3)?(n=String(n).slice(0,-3),n+="y"):"s"===String(n).slice(-1)&&(n=String(n).slice(0,-1)),n}return i}function Jv(i){if(Ne(i,!0)&&String(i).length>3){const n=Yl(String(i).toLowerCase().trim());if(Y(lp,!0)&&n in lp)return!0}return!1}function Qv(i){return De(i,!0)&&i.map(n=>{if(Y(n.data,["alias","internal_name"])){const e=n.data.alias;if(Y(e,["target","type"])&&!n.data.masterPath){if(n.data.masterPath=n.path,Ne(e.target,!0)&&Ne(e.type,!0)&&(n.path=String(rn(n.path,e.target,_d(Ne(e.internal_name,!0)?e.internal_name:n.data.internal_name,e.type))).trim(),n.data.masterPath!==n.path&&i.push({path:n.data.masterPath,redirectTo:n.path,pathMatch:"prefix"})),Y(n.data.table,!0)){if(Ne(n.data.table.route,!0)){const t=n.data.table.route;String(t).includes(e.target)&&(n.data.table.route=String(rn(t,e.target,_d(Ne(e.internal_name,!0)?e.internal_name:n.data.internal_name,e.type))).trim())}if(Ne(n.data.table.goToUrl)){const t=n.data.table.goToUrl;String(t).includes(n.data.alias)&&(n.data.table.goToUrl=String(rn(t,n.data.alias,_d(Ne(e.internal_name,!0)?e.internal_name:n.data.internal_name,e.type))).trim())}}}else if(Ne(n.data.alias,!0)&&!n.data.masterPath&&(n.data.masterPath=n.path,n.path=String(rn(n.path,n.data.alias,_d(n.data.internal_name,"plural"))).trim(),n.data.masterPath!==n.path&&i.push({path:n.data.masterPath,redirectTo:n.path,pathMatch:"prefix"}),Y(n.data.table,!0))){if(Ne(n.data.table.route,!0)){const t=n.data.table.route;String(t).includes(n.data.alias)&&(n.data.table.route=String(rn(t,n.data.alias,_d(n.data.internal_name,"plural"))).trim())}if(Ne(n.data.table.goToUrl)){const t=n.data.table.goToUrl;String(t).includes(n.data.alias)&&(n.data.table.goToUrl=String(rn(t,n.data.alias,_d(n.data.internal_name,"plural"))).trim())}}}De(n.children,!0)&&(n.children=Qv(n.children)),Y(n._loadedConfig,["routes"])&&(n._loadedConfig.routes=Qv(n._loadedConfig.routes))}),i}function D4(i){const n=Y(i)?i:null;return Ui({id:n?n.id:0,name:n?String(n.name).toLowerCase():"label",type:n&&String(n.html).includes("[")?String(n.html).split("[")[1].split("]")[0]:"text",description:n?n.description:null})}function O4(i,n){let e;return ut.debug("FieldItemBooleanValue","convert:",{name,model:i,core:n}),kt(i.value,!1)&&("boolean"==typeof i.value?e=i.value:Ne(i.value,!0)?e=tn(i.value,n):Vi(i.value,!1)&&(e=+n.entity[i.name]>0)),!kt(e,!1)&&i.name&&Y(n.entity,!0)&&kt(n.entity[i.name])&&(e=+n.entity[i.name]>0),kt(e,!1)||(e=!1),ut.debug("FieldItemBooleanValue","result:",{initial:i.value,result:e}),e}function dr(i,n){let e;return+i.value>0?e=i.value:kt(i.value,!1)&&Ne(i.value,!0)&&(e=tn(i.value,n)),!kt(e,!1)&&i.name&&Y(n.entity,!0)&&kt(n.entity[i.name])&&Ne(n.entity[i.name],!0)&&(e=n.entity[i.name]),(!kt(e,!1)||"Null"===e)&&(e=""),e}function uue(i,n){let e;return kt(i.value,!1)&&(De(i.value,!1)?e=i.value:Ne(i.value,!0)&&(e=tn(i.value,n))),!De(e,!1)&&i.name&&Y(n.entity,!0)&&De(n.entity[i.name],!1)&&(e=n.entity[i.name]),De(e,!1)||(e=[]),e}function R4(i){let n;switch(String(i).toLowerCase()){case"url":n=eue;break;case"phone":case"zip":n=v4;break;case"email":n=Xt.email;break;case"password":n=Jde;break;case"username":n=qde;break;default:n=null}return n}function $c(i,n){if(Y(i.options,!0)||(i.options={rawValues:[],values:[]}),i.options.modified)return i.options.values;if(!De(i.options.rawValues,!0)){const e=De(i.options.values,!0)?i.options.values:[];i.options.rawValues=[...new Map(e.map(t=>[t.name,t])).values()]}return i.options.modified=!0,as(i.options.rawValues,{converted:i.options.converted,nameKey:i.options.nameKey?i.options.nameKey:"name",ensure:i.options.ensure&&Y(n.entity,!0)?{name:n.entity[i.options.ensure.name],value:n.entity[i.name]}:void 0,prevent:De(i.options.prevent,!0)?i.options.prevent:[],preserveKeys:De(i.options.preserveKeys,!0)?i.options.preserveKeys:[],parent:i.options.parent&&Y(n.entity,!0)?{field:i.options.parent,value:n.entity[i.options.parent]}:void 0,empty:null,sort:!kt(i.options.sort)||i.options.sort})}function Gf(i,n){let e,t,o,s,r,a,l,c,D=null;switch(n.form){case"sidebyside":t=Array.isArray(n.options.assigned)&&n.options.assigned.length>0?n.options.assigned:"string"==typeof n.options.assigned&&Y(i.entity.assignments,!0)&&Array.isArray(i.entity.assignments[n.options.assigned])?i.entity.assignments[n.options.assigned]:[],n.options.values=$c(n,i),n.options.converted=!0,o={assigned:t,assignAll:"boolean"==typeof n.assign_all&&n.assign_all,assignedLabel:"string"==typeof n.assignedLabel?n.assignedLabel:"Assigned",bubble:n.bubble,disabled:n.disabled,displayHelper:"boolean"==typeof n.displayHelper&&n.displayHelper,displayTitle:"boolean"==typeof n.displayTitle&&n.displayTitle,facade:!0,filter:"boolean"!=typeof n.filter||n.filter,helpText:"string"==typeof n.helpText?n.helpText:void 0,id:n.id?n.id:void 0,label:n.label?Do(n.label):"",metadata:n.metadata,noInitialValue:!!n.noInitialValue&&n.noInitialValue,name:n.name?n.name:null,optionsLabel:"string"==typeof n.optionsLabel?n.optionsLabel:"Available",options:n.options,parentHeight:"mat-grid-tile",patch:n.patch,route:"string"==typeof n.route?n.route:void 0,removeAll:"boolean"==typeof n.removeAll&&n.removeAll,session:n.session,sessionHistoryPath:n.sessionPath,validators:n.required?[Xt.required]:void 0},D=new d4(Ui(o));break;case"chip":n.options.values=$c(n,i),n.options.converted=!0,o={bubble:n.bubble,disabled:n.disabled,color:n.color,helpText:n.helpText?n.helpText:"",id:n.id?n.id:void 0,name:n.name?n.name:null,options:n.options,patch:n.patch,type:n.type,showHelpText:n.showHelpText,showDropDown:n.showDropDown,showRemove:n.showRemove,value:dr(n,i)},n.options.converted=!0,D=new iue(Ui(o));break;case"select":n.options.values=$c(n,i),n.options.converted=!0,o={autoFill:n.autoFill,bubble:n.bubble,createNew:!!n.createNew&&n.createNew,createTag:!!n.createTag&&n.createTag,createNewActions:n.createNewActions?n.createNewActions:[],disabled:n.disabled,empty:n.empty?n.empty:null,facade:n.facade,height:n.height?n.height:void 0,helpText:n.helpText?n.helpText:void 0,id:n.id?n.id:void 0,label:n.label?Do(n.label):"",listDirectionFixed:n.listDirectionFixed,mode:n.mode?n.mode:"select",metadata:n.metadata,name:n.name?n.name:null,onEvent:n.onEvent,noInitialValue:!!n.noInitialValue&&n.noInitialValue,options:n.options,patch:n.patch,readonly:n.readonly,session:n.session,sessionHistoryPath:n.sessionPath,required:!!n.required,toggleLock:n.toggleLock,triggerInitialValue:!!n.triggerInitialValue,validators:n.required?[Xt.required]:void 0,value:typeof n.value<"u"&&null!==n.value?tn(n.value,i):Y(i.entity,!0)&&typeof i.entity[n.name?n.name:null]<"u"?i.entity[n.name?n.name:null]:null},D=new Zi(Ui(o));break;case"select-modal":n.options.values=$c(n,i),n.options.converted=!0,o={autoFill:n.autoFill,bubble:n.bubble,disabled:n.disabled,empty:n.empty?n.empty:null,facade:n.facade,height:n.height?n.height:void 0,helpText:n.helpText?n.helpText:void 0,id:n.id?n.id:void 0,label:n.subLabel?Do(n.subLabel):"",mode:n.mode?n.mode:"select",metadata:n.metadata,name:n.name?n.name:null,onEvent:n.onEvent,noInitialValue:!!n.noInitialValue&&n.noInitialValue,options:n.options,patch:n.patch,readonly:n.readonly,session:n.session,sessionHistoryPath:n.sessionPath,required:n.required,validators:n.required?[Xt.required]:void 0,value:typeof n.value<"u"&&null!==n.value?tn(n.value,i):Y(i.entity,!0)&&typeof i.entity[n.name?n.name:null]<"u"?i.entity[n.name?n.name:null]:null},D=new x4({facade:!1,header:n.header?n.header:null,label:n.label?n.label:null,metadata:{},name:n.name,required:n.required,validators:n.required?[Xt.required]:void 0,list:new _I(Ui(o))});break;case"select-filter":n.options.values=$c(n,i),n.options.converted=!0,o={autoFill:n.autoFill,bubble:n.bubble,createNew:!!n.createNew&&n.createNew,createTag:!!n.createTag&&n.createTag,createNewActions:n.createNewActions?n.createNewActions:[],disabled:n.disabled,facade:n.facade,helpText:n.helpText?n.helpText:void 0,height:n.height?n.height:void 0,id:n.id?n.id:void 0,label:n.label?Do(n.label):"",mode:n.mode?n.mode:"select",minHeight:n.minHeight?n.minHeight:void 0,multiple:n.multiple,metadata:n.metadata,name:n.name?n.name:null,noInitialValue:!!n.noInitialValue&&n.noInitialValue,onEvent:n.onEvent,options:n.options,patch:n.patch,readonly:n.readonly,required:!!n.required,session:n.session,position:n.position,sessionHistoryPath:n.sessionPath,toggleLock:n.toggleLock,triggerInitialValue:!!n.triggerInitialValue,validators:n.required?[Xt.required]:void 0,value:typeof n.value<"u"&&null!==n.value?tn(n.value,i):Y(i.entity,!0)&&typeof i.entity[n.name?n.name:null]<"u"?i.entity[n.name?n.name:null]:null},D=new pp(Ui(o));break;case"select-list":n.options.values=$c(n,i),n.options.converted=!0,o={autoFill:n.autoFill,all:n.all,allowAll:n.allowAll,allowGroupAll:n.allowGroupAll,allOverlay:n.allOverlay,allOverlayEnabled:n.allOverlayEnabled,allOverlayLabel:n.allOverlayLabel,allOverlayMessage:n.allOverlayMessage,allOverlayCallback:n.allOverlayCallback,bubble:n.bubble,disabled:n.disabled,facade:n.facade,helpText:n.helpText?n.helpText:void 0,height:n.height?n.height:void 0,id:n.id?n.id:void 0,label:n.label?Do(n.label):"",mode:n.mode?n.mode:null,multiple:n.multiple,minHeight:n.minHeight?n.minHeight:void 0,metadata:n.metadata,name:n.name?n.name:null,onEvent:n.onEvent,noInitialValue:!!n.noInitialValue&&n.noInitialValue,options:n.options,patch:n.patch,required:n.required,readonly:n.readonly,session:n.session,sessionHistoryPath:n.sessionPath,triggerInitialValue:!!n.triggerInitialValue,validators:n.required?[Xt.required]:void 0,value:typeof n.value<"u"&&null!==n.value?tn(n.value,i):Y(i.entity,!0)&&typeof i.entity[n.name?n.name:null]<"u"?i.entity[n.name?n.name:null]:null},D=new _I(Ui(o));break;case"select-multi":case"select_multi":n.options.values=$c(n,i),n.options.converted=!0,o={autoFill:n.autoFill,bubble:n.bubble,disabled:n.disabled,facade:n.facade,helpText:n.helpText?n.helpText:void 0,id:n.id?n.id:void 0,label:n.label?Do(n.label):"",listDirectionFixed:n.listDirectionFixed,metadata:n.metadata,name:n.name?n.name:null,noInitialValue:!!n.noInitialValue&&n.noInitialValue,onEvent:n.onEvent,options:n.options,patch:n.patch,readonly:n.readonly,session:n.session,sessionHistoryPath:n.sessionPath,toggleLock:n.toggleLock,triggerInitialValue:!!n.triggerInitialValue,validators:n.required?[Xt.required]:void 0,value:uue(n,i)},n.options.converted=!0,D=new u4(Ui(o));break;case"textfield":case"text":case"input":if(s=[],n.mask||s.push(Xt.maxLength(+n.maxlength||64)),n.mask&&(n.maxlength=null),n.required&&s.push(Xt.required),n.pattern){const te=R4(n.pattern);te&&s.push(te)}+n.minlength&&s.push(Xt.minLength(+n.minlength)),o={autofocus:!!n.autofocus||null,autoselect:!!n.autoselect||null,bubble:n.bubble,disabled:n.disabled,empty:n.empty?n.empty:null,facade:!!n.facade||null,hint:!!n.hint||null,hintText:n.hintText?n.hintText:null,helpText:n.helpText?n.helpText:null,hidden:n.hidden,id:n.id?n.id:void 0,label:Do(n.label),metadata:n.metadata,maxlength:n.maxlength||64,mask:"string"==typeof n.mask&&n.mask.length>0?n.mask:null,name:n.name?n.name:null,onEnter:n.onEnter,onEvent:n.onEvent,noInitialValue:!!n.noInitialValue&&n.noInitialValue,patch:n.patch,pattern:"string"==typeof n.pattern&&n.pattern.length>0?n.pattern:null,prefix:Ne(n.prefix,!0)?n.prefix:null,prevent:De(n.prevent,!0)?n.prevent:null,readonly:!!n.readonly,required:!!n.required,session:n.session,sessionHistoryPath:n.sessionPath,suffix:"string"==typeof n.suffix&&n.suffix.length>0?n.suffix:null,transformation:Ne(n.transformation,!0)?n.transformation:null,validators:s,value:dr(n,i)},D=new li(Ui(o));break;case"search-input":case"search":if(s=[],s.push(Xt.maxLength(+n.maxlength||64)),n.pattern){const te=R4(n.pattern);te&&s.push(te)}+n.minlength&&s.push(Xt.minLength(+n.minlength)),o={autofocus:!!n.autofocus||null,bubble:n.bubble,disabled:n.disabled,facade:!!n.facade||null,hint:!!n.hint||null,hintText:n.hintText?n.hintText:null,helpText:n.helpText?n.helpText:null,hidden:n.hidden,id:n.id?n.id:void 0,label:Do(n.label),metadata:n.metadata,maxlength:n.maxlength||64,name:n.name?n.name:null,onEnter:n.onEnter,onEvent:n.onEvent,noInitialValue:!!n.noInitialValue&&n.noInitialValue,pattern:"string"==typeof n.pattern&&n.pattern.length>0?n.pattern:null,readonly:!!n.readonly,session:n.session,validators:s,value:dr(n,i)},D=new Yv(Ui(o));break;case"number":s=[],n.min&&s.push(Xt.min(n.min)),n.max&&s.push(Xt.max(n.max)),n.required&&s.push(Xt.required),o={bubble:n.bubble,facade:n.facade,helpText:n.helpText?n.helpText:null,hidden:n.hidden,id:n.id?n.id:void 0,label:Do(n.label),metadata:n.metadata,min:typeof n.min<"u"?n.min:0,max:n.max,noInitialValue:!!n.noInitialValue&&n.noInitialValue,name:n.name?n.name:null,onEvent:n.onEvent,prefix:Ne(n.prefix,!0)?n.prefix:"",patch:n.patch,readonly:n.readonly,required:!!n.required,session:n.session,sessionHistoryPath:n.sessionPath,suffix:"string"==typeof n.suffix&&n.suffix.length>0?n.suffix:"",step:+n.step?n.step:1,transformation:Ne(n.transformation,!0)?n.transformation:null,validators:s,value:dr(n,i)},D=new zf(Ui(o));break;case"date":o={bubble:n.bubble,disabled:n.disabled,facade:n.facade,expansionItems:n.expansionItems,helpText:n.helpText?n.helpText:null,id:n.id?n.id:void 0,label:Do(n.label),min:n.min?n.min:null,max:!1===Number.isNaN(n.max)?n.max:null,metadata:n.metadata,noInitialValue:!!n.noInitialValue&&n.noInitialValue,name:n.name?n.name:null,onEvent:n.onEvent,patch:n.patch,preventClear:!!n.preventClear,required:n.required,readonly:n.readonly,triggerInitialValue:!!n.triggerInitialValue,session:n.session,sessionHistoryPath:n.sessionPath,transformation:Ne(n.transformation,!0)?n.transformation:null,type:Ne(n.type,!0)?n.type:"Basic",value:wo.toCalendarDate(dr(n,i)),validators:n.required?[Xt.required]:void 0},o=Ui(o),kt(n.filterPredicate)&&(o.filterPredicate=n.filterPredicate),D=new cI(o);break;case"colorpicker":case"color-picker":case"color":o={bubble:n.bubble,disabled:n.disabled,facade:n.facade,helpText:n.helpText?n.helpText:null,id:n.id?n.id:void 0,label:Do(n.label),metadata:n.metadata,noInitialValue:!!n.noInitialValue&&n.noInitialValue,name:n.name?n.name:null,onEvent:n.onEvent,patch:n.patch,required:n.required,readonly:n.readonly,value:dr(n,i)},o=Ui(o),D=new C4(o);break;case"daterange":o={bubble:n.bubble,disabled:n.disabled,facade:n.facade,expansionItems:n.expansionItems,helpText:n.helpText?n.helpText:null,id:n.id?n.id:void 0,label:Do(n.label),min:Ne(n.min,!0)?n.min:null,max:!1===Number.isNaN(n.max)?n.max:null,minValue:n.minValue,maxValue:n.minValue,metadata:n.metadata,noInitialValue:!!n.noInitialValue&&n.noInitialValue,name:n.name?n.name:null,onEvent:n.onEvent,patch:n.patch,preset:n.preset,preventClear:!!n.preventClear,required:n.required,readonly:n.readonly,session:n.session,sessionHistoryPath:n.sessionPath,transformation:Ne(n.transformation,!0)?n.transformation:null,type:Ne(n.type,!0)?n.type:"Basic",value:dr(n,i),valueStart:dr(n.valueStart,i),valueEnd:dr(n.valueEnd,i),validators:n.required?[Xt.required]:void 0},o=Ui(o),kt(n.filterPredicate)&&(o.filterPredicate=n.filterPredicate),D=new cI(o);break;case"datepicker":o={bubble:n.bubble,disabled:n.disabled,facade:n.facade,helpText:n.helpText?n.helpText:null,id:n.id?n.id:void 0,label:Do(n.label),min:Ne(n.min,!0)?n.min:null,max:!1===Number.isNaN(n.max)?n.max:null,metadata:n.metadata,noInitialValue:!!n.noInitialValue&&n.noInitialValue,onEvent:n.onEvent,name:n.name?n.name:null,patch:n.patch,preventClear:!!n.preventClear,required:n.required,transformation:Ne(n.transformation,!0)?n.transformation:null,readonly:n.readonly,session:n.session,sessionHistoryPath:n.sessionPath,value:wo.toCalendarDate(dr(n,i)),validators:n.required?[Xt.required]:void 0},o=Ui(o),kt(n.filterPredicate)&&(o.filterPredicate=n.filterPredicate),D=new y4(o);break;case"datetime":o={bubble:n.bubble,disabled:n.disabled,facade:n.facade,helpText:n.helpText?n.helpText:null,id:n.id?n.id:void 0,label:Do(n.label),min:Ne(n.min,!0)?n.min:null,max:!1===Number.isNaN(n.max)?n.max:null,metadata:n.metadata,noInitialValue:!!n.noInitialValue&&n.noInitialValue,onEvent:n.onEvent,name:n.name?n.name:null,patch:n.patch,preventClear:!!n.preventClear,required:n.required,transformation:Ne(n.transformation,!0)?n.transformation:null,readonly:n.readonly,session:n.session,sessionHistoryPath:n.sessionPath,value:wo.toCalendarDate(dr(n,i)),time:new dI,validators:n.required?[Xt.required]:void 0},o=Ui(o),kt(n.filterPredicate)&&(o.filterPredicate=n.filterPredicate),D=new k4(o);break;case"time":o={bubble:n.bubble,defaultValue:n.defaultValue,disabled:n.disabled,facade:n.facade,helpText:n.helpText?n.helpText:null,minuteInterval:n.minuteInterval?n.minuteInterval:15,id:n.id?n.id:void 0,label:Do(n.label),lockPeriod:n.lockPeriod,metadata:n.metadata,minHour:n.minHour,maxHour:n.maxHour,name:n.name?n.name:null,noInitialValue:!!n.noInitialValue&&n.noInitialValue,onEvent:n.onEvent,patch:n.patch,readonly:n.readonly,required:!!n.required,session:n.session,sessionHistoryPath:n.sessionPath,time:n.time?n.time:12,transformation:Ne(n.transformation,!0)?n.transformation:null,triggerInitialValue:!!n.triggerInitialValue,value:dr(n,i),validators:n.required?[Xt.required]:void 0},D=new dI(Ui(o));break;case"checkbox":n.options.values=$c(n,i),n.options.converted=!0,o={bubble:n.bubble,disabled:n.disabled,facade:n.facade,helpText:n.helpText?n.helpText:void 0,id:n.id?n.id:void 0,label:n.label?Do(n.label):"",labelPosition:typeof n.labelPosition<"u"?n.labelPosition:"after",metadata:n.metadata,name:n.name?n.name:null,noInitialValue:!!n.noInitialValue&&n.noInitialValue,onEvent:n.onEvent,options:n.options,patch:n.patch,session:n.session,sessionHistoryPath:n.sessionPath,textOverflow:n.textOverflow?n.textOverflow:"wrap",value:O4(n,i)},D=new qr(Ui(o));break;case"switch":o={bubble:n.bubble,disabled:n.disabled,facade:n.facade,helpText:n.helpText?n.helpText:void 0,id:n.id?n.id:void 0,label:n.label?Do(n.label):"",labelPosition:typeof n.labelPosition<"u"?n.labelPosition:"after",metadata:n.metadata,name:n.name?n.name:null,noInitialValue:!!n.noInitialValue&&n.noInitialValue,onEvent:n.onEvent,patch:n.patch,session:n.session,sessionHistoryPath:n.sessionPath,textOverflow:n.textOverflow?n.textOverflow:"wrap",value:O4(n,i)},D=new uo(Ui(o));break;case"minmax":r=n.minColumn?n.minColumn:"min",a=n.maxColumn?n.maxColumn:"max",l=typeof n.minValue<"u"&&null!==n.minValue?tn(n.minValue,i):Y(i.entity,!0)&&typeof i.entity[r]<"u"?i.entity[r]:1,c=typeof n.maxValue<"u"&&null!==n.maxValue?tn(n.maxValue,i):Y(i.entity,!0)&&typeof i.entity[a]<"u"?i.entity[a]:10,o={bubble:n.bubble,disabled:n.disabled,facade:n.facade,helpText:n.helpText?n.helpText:void 0,id:n.id?n.id:void 0,label:n.label?Do(n.label):"",minColumn:n.minColumn?n.minColumn:"min",maxColumn:n.maxColumn?n.maxColumn:"max",minValue:l,maxValue:c,metadata:n.metadata,name:n.name?n.name:null,noInitialValue:!!n.noInitialValue&&n.noInitialValue,onEvent:n.onEvent,patch:n.patch,readonly:n.readonly,session:n.session,sessionHistoryPath:n.sessionPath},D=new h4(Ui(o));break;case"radio":n.options.values=$c(n,i),n.options.converted=!0,o={bubble:n.bubble,disabled:n.disabled,facade:n.facade,helpText:n.helpText?n.helpText:"",id:n.id?n.id:void 0,labelPosition:typeof n.labelPosition<"u"?n.labelPosition:"above",label:n.label?Do(n.label):"",layout:typeof n.layout<"u"?n.layout:"row",metadata:n.metadata,name:n.name?n.name:null,noInitialValue:!!n.noInitialValue&&n.noInitialValue,onEvent:n.onEvent,options:n.options,patch:n.patch,reset:n.reset,readonly:n.readonly,required:!!n.required,session:n.session,sessionHistoryPath:n.sessionPath,triggerInitialValue:!!n.triggerInitialValue,sort:typeof n.labelPosition<"u"&&n.sort,value:dr(n,i)},n.options.converted=!0,D=new hp(Ui(o));break;case"textarea":o={autoSize:n.autoSize,bubble:n.bubble,facade:n.facade,height:n.height||70,helpText:n.helpText?n.helpText:"",id:n.id?n.id:void 0,label:Do(n.label),maxlength:n.maxlength||500,metadata:n.metadata,maxHeight:n.maxHeight||null,name:n.name?n.name:null,noInitialValue:!!n.noInitialValue&&n.noInitialValue,onEvent:n.onEvent,pattern:"string"==typeof n.pattern&&n.pattern.length>0?n.pattern:null,patch:n.patch,readonly:n.readonly,session:n.session,sessionHistoryPath:n.sessionPath,transformation:Ne(n.transformation,!0)?n.transformation:null,validators:n.required?[Xt.required,Xt.maxLength(n.maxlength||255)]:[Xt.maxLength(n.maxlength||255)],value:dr(n,i)},D=new Jr(Ui(o));break;case"label":e=typeof n.value<"u"&&null!==n.value?tn(n.value,i):Y(i.entity,!0)&&typeof i.entity[n.name?n.name:null]<"u"?i.entity[n.name?n.name:null]:"",n.transformation&&typeof e<"u"&&(e=ka(e,n.transformation)),typeof n.copyLabelDisplay<"u"&&(n.copyLabelDisplay=tn(n.copyLabelDisplay,i),n.copyLabelDisplay&&n.copyLabelDisplayTransformation&&(n.copyLabelDisplay=ka(n.copyLabelDisplay,n.copyLabelDisplayTransformation))),typeof n.copyLabelBody<"u"&&(n.copyLabelBody=tn(n.copyLabelBody,i),n.copyLabelBody&&n.copyLabelBodyTransformation&&(n.copyLabelBody=ka(n.copyLabelBody,n.copyLabelBodyTransformation))),typeof n.copyValueDisplay<"u"&&(n.copyValueDisplay=null!==n.copyValueDisplay?tn(n.copyValueDisplay,i):"",n.copyValueDisplay&&n.copyValueDisplayTransformation&&(n.copyValueDisplay=ka(n.copyValueDisplay,n.copyValueDisplayTransformation))),typeof n.copyValueBody<"u"&&(n.copyValueBody=null!==n.copyValueBody?tn(n.copyValueBody,i):"",n.copyValueBody&&n.copyValueBodyTransformation&&(n.copyValueBody=ka(n.copyValueBody,n.copyValueBodyTransformation))),typeof n.valueButtonDisplay<"u"&&(n.valueButtonDisplay=tn(n.valueButtonDisplay,i),n.valueButtonDisplay&&n.valueButtonDisplayTransformation&&(n.valueButtonDisplay=ka(n.valueButtonDisplay,n.valueButtonDisplayTransformation))),o=Ui({name:n.name?n.name:null,label:Do(n.label),trigger:n.button,border:n.border,icon:n.icon,iconType:n.iconType,html:n.html,textOverflow:n.textOverflow?n.textOverflow:"wrap",labelButton:!!n.labelButton,copyLabel:!!n.copyLabel,copyLabelBody:n.copyLabelBody?n.copyLabelBody:null,copyLabelBodyTransformation:n.copyLabelBodyTransformation?n.copyLabelBodyTransformation:null,copyLabelDisplay:n.copyLabelDisplay?n.copyLabelDisplay:null,copyLabelDisplayTransformation:n.copyLabelDisplayTransformation?n.copyLabelDisplayTransformation:null,copyValue:!!n.copyValue,copyValueBody:n.copyValueBody?n.copyValueBody:null,copyValueBodyTransformation:n.copyValueBodyTransformation?n.copyValueBodyTransformation:null,copyValueDisplay:n.copyValueDisplay?n.copyValueDisplay:null,copyValueDisplayTransformation:n.copyValueDisplayTransformation?n.copyValueDisplayTransformation:null,valueButton:!!n.valueButton,valueButtonDisabled:!!n.valueButtonDisabled,valueButtonDisplay:n.valueButtonDisplay?n.valueButtonDisplay:null,valueButtonDisplayTransformation:n.valueButtonDisplayTransformation?n.valueButtonDisplayTransformation:null,value:e,link:n.link||!1,header:n.header,helpText:n.helpText?n.helpText:void 0,route:n.route?tn(n.route,i):"",metadata:n.metadata}),D=new p4(Ui(o));break;case"textstring":o={border:n.border,className:n.className,header:n.header,id:n.id?n.id:void 0,name:n.name?n.name:null,size:n.size,textOverflow:n.textOverflow,value:n.value?n.value:"",warning:n.warning},D=new tue(Ui(o));break;case"button":o={bubble:n.bubble,disabled:n.disabled,facade:n.facade,icon:n.icon?n.icon:"help_outline",helpText:n.helpText?n.helpText:void 0,id:n.id?n.id:void 0,metadata:n.metadata,name:n.name?n.name:null,patch:n.patch,value:dr(n,i)},D=new Ms(Ui(o));break;case"metadata":e=kt(n.value)?n.value:Y(i.entity,!0)&&n.name in i.entity?i.entity[n.name]:null,D=new Xde(n.name,e);break;default:ut.warn("FieldItemModelConfig","buildCoreFieldItemConfig",n.form)}return D}let Yt=(()=>{class i{set show(e){this.hidden=!e}constructor(){this.position=1,this.core={},this.events=new tt,this.when=null,this.hidden=!1,this.id=1,this.loaderDelay=500,this.trait={bubble:!1},this.asset||(this.asset={map:{}}),this.ui||(this.ui={map:{}}),this.log=this._initializeLogSystem(),this.dom=this._initializeDom()}ngOnInit(){var e=this;this.dom.loading(),new Promise(function(){var o=q(function*(s){return yield e.dom._extend(),yield e.dom.configure(),yield e.dom.register(),yield e.dom.proceed(),It(e.onLoad)&&(yield e.onLoad(e.core,{source:e.name,type:"component",name:"onLoad",data:e},e.dom)),e.dom.ready(),s(!0)});return function(s){return o.apply(this,arguments)}}()).then(()=>{this.log.init()})}dd(...e){throw e.forEach((t,o)=>{this.log.warn("dd:"+o,t)}),new Error("dd")}ngOnDestroy(){var e=this;new Promise(function(){var o=q(function*(s){return It(e.onUnload)&&(yield e.onUnload(e.core,{source:e.name,type:"component",name:"onUnload",data:e})),yield e.dom.unload(),e.dom.repo&&e.dom.store(),e.dom.destroy(),s(!0)});return function(s){return o.apply(this,arguments)}}()).then(()=>{this.log.destroy()})}_initializeDom(){var e=this;return{active:{},error:{code:0,message:""},overhead:0,height:{outer:null,inner:null,default:0},width:{},state:{},session:{},contextMenu:{config:void 0,configure:void 0},repo:void 0,subscriber:{},interval:{},delay:{},handler:{},loading:()=>{this.dom.error={code:0,message:""},this.dom.state.loading=!0,this.dom.state.loader=!1,this.dom.setTimeout("delay-loader-trigger",()=>{this.dom.state.loader=!0},this.loaderDelay)},_extend:()=>new Promise(t=>{const o=Object.keys(this).filter(s=>String(s).startsWith("_")&&String(s).endsWith("Repo")&&String(s).length>6&&Y(this[s],!0));return De(o,!0)&&(Y(this.srv)||(this.srv={}),o.map(s=>{const r=s.replace("_","").replace("Repo","");"dom"===r?this.dom.repo=this[s]:this.srv[r]=this[s],delete this[s]})),t(!0)}),configure:()=>new Promise(t=>t(!0)),proceed:()=>new Promise(t=>t(!0)),ready:()=>{this.dom.setTimeout("delay-loader-trigger",null),this.dom.state.loading=!1,this.dom.state.loaded=!0,this.dom.state.loader=!1,this.dom.state.refresh=!1,De(this.when,!0)&&(this.log.info("eval when",this.when),this.hidden=!dl(this.core,this.when,this.core))},refreshing:()=>{this.dom.state.refresh=!0},register:()=>new Promise(function(){var t=q(function*(o){return e.el&&!e.dom.width.outer&&(e.dom.width.outer=e.el.nativeElement.getBoundingClientRect().width),Y(e.core,!0)&&(Y(e.core.access,!0)&&(e.dom.access=gi(e.core.access)),Y(e.session)&&(e.dom.session=e.session),Y(e.active)&&(e.dom.active=e.active),("function"==typeof e.dom.handler.core||De(e.when,!0))&&e.dom.setSubscriber("on-core-event",e.core.channel.subscribe(function(){var s=q(function*(r){Ln(0,r)&&De(e.when)&&(e.log.info("eval when",e.when),e.dom.setTimeout("eval-when",()=>{e.hidden=!dl(e.core,e.when,e.core)},50)),!(r.source&&r.target&&(r.source&&r.source===e.name||r.target&&-1===String(r.target).search(e.name)))&&It(e.dom.handler.core)&&e.dom.handler.core(Y(e.core,!0)?e.core:null,r)});return function(r){return s.apply(this,arguments)}}()))),e.name&&typeof e.id<"u"&&e.dom.repo&&"function"==typeof e.dom.repo.onRegister&&e.dom.repo.onRegister(e),Y(e.session)&&(e.session=e.dom.session),Y(e.active)&&(e.active=e.dom.active),It(e.onEvent)&&e.dom.setSubscriber("on-event",e.events.subscribe(function(){var s=q(function*(r){yield e.onEvent(e.core,r,e.dom),e.log.event(e.name,r)});return function(r){return s.apply(this,arguments)}}())),o(!0)});return function(o){return t.apply(this,arguments)}}()),find:(t,o,s=1)=>{let r=null;return"field"===t?(r=Lt(this.dom,["repo","ui","fields"]).get(o),r=Lt(r,["inputs","config"])):"component"===t?(r=Lt(this.dom,["repo","components",String(o)]),r=Y(r)&&s in r?r[s]:null):this.el&&"el"===t?r=this.el.nativeElement.querySelector(o):"resource"===t&&Y(this.core,["resource"])&&(r=Lt(this.core,["resource",String(o)],null),r&&(r=Y(r.data,!0)?r.data:r.data_values)),r},focus:(t,o)=>{this.el&&Ne(t,!0)&&this.dom.setTimeout("focus-child-element-delay",()=>{this.dom.setTimeout("focus-child-element",()=>{const s=this.el.nativeElement.querySelector(t);s&&s.focus()},0)},o)},setError:(t=null,o=!1)=>{Y(t)?o?Nc.failure({header:"Something went wrong!",body:qn(t),timer:5}):Y(this.config,["message"])?(this.config.message=qn(t),this.dom.setTimeout("dom-auto-clear-message",()=>{this.config.message=null},1e4)):this.dom&&!Y(this.dom.error)&&(this.dom.error={code:422,message:""},this.dom.error.code=t.status?t.status:409,this.dom.error.message=qn(t)):this.dom.error.message=""},clearError:()=>{Y(this.config,["message"])&&(this.config.message=null),Y(this.dom.error)||(this.dom.error.message=null)},unload:()=>new Promise(function(){var t=q(function*(o){return o(!0)});return function(o){return t.apply(this,arguments)}}()),setSubscriber:(t,o=null)=>{t&&this.dom.subscriber&&t in this.dom.subscriber&&this.dom.subscriber[t]&&"function"==typeof this.dom.subscriber[t].unsubscribe&&this.dom.subscriber[t].unsubscribe(),o&&(this.dom.subscriber[t]=o)},setTimeout:(t,o=null,s=250)=>{t&&this.dom.delay&&t in this.dom.delay&&this.dom.delay[t]&&clearTimeout(this.dom.delay[t]),"function"==typeof o&&(this.dom.delay[t]=setTimeout(o,s))},setInterval:(t,o=null,s=250,r=10)=>{t&&this.dom.interval&&t in this.dom.interval&&this.dom.interval[t]&&clearInterval(this.dom.interval[t]),"function"==typeof o&&(this.dom.interval[t]=setInterval(o,s,r))},setHeight:(t,o)=>{this.name&&t>0&&(this.dom.overhead=o,this.dom.height={outer:t,inner:t-o,split:+(t-o)/2,default:0})},setHeightWithParent:(t=null,o=0,s)=>new Promise(r=>{this.el?this.dom.waitForParent(this.el,t,10,10).then(a=>{a?this.dom.waitForParentHeight(a).then(l=>{l<s&&(l=s),l?(this.dom.setHeight(+l,o),r(!0)):(this.dom.setHeight(s,o),r(!0))}):(this.dom.setHeight(s,o),r(!0))}):r(!1)}),focusNextInput(t){if(t){let o=5,s=null,r=t.nativeElement.nextElementSibling;for(;o&&!s;)s=r.querySelector("input[type=text]"),s||(s=r.querySelector("input[type=checkbox]")),s||(s=r.querySelector("mat-select")),s||(s=r.querySelector("button")),s||(r.nativeElement&&r.nativeElement.nextElementSibling?r=r.nativeElement.nextElementSibling:r.nextElementSibling?r=r.nextElementSibling:o=0),o--;s&&(s instanceof $e?s.nativeElement.focus():It(r.focus)&&s.focus())}},scrollToTarget(t){document.querySelector(t).scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},setWithComponentInnerHeight:(t,o=1,s,r)=>new Promise(a=>{if(this.dom.repo){let l=this.dom.repo.getComponentHeight(t);l=l&&l.inner?l.inner:r,this.dom.setHeight(+l,s),a(this.dom.height.inner)}else this.dom.setHeight(+r,s),a(this.dom.height.inner)}),waitForParent:(t,o=null,s=50,r=5)=>{let a,l;return new Promise(c=>{a=setInterval(()=>{if(l=this.dom.findParentElement(t,o),!r||l)return clearInterval(a),c(l);r--},s)})},waitForParentHeight:(t,o=5,s=10)=>new Promise(r=>{const a=setInterval(()=>{if(!s||t&&t.clientHeight)return clearInterval(a),r(t.clientHeight);s--},o)}),findParentElement:(t,o=null)=>{let r,s=10;if(t&&t.nativeElement&&t.nativeElement.parentElement){let a=t.nativeElement.parentElement;for(;!r&&s;)a&&(o?a.classList&&a.classList.contains(o)&&(r=a):r=a,r||(a=a.parentElement)),s--}return r},store:(t=null)=>{if(this.dom.repo&&this.name&&this.id)return this.dom.repo.onSession(this,t)},destroy:()=>{this.dom&&function Kde(i){"object"==typeof i.interval&&Object.keys(i.interval).map(n=>{i.interval[n]&&clearInterval(i.interval[n])}),"object"==typeof i.delay&&Object.keys(i.delay).map(n=>{i.delay[n]&&clearTimeout(i.delay[n])}),"object"==typeof i.subscriber&&Object.keys(i.subscriber).map(n=>{i.subscriber[n]&&"function"==typeof i.subscriber[n].unsubscribe&&i.subscriber[n].unsubscribe()})}(this.dom)}}}_initializeLogSystem(){return{repo:{message:e=>`%c${e}`,color:e=>{let t;switch(e){case"warn":t="orange";break;case"force":case"error":case"destroy":t="red";break;case"info":default:t="aqua";break;case"event":t="yellow";break;case"onSession":case"event-trigger":t="gold";break;case"cache-in":t="green";break;case"cache-out":case"api":t="darkgreen";break;case"dom":t="brown";break;case"debug":case"config":t="pink";break;case"theme":t="purple"}return`color: ${t}`},enabled:(e="",t=null)=>!(!ut||!ut.isEnabled())&&ut.enabled(e,t),init:(e,t,o="",s=!1)=>{const r="init";(this.log.repo.enabled(r,e)||s)&&window.console.log(this.log.repo.message(`${e}:${t}`),this.log.repo.color(s?"force":r),o)},debug:(e,t,o="",s=!1)=>{const r="debug";(this.log.repo.enabled(r,e)||s)&&window.console.log(this.log.repo.message(`${e}:${t}`),this.log.repo.color(s?"force":r),o)},cache:(e,t,o=!0,s=!1)=>{let r="cache";(this.log.repo.enabled(r,e)||s)&&(r=o?"cache-in":"cache-out",window.console.log(this.log.repo.message(`${e}:${t}`),this.log.repo.color(s?"force":r)))},warn:(e,t,o="",s=!1)=>{const r="warn";(this.log.repo.enabled(r,e)||s)&&window.console.log(this.log.repo.message(`${e}:${t}`),this.log.repo.color(s?"force":r),o)},info:(e,t,o="",s=!1)=>{const r="info";(this.log.repo.enabled(r,e)||s)&&window.console.log(this.log.repo.message(`${e}:${t}`),this.log.repo.color(s?"force":r),o)},theme:(e,t,o="",s=!1)=>{const r="theme";(this.log.repo.enabled(r,e)||s)&&window.console.log(this.log.repo.message(`${e}:${t}`),this.log.repo.color(s?"force":r),o)},event:(e,t,o,s=!1)=>{const r="event";(this.log.repo.enabled(r,e)||s)&&window.console.log(this.log.repo.message(`${e}:${t}`),this.log.repo.color(s?"force":r),o)},error:(e,t,o="",s=!1)=>{const r="error";(this.log.repo.enabled(r,e)||s)&&window.console.log(this.log.repo.message(`${e}:${t}`),this.log.repo.color(s?"force":r),o)}},init:()=>{this.log.repo.enabled("init",this.name)&&window.console.log(this.log.repo.message(`${this.name}:init`),this.log.repo.color("init"),this)},debug:(e="Debug",t="")=>{this.log.repo.enabled("debug",this.name)&&window.console.log(this.log.repo.message(`${this.name}:${e}`),this.log.repo.color("debug"),t)},error:(e="Error",t="")=>{this.log.repo.enabled("error",this.name)&&window.console.log(this.log.repo.message(`${this.name}:${e}`),this.log.repo.color("error"),t)},warn:(e="Warning",t="")=>{this.log.repo.enabled("warn",this.name)&&window.console.log(this.log.repo.message(`${this.name}:${e}`),this.log.repo.color("error"),t)},info:(e="info",t="")=>{this.log.repo.enabled("event",this.name)&&window.console.log(this.log.repo.message(`${this.name}:${e}`),this.log.repo.color("info"),t)},event:(e="event",t)=>{this.log.repo.enabled("event",this.name)&&window.console.log(this.log.repo.message(`${this.name}:${e}`),this.log.repo.color("event"),t)},config:(e="config",t="")=>{this.log.repo.enabled("config",this.name)&&window.console.log(this.log.repo.message(`${this.name}:${e}`),this.log.repo.color("config"),t)},destroy:()=>{this.log.repo.enabled("destroy",this.name)&&window.console.log(this.log.repo.message(`${this.name}:destroy`),this.log.repo.color("destroy"))}}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-base-component"]],hostVars:2,hostBindings:function(e,t){2&e&&St("sw-hidden",t.hidden)},inputs:{position:"position",core:"core",extension:"extension",config:"config",onLoad:"onLoad",onEvent:"onEvent",onUnload:"onUnload",when:"when",hidden:"hidden"},outputs:{events:"events"},decls:1,vars:0,template:function(e,t){1&e&&ee(0,"Base Component")},encapsulation:2}),i})(),ii=(()=>{class i{constructor(){this.id=cl(),this.name="PopDomService",this.asset={sessionKeys:{height:1,width:1,state:1,active:1,session:1},map:{}},this.ui={active:{},fields:new Map,map:{}},this.position={},this.map={},this.components={}}onRegister(e){e.name&&typeof e.id<"u"&&e.dom&&(this.components[e.name]&&this.components[e.name][e.id]?this.applyDomKeys(e):this.createDomSession(e))}onSession(e,t=null){e.name&&e.id&&this.sessionDomKeys(e,t)}getComponentHeight(e,t=1){return this.components[e]&&this.components[e][t]&&Y(this.components[e][t].height,!0)?this.components[e][t].height:null}getComponentWidth(e,t=1){return this.components[e]&&this.components[e][t]&&Y(this.components[e][t].width,!0)?this.components[e][t].width:null}getComponentSession(e,t=1){return this.components[e]&&this.components[e][t]&&Y(this.components[e][t].onSession,!0)?this.components[e][t].onSession:null}onDetach(e,t){e&&t&&this.components[e]&&this.components[e][t]&&delete this.components[e][t]}ngOnDestroy(){}createDomSession(e){e.name&&typeof e.id<"u"&&(this.components[e.name]||(this.components[e.name]={}),this.components[e.name][e.id]||(this.components[e.name][e.id]={}),this.sessionDomKeys(e))}applyDomKeys(e){this.components[e.name]&&this.components[e.name][e.id]&&Object.keys(this.components[e.name][e.id]).map(t=>{t&&this.asset.sessionKeys[t]&&(e.dom[t]=this.components[e.name][e.id][t])})}sessionDomKeys(e,t=null){this.components[e.name]&&this.components[e.name][e.id]&&(t&&t in this.asset.sessionKeys?Y(e.dom[t],!0)&&(this.components[e.name][e.id][t]=e.dom[t]):Object.keys(this.asset.sessionKeys).map(o=>{Y(e.dom[o],!0)&&(this.components[e.name][e.id][o]=e.dom[o])}))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ey(){return{token:rs("Auth.token",""),popcxToken:rs("Auth.popcx-token",""),time:Number.parseInt(rs("Auth.time",0),10),auth:rs("Auth.details",{}),businessId:Number.parseInt(Ss("Business.current",0),10)}}let Qr=(()=>{class i{constructor(){this.dom={subscriber:{},delay:{},interval:{},handler:{},session:{},state:{}},this.id=cl(),this.asset||(this.asset={map:{}}),this.dom={...this.dom,setSubscriber:(e,t=null)=>{e&&this.dom.subscriber&&e in this.dom.subscriber&&this.dom.subscriber[e]&&"function"==typeof this.dom.subscriber[e].unsubscribe&&this.dom.subscriber[e].unsubscribe(),t&&(this.dom.subscriber[e]=t)},setTimeout:(e,t=null,o=250)=>{e&&this.dom.delay&&e in this.dom.delay&&this.dom.delay[e]&&clearTimeout(this.dom.delay[e]),"function"==typeof t&&(this.dom.delay[e]=setTimeout(t,o))}}}ngOnDestroy(){!function jde(i){"object"==typeof i.interval&&Object.keys(i.interval).map(n=>{i.interval[n]&&clearInterval(i.interval[n]),i.interval[n]&&clearInterval(i.interval[n])}),"object"==typeof i.delay&&Object.keys(i.delay).map(n=>{i.delay[n]&&clearTimeout(i.delay[n]),i.delay[n]&&clearTimeout(i.delay[n])}),"object"==typeof i.subscriber&&Object.keys(i.subscriber).map(n=>{i.subscriber[n]&&"function"==typeof i.subscriber[n].unsubscribe&&i.subscriber[n].unsubscribe()})}(this.dom)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ho=(()=>{class i extends Qr{constructor(){super(),this.name="PopBaseService",this.asset={sessionRoot:"SiteVars",businessId:0,authTime:void 0};const e=ey();if(this.auth=e.auth,this.asset.businessId=e.businessId,this.asset.authTime=e.time,!this.asset.businessId){const t=Number.parseInt(rs("Business.last")||"0",10);t&&this.setCurrentBusinessId(t)}}clearLocalStorage(){localStorage.clear(),this.auth=null,this.asset.authTime=0,this.asset.businessId=0}clearAuthDetails(){Xn("Login.redirect",0),Xn("Login.token",null),function Dde(){const i=document.cookie.split(";");for(const n of i){const e=n.indexOf("="),t=e>-1?n.slice(0,Math.max(0,e)):n;window.document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}(),this.clearLocalStorage(),sessionStorage.clear()}clearAuthTime(){this.asset.authTime=0,Oi("Auth.time",0)}getAuthDetails(){if(!Y(this.auth,!0)){const e=ey();this.auth=e.auth}return this.auth}getAuthPrimeUser(){return Y(this.auth,["id","email"])?{id:this.auth.id,name:this.auth.name,first_name:this.auth.first_name,last_name:this.auth.last_name,initials:this.auth.initials,avatarLink:Lt(this.auth,["profile","avatar_link"],null),email:this.auth.email,business_fk:this.auth.business_fk}:null}getAuthTime(){return this.asset.authTime}getBearerToken(){return Y(this.auth,["token"])?"Bearer "+(this.auth.token?this.auth.token:"123"):""}getAuthUsers(){return JSON.parse(JSON.stringify(this.auth.users))}getCurrentBusinessId(){return this.asset.businessId}getCurrentBusinessUserId(){const e=this.getCurrentBusinessId();return Y(this.auth.users,!0)&&e in this.auth.users?this.auth.users[e].id:0}isAuthExpired(){let e=!1;if(!Y(this.auth,["token"])||!Ne(this.auth.token,!0)||this.auth.legacy_user_id&&!function Ede(i){const e=`; ${document.cookie}`.split(`; ${i}=`);if(2===e.length)return e.pop().split(";").shift()}("popcxsession"))return!0;const t=Math.round(Date.now()/1e3);if(!this.asset.authTime||typeof this.auth.created_at>"u"||!this.getBearerToken())e=!0;else{if(t>+this.auth.created_at+60*this.auth.max_ttl)return e=!0,!0;t>this.asset.authTime+60*this.auth.max_ttl&&(e=!0)}return e}setAuthTime(){this.asset.authTime=Math.round(Date.now()/1e3),Oi("Auth.time",this.asset.authTime.toString())}setAuthToken(e){Oi("Auth.token",e)}setAuthDetails(e){Y(e,["id","token"])&&(this.auth=e,this.setAuthToken(this.auth.token),this.setAuthPopcxToken(this.auth.x_popcx_token),this.setAuthTime(),rI({id:e.id,name:e.name,first_name:e.first_name,last_name:e.last_name,initials:e.initials,email:e.email,email_verified_at:e.email_verified_at,avatarLink:Lt(this.auth,["profile","avatar_link"],null),username:e.username,created_at:e.created_at}),Oi("Auth.details",e))}setAuthUser(e){Y(e,!0)&&Oi("Auth.User",e)}setAuthPopcxToken(e){Oi("Auth.popcx-token",e)}setCurrentBusinessId(e){this.asset.businessId=e,Xn("Business.current",e),Oi("Business.last",e)}getAuthBusinesses(){return Y(this.auth,["token"])&&Y(this.auth.businesses)?JSON.parse(JSON.stringify(this.auth.businesses)):null}switchBusiness(e){this.setCurrentBusinessId(e),this.redirect()}switchApps(e){window.location.href=window.location.origin+e}checkAppAccess(e,t=!1){return!!(Y(zt,["id","apps"])&&Y(zt.apps,!0)&&Ne(e,!0)&&e in zt.apps)||(t&&Ne(Bi)&&"home"!==Bi&&(window.location.href=window.location.protocol+"//"+window.location.host+"/home/dashboard"),!1)}redirect(){const e=this.getAuthDetails();let t="";t=rs("App.redirect"),t&&Oi("App.redirect",""),t||(t=rs("App.redirectAfterLogin"),t&&Oi("App.redirectAfterLogin","")),e.email_verified_at||(t=window.location.origin+"/user/confirm-email-resend"),t||(this.asset.businessId&&Y(e.businesses,!0)&&typeof e.businesses[this.asset.businessId]>"u"?this.setCurrentBusinessId(0):this.asset.businessId&&Y(e.businesses,!0)&&typeof e.businesses[this.asset.businessId]<"u"&&(t=e.businesses[this.asset.businessId].homepage?window.location.origin+e.businesses[this.asset.businessId].homepage:window.location.origin+"/home")),!t&&Y(e.businesses,!0)&&e.business_fk&&typeof e.businesses[e.business_fk]<"u"&&(t=e.businesses[e.business_fk].homepage?window.location.origin+e.businesses[e.business_fk].homepage:window.location.origin+"/home"),window.location.href=t||window.location.origin+"/home/dashboard"}resetLocalStorage(){const e=this.getAuthDetails();localStorage.clear(),this.setAuthDetails(e),window.location.reload()}clearAppStorage(e){if(e){const t=this.getAuthDetails();Lt(t,["businesses",zt.id+""]).apps=null,this.setAuthDetails(t)}}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function hue(i,n){if(1&i){const e=Me();x(0,"div",1)(1,"mat-tab-group",2),ie("selectedTabChange",function(o){return he(e),pe(I().onSelectMenu(o))})("selectedIndexChange",function(o){return he(e),pe(I().ui.menuIndex=o)}),x(2,"mat-tab",3),me(3,"lib-pop-dev-api-tool",4),C(),x(4,"mat-tab",5),me(5,"lib-pop-dev-global-tool",4),C(),x(6,"mat-tab",6),me(7,"lib-pop-dev-details-tool",4),C(),x(8,"mat-tab",7),me(9,"lib-pop-dev-entities-tool",4),C(),x(10,"mat-tab",8),me(11,"lib-pop-dev-log-tool",4),C(),x(12,"mat-tab",9),me(13,"lib-pop-dev-socket-tool",4),C()()()}if(2&i){const e=I();_(1),g("selectedIndex",e.ui.menuIndex),_(2),g("core",e.core),_(2),g("core",e.core),_(2),g("core",e.core),_(2),g("core",e.core),_(2),g("core",e.core),_(2),g("core",e.core)}}let F4=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this._baseRepo=t,this.srv={base:void 0,entity:void 0},this.asset={sessionPath:"DevTool"},this.ui={menuIndex:0},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield Promise.all([o._setInitialConfig()]),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){return r(!0)});return function(r){return s.apply(this,arguments)}}())}onSelectMenu(e){Oi(`${this.asset.sessionPath}.index`,e.index)}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.core=yield Qn.getCoreConfig("dev_tool"),e.ui.menuIndex=rs(`${e.asset.sessionPath}.index`)??0,o(!0)});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Ho))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-dev-tools"]],features:[Ct([ii]),Re],decls:1,vars:1,consts:[["class","pop-dev-tool-container",4,"ngIf"],[1,"pop-dev-tool-container"],["animationDuration","0",3,"selectedIndex","selectedTabChange","selectedIndexChange"],["label","Api"],[3,"core"],["label","Global"],["label","Auth Details"],["label","Entities"],["label","Log"],["label","Socket"]],template:function(e,t){1&e&&$(0,hue,14,7,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".pop-dev-tool-container[_ngcontent-%COMP%]{position:absolute;inset:10px;background:var(--background-base);max-height:89vh;width:auto;-webkit-box-sizing:border-box;box-sizing:border-box;overflow-y:hidden}.pop-dev-tool-container[_ngcontent-%COMP%]     .mat-tab-label-active{background:var(--background-main-menu)!important;border-top-right-radius:10px;border-top-left-radius:10px}"]}),i})(),Ts=(()=>{class i{ngOnInit(){this.options||(this.options={}),this.color=this.options.color?this.options.color:"primary",this.mode=this.options.mode?this.options.mode:"indeterminate",this.diameter=this.options.diameter?this.options.diameter:75,this.strokeWidth=this.options.strokeWidth?this.options.strokeWidth:12}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-main-spinner"]],inputs:{options:"options"},decls:2,vars:5,consts:[[1,"spinner-box"],[3,"color","mode","diameter","strokeWidth","value"]],template:function(e,t){1&e&&(x(0,"div",0),me(1,"mat-progress-spinner",1),C()),2&e&&(_(1),g("color",t.color)("mode",t.mode)("diameter",t.diameter)("strokeWidth",t.strokeWidth)("value",t.options.value))},dependencies:[gf],styles:[".spinner-box[_ngcontent-%COMP%]{width:100%;height:100%;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.mat-mdc-progress-spinner[_ngcontent-%COMP%]{margin:auto;-ms-flex-item-align:center;align-self:center}"]}),i})(),fue=(()=>{class i{constructor(){const e=Rt.get(Ho).getAuthPrimeUser().first_name;this.expression=lI(["Audios Amigo",`See Ya Later, ${e}`,"Hasta la vista","Later Hater","Done so soon?","GoodBye",`Thanks for all you have done, ${e}`])}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["ng-component"]],decls:4,vars:1,consts:[[1,"pop-template-goodbye"],[1,"pop-template-goodbye-row"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"h4"),ee(3),C()()()),2&e&&(_(3),Je(t.expression))},styles:[".pop-template-goodbye[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;min-height:30px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:1.5em}.pop-template-goodbye-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;min-height:30px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;clear:both}"]}),i})(),gue=(()=>{class i{constructor(){const e=Rt.get(Ho).getAuthPrimeUser().first_name;this.expression=lI([`Welcome, ${e}`,`Good to see you, ${e}`,`Hello, ${e}`])}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["ng-component"]],decls:4,vars:1,consts:[[1,"pop-template-welcome"],[1,"pop-template-welcome-row"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"h4"),ee(3),C()()()),2&e&&(_(3),Je(t.expression))},styles:[".pop-template-welcome[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;min-height:30px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:1.5em;background:var(--background-base)}.pop-template-welcome-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;min-height:30px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;clear:both}h4[_ngcontent-%COMP%]{color:var(--foreground-base)}"]}),i})();class yue{constructor(n){if(this.archived=!1,this.active=!1,this.display="default",this.loader=!1,this.view=["client","account","campaign"],this.sortToTop=!1,this.invalid=!1,n)for(const e in n)this[e]=n[e];["default","static","float"].includes(this.display)||(this.display="default")}}class kI{constructor(n){this.allSelected=!1,this.checkAll=!1,this.indeterminate=!1,this.single=!0,this.selected={},this.display={},this.hidden={},this.filter=[],this.selectedText="",this.displaySelectedText="",this.totalText="",this.mode=!1,this.visible=!1;for(const e in n)this[e]=n[e];this.feed=new xo([])}}let ul=(()=>{class i{constructor(){this.events=new tt}sendEvent(e){this.events.emit(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ty=(()=>{class i{constructor(){this.name="PopCacheService",this.cache={},this.inFlightObservables=new Map,this.DEFAULT_MAX_AGE=6e4}get(e,t,o,s){if(this.hasValidCachedValue(e,t))return Ht(this.cache[e].get(t).value);if(s||(s=this.DEFAULT_MAX_AGE),o&&o instanceof U){if(this.inFlightObservables.has(t)){const r=this.inFlightObservables.get(t);r&&(r.complete(),r.unsubscribe())}return this.inFlightObservables.set(t,new R),o.pipe(mo(r=>{this.set(e,t,r,s)}))}return Ht(null)}clear(e,t){Ne(e,!0)&&(Ne(t,!0)?this.cache[e]&&this.has(e,t)&&this.cache[e].delete(t):this.cache[e]&&delete this.cache[e])}clearAll(){this.cache={}}set(e,t,o,s=this.DEFAULT_MAX_AGE){this.cache[e]||(this.cache[e]=new Map),this.cache[e].set(t,{value:o,expiry:Date.now()+s}),this.notifyInFlightObservers(t,o)}has(e,t){return!!this.cache[e]&&this.cache[e].has(t)}notifyInFlightObservers(e,t){if(this.inFlightObservables.has(e)){const o=this.inFlightObservables.get(e);o.observers.length&&o.next(t),o.complete(),this.inFlightObservables.delete(e)}}hasValidCachedValue(e,t){return!(!this.cache[e]||!this.cache[e].has(t)||this.cache[e].get(t).expiry<Date.now()&&(this.cache[e].delete(t),1))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),iy=(()=>{class i extends Qr{constructor(){super(),this.name="PopResourceService",this.cache=new ty}setCollection(e,t){var o=this;return new Promise(function(){var s=q(function*(r){const a=[],l=[];let c;const A=[],D=[];if(Y(e,!0)&&Object.keys(e).map(te=>{if(c=e[te],c.internal_name){c.bundled=1;const se={name:c.name,internal_name:c.internal_name};Y(c.api_params)&&(c.api_params.select&&(se.selectby=c.api_params.select),c.api_params.select_by&&(se.selectby=c.api_params.select_by),c.api_params.selectby&&(se.selectby=c.api_params.selectby),c.api_params.sort_by&&(se.sortby=c.api_params.sort_by),c.api_params.sortby&&(se.sortby=c.api_params.sortby),c.api_params.group_by&&(se.groupby=c.api_params.group_by),c.api_params.groupby&&(se.groupby=c.api_params.groupby),c.api_params.where&&De(c.api_params.where,!0)&&(se.where=c.api_params.where),kt(c.api_params.archived)&&(se.archived=c.api_params.archived)),A.push(se),D.push(te)}else if(c.api_path&&(!c.can_read||Qn.checkAccess(c.can_read,"can_read"))){let se=c.api_path;if(De(c.api_when,!0)&&Y(t,!0)&&!dl(t,c.api_when))return ut.info(o.name,"setCollection: condition not met",c),!1;l.push(te),Y(c.api_path_vars,!0)&&t&&Object.keys(c.api_path_vars).map(ze=>{let at="";String(c.api_path_vars[ze]).includes(".")&&(at=Lt(t,String(c.api_path_vars[ze]).split("."))),at||(at=tn(String(c.api_path_vars[ze]))),at&&(se=rn(se,`:${ze}`,at))});const le=Y(c.api_params,!0)?c.api_params:{};Y(le)&&Object.keys(le).map(ze=>{le[ze]=tn(le[ze],t)});const ke=c.internal_name??"resource";let Pe=null;if(c.api_cache&&c.internal_name){const ze=rn(jt(Tn(c.internal_name??c.name))," ","");Pe=rl(`App.${zt.id}.Resource.${ze}`,null)}Pe&&!o.cache.has(ke,se)?(o.cache.set(ke,se,Pe,12e4),a.push(Ht(Pe))):+c.api_cache?(ut.info(o.name,"cached resource",c),a.push(o.cache.get("resource",se,gt.doGet(se,le,c.api_version),6e5))):a.push(gt.doGet(se,le,c.api_version))}}),De(A,!0)){const te=yield en(gt.doPost("records/bundle",{resources:A},c.api_version),null,cl());D.map(se=>{const le=e[se],ke=te[se],Pe=De(ke)?"data_values":"data";if(le[Pe]=ke??[],le.data_filter&&(le[Pe]=o._setResourceDataDecorator(t,le.data_filter,le[Pe])),le.data_decorator&&It(le.data_decorator)&&(le[Pe]=le[Pe]=le[Pe].map(ze=>le.data_decorator(t,ze))),le.data_when&&De(le.data_when,!0))try{le[Pe]=le[Pe].filter(ze=>dl(ze,le.data_when,t))}catch(ze){ut.warn(o.name,"setCollection",ze)}le.data_setter&&It(le.data_setter)&&(le[Pe]=le.data_setter(t,le[Pe]))})}a.length>0?Ar(a).subscribe(te=>{te.map((se,le)=>{let ke;if(c=e[l[le]],De(se=se.data?se.data:se,!1)){if(ke=c.data_storage?c.data_storage:"data_values",Y(e[l[le]].data_filter,!0))try{Object.keys(c.data_filter).map(Pe=>{se=se.filter(ze=>{let at=c.data_filter[Pe];return String(at).includes(".")&&(at=Lt(t,String(at).split("."))),at||(at=tn(String(c.data_filter[Pe]))),ze[Pe]==at})})}catch(Pe){ut.warn(o.name,"setCollection",Pe)}if(se=It(c.data_decorator)?se.map(Pe=>c.data_decorator(t,Pe)):se,De(c.data_when,!0))try{se=se.filter(Pe=>dl(Pe,c.data_when,t))}catch(Pe){ut.warn(o.name,"setCollection",Pe)}It(c.data_setter)&&(se=c.data_setter(t,se)),c[ke]=se}else ke=c.data_storage?c.data_storage:"data",c[ke]=It(c.data_decorator)?c.data_decorator(t,se):se,It(c.data_setter)&&(c[ke]=c.data_setter(t,c[ke]));if(c.api_cache){const Pe=rn(jt(Tn(c.internal_name??c.name))," ","");Oi(`App.${zt.id}.Resource.${Pe}`,btoa(JSON.stringify(c[ke])))}}),r(!0)},()=>{r(!1)}):r(!0)});return function(r){return s.apply(this,arguments)}}())}getCollection(e){const t={};return Y(e,!0)&&Object.keys(e).map(o=>{const s=e[o];t[s.name]=Ui(new Tde(s))}),t}clearResource(e,t){if(Ne(t,!0)){const o=rn(jt(Tn(t))," ","");Oi(`App.${zt.id}.Resource.${o}`,null)}}reloadResource(e,t){return new Promise(o=>{if(!Y(t,t.api_path&&Ne(t.api_path,!0)))return o(t);{let s,r=t.api_path;if(t.can_read&&!Qn.checkAccess(t.can_read,"can_read"))return ut.debug(this.name,`reloadResource: Cannot read resource:${t.can_read}`),o(t);if(De(t.api_when,!0)&&Y(e,!0)&&!dl(e,t.api_when))return ut.debug(this.name,"reloadResource: condition not met"),o(t);if(t.api_cache&&t.internal_name){const l=rn(jt(Tn(t.internal_name??t.name))," ",""),A=rl(`App.${zt.id}.Resource.${l}`,null);if(s=t.data_storage?t.data_storage:"data_values",A)return t[s]=A,ut.info(this.name,"loadedCache:",l),o(t)}Y(t.api_path_vars,!0)&&e&&Object.keys(t.api_path_vars).map(l=>{let c="";String(t.api_path_vars[l]).includes(".")&&(c=Lt(e,String(t.api_path_vars[l]).split("."))),c||(c=tn(String(t.api_path_vars[l]))),c&&(r=rn(r,`:${l}`,c))});const a=Y(t.api_params,!0)?t.api_params:{};Y(a)&&Object.keys(a).map(l=>{a[l]=tn(a[l],e)}),gt.doGet(r,a,t.api_version).subscribe(l=>{if(l=Ca(l),ut.debug(this.name,"reloadResource: pass 4"),De(l,!1)){if(s=t.data_storage?t.data_storage:"data_values",Y(t.data_filter,!0))try{Object.keys(t.data_filter).map(c=>{l=l.filter(A=>{let D=t.data_filter[c];return String(D).includes(".")&&(D=Lt(e,String(D).split("."))),D||(D=tn(String(t.data_filter[c]))),A[c]==D})})}catch(c){ut.warn(this.name,"setCollection",c)}if(De(t.data_when,!0))try{l=l.filter(c=>dl(c,t.data_when,e))}catch(c){ut.warn(this.name,"setCollection",c)}t[s]=It(t.data_decorator)?l.map(c=>t.data_decorator(e,c)):l,It(t.data_setter)&&(t[s]=t.data_setter(e,t[s]))}else s=t.data_storage?t.data_storage:"data",t[s]=It(t.data_decorator)?t.data_decorator(e,l):l;if(t.api_cache&&t.internal_name){const c=rn(jt(Tn(t.internal_name??t.name))," ","");Oi(`App.${zt.id}.Resource.${c}`,JSON.stringify(btoa(t[s])))}return o(t)},()=>o(t))}})}clearCache(e,t,o){Ne(e,!0)&&(ut.warn(this.name,`clearCache:${e}:${t} - ${o}`),this.cache.clear(e,t))}_setResourceDataDecorator(e,t,o){if(Y(t,!0))try{Object.keys(t).map(s=>{o=o.filter(r=>{let a=t[s];return String(a).includes(".")&&(a=Lt(e,String(a).split("."))),a||(a=tn(String(t[s]))),r[s]==a})})}catch(s){ut.warn(this.name,"setCollection",s)}return o}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Wf=(()=>{class i{constructor(e){this.resource=e,this.name="PopPipeService",this.loaded=!1,this.resources={entity:{name:"entity",internal_name:"entity"}},this.asset={account:{},business:{},campaign:{},client:{},country:{},entity:{},profile_scheme:{},timezone:{},state:{}},this.assetMap={entity:{}},this.active=new QB,this.yesno=new ide,this.truncate=new s4,this.phone=new HB,this.label=new e4}transform(e,t,o=null){if(Y(t,!0))switch(t.type){case"toRelationName":if(Y(e)){if(t.arg1){const s=Ne(t.arg1,!0)?t.arg1:"name",r=String(s).split("."),a=Lt(e,r);a&&(e=a),Ne(t.arg2,!0)&&Jv(wI(String(e)))&&Y(Mr,["entities"])&&(e=Lt(Mr.entities[jt(String(e))],["alias",String(t.arg2).toLowerCase()],e))}}else e=t.arg2?t.arg2:e;break;case"toResourceName":if(Vi(e)){let r,a,s="name";if(Ne(t.arg1,!0))if(r=String(t.arg1).trim(),Y(o,["resource"])&&r in o.resource){if(De(o.resource[r].data_values,!0)){Ne(t.arg2,!0)&&(s=t.arg2);const l=o.resource[r].data_values.find(c=>+c.id===e);Y(l,[s])&&kt(l[s])&&(e=l[s])}Ne(t.arg2,!0)&&Jv(wI(String(e)))&&(e=Lt(Mr.entities[jt(String(e))],["alias",String(t.arg2).toLowerCase()],e))}else r in this.asset&&(a=+e,r=String(t.arg1).trim(),Ne(t.arg1,!0)&&(s=t.arg1),r in this.asset&&a in this.asset[r]&&kt(this.asset[r][a][s])&&(e=this.asset[t.type][a][s]))}else e=t.arg3?t.arg3:e;break;case"entity":if(e){let s;if(Ne(e,!0)&&"alias"===t.arg1){const r=t.arg2?"plural"!==t.arg2?"name":"plural":"name",a=Lt(Qn.getEntityParams(e),["alias",r]);e=jt(a||String(e))}else if(Ne(e,!0)){const r=this.assetMap.entity[e+""];s="name",Ne(t.arg1,!0)&&(s=t.arg1),e=r in this.asset.entity&&this.asset.entity[r]&&kt(this.asset.entity[r][s])?this.asset.entity[r][s]:jt(e+"")}else if(Vi(e,!0)){const r=+e;s="name",Ne(t.arg1,!0)&&(s=t.arg1),r in this.asset.entity&&Ne(this.asset.entity[r][s])&&(e=this.asset[t.type][r][s])}}break;case"client":case"account":case"campaign":case"state":case"country":case"profile_scheme":case"timezone":if(e){const s=+e;let r="name";Ne(t.arg1,!0)&&(r=t.arg1),t.type in this.asset&&s in this.asset[t.type]&&kt(this.asset[t.type][s][r])&&(e=this.asset[t.type][s][r])}break;case"toDigits":e=String(e).match(/\d+/g).map(Number).join("");break;case"toYesNoPipe":e=this.yesno.transform(+e>0);break;case"toPhonePipe":e=this.phone.transform(e);break;case"toActiveOrArchived":e=this.active.transform(e);break;case"toTitleCase":e=jt(e+"");break;case"toUpperCase":e=String(e).toUpperCase();break;case"toLowerCase":e=String(e).toLowerCase();break;case"date":e=wo.transform(e,t.arg1);break;case"toCurrency":e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(Number(e))}else if(Ne(t,!0))return ka(e,t);return e}loadResources(e=!0){var t=this;return new Promise(function(){var o=q(function*(s){if(t.loaded)return s(!0);let r;if(e&&Y(zt,["id"]))try{r=rs("App.Pipe"),r=JSON.parse(atob(r))}catch{}if(Y(r,Object.keys(t.resources)))return Object.keys(r).map(a=>{const l=r[a].data_values;t.asset[a]={},l.map(c=>{t.asset[a][c.id]=c})}),t._setAssetMap(),s(!0);t.resource.setCollection(t.resources).then(()=>{if(r=t.resource.getCollection(t.resources),Y(r,!0)){try{Oi("App.Pipe",btoa(JSON.stringify(r)))}catch{}return Object.keys(r).map(a=>{const l=r[a].data_values;t.asset[a]={},l.map(c=>{t.asset[a][c.id]=c})}),t._setAssetMap(),t.loaded=!0,s(!0)}return t.loaded=!0,s(!0)},()=>s(!1))});return function(s){return o.apply(this,arguments)}}())}setAsset(e,t){e in this.asset&&Y(t,!0)&&(this.asset[e]=t)}getAsset(e,t){if(e in this.asset){let o=null;return o=+t>0?this.asset[e][t]:this.asset[e],o?gi(o):null}}updateEntityAlias(e,t){e in this.asset.entity&&Y(this.asset.entity[e])&&(this.asset.entity[e].alias=t)}transformObjectValues(e,t,o=null){for(const s in t)t.hasOwnProperty(s)&&(e[s]=this.transform(e[s],t[s],o));return e}_setAssetMap(){Y(this.asset.entity,!0)&&Object.keys(this.asset.entity).map(e=>{this.assetMap.entity[this.asset.entity[e].internal_name]=e})}}return i.\u0275fac=function(e){return new(e||i)(Le(iy))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),fp=(()=>{class i extends Qr{constructor(e,t,o){super(),this.crud=e,this.pipe=t,this.APP_GLOBAL=o,this.name="PopClientFilterBarService",this.config=new yue({active:!1}),this.asset={lookup:{},el:void 0,client:new Map,account:new Map,campaign:new Map,triggerFields:["name","archived","deleted_at","client_id","account_id","campaign_id"],views:["client","account","campaign"]},this.event={data:new R,config:new R,bubble:new R},this.filter={},this.entities=[new kI({sort_order:0,internal_name:"client",name:"Client(s)",options:[],parent_link:null,child_link:"client_id",single:!1,visible:!0}),new kI({sort_order:1,internal_name:"account",name:"Account(s)",options:[],parent_link:"client_id",child_link:"account_id",single:!1,visible:!0}),new kI({sort_order:2,internal_name:"campaign",name:"Campaigns(s)",options:[],parent_link:"account_id",child_link:null,single:!1,visible:!0})],this._setInitialConfig().then(()=>!0)}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return yield e.APP_GLOBAL.isVerified(),Y(zt,["id"])&&Y(lo,["id"])?(e._getFilterStorage(),e.dom.setSubscriber("crud-events",e.crud.events.subscribe(s=>{if(Ln(0,s)){const r=Lt(s.config,["metadata","internal_name"],null);r&&e.asset.views.includes(r)&&e.asset.triggerFields.includes(s.config.name)&&e._triggerDataRefresh("Patch")}else if(s.internal_name&&"entity"===s.type&&e.asset.views.includes(s.internal_name)){if("archive"===s.method){const r=e.entities.find(c=>c.internal_name),a=e.filter[r.internal_name];if(s.data){let c;Ne(s.id,!0)?c=String(s.id).includes(",")?String(s.id).split(",").map(D=>+D):[+s.id]:Vi(s.id)&&(c=[+s.data.id]);let A=!1;c.map(D=>{if(delete r.hidden[D],delete r.display[D],delete r.selected[D],De(a,!0)){const te=a.indexOf(String(D),0);te>-1&&(A=!0,a.splice(te,1))}}),A&&e.setFilter(e.filter)}e._triggerDataRefresh("archive",1)}"create"===s.method&&e._triggerDataRefresh("create",1)}})),o(!1)):(e.config.active=!1,o(!1))});return function(o){return t.apply(this,arguments)}}())}registerDomContainer(e){this.asset.el=e}getAsset(e,t){return e in this.asset?this.asset[e].get(+t):null}getEntities(){return this.entities}getFilter(){return this.filter}getConfig(){return this.config}setFilter(e){if(this.filter={},Y(zt,["id"])){if(De(e.client,!0)&&(this.filter.client=e.client),this.config.view.includes("account")&&De(e.account,!0))this.filter.account=e.account;else if(De(e.client,!0)){const t=new Set(e.client.map(o=>+o));e.account=this.entities[1].options.filter(o=>+o.client_id&&t.has(o.client_id)).map(o=>String(o.id)),this.filter.account=e.account}if(this.config.view.includes("campaign")&&De(e.campaign,!0))this.filter.campaign=e.campaign;else if(De(e.account,!0)){const t=new Set(e.account.map(o=>+o));e.campaign=this.entities[2].options.filter(o=>+o.account_id&&t.has(o.account_id)).map(o=>String(o.id)),this.filter.campaign=e.campaign}Xn(`Business.${zt.id}.Filter.Entities`,e),XB(e)}}getElHeight(){return this.asset.el?this.asset.el.nativeElement.lastChild.clientHeight:0}getHeight(){return Y(zt,["id"])?+Ss(`Business.${zt.id}.Filter.open`,!1)?281:101:0}clearFilters(){this.setFilter({})}onChange(e){setTimeout(()=>{this.event.bubble.next(e)},0)}isActive(){return this.config.active}refresh(){this.event.bubble.next({source:"PopFilterBarService",type:"filter",name:"refresh"})}setArchived(e){this.config&&(this.config.archived=e,this.event.bubble.next({source:"PopFilterBarService",type:"filter",name:"archived",data:e}))}setActive(e){this.config&&(this.config.active=e,this.event.bubble.next({source:"PopFilterBarService",type:"filter",name:"state",model:"active"}))}setLoader(e){this.config&&(this.config.loader=e)}setDisplay(e){this.config&&(["default","static","float"].includes(e)||(e="default"),this.config.display=e)}setView(e){De(e)&&(this.config.view=e,this.entities.map(t=>{t.visible=this.config.view.includes(t.internal_name)}))}setData(e,t=!0){var o=this;return ut.info(this.name,"setData",e),new Promise(function(){var s=q(function*(r){let a;if(t&&Y(zt,["id"]))try{a=rs(`Business.${zt.id}.Filter.Data`),a=JSON.parse(atob(a))}catch{}if(De(a,!0))return o._transformData(a),o._triggerDataRefresh("init"),r(!0);o.dom.setSubscriber("data-fetch",gt.doGet("/application/client/cac-structure",{},1,!1).subscribe(c=>{if(c.data&&(c=c.data),Y(zt,["id"]))try{Oi(`Business.${zt.id}.Filter.Data`,btoa(JSON.stringify(c)))}catch{}return o._transformData(c),r(!0)},()=>r(!1)))});return function(r){return s.apply(this,arguments)}}())}setConfigAliases(){this.entities.map(e=>{e.name=eo.transform(e.internal_name,{type:"entity",arg1:"alias",arg2:"singular"})+"(s)"})}ngOnDestroy(){super.ngOnDestroy()}_triggerDataRefresh(e,t=30){this.dom.setTimeout("lazy-load-filter-data",()=>{this.setData("_triggerDataRefresh",!1).then(()=>{this.event.data.next(e)})},1e3*t)}_getFilterStorage(){let e={};if(Y(zt,["id"])){if(e=Ss(`Business.${zt.id}.Filter.Entities`,{}),De(e.client,!0)){const t=this.entities[0];Y(t.selected)||(t.selected={}),e.client.map(o=>{t.selected[o.id]=!0})}if(De(e.account,!0)){const t=this.entities[1];Y(t.selected)||(t.selected={}),e.account.map(o=>{t.selected[o.id]=!0})}if(De(e.campaign,!0)){const t=this.entities[2];Y(t.selected)||(t.selected={}),e.campaign.map(o=>{t.selected[o.id]=!0})}XB(e)}this.filter=e}_transformData(e){const t=this._setDataStructure(e);Object.keys(t).map(o=>{this.pipe.setAsset(o,t[o]),ut.init(this.name,`Transfer asset to PipeService: ${o}`)}),this.entities[0].options=Object.values(t.client).sort((o,s)=>o.name<s.name?-1:o.name>s.name?1:0),this.entities[1].options=Object.values(t.account).sort((o,s)=>o.name<s.name?-1:o.name>s.name?1:0),this.entities[2].options=Object.values(t.campaign).sort((o,s)=>o.name<s.name?-1:o.name>s.name?1:0)}_setDataStructure(e){const t={client:{},account:{},campaign:{}};return De(e,!0)&&e.map(o=>{t.client[+o.id]=o,this.asset.client.set(+o.id,t.client[+o.id]),De(o.allaccounts,!0)&&o.allaccounts.map(s=>{Y(s)&&(t.account[+s.id]=s,this.asset.account.set(+s.id,t.account[+s.id]),De(s.allcampaigns,!0)&&s.allcampaigns.map(r=>{Y(r)&&(t.campaign[+r.id]=r,this.asset.campaign.set(+r.id,t.campaign[+r.id]))}))})}),t}}return i.\u0275fac=function(e){return new(e||i)(Le(ul),Le(Wf),Le("APP_GLOBAL"))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),II=(()=>{class i{constructor(e,t,o,s){this.filter=e,this.snackbar=t,this.APP_GLOBAL=o,this.env=s,this.asset={notification:void 0,contentEl:void 0}}turnOffFilter(){this.filter.setActive(!1)}welcome(){this.asset.notification=this.snackbar.openFromComponent(gue,{panelClass:"pop-template-center",duration:5e3})}buffer(e=null,t=4){}error(e,t=5){}goodbye(){this.asset.notification=this.snackbar.openFromComponent(fue,{panelClass:"pop-template-center",duration:5e3})}lookBusy(e=5){}notify(e,t=null,o=3){this.asset.notification=this.snackbar.open(e,t,{panelClass:"pop-template-center",duration:1e3*o})}notifyWithAction(e,t=null,o,s=3){this.asset.notification=this.snackbar.open(e,t,{panelClass:"pop-template-center",duration:1e3*s}),this.asset.notification.onAction().subscribe(()=>{It(o)&&o()})}clear(){Y(this.asset.notification,["dismiss"])&&this.asset.notification.dismiss()}setContentEl(e){e&&(this.asset.contentEl=e)}lock(e){this.APP_GLOBAL.setState({source:"PopTemplateService",type:"template",name:"locked",value:e})}minimal(e){this.APP_GLOBAL.setState({source:"PopTemplateService",type:"template",name:"minimal",value:e})}close(e){this.APP_GLOBAL.setState({source:"PopTemplateService",type:"template",name:"close",value:e})}open(e){this.APP_GLOBAL.setState({source:"PopTemplateService",type:"template",name:"open",value:e})}verify(){this.APP_GLOBAL.isVerified()&&this.APP_GLOBAL.verification.next(!0)}getContentHeight(e=!1,t=60){let o=window.innerHeight;return this.asset.contentEl&&this.asset.contentEl.nativeElement.offsetTop&&(o-=this.asset.contentEl.nativeElement.offsetTop),e&&(o-=100),t&&(o-=t),o}}return i.\u0275fac=function(e){return new(e||i)(Le(fp),Le(YQ),Le("APP_GLOBAL"),Le("env"))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),AI=(()=>{let i=class{constructor(e,t,o,s,r){this.base=e,this.backend=t,this.template=o,this.APP_GLOBAL=s,this.env=r,this.name="PopCredentialService",this.baseUrl||(this.baseUrl=`${window.location.protocol}//api.${window.location.host}`),this.http=new Dh(this.backend)}authenticate(e){var t=this;return new Promise(o=>{this.base.clearAuthDetails(),this.http.post(`${this.baseUrl}/auth/login`,e).pipe(we(s=>(s=this._transformAuthResponse(s=s.data?s.data:s),Oi("Legacy.remember_me",e.remember_me),Oi("Legacy.remembered_username",e.remember_me?e.username:null),s))).subscribe(function(){var s=q(function*(r){return r=yield t._attachBusinesses(r),t.base.setAuthDetails(r),Xn("Login.time",Date.now()),Xn("Login.redirect",Date.now()),Xn("Login.token",r.token),document.cookie="popcxsession=true;sameSite=None;secure=true",o(r)});return function(r){return s.apply(this,arguments)}}(),s=>o(qn(s)))})}importAuthDetails(e){var t=this;return new Promise(function(){var o=q(function*(s){t.base.clearAuthDetails();let r=t._transformAuthResponse(e);return r=yield t._attachBusinesses(r),t.base.setAuthDetails(r),Xn("Login.time",Date.now()),Xn("Login.redirect",Date.now()),Xn("Login.token",r.token),document.cookie="popcxsession=true;sameSite=None;secure=true",s(r)});return function(s){return o.apply(this,arguments)}}())}reset(e,t=0){var o=this;return new Promise((s,r)=>{this.base.clearLocalStorage(),this.http.post(`${this.baseUrl}/auth/password/reset`,e).pipe(we(a=>(a=this._transformAuthResponse(a=a.data?a.data:a),this.base.setAuthDetails(a),a))).subscribe(function(){var a=q(function*(l){return Y(l,["token","id"])?(l=l.data?l.data:l,l=yield o._attachBusinesses(l,t),o.base.setAuthDetails(l),s(l)):r(l)});return function(l){return a.apply(this,arguments)}}(),a=>s(qn(a)))})}update(e,t=0){var o=this;return new Promise(function(){var s=q(function*(r){return o.base.clearLocalStorage(),e=o._transformAuthResponse(e),e=yield o._attachBusinesses(e,t),o.base.setAuthDetails(e),r(e)});return function(r){return s.apply(this,arguments)}}())}clear(e=!0){return e&&this.base.clearAuthDetails(),gt.doPost("auth/logout",{})}clearAll(e=!0){return gt.doPost("auth/logout",{logoutAll:!0}).pipe(we(t=>(t=t.data?t.data:t,e&&(rI(null),UB(null),this.base.clearAuthDetails()),t)))}verify(e){var t=this;return new Promise(function(){var o=q(function*(s){if(!e||t.base.isAuthExpired())return s(null);let r=!1;t.template.lock(!0);const a=[gt.doGet("/auth/user").pipe(we(l=>{if(l=t._transformAuthResponse(l=l.data?l.data:l),+e){let c=Y(l.businesses[e],!0)?l.businesses[e]:null;l.businesses={},c&&(l.businesses[e]=c),c=Y(l.users[e],!0)?l.users[e]:null,l.users={},c&&(l.users[e]=c)}return l}))];Y(lo,["id"])&&t.APP_GLOBAL.isPermissions()&&(r=!0,a.push(gt.doGet(`/users/${lo.id}/permissions`,{},1,!0))),Ar(a).subscribe(l=>{const c=l[0],A=t.base.getAuthDetails();if(A.users={...A.users,...c.users},A.businesses={...A.businesses,...c.businesses},r){const D=Ca(l[1]);e in A.users&&(A.users[e].permissions=D)}if(!+e)return t.base.setAuthDetails(A),s(A);Ar([gt.doGet("/records/model/business-apps",{},1,!1,e).pipe(ma(D=>Ht(D)),we(D=>(D.data&&(D=D.data),De(D)?D.pop():D))),gt.doGet(`/apps/user/${c.users[e].id}/settings`,{},1,!1,e).pipe(ma(D=>Ht(D)),we(D=>(D.data&&(D=D.data),D)))]).subscribe(D=>Y(A.businesses[e],!0)&&A.users[e]?(A.businesses[e].apps=D[0],A.users[e].setting={},Y(D[1],!0)&&Object.keys(D[1]).map(te=>{const se=D[1][te];Y(se,!0)&&(A.users[e].setting[se.name]=se.value?se.value:se.defaultValue)}),t.base.setAuthDetails(A),t.template.lock(!1),s(A)):s(null),()=>(t.template.lock(!1),s(A)))},()=>s(null))});return function(s){return o.apply(this,arguments)}}())}_attachBusinesses(e,t=0){var o=this;return new Promise(function(){var s=q(function*(r){const a=Object.keys(e.users).map(l=>+l);if(t||(t=+e.business_fk&&a.includes(+e.business_fk)?+e.business_fk:De(a,!0)?+a[0]:0),!(+t>0))return e.businesses={},e.users={},r(e);o.base.setCurrentBusinessId(t),o.http.get(`${o.baseUrl}/system/businesses`,{headers:new os({Authorization:`Bearer ${e.token}`,"X-Popcx-Business":t+"","Content-Type":"application/json","Api-Version":"1"}),params:o._setParams({id:a})}).subscribe(l=>{const c=l.data?l.data:l;return e.businesses={},De(c,!0)&&c.map(A=>{e.businesses[A.id]=A}),o.APP_GLOBAL.isOpen()&&o.APP_GLOBAL.setOpen(!1),r(e)})});return function(r){return s.apply(this,arguments)}}())}_setParams(e){let t=new Za;for(const o of Object.keys(e))if(e[o])if(Array.isArray(e[o]))for(const s of e[o])t=t.append(`${o.toString()}[]`,s);else t=t.append(o.toString(),e[o]);return t}_transformAuthResponse(e){const t=this.base.getAuthDetails();return Y(e.businesses)||(e.businesses={}),De(e.users,!0)&&(e.users.map(o=>{e.businesses[o.business_id]=o.business,delete o.business}),e.users=bu(e.users,"business_id")),e.initials=Ne(e.first_name,!0)&&Ne(e.last_name,!0)?up(`${e.first_name} ${e.last_name}`):Ne(e.name,!0)?up(e.name):e.first_name||e.last_name?up(e.first_name?e.first_name:e.last_name):"?",kt(e.created_at)&&(e.created_at=Math.floor(new Date(e.created_at).getTime()/1e3)),kt(e.last_login_at)&&(e.last_login_at=Math.floor(new Date(e.last_login_at).getTime()/1e3)),Ne(e.email_verified_at,!0)&&(e.email_verified_at=Math.floor(new Date(e.email_verified_at).getTime()/1e3)),kt(e.token_created_at)&&Xr(e.created_at)&&(e.created_at=e.token_created_at),Xr(e.max_ttl)&&(e.max_ttl=720),!Ne(e.token,!0)&&Y(t,["token"])&&(e.token=t.token),kt(t.created_at)&&(e.created_at=t.created_at),e}};return i.\u0275fac=function(e){return new(e||i)(Le(Ho),Le(Rm),Le(II),Le("APP_GLOBAL"),Le("env"))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i=de([j9({providedIn:"root"})],i),i})(),SI=(()=>{class i{constructor(e,t){this.base=e,this.env=t,this.name="PopSocketService",this.socketEvents=new xo(null),this.socketInfo=new xo(null),this.payloadName="socket payload"}getSocketEvents(){return this.socketEvents}notify(e,t){this.socket&&this.socket.emit(e,t)}listen(){ut.init(this.name,"socket started listening"),this.listenToSocket()}getSocketConnection(){return ut.info(this.name,"socket data",this.socket),this.socketInfo}disconnectSocket(){Y(this.socket,!0)&&(this.socket.disconnect(),this.socket=null,this.socketInfo.next(null))}createSocket(e){const t=this.base.getAuthDetails();if(!this.socket&&t){const s=`${String(this.env.socketUrl).includes("127.0.0.1")?"http":"https"}://${this.env.socketUrl?this.env.socketUrl+"/"+e:"socket.dev.popcx.com/"+e}`;this.socket=nv(s,{secure:!0,query:lo,auth:{token:t.token},reconnectionAttempts:10}),this.socket.on("connect",()=>{ut.info("socket",`connected to socket with nameSpace ${e}`),this.socketInfo.next({...this.socket})}),this.socket.on("connect_error",r=>{ut.error("socket",r.message)})}}listenToSocket(){this.socket.on("createdData",e=>{ut.info(this.name,this.payloadName,e),this.socketEvents.next({name:"createdData",payload:e})}),this.socket.on("updatedData",e=>{ut.info(this.name,this.payloadName,e),this.socketEvents.next({name:"updatedData",payload:e})}),this.socket.on("user-notification",e=>{ut.info(this.name,this.payloadName,e),this.socketEvents.next({name:"user-notification",payload:e})}),this.socket.on("userData",e=>{ut.info(this.name,this.payloadName,e),this.socketEvents.next({name:"updatedData",payload:e})}),this.socket.on("notifyBusiness",e=>{ut.info(this.name,this.payloadName,e)}),this.socket.on("callable-profile-updated",e=>{ut.info(this.name,this.payloadName,e),this.socketEvents.next({name:"callable-profile-updated",payload:e})}),this.socket.on("businessData",e=>{ut.info(this.name,this.payloadName,e),this.socketEvents.next({name:"businessData",payload:e})}),this.socket.on("deletedData",e=>{ut.info(this.name,this.payloadName,e),this.socketEvents.next({name:"deletedData",payload:e})})}}return i.\u0275fac=function(e){return new(e||i)(Le(Ho),Le("env"))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const xue=["mmNavRef"];function Cue(i,n){if(1&i){const e=Me();x(0,"div",20)(1,"div",21)(2,"div",22)(3,"a",23),ee(4,"PopCX"),C()()(),x(5,"div",24)(6,"div",25)(7,"button",26),ie("click",function(){return he(e),pe(I().onChangeApp("/login"))}),ee(8,"Login"),C()(),me(9,"div",25),C()()}}function wue(i,n){1&i&&(x(0,"div",21)(1,"div",22)(2,"a",27),ee(3,"Welcome to PopCX"),C()()())}function kue(i,n){1&i&&me(0,"img",36),2&i&&Ei("src",I(3).dom.active.business.logo_main_url,tr)}function Iue(i,n){if(1&i&&(x(0,"span",22),ee(1),C()),2&i){const e=I(3);_(1),Je(e.dom.active.business.name)}}function Aue(i,n){1&i&&me(0,"img",40),2&i&&Ei("src",I().$implicit.logo_main_url,tr)}function Sue(i,n){if(1&i&&(x(0,"span",41),ee(1),C()),2&i){const e=I().$implicit;_(1),Je(e.name)}}function Mue(i,n){if(1&i){const e=Me();x(0,"div",37),ie("click",function(){const s=he(e).$implicit;return pe(I(3).onChangeBusiness(s.id))}),$(1,Aue,1,1,"img",38),$(2,Sue,2,1,"span",39),C()}if(2&i){const e=n.$implicit;_(1),g("ngIf",e.logo_main_url),_(1),g("ngIf",!e.logo_main_url)}}function Pue(i,n){if(1&i&&(x(0,"div",30),$(1,kue,1,1,"img",31),$(2,Iue,2,1,"span",32),x(3,"mat-menu",33,34),$(5,Mue,3,2,"div",35),C()()),2&i){const e=Qt(4),t=I(2);g("matMenuTriggerFor",e),_(1),g("ngIf",t.dom.active.business.logo_main_url),_(1),g("ngIf",!t.dom.active.business.logo_main_url),_(1),g("overlapTrigger",!1),_(2),g("ngForOf",t.ui.alternate_businesses)}}function Tue(i,n){1&i&&me(0,"img",36),2&i&&Ei("src",I(3).dom.active.business.logo_main_url,tr)}function Eue(i,n){if(1&i&&(x(0,"span",22),ee(1),C()),2&i){const e=I(3);_(1),Je(e.dom.active.business.name)}}function Due(i,n){if(1&i&&(x(0,"div"),$(1,Tue,1,1,"img",31),$(2,Eue,2,1,"span",32),C()),2&i){const e=I(2);_(1),g("ngIf",e.dom.active.business.logo_main_url),_(1),g("ngIf",!e.dom.active.business.logo_main_url)}}function Oue(i,n){if(1&i&&(x(0,"div",28),$(1,Pue,6,5,"div",29),$(2,Due,3,2,"div",9),C()),2&i){const e=I();_(1),g("ngIf",e.ui.alternate_businesses.length),_(1),g("ngIf",!e.ui.alternate_businesses.length)}}const Rue=function(i){return{"mm-nav-item-active":i}};function Fue(i,n){if(1&i){const e=Me();x(0,"div",42)(1,"div",43)(2,"span"),ee(3),C()(),x(4,"div",44),ie("click",function(){const s=he(e).$implicit;return pe(I().onChangeApp(s.path))}),x(5,"span"),ee(6),C()()()}if(2&i){const e=n.$implicit,t=I();_(3),Je(e.name),_(1),g("ngClass",qe(3,Rue,e.path==t.dom.active.path)),_(2),Je(e.name)}}function Lue(i,n){if(1&i){const e=Me();x(0,"div",49),ie("click",function(){const s=he(e).$implicit;return pe(I(2).onChangeApp(s.path))}),x(1,"span",50),ee(2),C()()}if(2&i){const e=n.$implicit;_(2),Je(e.name)}}function Nue(i,n){if(1&i&&(x(0,"div")(1,"div",45)(2,"mat-icon"),ee(3,"more_vert"),C()(),x(4,"mat-menu",46,47),$(6,Lue,3,1,"div",48),C()()),2&i){const e=Qt(5),t=I();_(1),g("matMenuTriggerFor",e),_(3),g("overlapTrigger",!1),_(2),g("ngForOf",t.ui.menus.more)}}function Bue(i,n){if(1&i&&(x(0,"div",51),me(1,"lib-pop-avatar",52),C()),2&i){const e=I();_(1),g("url",null==e.ui.user?null:e.ui.user.avatarLink)("initials",null==e.ui.user?null:e.ui.user.initials)}}const Vue=function(i){return{"sw-disabled":i}},$ue=function(i){return{"sw-hidden":i}};let L4=(()=>{class i extends Yt{constructor(e,t,o,s,r,a,l){var c;super(),c=this,this.el=e,this._baseRepo=t,this._credentialRepo=o,this._routerRepo=s,this._dialogRepo=r,this._socketRepo=a,this.APP_GLOBAL=l,this.name="PopMenuComponent",this.srv={base:void 0,credential:void 0,dialog:void 0,router:void 0,socket:void 0},this.asset={existingBusinesses:void 0,dialogRef:void 0},this.ui={isDev:!1,alternate_businesses:[],menus:{all:[],more:[]},user:void 0},this.dom.configure=()=>new Promise(function(){var A=q(function*(D){return yield Promise.all([c._setInitialConfig()]),D(!0)});return function(D){return A.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var A=q(function*(D){return yield Promise.all([c._runContentCheck()]),D(!0)});return function(D){return A.apply(this,arguments)}}())}onChangeApp(e){this.dom.state.locked||this.srv.base.switchApps(e)}onChangeBusiness(e){if(!this.dom.state.locked){let t=window.location.href.split(Bi+"/").pop().trim();t=t.split("/"),t=t.slice(0,1);const o=`${window.location.origin}/home`;localStorage.removeItem("Legacy"),Oi("App.redirect",o),this.srv.base.switchBusiness(e)}}onUpdateMenus(){if(this.dom.state.authenticated){const e=[];let t=0,o=0;const s=this.mmNavRef.nativeElement.children,r=this.mmNavRef.nativeElement.offsetWidth-15;for(const a of s)t+=a.offsetWidth,t<r?a.style.visibility="visible":(a.style.visibility="",e.push(this.ui.menus.all[o])),o++;this.ui.menus.more=e}else this.ui.menus.all=[],this.ui.menus.more=[]}onClearCache(){this.srv.base.resetLocalStorage()}onReloadPermissions(){this.srv.base.clearAppStorage(zt.id)}onShowDevTools(){var e=this;return q(function*(){e.dom.state.isDeveloper&&(e.asset.dialogRef=e.srv.dialog.open(F4,{disableClose:!1,width:"1450px",height:"90vh",data:{},panelClass:"sw-dialog-1"}),e.dom.setSubscriber("dev-tools-close",e.asset.dialogRef.beforeClosed().subscribe(t=>{e.log.info("onShowDevTools",t),e.asset.dialogRef=null})))})()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.isDev=!1,e.dom.active.path=`/${window.location.pathname.split("/")[1]}`,e.dom.active.business=void 0,e.dom.state.authenticated=!1,e.dom.state.checkedContent=!1,e.dom.state.isDevMode=!1,e.dom.state.isDeveloper=+sl.id<=12,e._displayMenus(),e.dom.setSubscriber("init",e.APP_GLOBAL.init.subscribe(s=>{s&&e.dom.setTimeout("init-display-menus",()=>{e._displayMenus()},50)})),e.dom.setSubscriber("state",e.APP_GLOBAL.state.subscribe(s=>{s&&"template"===s.type&&"locked"===s.name?e.dom.state.locked=!!s.value:s&&"template"===s.type&&"minimal"===s.name&&(e.dom.state.minimal=!!s.value)})),e.dom.setSubscriber("socket",e.srv.socket.getSocketEvents().subscribe(function(){var s=q(function*(r){yield e._handleSocketEvent(r)});return function(r){return s.apply(this,arguments)}}())),o(!0)});return function(o){return t.apply(this,arguments)}}())}_runContentCheck(){var e=this;return new Promise(function(){var t=q(function*(o){return!e.dom.state.checkedContent&&e.mmNavRef&&(e.onUpdateMenus(),e.dom.state.checkedContent=!0),o(!0)});return function(o){return t.apply(this,arguments)}}())}_displayMenus(){this.dom.state.authenticated=!this.srv.base.isAuthExpired(),this.ui.user=this.srv.base.getAuthPrimeUser(),this._loadBusiness(),this.dom.setTimeout("display-menus",()=>{this.onUpdateMenus()},0)}_loadBusiness(){const e=this.srv.base.getAuthBusinesses();if(Y(e,!0)&&!aI(this.asset.existingBusinesses,e)){this.asset.existingBusinesses=e;const t=this.srv.base.getCurrentBusinessId();this.ui.alternate_businesses=[],t&&Object.keys(e).map(o=>{const s=e[o];s.id===t?(this.dom.active.business={id:s.id,name:s.name,short_name:s.short_name,logo_main_url:s.logo_main_url,logo_small_url:s.logo_small_url},this._setBusinessAppMenus(s)):this.ui.alternate_businesses.push({id:s.id,name:s.name,short_name:s.short_name,logo_main_url:s.logo_main_url,logo_small_url:s.logo_small_url})})}}_setBusinessAppMenus(e){if(e)if(De(e.apps,!0))this.ui.menus.all=e.apps.filter(t=>+t.visible).sort(function(t,o){return t.sort<o.sort?-1:t.sort>o.sort?1:0}).map(t=>this._extractAppMenu(t));else if(Y(e.apps,!0)){const t=[];Object.keys(e.apps).map(o=>{const s=e.apps[o];+s.visible&&t.push(s)}),t.sort(function(o,s){return o.sort<s.sort?-1:o.sort>s.sort?1:0}),this.ui.menus.all=t.map(o=>this._extractAppMenu(o))}}_extractAppMenu(e){return{name:e.label?e.label:e.name,path:`/${String(e.name).toLowerCase()}`,description:"",short_description:"",sort:e.sort,icon:""}}_handleSocketEvent(e){var t=this;return q(function*(){t.log.event("_handleSocketEvent",e),Y(e,["payload","name"])&&"user-notification"===e.name&&"BuUserSecurityProfilesChanged"===e.payload.source&&(t.srv.base.clearAppStorage(zt.id),t.dom.state.isDeveloper&&xn.notify("Permissions have Changed!"))})()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Ho),P(AI),P(Ji),P(Fn),P(SI),P("APP_GLOBAL"))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-menu"]],viewQuery:function(e,t){if(1&e&&ht(xue,5),2&e){let o;Ke(o=Ye())&&(t.mmNavRef=o.first)}},features:[Re],decls:27,vars:14,consts:[[1,"mm-sticky-container",3,"ngClass","resize"],["class","mm-container pt-bg-1",4,"ngIf"],[1,"mm-container","pt-bg-1",3,"ngClass"],["class","mm-bu",4,"ngIf"],["class","mm-bu active-business",4,"ngIf"],[1,"mm-nav"],["mmNavRef",""],["class","mm-nav-item-hidden",4,"ngFor","ngForOf"],[1,"mm-misc"],[4,"ngIf"],[1,"search-control","mm-misc"],["appearance","outline",1,"sw-search"],["matPrefix","",1,"search-icon"],["matInput","","placeholder","Search"],[1,"mm-misc-notification"],[1,"mm-profile",3,"matMenuTriggerFor"],["class","mm-profile-avatar",4,"ngIf"],[1,"mm-profile-menu",3,"overlapTrigger"],["profileMenu","matMenu"],[1,"mm-profile-list-item",3,"click"],[1,"mm-container","pt-bg-1"],[1,"mm-bu"],[1,"mm-bu-selected"],["href","/public/","onclick","window.location.reload()"],[1,"mm-public"],[1,"mm-buttons"],["mat-raised-button","","role","button",3,"click"],["onclick","window.location.reload()"],[1,"mm-bu","active-business"],["class","mm-bu-more",3,"matMenuTriggerFor",4,"ngIf"],[1,"mm-bu-more",3,"matMenuTriggerFor"],["class","mm-bu-selected-img",3,"src",4,"ngIf"],["class","mm-bu-selected",4,"ngIf"],[1,"mm-bu-list",3,"overlapTrigger"],["businessUnitMenu","matMenu"],[3,"click",4,"ngFor","ngForOf"],[1,"mm-bu-selected-img",3,"src"],[3,"click"],["class","mm-nav-item-img",3,"src",4,"ngIf"],["class","mm-bu-list-item",4,"ngIf"],[1,"mm-nav-item-img",3,"src"],[1,"mm-bu-list-item"],[1,"mm-nav-item-hidden"],[1,"mm-nav-item-fake"],[1,"mm-nav-item","mat-h4",3,"ngClass","click"],[1,"mm-misc-more",3,"matMenuTriggerFor"],[1,"",3,"overlapTrigger"],["moreMenus","matMenu"],["class","",3,"click",4,"ngFor","ngForOf"],[1,"",3,"click"],[1,"mm-more-menu-item"],[1,"mm-profile-avatar"],[3,"url","initials"]],template:function(e,t){if(1&e&&(x(0,"div",0),ie("resize",function(){return t.onUpdateMenus()},0,Fd),$(1,Cue,10,0,"div",1),x(2,"div",2),$(3,wue,4,0,"div",3),$(4,Oue,3,2,"div",4),x(5,"div",5,6),$(7,Fue,7,5,"div",7),C(),x(8,"div",8),$(9,Nue,7,3,"div",9),x(10,"div",10)(11,"div")(12,"mat-form-field",11)(13,"span",12)(14,"mat-icon"),ee(15,"search"),C()(),me(16,"input",13),C()()(),x(17,"mat-icon",14),ee(18,"notifications"),C()(),x(19,"div",15),$(20,Bue,2,2,"div",16),x(21,"mat-menu",17,18)(23,"div",19),ie("click",function(){return t.onChangeApp("/user/profile")}),ee(24,"Profile"),C(),x(25,"div",19),ie("click",function(){return t.onChangeApp("/logout")}),ee(26,"Logout"),C()()()()()),2&e){const o=Qt(22);g("ngClass",qe(10,Vue,t.dom.state.locked)),_(1),g("ngIf",!t.dom.state.authenticated),_(1),g("ngClass",qe(12,$ue,!t.dom.state.authenticated)),_(1),g("ngIf",!t.dom.active.business),_(1),g("ngIf",t.dom.active.business),_(3),g("ngForOf",t.ui.menus.all),_(2),g("ngIf",t.ui.menus.more.length),_(10),g("matMenuTriggerFor",o),_(1),g("ngIf",t.ui.user),_(1),g("overlapTrigger",!1)}},styles:[".mm-sticky-container[_ngcontent-%COMP%]{width:100%;z-index:111}.mm-buttons[_ngcontent-%COMP%]{margin-right:10px}.mm-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:48px;margin:0;color:var(--background-base)}.search-icon[_ngcontent-%COMP%]{color:var(--foreground-base)}.mm-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--background-base)}.mm-public[_ngcontent-%COMP%]{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;height:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding-right:10px}.mm-bu[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 257px;flex:0 0 257px;width:257px;height:100%;overflow:hidden;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:var(--primary-700);border-bottom:solid 1px;border-bottom-color:var(--disabled);border-right:solid 1px;border-right-color:var(--disabled);-webkit-box-sizing:border-box;box-sizing:border-box}.active-business[_ngcontent-%COMP%], .mm-profile[_ngcontent-%COMP%]{border:1px ridge var(--disabled)}.mm-bu-selected[_ngcontent-%COMP%]{display:inline-block;font-size:16px;line-height:95%;padding:0 20px;padding:0 0 0 var(--gap-m);color:#fff}.mm-bu-selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.mm-profile-text[_ngcontent-%COMP%], .mat-icon[_ngcontent-%COMP%], .mm-bu[_ngcontent-%COMP%]{transition:font-weight .4s,color .4s;-webkit-transition:font-weight .4s,color .4s}.mm-bu-more[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.mm-bu-selected-img[_ngcontent-%COMP%]{width:216px;padding:0 20px}.mm-bu-list-item[_ngcontent-%COMP%], .mm-profile-list-item[_ngcontent-%COMP%]{width:216px}.mm-more-menu-item[_ngcontent-%COMP%], .mm-profile-list-item[_ngcontent-%COMP%], .mm-bu-list-item[_ngcontent-%COMP%]{display:block;padding:10px 20px;font-size:1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-transition:font-weight .4s,background-color .4s;transition:font-weight .4s,background-color .4s}.mm-more-menu-item[_ngcontent-%COMP%]:hover, .mm-profile-list-item[_ngcontent-%COMP%]:hover, .mm-nav-item-img[_ngcontent-%COMP%]:hover, .mm-bu-list-item[_ngcontent-%COMP%]:hover{font-weight:500;background-color:var(--darken1);cursor:pointer}.mm-nav[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;height:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;white-space:nowrap;background-color:var(--background-main-menu);border-bottom:solid 1px;border-bottom-color:var(--disabled);-webkit-box-sizing:border-box;box-sizing:border-box}.mm-nav-item[_ngcontent-%COMP%]{text-align:left;padding:15px 0 15px var(--gap-lm);white-space:nowrap;cursor:pointer;-webkit-transition:font-weight .4s,color .4s;transition:font-weight .4s,color .4s;color:var(--foreground-base)}.mm-nav-item-hidden[_ngcontent-%COMP%]{visibility:hidden}.mm-nav-item-fake[_ngcontent-%COMP%]{margin-top:-20px;font-size:1.1rem;padding-left:15px;padding-right:15px;white-space:nowrap;font-weight:500;visibility:hidden}.mm-nav-item-img[_ngcontent-%COMP%]{width:216px;padding:6px 20px;display:block;-webkit-transition:background-color 1s;transition:background-color 1s}.mm-nav-item-active[_ngcontent-%COMP%]{color:var(--primary);font-weight:700}.mm-nav-item[_ngcontent-%COMP%]:hover{font-weight:700}.mm-nav-item[_ngcontent-%COMP%]:active{font-weight:500;color:var(--primary-700)}.mm-misc[_ngcontent-%COMP%]{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:var(--background-main-menu);color:var(--text-2);border-bottom:solid 1px;border-bottom-color:var(--disabled);-webkit-box-sizing:border-box;box-sizing:border-box}.mm-misc-notification[_ngcontent-%COMP%]{font-size:1.25rem;text-align:right;padding:5px var(--gap-m) 0 0;cursor:pointer}.mm-misc-more[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:48px;padding-right:10px;cursor:pointer}.mm-misc-more[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:2.3em;cursor:pointer;margin-bottom:10px}.mm-profile[_ngcontent-%COMP%]{max-width:80px;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;background-color:var(--primary-700);-webkit-box-sizing:border-box;box-sizing:border-box}.mm-profile-text[_ngcontent-%COMP%]{width:137px;font-size:1rem;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;padding-left:10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mm-profile-avatar[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:40px;height:40px;overflow:hidden;background-color:var(--disabled);border-radius:50%;margin:0 var(--gap-m)}.mm-profile-avatar[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--primary-text)}.mm-avatar-img[_ngcontent-%COMP%]{max-width:50px;max-height:50px;width:40px;height:40px;border-radius:50%}.mm-profile-menu[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.mm-line-break[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:none;flex:none;width:1px;background-color:var(--lighten-50);height:65%}.search-control[_ngcontent-%COMP%]{-webkit-box-flex:.5;-ms-flex-positive:.5;flex-grow:.5;padding-right:var(--gap-lm);border-bottom:0!important}[_nghost-%COMP%]     .search-control .mat-mdc-form-field .mat-mdc-form-field-infix{width:200px}"]}),i})(),ur=(()=>{class i{static forRoot(){return{ngModule:i,providers:[Fn,ss]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[bk,jl,tL,S1,sL,wL,v1,ML,Ul,TL,rd,Ic,uv,Rb,X1,Wh,p1,ZL,Ir,Y1,q1,QL,Q1,fk,kv,PN,iu,RN,bk,jl,tL,S1,sL,wL,v1,ML,Ul,TL,rd,Ic,uv,Rb,X1,Wh,p1,ZL,Ir,Y1,q1,QL,Q1,fk,kv,PN,iu,RN]}),i})();const Hue=function(i){return{"pa-rounded":i}};function zue(i,n){if(1&i&&me(0,"img",4),2&i){const e=I(2);Ei("matTooltip",e.config.helpText),g("ngClass",qe(5,Hue,e.config.rounded))("src",e.config.url,tr)("width",e.config.width)("height",e.config.height)}}function jue(i,n){if(1&i&&(x(0,"div",5)(1,"span"),ee(2),C()()),2&i){const e=I(2);et("width",e.config.width,"px")("height",e.config.height,"px"),Ei("matTooltip",e.config.helpText),_(1),et("font-size",e.config.text),_(1),Je(e.config.initials?e.config.initials:"")}}function Gue(i,n){if(1&i&&(x(0,"div",1),$(1,zue,1,7,"img",2),$(2,jue,3,8,"div",3),C()),2&i){const e=I();_(1),g("ngIf",e.config.url),_(1),g("ngIf",!e.config.url)}}let MI=(()=>{class i{set url(e){this.config.url=e}constructor(){this.config={width:32,height:32,text:"16px",rounded:!0,fallback:"image",helpText:""},this.initials="AA",this.helpText=""}ngOnInit(){Ne(this.initials)&&(this.config.initials=this.initials),this.config.fallback||(this.config.fallback="image"),this.config.url||(this.config.fallback="initials"),this.width&&(this.config.width=this.width,this.config.height=this.width),this.text&&(this.config.text=this.text),this.helpText&&(this.config.helpText=this.helpText)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-avatar"]],inputs:{config:"config",initials:"initials",url:"url",width:"width",text:"text",helpText:"helpText"},decls:1,vars:1,consts:[["class","pa-avatar-container",4,"ngIf"],[1,"pa-avatar-container"],["class","pa-avatar","matTooltipPosition","left","matTooltipShowDelay","500","alt","url",3,"ngClass","src","width","height","matTooltip",4,"ngIf"],["class","pa-circle","matTooltipPosition","above","matTooltipShowDelay","500",3,"width","height","matTooltip",4,"ngIf"],["matTooltipPosition","left","matTooltipShowDelay","500","alt","url",1,"pa-avatar",3,"ngClass","src","width","height","matTooltip"],["matTooltipPosition","above","matTooltipShowDelay","500",1,"pa-circle",3,"matTooltip"]],template:function(e,t){1&e&&$(0,Gue,3,2,"div",0),2&e&&g("ngIf",t.config)},dependencies:[Gt,ct,Pn],styles:[".pa-rounded[_ngcontent-%COMP%]{border-radius:50%}.pa-avatar-container[_ngcontent-%COMP%]{margin:0 var(--mar-md)}.pa-avatar-container[_ngcontent-%COMP%]   .pa-circle[_ngcontent-%COMP%]{border:2px solid var(--text-2);background-color:var(--background-base);color:var(--text-2);text-align:center;border-radius:50%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.pa-avatar-container[_ngcontent-%COMP%]   .pa-avatar[_ngcontent-%COMP%]{border:1px solid var(--disabled);display:-webkit-box;display:-ms-flexbox;display:flex;cursor:pointer}.pa-avatar-container[_ngcontent-%COMP%]   .pa-avatar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}"]}),i})(),ny=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,ur,Ol]}),i})(),ea=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[ur]}),i})();function Wue(i,n){1&i&&me(0,"lib-pop-select",24),2&i&&g("config",I().ui.business)}const Uf=function(i){return{"sw-disabled":i}};function Uue(i,n){if(1&i&&me(0,"lib-pop-select-filter",25),2&i){const e=I();et("width",900,"px"),g("ngClass",qe(4,Uf,e.dom.state.pending))("config",e.ui.routes)}}function Zue(i,n){if(1&i&&me(0,"lib-pop-select",26),2&i){const e=I();g("ngClass",qe(2,Uf,e.dom.state.pending))("config",e.ui.method)}}function Kue(i,n){if(1&i){const e=Me();x(0,"button",27),ie("click",function(){return he(e),pe(I().onNewRequest())}),ee(1,"New"),C()}if(2&i){const e=I();et("width",50,"px"),g("disabled",!(null!=e.ui&&null!=e.ui.url&&e.ui.url.control.value))}}function Yue(i,n){if(1&i&&me(0,"lib-pop-input",26),2&i){const e=I();g("ngClass",qe(2,Uf,e.dom.state.pending))("config",e.ui.url)}}function Xue(i,n){if(1&i){const e=Me();x(0,"button",28),ie("click",function(){return he(e),pe(I().onSubmitRequest())}),ee(1,"Send"),C()}if(2&i){const e=I();g("disabled",!(null!=e.ui&&null!=e.ui.url&&e.ui.url.control.value))}}function que(i,n){if(1&i){const e=Me();x(0,"button",29),ie("click",function(){return he(e),pe(I().onCancelRequest())}),ee(1,"Cancel"),C()}}function Jue(i,n){if(1&i){const e=Me();x(0,"json-editor",30,31),ie("change",function(o){return he(e),pe(I().onJsonChange(o))}),C()}if(2&i){const e=I();g("ngClass",qe(3,Uf,e.dom.state.pending))("options",e.editorOptions)("formControl",e.ui.params)}}function Que(i,n){1&i&&(x(0,"mat-icon",37),ee(1," warning "),C()),2&i&&g("matTooltip",I().$implicit.message)}function ehe(i,n){1&i&&(x(0,"mat-icon",38),ee(1," error "),C()),2&i&&g("matTooltip",I().$implicit.message)}const the=function(i){return{"pda-history-list-item-active":i}};function ihe(i,n){if(1&i){const e=Me();x(0,"div",32),ie("click",function(){const o=he(e),s=o.$implicit,r=o.index;return pe(I().onResubmit(s,r))}),x(1,"button",33),ee(2),R0(3,"uppercase"),C(),x(4,"span"),ee(5),C(),$(6,Que,2,1,"mat-icon",34),$(7,ehe,2,1,"mat-icon",35),x(8,"mat-icon",36),ie("click",function(){const s=he(e).index;return pe(I().onRemoveApi(s))}),ee(9," delete "),C()()}if(2&i){const e=n.$implicit,t=n.index,o=I();g("ngClass",qe(7,the,t===o.ui.historyIndex)),_(2),Je(F0(3,5,null==e?null:e.method)),_(3),Je(null==e?null:e.url),_(1),g("ngIf",e.warning),_(1),g("ngIf",e.error)}}const nhe=function(i,n){return{error:i,success:n}};function ohe(i,n){if(1&i&&(x(0,"span"),ee(1,"Status: "),x(2,"span",39),ee(3),C()()),2&i){const e=I();_(2),g("ngClass",Ii(2,nhe,e.ui.apiStatus>=400,e.ui.apiStatus>=200&&e.ui.apiStatus<400)),_(1),Je(e.ui.apiStatus)}}function she(i,n){1&i&&me(0,"mat-progress-bar",40)}function rhe(i,n){if(1&i&&me(0,"json-editor",41,42),2&i){const e=I();g("options",e.viewEditorOptions)("data",e.ui.result)}}let PI=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this._baseRepo=t,this.name="PopDevApiToolComponent",this.editorOptions=void 0,this.viewEditorOptions=void 0,this.srv={base:void 0},this.asset={businesses:[],defaultParams:{archived:0},routes:[],request:void 0,uiHistory:"DevTool.Api",uiHistoryPath:"DevTool.Api.history",uiHistoryMethod:"DevTool.Api.method",uiRoutePath:"DevTool.Api.routes",uiHistoryIndexPath:"DevTool.Api.historyIndex"},this.ui={apiBody:void 0,entities:[],result:void 0,apiStatus:"",filteredPaths:void 0,business:void 0,method:void 0,url:void 0,routes:void 0,params:new vi,paths:new vi,historyApis:[],historyIndex:0},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield Promise.all([o._setInitialConfig()]),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){return r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.unload=()=>new Promise(function(){var s=q(function*(r){return yield o._storeApiHistory(),r(!0)});return function(r){return s.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onJsonChange(e){e instanceof Event&&De(this.ui.historyApis,!0)&&Y(this.ui.historyApis[this.ui.historyIndex])&&(this.ui.historyApis[this.ui.historyIndex].body=gi(this.ui.params.value),this._storeApiHistory())}onTestAll(){var e=this;return q(function*(){e.dom.state.testAllFail=0;const t=[];let o=!1;e.onClearHistory();const s=ey().auth.users[e.ui.business.control.value];let r=gi(e.ui.params.value);"archvied"in r||(e.ui.params.setValue({archived:0,extra:1}),r=gi(e.ui.params.value));for(const a of e.asset.routes.reverse()){if(String(a.value).includes("{"))continue;const l=yield e.onSubmitRequest("get",a.value,r);if(-1===l)o=!0,xn.notify("Test Route Failed: "+a.value,null,15),t.push(a.value);else if(l){if(String(a.value).includes("application")||String(a.value).includes("records/model")||String(a.value).includes(`users/${s.id}`))continue;if(Y(l,["id"])&&l.id&&!String(a.value).includes("legacy")&&!String(a.value).includes("auth")&&!String(a.value).includes("agencies")){const c=yield e.onSubmitRequest("get",`${a.value}/${l.id}`);Y(c,["id","description"])&&-1===(yield e.onSubmitRequest("patch",`${a.value}/${c.id}`,{description:c.description??null}))&&(o=!0,xn.notify(`Test Scoped Route Failed: PATCH to ${a.value}/${c.id}`,null,15),t.push(`PATCH:${a.value}/${c.id}`)),-1===c&&(o=!0,xn.notify(`Test Scoped Route Failed:${a.value}/${l.id}`,null,15),t.push(`${a.value}/${l.id}`))}}}if(o){let a="";t.map(l=>{a+=l+"<br>"}),Nc.message({header:"Failed Routes",body:a,width:"500px",height:"500px"})}else xn.notify("Route Test Success","Success",15)})()}onResetParams(){this.ui.params.setValue({}),Y(this.ui.historyApis[this.ui.historyIndex],!0)&&(this.ui.historyApis[this.ui.historyIndex].body={}),this._storeApiHistory()}onDefaultParams(){const e=gi(this.asset.defaultParams);this.ui.params.setValue(e),Y(this.ui.historyApis[this.ui.historyIndex],!0)&&(this.ui.historyApis[this.ui.historyIndex].body={}),this._storeApiHistory()}onExtraParam(){const e=gi(this.ui.params.value);"extra"in e?delete e.extra:e.extra="related",this.ui.params.setValue(e),Y(this.ui.historyApis[this.ui.historyIndex],!0)&&(this.ui.historyApis[this.ui.historyIndex].body={}),this._storeApiHistory()}onSelectByParam(){const e=gi(this.ui.params.value);"selectby"in e?delete e.selectby:e.selectby="id,name",this.ui.params.setValue(e),Y(this.ui.historyApis[this.ui.historyIndex],!0)&&(this.ui.historyApis[this.ui.historyIndex].body={}),this._storeApiHistory()}onAliasByParam(){const e=gi(this.ui.params.value);"aliasby"in e?delete e.aliasby:e.aliasby=["id","value"],this.ui.params.setValue(e),Y(this.ui.historyApis[this.ui.historyIndex],!0)&&(this.ui.historyApis[this.ui.historyIndex].body={}),this._storeApiHistory()}onArchivedParam(){const e=gi(this.ui.params.value);e.archived="archived"in e?0==+e.archived?1:1==+e.archived?-1:0:0,this.ui.params.setValue(e),Y(this.ui.historyApis[this.ui.historyIndex],!0)&&(this.ui.historyApis[this.ui.historyIndex].body={}),this._storeApiHistory()}onLimitParam(){const e=gi(this.ui.params.value);"limit"in e?delete e.limit:e.limit=500,this.ui.params.setValue(e),Y(this.ui.historyApis[this.ui.historyIndex],!0)&&(this.ui.historyApis[this.ui.historyIndex].body={}),this._storeApiHistory()}onWhereParam(){const e=gi(this.ui.params.value);"where"in e?delete e.where:e.where=["id","=",1],this.ui.params.setValue(e),Y(this.ui.historyApis[this.ui.historyIndex],!0)&&(this.ui.historyApis[this.ui.historyIndex].body={}),this._storeApiHistory()}onClearHistory(){this.ui.historyApis=[],this._storeApiHistory()}onRemoveApi(e){e>=0&&Y(this.ui.historyApis[e])&&(this.ui.historyApis.splice(e,1),e>0&&e===this.ui.historyIndex&&(this.ui.historyIndex--,this.onResubmit(this.ui.historyApis[this.ui.historyIndex],this.ui.historyIndex)))}onNewRequest(e=null){const t={method:"get",url:this.ui.url.control.value??"",body:{},data:[]};e&&(t.url=e),this.ui.historyApis.unshift(t),this.ui.historyIndex=0}onSubmitRequest(e,t,o){var s=this;return new Promise(function(){var r=q(function*(a){let l=-1;if(!s.ui.url.control.value)return a(l);{const c=s.ui.business.control.value,A=e||s.ui.method.control.value||"get",D=t||s.ui.url.control.value;if(Y(s.ui.historyApis[s.ui.historyIndex],!0)&&D!==s.ui.historyApis[s.ui.historyIndex].url){const se=gi(s.ui.historyApis[s.ui.historyIndex].body);s.ui.historyApis[s.ui.historyIndex].body=se}s.dom.state.pending=!0;const te=o||s.ui.params.value;switch(s.ui.result=null,s.asset.request&&s.asset.request.unsubscribe(),A){case"get":s.asset.request=gt.doGet(D,te,1,!0,c,!0).subscribe({next:se=>{if(l=0,s.ui.apiStatus=200,De(se.data)){const ke=lr(se);s.ui.result=ke,De(s.ui.result,!0)&&Y(s.ui.result[0],["id"])&&(l=s.ui.result[0])}else Y(se.data,!0)?(s.ui.result=wa(se),l=s.ui.result):(s.ui.result=Ca(se),l=s.ui.result);return s.dom.state.pending=!1,s._registerApiCall({method:A,url:D,body:te,data:s.ui.result}),a(l)},error:se=>{(422===se.status||405===se.status)&&(l=0);const le={method:A,url:D,body:te,data:s.ui.result,error:-1===l,warning:0===l,message:qn(se)};return s._registerApiCall(le),s._handleError(se),a(l)}});break;case"post":s.asset.request=gt.doPost(D,{...te},1,!0,c).subscribe({next:se=>{if(l=0,s.ui.apiStatus="200",De(se.data)){const ke=lr(se);s.ui.result=ke}else{const ke=Ca(se);s.ui.result=ke}return s.dom.state.pending=!1,s._registerApiCall({method:A,url:D,body:te,data:s.ui.result}),a(l)},error:se=>{(422===se.status||405===se.status)&&(l=0);const le={method:A,url:D,body:te,data:s.ui.result,error:-1===l,warning:0===l,message:qn(se)};return s._registerApiCall(le),s._handleError(se),a(l)}});break;case"patch":s.asset.request=gt.doPatch(D,{...te},1,!0,c).subscribe({next:se=>{if(l=0,s.ui.apiStatus="200",se&&De(se.data)){const ke=lr(se);s.ui.result=ke,l=ke}else{const ke=Ca(se);s.ui.result=ke,l=ke}return s.dom.state.pending=!1,s._registerApiCall({method:A,url:D,body:te,data:s.ui.result}),a(l)},error:se=>{(422===se.status||405===se.status)&&(l=0);const le={method:A,url:D,body:te,data:s.ui.result,error:-1===l,warning:0===l,message:qn(se)};return s._registerApiCall(le),s._handleError(se),a(l)}});break;case"delete":s.asset.request=gt.doDelete(D,{...te},1,!0,c).subscribe({next:se=>{if(l=0,s.ui.apiStatus="200",De(se.data)){const ke=lr(se);s.ui.result=ke}else{const ke=Ca(se);s.ui.result=ke}return s.dom.state.pending=!1,s._registerApiCall({method:A,url:D,body:te,data:s.ui.result}),a(l)},error:se=>{422===se.status&&(l=0);const le={method:A,url:D,body:te,data:s.ui.result,error:-1===l,warning:0===l,message:qn(se)};return s._registerApiCall(le),s._handleError(se),a(l)}});break;default:return a(l)}}});return function(a){return r.apply(this,arguments)}}())}onCancelRequest(){this.asset.request&&this.asset.request.unsubscribe(),this.asset.request=null,this.dom.state.pending=!1}onResubmit(e,t){const{method:o,url:s,body:r,data:a}=e;this.ui.result=a;const l=Y(r)?r:gi(this.asset.defaultParams);this.ui.params.setValue(l),this.ui.url.control.setValue(s),this.ui.method.control.setValue(o),this.ui.historyIndex=t}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){e.dom.state.show=!1;const s=e.srv.base.getAuthBusinesses();return e.asset.businesses=Object.values(s).map(r=>r),e.ui.params.setValue(gi(e.asset.defaultParams)),e._setOptionEditorConfig(),e._setViewEditorConfig(),e._setMethodConfig(),e._setUrlConfig(),e._setBusinessConfig(),e._rebuildRoutes(),yield e._getApiHistory(),o(!0)});return function(o){return t.apply(this,arguments)}}())}_filterPaths(e){const t=String(e).toLowerCase();return this.ui.entities.filter(o=>o.toLowerCase().includes(t))}_setOptionEditorConfig(){this.editorOptions=new As,this.editorOptions.mainMenuBar=!1,this.editorOptions.mode="code"}_setViewEditorConfig(){this.viewEditorOptions=new As,this.viewEditorOptions.mainMenuBar=!0,this.viewEditorOptions.mode="view",this.viewEditorOptions.expandAll=!0}_handleError(e){let t;this.dom.state.pending=!1,0==+e.status?(e.status=404,this.ui.apiStatus=404,e.statusText="Not Found",t="Invalid API request submitted or requested API end-point does not exist!"):(this.ui.apiStatus=e.status,t=qn(e));const o={message:t,status:e.status??500,statusText:e.statusText};this.dom.state.testAllFail=1,this.ui.result=o}_setBusinessConfig(){this.ui.business=new Zi({label:"Business",name:"method",value:Y(zt)?zt.id:De(this.asset.businesses,!0)?this.asset.businesses[0].id:"",facade:!0,options:{values:as(this.asset.businesses)},patch:{path:"",field:"",duration:0,after:(e,t)=>{this._rebuildRoutes()}}})}_rebuildRoutes(){const e=ey().auth.users[this.ui.business.control.value],t=eo.getAsset("entity"),o=["agencies","agency-configurations","application/client/cac-structure","application/legacy/unlinked-users","application/profile/latest-profiles","application/profile/user-related-profiles","application/user/authed-user-businesses","application/user/texting-users","apps","auth/user","conversations","field-types","field-traits","field-item-types","field-item-views","records/model/business-apps","records/model/countries","records/model/entities","records/model/field-validations","records/model/regions","records/model/timezone","system/actions","system/action-types","system/agencies","system/businesses","system/external-applications",`apps/user/${e.id}/settings`,`users/${e.id}/businesses`,`users/${e.id}/permissions`];e.legacy_user_id&&o.push(`legacy/users/${e.legacy_user_id}`);const s=Object.values(t).filter(a=>a.api).map(a=>a.api);let r=[...o,...s];r=vu(r).sort(),this.asset.routes=r.map(a=>({value:a,name:a})),this.ui.routes=null,this._setRoutesConfig()}_setMethodConfig(){const e=rs(this.asset.uiHistoryMethod);this.ui.method=new Zi({label:"Method",name:"method",value:e??"get",facade:!0,options:{values:[{name:"POST",value:"post"},{name:"GET",value:"get"},{name:"PATCH",value:"patch"},{name:"DELETE",value:"delete"}]},patch:{path:"",field:"",duration:0}})}_setUrlConfig(){var e=this;this.ui.url=new li({label:"Url",name:"url",facade:!0,patch:{path:"",field:"",duration:0},onEnter:(t,o)=>new Promise(function(){var s=q(function*(r){return o.value&&e.onSubmitRequest(),r(!0)});return function(r){return s.apply(this,arguments)}}())})}_setRoutesConfig(){this.ui.routes=new pp({label:"Main Entity Routes",name:"route",options:{values:this.asset.routes},position:"float",minHeight:700,height:700,facade:!0,patch:{path:"",field:"",duration:0,after:(e,t)=>{let o=t.config.control.value;String(o).includes("{")&&(o=String(o).slice(0,String(o).indexOf("{"))),this.ui.url.control.setValue(o),this.onSubmitRequest("get",o)}}})}_registerApiCall(e){this.asset.request&&this.asset.request.unsubscribe(),this.asset.request=null;const t=this.ui.historyApis[this.ui.historyIndex];Y(t,!0)&&t.method===e.method&&t.url===e.url?this.ui.historyApis[this.ui.historyIndex]=e:(this.ui.historyApis.unshift(e),this.ui.historyIndex=0),this._storeApiHistory()}_getApiHistory(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){const s=rl(e.asset.uiHistoryPath),r=rl(e.asset.uiHistoryIndexPath);return e.ui.historyIndex=+r>0?+r:0,e.ui.historyApis=De(s,!0)?s:[],Y(e.ui.historyApis[e.ui.historyIndex])&&(Oi(e.asset.uiHistoryMethod,e.ui.historyApis[e.ui.historyIndex].method),e.onResubmit(e.ui.historyApis[e.ui.historyIndex],e.ui.historyIndex),e._setMethodConfig()),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_storeApiHistory(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){if(Oi(e.asset.uiHistoryMethod,e.ui.method.control.value),De(e.ui.historyApis,!0))return Oi(e.asset.uiHistoryPath,btoa(JSON.stringify(e.ui.historyApis))),Oi(e.asset.uiHistoryIndexPath,e.ui.historyIndex),o(!0);Oi(e.asset.uiHistoryPath,null),Oi(e.asset.uiHistoryIndexPath,0)});return function(o){return t.apply(this,arguments)}}())})()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Ho))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-dev-api-tool"]],viewQuery:function(e,t){if(1&e&&(ht(ya,5),ht(ya,5)),2&e){let o;Ke(o=Ye())&&(t.optionEditor=o.first),Ke(o=Ye())&&(t.viewEditor=o.first)}},features:[Re],decls:50,vars:18,consts:[[1,"sw-flex-column","pda-container"],[1,"sw-flex-row"],[3,"config",4,"ngIf"],["class","pda-route-list",3,"width","ngClass","config",4,"ngIf"],["mat-raised-button","","color","basic",1,"pda-test-btn",3,"disabled","click"],[1,"sw-flex-row","gap-sm","pda-header-wrapper"],[3,"ngClass","config",4,"ngIf"],["mat-raised-button","","color","default",3,"width","disabled","click",4,"ngIf"],["mat-raised-button","","color","accent",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],[1,"sw-flex-row","gap-sm","pda-main-wrapper"],[1,"sw-flex-column"],["for","editor"],["mat-raised-button","","color","basic",1,"pda-misc-btn",3,"click"],["id","editor","name","editor",3,"ngClass","options","formControl","change",4,"ngIf"],[2,"height","40px","width","100%","clear","both"],[1,"gap-sm","pda-history-list",3,"ngClass"],["class","sw-flex-row pda-history-list-item",3,"ngClass","click",4,"ngFor","ngForOf"],[2,"position","relative"],["for","viewer"],[4,"ngIf"],[1,"pda-loader"],["mode","indeterminate",4,"ngIf"],["id","viewer","name","viewer",3,"options","data",4,"ngIf"],[3,"config"],[1,"pda-route-list",3,"ngClass","config"],[3,"ngClass","config"],["mat-raised-button","","color","default",3,"disabled","click"],["mat-raised-button","","color","accent",3,"disabled","click"],["mat-raised-button","",3,"click"],["id","editor","name","editor",3,"ngClass","options","formControl","change"],["optionEditor",""],[1,"sw-flex-row","pda-history-list-item",3,"ngClass","click"],["mat-stroked-button","",2,"min-width","100px"],["class","pda-history-list-warning sw-pointer","matTooltipPosition","above","matTooltipShowDelay","250",3,"matTooltip",4,"ngIf"],["class","pda-history-list-error sw-pointer","matTooltipPosition","above","matTooltipShowDelay","250",3,"matTooltip",4,"ngIf"],[1,"pda-history-list-remove","sw-pointer",3,"click"],["matTooltipPosition","above","matTooltipShowDelay","250",1,"pda-history-list-warning","sw-pointer",3,"matTooltip"],["matTooltipPosition","above","matTooltipShowDelay","250",1,"pda-history-list-error","sw-pointer",3,"matTooltip"],[1,"pda-api-status",3,"ngClass"],["mode","indeterminate"],["id","viewer","name","viewer",3,"options","data"],["viewEditor",""]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1),$(2,Wue,1,1,"lib-pop-select",2),$(3,Uue,1,6,"lib-pop-select-filter",3),x(4,"button",4),ie("click",function(){return t.onTestAll()}),ee(5,"Test All"),C()(),me(6,"hr"),x(7,"div",5),$(8,Zue,1,4,"lib-pop-select",6),$(9,Kue,2,3,"button",7),$(10,Yue,1,4,"lib-pop-input",6),$(11,Xue,2,1,"button",8),$(12,que,2,0,"button",9),C(),x(13,"div",10)(14,"div",11)(15,"div",1)(16,"label",12),ee(17,"PARAMS"),C()(),x(18,"div",1)(19,"button",13),ie("click",function(){return t.onArchivedParam()}),ee(20,"Archived"),C(),x(21,"button",13),ie("click",function(){return t.onLimitParam()}),ee(22,"Limit"),C(),x(23,"button",13),ie("click",function(){return t.onAliasByParam()}),ee(24,"AliasBy"),C(),x(25,"button",13),ie("click",function(){return t.onWhereParam()}),ee(26,"Where"),C(),x(27,"button",13),ie("click",function(){return t.onSelectByParam()}),ee(28,"SelectBy"),C(),x(29,"button",13),ie("click",function(){return t.onExtraParam()}),ee(30,"Extra"),C(),x(31,"button",13),ie("click",function(){return t.onResetParams()}),ee(32,"Clear"),C()(),x(33,"div",1),$(34,Jue,2,5,"json-editor",14),C(),me(35,"div",15),x(36,"div",1)(37,"label"),ee(38,"HISTORY"),C(),x(39,"button",13),ie("click",function(){return t.onClearHistory()}),ee(40,"Clear History"),C()(),x(41,"div",16),$(42,ihe,10,9,"div",17),C()(),x(43,"div",18)(44,"label",19),ee(45,"Result "),$(46,ohe,4,5,"span",20),C(),x(47,"div",21),$(48,she,1,0,"mat-progress-bar",22),C(),$(49,rhe,2,2,"json-editor",23),C()()()),2&e&&(_(2),g("ngIf",t.ui.business),_(1),g("ngIf",t.ui.routes),_(1),g("disabled",t.dom.state.pending),_(4),g("ngIf",t.ui.method),_(1),g("ngIf",!t.dom.state.pending),_(1),g("ngIf",t.ui.url),_(1),g("ngIf",!t.dom.state.pending),_(1),g("ngIf",t.dom.state.pending),_(2),et("width",500,"px"),_(20),g("ngIf",t.editorOptions),_(7),g("ngClass",qe(16,Uf,t.dom.state.pending)),_(1),g("ngForOf",t.ui.historyApis),_(4),g("ngIf",t.ui.apiStatus),_(2),g("ngIf",t.dom.state.pending),_(1),g("ngIf",t.viewEditorOptions))},styles:[".pda-container[_ngcontent-%COMP%]{padding:var(--gap-sm)}.pda-container[_ngcontent-%COMP%]     .pop-select-filter-container{max-width:900px!important;margin:0!important}.pda-container[_ngcontent-%COMP%]   .pda-header-wrapper[_ngcontent-%COMP%]{-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:var(--gap-sm)}.pda-container[_ngcontent-%COMP%]   .pda-header-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:120px}.pda-result[_ngcontent-%COMP%]{width:60%;background-color:#fff;padding:var(--gap-sm)}.gap-sm[_ngcontent-%COMP%]{gap:var(--gap-sm)}.pda-misc-btn[_ngcontent-%COMP%]{width:150px;-ms-flex-item-align:end;align-self:flex-end;line-height:10px!important;font-size:10px!important;padding:2px!important;height:25px;position:relative;top:-7px;margin-right:var(--gap-xs)}.pda-test-btn[_ngcontent-%COMP%]{width:150px;-ms-flex-item-align:end;align-self:flex-end;line-height:16px!important;font-size:16px!important;padding:2px!important;height:37px;position:relative;top:-4px;margin-left:var(--gap-sm);background:var(--primary);color:var(--foreground-base)}.pda-main-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{height:40px;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.pda-history-list[_ngcontent-%COMP%]{border:1px solid #3883fa;width:470px;height:calc(100vh - 835px);padding:var(--gap-sm);cursor:pointer;overflow-y:scroll;overflow-x:hidden}.pda-route-list[_ngcontent-%COMP%]{margin-left:var(--gap-sm)}.pda-history-list-item[_ngcontent-%COMP%]{gap:var(--gap-sm);-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--gap-xs);width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;border-bottom:1px solid var(--darken2);border-radius:3px}.pda-history-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}.pda-history-list-item[_ngcontent-%COMP%]   .pda-history-list-error[_ngcontent-%COMP%]{color:var(--error);-ms-flex-item-align:end;align-self:flex-end}.pda-history-list-item[_ngcontent-%COMP%]   .pda-history-list-warning[_ngcontent-%COMP%]{color:var(--primary);-ms-flex-item-align:end;align-self:flex-end}.pda-history-list-item[_ngcontent-%COMP%]   .pda-history-list-remove[_ngcontent-%COMP%]{-ms-flex-item-align:end;align-self:flex-end}.pda-history-list-item-active[_ngcontent-%COMP%]{position:relative;top:-5px;background:var(--accent)!important}.pda-api-status[_ngcontent-%COMP%]{padding:6px;font-size:12px;border-radius:47px;color:#fff;margin-left:var(--mar-sm)}.pda-loader[_ngcontent-%COMP%]{position:absolute;height:5px;overflow:hidden;top:37px;z-index:3;left:0;right:0;width:100%;clear:both}.error[_ngcontent-%COMP%]{background-color:red}.success[_ngcontent-%COMP%]{background-color:green}hr[_ngcontent-%COMP%]{width:100%;margin:var(--mar-md) 0}[_nghost-%COMP%]     #editor div[id^=angjsoneditor]{height:300px;width:500px}[_nghost-%COMP%]     #viewer div[id^=angjsoneditor]{height:calc(100vh - 400px);width:850px}[_nghost-%COMP%]     lib-pop-input{width:60%}[_nghost-%COMP%]     lib-pop-input>div{margin-top:0;max-width:unset}[_nghost-%COMP%]     lib-pop-select{-webkit-box-flex:1;-ms-flex:1;flex:1}[_nghost-%COMP%]     lib-pop-select>div{margin-top:0}"]}),i})();const ahe=["viewEditor"];function lhe(i,n){if(1&i&&me(0,"json-editor",2,3),2&i){const e=I();g("options",e.ui.viewEditorOptions)("data",e.ui.details)}}let N4=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this._baseRepo=t,this.name="PopDevDetailsToolComponent",this.srv={base:void 0},this.ui={details:void 0,viewEditorOptions:void 0},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield Promise.all([o._setInitialConfig()]),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){return r(!0)});return function(r){return s.apply(this,arguments)}}())}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.details=e.srv.base.getAuthDetails(),yield e._setViewEditorConfig(),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setViewEditorConfig(){var e=this;return q(function*(){e.ui.viewEditorOptions=new As,e.ui.viewEditorOptions.mainMenuBar=!0,e.ui.viewEditorOptions.mode="view"})()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Ho))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-dev-details-tool"]],viewQuery:function(e,t){if(1&e&&ht(ahe,5),2&e){let o;Ke(o=Ye())&&(t.viewEditor=o.first)}},features:[Re],decls:2,vars:1,consts:[[1,"pddt-container"],["id","viewer","name","viewer",3,"options","data",4,"ngIf"],["id","viewer","name","viewer",3,"options","data"],["viewEditor",""]],template:function(e,t){1&e&&(x(0,"div",0),$(1,lhe,2,2,"json-editor",1),C()),2&e&&(_(1),g("ngIf",t.ui.viewEditorOptions))},dependencies:[ct,ya],styles:[".pddt-container[_ngcontent-%COMP%]{width:100%;padding:var(--gap-sm);gap:var(--gap-sm);-webkit-box-sizing:border-box;box-sizing:border-box;min-width:800px}[_nghost-%COMP%]     div[id^=angjsoneditor]{height:calc(100vh - 205px)!important;width:100%}"]}),i})();const che=["viewEditor"];function dhe(i,n){if(1&i){const e=Me();x(0,"lib-pop-input",12),ie("events",function(o){return he(e),pe(I().onApplySearchValue(o))}),C()}2&i&&g("config",I().ui.search)}const uhe=function(i){return{"pdet-active-item":i}};function hhe(i,n){if(1&i){const e=Me();x(0,"mat-list-option",13),ie("click",function(){const s=he(e).$implicit;return pe(I().onViewEntity(s))}),ee(1),C()}if(2&i){const e=n.$implicit,t=I();g("value",e.internal_name)("ngClass",qe(3,uhe,e.internal_name===t.active.internalName)),_(1),Mt(" ",e.name," ")}}function phe(i,n){if(1&i&&me(0,"json-editor",14,15),2&i){const e=I();g("options",e.ui.jsonReader)("data",e.active.entity)}}function mhe(i,n){if(1&i){const e=Me();x(0,"lib-pop-button",12),ie("events",function(){return he(e),pe(I().onCanReadCheck())}),C()}2&i&&g("config",I().ui.canRead)}const fhe=function(i){return{"sw-hidden":i}};let TI=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this._domRepo=t,this.name="PopDevEntitiesToolComponent",this.asset={entities:[],entitiesMap:{}},this.active={internalName:void 0,entity:void 0},this.ui={entities:[],jsonReader:void 0,search:new li({name:"search",label:"Search Filter",maxlength:32,bubble:!0}),canRead:void 0},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield Promise.all([o._setInitialConfig()]),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){return r(!0)});return function(r){return s.apply(this,arguments)}}())}onApplySearchValue(e){if(e&&"onKeyUp"===e.name){const t=e.config.control.value;this.ui.entities=this.asset.entities.filter(o=>ll(o,t))}}onViewEntity(e){this.log.info("onViewEntity",e),this.active.internalName=e.internal_name,this.active.entity=e,this.onCanReadCheck()}onCanReadCheck(){Y(this.active.entity,!0)&&(this.ui.canRead.value="",this.dom.setTimeout("can-read-check",()=>{const e=Qn.checkAccess(this.active.entity.internal_name,"can_read");this.ui.canRead.value=e?"True":"False"},250))}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.core=yield Qn.getCoreConfig("dev_tool"),e.ui.canRead=new Ms({value:"False",icon:null,bubble:!0,radius:5,width:80}),yield e._setViewEditorConfig(),e.asset.entities=Qn.getStore().sort(ko("name")),e.ui.entities=[...e.asset.entities],e.onViewEntity(e.ui.entities[0]),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setViewEditorConfig(){var e=this;return q(function*(){e.ui.jsonReader=new As,e.ui.jsonReader.mainMenuBar=!0,e.ui.jsonReader.mode="view",e.ui.jsonReader.expandAll=!0})()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-dev-entities-tool"]],viewQuery:function(e,t){if(1&e&&ht(che,5),2&e){let o;Ke(o=Ye())&&(t.viewEditor=o.first)}},features:[Re],decls:18,vars:16,consts:[[1,"pdet-container","sw-flex-item-full",3,"ngClass"],[1,"sw-flex-row"],[1,"pdet-search"],[3,"config","events",4,"ngIf"],[1,"pdet-search-icon"],[3,"multiple"],["access",""],[3,"value","ngClass","click",4,"ngFor","ngForOf"],[1,"sw-flex-column-md","sw-flex-grow-xs"],[1,"pdet-entity-view"],["id","viewer","name","viewer",3,"options","data",4,"ngIf"],[1,"sw-flex-row","sw-flex-start-center"],[3,"config","events"],[3,"value","ngClass","click"],["id","viewer","name","viewer",3,"options","data"],["viewEditor",""]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"div")(3,"div",2),$(4,dhe,1,1,"lib-pop-input",3),x(5,"div",4)(6,"mat-icon"),ee(7,"search"),C()()(),x(8,"mat-selection-list",5,6),$(10,hhe,2,5,"mat-list-option",7),C()(),x(11,"div",8)(12,"div",9),$(13,phe,2,2,"json-editor",10),x(14,"div",11)(15,"label"),ee(16,"Can Read:"),C(),$(17,mhe,1,1,"lib-pop-button",3),C()()()()()),2&e&&(g("ngClass",qe(14,fhe,!t.dom.state.loaded)),_(2),et("margin-right",30,"px")("height",t.dom.height.inner,"px"),_(2),g("ngIf",t.ui.search),_(4),g("multiple",!1),_(2),g("ngForOf",t.ui.entities),_(1),et("height",t.dom.height.inner,"px"),_(2),g("ngIf",t.ui.jsonReader),_(1),et("margin-top",10,"px"),_(3),g("ngIf",t.ui.canRead))},styles:[".pdet-container[_ngcontent-%COMP%]{padding:var(--gap-s)}.pdet-search[_ngcontent-%COMP%]{position:relative;width:302px}.pdet-search[_ngcontent-%COMP%]   lib-pop-input[_ngcontent-%COMP%]{margin:0!important}.pdet-search[_ngcontent-%COMP%]   .pdet-search-icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px}.pdet-entity-view[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:17px;height:calc(100vh - 280px)!important;width:552px;overflow-y:scroll;overflow-x:hidden;border:1px solid var(--border);background:var(--background-base)!important;padding:10px}.pdet-entity-view[_ngcontent-%COMP%]   .sw-flex-row[_ngcontent-%COMP%]{margin-bottom:10px}.pdet-entity-view[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:120px;font-size:var(--text-lg);margin-right:20px}.pdet-active-item[_ngcontent-%COMP%]{background:var(--background-main-menu)!important;border-left-color:var(--primary-active)!important}[_nghost-%COMP%]     #viewer div[id^=angjsoneditor]{height:calc(100vh - 350px);width:550px}[_nghost-%COMP%]     mat-selection-list{height:calc(100vh - 300px)!important;width:300px;overflow-y:scroll;overflow-x:hidden;border:1px solid var(--border);background:var(--background-base)!important}[_nghost-%COMP%]     .mat-mdc-list-base{padding-top:0!important}[_nghost-%COMP%]     .mat-list-option:hover{background:var(--background-main-menu)!important}[_nghost-%COMP%]     .mat-list-option{background:var(--background-base)}"]}),i})(),Io=(()=>{class i extends Yt{constructor(){super(),this.position=1,this.when=null,this.hidden=!1,this.dom.state.helper=!1,this.dom.state.tooltip=!1,this.dom.state.hint=!1}ngOnInit(){super.ngOnInit()}onBlur(){var e=this;return q(function*(){if(Y(e.config,!0)){let t=e.config.control.value;e.config.value=t,Ne(t)?(t=String(t).trim(),e.config.control.setValue(t)):Vi(t)&&e.config.control.setValue(t),yield e.onBubbleEvent("onBlur"),e.dom.state.modified&&e._isChangeValid()&&(e._isFieldPatchable()?e.onChange():e._applyTransformation(t))}})()}onChange(e,t=!1,o=null){var s=this;return q(function*(){if(Y(s.config,["control"])){s.log.info("onChange",{value:e,target:o});const r=s.config.control;typeof e<"u"&&(r.setValue(e),r.markAsDirty(),r.updateValueAndValidity()),s._isChangeValid()?(e=s._applyTransformation(e=typeof e<"u"?e:s.config.control.value),s.asset.storedValue&&e===s.asset.storedValue?s.log.info("onChange: value is already stored."):s.config.patch&&(s.config.patch.path||s.config.facade)?s._onPatch(e,t).then():yield s.onBubbleEvent("onChange")):yield s.onBubbleEvent("onInvalidChange")}})()}onFocus(){Y(this.config,["control"])&&(this.config.control.dirty||(this.asset.storedValue=this.config.control.value),this.config.message="",this.onBubbleEvent("onFocus"))}onBubbleEvent(e,t=null,o={},s=!1){var r=this;return q(function*(){return new Promise(function(){var a=q(function*(l){if(Y(r.config,!0)){const c={type:"field",name:e,source:r.name};return r.config&&(c.config=r.config),t&&(c.message=t),Object.keys(o).map(A=>{c[A]=o[A]}),It(r.config.onEvent)&&(yield r.config.onEvent(r.core,c)),(r.config.bubble||s)&&(r.log.event("onBubbleEvent",c),r.events.emit(c)),l(c)}return l(null)});return function(l){return a.apply(this,arguments)}}())})()}ngOnDestroy(){this._clearState(),super.ngOnDestroy()}_clearState(){const e=this.config.patch;e&&e.running&&(this.config.control.enable(),e.running=!1)}_beforePatch(){var e=this;return new Promise(function(){var t=q(function*(o){let s=!0;const r=e.config.patch,a=e.config.control;return a.disable(),r.running=!0,e._clearMessage(),It(e.config.patch.before)&&(s=yield e.config.patch.before(e.core,{type:"field",name:"beforePatch",config:e.config,source:e.name,value:a.value},e.dom)),o(s)});return function(o){return t.apply(this,arguments)}}())}_afterPatch(){return new Promise(e=>{const t=this.config.patch;return this.config.control.enable(),t.running=!1,e(!0)})}_onPatch(e,t=!1){var o=this;return q(function*(){const s=o.config.patch;let r=!0;if(!(t||o.config.control.valid&&e!==o.asset.storedValue&&"manual"!==s.trigger))return!1;if(r=yield o._beforePatch(),r)o.config.facade&&!t?o.dom.setTimeout("api-facade",()=>{o._onPatchSuccess({}).then(()=>o._afterPatch())},o.config.patch.duration||0):(o.log.info("onPatch"),o._doPatch(o._getPatchBody(e)));else{const a=o.config.control;kt(o.asset.storedValue)&&It(o.config.setValue)&&o.config.setValue(o.asset.storedValue),a.enable(),s.running=!1}})()}_doPatch(e){const t=this.config.patch.method?this.config.patch.method:"PATCH",o=this.config.patch;o.attempted=!1;const s=!!o.ignore401||null,r=o.version?o.version:1;if(Ne(this.config.patch.path,!0)){const a="PATCH"===t?gt.doPatch(this.config.patch.path,e,r,s,this.config.patch.businessId):gt.doPost(this.config.patch.path,e,r,s,this.config.patch.businessId);this.dom.setSubscriber("api-patch",a.subscribe(l=>{o.attempted=!0,this._onPatchSuccess(l).then(()=>this._afterPatch())},l=>{this._onPatchFail(l).then(()=>this._afterPatch())}))}else this._onPatchSuccess(e).then(()=>this._afterPatch())}_isChangeValid(){const e=this.config.control;return e.invalid?(this.config.displayErrors&&this._setMessage(mp(e.errors)),!1):this._checkPreventValue()}_isFieldPatchable(){return!!this.config.facade||!(!this.config.patch||!this.config.patch.path)}_isFieldChange(e){return"field"===e.type&&("onChange"===e.name||"patch"===e.name)}_applyTransformation(e){return Ne(this.config.transformation,!0)&&(e=ka(String(e),this.config.transformation))!==this.config.control.value&&this.config.control.setValue(e),String(e)}_onPatchSuccess(e){var t=this;return new Promise(function(){var o=q(function*(s){t.log.info("onPatchSuccess");const r=t.config.patch;t.asset.storedValue=t.config.control.value,r.success=!0,r.running=!1,t.dom.state.modified=!1;const l=yield t.onBubbleEvent("patch","Patched.",{success:!0,response:e.data?e.data:e},!0);return Y(t.core,["channel"])&&(t.config.session&&(E4(t.core,l,t.config.sessionPath)?(l.channel||(l.channel=!0,t.core.channel.emit(l)),t.core.repo.clearCache("table","data")):t.log.error(`SessionEntityFieldUpdate:${l.config.name}`,"Session failed")),Y(l.core)&&(l.core=t.core),Rt.get(ul).sendEvent(l)),"function"==typeof r.after&&r.after(t.core,l),t._onPatchSuccessAdditional(),t.dom.setTimeout("patch-success",()=>{r.success=!1},t.config.patch.duration||0),s(!0)});return function(s){return o.apply(this,arguments)}}())}_onPatchSuccessAdditional(){return!0}_onPatchFail(e){var t=this;return new Promise(function(){var o=q(function*(s){t.log.info("onPatchFail");const a=t.config.control;return t.config.patch.running=!1,a.markAsDirty(),t.asset.storedValue&&a.setValue(t.asset.storedValue),a.setErrors({server:!0}),t.config.message=qn(e),yield t.onBubbleEvent("patch",t.config.message,{success:!1,response:e},!0),t._onPatchFailAdditional(),s(!0)});return function(s){return o.apply(this,arguments)}}())}_onPatchFailAdditional(){return!0}_getPatchBody(e){const t={};let o;const s=this.config.patch;return Ne(this.config.patch.jsonColumn)?(t[this.config.patch.jsonColumn]={},o=t[this.config.patch.jsonColumn]):o=t,"null"===(e=typeof e<"u"?e:this.config.control.value)&&(e=null),null!==e&&Y(e)?o={...t,...e}:De(e)?o[this.config.patch.field]=e:"boolean"==typeof e?o[this.config.patch.field]=["binary","number"].includes(this.config.patch.type)?+e:e:(o[this.config.patch.field]=this.config.patch.type?this._getPatchTypeValue(e):e,this.config.empty&&!t[this.config.patch.field]&&(o[this.config.patch.field]=ka(String(e),this.config.empty))),this.config.patch.json&&(t[this.config.patch.field]=JSON.stringify(t[this.config.patch.field])),this.config.patch.suffix&&this.config.suffix&&(e=`${e}${this.config.suffix}`),this.config.patch.prefix&&this.config.prefix&&(e=`${this.config.prefix}${e}`),s&&Y(s.metadata,!0)&&Object.keys(s.metadata).map(r=>{t[r]=s.metadata[r]}),t}_setMessage(e){this.config.message=e}_clearMessage(){this.config.message=""}_getPatchTypeValue(e){let t;switch(this.config.patch.type){case"number":t=Number(e);break;case"string":t=String(e);break;case"binary":t="false"===e?0:"true"===e||e?1:0;break;case"boolean":t=!!e;break;default:t=e}return t}_checkPreventValue(){if(De(this.config.prevent,!0)){const e=this.config.control,t=e.value;return this.config.prevent.filter(s=>s.toLowerCase()===String(t).toLowerCase()).length>0?(e.setErrors({unique:!0}),this._setMessage(mp(e.errors)),!1):(this._clearMessage(),!0)}return!0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-field-item-component"]],hostVars:2,hostBindings:function(e,t){2&e&&St("sw-hidden",t.hidden)},inputs:{position:"position",when:"when",hidden:"hidden"},features:[Re],decls:1,vars:0,template:function(e,t){1&e&&ee(0,"Field Item Component")},encapsulation:2}),i})();const gp=Co("slideInOut",[_n("in",ei({height:"*",opacity:0})),sn(":leave",[ei({height:"*",opacity:1}),qm([Qi(300,ei({height:0})),Qi("200ms ease-in-out",ei({opacity:"0"}))])]),sn(":enter",[ei({height:"0",opacity:0}),qm([Qi(300,ei({height:"*"})),Qi("400ms ease-in-out",ei({opacity:"1"}))])])]),oy=Co("fadeInOut",[_n("in",ei({opacity:1})),sn(":enter",[ei({opacity:0}),Qi(600)]),sn(":leave",Qi(600,ei({opacity:0})))]);function ghe(i,n){1&i&&me(0,"mat-progress-bar",1),2&i&&et("height",1,"px")}let qo=(()=>{class i{constructor(){this.show=!1}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-field-item-loader"]],inputs:{show:"show"},decls:1,vars:1,consts:[["class","pop-field-item-loader","mode","query",3,"height",4,"ngIf"],["mode","query",1,"pop-field-item-loader"]],template:function(e,t){1&e&&$(0,ghe,1,2,"mat-progress-bar",0),2&e&&g("ngIf",t.show)},dependencies:[ct,ws],styles:["[_nghost-%COMP%]{position:absolute;bottom:0;left:2px;right:2px}"]}),i})();function _he(i,n){if(1&i){const e=Me();x(0,"span",1),ie("mouseenter",function(){return he(e),pe(I().helper=!0)})("mouseleave",function(){return he(e),pe(I().helper=!1)}),ee(1,"help_outline "),C()}2&i&&Ei("matTooltip",I().helpText)}let Ia=(()=>{class i{constructor(){this.hidden=!1,this.helpText||(this.helpText="")}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-field-item-helper"]],hostVars:2,hostBindings:function(e,t){2&e&&St("sw-hidden",t.hidden)},inputs:{helpText:"helpText",hidden:"hidden"},decls:1,vars:1,consts:[["class","pop-field-item-help-text material-icons sw-pointer","matTooltipPosition","above",3,"matTooltip","mouseenter","mouseleave",4,"ngIf"],["matTooltipPosition","above",1,"pop-field-item-help-text","material-icons","sw-pointer",3,"matTooltip","mouseenter","mouseleave"]],template:function(e,t){1&e&&$(0,_he,2,1,"span",0),2&e&&g("ngIf",!t.hidden&&t.helpText)},dependencies:[ct,Pn],styles:[".pop-field-item-help-text[_ngcontent-%COMP%]{position:relative;font-size:1.5em;color:var(--text-disabled);z-index:2}"]}),i})();function bhe(i,n){1&i&&(x(0,"div",1)(1,"mat-icon",2),ee(2,"error"),C()()),2&i&&g("matTooltip",I().message)}let hl=(()=>{class i{constructor(){this.hidden=!1,this.message||(this.message="")}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-field-item-error"]],hostVars:2,hostBindings:function(e,t){2&e&&St("sw-hidden",t.hidden)},inputs:{message:"message",hidden:"hidden"},decls:1,vars:1,consts:[["class","sw-pointer pop-field-item-error","matTooltipPosition","left",3,"matTooltip",4,"ngIf"],["matTooltipPosition","left",1,"sw-pointer","pop-field-item-error",3,"matTooltip"],["color","warn"]],template:function(e,t){1&e&&$(0,bhe,3,1,"div",0),2&e&&g("ngIf",!t.hidden&&t.message)},dependencies:[ct,wi,Pn],styles:[".pop-field-item-error[_ngcontent-%COMP%]{width:20px;height:20px;font-size:1.1em;z-index:2}"]}),i})();const vhe=["inputField"];function yhe(i,n){if(1&i&&(x(0,"mat-label"),ee(1),C()),2&i){const e=I();_(1),Mt("",null==e.config?null:e.config.label," ")}}function xhe(i,n){if(1&i&&(x(0,"div",12),me(1,"lib-pop-field-item-error",13)(2,"lib-pop-field-item-helper",14),C()),2&i){const e=I();_(1),g("hidden",!e.config.message)("message",e.config.message),_(1),g("hidden",e.config.message&&!e.config.selectMode)("helpText",e.config.helpText)}}const B4=function(i,n){return{"sw-pointer":i,"select-with-feedback":n}};function Che(i,n){if(1&i&&(x(0,"div",12)(1,"div",15)(2,"mat-icon"),ee(3),C()(),me(4,"lib-pop-field-item-error",13)(5,"lib-pop-field-item-helper",14),C()),2&i){const e=I();_(1),g("ngClass",Ii(6,B4,"DISABLED"!==(null==e.config||null==e.config.control?null:e.config.control.status),e.config.message||e.config.helpText)),_(2),Mt("arrow_drop_",null==e.config?null:e.config.selectModeOptionsDirection,""),_(1),g("hidden",!e.config.message)("message",e.config.message),_(1),g("hidden",e.config.message)("helpText",e.config.helpText)}}function whe(i,n){if(1&i&&(x(0,"div",12)(1,"div",16)(2,"mat-icon"),ee(3),C()()()),2&i){const e=I();_(1),g("ngClass",Ii(2,B4,"DISABLED"!==(null==e.config||null==e.config.control?null:e.config.control.status),e.config.message||e.config.helpText)),_(2),Mt("arrow_drop_",null==e.config?null:e.config.selectModeOptionsDirection,"")}}const khe=function(i){return{"hint-disabled":i}};function Ihe(i,n){if(1&i&&(x(0,"mat-hint",17),ee(1),C()),2&i){const e=I();g("ngClass",qe(2,khe,"DISABLED"===e.config.control.status)),_(1),Je(e.config.hintText)}}function Ahe(i,n){1&i&&(x(0,"mat-hint",18),ee(1,"Required"),C())}function She(i,n){if(1&i&&(x(0,"mat-error",19),ee(1),C()),2&i){const e=I();_(1),Mt(" ",e.config.message," ")}}function Mhe(i,n){if(1&i&&(x(0,"span",20),ee(1),C()),2&i){const e=I();_(1),k0("",e.config.prefix,"",""==e.config.control.value?"{value}":e.config.control.value,"",e.config.suffix,"")}}function Phe(i,n){if(1&i&&(x(0,"span",21),ee(1),C()),2&i){const e=I();_(1),fc("",(null==e.config.control.value?null:e.config.control.value.length)||0,"/",e.config.maxlength,"")}}const The=function(i,n,e,t,o){return{"pop-input-minimal":i,"pop-input-hint":n,"pop-input-default":e,"pop-input-readonly":t,"pop-input-select":o}},Ehe=function(i,n,e){return{"sw-dot-font":i,"sw-pointer":n,"pop-input-select":e}};let an=(()=>{class i extends Io{constructor(e){var t;super(),t=this,this.el=e,this.config=new li,this.name="PopInputComponent",this.dom.configure=()=>new Promise(function(){var o=q(function*(s){return yield t._setInitialConfig(),s(!0)});return function(s){return o.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var o=q(function*(s){return t.config.triggerInitialValue&&t.dom.setTimeout("trigger-initial-value",()=>{t.config.triggerOnChange(t.config.value,!1)}),s(!0)});return function(s){return o.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onKeyUp(e){var t=this;if("Enter"===e.code)this.config.control.invalid?this.config.displayErrors&&this._setMessage(mp(this.config.control.errors)):(this._clearMessage(),this.config.patch&&(this.config.patch.path||this.config.facade)&&this.config.control.value!==this.asset.storedValue&&this._isFieldPatchable()&&this.onChange(),this.config.tabOnEnter?this.dom.focusNextInput(this.el):this.onBubbleEvent("onEnter"),It(this.config.onEnter)&&this.dom.setTimeout("on-enter",q(function*(){yield t.config.onEnter(t.core,{type:"field",name:"onEnter",source:t.name,value:t.config.control.value,config:t.config})}),250));else if(!this.config.mask&&this.config.pattern&&this.config.pattern.length>0){const o=Ps(this.config.pattern,"value",this.config.control.value);o!==this.config.control.value&&this.config.control.setValue(o),this.config.control.touched&&this._isChangeValid()?this._clearMessage():De(this.config.prevent,!0)&&this._isChangeValid(),this.dom.state.modified=!0,this.onBubbleEvent("onKeyUp")}else this.config.control.touched&&this._isChangeValid()?this._clearMessage():De(this.config.prevent,!0)&&this._isChangeValid(),this.dom.state.modified=!0,this.onBubbleEvent("onKeyUp")}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.config.autofocus?e.inputField.nativeElement.focus():e.config.autoselect&&(e.inputField.nativeElement.focus(),e.inputField.nativeElement.select()),e.config.triggerOnChange=(s,r=!1)=>{e.dom.setTimeout("config-trigger-change",()=>{e.onChange(s,r)},0)},e.config.setValue=(s,r=!1)=>{e.config.value=s,e.config.control.setValue(s,{emitEvent:!1})},e.config.triggerFocus=()=>{e.dom.setTimeout("config-trigger-focus",()=>{e.inputField.nativeElement.focus(),e.inputField.nativeElement.select()},0)},e.config.triggerDirectPatch=s=>{e.dom.setTimeout("config-trigger-patch",()=>{e._onPatch(s,!0)},0)},e.config.clearMessage=()=>{e.dom.setTimeout("config-clear-message",()=>{e.config.message="",e.config.control.markAsPristine(),e.config.control.markAsUntouched()},0)},e.config.setType=s=>{e.dom.setTimeout("config-set-type",()=>{e.config.type=s},0)},e.dom.state.modified=!1,e.asset.storedvalue=e.config.control.value,o(!0)});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-input"]],viewQuery:function(e,t){if(1&e&&ht(vhe,7),2&e){let o;Ke(o=Ye())&&(t.inputField=o.first)}},inputs:{config:"config"},features:[Re],decls:14,vars:31,consts:[[1,"sw-field-item-container","pop-input-container",3,"ngClass"],["appearance","outline","color","accent",1,"sw-field-item-container-expansion",3,"title"],[4,"ngIf"],["matInput","","matTooltipClass","pop-input-tooltip-background",3,"ngClass","maxlength","readonly","type","formControl","mask","specialCharacters","dropSpecialCharacters","showMaskTyped","keyup","blur","focus"],["inputField",""],["class","pop-input-feedback-container","matSuffix","",4,"ngIf"],["class","pop-input-btm-lft-hint",3,"ngClass",4,"ngIf"],["class","pop-input-btm-lft-hint",4,"ngIf"],["class","pop-input-btm-lft-error",4,"ngIf"],["class","pop-input-btm-rgt-hint",4,"ngIf"],["class","pop-input-suffix",4,"ngIf"],[3,"show"],["matSuffix","",1,"pop-input-feedback-container"],[1,"pop-input-error",3,"hidden","message"],[1,"pop-input-helper",3,"hidden","helpText"],[1,"pop-input-select-icon",3,"ngClass"],[1,"pop-input-select-icon","sw-mar-top-xs",3,"ngClass"],[1,"pop-input-btm-lft-hint",3,"ngClass"],[1,"pop-input-btm-lft-hint"],[1,"pop-input-btm-lft-error"],[1,"pop-input-btm-rgt-hint"],[1,"pop-input-suffix"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"mat-form-field",1),$(2,yhe,2,1,"mat-label",2),x(3,"input",3,4),ie("keyup",function(s){return t.onKeyUp(s)})("blur",function(){return t.dom.state.hint=!1,t.onBlur()})("focus",function(){return t.dom.state.hint=!0,t.onFocus()}),C(),$(5,xhe,3,4,"div",5),$(6,Che,6,9,"div",5),$(7,whe,4,5,"div",5),$(8,Ihe,2,4,"mat-hint",6),$(9,Ahe,2,0,"mat-hint",7),$(10,She,2,1,"mat-error",8),C(),$(11,Mhe,2,3,"span",9),$(12,Phe,2,2,"span",10),me(13,"lib-pop-field-item-loader",11),C()),2&e&&(g("ngClass",sm(21,The,t.config.minimal,t.config.prefix||t.config.suffix,!t.config.hint&&!t.config.minimal,t.config.readonly,t.config.selectMode)),_(1),g("title",null==t.config?null:t.config.tooltip),_(1),g("ngIf",null==t.config?null:t.config.label),_(1),g("ngClass",fs(27,Ehe,t.config.conceal,t.config.selectMode&&"DISABLED"!==(null==t.config||null==t.config.control?null:t.config.control.status),t.config.selectMode&&"DISABLED"!==(null==t.config||null==t.config.control?null:t.config.control.status)))("maxlength",t.config.maxlength)("readonly",t.config.readonly)("type",t.config.type)("formControl",t.config.control)("mask",t.config.mask)("specialCharacters",t.config.specialChars)("dropSpecialCharacters",t.config.dropSpecial)("showMaskTyped",t.config.showMask),_(2),g("ngIf",!t.config.minimal&&!t.config.selectMode),_(1),g("ngIf",!t.config.minimal&&t.config.selectMode),_(1),g("ngIf",t.config.minimal&&t.config.selectMode),_(1),g("ngIf",t.config.hint&&t.config.hintText&&t.dom.state.hint),_(1),g("ngIf",t.config.hint&&t.config.required&&t.dom.state.hint&&!t.config.hintText),_(1),g("ngIf",t.config.hint&&t.config.message),_(1),g("ngIf",t.dom.state.hint&&(t.config.suffix||t.config.prefix)),_(1),g("ngIf",t.config.hint&&t.dom.state.hint&&t.config.maxlength),_(1),g("show",t.config.patch.displayIndicator&&t.config.patch.running))},dependencies:[Gt,ct,$s,$o,ff,sr,Wr,ks,js,ov,jte,Ac,wi,Bae,qo,Ia,hl],styles:[".pop-input-feedback-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:-4px;width:20px;height:20px;right:3px}.pop-input-select-icon[_ngcontent-%COMP%]{position:absolute;right:-2px;z-index:2;color:var(--text-disabled)}.pop-input-error[_ngcontent-%COMP%]{position:absolute;top:-2px;font-size:.8em;left:2px;z-index:3}.pop-input-helper[_ngcontent-%COMP%]{position:absolute;top:5px;font-size:.8em;left:2px;z-index:2}.pop-input-btm-lft-hint[_ngcontent-%COMP%], .pop-input-btm-lft-error[_ngcontent-%COMP%]{position:relative;color:var(--foreground-disabled);font-size:10px;right:10px;top:1px;margin-left:var(--gap-s);background-color:var(--background-base);padding:0 1px;width:-webkit-max-content;width:-moz-max-content;width:max-content;color:var(--accent);border-radius:3px}.pop-input-btm-rgt-hint[_ngcontent-%COMP%]{color:var(--accent);position:absolute;top:-2px;right:10px;font-size:10px;padding:0 1px;background-color:var(--background-base)}.pop-input-btm-lft-error[_ngcontent-%COMP%]{color:var(--warn)}.pop-input-suffix[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:-4px;background-color:var(--background-base);padding:0 1px;color:var(--accent);font-size:10px;border-radius:3px}.pop-input-prefix[_ngcontent-%COMP%]{position:absolute;left:0;bottom:4px;color:var(--foreground-disabled)}.pop-input-minimal[_ngcontent-%COMP%]{min-height:32px!important;height:32px}.pop-input-minimal[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{height:32px!important}.pop-input-minimal[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]   .mat-mdc-form-field-flex[_ngcontent-%COMP%]   .mat-mdc-floating-label[_ngcontent-%COMP%]{top:30px!important}.pop-input-minimal[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{height:32px!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper, .pop-input-container-minimal[_ngcontent-%COMP%]   .mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0;margin:0!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{margin-top:8px!important}[_nghost-%COMP%]     .mat-mdc-form-field-infix{width:0!important}[_nghost-%COMP%]     .mat-form-field-flex{margin-top:0!important}[_nghost-%COMP%]     .pop-input-default .mat-form-field-appearance-outline .mat-mdc-form-field-infix{padding:8px 0 13px}[_nghost-%COMP%]     .pop-input-minimal .mat-form-field-appearance-outline .mat-mdc-form-field-infix{padding:5px 0}[_nghost-%COMP%]     .pop-input-hint .mat-form-field-appearance-outline .mat-mdc-form-field-infix{padding:8px 0 13px!important}[_nghost-%COMP%]     .pop-input-minimal .mat-mdc-form-field-infix{padding-right:2px!important}[_nghost-%COMP%]     .select-with-feedback{left:-15px}[_nghost-%COMP%]     .mat-mdc-form-field-prefix{position:relative;top:0;left:-2px}[_nghost-%COMP%]     .mat-mdc-form-field-suffix{position:relative;top:0}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{max-height:40px;background-color:var(--background-base)}[_nghost-%COMP%]     .mat-form-field-label-wrapper{overflow:visible}"],data:{animation:[gp]}}),i})();function Dhe(i,n){if(1&i){const e=Me();x(0,"lib-pop-input",4),ie("click",function(o){return he(e),pe(I().onShowOptionList(o))}),C()}if(2&i){const e=I();g("config",null==e.ui||null==e.ui.selected?null:e.ui.selected.config)}}const Ohe=function(i){return{"pop-select-option-status-link sw-pointer":i}};function Rhe(i,n){if(1&i){const e=Me();x(0,"span",16),ie("click",function(o){he(e);const s=I(2).$implicit,r=I(2);return o.stopPropagation(),pe(r.onOptionStatusLink(s))}),ee(1),C()}if(2&i){const e=I(2).$implicit;g("ngClass",qe(2,Ohe,e.statusLink)),_(1),Je(e.status)}}function Fhe(i,n){if(1&i){const e=Me();x(0,"span",17),ie("click",function(o){he(e);const s=I(2).$implicit,r=I(2);return o.stopPropagation(),pe(r.setEditConfig(s))}),ee(1,"Edit"),C()}}const Lhe=function(i){return{"sw-disabled":i}};function Nhe(i,n){if(1&i&&(x(0,"div",13)(1,"span",5),ee(2),C(),$(3,Rhe,2,4,"span",14),x(4,"div"),$(5,Fhe,2,0,"span",15),C()()),2&i){const e=I().$implicit,t=I(2);_(1),g("ngClass",qe(4,Lhe,e.disabled)),_(1),Je(e.name),_(1),g("ngIf",e.status),_(2),g("ngIf",t.dom.state.showEdit&&e.name)}}function Bhe(i,n){if(1&i){const e=Me();x(0,"div")(1,"form",18),ie("submit",function(){he(e);const o=I().$implicit;return pe(I(2).onEditOption(o))})("keydown.enter",function(){he(e);const o=I().$implicit;return pe(I(2).onEditOption(o))}),me(2,"lib-pop-input",19),x(3,"button",20),ie("click",function(o){he(e);const s=I().$implicit,r=I(2);return o.stopPropagation(),pe(r.onEditOption(s))}),x(4,"i",21),ee(5," done "),C()(),x(6,"button",22),ie("click",function(o){he(e);const s=I(3);return o.stopPropagation(),pe(s.onCancelEditOption())}),x(7,"i",21),ee(8," clear "),C()()()()}if(2&i){const e=I(3);_(2),et("width",100,"%"),g("config",e.ui.editOptionConfig)}}const Vhe=function(i,n,e){return{"pop-select-items-active":i,"pop-select-level-1":n,"pop-select-level-2":e}};function $he(i,n){if(1&i){const e=Me();x(0,"div",10),ie("click",function(){const s=he(e).$implicit;return pe(I(2).onSelectOption(s))}),$(1,Nhe,6,6,"div",11),$(2,Bhe,9,3,"div",12),C()}if(2&i){const e=n.$implicit,t=I(2);g("ngClass",fs(3,Vhe,e.value===t.ui.selected.value,1===e.level,2===e.level)),_(1),g("ngIf",t.dom.state.showEditInput!=e.value),_(1),g("ngIf",e.value&&t.dom.state.showEditInput==e.value)}}function Hhe(i,n){if(1&i){const e=Me();x(0,"div",23),ie("click",function(){return he(e),pe(I(2).onCreateNew())}),x(1,"div"),ee(2),C(),x(3,"mat-icon"),ee(4,"add"),C()()}if(2&i){const e=I(2);_(1),et("margin-top",3,"px"),_(1),Je(e.config.createNewText)}}function zhe(i,n){if(1&i){const e=Me();x(0,"div",23),ie("click",function(o){he(e);const s=I(2);return o.stopPropagation(),pe(s.onShowTagInput())}),x(1,"div"),ee(2),C(),x(3,"mat-icon"),ee(4,"add"),C()()}if(2&i){const e=I(2);_(1),et("margin-top",3,"px"),_(1),Je(e.config.createTagText)}}function jhe(i,n){if(1&i){const e=Me();x(0,"div",24)(1,"mat-form-field",25)(2,"mat-label"),ee(3),C(),me(4,"input",26),C(),x(5,"button",27),ie("click",function(o){he(e);const s=I(2);return o.stopPropagation(),pe(s.onCreateTag())}),x(6,"i",28),ee(7," done "),C()(),x(8,"button",29),ie("click",function(o){he(e);const s=I(2);return o.stopPropagation(),pe(s.onCancelTag())}),x(9,"i",28),ee(10," clear "),C()()()}if(2&i){const e=I(2);_(3),Je(e.config.createTagText),_(1),g("placeholder",e.config.createTagText)("formControl",e.ui.createNewInputConfig.control),_(1),g("disabled",!e.ui.createNewInputConfig.control.value)}}const Ghe=function(i,n){return{"pop-select-items-box-bottom":i,"pop-select-items-box-top":n}};function Whe(i,n){if(1&i&&(x(0,"div",5)(1,"div",6),$(2,$he,3,7,"div",7),C(),$(3,Hhe,5,3,"div",8),$(4,zhe,5,3,"div",8),$(5,jhe,11,4,"div",9),C()),2&i){const e=I();et("max-height",e.config.height,"px")("top",e.ui.optionsTopPos),g("ngClass",Ii(9,Ghe,e.dom.state.displayBottom,!e.dom.state.displayBottom)),_(2),g("ngForOf",null==e.config?null:e.config.options.values),_(1),g("ngIf",e.config.createNew&&!e.dom.state.showTagInput),_(1),g("ngIf",e.config.createTag&&!e.dom.state.showTagInput),_(1),g("ngIf",e.dom.state.showTagInput)}}const Uhe=function(i,n,e,t){return{"pop-select-container-minimal":i,"pop-select-readonly":n,"pop-select-opened-top":e,"pop-select-opened-bottom":t}};let In=(()=>{class i extends Io{onEscapeHandler(e){this.onClickOutsideBoundary()}constructor(e){var t;super(),t=this,this.el=e,this.config=new Zi,this.name="PopSelectComponent",this.ui={selected:{value:void 0,config:void 0},createNewInputConfig:void 0,editOptionConfig:void 0,optionsTopPos:"56px"},this.dom.configure=()=>new Promise(function(){var o=q(function*(s){return yield Promise.all([t._setInitialConfig(),t._setConfigHooks(),t._initialFauxControl()]),s(!0)});return function(s){return o.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(o=>(this.dom.setTimeout("check-existing-value",()=>{this.config.triggerInitialValue?this.config.triggerOnChange(this.config.value):!this.config.control.value&&this.config.autoFill&&this.config.required&&1===this.config.options.values.length&&It(this.config.triggerOnChange)&&this.config.triggerOnChange(this.config.options.values[0].value)},0),o(!0)))}ngOnInit(){super.ngOnInit()}onSelectOption(e){Y(e,["value"])&&!e.disabled&&(this.log.info("onSelectOption",e.value),this.config.control.setValue(e.value),this.ui.selected.value=e.value,this.dom.state.displayItems=!1,this.ui.selected.config.label=this.config.label,this.dom.state.modified=!0,this.onChange())}onShowOptionList(e){if(!this.config.toggleLock&&!this.config.readonly&&!this.config.disabled&&"DISABLED"!==this.config.control.status){if("down"===this.config.listDirectionFixed)this.dom.state.displayBottom=!0;else if("up"===this.config.listDirectionFixed)this.dom.state.displayBottom=!1;else{const t=window.innerHeight/3;this.dom.state.displayBottom=e.clientY<2*t}if(this.dom.state.displayBottom)this.ui.optionsTopPos="40px",this.ui.selected.config.selectModeOptionsDirection="down";else{let t=20+21*this.config.options.values.length;t=this.config.createNew?t>224?224:t:t>242?242:t,this.ui.optionsTopPos=`-${t}px`,this.ui.selected.config.label=" ",this.ui.selected.config.selectModeOptionsDirection="up"}this.dom.state.displayItems?(this.dom.state.displayItems=!1,this.ui.selected.config.label=this.config.label,this.onBubbleEvent("onBlur")):(this.dom.state.displayItems=!0,this.onFocus())}}onOptionStatusLink(e){this.onBubbleEvent("status-link","",{option:e},!0)}onClickOutsideBoundary(){this.config.toggleLock||(this.dom.state.displayItems=!1,this.ui.selected.config.label=this.config.label,this.dom.state.showEditInput="",this.dom.state.showInput=!1,this.ui.createNewInputConfig&&this.ui.createNewInputConfig.control.setValue(""))}onCreateNew(){this.onBubbleEvent("create-new","On Create New",{},!0)}onShowTagInput(){this.dom.state.showEditInput=null,this.dom.state.showTagInput=!0}onCloseTagInput(){this.ui.createNewInputConfig.control.setValue(""),this.dom.state.showInput=!1,this.dom.state.showTagInput=!1}onCreateTag(){var e=this;return q(function*(){let t=!0;const o=e.ui.createNewInputConfig.control.value;o&&(It(e.config.createTagCheck)&&(t=yield e.config.createTagCheck(e.core,{source:e.name,type:"field",name:"create-tag-check",value:e.ui.createNewInputConfig.control.value})),t?(yield e.onBubbleEvent("create-new","On Create New",{data:o},!0),e.onCloseTagInput()):e.ui.createNewInputConfig.message||(e.ui.createNewInputConfig.message="Something is wrong!"))})()}onCancelTag(){var e=this;return q(function*(){e.ui.createNewInputConfig.control.setValue(""),e.dom.state.showTagInput=!1})()}onEditOption(e){this.log.info("onEditOption",e),e.name=this.ui.editOptionConfig.control.value,this.onBubbleEvent("edit-option","On Edit Option",{data:e},!0),this.dom.state.showEditInput="",this.dom.setTimeout("trigger-edit-focus",()=>{this.ui.editOptionConfig.triggerFocus()},200)}onCancelEditOption(){this.log.info("onCancelEditOption"),this.dom.state.showEditInput=null,this.dom.setTimeout("trigger-edit-focus",null)}setEditConfig(e){this.dom.state.showTagInput=!1,this.dom.state.showEditInput=e.value,this.ui.editOptionConfig.control.setValue(e.name)}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){return new Promise(e=>(this.dom.state.displayItems=!1,this.dom.state.displayBottom=!0,this.dom.state.showInput=!1,this.dom.state.showEdit=!1,this.dom.state.showEditInput="",kt(this.config.value)&&(this.ui.selected.value=this.config.value),this.config=Ai(this.config,!0,"Config required")?this.config:null,this.id=this.config.name,this.config.createTag&&(this.ui.createNewInputConfig=new li({displayErrors:!1,label:this.config.createTagText,readonly:!0,minimal:!0,maxlength:255})),De(this.config.createNewActions,!0)&&(this.dom.state.showEdit=this.config.createNewActions.includes("edit"),this.dom.state.showEdit&&(this.ui.editOptionConfig=new li({displayErrors:!1,label:this.config.createNewText,minimal:!0,readonly:!1,required:!0,maxlength:255}))),e(!0)))}_setConfigHooks(){return new Promise(e=>(this.config.triggerOnChange=t=>{this.dom.setTimeout("config-trigger-change",()=>{this._setStrVal(t),this.onChange(t,!0)},0)},this.config.setValue=t=>{this.dom.setTimeout("config-set-value",()=>{const o=this.config.control;typeof t<"u"&&(o.setValue(t,{emitEvent:!1}),o.markAsDirty(),o.updateValueAndValidity()),this._isChangeValid()&&(this.asset.storedValue=t,this._setStrVal(t),t&&(this.ui.selected.value=t))},0)},this.config.clearMessage=()=>{this.dom.setTimeout("config-clear-message",()=>{this.config.message="",this.config.control.markAsPristine(),this.config.control.markAsUntouched()},0)},this.config.updateOption=t=>{const o=this.config.options.values.findIndex(s=>s.value===t.value);o>-1&&(this.config.options.values[o].name=t.name),this.ui.selected.value&&this._setStrVal(this.ui.selected.value)},this.config.addOption=(t,o=!1)=>{-1===this.config.options.values.findIndex(r=>r.value===t.value)&&(this.config.options.values.push(t),this.config.options.sort&&this.config.options.values.sort((r,a)=>r.name<a.name?-1:r.name>a.name?1:0)),o&&this.config.triggerOnChange(t.value)},e(!0)))}_initialFauxControl(){return new Promise(e=>(this.ui.selected.config=new li({value:"",disabled:this.config.disabled?this.config.disabled:null,helpText:this.config.helpText,displayErrors:!1,label:this.config.label,readonly:!0,selectMode:!0,minimal:this.config.minimal,maxlength:65e3}),this._setStrVal(this.config.value),this.dom.setSubscriber("value-changes",this.config.control.valueChanges.subscribe(t=>{this._setStrVal(t)})),this.dom.setSubscriber("status-changes",this.config.control.statusChanges.subscribe(t=>{this.ui.selected.config.control.status=t})),e(!0)))}_setStrVal(e){if(e||""==e){const t=this.config.options.values.find(o=>o.value===e);Y(t,["name"])?(this.log.info("_setStrVal for: ",{value:e,selected:t}),this.ui.selected.config.control.setValue(t.name)):this.ui.selected.config.control.setValue("")}else this.ui.selected.config.control.setValue(null)}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-select"]],hostBindings:function(e,t){1&e&&ie("keydown.escape",function(s){return t.onEscapeHandler(s)},0,xr)},inputs:{config:"config"},features:[Re],decls:4,vars:12,consts:[[3,"ngClass","libClickOutside"],["class","pop-select-faux",3,"config","click",4,"ngIf"],[3,"maxHeight","ngClass","top",4,"ngIf"],[3,"show"],[1,"pop-select-faux",3,"config","click"],[3,"ngClass"],[1,"pop-select-items-wrapper"],["class","pop-select-items",3,"ngClass","click",4,"ngFor","ngForOf"],["class","pop-select-create-new sw-header-5",3,"click",4,"ngIf"],["class","sw-flex-row pop-select-create-new-wrapper",4,"ngIf"],[1,"pop-select-items",3,"ngClass","click"],["class","sw-flex-between-center sw-flex-row",4,"ngIf"],[4,"ngIf"],[1,"sw-flex-between-center","sw-flex-row"],["class","pop-select-option-status",3,"ngClass","click",4,"ngIf"],["class","pop-select-option-status-link",3,"click",4,"ngIf"],[1,"pop-select-option-status",3,"ngClass","click"],[1,"pop-select-option-status-link",3,"click"],[1,"sw-flex-row","pop-select-edit-wrapper",3,"submit","keydown.enter"],[3,"config"],["type","button","isIconButton","true","mat-raised-button","","color","accent",1,"pop-select-option-submit","sw-top-sm",3,"click"],[1,"material-icons","sw-btn-txt-sm"],["type","button","mat-raised-button","",1,"pop-select-option-submit","sw-top-sm",3,"click"],[1,"pop-select-create-new","sw-header-5",3,"click"],[1,"sw-flex-row","pop-select-create-new-wrapper"],["appearance","outline"],["matInput","","type","text",1,"sw-pointer",3,"placeholder","formControl"],["type","button","mat-raised-button","","color","accent",3,"disabled","click"],[1,"material-icons"],["type","button","mat-raised-button","",3,"click"]],template:function(e,t){1&e&&(x(0,"div",0),ie("libClickOutside",function(){return t.onClickOutsideBoundary()}),$(1,Dhe,1,1,"lib-pop-input",1),$(2,Whe,6,12,"div",2),me(3,"lib-pop-field-item-loader",3),C()),2&e&&(hs("sw-field-item-container pop-select-container pop-select-mode-",t.config.mode,""),g("ngClass",ph(7,Uhe,t.config.minimal,t.config.readonly,t.dom.state.displayItems&&!t.dom.state.displayBottom,t.dom.state.displayItems&&t.dom.state.displayBottom)),_(1),g("ngIf",null==t.ui||null==t.ui.selected?null:t.ui.selected.config),_(1),g("ngIf",t.dom.state.displayItems),_(1),g("show",(null==t.config?null:t.config.patch.displayIndicator)&&(null==t.config?null:t.config.patch.running)))},styles:[".pop-select-container[_ngcontent-%COMP%]{position:relative;display:block;top:1px}.pop-select-container-minimal[_ngcontent-%COMP%]{height:32px!important}.host[_ngcontent-%COMP%]   .sw-disabled[_ngcontent-%COMP%]   lib-pop-input[_ngcontent-%COMP%]{opacity:.5!important;pointer-events:none!important}.pop-select-items-wrapper[_ngcontent-%COMP%]{max-height:500px;margin:0;padding:0!important;overflow-y:scroll}.pop-select-create-new-wrapper[_ngcontent-%COMP%]{padding:var(--gap-s);gap:var(--gap-s)}.pop-select-create-new-wrapper[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}.pop-select-create-new-wrapper[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-form-field-appearance-outline[_ngcontent-%COMP%]{height:20px!important}.pop-select-edit-wrapper[_ngcontent-%COMP%]{gap:var(--gap-s)}.pop-select-edit-wrapper[_ngcontent-%COMP%]   .pop-input-container[_ngcontent-%COMP%]{margin-top:0!important}.pop-select-option-submit[_ngcontent-%COMP%]{position:relative;z-index:3;pointer-events:all}.pop-select-container-expansion[_ngcontent-%COMP%]{position:absolute!important;inset:-1px 0 0;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;-moz-box-sizing:border-box}.pop-select-feedback[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:0;width:12px;height:20px}.pop-select-helper[_ngcontent-%COMP%]{position:absolute;top:7px;right:30px;font-size:.8em}.pop-select-error[_ngcontent-%COMP%]{top:-1px;position:relative;font-size:.8em;left:4px}.pop-select-items-box-bottom[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:absolute;width:100%;min-height:var(--field-min-height);max-width:var(--field-max-width);border:1px solid var(--background-border);z-index:1000;background-color:var(--background-base);overflow-y:scroll;-webkit-box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 0 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);box-shadow:0 4px 5px #00000024,0 1px #0000001f,0 2px 4px -1px #0003}.pop-select-items-box-top[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:absolute;width:100%;min-height:var(--field-min-height);max-width:var(--field-max-width);border:1px solid var(--background-border);z-index:1000;background-color:var(--background-base);overflow-y:scroll;-webkit-box-shadow:-1px -4px 5px 0 rgba(0,0,0,.14),1px 1px 0px 0 rgba(0,0,0,.12),1px -1px 4px -1px rgba(0,0,0,.2);box-shadow:-1px -4px 5px #00000024,1px 1px #0000001f,1px -1px 4px -1px #0003}.pop-select-option-status[_ngcontent-%COMP%]{position:absolute;top:4px;font-size:.9em;right:var(--gap-s);color:var(--disabled)}.pop-select-option-status-link[_ngcontent-%COMP%]{color:var(--accent)!important;cursor:pointer;pointer-events:all!important;z-index:3!important}.pop-select-items[_ngcontent-%COMP%]{position:relative;padding:5px 10px;font-size:14px;background-color:var(--background-base);cursor:pointer}.pop-select-items[_ngcontent-%COMP%]:last-of-type{padding-bottom:5px}.pop-select-level-1[_ngcontent-%COMP%]{padding-left:var(--gap-lm)}.pop-select-level-2[_ngcontent-%COMP%]{padding-left:var(--gap-xl)}.pop-select-items[_ngcontent-%COMP%]:hover, .pop-select-items-active[_ngcontent-%COMP%]{background-color:var(--background-main-menu)}.pop-select-create-new[_ngcontent-%COMP%]{color:var(--accent-800);padding:0 0 var(--gap-xs) var(--gap-xs);cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pop-select-create-new[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:6px;left:2px;font-size:1em}[_nghost-%COMP%]     .pop-select-container-minimal.sw-field-item-container{min-height:0!important;height:38px!important;margin-top:0}[_nghost-%COMP%]     .pop-input-container{margin-top:0!important}[_nghost-%COMP%]     .mat-form-field-infix{position:relative;width:0!important;padding:4px 0 5px;top:2px}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:0;margin:0!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-select-value{padding-right:40px}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix .mat-select-arrow{margin-top:5px}[_nghost-%COMP%]     .pop-select-mode-label .mat-select-arrow{display:none!important}button[_ngcontent-%COMP%]{min-width:30px!important;height:25px;padding:0!important}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}"]}),i})();const Zhe=["selectionList"];function Khe(i,n){if(1&i){const e=Me();x(0,"lib-pop-input",6),ie("click",function(o){return he(e),pe(I().onShowList(o))}),C()}if(2&i){const e=I();g("config",null==e.ui||null==e.ui.selected?null:e.ui.selected.config)}}function Yhe(i,n){if(1&i&&(x(0,"span",10),ee(1),C()),2&i){const e=I().$implicit;_(1),Je(e.status)}}const Xhe=function(i,n){return{"sw-hidden":i,"pop-select-multi-active":n}};function qhe(i,n){if(1&i){const e=Me();x(0,"div",7)(1,"mat-list-option",8),ie("click",function(){return he(e),pe(I().onSelectOption())}),ee(2),C(),$(3,Yhe,2,1,"span",9),C()}if(2&i){const e=n.$implicit,t=I();_(1),g("checkboxPosition","before")("ngClass",Ii(6,Xhe,e.hidden,t.dom.active.optionId&&e.value===t.dom.active.optionId))("selected",e.selected)("value",e.value),_(1),Mt(" ",e.name," "),_(1),g("ngIf",e.status)}}const Jhe=function(i,n,e){return{"pop-select-container-minimal":i,"pop-select-multi-opened-top":n,"pop-select-multi-opened-bottom":e}},Qhe=function(i){return{visibility:i}},epe=function(i,n){return{"pop-select-multi-items-box-bottom":i,"pop-select-multi-items-box-top":n}};let sy=(()=>{class i extends Io{onEscapeHandler(e){this.onClickOutsideBoundary()}constructor(e){var t;super(),t=this,this.el=e,this.name="PopSelectMultiComponent",this.ui={selected:{config:void 0,count:0},optionsTopPos:"-5px"},this.dom.configure=()=>new Promise(function(){var o=q(function*(s){return yield t._setInitialConfig(),yield t._setConfigHooks(),s(!0)});return function(s){return o.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(o=>o(!0))}onShowList(e){if(!this.config.toggleLock&&!this.config.disabled&&"DISABLED"!==this.config.control.status){if("down"===this.config.listDirectionFixed)this.dom.state.displayBottom=!0;else if("up"===this.config.listDirectionFixed)this.dom.state.displayBottom=!1;else{const t=window.innerHeight/3;this.dom.state.displayBottom=e.clientY<2*t}if(this.dom.state.displayBottom)this.ui.optionsTopPos="-5px",this.ui.selected.config.selectModeOptionsDirection="down";else{let t=50+30*this.config.options.values.length;t=t>300?300:t,this.ui.optionsTopPos=`-${t}px`,this.ui.selected.config.selectModeOptionsDirection="up"}this.dom.state.displayItems?(this.dom.state.displayItems=!1,this.ui.selected.config.label=this.config.label,this.dom.state.modified&&(this.dom.state.modified=!1,this.onBlur())):(this.dom.state.displayItems=!0,this.onFocus())}}onBlur(){var e=this;return q(function*(){yield e.onBubbleEvent("onBlur"),yield e.onChange()})()}onClose(e){e||this.onBubbleEvent("close")}onSelectOption(){const e=this.selectionListRef.selectedOptions.selected;let t=[];this.config.value=[];for(const s of e)t.push(s._elementRef.nativeElement.innerText),this.config.value.push(String(s.value).trim());t=t.sort(),this.config.strVal=t.join(", "),this.ui.selected.config.control.setValue(this.config.strVal,{emitEvent:!1});const o=gi(this.config.value);this.config.control.setValue(o,{emitEvent:!1}),this.dom.state.modified=!0}onClickOutsideBoundary(){this._closeOptionList()}_closeOptionList(){this.config.toggleLock||(this.dom.state.displayItems=!1,this.ui.selected.config.label=this.config.label,this.dom.state.modified&&(this.dom.state.modified=!1,this.onChange()))}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.config=Ai(e.config,!0,`${e.name}:configure: - this.config`)?e.config:null,e.dom.state.displayItems=!1,e.dom.state.displayBottom=!0,e.ui.selected.config=new li({value:e.config.strVal,helpText:e.config.helpText,displayErrors:!1,label:e.config.label,readonly:!0,selectMode:!0,maxlength:65e3}),e._setStrVal(e.config.value),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setStrVal(e){let t=[];if(De(e,!0)){for(const o of e){const s=this.config.options.values.find(r=>r.value===o);s.selected=!0,t.push(s.name)}t=t.sort()}this.config.strVal=t.join(", "),this.ui.selected.config.control.setValue(this.config.strVal)}_setConfigHooks(){return new Promise(e=>(this.config.triggerOnChange=t=>{this.dom.setTimeout("config-trigger-change",()=>{this.config.value=t,this._setStrVal(t),this.onChange(t,!0)},0)},this.config.setValue=(t,o=!1)=>{this.dom.setTimeout("config-set-value",()=>{this.selectionListRef.selectedOptions.clear();const s=this.config.control;typeof t<"u"&&(s.setValue(t,{emitEvent:!1}),s.markAsDirty(),s.updateValueAndValidity()),this._isChangeValid()&&(this.asset.storedValue=t=typeof t<"u"?t:this.config.control.value,this._setStrVal(t),o&&this.onChange())},0)},this.config.clearMessage=()=>{this.dom.setTimeout("config-clear-message",()=>{this.config.message="",this.ui.selected.config.control.markAsPristine(),this.ui.selected.config.control.markAsUntouched()},0)},e(!0)))}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-select-multi"]],viewQuery:function(e,t){if(1&e&&ht(Zhe,7),2&e){let o;Ke(o=Ye())&&(t.selectionListRef=o.first)}},hostBindings:function(e,t){1&e&&ie("keydown.escape",function(s){return t.onEscapeHandler(s)},0,xr)},inputs:{config:"config"},features:[Re],decls:7,vars:17,consts:[[1,"sw-field-item-container","pop-select-multi-container","pop-select-mode-select",3,"ngClass","libClickOutside"],[3,"config","click",4,"ngIf"],[3,"show"],[3,"ngStyle","ngClass"],["selectionList",""],["class","sw-relative",4,"ngFor","ngForOf"],[3,"config","click"],[1,"sw-relative"],["disableRipple","",1,"pop-select-multi-option",3,"checkboxPosition","ngClass","selected","value","click"],["class","pop-select-multi-option-status",4,"ngIf"],[1,"pop-select-multi-option-status"]],template:function(e,t){1&e&&(x(0,"div",0),ie("libClickOutside",function(){return t.onClickOutsideBoundary()}),$(1,Khe,1,1,"lib-pop-input",1),me(2,"lib-pop-field-item-loader",2),x(3,"mat-selection-list",3,4),ds(5),$(6,qhe,4,9,"div",5),us(),C()()),2&e&&(g("ngClass",fs(8,Jhe,t.config.minimal,t.dom.state.displayItems&&!t.dom.state.displayBottom,t.dom.state.displayItems&&t.dom.state.displayBottom)),_(1),g("ngIf",null==t.ui||null==t.ui.selected?null:t.ui.selected.config),_(1),g("show",(null==t.config?null:t.config.patch.displayIndicator)&&(null==t.config?null:t.config.patch.running)),_(1),et("max-height",240,"px"),g("ngStyle",qe(12,Qhe,t.dom.state.displayItems?"visible":"hidden"))("ngClass",Ii(14,epe,t.dom.state.displayBottom,!t.dom.state.displayBottom)),_(3),g("ngForOf",t.config.options.values))},styles:[".pop-select-multi-container[_ngcontent-%COMP%]{position:relative;display:block;top:1px;height:45px}.pop-select-multi-opened-top[_ngcontent-%COMP%]{-webkit-box-shadow:-1px -4px 5px 0 rgba(0,0,0,.14),0px -5px 0px 0 rgba(0,0,0,.12),1px -1px 4px -1px rgba(0,0,0,.2);box-shadow:-1px -4px 5px #00000024,0 -5px #0000001f,1px -1px 4px -1px #0003}.pop-select-multi-opened-bottom[_ngcontent-%COMP%]{-webkit-box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 0 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);box-shadow:0 4px 5px #00000024,0 1px #0000001f,0 2px 4px -1px #0003}.pop-select-multi-items-box-top[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative;min-height:var(--field-min-height);max-width:var(--field-max-width);border:1px solid var(--background-border);z-index:1000;background-color:var(--background-base);overflow-y:scroll;-webkit-box-shadow:-1px -4px 5px 0 rgba(0,0,0,.14),1px 1px 0px 0 rgba(0,0,0,.12),1px -1px 4px -1px rgba(0,0,0,.2);box-shadow:-1px -4px 5px #00000024,1px 1px #0000001f,1px -1px 4px -1px #0003}.select-multi-items-below[_ngcontent-%COMP%]{border:1px solid var(--border);position:relative;top:1px;left:0;right:0;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;z-index:3;background-color:var(--background-base);min-height:30px;border-radius:3px;z-index:1000;-webkit-box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 0 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);box-shadow:0 4px 5px #00000024,0 1px #0000001f,0 2px 4px -1px #0003}.pop-select-multi-active[_ngcontent-%COMP%]{background:var(--background-2)}.pop-select-multi-option[_ngcontent-%COMP%]{-webkit-box-sizing:border-box;box-sizing:border-box;background:var(--background-base);height:30px}.pop-select-multi-option-container[_ngcontent-%COMP%]{position:relative}.pop-select-multi-option-status[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;color:var(--disabled);font-size:.8em!important;font-style:italic}.pop-select-multi-items-box-bottom[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative;min-height:var(--field-min-height);max-width:var(--field-max-width);border:1px solid var(--background-border);z-index:1000;background-color:var(--background-base);overflow-y:scroll;-webkit-box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 0 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);box-shadow:0 4px 5px #00000024,0 1px #0000001f,0 2px 4px -1px #0003}.pop-select-multi-option-status[_ngcontent-%COMP%]{position:absolute;right:10px;top:5px;color:var(--disabled);font-size:.7em!important;font-style:italic}.pop-select-multi-option[_ngcontent-%COMP%]:hover{background:var(--darken06)}.pop-select-multi-option[_ngcontent-%COMP%]:focus{background:var(--darken06)}[_nghost-%COMP%]     .pop-select-multi-values .mat-form-field-infix{padding:8px 40px 13px 0!important;pointer-events:none!important}[_nghost-%COMP%]     .pop-select-multi-values input{display:-webkit-box;display:-ms-flexbox;display:flex;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;z-index:2;padding-right:40px}[_nghost-%COMP%]     .pop-select-multi-values .mat-form-field-infix{pointer-events:none!important}[_nghost-%COMP%]     .pop-select-mode-label .mat-select-arrow{display:none!important}"]}),i})();function tpe(i,n){1&i&&me(0,"div",8)}function ipe(i,n){if(1&i&&(x(0,"div",9)(1,"h4"),ee(2),C()()),2&i){const e=I();_(2),Je(e.config.label)}}const npe=function(i,n,e){return{"pop-checkbox-has-label":i,"pop-checkbox-no-label":n,"pop-checkbox-reverse":e}},ope=function(i){return{"pop-checkbox-no-pointer":i}};let Hc=(()=>{class i extends Io{constructor(e,t,o){super(),this.el=e,this.renderer=t,this.cdr=o,this.name="PopCheckboxComponent",this.dom.configure=()=>new Promise(s=>(this.dom.state.indeterminate=!1,this.asset.storedValue=1==+this.config.control.value,s(!0)))}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){this.asset.checkBoxBackground=this.el.nativeElement.querySelector(".mat-checkbox-background"),this.asset.checkBoxFrame=this.el.nativeElement.querySelector(".mat-checkbox-frame"),this.cdr.detectChanges()}onPressEnter(e){this.config.tabOnEnter&&this.dom.focusNextInput(this.el)}_beforePatch(){var e=this;return new Promise(function(){var t=q(function*(o){let s=!0;const r=e.config.patch,a=e.config.control;return a.disable(),r.running=!0,e._onHideCheckbox(),e._clearMessage(),It(e.config.patch.before)&&(s=yield e.config.patch.before(e.core,{type:"field",name:"beforePatch",config:e.config,source:e.name,value:a.value},e.dom)),s||e._displayCheckbox(),o(s)});return function(o){return t.apply(this,arguments)}}())}_afterPatch(){return new Promise(e=>{const t=this.config.patch,o=this.config.control;return o.enable(),o.markAsPristine(),t.running=!1,e(!0)})}_onPatchSuccessAdditional(){return this._displayCheckbox(),!0}_onPatchFailAdditional(){return this._displayCheckbox(),!0}onToggleValue(){const e=!this.asset.storedValue;this.config.control.setValue(e,{emitEvent:!0}),this.onChange(e)}ngOnDestroy(){super.ngOnDestroy()}_onHideCheckbox(){this.renderer.setStyle(this.asset.checkBoxFrame,"border-color",""),this.renderer.setStyle(this.asset.checkBoxBackground,"background-color",""),this.renderer.setStyle(this.asset.checkBoxBackground,"border",""),this.renderer.setStyle(this.asset.checkBoxBackground,"display","none")}_displayCheckbox(){this.renderer.setStyle(this.asset.checkBoxBackground,"display","block")}}return i.\u0275fac=function(e){return new(e||i)(P($e),P($r),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-checkbox"]],inputs:{config:"config"},features:[Re],decls:8,vars:23,consts:[[3,"ngClass"],[3,"formControl","ngClass","indeterminate","labelPosition","indeterminateChange","click","change","keyup.enter"],["class","pop-checkbox-filler",4,"ngIf"],[1,"pop-checkbox-column"],[1,"pop-checkbox-error",3,"hidden","message"],[1,"pop-checkbox-helper",3,"hidden","helpText"],["class","pop-checkbox-label",4,"ngIf"],[3,"show"],[1,"pop-checkbox-filler"],[1,"pop-checkbox-label"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"mat-checkbox",1),ie("indeterminateChange",function(s){return t.dom.state.indeterminate=s})("click",function(s){return s.stopPropagation()})("change",function(){return t.onChange()})("keyup.enter",function(s){return t.onPressEnter(s)}),C(),$(2,tpe,1,0,"div",2),x(3,"div",3),me(4,"lib-pop-field-item-error",4)(5,"lib-pop-field-item-helper",5),C(),$(6,ipe,3,1,"div",6),me(7,"lib-pop-field-item-loader",7),C()),2&e&&(function _T(i,n,e,t,o,s,r){ja(Br,Sl,nh(wt(),i,n,e,t,o,s,r),!0)}("pop-checkbox-container pop-checkbox-label-",t.config.labelPosition," pop-checkbox-",t.config.textOverflow,"-text position-",t.config.align," sw-field-item-container"),g("ngClass",fs(17,npe,t.config.label,!t.config.label,t.config.label&&"before"===t.config.labelPosition)),_(1),g("formControl",t.config.control)("ngClass",qe(21,ope,t.config.patch.running))("indeterminate",t.dom.state.indeterminate)("labelPosition",t.config.labelPosition),_(1),g("ngIf",t.config.label),_(2),g("hidden",!t.config.message||!t.config.label)("message",t.config.message),_(1),g("hidden",t.config.message||!t.config.label)("helpText",t.config.helpText),_(1),g("ngIf",t.config.label),_(1),g("show",t.config.patch.displayIndicator&&t.config.patch.running))},dependencies:[Gt,ct,$o,sr,ad,qo,Ia,hl],styles:["[_nghost-%COMP%]{width:100%}.pop-checkbox-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:40px}.pop-checkbox-reverse[_ngcontent-%COMP%]{-webkit-box-orient:horizontal!important;-webkit-box-direction:reverse!important;-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.pop-checkbox-sub-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:calc(var(--field-max-width) - 40px)}.pop-checkbox-filler[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;-ms-flex-positive:1;flex-grow:1;min-width:10px;min-height:35px}.pop-checkbox-spacer[_ngcontent-%COMP%]{width:10px;-webkit-box-sizing:border-box;box-sizing:border-box}.pop-checkbox-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;padding-top:2px;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-bottom:var(--gap-xxs);text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.pop-checkbox-column[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;max-width:30px;min-width:30px}[_nghost-%COMP%]     .pop-checkbox-has-label .pop-checkbox-row{margin-top:var(--gap-xs)}[_nghost-%COMP%]     .pop-checkbox-has-label .mat-checkbox-layout{-webkit-box-flex:1!important;-ms-flex-positive:1!important;flex-grow:1!important}[_nghost-%COMP%]     .pop-checkbox-has-label .mat-checkbox-label{-webkit-box-flex:1!important;-ms-flex-positive:1!important;flex-grow:1!important}.pop-checkbox-no-label[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important;padding-left:0!important;padding-right:0!important}[_nghost-%COMP%]     .pop-checkbox-no-label .mat-checkbox-inner-container{margin-left:0}[_nghost-%COMP%]     .pop-checkbox-no-label.position-left mat-checkbox{float:left}[_nghost-%COMP%]     .pop-checkbox-no-label.position-center mat-checkbox{margin:auto}[_nghost-%COMP%]     .pop-checkbox-no-label.position-right mat-checkbox{float:right}[_nghost-%COMP%]     .pop-checkbox-hover:hover{background:var(--accent-shade)!important}[_nghost-%COMP%]     .pop-checkbox-has-label.pop-checkbox-label-before .pop-checkbox-label{padding-right:var(--gap-xs)}[_nghost-%COMP%]     .pop-checkbox-has-label.pop-checkbox-label-after .pop-checkbox-label{padding-left:var(--gap-xs);padding-right:var(--gap-xs)}[_nghost-%COMP%]     .pop-checkbox-has-label.pop-checkbox-ellipsis-text .pop-checkbox-label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}[_nghost-%COMP%]     .pop-checkbox-has-label.pop-checkbox-ellipsis-text .pop-checkbox-label>h4{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;min-width:0}[_nghost-%COMP%]     .pop-checkbox-has-label.pop-checkbox-wrap-text .pop-checkbox-label>h4{overflow-wrap:break-spaces!important;word-wrap:break-spaces!important;white-space:normal!important}.pop-checkbox-helper[_ngcontent-%COMP%]{position:relative;top:3px;left:0;font-size:.7em}.pop-checkbox-error[_ngcontent-%COMP%]{position:relative;top:2px;left:2px;z-index:2}[_nghost-%COMP%]     .pop-checkbox-error .mat-icon{font-size:.9em}.pop-checkbox-no-label-adjust[_ngcontent-%COMP%]{margin-top:1px}.pop-checkbox-no-pointer[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%]     h4{margin:0;-webkit-box-flex:1;-ms-flex:1;flex:1}"]}),i})();function spe(i,n){if(1&i){const e=Me();x(0,"span",6),ie("mouseenter",function(){return he(e),pe(I().dom.state.helper=!0)})("mouseleave",function(){return he(e),pe(I().dom.state.helper=!1)}),ee(1,"X "),C()}2&i&&Ei("matTooltip",I().config.helpText)}function rpe(i,n){1&i&&(x(0,"mat-icon",7),ee(1,"info "),C()),2&i&&g("matTooltip",I().config.message)("color","warn")}function ape(i,n){if(1&i&&(x(0,"mat-radio-button",8)(1,"span"),ee(2),C()()),2&i){const e=n.$implicit;g("value",e.value),_(2),Je(e.name)}}const lpe=function(i,n){return{"pop-radio-column-layout":i,"pop-radio-row-layout":n}};let Zf=(()=>{class i extends Io{constructor(e){var t;super(),t=this,this.el=e,this.name="PopRadioComponent",this.dom.configure=()=>new Promise(o=>{this.asset.storedValue=this.config.control.value,this.asset.spinnerRef=this.el.nativeElement.querySelector(".radio-ajax-spinner"),this.config.triggerOnChange=s=>{this.dom.setTimeout("config-trigger-change",()=>{this.onChange(s,!0)},0)},this.config.clearMessage=()=>{this.dom.setTimeout("config-clear-message",()=>{this.config.message="",this.config.control.markAsPristine(),this.config.control.markAsUntouched()},0)},o(!0)}),this.dom.proceed=()=>new Promise(function(){var o=q(function*(s){return t.config.triggerInitialValue&&t.dom.setTimeout("trigger-initial-value",()=>{t.config.triggerOnChange(t.config.value,!1)}),s(!0)});return function(s){return o.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onChangeRadio(e){this.asset.change=e,this.onChange()}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-radio"]],inputs:{config:"config"},features:[Re],decls:10,vars:16,consts:[[1,"pop-radio-label-layout"],["class","pop-radio-helper-icon sw-pointer sw-pop-icon","matTooltipPosition","right",3,"matTooltip","mouseenter","mouseleave",4,"ngIf"],["class","pop-radio-error-icon","matTooltipPosition","right",3,"matTooltip","color",4,"ngIf"],["disableRipple","",3,"formControl","ngClass","change"],["class","pop-radio-option","disableRipple","",3,"value",4,"ngFor","ngForOf"],[3,"show"],["matTooltipPosition","right",1,"pop-radio-helper-icon","sw-pointer","sw-pop-icon",3,"matTooltip","mouseenter","mouseleave"],["matTooltipPosition","right",1,"pop-radio-error-icon",3,"matTooltip","color"],["disableRipple","",1,"pop-radio-option",3,"value"]],template:function(e,t){1&e&&(x(0,"div")(1,"div",0)(2,"div"),ee(3),$(4,spe,2,1,"span",1),C(),$(5,rpe,2,2,"mat-icon",2),C(),x(6,"div")(7,"mat-radio-group",3),ie("change",function(s){return t.onChangeRadio(s)}),$(8,ape,3,2,"mat-radio-button",4),C()(),me(9,"lib-pop-field-item-loader",5),C()),2&e&&(hs("sw-field-item-container pop-radio-container ","inline"===t.config.labelPosition?"pop-radio-container-row":"pop-radio-container-column",""),_(3),Mt(" ",t.config.label," "),_(1),g("ngIf",t.config.helpText),_(1),g("ngIf",t.config.message),_(1),C0("inline"===t.config.labelPosition?"pop-radio-inline":""),_(1),g("formControl",t.config.control)("ngClass",Ii(13,lpe,"column"===t.config.layout,"row"===t.config.layout)),_(1),g("ngForOf",t.config.options.values),_(1),g("show",t.config.patch.displayIndicator&&t.config.patch.running))},dependencies:[Gt,ai,ct,$o,sr,wi,WL,UL,Pn,qo],styles:[".pop-radio-container-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.pop-radio-container-column[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.pop-radio-inline[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.pop-radio-label-layout[_ngcontent-%COMP%]{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.pop-radio-row-layout[_ngcontent-%COMP%]{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;overflow-x:auto;overflow-y:hidden;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.pop-radio-helper-icon[_ngcontent-%COMP%]{font-size:.6em}.radio-error-icon[_ngcontent-%COMP%]{margin-left:5px;padding-top:6px;font-size:16px}.pop-radio-column-layout[_ngcontent-%COMP%]{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.pop-radio-option[_ngcontent-%COMP%]{margin:5px;display:-webkit-box;display:-ms-flexbox;display:flex}.radio-ajax-spinner[_ngcontent-%COMP%]{position:absolute;cursor:pointer}.pop-radio-error-icon[_ngcontent-%COMP%]{position:relative;bottom:-2px;left:5px;font-size:16px;cursor:pointer}"]}),i})();const cpe=["switch"],dpe=["feedback"];function upe(i,n){if(1&i&&(x(0,"div",6),me(1,"lib-pop-field-item-error",7)(2,"lib-pop-field-item-helper",8),C()),2&i){const e=I();_(1),g("hidden",!e.config.message)("message",e.config.message),_(1),g("hidden",e.config.message)("helpText",e.config.helpText)}}const hpe=function(i,n,e,t,o,s){return{"pop-switch-has-label":i,"pop-switch-no-label":n,"pop-switch-label-before":e,"pop-switch-label-after":t,"pop-switch-wrap-text":o,"pop-switch-wrap-ellipsis":s}},ppe=function(i){return{"pop-switch-no-pointer":i}};let Ws=(()=>{class i extends Io{constructor(e){var t;super(),t=this,this.el=e,this.events=new tt,this.name="PopSwitchComponent",this.dom.configure=()=>new Promise(o=>(this.switchRef.checked=!!this.config.control.value,this.config.switchRef=this.switchRef,this.asset.storedValue=this.config.control.value,this.config.triggerOnChange=s=>{this.dom.setTimeout("trigger-change",()=>{this.onSelection({checked:s})},0)},this.config.setValue=s=>{this.dom.setTimeout("set-value",()=>{this.asset.change=s,this.config.control.setValue(s,{emitEvent:!1}),this.config.control.updateValueAndValidity(),this.config.control.markAsPristine(),this.switchRef.checked=s},0)},o(!0))),this.dom.proceed=()=>new Promise(function(){var o=q(function*(s){return t.config.triggerInitialValue&&t.dom.setTimeout("trigger-initial-value",()=>{t.config.triggerOnChange(t.config.value,!1)}),s(!0)});return function(s){return o.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onEnter(e){this.config.tabOnEnter&&this.dom.focusNextInput(this.el)}onSelection(e){this.asset.change=e,this.onChange(e.checked)}_beforePatch(){var e=this;return new Promise(function(){var t=q(function*(o){let s=!0;const r=e.config.patch,a=e.config.control;return a.disable(),r.running=!0,It(e.config.patch.before)&&(s=yield e.config.patch.before(e.core,{type:"field",name:"beforePatch",source:e.name,value:a.value},e.dom)),o(s)});return function(o){return t.apply(this,arguments)}}())}_afterPatch(){return new Promise(e=>{const t=this.config.patch;return this.config.control.enable(),t.running=!1,this.switchRef.checked=this.asset.storedValue,e(!0)})}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-switch"]],viewQuery:function(e,t){if(1&e&&(ht(cpe,7),ht(dpe,7)),2&e){let o;Ke(o=Ye())&&(t.switchRef=o.first),Ke(o=Ye())&&(t.feedbackRef=o.first)}},inputs:{config:"config"},outputs:{events:"events"},features:[Re],decls:8,vars:21,consts:[[1,"pop-switch-container","sw-field-item-container",3,"title","ngClass"],[3,"ngClass","labelPosition","disableRipple","disabled","name","keyup.enter","change"],["switch",""],[1,"mat-body"],["class","pop-switch-feedback-container",4,"ngIf"],[3,"show"],[1,"pop-switch-feedback-container"],[1,"pop-switch-error",3,"hidden","message"],[1,"pop-switch-helper",3,"hidden","helpText"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"mat-slide-toggle",1,2),ie("keyup.enter",function(s){return t.onEnter(s)})("change",function(s){return t.onSelection(s)}),x(3,"div",3),$(4,upe,3,4,"div",4),x(5,"h4"),ee(6),C()()(),me(7,"lib-pop-field-item-loader",5),C()),2&e&&(et("padding",t.config.padding),g("title",null!=t.config&&t.config.tooltip?null==t.config?null:t.config.tooltip:"")("ngClass",function cE(i,n,e,t,o,s,r,a,l){const c=Qs()+i,A=wt(),D=da(A,c,e,t,o,s);return Ld(A,c+4,r,a)||D?Il(A,c+6,l?n.call(l,e,t,o,s,r,a):n(e,t,o,s,r,a)):Kp(A,c+6)}(12,hpe,t.config.label,!t.config.label,t.config.label&&"before"===t.config.labelPosition,t.config.label&&"after"===t.config.labelPosition,t.config.label&&"wrap"===t.config.textOverflow,t.config.label&&"ellipsis"===t.config.textOverflow)),_(1),g("ngClass",qe(19,ppe,t.config.patch.running))("labelPosition",t.config.labelPosition)("disableRipple",1)("disabled",null==t.config?null:t.config.disabled)("name",t.config.label),_(3),g("ngIf",t.config.label),_(2),Je(t.config.label),_(1),g("show",t.config.patch.displayIndicator&&t.config.patch.running))},dependencies:[Gt,ct,qL,qo,Ia,hl],styles:["[_nghost-%COMP%]{width:100%}.pop-switch-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;width:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;margin-top:0!important;margin-bottom:-5px}.pop-switch-has-label[_ngcontent-%COMP%]{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.pop-switch-no-label[_ngcontent-%COMP%]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.pop-switch-label[_ngcontent-%COMP%]{padding:5px 2px}.pop-switch-spacer[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;min-width:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:pink}[_nghost-%COMP%]     .pop-switch-has-label .mat-mdc-slide-toggle{-webkit-box-flex:1;-ms-flex:1;flex:1;pointer-events:none}[_nghost-%COMP%]     .pop-switch-has-label .mat-slide-toggle-bar{pointer-events:all!important}[_nghost-%COMP%]     .pop-switch-label-before .mat-slide-toggle-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-right:5px;width:100%}.pop-switch-feedback-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-width:25px;min-height:35px}[_nghost-%COMP%]     .pop-switch-label-before .mat-body{-webkit-box-orient:horizontal!important;-webkit-box-direction:reverse!important;-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}[_nghost-%COMP%]     .pop-switch-label-after .mat-slide-toggle-bar{margin-right:5px}[_nghost-%COMP%]     .pop-switch-label-after .mat-body h4{padding-left:var(--gap-xs)}[_nghost-%COMP%]     .pop-switch-has-label .mat-body{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-sizing:border-box;box-sizing:border-box;min-width:0;-webkit-box-align:center;-ms-flex-align:center;align-items:center}[_nghost-%COMP%]     .pop-switch-wrap-text .mat-body h4{overflow-wrap:break-spaces!important;word-wrap:break-spaces!important;white-space:normal!important}[_nghost-%COMP%]     .pop-switch-wrap-ellipsis .mat-body h4{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]     .pop-switch-has-label.pop-switch-wrap-text .mat-mdc-slide-toggle{min-height:24px!important;height:auto!important}.pop-switch-ajax-spinner[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:1}.pop-switch-hover[_ngcontent-%COMP%]:hover{background:var(--accent-shade)!important}.pop-switch-no-pointer[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%]     h4{margin:0;-webkit-box-flex:1;-ms-flex:1;flex:1}.pop-switch-error[_ngcontent-%COMP%]{position:relative;top:2px;left:2px}[_nghost-%COMP%]     .pop-switch-error mat-icon{font-size:.98em}.pop-switch-helper[_ngcontent-%COMP%]{position:relative;top:2px;left:2px;font-size:.7em}"]}),i})(),Kf=(()=>{class i{constructor(){this.height=5,this.pull=0,this.hidden=!1}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-field-item-spacer"]],hostVars:2,hostBindings:function(e,t){2&e&&St("sw-hidden",t.hidden)},inputs:{height:"height",pull:"pull",hidden:"hidden"},decls:1,vars:4,consts:[[1,"pop-field-item-spacer"]],template:function(e,t){1&e&&me(0,"div",0),2&e&&et("height",t.height,"px")("margin-bottom",t.pull,"px")},styles:[".pop-field-item-spacer[_ngcontent-%COMP%]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;clear:both}"]}),i})();const mpe=["textArea"];function fpe(i,n){if(1&i&&(x(0,"mat-label"),ee(1),C()),2&i){const e=I();_(1),Je(e.config.label)}}function gpe(i,n){if(1&i&&(x(0,"mat-hint",11),ee(1),C()),2&i){const e=I(),t=Qt(8);_(1),fc("",(null==t.value?null:t.value.length)||0,"/",e.config.maxlength,"")}}let Aa=(()=>{class i extends Io{constructor(e,t){var o;super(),o=this,this.el=e,this.renderer=t,this.name="PopTextareaComponent",this.dom.configure=()=>new Promise(s=>{this.config.autoSize?this.dom.setSubscriber("auto-size",this.config.control.valueChanges.subscribe(()=>{this.onAutoSize()})):(+this.config.height&&this.renderer.setStyle(this.textAreaRef.nativeElement,"height",this.config.height+"px"),this.config.readonly=1==+this.config.readonly),s(!0)}),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){o.config.autoSize&&o.config.control.value&&(yield al(5),o.onAutoSize()),r(!0)});return function(r){return s.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onKeyUp(e){if("Enter"===e.code)this.config.control.invalid?this.config.displayErrors&&this._setMessage(mp(this.config.control.errors)):(this._clearMessage(),this.config.tabOnEnter?this.dom.focusNextInput(this.el):this.onBubbleEvent("onEnter"));else if(this.config.pattern&&this.config.pattern.length>0){const t=Ps(this.config.pattern,"value",this.config.control.value);t!==this.config.control.value&&this.config.control.setValue(t),this.config.control.touched&&this._isChangeValid()&&this._clearMessage(),this.dom.state.modified=!0,this.onBubbleEvent("onKeyUp")}else this.config.control.touched&&this._isChangeValid()&&this._clearMessage(),this.dom.state.modified=!0,this.onBubbleEvent("onKeyUp")}ngOnDestroy(){super.ngOnDestroy()}onAutoSize(){this.dom.setTimeout("size-delay",()=>{this.renderer.setStyle(this.textAreaRef.nativeElement,"height","0");let e=this.textAreaRef.nativeElement.scrollHeight;+this.config.height&&e<this.config.height&&(e=this.config.height),+this.config.maxHeight&&e>this.config.maxHeight&&(e=this.config.maxHeight),this.renderer.setStyle(this.textAreaRef.nativeElement,"height",e+"px")},250)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P($r))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-textarea"]],viewQuery:function(e,t){if(1&e&&ht(mpe,7),2&e){let o;Ke(o=Ye())&&(t.textAreaRef=o.first)}},inputs:{config:"config"},features:[Re],decls:12,vars:11,consts:[["height","2"],[1,"sw-field-item-container","pop-textarea-container"],[1,"pop-textarea-feedback-container"],[1,"pop-textarea-error-icon",3,"hidden","message"],[1,"textarea-helper-icon",3,"hidden","helpText"],["appearance","outline",1,"sw-field-item-container-expansion","sw-relative",3,"title"],[4,"ngIf"],["matInput","","spellcheck","false",3,"readonly","formControl","maxlength","focus","keyup","blur"],["textArea",""],["class","pop-textarea-suffix","align","end",4,"ngIf"],[3,"show"],["align","end",1,"pop-textarea-suffix"]],template:function(e,t){1&e&&(me(0,"lib-pop-field-item-spacer",0),x(1,"div",1)(2,"div",2),me(3,"lib-pop-field-item-error",3)(4,"lib-pop-field-item-helper",4),C(),x(5,"mat-form-field",5),$(6,fpe,2,1,"mat-label",6),x(7,"textarea",7,8),ie("focus",function(){return t.dom.state.tooltip=!0,t.dom.state.hint=!0,t.onFocus()})("keyup",function(s){return t.onKeyUp(s)})("blur",function(){return t.dom.state.tooltip=!1,t.dom.state.hint=!1,t.onBlur()}),ee(9,"    "),C(),$(10,gpe,2,2,"mat-hint",9),C(),me(11,"lib-pop-field-item-loader",10),C()),2&e&&(_(3),g("hidden",!t.config.message)("message",t.config.message),_(1),g("hidden",t.config.message)("helpText",t.config.helpText),_(1),g("title",null==t.config?null:t.config.tooltip),_(1),g("ngIf",t.config.label),_(1),g("readonly",t.config.readonly)("formControl",t.config.control)("maxlength",t.config.maxlength),_(3),g("ngIf",t.config.hint&&t.dom.state.hint),_(1),g("show",t.config.patch.displayIndicator&&t.config.patch.running))},dependencies:[ct,$s,$o,ff,sr,Wr,ks,js,ov,qo,Ia,hl,Kf],styles:[".pop-textarea-feedback-container[_ngcontent-%COMP%]{position:absolute;right:10px;top:4px;width:20px;z-index:2}.pop-textarea-error-icon[_ngcontent-%COMP%]{position:relative;top:2px;right:-2px;cursor:pointer}[_nghost-%COMP%]     .pop-textarea-error-icon mat-icon{font-size:.98em!important}.pop-textarea-suffix[_ngcontent-%COMP%]{margin-top:5px;background-color:var(--background-base);padding:0 1px;color:var(--accent);font-size:10px;border-radius:3px}.textarea-helper-icon[_ngcontent-%COMP%]{position:relative;font-size:.68em;right:-2px;top:4px;cursor:pointer}[_nghost-%COMP%]     .mat-mdc-form-field-appearance-outline .mat-mdc-form-field-wrapper{padding-bottom:0;margin:0!important}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{resize:none;min-height:40px}[_nghost-%COMP%]     .mat-mdc-form-field-infix{padding-top:13px!important;padding-bottom:13px!important}[_nghost-%COMP%]     .mat-mdc-form-field{height:unset!important}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper{height:unset!important}"]}),i})();function _pe(i,n){if(1&i){const e=Me();x(0,"div",9)(1,"lib-pop-button",10),ie("click",function(){return he(e),pe(I(2).onLabelCopy())}),C()()}if(2&i){const e=I(2);_(1),g("config",e.ui.copyLabel)}}function bpe(i,n){if(1&i&&(x(0,"label"),ee(1),me(2,"lib-pop-field-item-helper",11),C()),2&i){const e=I(2);hs("sw-header-",e.config.header,""),_(1),Je(e.config.label),_(1),g("hidden",!e.config.helpText)("helpText",e.config.helpText)}}function vpe(i,n){if(1&i){const e=Me();x(0,"div")(1,"lib-pop-button",13),ie("click",function(){return he(e),pe(I(3).onValueCopy())}),C()()}if(2&i){const e=I(3);_(1),g("config",e.ui.copyValue)}}function ype(i,n){if(1&i&&(x(0,"div"),me(1,"lib-pop-button",15),C()),2&i){const e=I(4);hs("pop-label-button-theme-",e.dom.state.valueButton_theme," sw-mar-rgt-sm"),_(1),g("config",e.ui.valueButton)}}function xpe(i,n){if(1&i&&(x(0,"span"),ee(1),C()),2&i){const e=I(5);hs("pop-label-value-text sw-header-",e.config.header,""),_(1),Je(e.config.value)}}function Cpe(i,n){if(1&i&&(x(0,"mat-icon"),ee(1),C()),2&i){const e=I(6);_(1),Je(e.config.icon)}}function wpe(i,n){if(1&i&&(x(0,"span",20),ee(1),C()),2&i){const e=I(6);_(1),Je(e.config.icon)}}function kpe(i,n){1&i&&(x(0,"div",18),$(1,Cpe,2,1,"mat-icon",7),$(2,wpe,2,1,"span",19),C()),2&i&&(g("ngSwitch",I(5).config.iconType),_(1),g("ngSwitchCase","mat"),_(1),g("ngSwitchCase","sw"))}function Ipe(i,n){if(1&i&&(x(0,"div",16),$(1,xpe,2,4,"span",5),$(2,kpe,3,3,"div",17),C()),2&i){const e=I(4);_(1),g("ngIf",!e.config.icon),_(1),g("ngIf",e.config.icon)}}function Ape(i,n){if(1&i&&(x(0,"div"),$(1,ype,2,4,"div",5),$(2,Ipe,3,2,"div",14),C()),2&i){const e=I(3);_(1),g("ngIf",e.config.valueButton),_(1),g("ngIf",!e.config.valueButton)}}function Spe(i,n){if(1&i&&(x(0,"div"),$(1,vpe,2,1,"div",12),$(2,Ape,3,2,"div",12),C()),2&i){const e=I(2);_(1),g("ngIf",e.config.copyValue),_(1),g("ngIf",!e.config.copyValue)}}function Mpe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I(3);hs("pop-label-value-text sw-header-",e.config.header,""),_(1),Je(e.config.value)}}function Ppe(i,n){if(1&i&&(x(0,"mat-icon"),ee(1),C()),2&i){const e=I(4);_(1),Je(e.config.icon)}}function Tpe(i,n){if(1&i&&(x(0,"span",20),ee(1),C()),2&i){const e=I(4);_(1),Je(e.config.icon)}}function Epe(i,n){1&i&&(x(0,"div",18),$(1,Ppe,2,1,"mat-icon",7),$(2,Tpe,2,1,"span",19),C()),2&i&&(g("ngSwitch",I(3).config.iconType),_(1),g("ngSwitchCase","mat"),_(1),g("ngSwitchCase","sw"))}function Dpe(i,n){if(1&i){const e=Me();x(0,"a",21),ie("click",function(){return he(e),pe(I(2).onRouteLink())}),$(1,Mpe,2,4,"div",5),$(2,Epe,3,3,"div",17),C()}if(2&i){const e=I(2);Ei("matTooltip",e.config.tooltip),_(1),g("ngIf",!e.config.icon),_(1),g("ngIf",e.config.icon)}}const Ope=function(i,n){return{"pop-label-container-border":i,"pop-label-ellipsis":n}};function Rpe(i,n){if(1&i&&(x(0,"div",1)(1,"div",2)(2,"div",3),$(3,_pe,2,1,"div",4),$(4,bpe,3,6,"label",5),C()(),x(5,"div",6),$(6,Spe,3,2,"div",7),$(7,Dpe,3,3,"a",8),C()()),2&i){const e=I();g("ngClass",Ii(6,Ope,e.config.border,"ellipsis"===e.config.textOverflow)),_(3),g("ngIf",e.config.copyLabel),_(1),g("ngIf",!e.config.copyLabel),_(1),g("ngSwitch",e.config.html),_(1),g("ngSwitchCase","label"),_(1),g("ngSwitchCase","link")}}let EI=(()=>{class i extends Io{constructor(e){super(),this.el=e,this.name="PopLabelComponent",this.dom.configure=()=>new Promise(t=>{if(this.config=Ai(this.config,!0,`${this.name}:configure: - this.config`)?this.config:null,this.ui.copyLabel=void 0,this.ui.copyValue=void 0,this.ui.valueButton=void 0,this.dom.state.valueButton_theme="default",this.config.truncate){const o=new s4;this.config.value=o.transform(this.config.value,[this.config.truncate])}this.config.copyLabel&&(this.ui.copyLabel=new Ms({disabled:!1,icon:this.config.copyLabelBody?"file_copy":null,value:this.config.copyLabelDisplay,size:25,width:100,radius:5,text:12})),this.config.copyValue&&(this.ui.copyValue=new Ms({disabled:!1,icon:this.config.copyValueBody?"file_copy":null,value:this.config.copyValueDisplay,size:25,radius:5,text:12})),this.config.valueButton&&(this.ui.valueButton=new Ms({disabled:!!this.config.valueButtonDisabled,icon:this.config.icon,value:this.config.valueButtonDisplay,size:25,radius:5,text:12,bubble:!0,event:"click"})),this._setValueButtonTheme(),t(!0)})}ngOnInit(){super.ngOnInit()}onRouteLink(){if(this.config.route){const e=String(this.config.route).split("/");if(e[1]&&e[1]===Bi)return Rt.get(Ji).navigate([e.slice(2).join("/")]).catch(t=>(console.log(t),!1))}return this.onBubbleEvent("link")}onLabelCopy(){const e=navigator;let o=String(this.config.copyLabelBody).slice();["ID "].map(s=>{o.includes(s)&&(o=rn(o,s,""))}),e.clipboard.writeText(o)}onValueCopy(){const e=navigator;let o=String(this.config.copyValueBody).slice();["ID "].map(s=>{o.includes(s)&&(o=rn(o,s,""))}),e.clipboard.writeText(o)}ngOnDestroy(){super.ngOnDestroy()}_setValueButtonTheme(){this.config.valueButton&&this.config.valueButtonDisplay&&(this.dom.state.valueButton_theme=function $de(i){let s=null;return["active","success","on","1"].some(r=>{if(String(i).toLowerCase().search(r)>-1)return s="success",!0}),s||["err","off","remove","0","fail","archived"].some(function(r){if(String(i).toLowerCase().search(r)>-1)return s="danger",!0}),s||["warn","pend","remove"].some(function(r){if(String(i).toLowerCase().search(r)>-1)return s="warn",!0}),s||["new","info","add"].some(function(r){if(String(i).toLowerCase().search(r)>-1)return s="info",!0}),s||(s="default"),s}(this.config.valueButtonDisplay))}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-label"]],inputs:{config:"config"},features:[Re],decls:1,vars:1,consts:[["class","sw-field-item-container pop-label-container",3,"ngClass",4,"ngIf"],[1,"sw-field-item-container","pop-label-container",3,"ngClass"],[1,"sw-flex-column","sw-flex-grow-xs"],[1,"pop-label-text","sw-flex-row","sw-flex-start-center"],["class","pop-label-button-copy",4,"ngIf"],[3,"class",4,"ngIf"],[1,"sw-flex-column-md","sw-flex-grow-md",3,"ngSwitch"],[4,"ngSwitchCase"],["class","sw-pointer sw-flex-row sw-flex-end-center","matTooltipPosition","left",3,"matTooltip","click",4,"ngSwitchCase"],[1,"pop-label-button-copy"],[3,"config","click"],[1,"pop-label-helper-icon","sw-header-5",3,"hidden","helpText"],[4,"ngIf"],[1,"pop-label-button-copy",3,"config","click"],["class","sw-flex-row sw-flex-end-center",4,"ngIf"],[1,"pop-label-button-value",3,"config"],[1,"sw-flex-row","sw-flex-end-center"],["class","pop-label-icon-container",3,"ngSwitch",4,"ngIf"],[1,"pop-label-icon-container",3,"ngSwitch"],["class","sw-pop-icon",4,"ngSwitchCase"],[1,"sw-pop-icon"],["matTooltipPosition","left",1,"sw-pointer","sw-flex-row","sw-flex-end-center",3,"matTooltip","click"]],template:function(e,t){1&e&&$(0,Rpe,8,9,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".pop-label-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-box-sizing:border-box;margin-top:0!important}.pop-label-container-border[_ngcontent-%COMP%]{border-radius:3px;border:1px solid var(--border);padding:10px}.pop-label-container-border[_ngcontent-%COMP%]:hover{border-color:currentColor}.pop-label-container-border[_ngcontent-%COMP%]:focus{border-color:var(--accent)}.pop-label-link-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.pop-label-icon-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.pop-label-helper-icon[_ngcontent-%COMP%]{position:relative;top:5px;margin-left:var(--gap-s);font-size:.8em;z-index:2}.pop-label-text[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%}.pop-label-value-text[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;padding-left:var(--gap-s);-webkit-box-sizing:border-box;box-sizing:border-box;min-width:0;text-align:right;-ms-flex-positive:1;flex-grow:1}.pop-label-value-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}.pop-label-header-1[_ngcontent-%COMP%]{font:400 34px Roboto,sans-serif}[_nghost-%COMP%]     .pop-label-ellipsis .pop-label-value-text h4{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.pop-label-button-copy[_ngcontent-%COMP%], .pop-label-button-value[_ngcontent-%COMP%]{min-width:100px!important}[_nghost-%COMP%]     .sw-field-item-container{margin:5px 0!important;min-height:25px!important}[_nghost-%COMP%]     .pop-label-button-theme-default button{background:#808080;color:#fff;-webkit-box-shadow:none!important;box-shadow:none!important}[_nghost-%COMP%]     .pop-label-button-theme-success button{background:#35d18e!important;color:#fff!important;-webkit-box-shadow:none!important;box-shadow:none!important;text-transform:none!important}[_nghost-%COMP%]     .pop-label-button-theme-danger button{background:#f8262e!important;color:#fff!important;-webkit-box-shadow:none!important;box-shadow:none!important;text-transform:none!important}[_nghost-%COMP%]     .pop-label-button-theme-warn button{background:orange!important;color:#fff!important;-webkit-box-shadow:none!important;box-shadow:none!important;text-transform:none!important}[_nghost-%COMP%]     .pop-label-button-theme-info button{background:#4e7fed!important;color:#000!important;text-transform:none!important}[_nghost-%COMP%]     .pop-label-icon-container mat-icon{margin-left:var(--gap-xs)!important}"]}),i})();const Fpe=["list"],Lpe=["selectionList"],Npe=["search"],Bpe=function(i,n){return{"pop-select-filter-minimal":i,"pop-select-filter-default":n}};function Vpe(i,n){if(1&i){const e=Me();x(0,"lib-pop-input",12),ie("click",function(o){he(e);const s=I(),r=Qt(3);return pe(s.onToggleFilter(o,r))}),C()}if(2&i){const e=I();St("filter-selected",e.dom.state.filterActivated),g("ngClass",Ii(4,Bpe,e.config.minimal,!e.config.minimal))("config",e.ui.selected.config)}}function $pe(i,n){if(1&i){const e=Me();x(0,"mat-checkbox",17),ie("ngModelChange",function(o){return he(e),pe(I(2).config.all=o)})("change",function(o){return he(e),pe(I(2).onChangeAll(o.checked))}),C()}2&i&&g("ngModel",I(2).config.all)("color","primary")}const Hpe=function(i,n){return{"sw-hidden":i,"select-filter-clear-icon-adjust":n}};function zpe(i,n){if(1&i){const e=Me();x(0,"div",18)(1,"a",19)(2,"mat-icon"),ee(3,"filter_list"),C()(),x(4,"input",20,21),ie("keyup",function(o){return he(e),pe(I(2).onKeyUp(o))}),C(),x(6,"mat-icon",22),ie("click",function(){return he(e),pe(I(2).onClearSearchFilter())}),ee(7,"close"),C()()}if(2&i){const e=Qt(5),t=I(2);_(4),g("formControl",t.ui.search.config.control),_(2),g("ngClass",Ii(2,Hpe,!e.value,t.config.createNew||t.config.createTag))}}function jpe(i,n){if(1&i){const e=Me();x(0,"div",23),ie("click",function(){return he(e),pe(I(2).onCreateNew())}),ee(1),x(2,"mat-icon"),ee(3,"add"),C()()}if(2&i){const e=I(2);_(1),Mt(" ",e.config.createNewText," ")}}function Gpe(i,n){if(1&i&&(x(0,"div",13),$(1,$pe,1,2,"mat-checkbox",14),$(2,zpe,8,5,"div",15),$(3,jpe,4,1,"div",16),C()),2&i){const e=I();_(1),g("ngIf",e.config.multiple),_(1),g("ngIf",e.config.filter&&e.ui.search.config),_(1),g("ngIf",e.config.createNew)}}function Wpe(i,n){if(1&i){const e=Me();x(0,"mat-checkbox",30),ie("ngModelChange",function(o){return he(e),pe(I(2).$implicit.all=o)})("change",function(o){he(e);const s=I(2).$implicit;return pe(I(2).onChangeGroup(o.checked,s))}),C()}if(2&i){const e=I(2).$implicit;g("ngModel",e.all)("color","primary")("indeterminate",e.indeterminate)}}function Upe(i,n){if(1&i){const e=Me();x(0,"div",27),ie("click",function(){he(e);const o=I().$implicit;return pe(I(2).onToggleGroup(o))}),$(1,Wpe,1,3,"mat-checkbox",28),x(2,"div",29),ee(3),C()()}if(2&i){const e=I().$implicit,t=I(2);_(1),g("ngIf",t.config.multiple),_(2),fc("",e.label," (",e.options.values.length,")")}}const DI=function(i){return{"sw-hidden":i}};function Zpe(i,n){if(1&i){const e=Me();x(0,"mat-list-option",36),ie("click",function(o){he(e);const s=I().$implicit,r=I().$implicit;return pe(I(2).onChangeOption(o,s,r))}),ee(1),C()}if(2&i){const e=I().$implicit,t=I().$implicit,o=I(2);et("padding-left",e.level+"px"),g("checkboxPosition",o.dom.state.checkboxPosition)("ngClass",qe(7,DI,e.hidden||!t.open))("selected",o.isOptionSelected(e))("value",e.value),_(1),Mt(" ",e.name," ")}}const Kpe=function(i,n){return{"pop-select-filter-option-status-link sw-pointer":i,"sw-hidden":n}};function Ype(i,n){if(1&i){const e=Me();x(0,"span",37),ie("click",function(){he(e);const o=I().$implicit;return pe(I(3).onOptionStatusLink(o))}),ee(1),C()}if(2&i){const e=I().$implicit,t=I().$implicit;g("ngClass",Ii(2,Kpe,e.statusLink,e.hidden||!t.open)),_(1),Je(e.status)}}function Xpe(i,n){if(1&i&&me(0,"lib-pop-avatar",38),2&i){const e=I().$implicit,t=I().$implicit;g("ngClass",qe(5,DI,e.hidden||!t.open))("width",20)("url",e.avatarLink)("initials",e.initials)("helpText",e.helpText)}}function qpe(i,n){if(1&i){const e=Me();x(0,"span",39),ie("click",function(o){he(e);const s=I().$implicit,r=I(3);return o.stopPropagation(),pe(r.setEditConfig(s))}),ee(1,"Edit"),C()}if(2&i){const e=I().$implicit,t=I().$implicit;g("ngClass",qe(1,DI,e.hidden||!t.open))}}function Jpe(i,n){if(1&i){const e=Me();x(0,"div")(1,"form",40),ie("keydown.enter",function(){he(e);const o=I().$implicit;return pe(I(3).onEditOption(o))}),me(2,"lib-pop-input",41),x(3,"button",42),ie("click",function(o){he(e);const s=I().$implicit,r=I(3);return o.preventDefault(),o.stopPropagation(),pe(r.onEditOption(s))}),x(4,"i",43),ee(5," done "),C()(),x(6,"button",44),ie("click",function(o){he(e);const s=I(4);return o.preventDefault(),o.stopPropagation(),pe(s.onCancelEditOption())}),x(7,"I",43),ee(8," clear "),C()()()()}if(2&i){const e=I(4);_(2),et("width",100,"%"),g("config",e.ui.editOptionConfig)}}const Qpe=function(i){return{"pop-select-filter-active":i}};function eme(i,n){if(1&i&&(x(0,"div",31),$(1,Zpe,2,9,"mat-list-option",32),$(2,Ype,2,5,"span",33),$(3,Xpe,1,7,"lib-pop-avatar",34),$(4,qpe,2,3,"span",35),$(5,Jpe,9,3,"div",9),C()),2&i){const e=n.$implicit,t=I(3);let o;Ei("title",null!==(o=e.helpText)&&void 0!==o?o:""),g("ngClass",qe(7,Qpe,t.dom.active.optionId&&e.value===t.dom.active.optionId)),_(1),g("ngIf",t.dom.state.showEditInput!=e.value&&e.name),_(1),g("ngIf",e.status&&t.dom.state.showEditInput!==e.value),_(1),g("ngIf",(e.avatarLink||e.initials)&&t.dom.state.showEditInput!=e.value),_(1),g("ngIf",t.dom.state.showEdit&&t.dom.state.showEditInput!=e.value&&e.name),_(1),g("ngIf",t.ui.editOptionConfig&&t.dom.state.showEditInput==e.value)}}function tme(i,n){if(1&i&&(x(0,"div"),$(1,Upe,4,3,"div",25),$(2,eme,6,9,"div",26),C()),2&i){const e=n.$implicit;_(1),g("ngIf",e.label&&e.visible),_(1),g("ngForOf",e.options.values)}}function ime(i,n){if(1&i&&(ds(0),$(1,tme,3,2,"div",24),us()),2&i){const e=I();et("min-height",e.config.minHeight,"px"),_(1),g("ngForOf",e.config.groups)}}function nme(i,n){if(1&i){const e=Me();x(0,"div",45),ie("click",function(o){he(e);const s=I();return o.stopPropagation(),pe(s.dom.state.showInput=!0)}),ee(1),x(2,"mat-icon"),ee(3,"add"),C()()}if(2&i){const e=I();_(1),Mt(" ",e.config.createTagText," ")}}function ome(i,n){if(1&i){const e=Me();x(0,"div")(1,"form",46),ie("keydown.enter",function(){return he(e),pe(I().onCreateTag())}),x(2,"mat-form-field",47)(3,"mat-label"),ee(4),C(),me(5,"input",48),C(),x(6,"button",49),ie("click",function(){return he(e),pe(I().onCreateTag())}),x(7,"span",50),ee(8," done "),C()()()()}if(2&i){const e=I();_(4),Je(e.config.createTagText),_(1),g("placeholder",e.config.createTagText)("formControl",e.ui.createNewInputConfig.control)}}const sme=function(i,n,e,t){return{"pop-select-filter-container-minimal":i,"pop-select-filter-single":n,"pop-select-filter-multiple":e,"sw-disabled":t}},rme=function(i,n){return{"sw-hidden":i,"pop-select-filter-items-float-adjust":n}};let Yf=(()=>{class i extends Io{onEscapeHandler(e){this.dom.state.filterActivated&&(this.log.event("document:keydown.escape",null),this.config.toggleLock=!1,this._closeOptionList(),this.dom.state.showEditInput="",this.dom.state.showInput=!1,this.config.createTag&&this.ui.createNewInputConfig&&this.ui.createNewInputConfig.control.setValue(""))}constructor(e,t){var o;super(),o=this,this.el=e,this.cdr=t,this.name="PopSelectFilterComponent",this.asset={filteredOptions:void 0,groups:[],onFocusValue:void 0},this.ui={selected:{config:void 0,count:0},search:{config:void 0,count:0},avatarConfig:{width:20,height:20,text:"10px",rounded:!0,fallback:"image",helpText:""},createNewInputConfig:void 0,editOptionConfig:void 0},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield o._setInitialConfig(),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(s=>(this.config.triggerInitialValue&&this.config.setValue(this.config.value),this.dom.setTimeout("render-multiple-str-val",()=>{if(this.config.multiple&&De(this.config.value,!0)){const r=this.getFindOptionValues(this.config.value);this._setStrVal(r)}},0),s(!0)))}ngOnInit(){super.ngOnInit()}onClearSearchFilter(){this.ui.search.config.control.setValue("")}onToggleFilter(e,t){return!(this.config.patch.running||this.config.disabled||this.config.control.disabled||(this.dom.state.filterActivated=!this.dom.state.filterActivated,this.dom.setTimeout("open-close",()=>{this.config.position||this._setOptionListPosition({above:e.pageY-280,below:window.innerHeight-e.pageY-20,height:t.clientHeight}),this.dom.state.filterActivated?(this.asset.onFocusValue=JSON.stringify(this.config.selectedOptions),this.config.message="",this.onBubbleEvent("open")):this.onBubbleEvent("close"),this.dom.state.filterActivated&&this.dom.setTimeout("search-focus",()=>{this.searchRef&&this.searchRef.nativeElement.focus()},200)},0),0))}onToggleGroup(e){this.config.groups.length>1&&(e.open=!e.open)}onClickOutside(){this.config.toggleLock||(this._closeOptionList(),this.dom.state.showEditInput="",this.dom.state.showInput=!1,this.ui.createNewInputConfig&&this.ui.createNewInputConfig.control.setValue(""))}onChangeAll(e){return this.config.multiple&&(this.config.groups.map(t=>{t.options.values.map(o=>{o.selected=e}),t.all=e,t.indeterminate=!1}),this.dom.state.modified=!0,setTimeout(()=>{this._updateSelectedOptions()},0)),!1}onChangeGroup(e,t){return this.config.multiple&&(t.options.values.map(o=>{o.hidden||(o.selected=e)}),this.dom.state.modified=!0,setTimeout(()=>{this._checkGroupState(e,t),this._updateSelectedOptions()},0)),!1}onChangeOption(e,t,o){this.dom.setTimeout("on-change-option",()=>{this.asset.onFocusValue=null,t.selected=e.target.className.search("mat-pseudo-checkbox-checked")>-1,this.dom.state.modified=!0,this._checkGroupState(t.selected,o),this._updateSelectedOptions()},0)}onOptionStatusLink(e){this.onBubbleEvent("status-link","",{option:e})}onAddNewOption(){this.onBubbleEvent("create-new","",{},!0)}isOptionSelected(e){return e.selected}onCreateNew(){this.onBubbleEvent("create-new","On Create New",{},!0)}onCreateTag(){this.onBubbleEvent("create-new","On Create New",{data:this.ui.createNewInputConfig.control.value},!0),this.dom.state.showInput=!1,this.ui.createNewInputConfig.control.setValue("")}onEditOption(e){e.name=this.ui.editOptionConfig.control.value,this.log.event("option edit event",null),this.onBubbleEvent("edit-option","On Edit Option",{data:e},!0),this.dom.state.showEditInput="",this.config.toggleLock=!1,this.dom.setTimeout("trigger-edit-focus",()=>{this.ui.editOptionConfig.triggerFocus()},500)}onCancelEditOption(){this.ui.editOptionConfig.control.setValue(null),this.dom.state.showEditInput="",this.config.toggleLock=!1,this.dom.setTimeout("trigger-edit-focus",null)}setEditConfig(e){this.config.toggleLock=!0,this.dom.state.showEditInput=e.value,this.ui.editOptionConfig.control.setValue(e.name),this.dom.state.showInput=!1}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){if(e.config=Ai(e.config,!0,`${e.name}:configure: - this.config`)?e.config:null,e.dom.state.filter=void 0,e.dom.state.filterActivated=!1,e.dom.state.above=void 0,e.dom.state.below=void 0,e.dom.state.list=void 0,e.dom.state.position="float",e.dom.state.active=void 0,e.dom.state.checkboxPosition="before"===e.config.checkboxPosition?"before":"after",e.config.multiple||(e.selectionListRef.selectedOptions=new Ud(!1)),e.ui.selected.config=new li({value:e.config.strVal,helpText:e.config.helpText,displayErrors:!1,label:e.config.label,minimal:!0,readonly:!0,selectMode:!0,maxlength:65e3}),e.ui.search.config=new li({value:e.config.strVal,helpText:e.config.helpText,displayErrors:!1,label:e.config.label,readonly:!0,bubble:!0,facade:!0,patch:{field:"",path:""},maxlength:255}),e.config.createTag&&(e.ui.createNewInputConfig=new li({displayErrors:!1,label:e.config.createTagText,readonly:!0,maxlength:255})),De(e.config.createNewActions,!0)&&(e.dom.state.showEdit=e.config.createNewActions.includes("edit"),e.dom.state.showEdit&&(e.ui.editOptionConfig=new li({displayErrors:!1,label:e.config.createNewText,readonly:!0,maxlength:128,minimal:!0}))),!e.config.multiple&&e.config.value){const s=Y(e.config.options,["values"])?e.config.options.values.find(r=>r.value===e.config.value):null;Y(s,["value","name"])&&(e.config.selectedOptions=[Vi(s.value)?+s.value:s.value],e.asset.onFocusValue=JSON.stringify(e.config.selectedOptions),e.dom.active.optionId=Vi(s.value)?+s.value:s.value,e.ui.selected.config.control.setValue(s.name,{emitEvent:!1}))}else e.asset.onFocusValue=JSON.stringify(e.config.selectedOptions),e._updateSelectedOptions();return e._setUpFilterObservable(),e._filterOptionsList(""),yield e._setConfigHooks(),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setConfigHooks(){return new Promise(e=>(this.config.clearMessage=()=>{this.dom.setTimeout("config-clear-message",()=>{this.config.message="",this.config.control.markAsPristine(),this.config.control.markAsUntouched()},0)},this.config.triggerOnChange=t=>{this.dom.setTimeout("config-trigger-change",()=>{this.config.setValue(t,!0)},0)},this.config.setValue=(t,o=!1)=>{this.dom.setTimeout("config-set-value",()=>{if(this.config.selectedOptions=De(t)?t:t?[t]:[],this.config.control.setValue(t,{emitEvent:!1}),this.selectionListRef.selectedOptions.clear(),t&&!this.config.multiple){const s=Y(this.config.options,["values"])?this.config.options.values.find(r=>r.value===t):null;Y(s,["value","name"])&&(this.config.selectedOptions=[Vi(s.value)?+s.value:s.value],this.asset.onFocusValue=JSON.stringify(this.config.selectedOptions),this.dom.active.optionId=Vi(s.value)?+s.value:s.value,this.ui.selected.config.control.setValue(s.name,{emitEvent:!1}))}else{for(const s of this.config.groups)for(const r of s.options.values)r.selected=this.config.selectedOptions.includes(r.value);if(De(this.config.selectedOptions,!0)){const s=[],r=new Set(this.config.selectedOptions);for(const a of this.selectionListRef.options._results)r.has(a._value)&&(s.push(a),this.selectionListRef.selectedOptions.select(a))}this._setStrVal()}this.config.value=t,o&&this.onChange()},0)},e(!0)))}_setUpFilterObservable(){this.ui.search.config.control.valueChanges.pipe(Lh(200)).subscribe(e=>{this._filterOptionsList(e)})}onKeyUp(e){if("Enter"===e.code&&!this.config.multiple&&String(this.ui.search.config.control.value).length>2){const t=this._getFirstOptionAvailable();t&&(this.config.triggerOnChange(t.value),this.onClearSearchFilter(),this.dom.state.filterActivated=!1)}}_closeOptionList(){!this.config.toggleLock&&this.dom.state.filterActivated&&(this.dom.state.filterActivated=!1,this.cdr.detectChanges(),this._checkSelectedValue(this.dom.state.filterActivated),this._filterOptionsList(""),this.onBubbleEvent("close"),this.onClearSearchFilter(),this.config.offset=null)}_checkSelectedValue(e){this.ui.selected.config.control.invalid?this.config.displayErrors&&(this.config.message=mp(this.ui.selected.config.control.errors)):this.config.patch&&(this.config.patch.path||this.config.facade)&&JSON.stringify(this.config.selectedOptions)!==this.asset.onFocusValue&&this.onChange()}_setOptionListPosition(e){e.height>0&&(this.config.offset=null,this.dom.state.above=e.above,this.dom.state.below=e.below,this.dom.state.list=e.height,this.config.position=this.dom.state.below>=this.dom.state.above?"below":"above",this.config.height=this.config.defaultHeight,"above"===this.config.position?(this.config.height>this.dom.state.above&&(this.config.height=this.dom.state.above),this.config.minHeight=this.config.height):(this.config.height>this.dom.state.below&&(this.config.height=this.dom.state.below),this.config.minHeight=this.config.height),this.dom.setTimeout("search-focus",()=>{this.searchRef&&this.searchRef.nativeElement.focus()},200))}_checkGroupState(e,t){let o=!1,s=!0;e?t.options.values.some(r=>{if(!r.hidden&&!r.selected)return s=!1,o=!0,!0}):(s=!1,t.options.values.some(r=>{if(!r.hidden&&r.selected)return o=!0,!0})),t.all=s,t.indeterminate=o}_filterOptionsList(e){this.config.groups.map(t=>{t.options.values.map(s=>{s.hidden=!ll(s,e)}),t.selected=t.options.values.filter(s=>!s.hidden&&s.selected).length,t.visible=t.options.values.filter(s=>!s.hidden).length,this._checkGroupState(t.visible===t.selected,t)}),this.cdr.detectChanges()}_getFirstOptionAvailable(){let e=null;return this.config.groups.some(t=>{if(t.visible&&(e=t.options.values.find(o=>!o.hidden),e))return e}),e}_updateSelectedOptions(){const e=this.selectionListRef.selectedOptions.selected;let t=[];if(this.config.multiple){this.config.selectedOptions=[];for(const s of e)t.push(s._elementRef.nativeElement.innerText.trim()),this.config.selectedOptions.push(String(s.value).trim());t=t.sort(),this.config.strVal=t.join(", "),this.ui.selected.config.control.setValue(this.config.strVal,{emitEvent:!1});const o=gi(this.config.selectedOptions);this.config.control.setValue(o,{emitEvent:!1})}else{let o;for(const s of e)t.push(s._elementRef.nativeElement.innerText.trim()),o=s.value;t=t.sort(),this.config.strVal=t.join(", "),!this.config.strVal&&this.config.emptyValue&&(this.config.strVal=this.config.emptyValue),this.ui.selected.config.control.setValue(this.config.strVal,{emitEvent:!1}),this.dom.active.optionId=o||null,this.config.selectedOptions=o?[o]:[],this.config.control.setValue(o,{emitEvent:!1}),this.config.value=o,this._closeOptionList()}}_setStrVal(e=null){let t=[];if(e)for(const o of e)t.push(o.name);else{const o=this.selectionListRef.selectedOptions.selected;for(const s of o)window.console.log(s),t.push(s._elementRef.nativeElement.innerText.trim())}t=t.sort(),this.config.strVal=t.join(", "),!this.config.strVal&&this.config.emptyValue&&(this.config.strVal=this.config.emptyValue),this.ui.selected.config.control.setValue(this.config.strVal,{emitEvent:!1})}getFindOptionValues(e){let t,o=[];return t=!De(e)&&e?[e]:e,this.config.groups.map(s=>{const r=s.options.values.filter(a=>t.includes(a.value));De(r,!0)&&(o=[...o,...r])}),o}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-select-filter"]],viewQuery:function(e,t){if(1&e&&(ht(Fpe,7),ht(Lpe,7),ht(Npe,5)),2&e){let o;Ke(o=Ye())&&(t.listRef=o.first),Ke(o=Ye())&&(t.selectionListRef=o.first),Ke(o=Ye())&&(t.searchRef=o.first)}},hostBindings:function(e,t){1&e&&ie("keydown.escape",function(s){return t.onEscapeHandler(s)},0,xr)},inputs:{config:"config"},features:[Re],decls:12,vars:26,consts:[[1,"pop-select-filter-container","sw-field-item-container",3,"ngClass","libClickOutside"],["class","pop-select-filter-values",3,"ngClass","filter-selected","config","click",4,"ngIf"],[3,"ngClass"],["list",""],["class","pop-select-filter-search-header",4,"ngIf"],[3,"multiple"],["selectionList",""],[3,"minHeight",4,"ngIf"],["class","pop-select-filter-create-new sw-header-5",3,"click",4,"ngIf"],[4,"ngIf"],[1,"pop-select-filter-loader"],[3,"show"],[1,"pop-select-filter-values",3,"ngClass","config","click"],[1,"pop-select-filter-search-header"],["matTooltip","Toggle All","matTooltipPosition","above",3,"ngModel","color","ngModelChange","change",4,"ngIf"],["appearance","outline","floatLabel","never","class","sw-search sw-relative",4,"ngIf"],["class","pop-select-filter-create-new sw-header-7",3,"click",4,"ngIf"],["matTooltip","Toggle All","matTooltipPosition","above",3,"ngModel","color","ngModelChange","change"],["appearance","outline","floatLabel","never",1,"sw-search","sw-relative"],["matPrefix","",1,"sw-relative"],["matInput","","placeholder","Filter","type","text",1,"sw-pointer",3,"formControl","keyup"],["search",""],[1,"pop-select-filter-clear-icon","sw-pointer",3,"ngClass","click"],[1,"pop-select-filter-create-new","sw-header-7",3,"click"],[4,"ngFor","ngForOf"],["class","pop-select-filter-option-header",3,"click",4,"ngIf"],["class","sw-flex-row pop-select-filter-option-container",3,"ngClass","title",4,"ngFor","ngForOf"],[1,"pop-select-filter-option-header",3,"click"],["matTooltip","Toggle Group","matTooltipPosition","above",3,"ngModel","color","indeterminate","ngModelChange","change",4,"ngIf"],[1,"pop-select-header-label"],["matTooltip","Toggle Group","matTooltipPosition","above",3,"ngModel","color","indeterminate","ngModelChange","change"],[1,"sw-flex-row","pop-select-filter-option-container",3,"ngClass","title"],["class","pop-select-filter-option","disableRipple","",3,"checkboxPosition","ngClass","paddingLeft","selected","value","click",4,"ngIf"],["class","pop-select-filter-option-status",3,"ngClass","click",4,"ngIf"],["class","pop-select-filter-option-avatar","text","10px",3,"ngClass","width","url","initials","helpText",4,"ngIf"],["class","pop-select-option-status-link",3,"ngClass","click",4,"ngIf"],["disableRipple","",1,"pop-select-filter-option",3,"checkboxPosition","ngClass","selected","value","click"],[1,"pop-select-filter-option-status",3,"ngClass","click"],["text","10px",1,"pop-select-filter-option-avatar",3,"ngClass","width","url","initials","helpText"],[1,"pop-select-option-status-link",3,"ngClass","click"],[1,"sw-flex-row","pop-select-filter-edit-wrapper",3,"keydown.enter"],[3,"config"],["type","button","isIconButton","true","mat-raised-button","","color","accent",1,"sw-relative","sw-box-30","sw-pad-xs","sw-pull-lft-sm","sw-top-xs",3,"click"],[1,"sw-relative","material-icons","sw-btn-txt-sm"],["type","button","isIconButton","true","mat-raised-button","",1,"sw-relative","sw-box-30","sw-pad-xs","sw-pull-lft-sm","sw-top-xs",3,"click"],[1,"pop-select-filter-create-new","sw-header-5",3,"click"],[1,"sw-flex-row","pop-select-filter-create-new-wrapper",3,"keydown.enter"],["appearance","outline"],["matInput","","type","text",1,"sw-pointer",3,"placeholder","formControl"],["type","button","mat-raised-button","","color","accent",2,"z-index","2","pointer-events","all",3,"click"],[1,"material-icons"]],template:function(e,t){1&e&&(x(0,"div",0),ie("libClickOutside",function(){return t.onClickOutside()}),$(1,Vpe,1,7,"lib-pop-input",1),x(2,"div",2,3),$(4,Gpe,4,3,"div",4),x(5,"mat-selection-list",5,6),$(7,ime,2,3,"ng-container",7),$(8,nme,4,1,"div",8),$(9,ome,9,3,"div",9),C()(),x(10,"div",10),me(11,"lib-pop-field-item-loader",11),C()()),2&e&&(et("margin-bottom",t.config.offset,"px"),g("ngClass",ph(18,sme,t.config.minimal,!t.config.multiple,t.config.multiple,t.config.disabled)),_(1),g("ngIf",null==t.ui.selected?null:t.ui.selected.config),_(1),hs("select-filter-content pop-select-filter-items-",t.config.position,""),g("ngClass",Ii(23,rme,!t.dom.state.filterActivated,t.config.minimal)),_(2),g("ngIf",t.config.filter),_(1),et("min-height",t.config.minHeight,"px")("max-height",t.config.height,"px"),g("multiple",t.config.multiple),_(2),g("ngIf",t.dom.state.filterActivated),_(1),g("ngIf",t.config.createTag&&!t.dom.state.showInput),_(1),g("ngIf",t.dom.state.showInput),_(2),g("show",t.config.patch.displayIndicator&&t.config.patch.running))},styles:[".pop-select-filter-container[_ngcontent-%COMP%]{position:relative;display:block;padding:0;margin-bottom:9px}.pop-select-filter-button[_ngcontent-%COMP%]{border:1px solid var(--text-2);border-radius:.25em;position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;height:40px}.pop-select-filter-search-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;border-bottom:1px solid var(--border);padding-bottom:var(--xs);min-height:30px}.sw-search[_ngcontent-%COMP%], .sw-search[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.sw-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;width:100%}.pop-select-filer-count[_ngcontent-%COMP%]{position:absolute;bottom:-5px;right:2px;font-size:.7em;text-align:right}.select-filter-button-icon[_ngcontent-%COMP%]{pointer-events:none;z-index:1;position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;top:var(--gap-s);right:7px;color:var(--text-disabled);outline:0}.pop-select-filter-button[_ngcontent-%COMP%]:hover{background-color:var(--background-base);cursor:pointer}.pop-select-filter-items-above[_ngcontent-%COMP%]{border:1px solid var(--border);position:absolute;bottom:42px;left:0;right:0;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;background-color:var(--background-base);min-height:30px;border-radius:5px;z-index:1000;-webkit-box-shadow:-1px -4px 5px 0 rgba(0,0,0,.14),1px 1px 0px 0 rgba(0,0,0,.12),1px -1px 4px -1px rgba(0,0,0,.2);box-shadow:-1px -4px 5px #00000024,1px 1px #0000001f,1px -1px 4px -1px #0003}.pop-select-filter-items-below[_ngcontent-%COMP%]{border:1px solid var(--border);position:relative;top:1px;left:0;right:0;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;z-index:3;background-color:var(--background-base);min-height:30px;border-radius:3px;z-index:1000;-webkit-box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 0 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);box-shadow:0 4px 5px #00000024,0 1px #0000001f,0 2px 4px -1px #0003}.pop-select-filter-items-float[_ngcontent-%COMP%]{border:1px solid var(--border);position:absolute;top:43px;left:0;right:0;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;background-color:var(--background-base);min-height:30px;border-radius:3px;z-index:1000;-webkit-box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 0 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);box-shadow:0 4px 5px #00000024,0 1px #0000001f,0 2px 4px -1px #0003}.pop-select-filter-items-float-adjust[_ngcontent-%COMP%]{top:36px!important}.mat-mdc-form-field[_ngcontent-%COMP%]{display:block;height:30px}.pop-select-filter-option[_ngcontent-%COMP%]{-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;height:25px;font-size:.9em}.pop-select-filter-feedback[_ngcontent-%COMP%]{z-index:3;position:absolute;top:8px;right:9px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row;flex-flow:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.pop-select-filter-option-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-tap-highlight-color:transparent;width:100%;padding:0;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;padding-left:var(--xs);-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;height:30px;border-top:1px solid var(--border)!important;border-bottom:1px solid var(--border)!important;outline:0}.pop-select-option-header[_ngcontent-%COMP%]:hover{background:var(--bg-1)}.pop-select-header-label[_ngcontent-%COMP%]{position:relative;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-style:italic;font-weight:700;font-size:16px;padding-left:5px}.pop-select-filter-active[_ngcontent-%COMP%]{background:var(--background-main-menu);pointer-events:none;cursor:not-allowed}.pop-select-filter-option-container[_ngcontent-%COMP%]{position:relative;width:100%;-webkit-box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pop-select-filter-option-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;padding:0 var(--gap-xs)}.pop-select-filter-option-container[_ngcontent-%COMP%]:hover{background:var(--background-main-menu)}.pop-select-option-status-link[_ngcontent-%COMP%]{position:relative;padding-right:var(--gap-sm);color:var(--accent)!important;cursor:pointer;font-size:var(--text-sm);padding-top:2px;pointer-events:all!important;z-index:3!important}.pop-select-multi-filter-option-status[_ngcontent-%COMP%]{position:absolute;right:10px;top:5px;color:var(--disabled);font-size:.7em!important;font-style:italic}.pop-select-filter-clear-icon[_ngcontent-%COMP%]{position:absolute;top:var(--gap-xs);right:var(--gap-m);font-size:16px}.pop-select-filter-clear-icon-adjust[_ngcontent-%COMP%]{right:90px!important}.pop-select-filter-option-status[_ngcontent-%COMP%]{position:relative;color:var(--disabled);top:8px;font-size:.8em;text-align:right;min-width:75px;height:18px;margin-right:var(--gap-s);pointer-events:none}.pop-select-filter-option-avatar[_ngcontent-%COMP%]{position:relative}.pop-select-filter-option-status-link[_ngcontent-%COMP%]{color:var(--accent)!important;cursor:pointer}.pop-select-filter-create-new[_ngcontent-%COMP%]{color:var(--accent-800);cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pop-select-filter-create-new[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:6px;left:2px;font-size:1em}.pop-select-filter-create-new-wrapper[_ngcontent-%COMP%]{padding:var(--gap-s);gap:var(--gap-s)}.pop-select-filter-create-new-wrapper[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}.pop-select-filter-create-new-wrapper[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-form-field-appearance-outline[_ngcontent-%COMP%]{height:35px!important}.pop-select-filter-edit-wrapper[_ngcontent-%COMP%]{gap:var(--gap-s)}.pop-select-filter-edit-wrapper[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}.pop-select-filter-loader[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:-3px;padding:0 2px}[_nghost-%COMP%]     .checkbox-after{direction:rtl}[_nghost-%COMP%]     .checkbox-after .mat-checkbox-layout{width:100%}[_nghost-%COMP%]     .checkbox-after .mat-checkbox-layout .mat-checkbox-inner-container{margin:0 9px 0 auto}[_nghost-%COMP%]     .mat-checkbox-inner-container{margin:0 0 0 var(--gap-sm)}[_nghost-%COMP%]     .mat-checkbox-label{padding:0 0 0 var(--gap-sm)}[_nghost-%COMP%]     .mat-list-item-content-reverse{padding:0 var(--gap-s) 0 var(--gap-xs)!important;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}[_nghost-%COMP%]     .mat-list-text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-ms-flex-direction:row!important;flex-direction:row!important;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}[_nghost-%COMP%]     mat-selection-list{overflow-y:auto;overflow-x:hidden;outline:0!important;padding-bottom:var(--gap-xs)}[_nghost-%COMP%]     mat-selection-list>div:first-child{overflow-y:scroll}[_nghost-%COMP%]     mat-list-option{border:none!important;background:transparent}.pop-select-all-header[_ngcontent-%COMP%]:hover{background:var(--bg-1)}[_nghost-%COMP%]     .pop-select-filter-values.pop-select-filter-default .mat-form-field-infix{padding:8px 40px 13px 0!important;pointer-events:none!important}[_nghost-%COMP%]     .pop-select-filter-values input{display:-webkit-box;display:-ms-flexbox;display:flex;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;z-index:2;padding-right:40px}.pop-select-filter-minimal[_ngcontent-%COMP%]{padding-top:2px!important;padding-bottom:5px!important}.pop-select-filter-default[_ngcontent-%COMP%]{padding-top:4px!important;padding-bottom:13px!important}[_nghost-%COMP%]     .pop-select-filter-values .mat-form-field-infix{pointer-events:none!important}[_nghost-%COMP%]     .pop-select-filter-single mat-pseudo-checkbox{display:none!important}[_nghost-%COMP%]     .pop-select-filter-single .mat-list-text{padding-left:0!important}[_nghost-%COMP%]     .pop-select-option-header mat-checkbox{margin-left:-1px!important}[_nghost-%COMP%]     .pop-select-filter-single .sw-search{padding-left:var(--gap-s)}[_nghost-%COMP%]     .pop-select-option-header .mat-checkbox-inner-container{width:16px!important;height:16px!important}[_nghost-%COMP%]     .pop-select-option-header .mat-checkbox-label{padding:0 var(--gap-s) 0 0}[_nghost-%COMP%]     .pop-input-container{margin:0!important}[_nghost-%COMP%]     .filter-option-selected .pop-input-container{background-color:var(--darken06)!important}[_nghost-%COMP%]     mat-list-base{padding:0!important}[_nghost-%COMP%]     .mat-list-text{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}[_nghost-%COMP%]     .pop-select-filter-container-minimal.sw-field-item-container{min-height:0!important;height:38px!important}[_nghost-%COMP%]     .mat-form-field-infix{width:0!important;border-width:7px!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em!important}[_nghost-%COMP%]     input.mat-mdc-input-element{margin-top:3px!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:0;margin:0!important;height:35px}button[_ngcontent-%COMP%]{padding:0!important}"]}),i})(),yu=(()=>{class i{constructor(e){this._elementRef=e,this.libClickOutside=new tt}onClick(e,t){t&&(this._elementRef.nativeElement.contains(t)||this.libClickOutside.emit(e))}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275dir=Xe({type:i,selectors:[["","libClickOutside",""]],hostBindings:function(e,t){1&e&&ie("click",function(s){return t.onClick(s,s.target)},0,xr)},outputs:{libClickOutside:"libClickOutside"}}),i})();function ame(i,n){if(1&i&&(x(0,"span"),ee(1),C()),2&i){const e=I(2);_(1),Je(e.dayOfWeek)}}const lme=function(i){return{selected:i}};function cme(i,n){if(1&i){const e=Me();x(0,"button",2),ie("click",function(){const s=he(e).$implicit;return pe(I().selectDatePreset(s))}),ee(1),$(2,ame,2,1,"span",3),C()}if(2&i){const e=n.$implicit,t=I();g("ngClass",qe(3,lme,e===t.selected)),_(1),Mt(" ",e," "),_(1),g("ngIf","Last"===e||"Previous"===e||"Next"===e)}}const dme=["Today","Last","Previous","Next","Last Month","Next Month","Last Year","Next Year","Custom"];let ume=(()=>{class i{constructor(e,t,o){switch(this.dateAdapter=e,this.datePicker=t,this.calendar=o,this.presets=dme,this.selected="Today",(new Date).getDay()){case 0:this.dayOfWeek="Sunday";break;case 1:this.dayOfWeek="Monday";break;case 2:this.dayOfWeek="Tuesday";break;case 3:this.dayOfWeek="Wednesday";break;case 4:this.dayOfWeek="Thursday";break;case 5:this.dayOfWeek="Friday";break;case 6:this.dayOfWeek="Saturday"}}selectDatePreset(e){this.selected=e;const t=this.calculateDate(e);this.datePicker.select(t),this.calendar.activeDate=t}calculateDate(e){const t=this.today;switch(e){case"Today":return t;case"Last":return this.dateAdapter.addCalendarDays(t,-7);case"Previous":return this.dateAdapter.addCalendarDays(t,-14);case"Next":return this.dateAdapter.addCalendarDays(t,7);case"Last Month":return this.dateAdapter.addCalendarMonths(t,-1);case"Next Month":return this.dateAdapter.addCalendarMonths(t,1);case"Last Year":return this.dateAdapter.addCalendarYears(t,-1);case"Next Year":return this.dateAdapter.addCalendarYears(t,1)}}get today(){const e=this.dateAdapter.today();if(null===e)throw new Error("date creation failed");return e}}return i.\u0275fac=function(e){return new(e||i)(P(to),P(lv),P(su))},i.\u0275cmp=Fe({type:i,selectors:[["lib-custom-panel"]],decls:2,vars:1,consts:[["appearance","outlined",1,"pop-datepicker-panel"],["class","date-preset-button","mat-button","","color","accent",3,"ngClass","click",4,"ngFor","ngForOf"],["mat-button","","color","accent",1,"date-preset-button",3,"ngClass","click"],[4,"ngIf"]],template:function(e,t){1&e&&(x(0,"mat-card",0),$(1,cme,3,5,"button",1),C()),2&e&&(_(1),g("ngForOf",t.presets))},dependencies:[Gt,ai,ct,kn,Kh],styles:["[_nghost-%COMP%]{position:absolute;width:200px;left:-200px}.pop-datepicker-panel[_ngcontent-%COMP%]{position:relative;top:-1px;border-left:1px solid lightgray;border-bottom:1px solid lightgrey;border-top:1px solid lightgray;border-radius:0;padding:var(--gap-s);height:405px}.date-preset-button[_ngcontent-%COMP%]{width:100%;text-align:left}.selected[_ngcontent-%COMP%]{background:var(--background-side-menu);width:100%;text-align:left}"],changeDetection:0}),i})(),hme=(()=>{class i{constructor(e,t,o){this.calendar=e,this.dateAdapter=t,this.dateFormat=o}toggleCalView(){this.calendar.currentView="month"===this.calendar.currentView?"multi-year":"month"}get periodLabel(){return this.dateAdapter.format(this.calendar.activeDate,this.dateFormat.display.monthYearLabel)}previousClicked(e){this.changeDate(e,-1)}nextClicked(e){this.changeDate(e,1)}changeDate(e,t){this.calendar.activeDate="month"===e?this.dateAdapter.addCalendarMonths(this.calendar.activeDate,t):this.dateAdapter.addCalendarYears(this.calendar.activeDate,t)}}return i.\u0275fac=function(e){return new(e||i)(P(su),P(to),P(ga))},i.\u0275cmp=Fe({type:i,selectors:[["lib-custom-header"]],decls:17,vars:1,consts:[[1,"example-header"],[1,"header-label","mat-body",3,"click"],[1,"view-nav"],["mat-icon-button","",1,"nav-button",3,"click"],[1,"date-custom-footer"],["id","datepicker-cancel","mat-raised-button","",1,"date-action-button"],["id","datepicker-apply","mat-flat-button","","color","accent"]],template:function(e,t){1&e&&(me(0,"lib-custom-panel"),x(1,"div",0)(2,"span",1),ie("click",function(){return t.toggleCalView()}),ee(3),x(4,"mat-icon",2),ee(5,"arrow_drop_down"),C()(),x(6,"button",3),ie("click",function(){return t.previousClicked("month")}),x(7,"mat-icon"),ee(8,"keyboard_arrow_left"),C()(),x(9,"button",3),ie("click",function(){return t.nextClicked("month")}),x(10,"mat-icon"),ee(11,"keyboard_arrow_right"),C()()(),x(12,"div",4)(13,"button",5),ee(14,"CANCEL"),C(),x(15,"button",6),ee(16,"APPLY"),C()()),2&e&&(_(3),Mt("",t.periodLabel," "))},dependencies:[kn,zh,wi,ume],styles:[".example-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--gap-m) var(--gap-m) 0 var(--gap-m)}.nav-button[_ngcontent-%COMP%]{color:var(--foreground-disabled)}.view-nav[_ngcontent-%COMP%]{position:relative;top:7px}.header-label[_ngcontent-%COMP%]{position:relative;top:-5px;-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:14px;color:var(--foreground-disabled);text-align:left;cursor:pointer}.example-double-arrow[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--foreground-disabled);margin:-22%}.date-custom-footer[_ngcontent-%COMP%]{position:relative;top:320px;float:right;padding-right:var(--gap-m)}.date-action-button[_ngcontent-%COMP%]{margin-right:var(--gap-s)}"]}),i})();const pme=["picker"],mme=["dayInput"],fme=["yearInput"],gme=["monthInput"];function _me(i,n){1&i&&me(0,"div",21),2&i&&g("innerHTML",I().config.tooltip,yr)}function bme(i,n){if(1&i){const e=Me();x(0,"mat-icon",22),ie("click",function(){return he(e),pe(I().onResetForm())}),ee(1,"clear"),C()}}const vme=function(i){return{"date-expansion-items":i}};let V4=(()=>{class i extends Io{constructor(e,t){var o;super(),o=this,this.el=e,this.overlayContainer=t,this.config=new cI,this.name="PopDateComponent",this.ui={expansionItems:null},this.asset={day:void 0,month:void 0,year:void 0},this.dom.configure=()=>new Promise(s=>(this.config.expansionItems&&(this.ui.expansionItems=hme),this.config.triggerOnChange=(r,a=!1)=>{this.dom.setTimeout("config-trigger-change",q(function*(){yield o.onChange(r,a)}),0)},this.config.clearMessage=()=>{this.dom.setTimeout("config-clear-message",()=>{this.config.message="",this.config.control.markAsPristine(),this.config.control.markAsUntouched()},0)},this._setFilterPredicate(),this.config.value&&(this.asset.day=this.config.value.getDate(),this.asset.month=this.config.value.getMonth()+1,this.asset.year=this.config.value.getFullYear()),this.config.triggerInitialValue&&this.config.triggerOnChange(this.config.value,!1),s(!0)))}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){this.selfClose=this.picker.close}onOpen(){const e=this.overlayContainer.getContainerElement().classList;this.config.expansionItems?(this.picker.close=()=>{},this.dom.setTimeout("add-expanded-class",()=>e.add("expanded"),100)):this.removeExpandedClass()}dispatch(e){e.dispatchEvent(new Event("input"))}removeExpandedClass(){const e=this.overlayContainer.getContainerElement().classList;e.contains("expanded")&&this.dom.setTimeout("remove-expanded-class",()=>e.remove("expanded"),100)}update(e){var t=this;return q(function*(){try{t.onChange(new Date(e).toISOString())}catch(o){t.config.message=o.message,yield t.onBubbleEvent("onInvalidChange")}})()}onDateChange(e){this.asset.day=e.value.getDate(),this.asset.month=e.value.getMonth()+1,this.asset.year=e.value.getFullYear(),this.onCheckValidity()}onChangeValue(e,t){this.asset[t]=+e.target.value}onKeyUp(e,t){+e.target.value>=10&&("month"==t?setTimeout(()=>{this.dayInput.nativeElement.focus(),this.dayInput.nativeElement.select()},0):"day"==t&&setTimeout(()=>{this.yearInput.nativeElement.focus(),this.yearInput.nativeElement.select()},0))}onCheckValidity(){var e=this;return q(function*(){const t=`${e.asset.month}/${e.asset.day}/${e.asset.year}`;if(Vi(e.asset.day)&&Vi(e.asset.month)&&Vi(e.asset.year)){const o=new Date(t);try{e.onChange(new Date(o).toISOString()),e.onBlur()}catch(s){e.config.message=s.message,yield e.onBubbleEvent("onInvalidChange")}}else e.config.message="Invalid",yield e.onBubbleEvent("onInvalidChange")})()}numberOnly(e){const t=e.which?e.which:e.keyCode;return!(t>31&&(t<48||t>57))}onChange(e,t=!1){var o=this;return q(function*(){if(e=e?wo.toIso(e):null,Y(o.config,["control"])){o.log.info("onChange",e);const s=o.config.control;typeof e<"u"&&(s.setValue(e),s.markAsDirty(),s.updateValueAndValidity()),o._isChangeValid()?(o.config.clearMessage(),e=o._applyTransformation(e=typeof e<"u"?e:o.config.control.value),yield o.config.patch&&(o.config.patch.path||o.config.facade)?o._onPatch(e,t):o.onBubbleEvent("onChange")):yield o.onBubbleEvent("onInvalidChange")}})()}onResetForm(){this.dom.setTimeout("reset-form",()=>{this.config.control.setValue(null,{emitEvent:!0}),this.config.control.updateValueAndValidity(),this.onChange(),this.asset.day=void 0,this.asset.month=void 0,this.asset.year=void 0},0)}onClickOutsideBoundary(e){var t=this;this.dom.setTimeout("click-outside-boundary",q(function*(){const o=e.path;if(o){let s=o.some(l=>{if(l.className)return l.className.includes("mat-datepicker")});s&&o.some(c=>{if(c.className)return c.className.includes("mat-overlay")})&&(s=!1);const r=o.some(l=>{if(l.id)return l.id.includes("datepicker-cancel")}),a=o.some(l=>{if(l.id)return l.id.includes("datepicker-apply")});(!s||r||a)&&(t.picker.close=t.selfClose,t.picker.close(),t.removeExpandedClass())}}),0)}ngOnDestroy(){super.ngOnDestroy(),this.removeExpandedClass()}_setFilterPredicate(){if("string"==typeof this.config.filterPredicate)switch(String(this.config.filterPredicate).toLowerCase()){case"weekday":this.config.filterPredicate=e=>{const t=e.getDay();return 0!==t&&6!==t};break;case"week":this.config.filterPredicate=e=>{const t=e.getDay();return t>=1&&t<=5};break;case"monday":this.config.filterPredicate=e=>1===e.getDay();break;default:this.config.filterPredicate=null}}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Xd))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-date"]],viewQuery:function(e,t){if(1&e&&(ht(pme,5),ht(mme,5),ht(fme,5),ht(gme,5)),2&e){let o;Ke(o=Ye())&&(t.picker=o.first),Ke(o=Ye())&&(t.dayInput=o.first),Ke(o=Ye())&&(t.yearInput=o.first),Ke(o=Ye())&&(t.monthInput=o.first)}},inputs:{config:"config"},features:[Re],decls:26,vars:22,consts:[[1,"sw-field-item-container","pop-date-container",3,"libClickOutside"],["class","field-tooltip-msg",3,"innerHTML",4,"ngIf"],[1,"date-fields-wrapper"],[1,"sw-flex-row","date-field-container"],["appearance","fill",1,"date-fields"],["matInput","","maxlength","2","placeholder","mm",3,"value","keypress","keyup","change","blur"],["monthInput",""],["matInput","","maxlength","2","placeholder","dd",3,"value","keypress","keyup","change","blur"],["dayInput",""],["appearance","fill",1,"date-fields",2,"width","50px"],["matInput","","maxlength","4","placeholder","yyyy",3,"value","keypress","keyup","change","blur"],["yearInput",""],["type","text",2,"display","none",3,"formControl","readonly","min","max","matDatepickerFilter","matDatepicker","dateChange"],[3,"for"],[3,"ngClass","calendarHeaderComponent","opened"],["picker",""],["class","sw-pointer date-clear-icon",3,"click",4,"ngIf"],[1,"date-helper-icon",3,"hidden","helpText"],[1,"date-feedback-container"],[1,"date-error-icon",3,"hidden","message"],[3,"show"],[1,"field-tooltip-msg",3,"innerHTML"],[1,"sw-pointer","date-clear-icon",3,"click"]],template:function(e,t){if(1&e&&(x(0,"div",0),ie("libClickOutside",function(s){return t.onClickOutsideBoundary(s)}),$(1,_me,1,1,"div",1),x(2,"div",2)(3,"legend"),ee(4),C(),x(5,"div",3)(6,"mat-form-field",4)(7,"input",5,6),ie("keypress",function(s){return t.numberOnly(s)})("keyup",function(s){return t.onKeyUp(s,"month")})("change",function(s){return t.onChangeValue(s,"month")})("blur",function(){return t.onCheckValidity()}),C()(),ee(9," / "),x(10,"mat-form-field",4)(11,"input",7,8),ie("keypress",function(s){return t.numberOnly(s)})("keyup",function(s){return t.onKeyUp(s,"day")})("change",function(s){return t.onChangeValue(s,"day")})("blur",function(){return t.onCheckValidity()}),C()(),ee(13," / "),x(14,"mat-form-field",9)(15,"input",10,11),ie("keypress",function(s){return t.numberOnly(s)})("keyup",function(s){return t.onKeyUp(s,"year")})("change",function(s){return t.onChangeValue(s,"year")})("blur",function(){return t.onCheckValidity()}),C(),x(17,"input",12),ie("dateChange",function(s){return t.onDateChange(s)}),C()(),me(18,"mat-datepicker-toggle",13),x(19,"mat-datepicker",14,15),ie("opened",function(){return t.onOpen()}),C()()(),$(21,bme,2,0,"mat-icon",16),me(22,"lib-pop-field-item-helper",17),x(23,"div",18),me(24,"lib-pop-field-item-error",19),C(),me(25,"lib-pop-field-item-loader",20),C()),2&e){const o=Qt(20);_(1),g("ngIf",t.config.tooltip&&t.config.showTooltip),_(3),Je(t.config.label),_(3),g("value",null!=t.asset.month?t.asset.month:""),_(4),g("value",null!=t.asset.day?t.asset.day:""),_(4),g("value",null!=t.asset.year?t.asset.year:""),_(2),g("formControl",t.config.control)("readonly",t.config.disabled)("min",t.config.min)("max",t.config.max)("matDatepickerFilter",t.config.filterPredicate)("matDatepicker",o),_(1),g("for",o),_(1),g("ngClass",qe(20,vme,t.config.expansionItems))("calendarHeaderComponent",t.ui.expansionItems),_(2),g("ngIf",!t.config.disabled&&!t.config.preventClear),_(1),g("hidden",!t.config.helpText)("helpText",t.config.helpText),_(2),g("hidden",!t.config.message)("message",t.config.message),_(1),g("show",t.config.patch.displayIndicator&&t.config.patch.running)}},dependencies:[Gt,ct,$s,$o,sr,Wr,ks,lv,Cf,L1,wi,qo,Ia,hl,yu],styles:["input[_ngcontent-%COMP%]{text-align:center}.date-field-container[_ngcontent-%COMP%]{-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--gap-xxs);position:relative;padding:var(--gap-xxs) var(--gap-xs)}.date-field-container[_ngcontent-%COMP%]   .date-fields[_ngcontent-%COMP%]{width:33px;height:26px!important}.date-fields-wrapper[_ngcontent-%COMP%]{width:100%;border:1px solid var(--border);border-radius:3px;position:relative}.date-fields-wrapper[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{position:absolute;top:-6px;font-size:9px;color:gray;left:5px;padding:0 5px;background:var(--background-base)}.date-fields-wrapper[_ngcontent-%COMP%]:hover{border-color:var(--foreground-base)}.date-fields-wrapper[_ngcontent-%COMP%]:focus-within{border-color:var(--accent)}.pop-date-container[_ngcontent-%COMP%]{position:relative;display:block;padding:0;margin:var(--gap-s) 0}.pop-date-container[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding-top:3px!important}.pop-date-container[_ngcontent-%COMP%]     .mat-mdc-form-field-appearance-outline .mat-mdc-form-field-subscript-wrapper{display:none}.pop-date-container[_ngcontent-%COMP%]     .mat-mdc-form-field-appearance-outline .mat-mdc-form-field-wrapper{padding-bottom:0;margin:0!important}.pop-date-container[_ngcontent-%COMP%]     .mat-mdc-form-field-appearance-outline .mat-mdc-form-field-infix{padding:0;padding-bottom:var(--gap-xxs)}.pop-date-container[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{border:0}.pop-date-container[_ngcontent-%COMP%]     .mat-mdc-form-field-wrapper{padding-bottom:0}.pop-date-container[_ngcontent-%COMP%]     .mdc-text-field{padding:0!important}.date-feedback-container[_ngcontent-%COMP%]{position:absolute;top:var(--gap-xxs);right:var(--gap-xxs);width:var(--gap-m);bottom:var(--gap-xxs);display:-webkit-box;display:-ms-flexbox;display:flex;padding-top:2px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row;flex-flow:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;pointer-events:none}.date-clear-icon[_ngcontent-%COMP%]{position:absolute!important;width:25px;height:25px;right:42px;top:13px;z-index:1;font-size:1em}.date-toggle-icon[_ngcontent-%COMP%]{position:absolute!important;width:25px;height:25px;right:24px;top:8px;z-index:1}.date-toggle-icon[_ngcontent-%COMP%]     .mat-mdc-icon-button{line-height:25px!important}.date-toggle-icon[_ngcontent-%COMP%]     button{width:25px;height:25px}.date-toggle-icon[_ngcontent-%COMP%]     button mat-icon{font-size:.9em}.date-error-icon[_ngcontent-%COMP%]{position:relative;pointer-events:all;left:4px}.date-error-icon[_ngcontent-%COMP%]     .mat-icon{font-size:1em!important}.date-helper-icon[_ngcontent-%COMP%]{position:absolute!important;width:25px;height:25px;right:67px;pointer-events:all;font-size:.8em;top:11px}.date-helper-icon[_ngcontent-%COMP%]     .mat-icon{font-size:.9em!important}.date-ajax-spinner[_ngcontent-%COMP%]{position:absolute;z-index:1}.field-tooltip-msg[_ngcontent-%COMP%]{position:absolute;display:block;bottom:50px;width:100%;right:-10px;left:-10px;background:#3d72ea!important;border-radius:.25em;padding:.75em;z-index:2;color:var(--foreground-base);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;overflow:hidden;text-align:center}  .date-expansion-items .mat-datepicker-content{position:relative;left:200px;border-radius:0!important;height:425px;background:var(--background-base);border-top:1px solid lightgray;border-right:1px solid lightgray;border-bottom:1px solid lightgray}  .mat-datepicker-content{background:var(--background-base);border:1px solid lightgray}.mat-mdc-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-mdc-form-field-fill[_ngcontent-%COMP%]{color:#fff}mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;right:12px}"]}),i})(),$4=(()=>{class i{constructor(e,t,o){this.calendar=e,this.dateAdapter=t,this.dateFormat=o}toggleCalView(){this.calendar.currentView="month"===this.calendar.currentView?"multi-year":"month"}get periodLabel(){return this.dateAdapter.format(this.calendar.activeDate,this.dateFormat.display.monthYearA11yLabel)}previousClicked(e){this.changeDate(e,-1)}nextClicked(e){this.changeDate(e,1)}changeDate(e,t){this.calendar.activeDate="month"===e?this.dateAdapter.addCalendarMonths(this.calendar.activeDate,t):this.dateAdapter.addCalendarYears(this.calendar.activeDate,t)}}return i.\u0275fac=function(e){return new(e||i)(P(su),P(to),P(ga))},i.\u0275cmp=Fe({type:i,selectors:[["lib-custom-header"]],decls:12,vars:1,consts:[[1,"example-header"],[1,"header-label","mat-body",3,"click"],[1,"view-nav"],["mat-icon-button","",1,"nav-button",3,"click"]],template:function(e,t){1&e&&(me(0,"lib-date-range-panel"),x(1,"div",0)(2,"span",1),ie("click",function(){return t.toggleCalView()}),ee(3),x(4,"mat-icon",2),ee(5,"arrow_drop_down"),C()(),x(6,"button",3),ie("click",function(){return t.previousClicked("month")}),x(7,"mat-icon"),ee(8,"keyboard_arrow_left"),C()(),x(9,"button",3),ie("click",function(){return t.nextClicked("month")}),x(10,"mat-icon"),ee(11,"keyboard_arrow_right"),C()()()),2&e&&(_(3),Mt("",t.periodLabel," "))},styles:['.example-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--gap-m) var(--gap-m) 0 var(--gap-m)}.nav-button[_ngcontent-%COMP%]{color:var(--foreground-disabled)}.view-nav[_ngcontent-%COMP%]{position:relative;top:7px}.header-label[_ngcontent-%COMP%]{position:relative;top:-5px;-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:14px;color:var(--foreground-disabled);text-align:left;cursor:pointer}.example-double-arrow[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--foreground-disabled);margin:-22%}.date-custom-footer[_ngcontent-%COMP%]{position:relative;top:320px;float:right;padding-right:var(--gap-m)}.date-action-button[_ngcontent-%COMP%]{margin-right:var(--gap-s)}  .mat-calendar-body-in-range:not(.mat-calendar-body-range-start):not(.mat-calendar-body-range-end):before{background:var(--accent-selected)}  td.mat-calendar-body-cell.mat-calendar-body-in-range.ng-star-inserted:last-child:before{border-top-right-radius:999px;border-bottom-right-radius:999px}  tr:last-child td.mat-calendar-body-cell.mat-calendar-body-in-range.ng-star-inserted:last-child:before{border-top-right-radius:999px;border-bottom-right-radius:999px}  td.mat-calendar-body-cell.mat-calendar-body-in-range.ng-star-inserted[data-mat-col="0"]:before{border-top-left-radius:999px;border-bottom-left-radius:999px}  .mat-calendar-body-range-start:before{border-top-left-radius:999px;border-bottom-left-radius:999px;background:var(--accent-selected)}  .mat-calendar-body-range-end:before{border-top-right-radius:999px;border-bottom-right-radius:999px;background:var(--accent-selected)}']}),i})();class OI{constructor(n){if(this.bubble=!1,this.open=!1,this.disabled=!1,this.displayErrors=!0,this.expansionItems=!1,this.filterPredicate=null,this.helpText="",this.id="",this.label="",this.max=null,this.maxValue=null,this.minValue=null,this.message="",this.min=null,this.name="name",this.noInitialValue=!1,this.showTooltip=!1,this.tooltip="",n)for(const e in n)this[e]=n[e];this.valueStart&&(this.valueStart=new Date(this.valueStart)),this.valueEnd&&(this.valueEnd=new Date(this.valueEnd)),"string"==typeof this.min&&(this.min=new Date(this.min)),"string"==typeof this.max&&(this.max=new Date(this.max)),this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1,businessId:0}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.noInitialValue&&(this.valueStart=""),this.noInitialValue&&(this.valueEnd=""),this.formGroup||this.setControl()}setControl(){this.control=new vi({value:{startDate:this.valueStart??null,endDate:this.valueEnd??null},disabled:!1}),this.startDate=new vi({value:this.valueStart,disabled:this.disabled}),this.endDate=new vi({value:this.valueEnd,disabled:this.disabled}),this.formGroup=new Xw({start:this.startDate,end:this.endDate})}}const yme=["Today","So Far This Week","This Week","Last Week","Previous Week","Rest of This Week","Next Week","This Month","Last Month","Next Month"];let RI=(()=>{class i extends Qr{constructor(e){super(),this.dateAdapter=e,this.presetEvents=new tt}applyPreset(e){e&&(this.preset=e,this.presetEvents.emit(e))}hasPreset(){return Ne(this.preset,!0)}getPreset(){return Ne(this.preset,!0)?this.preset:null}clearPreset(){this.preset=null,this.presetEvents.emit(null)}calculateDateRange(e){return this._calculateDateRange(e)}getDaysInRange(e,t){let o=Math.abs(new Date(t).getTime()-new Date(e).getTime());return o/=864e5,o++,o}getFilterPredicate(e){let t;switch(String(e).toLowerCase()){case"weekday":t=o=>{const s=o.getDay();return 0!==s&&6!==s};break;case"week":t=o=>{const s=o.getDay();return s>=1&&s<=5};break;case"monday":t=o=>1===o.getDay();break;default:t=null}return t}ngOnDestroy(){super.ngOnDestroy()}_calculateDateRange(e){const t=this.today;switch(e){case"Today":return[t,t];case"So Far This Week":{const o=this._adjDayOfWeekToStartOnMonday(t);return[this.dateAdapter.addCalendarDays(t,-o),t]}case"This Week":return this._calculateWeek(t);case"Last Week":return this._calculateWeek(this.dateAdapter.addCalendarDays(t,-7));case"Previous Week":return this._calculateWeek(this.dateAdapter.addCalendarDays(t,-14));case"Rest of This Week":{const o=this._adjDayOfWeekToStartOnMonday(t);return[t,this.dateAdapter.addCalendarDays(t,6-o)]}case"Next Week":{const o=this._adjDayOfWeekToStartOnMonday(t),s=this.dateAdapter.addCalendarDays(t,7-o);return this._calculateWeek(s)}case"This Month":return this._calculateMonth(t);case"Last Month":{const o=this.dateAdapter.addCalendarMonths(t,-1);return this._calculateMonth(o)}case"Next Month":{const o=this.dateAdapter.addCalendarMonths(t,1);return this._calculateMonth(o)}}}_adjDayOfWeekToStartOnMonday(e){let t=this.dateAdapter.getDayOfWeek(e);return t=0===t?6:t-1,t}_calculateWeek(e){const t=this.dateAdapter.getFirstDayOfWeek()-this.dateAdapter.getDayOfWeek(e),o=this.dateAdapter.addCalendarDays(e,t);return[o,this.dateAdapter.addCalendarDays(o,6)]}_calculateMonth(e){const t=this.dateAdapter.getYear(e),o=this.dateAdapter.getMonth(e),s=this.dateAdapter.createDate(t,o,1);return[s,this.dateAdapter.addCalendarDays(s,this.dateAdapter.getNumDaysInMonth(e)-1)]}get today(){const e=this.dateAdapter.today();if(null===e)throw new Error("date creation failed");return e}}return i.\u0275fac=function(e){return new(e||i)(Le(to))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();const xme=["dateRangePicker"];function Cme(i,n){if(1&i&&(x(0,"mat-label"),ee(1),C()),2&i){const e=I();_(1),Je(null==e.config?null:e.config.label)}}function wme(i,n){1&i&&me(0,"div",17),2&i&&g("innerHTML",I().config.tooltip,yr)}function kme(i,n){if(1&i){const e=Me();x(0,"mat-icon",18),ie("click",function(){return he(e),pe(I().onResetForm())}),ee(1,"clear"),C()}}const Ime=function(i,n){return{disabled:i,"ng-invalid":n}},Ame=function(i){return{disabled:i}},Sme=function(i){return{expanded:i}};let H4=(()=>{class i extends Io{constructor(e,t,o){var s;super(),s=this,this.el=e,this._rangeRepo=t,this.overlayContainer=o,this.config=new OI,this.name="PopDateRangeComponent",this.srv={range:void 0},this.ui={startDate:new vi,endDate:new vi,expansionItems:$4},this.dom.configure=()=>new Promise(r=>(this.config.expansionItems||(this.ui.expansionItems=null),this.dom.state.valid=!1,this.config.triggerOnChange=(a,l=!1)=>{this.dom.setTimeout("config-trigger-change",q(function*(){kt(a.startDate,!0)&&s.config.startDate.setValue(a.startDate,{emitEvent:!1}),kt(a.endDate,!0)&&s.config.endDate.setValue(a.endDate,{emitEvent:!1}),s.config.control.setValue({startDate:wo.toIsoShort(s.config.startDate.value),endDate:wo.toIsoShort(s.config.endDate.value)}),yield s.onChange(null,l)}),0)},this.config.clearMessage=()=>{this.dom.setTimeout("config-clear-message",()=>{this.config.message="",this.config.startDate.markAsPristine(),this.config.endDate.markAsPristine()},0)},this.config.applyPreset=a=>{if(a){const[l,c]=this.srv.range.calculateDateRange(a);this.config.control.setValue({startDate:wo.toIsoShort(l),endDate:wo.toIsoShort(c)}),this.config.startDate.setValue(l),this.config.endDate.setValue(c),this.srv.range.applyPreset(a),this.onChange(null,!0)}},"string"==typeof this.config.filterPredicate&&(this.config.filterPredicate=this.srv.range.getFilterPredicate(this.config.filterPredicate)),r(!0))),this.dom.proceed=()=>new Promise(function(){var r=q(function*(a){return(!s.config.control.value.startDate||!s.config.control.value.endDate)&&s.config.preset&&s.config.applyPreset(s.config.preset),a(!0)});return function(a){return r.apply(this,arguments)}}()),this.dom.unload=()=>new Promise(function(){var r=q(function*(a){return s.removeExpandedClass(),a(!0)});return function(a){return r.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onDateChange(){var e=this;this.dom.setTimeout("date-change",q(function*(){e.isChangeValid()&&(yield e.onChange())}))}ngAfterViewInit(){this.config.selfClose=this.picker.close}getDateControlName(e){return"start"===e?Object.keys(this.config.formGroup.controls)[0]:"end"===e?Object.keys(this.config.formGroup.controls)[1]:void 0}onOpenPicker(){if(this.config.expansionItems){const e=this.overlayContainer.getContainerElement().classList;this.picker.close=()=>{},e.add("expanded")}else this.removeExpandedClass();this.config.open=!0}onClosePicker(){this.config.open=!1}removeExpandedClass(){const e=this.overlayContainer.getContainerElement().classList;e.contains("expanded")&&setTimeout(()=>e.remove("expanded"),100)}onClickOutsideBoundary(e){var t=this;this.dom.setTimeout("click-outside-boundary",q(function*(){const o=e.path;De(o,!0)&&o[0].className.includes("mat-calendar-body-cell-content")&&t.srv.range.clearPreset();let r=!1,a=!1,l=!1;o&&De(o,!0)&&(l=o.some(c=>{if(Ne(c.className,!0))return c.className.includes("mat-datepicker")}),l&&o.some(A=>{if(A.className)return A.className.includes("mat-overlay")})&&(l=!1),r=o.some(c=>{if(c.id)return c.id.includes("datepicker-cancel")}),a=o.some(c=>{if(c.id)return c.id.includes("datepicker-apply")})),r||a?(t.picker.close=t.config.selfClose,t.picker.close(),t.removeExpandedClass(),a&&t.config.startDate.value&&t.config.endDate.value&&(t.config.control.setValue({startDate:t.config.startDate.value,endDate:t.config.endDate.value}),yield t.onChange())):l||(t.picker.close(),t.removeExpandedClass())}),0)}onChange(e,t=!1){var o=this;return q(function*(){o.log.info("onChange",e=o.config.control.value);const s=o.config.control;typeof e<"u"&&(s.setValue(e),s.markAsDirty(),s.updateValueAndValidity()),o.isChangeValid()&&(yield o.config.patch&&(o.config.patch.path||o.config.facade)?o._onPatch(e,t):o.onBubbleEvent("onChange"))})()}isChangeValid(){if(this.config.startDate.value&&this.config.endDate.value){const e=this.srv.range.getDaysInRange(this.config.startDate.value,this.config.endDate.value);return this.config.minValue&&e<this.config.minValue||this.config.maxValue&&e>this.config.maxValue?(this.config.endDate.setValue(null),!1):(this.config.control.setValue({startDate:wo.toIsoShort(this.config.startDate.value),endDate:wo.toIsoShort(this.config.endDate.value)}),!0)}return!0}onResetForm(){var e=this;this.dom.setTimeout("reset-form",q(function*(){e.config.startDate.setValue(null,{emitEvent:!0}),e.config.startDate.updateValueAndValidity(),e.config.endDate.setValue(null,{emitEvent:!0}),e.config.endDate.updateValueAndValidity(),e.config.control.setValue({startDate:null,endDate:null}),yield e.onChange()}),0)}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(RI),P(Xd))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-date-range"]],viewQuery:function(e,t){if(1&e&&ht(xme,5),2&e){let o;Ke(o=Ye())&&(t.picker=o.first)}},inputs:{config:"config"},features:[Ct([RI]),Re],decls:20,vars:29,consts:[[1,"sw-field-item-container","pop-date-container",3,"ngClass","libClickOutside"],["appearance","outline","color","accent",1,"sw-field-item-container-expansion"],[4,"ngIf"],["class","field-tooltip-msg",3,"innerHTML",4,"ngIf"],["matTooltipClass","input-tooltip-background",3,"ngClass","rangePicker","formGroup","min","max"],["matStartDate","","placeholder","",3,"formControlName","readonly","focus","blur"],["type","text","matEndDate","","placeholder","",3,"formControlName","readonly","focus","blur","dateChange"],["class","sw-pointer date-clear-icon",3,"click",4,"ngIf"],[3,"ngClass","calendarHeaderComponent","opened","closed"],["dateRangePicker",""],["mat-button","","matDateRangePickerCancel",""],["mat-raised-button","","color","primary","matDateRangePickerApply",""],[1,"date-helper-icon",3,"hidden","helpText"],[3,"for","disabled"],[1,"date-feedback-container"],[1,"date-error-icon",3,"hidden","message"],[3,"show"],[1,"field-tooltip-msg",3,"innerHTML"],[1,"sw-pointer","date-clear-icon",3,"click"]],template:function(e,t){if(1&e&&(x(0,"div",0),ie("libClickOutside",function(s){return t.onClickOutsideBoundary(s)}),x(1,"mat-form-field",1),$(2,Cme,2,1,"mat-label",2),$(3,wme,1,1,"div",3),x(4,"mat-date-range-input",4)(5,"input",5),ie("focus",function(){return t.config.showTooltip=!0,t.onFocus()})("blur",function(){return t.config.showTooltip=!1,t.onBlur()}),C(),x(6,"input",6),ie("focus",function(){return t.config.showTooltip=!0,t.onFocus()})("blur",function(){return t.config.showTooltip=!1,t.onBlur()})("dateChange",function(){return t.onDateChange()}),C()(),$(7,kme,2,0,"mat-icon",7),x(8,"mat-date-range-picker",8,9),ie("opened",function(){return t.onOpenPicker()})("closed",function(){return t.onClosePicker()}),x(10,"mat-date-range-picker-actions")(11,"button",10),ee(12,"Cancel"),C(),x(13,"button",11),ee(14,"Apply"),C()()(),me(15,"lib-pop-field-item-helper",12)(16,"mat-datepicker-toggle",13),x(17,"div",14),me(18,"lib-pop-field-item-error",15),C(),me(19,"lib-pop-field-item-loader",16),C()()),2&e){const o=Qt(9);g("ngClass",Ii(22,Ime,t.config.disabled,"INVALID"===t.config.formGroup.status)),_(2),g("ngIf",null==t.config?null:t.config.label),_(1),g("ngIf",t.config.tooltip&&t.config.showTooltip),_(1),g("ngClass",qe(25,Ame,t.config.disabled))("rangePicker",o)("formGroup",t.config.formGroup)("min",t.config.min)("max",t.config.max),_(1),g("formControlName",t.getDateControlName("start"))("readonly",t.config.disabled),_(1),g("formControlName",t.getDateControlName("end"))("readonly",t.config.disabled),_(1),g("ngIf",!t.config.disabled),_(1),g("ngClass",qe(27,Sme,null==t.config?null:t.config.expansionItems))("calendarHeaderComponent",t.ui.expansionItems),_(7),g("hidden",!t.config.helpText)("helpText",t.config.helpText),_(1),g("for",o)("disabled",t.config.disabled),_(2),g("hidden",!t.config.message)("message",t.config.message),_(1),g("show",t.config.patch.displayIndicator&&t.config.patch.running)}},dependencies:[Gt,ct,$s,$o,jh,ba,a1,ks,js,kn,L1,Cne,yL,xL,CL,Ine,kne,wne,wi,qo,Ia,hl,yu],styles:[".disabled[_ngcontent-%COMP%], div.disabled[_ngcontent-%COMP%]   mat-datepicker-toggle[_ngcontent-%COMP%]     .mat-mdc-icon-button, div.disabled[_ngcontent-%COMP%]   mat-datepicker-toggle[_ngcontent-%COMP%]     div.mat-mdc-icon-button   .mat-date-range-input-inner, div.disabled[_ngcontent-%COMP%]   mat-datepicker-toggle[_ngcontent-%COMP%]     div.mat-mdc-icon-button mat-datepicker-toggle, div.disabled[_ngcontent-%COMP%]   mat-datepicker-toggle[_ngcontent-%COMP%], div.disabled[_ngcontent-%COMP%]     div.mat-date-range-input-inner mat-datepicker-toggle, div.disabled[_ngcontent-%COMP%]     .mat-date-range-input-inner{cursor:not-allowed!important;color:var(--foreground-disabled)!important}div.disabled[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{color:var(--background-border)}div.ng-invalid[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{color:red}.pop-date-container[_ngcontent-%COMP%]{position:relative;display:block;padding:0;margin:var(--gap-s) 0}.pop-date-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{display:none}.pop-date-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:0;margin:0!important}.pop-date-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:8px 20px 10px 0}.date-feedback-container[_ngcontent-%COMP%]{position:absolute;top:var(--gap=xxs);right:var(--gap=xxs);width:var(--gap-m);bottom:var(--gap=xxs);display:-webkit-box;display:-ms-flexbox;display:flex;padding-top:2px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row;flex-flow:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;pointer-events:none}.date-clear-icon[_ngcontent-%COMP%]{position:absolute!important;width:25px;height:25px;right:31px;top:12px;z-index:1;font-size:16px}mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;top:-3px;right:-2px}.date-toggle-icon[_ngcontent-%COMP%]{position:absolute!important;width:25px;height:25px;right:10px;top:0;font-size:16px;z-index:1}.date-toggle-icon[_ngcontent-%COMP%]     .mat-mdc-icon-button{line-height:25px!important}.date-toggle-icon[_ngcontent-%COMP%]     button{width:25px;height:25px}.date-toggle-icon[_ngcontent-%COMP%]     button mat-icon{font-size:.9em}.date-error-icon[_ngcontent-%COMP%]{position:relative;pointer-events:all;left:2px}.date-error-icon[_ngcontent-%COMP%]     .mat-icon{font-size:1em!important}.date-helper-icon[_ngcontent-%COMP%]{position:absolute!important;width:25px;height:25px;right:55px;pointer-events:all;font-size:12px;top:5px}.date-helper-icon[_ngcontent-%COMP%]     .mat-icon{font-size:16px!important}.date-ajax-spinner[_ngcontent-%COMP%]{position:absolute;z-index:1}.field-tooltip-msg[_ngcontent-%COMP%]{position:absolute;display:block;bottom:50px;width:100%;right:-10px;left:-10px;background:#3D72EA!important;border-radius:.25em;padding:.75em;z-index:2;color:#fff;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;overflow:hidden;text-align:center}  .expanded .mat-datepicker-content{position:relative;left:200px;border-radius:0!important;background:var(--background-base);border-top:1px solid lightgray;border-right:1px solid lightgray;border-bottom:1px solid lightgray}  .mat-datepicker-content{background:var(--background-base);border:1px solid lightgray}"]}),i})();function Mme(i,n){if(1&i&&(x(0,"mat-option",7),ee(1),C()),2&i){const e=n.$implicit;g("value",e),_(1),Mt(" ",e," ")}}function Pme(i,n){if(1&i&&(x(0,"mat-option",7),ee(1),C()),2&i){const e=n.$implicit;g("value",e),_(1),Mt(" ",e," ")}}function Tme(i,n){if(1&i&&(x(0,"mat-option",7),ee(1),C()),2&i){const e=n.$implicit;g("value",e),_(1),Mt(" ",e," ")}}function Eme(i,n){if(1&i){const e=Me();x(0,"mat-form-field",2)(1,"mat-select",8),ie("valueChange",function(o){return he(e),pe(I().ui.time.period=o)})("selectionChange",function(){return he(e),pe(I().onValueChange())}),$(2,Tme,2,2,"mat-option",4),C()()}if(2&i){const e=I();et("max-width",120,"px"),_(1),g("value",e.ui.time.period)("disabled",null==e.config?null:e.config.lockPeriod),_(1),g("ngForOf",e.ui.interval.period)}}let z4=(()=>{class i extends Yt{constructor(){super(),this.name="PopTimeEditComponent",this.asset={hourValue:void 0,minuteValue:void 0,periodValue:void 0,control:new vi(null),timeValue:void 0},this.ui={interval:{hour:[],minute:[],period:["AM","PM"]},time:{hour:"12",minute:"00",period:"AM"}},this.dom.configure=()=>new Promise(e=>{this.dom.state.modified=!1,this.asset.timeValue=this.config.getCurrentPeriodTime(),this.setIntervalValues(),this.setExistingValue(this.asset.timeValue),e(!0)})}onValueChange(){this.dom.state.modified=!0,this.asset.control.setValue(this._getCurrentTime()),this.events.emit({source:this.name,target:"PopTimeComponent",type:"field",name:"onChange",config:{name:"value",control:this.asset.control,facade:!0}})}setExistingValue(e){Ne(e,!0)&&(this.asset.minuteValue=String(e).slice(2,5).replace(/[^\dA-Za-z]/g,"").padStart(2,"0"),this.asset.hourValue=String(e).slice(0,2).replace(/[^\dA-Za-z]/g,"").padStart(2,"0"),this.asset.hourValue=(+this.asset.hourValue%12||12).toString(10).padStart(2,"0"),this.ui.time.period=this.config.lockPeriod?this.config.lockPeriod:String(e).toLowerCase().includes("pm")?"PM":"AM",this.ui.time.hour=this.asset.hourValue,this.ui.time.minute=this.asset.minuteValue,this.ui.interval.minute.includes(this.asset.minuteValue)||this.ui.interval.minute.some(t=>{if(+t>=+this.asset.minuteValue)return this.ui.time.minute=t,!0}),this.asset.control.setValue(e))}_getCurrentTime(){return`${this.ui.time.hour}:${this.ui.time.minute}:00 ${this.ui.time.period}`}setIntervalValues(){let e;const t=this.config.maxHour;for(e=1;e<=t;e++)e>=this.config.minHour&&this.ui.interval.hour.push(e.toString().padStart(2,"0"));for(e=0;e<60;e+=this.config.minuteInterval)this.ui.interval.minute.push(e.toString().padStart(2,"0"))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-time-edit"]],inputs:{config:"config"},features:[Re],decls:12,vars:13,consts:[[1,"pop-time-edit-container"],[1,"pop-time-edit-content"],[1,"pop-time-edit-column","pop-time-align-column"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"pop-time-edit-column","pop-time-column-height"],["class","pop-time-edit-column pop-time-align-column",3,"maxWidth",4,"ngIf"],[3,"value"],[3,"value","disabled","valueChange","selectionChange"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-select",3),ie("valueChange",function(s){return t.ui.time.hour=s})("selectionChange",function(){return t.onValueChange()}),$(4,Mme,2,2,"mat-option",4),C()(),x(5,"mat-label",5),ee(6,":"),C(),x(7,"mat-form-field",2)(8,"mat-select",3),ie("valueChange",function(s){return t.ui.time.minute=s})("selectionChange",function(){return t.onValueChange()}),$(9,Pme,2,2,"mat-option",4),C()(),me(10,"mat-label",5),$(11,Eme,3,5,"mat-form-field",6),C()()),2&e&&(_(2),et("max-width",120,"px"),_(1),g("value",t.ui.time.hour),_(1),g("ngForOf",t.ui.interval.hour),_(1),et("width",30,"px"),_(2),et("max-width",120,"px"),_(1),g("value",t.ui.time.minute),_(1),g("ngForOf",t.ui.interval.minute),_(1),et("width",20,"px"),_(1),g("ngIf",t.ui.interval.period.length))},dependencies:[ai,ct,ks,js,Ib,K1],styles:[".pop-time-edit-container[_ngcontent-%COMP%]{width:390px;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:24px;padding-top:var(--gap-xs);border:1px solid var(--border);margin-top:var(--gap-s);border-radius:var(--radius-s)}.pop-time-edit-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{display:none}.pop-time-edit-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:0;margin:0!important}.pop-time-edit-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:8px 20px 13px 0}.pop-time-edit-container[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.pop-time-edit-container[_ngcontent-%COMP%]     .date-column .mat-form-field-infix{padding-left:3px}.pop-time-edit-container[_ngcontent-%COMP%]     .mat-select-min-line{font-size:36px!important}[_nghost-%COMP%]     .mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:0!important}[_nghost-%COMP%]     .sw-dialog-2{min-height:auto!important}.pop-time-edit-content[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;padding:0;width:300px;text-align:center;position:relative;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:50px}.pop-time-edit-column[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;top:-6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:26%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-right:2px}.pop-time-edit-column-height[_ngcontent-%COMP%]{height:27px}.pop-time-align-column[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:unset}"]}),i})();function Dme(i,n){if(1&i&&(x(0,"div",6),ee(1),C()),2&i){const e=I();_(1),Je(e.config.label)}}const Ome=function(i,n){return{"sw-disabled pop-time-icon-disabled":i,"sw-pointer pop-time-icon-active":n}};let Rme=(()=>{class i extends Io{constructor(e,t){var o;super(),o=this,this.el=e,this.cdr=t,this.config=new dI,this.name="PopTimeComponent",this.asset={hourValue:void 0,minuteValue:void 0},this.ui={time:{hour:"12",minute:"00",period:"AM"}},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){yield o._setInitialConfig(),o.config.triggerOnChange=a=>{o.cdr.detectChanges(),o._setCurrentTime(a),o.onChange(a,!0)},o.config.triggerInitialValue&&(o.cdr.detectChanges(),o._setCurrentTime(o.config.value),o.onChange(o.config.value,!0)),r(!0)});return function(r){return s.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onEditValue(){var e=this;this.dom.setTimeout("edit-time-value",q(function*(){const t={header:`Choose ${e.config.label??"Time"}:`,name:"value",layout:"vertical",facade:!0,component:{type:z4,inputs:{config:e.config}},responseType:"store",postUrl:null,disableMessage:!0,blockEntity:!0},o=yield Nc.do(e.core,t);o&&o.value&&(e.log.info("edit-current-value",o.value),e._setCurrentTime(o.value),e.onChange())}),0)}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.core.access||(e.core.access={can_create:0,can_update:1,can_read:1,can_delete:0,can_destroy:0}),e.core.params||(e.core.params={internal_name:""}),e._setCurrentTime(e.config.control.value?e.config.control.value:"12:00:00 AM"),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setCurrentTime(e){if(this.config.isValidTime(e)){let t=Vi(e)?this.config.convertMinutesToPeriodTime(+e):e;this.asset.minuteValue=String(t).slice(2,5).replace(/[^\dA-Za-z]/g,"").padStart(2,"0"),this.asset.hourValue=String(t).slice(0,2).replace(/[^\dA-Za-z]/g,"").padStart(2,"0"),this.asset.hourValue=(+this.asset.hourValue%12||12).toString(10).padStart(2,"0"),this.ui.time.period=String(t).toLowerCase().includes("pm")?"PM":"AM",this.ui.time.hour=this.asset.hourValue,this.ui.time.minute=this.asset.minuteValue,Ne(t,!0)&&this.config.minutesSinceMidnight&&(t=this.config.convertPeriodTimeToMinutes(String(t))),this.config.value=t,this.config.control.setValue(t)}}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-time"]],inputs:{config:"config"},features:[Re],decls:15,vars:23,consts:[["class","pop-time-container-label",4,"ngIf"],[1,"pop-time-row-container"],[1,"pop-time-column","pop-time-align-column"],[1,"pop-time-column","pop-time-column-height"],["matTooltipPosition","above","matTooltipShowDelay","1000",1,"pop-time-icon",3,"matTooltip","ngClass","click"],[3,"show"],[1,"pop-time-container-label"]],template:function(e,t){1&e&&(x(0,"div"),$(1,Dme,2,1,"div",0),x(2,"div",1)(3,"div",2),ee(4),C(),x(5,"div",2),ee(6,":"),C(),x(7,"div",2),ee(8),C(),x(9,"div",2),ee(10),C(),x(11,"mat-label",3)(12,"mat-icon",4),ie("click",function(){return t.onEditValue()}),ee(13," schedule "),C()()(),me(14,"lib-pop-field-item-loader",5),C()),2&e&&(hs("pop-time-container sw-field-item-container pop-time-container-",t.config.layout,""),_(1),g("ngIf",t.config.label),_(2),et("max-width",20,"px"),_(1),Mt(" ",null==t.ui.time?null:t.ui.time.hour," "),_(1),et("max-width",5,"px"),_(2),et("max-width",20,"px"),_(1),Mt(" ",null==t.ui.time?null:t.ui.time.minute," "),_(1),et("max-width",25,"px"),_(1),Mt(" ",null==t.ui.time?null:t.ui.time.period," "),_(1),et("max-width",35,"px"),_(1),g("matTooltip","Edit Time")("ngClass",Ii(20,Ome,t.config.disabled,!t.config.disabled)),_(2),g("show",t.config.patch.displayIndicator&&t.config.patch.running))},dependencies:[Gt,ct,js,wi,Pn,qo],styles:[".pop-time-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.pop-time-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{display:none}.pop-time-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:0;margin:0!important}.pop-time-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:8px 20px 13px 0}.pop-time-container[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.pop-time-container[_ngcontent-%COMP%]     .date-column .mat-form-field-infix{padding-left:3px}.pop-time-container-vertical[_ngcontent-%COMP%]{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important}.pop-time-container-horizontal[_ngcontent-%COMP%]{-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-ms-flex-direction:row!important;flex-direction:row!important}.pop-time-container-label[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;min-width:100px;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pop-time-row-container[_ngcontent-%COMP%]{text-align:center;position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;padding:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:12px;max-width:var(--field-max-width)}.pop-time-column[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;top:-6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:26%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-right:2px}.pop-time-icon[_ngcontent-%COMP%]{position:relative;top:1px;margin-left:var(--gap-xs)}.pop-time-icon-active[_ngcontent-%COMP%]{color:var(--accent)}.pop-time-icon-disabled[_ngcontent-%COMP%]{color:var(--disabled)}.pop-time-column-height[_ngcontent-%COMP%]{height:27px}.pop-time-align-column[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:unset}"]}),i})();const Fme=["selectionList"],Lme=["search"];function Nme(i,n){if(1&i&&(x(0,"div",17),ee(1),C()),2&i){const e=I();_(1),Mt(" ",e.config.label," ")}}function Bme(i,n){if(1&i){const e=Me();x(0,"div",18),ie("mouseenter",function(){return he(e),pe(I().dom.state.helper=!0)})("mouseleave",function(){return he(e),pe(I().dom.state.helper=!1)}),ee(1," X "),C()}2&i&&Ei("matTooltip",I().config.helpText)}function Vme(i,n){1&i&&(x(0,"div",19)(1,"mat-icon",20),ee(2,"info"),C()()),2&i&&g("matTooltip",I().config.message)}function $me(i,n){if(1&i&&(x(0,"div",21),me(1,"lib-pop-switch",22),C()),2&i){const e=I();_(1),g("config",e.ui.all.overlay)}}const ry=function(i){return{"sw-hidden":i}};function Hme(i,n){if(1&i){const e=Me();x(0,"mat-checkbox",23),ie("ngModelChange",function(o){return he(e),pe(I().config.all=o)})("change",function(o){return he(e),pe(I().onAllChange(o.checked))}),C()}if(2&i){const e=I();g("ngClass",qe(4,ry,e.dom.state.allOverlayEnabled))("ngModel",e.config.all)("disabled",e.config.disabled)("color","primary")}}function zme(i,n){if(1&i){const e=Me();x(0,"mat-icon",29),ie("click",function(){return he(e),pe(I(2).onClearSearch())}),ee(1," close "),C()}}function jme(i,n){if(1&i&&(x(0,"div",24)(1,"a",25)(2,"mat-icon"),ee(3,"filter_list"),C()(),me(4,"input",26,27),$(6,zme,2,0,"mat-icon",28),C()),2&i){const e=I();g("ngClass",qe(3,ry,e.dom.state.allOverlayEnabled)),_(4),g("formControl",e.ui.search.config.control),_(2),g("ngIf",e.ui.search.config.control.value)}}function Gme(i,n){if(1&i){const e=Me();x(0,"mat-checkbox",30),ie("ngModelChange",function(o){return he(e),pe(I().config.all=o)})("change",function(o){return he(e),pe(I().onAllChange(o.checked))}),C()}if(2&i){const e=I();g("ngClass",qe(4,ry,e.dom.state.allOverlayEnabled))("ngModel",e.config.all)("color","primary")("disabled",e.config.disabled)}}function Wme(i,n){1&i&&me(0,"div",31),2&i&&g("innerHTML",I().config.allOverlayMessage,yr)}const j4=function(i){return{"sw-disabled":i}};function Ume(i,n){if(1&i){const e=Me();x(0,"mat-checkbox",38),ie("ngModelChange",function(o){return he(e),pe(I(2).$implicit.all=o)})("change",function(o){he(e);const s=I(2).$implicit;return pe(I().onGroupChange(o.checked,s))}),C()}if(2&i){const e=I(2).$implicit,t=I();g("ngClass",qe(5,j4,!t.config.allowGroupAll))("ngModel",e.all)("color","primary")("disabled",t.config.disabled)("indeterminate",e.indeterminate)}}function Zme(i,n){if(1&i){const e=Me();x(0,"mat-checkbox",38),ie("ngModelChange",function(o){return he(e),pe(I(2).$implicit.all=o)})("change",function(o){he(e);const s=I(2).$implicit;return pe(I().onGroupChange(o.checked,s))}),C()}if(2&i){const e=I(2).$implicit,t=I();g("ngClass",qe(5,j4,!t.config.allowGroupAll))("ngModel",e.all)("color","primary")("disabled",t.config.disabled)("indeterminate",e.indeterminate)}}const Kme=function(i,n,e){return{"pop-select-list-option-header-open":i,"pop-select-list-option-header-before":n,"pop-select-list-option-header-after":e}};function Yme(i,n){if(1&i){const e=Me();x(0,"div",35),$(1,Ume,1,7,"mat-checkbox",36),x(2,"div",37),ie("click",function(){he(e);const o=I().$implicit;return pe(I().onToggleGroup(o))}),ee(3),C(),$(4,Zme,1,7,"mat-checkbox",36),C()}if(2&i){const e=I().$implicit,t=I();g("ngClass",fs(5,Kme,e.open,"before"===t.config.checkboxPosition,"before"!==t.config.checkboxPosition)),_(1),g("ngIf",t.config.multiple&&"before"===t.config.checkboxPosition),_(2),fc("",e.label," (",e.options.values.length,")"),_(1),g("ngIf",t.config.multiple&&"after"===t.config.checkboxPosition)}}function Xme(i,n){if(1&i&&(x(0,"mat-button-toggle",46),ee(1),C()),2&i){const e=n.$implicit;Ei("value",e.value),_(1),Je(e.name)}}function qme(i,n){if(1&i){const e=Me();x(0,"div",43),ie("click",function(o){return o.stopPropagation()}),x(1,"mat-button-toggle-group",44),ie("ngModelChange",function(o){return he(e),pe(I().$implicit.mode=o)})("ngModelChange",function(o){he(e);const s=I().$implicit;return pe(I(2).onOptionModeChange(o,s))}),$(2,Xme,2,2,"mat-button-toggle",45),C()()}if(2&i){const e=I().$implicit,t=I(2);_(1),g("ngModel",e.mode),_(1),g("ngForOf",t.config.mode)}}const Jme=function(i,n,e){return{"pop-select-list-option-status-after":i,"pop-select-list-option-status-before":n,"pop-select-list-option-status-link":e}};function Qme(i,n){if(1&i&&(x(0,"div",32)(1,"span"),ee(2),C()()),2&i){const e=I().$implicit,t=I(2);g("ngClass",fs(2,Jme,t.dom.state.isMultiple,!t.dom.state.isMultiple,e.statusLink)),_(2),Je(e.status)}}const efe=function(i,n,e,t,o){return{"pop-select-list-active":i,"sw-disabled":n,"sw-hidden":e,"pop-select-list-checkbox-before":t,"pop-select-list-checkbox-after":o}};function tfe(i,n){if(1&i){const e=Me();x(0,"mat-list-option",39),ie("click",function(o){const r=he(e).$implicit,a=I().$implicit;return pe(I().onOptionChange(o,r,a))}),x(1,"div",40),ee(2),$(3,qme,3,2,"div",41),$(4,Qme,3,6,"div",42),C()()}if(2&i){const e=n.$implicit,t=I().$implicit,o=I();et("padding-left",e.indentation+"px"),g("checkboxPosition",o.config.checkboxPosition)("disabled",o.config.disabled)("ngClass",sm(10,efe,o.isOptionActive(e),o.isOptionDisabled(e),o.isOptionHidden(t,e),"before"===o.config.checkboxPosition,"after"===o.config.checkboxPosition))("selected",o.isOptionSelected(e))("value",e.value),_(2),Mt(" ",e.name," "),_(1),g("ngIf",o.config.multiple&&o.config.mode),_(1),g("ngIf",!o.config.mode&&e.status)}}function ife(i,n){if(1&i&&(x(0,"div",32),$(1,Yme,5,9,"div",33),$(2,tfe,5,16,"mat-list-option",34),C()),2&i){const e=n.$implicit,t=I();g("ngClass",qe(3,ry,t.dom.state.allOverlayEnabled)),_(1),g("ngIf",e.label&&e.visible),_(1),g("ngForOf",e.options.values)}}let FI=(()=>{class i extends Io{constructor(e,t){super(),this.el=e,this.cdr=t,this.events=new tt,this.name="PopSelectListComponent",this.asset={filteredOptions:void 0,groups:[],onFocusValue:void 0,filterActivated:!1,disabled:{}},this.ui={search:{config:void 0},all:{overlay:void 0}},this.dom.configure=()=>new Promise(o=>(this._setInitialDomState(),this._setUpFilterObservable(),this._setListPosition(),this._filterOptionList(""),this._setConfigHooks(),o(!0))),this.dom.proceed=()=>new Promise(o=>(this._setInitialValue(),o(!0)))}triggerOnChange(e=1e3){this.dom.setTimeout("api-fetch",()=>{this.onChange()},e)}onGroupChange(e,t){return this.config.multiple&&(e||(this.config.all=!1),t.options.values.map(o=>{o.hidden||(o.selected=e)}),setTimeout(()=>{this._checkGroupState(e,t),this._updateSelectedOptions(),this.onBubbleEvent("groupAllChange","Group Change",{data:t}),this.onBubbleEvent("groupChange","Group Change",{data:t})},0)),!1}onAllChange(e){return this.config.multiple&&(this.config.groups.map(t=>{t.options.values.map(o=>{o.selected=e}),t.all=e,t.indeterminate=!1}),setTimeout(()=>{this._updateSelectedOptions()},0)),!1}onClearSearch(){this.ui.search.config.control.setValue("")}onOptionChange(e,t,o){this.config.multiple?(t.selected=!t.selected,t.selected||(this.config.all=!1),this._checkGroupState(t.selected,o),this._updateSelectedOptions(),this.onBubbleEvent("optionChange","Option Change",{data:t}),setTimeout(()=>{this.onBubbleEvent("groupChange","Group Change",{data:o})},0)):(this.dom.active.optionId=t.value,this.config.control.setValue(t.value),this.config.strVal=t.name,this.triggerOnChange(0))}onOptionModeChange(e,t){this.config.multiple&&setTimeout(()=>{this.onBubbleEvent("optionModeChange","Option Mode Change",{data:t})},0)}onLinkClick(){window.console.log("LINK STUB: Link to Entity",this.config.control.value)}onToggleGroup(e){this.config.groups.length>1&&(e.open=!e.open)}isOptionSelected(e){return e.selected}isSearchValue(){return Y(this.ui.search.config,["control"])&&this.ui.search.config.control.value}isOptionHidden(e,t){return!e.open&&!this.isSearchValue()||t.hidden}isOptionActive(e){return!this.config.disabled&&this.dom.active.optionId&&e.value===this.dom.active.optionId}isOptionDisabled(e){return this.config.disabled||this.asset.disabled[e.value]}_setConfigHooks(){this.config.triggerOnChange=e=>{this.config.control.setValue(e),this.config.control.markAsPristine(),this.config.message="",this.config.control.updateValueAndValidity(),this.onChange()},this.config.disableOption=e=>{kt(e)&&(this.asset.disabled[e]=!0)},this.config.enableOption=e=>{kt(e)&&delete this.asset.disabled[e]},this.config.setDisabled=(e=null)=>{this.dom.setTimeout("set-disabled",()=>{this.config.disabledIds=e,this._setDisabledIds()},0)},this.config.focusSearch=()=>{this.dom.setTimeout("search-focus",()=>{this.searchRef&&this.searchRef.nativeElement.focus()},200)},this.config.setActive=e=>{this.dom.setTimeout("set-disabled",()=>{+e&&(this.dom.active.optionId=e,delete this.asset.disabled[e])},5)},this.config.setHeight=e=>{this.dom.setTimeout("set-height",()=>{+e&&(this.config.minHeight=e,this.config.height=e)},5)},this.config.clearSelected=()=>{this.dom.setTimeout("clear-selected",()=>{this.onAllChange(!1)},0)}}_setInitialDomState(){var e=this;this.dom.state.helper=!1,this.dom.state.filter=void 0,this.dom.state.allOverlayEnabled=!!this.config.allOverlayEnabled,this.dom.state.filterActivated=!1,this.dom.state.isMultiple=!0===this.config.multiple,this.dom.state.above=void 0,this.dom.state.below=void 0,this.dom.state.list=void 0,this.asset.filterActivated=!1,this.dom.state.checkboxPosition="left"===this.config.checkboxPosition?"before":"after",this.ui.search.config=new li({value:"",helpText:this.config.helpText,displayErrors:!1,label:this.config.label,readonly:!0,maxlength:255}),this.ui.all.overlay=this.config.allOverlay?new uo({value:this.config.allOverlayEnabled,displayErrors:!1,label:this.config.allOverlayLabel,disabled:this.config.disabled,facade:!0,labelPosition:"after"===this.config.checkboxPosition?"before":"after",patch:{path:"",field:"",after:(t,o)=>{this.dom.setTimeout("overlay-callback",q(function*(){e.dom.state.allOverlayEnabled=!0===o.config.control.value,It(e.config.allOverlayCallback)&&(yield e.config.allOverlayCallback(t,o))}),0)}}}):null,this.config.multiple||(this.selectionListRef.selectedOptions=new Ud(!1)),this.asset.onFocusValue=JSON.stringify(this.config.selectedOptions),this._setDisabledIds()}_setDisabledIds(){this.asset.disabled={},De(this.config.disabledIds)&&this.config.disabledIds.map(e=>{Vi(e)&&(this.asset.disabled[e]=!0)})}_setInitialValue(){this.dom.setTimeout("set-initial-value",()=>{if(this.config.multiple||this.dom.active.optionId)De(this.config.control.value)||this.config.control.setValue([]);else{let e=this.config.value;this.config.control.value&&(e=this.config.control.value),!Vi(e,!0)&&De(this.config.selectedOptions,!0)&&(e=this.config.selectedOptions[0]),e&&(this.dom.active.optionId=e,kt(this.config.control.value,!1)||this.config.control.setValue(e))}},0)}_setUpFilterObservable(){this.ui.search.config.control.valueChanges.pipe(Lh(200)).subscribe(e=>{this._filterOptionList(e)})}_setListPosition(){}_checkGroupState(e,t){let o=!1,s=!0;e?t.options.values.some(r=>{if(!r.hidden&&!r.selected)return s=!1,o=!0,!0}):(s=!1,t.options.values.some(r=>{if(!r.hidden&&r.selected)return o=!0,!0})),t.all=s,t.indeterminate=o}_filterOptionList(e){this.config.groups.map(t=>{t.options.values.map(s=>{s.hidden=!ll(s,e)}),t.selected=t.options.values.filter(s=>!s.hidden&&s.selected).length,t.visible=t.options.values.filter(s=>!s.hidden).length,this._checkGroupState(t.visible===t.selected,t);try{this.cdr.detectChanges()}catch{}})}_updateSelectedOptions(){this.dom.setTimeout("update-selected-options",()=>{const e=this.selectionListRef.selectedOptions.selected;let t=[];this.config.selectedOptions=[];for(const o of e)t.push(String(o._elementRef.nativeElement.outerText.replace(/\s+/g," ").trim().split(" ")[0])),this.config.selectedOptions.push(o);this.config.control.setValue([...this.config.selectedOptions]),t=t.sort(),this.config.strVal=t.join(", "),this.triggerOnChange()},50)}_getPatchBody(e){const t=this.config.patch,o={};if(this.config.all)typeof this.config.allValue<"u"?o[this.config.patch.field]=this.config.allValue:this.config.patchGroupFk?(o[this.config.patch.field]=[],this.config.groups.map(s=>{o[this.config.patch.field].push(`0:${s.groupFk}`)})):o[this.config.patch.field]=this.config.selectedOptions.length>0?this.config.selectedOptions:[];else if(this.config.multiple?0===this.config.control.value.length&&typeof this.config.emptyValue<"u"?o[this.config.patch.field]=this.config.emptyValue:this.config.patchGroupFk?(o[this.config.patch.field]=[],this.config.groups.map(s=>{s.all?o[this.config.patch.field].push(`0:${s.groupFk}`):s.options.values.filter(r=>r.selected).map(r=>{o[this.config.patch.field].push(`${r.value}:${s.groupFk}`)})})):o[this.config.patch.field]=this.config.control.value.length>0?this.config.control.value:[]:o[this.config.patch.field]=e=typeof e<"u"?e:this.config.control.value,t&&t.metadata)for(const s in t.metadata)t.metadata.hasOwnProperty(s)&&(o[s]=t.metadata[s]);if(De(o[this.config.patch.field],!0)&&o[this.config.patch.field].sort(function(s,r){return s-r}),this.config.patch.metadata)for(const s in this.config.patch.metadata)this.config.patch.metadata.hasOwnProperty(s)&&(o[s]=this.config.patch.metadata[s]);return this.config.patch.json&&(o[this.config.patch.field]=JSON.stringify(o[this.config.patch.field])),o}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-select-list"]],viewQuery:function(e,t){if(1&e&&(ht(Fme,7),ht(Lme,5)),2&e){let o;Ke(o=Ye())&&(t.selectionListRef=o.first),Ke(o=Ye())&&(t.searchRef=o.first)}},inputs:{config:"config"},outputs:{events:"events"},features:[Re],decls:17,vars:15,consts:[[1,"pop-select-list-container","sw-field-item-container"],["class","pop-select-list-label",4,"ngIf"],["class","sw-pop-icon sw-pointer pop-select-list-helper-icon","matTooltipPosition","above",3,"matTooltip","mouseenter","mouseleave",4,"ngIf"],[1,"pop-select-list-feedback"],["class","pop-select-error-icon","matTooltipPosition","left",3,"matTooltip",4,"ngIf"],[1,"pop-select-list-items"],["list",""],["class","sw-flex-row pop-select-list-overlay pop-select-list-option-header-open",4,"ngIf"],[1,"pop-select-list-search-header"],["class","pop-select-list-checkbox-before","matTooltip","Toggle All","matTooltipPosition","above",3,"ngClass","ngModel","disabled","color","ngModelChange","change",4,"ngIf"],["appearance","fill","floatLabel","never","class","sw-search",3,"ngClass",4,"ngIf"],["class","pop-select-list-checkbox-after","matTooltip","Toggle All","matTooltipPosition","above",3,"ngClass","ngModel","color","disabled","ngModelChange","change",4,"ngIf"],["class","pop-select-list-overlay-message",3,"innerHTML",4,"ngIf"],[3,"multiple"],["selectionList",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"show"],[1,"pop-select-list-label"],["matTooltipPosition","above",1,"sw-pop-icon","sw-pointer","pop-select-list-helper-icon",3,"matTooltip","mouseenter","mouseleave"],["matTooltipPosition","left",1,"pop-select-error-icon",3,"matTooltip"],["color","warn"],[1,"sw-flex-row","pop-select-list-overlay","pop-select-list-option-header-open"],[3,"config"],["matTooltip","Toggle All","matTooltipPosition","above",1,"pop-select-list-checkbox-before",3,"ngClass","ngModel","disabled","color","ngModelChange","change"],["appearance","fill","floatLabel","never",1,"sw-search",3,"ngClass"],["matPrefix",""],["placeholder","Search","type","text",3,"formControl"],["search",""],["class","pop-select-list-clear sw-pointer","matSuffix","",3,"click",4,"ngIf"],["matSuffix","",1,"pop-select-list-clear","sw-pointer",3,"click"],["matTooltip","Toggle All","matTooltipPosition","above",1,"pop-select-list-checkbox-after",3,"ngClass","ngModel","color","disabled","ngModelChange","change"],[1,"pop-select-list-overlay-message",3,"innerHTML"],[3,"ngClass"],["class","pop-select-list-option-header",3,"ngClass",4,"ngIf"],["disableRipple","","class","pop-select-list-option",3,"checkboxPosition","disabled","ngClass","paddingLeft","selected","value","click",4,"ngFor","ngForOf"],[1,"pop-select-list-option-header",3,"ngClass"],["matTooltip","Toggle Group","matTooltipPosition","above",3,"ngClass","ngModel","color","disabled","indeterminate","ngModelChange","change",4,"ngIf"],[1,"pop-select-list-header-label",3,"click"],["matTooltip","Toggle Group","matTooltipPosition","above",3,"ngClass","ngModel","color","disabled","indeterminate","ngModelChange","change"],["disableRipple","",1,"pop-select-list-option",3,"checkboxPosition","disabled","ngClass","selected","value","click"],[1,"sw-flex-row","sw-flex-between-center"],["class","pop-select-list-mode-toggle",3,"click",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"pop-select-list-mode-toggle",3,"click"],["name","model","aria-label","Mode",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(x(0,"div",0),$(1,Nme,2,1,"div",1),$(2,Bme,2,1,"div",2),x(3,"div",3),$(4,Vme,3,1,"div",4),C(),x(5,"div",5,6),$(7,$me,2,1,"div",7),x(8,"div",8),$(9,Hme,1,6,"mat-checkbox",9),$(10,jme,7,5,"div",10),$(11,Gme,1,6,"mat-checkbox",11),$(12,Wme,1,1,"div",12),C(),x(13,"mat-selection-list",13,14),$(15,ife,3,5,"div",15),me(16,"lib-pop-field-item-loader",16),C()()()),2&e&&(_(1),g("ngIf",t.config.label),_(1),g("ngIf",t.config.helpText&&!t.config.message&&(!t.config.patch||!t.config.patch.running)),_(2),g("ngIf",t.config.message),_(3),g("ngIf",t.ui.all.overlay),_(2),g("ngIf",t.config.multiple&&t.config.allowAll&&"before"===t.config.checkboxPosition),_(1),g("ngIf",t.config.filter&&t.ui.search.config),_(1),g("ngIf",t.config.multiple&&t.config.allowAll&&"after"===t.config.checkboxPosition),_(1),g("ngIf",t.dom.state.allOverlayEnabled&&t.config.allOverlayMessage),_(1),et("min-height",t.config.minHeight,"px")("max-height",t.config.height,"px"),g("multiple",t.config.multiple),_(2),g("ngForOf",t.config.groups),_(1),g("show",t.config.patch.displayIndicator&&t.config.patch.running))},styles:[".pop-select-list-container[_ngcontent-%COMP%]{position:relative;display:block;padding:5px 0 0;margin:10px 0 0;-webkit-box-sizing:border-box;box-sizing:border-box;border-top-style:none;border-radius:3px}.pop-select-list-items[_ngcontent-%COMP%]{border:1px solid var(--border)}.pop-select-list-label[_ngcontent-%COMP%]{height:15px;margin-bottom:var(--gap-s)}.pop-select-list-search-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;min-height:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;border-bottom:1px solid var(--border);background:var(--background-base);padding-left:5px}.pop-select-list-helper-icon[_ngcontent-%COMP%]{position:absolute;right:1px;top:4px;font-size:.7em;z-index:2}.pop-select-list-option[_ngcontent-%COMP%]{-webkit-box-sizing:border-box;box-sizing:border-box;background:var(--darken02);height:30px;padding:0 5px}.pop-select-list-feedback[_ngcontent-%COMP%]{z-index:4;position:absolute;top:0;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row;flex-flow:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.pop-select-list-option-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-tap-highlight-color:transparent;padding:0;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;height:30px;border-top:1px solid var(--border)!important;background:var(--darken06);outline:0}.pop-select-list-option-header[_ngcontent-%COMP%]     .mat-mdc-checkbox{margin-right:-5px!important}.pop-select-list-option-header-before[_ngcontent-%COMP%]{padding:0 4px 0 20px!important}.pop-select-list-option-header-after[_ngcontent-%COMP%]{padding:0 4px!important}.pop-select-list-option-header-open[_ngcontent-%COMP%]{border-bottom:1px solid var(--border)!important}.pop-select-list-header-label[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:700;font-size:16px;padding-left:var(--gap-xs)}.pop-select-list-clear[_ngcontent-%COMP%]{position:relative;top:3px}.pop-select-list-overlay[_ngcontent-%COMP%]{background:var(--background-base);padding:0 var(--gap-xs)!important;-webkit-box-sizing:border-box;box-sizing:border-box}.pop-select-list-overlay[_ngcontent-%COMP%]     .sw-field-item-container{margin:0}.pop-select-list-overlay[_ngcontent-%COMP%]:hover:not(:focus){background:var(--accent-shade)!important}.pop-select-list-overlay-message[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:40px;width:100%}.pop-select-list-option-status-before[_ngcontent-%COMP%]{position:absolute;right:20px;top:10px;color:var(--disabled);font-size:.7em!important;font-style:italic}.pop-select-list-option-status-after[_ngcontent-%COMP%]{position:absolute;right:40px;top:10px;color:var(--disabled);font-size:.7em!important;font-style:italic}.pop-select-list-option-status-link[_ngcontent-%COMP%]{color:var(--accent);cursor:pointer}.pop-select-list-mode-toggle[_ngcontent-%COMP%]{min-width:50px;padding:2px;right:40px}.pop-select-list-mode-toggle[_ngcontent-%COMP%]     .mat-button-toggle-group{height:20px;background:var(--background-base)}.pop-select-list-mode-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:12px;font-size:12px;color:var(--foreground-base)!important}.pop-select-list-mode-toggle[_ngcontent-%COMP%]     .mat-button-toggle-checked{background:var(--accent-background)!important}.pop-select-list-active[_ngcontent-%COMP%]{background:var(--background-selected-button)!important;color:var(--foreground-base)!important}.pop-select-list-checkbox-after[_ngcontent-%COMP%]{margin-right:-2px}[_nghost-%COMP%]     .checkbox-after{direction:rtl}[_nghost-%COMP%]     .checkbox-after .mat-mdc-checkbox-layout{width:100%}[_nghost-%COMP%]     .checkbox-after .mat-mdc-checkbox-layout .mat-mdc-checkbox-inner-container{margin:0 9px 0 auto}[_nghost-%COMP%]     .mat-mdc-form-field{display:block;height:30px;padding:0 10px}[_nghost-%COMP%]     .sw-search{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:var(--gap-xs)}[_nghost-%COMP%]     .sw-search input{border:0;outline:0;width:100%;background:var(--background-base)}[_nghost-%COMP%]     .sw-search .mat-form-field-flex{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}[_nghost-%COMP%]     .mat-checkbox-inner-container{margin:0 0 0 15px}[_nghost-%COMP%]     .pop-select-filter-search-header .mat-checkbox-inner-container{margin:0 0 0 15px!important}[_nghost-%COMP%]     .mat-checkbox-label{padding:0 0 0 16px}[_nghost-%COMP%]     .mat-list-item-content-reverse{padding:0 10px 0 5px!important}[_nghost-%COMP%]     mat-selection-list{overflow-y:scroll;overflow-x:hidden;outline:0!important;background:transparent!important}[_nghost-%COMP%]     mat-list-option{border:none!important}.pop-select-list-option[_ngcontent-%COMP%]:hover:not(:focus){background:var(--accent-shade)!important}[_nghost-%COMP%]     .pop-select-list-checkbox-before .mat-pseudo-checkbox{margin-right:16px}[_nghost-%COMP%]     .pop-select-list-checkbox-before .mat-list-text{-webkit-box-flex:1;-ms-flex:1;flex:1}[_nghost-%COMP%]     .pop-select-list-option-header .mat-checkbox-inner-container{width:16px!important;height:16px!important;margin:0 0 0 1px!important}[_nghost-%COMP%]     .pop-select-list-option-header .mat-checkbox-label{padding:0 10px 0 0}[_nghost-%COMP%]     .filter-selected .pop-input-container{background-color:var(--bg-3)!important}[_nghost-%COMP%]     .pop-input-container{margin:0!important}[_nghost-%COMP%]     .filter-option-selected .pop-input-container{background-color:var(--accent-shade)!important}[_nghost-%COMP%]     .mat-mdc-list-base{padding:0!important;margin:0!important;border:0!important}[_nghost-%COMP%]     .mat-mdc-form-field{display:block;height:30px}[_nghost-%COMP%]     .mat-list-text{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding:0!important;padding-left:var(--gap-s)}[_nghost-%COMP%]     .mat-mdc-list-option .mdc-checkbox{padding:10px 4px!important}"]}),i})();function nfe(i,n){if(1&i&&(x(0,"div",7)(1,"div",8),ee(2),C(),x(3,"div",9),me(4,"lib-pop-select-list",10),C()()),2&i){const e=I();et("height",e.dom.height.inner,"px"),_(2),Je(e.config.header),_(2),g("config",e.config.list)}}function ofe(i,n){if(1&i){const e=Me();x(0,"div",11)(1,"button",12),ie("click",function(){return he(e),pe(I().onClearForm())}),ee(2,"Clear"),C()()}}const sfe=function(i){return{"sw-hidden":i}};let G4=(()=>{class i extends Yt{constructor(e,t,o,s){var r;super(),r=this,this.el=e,this.dialog=t,this.cdr=o,this.data=s,this.name="PopSelectModalDialogComponent",this.dom.configure=()=>new Promise(function(){var a=q(function*(l){return yield r._setInitialConfig(),l(!0)});return function(l){return a.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onConfirmForm(){this.dom.setTimeout("dialog-confirm",()=>{this.dialog.close(this.config.list)},0)}onClearForm(){this.dom.setTimeout("dialog-close",()=>{const e=this.config.list.multiple?[]:null;this.config.list.setValue(e),this.config.setValue(e),this.dialog.close(this.config.list)},0)}onCancelForm(){this.dom.setTimeout("dialog-close",()=>{this.dialog.close(null)},0)}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.height.outer=570,e.dom.height.inner=520,e.config.list.minHeight=400,e.dom.state.hasClearValue=1==+e.config.clearValue,e.dom.state.hasInitialValue=De(e.config.list.multiple?e.config.control.value:e.config.list.disabledIds,!0),e.cdr.detectChanges(),o(!0)});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Yo),P(Zt),P(zs))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-select-modal-dialog"]],inputs:{config:"config"},features:[Re],decls:9,vars:9,consts:[[1,"pop-select-modal-container","sw-field-item-container"],["mode","determinate",3,"ngClass","value"],["class","pop-select-modal-wrapper",3,"height",4,"ngIf"],[1,"pop-select-modal-actions"],["class","sw-flex-row sw-flex-grow-xs",4,"ngIf"],["mat-raised-button","","cdkFocusInitial","",1,"pop-select-modal-btn",3,"click"],["mat-raised-button","",1,"pop-select-modal-btn",3,"disabled","click"],[1,"pop-select-modal-wrapper"],[1,"mat-h2","pop-select-modal-header"],[1,"pop-select-modal-content"],[3,"config"],[1,"sw-flex-row","sw-flex-grow-xs"],["mat-raised-button","","cdkFocusInitial","",1,"pop-select-clear-btn",3,"click"]],template:function(e,t){1&e&&(x(0,"div",0),me(1,"mat-progress-bar",1),$(2,nfe,5,4,"div",2),x(3,"div",3),$(4,ofe,3,0,"div",4),x(5,"button",5),ie("click",function(){return t.onCancelForm()}),ee(6,"Cancel"),C(),x(7,"button",6),ie("click",function(){return t.onConfirmForm()}),ee(8,"Ok"),C()()()),2&e&&(et("height",t.dom.height.outer,"px"),_(1),g("ngClass",qe(7,sfe,t.dom.state.loaded))("value",t.dom.state.progress),_(1),g("ngIf",t.dom.state.loaded),_(2),g("ngIf",t.dom.state.hasClearValue),_(3),g("disabled",!t.config.list.control.value))},styles:["[_nghost-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.pop-select-modal-container[_ngcontent-%COMP%]{position:absolute;top:10px;left:20px;right:20px;overflow-y:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.pop-select-modal-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.pop-select-modal-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}.pop-select-modal-header[_ngcontent-%COMP%]{max-height:25px;font-size:20px}.pop-select-modal-content[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-y:auto;overflow-x:hidden}.pop-select-modal-actions[_ngcontent-%COMP%]{position:relative;top:-10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row;flex-flow:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:0;max-height:40px;-webkit-box-sizing:border-box;box-sizing:border-box}.pop-select-modal-btn[_ngcontent-%COMP%]{min-width:120px;margin-left:var(--gap-s);margin-right:1px}.pop-select-clear-btn[_ngcontent-%COMP%]{-ms-flex-item-align:start;align-self:flex-start;min-width:80px;margin-left:1px;margin-right:var(--gap-s)}[_nghost-%COMP%]     .mat-mdc-dialog-container{padding:2px!important;border:1px solid currentColor!important}"]}),i})();function rfe(i,n){if(1&i){const e=Me();x(0,"div",1)(1,"lib-pop-input",2),ie("click",function(){return he(e),pe(I().onChangeOptions())}),C(),me(2,"lib-pop-field-item-loader",3),C()}if(2&i){const e=I();_(1),g("config",e.ui.anchorInput),_(1),g("show",e.config.patch.displayIndicator&&e.config.patch.running)}}let LI=(()=>{class i extends Io{constructor(){super(),this.events=new tt,this.name="PopSelectModalComponent",this.srv={dialog:Rt.get(Fn)},this.asset={original:void 0,dialogRef:void 0},this.ui={anchorInput:void 0,dialogRef:void 0},this.dom.configure=()=>new Promise(e=>(this.config.triggerOpen=()=>{this.dom.setTimeout("",()=>{this.onChangeOptions()},0)},this.config.setValue=t=>{this.dom.setTimeout("config-set-value",()=>{if(It(this.config.list.setValue)){const o=this.config.list.setValue(t),s=this.config.list.control.value;this.config.control.setValue(s),this.config.list.multiple||(this.config.list.value=s),this.ui.anchorInput.triggerOnChange(o),this.ui.anchorInput.message="",this.onChange()}},0)},this.ui.anchorInput=new li({label:this.config.label,value:this.config.list.strVal,selectMode:!0,helpText:this.config.helpText,maxlength:2048}),e(!0))),this.dom.proceed=()=>new Promise(e=>e(!0))}ngOnInit(){super.ngOnInit()}onChangeOptions(){this.dom.active.storedValue=this.config.list.strVal,this.asset.dialogRef=this.srv.dialog.open(G4,{width:"450px",height:"600px",panelClass:"sw-dialog-1",data:{}}),this.asset.original={all:gi(this.config.list.all),selectedOptions:this.config.list.multiple?gi(this.config.control.value):[],groups:gi(this.config.list.groups),strVal:gi(this.config.list.strVal)},this.asset.dialogRef.componentInstance.config=this.config,this.dom.setSubscriber("select-dialog-close",this.asset.dialogRef.beforeClosed().subscribe(e=>{e&&e.strVal!==this.dom.active.storedValue?(this.config.control.setValue(e.control.value),e.multiple||(e.value=e.control.value),this.ui.anchorInput.triggerOnChange(e.strVal),this.ui.anchorInput.message="",this.onChange()):(this.config.list.all=this.asset.original.all,this.config.list.selectedOptions=this.asset.original.selectedOptions,this.config.list.value=this.asset.original.selectedOptions,this.config.list.groups=this.asset.original.groups,this.config.list.strVal=this.asset.original.strVal),this.asset.dialogRef=null})),this.dom.setTimeout("search-focus",()=>{It(this.asset.dialogRef.componentInstance.config.list.focusSearch)&&this.asset.dialogRef.componentInstance.config.list.focusSearch()},200)}ngOnDestroy(){super.ngOnDestroy()}_getPatchBody(e){const t={};if(e||(e=this.config.list.multiple?this.config.list.control.value.length>0?this.config.list.control.value:[]:this.config.list.control.value),"null"===e&&(e=null),this.config.list.all?typeof this.config.list.allValue<"u"?t[this.config.patch.field]=this.config.list.allValue:this.config.list.patchGroupFk?(t[this.config.patch.field]=[],this.config.list.groups.map(o=>{t[this.config.patch.field].push(`0:${o.groupFk}`)})):t[this.config.patch.field]=e:0===this.config.list.selectedOptions.length&&typeof this.config.list.emptyValue<"u"?t[this.config.patch.field]=this.config.list.emptyValue:this.config.list.patchGroupFk?(t[this.config.patch.field]=[],this.config.list.groups.map(o=>{o.all?t[this.config.patch.field].push(`0:${o.groupFk}`):o.options.values.filter(s=>s.selected).map(s=>{t[this.config.patch.field].push(`${s.value}:${o.groupFk}`)})})):t[this.config.patch.field]=e,De(t[this.config.patch.field],!0)&&(t[this.config.patch.field]=vu(t[this.config.patch.field]),t[this.config.patch.field].sort(function(o,s){return o-s})),this.config.patch.metadata)for(const o in this.config.patch.metadata)this.config.patch.metadata.hasOwnProperty(o)&&(t[o]=this.config.patch.metadata[o]);return this.config.patch.json&&(t[this.config.patch.field]=JSON.stringify(t[this.config.patch.field])),t}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-select-modal"]],inputs:{config:"config"},outputs:{events:"events"},features:[Re],decls:1,vars:1,consts:[["class","pop-select-modal-container sw-field-item-container",4,"ngIf"],[1,"pop-select-modal-container","sw-field-item-container"],[1,"pop-select-modal-values",3,"config","click"],[3,"show"]],template:function(e,t){1&e&&$(0,rfe,3,2,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".pop-select-modal-container[_ngcontent-%COMP%]{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;top:1px;height:44px}[_nghost-%COMP%]     .pop-input-container{margin:0!important}[_nghost-%COMP%]     .pop-select-modal-values .mat-form-field-infix{padding:8px 20px 13px 0!important;pointer-events:none!important}[_nghost-%COMP%]     .pop-select-modal-values input{display:-webkit-box;display:-ms-flexbox;display:flex;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;pointer-events:none!important;-webkit-box-sizing:border-box;box-sizing:border-box}[_nghost-%COMP%]     .pop-select-modal-values .mat-form-field-infix{pointer-events:none!important}"]}),i})();const W4=function(i){return{"pop-button-text-accent":i}};function afe(i,n){if(1&i&&(x(0,"span",8),ee(1),C()),2&i){const e=I(2);g("ngClass",qe(2,W4,e.config.textAccent)),_(1),Je(e.config.value)}}function lfe(i,n){1&i&&me(0,"div",9)}function cfe(i,n){if(1&i&&(x(0,"mat-icon",10),ee(1),C()),2&i){const e=I(2);et("font-size",e.config.text,"px"),g("color",e.config.iconColor),_(1),Mt(" ",e.config.icon," ")}}function dfe(i,n){if(1&i){const e=Me();x(0,"button",3),ie("click",function(){return he(e),pe(I().onButtonClick())}),x(1,"div",4),$(2,afe,2,4,"span",5),$(3,lfe,1,0,"div",6),$(4,cfe,2,4,"mat-icon",7),C()()}if(2&i){const e=I();et("border-radius",e.config.radius,"px")("height",e.config.size,"px")("min-width",e.config.width,"px"),g("hidden",e.config.hidden)("disabled",e.config.disabled)("color",e.config.color),_(1),et("font-size",e.config.text,"px")("line-height",e.config.text,"px"),_(1),g("ngIf",e.config.value),_(1),g("ngIf",e.config.icon&&e.config.value),_(1),g("ngIf",e.config.icon)}}function ufe(i,n){if(1&i&&(x(0,"span",8),ee(1),C()),2&i){const e=I(2);g("ngClass",qe(2,W4,e.config.textAccent)),_(1),Je(e.config.value)}}function hfe(i,n){1&i&&me(0,"div",13)}function pfe(i,n){if(1&i&&(x(0,"mat-icon",10),ee(1),C()),2&i){const e=I(2);et("font-size",e.config.text,"px"),g("color",e.config.iconColor),_(1),Mt(" ",e.config.icon," ")}}function mfe(i,n){if(1&i){const e=Me();x(0,"button",11),ie("click",function(){return he(e),pe(I().onButtonClick())}),x(1,"div",4),$(2,ufe,2,4,"span",5),$(3,hfe,1,0,"div",12),$(4,pfe,2,4,"mat-icon",7),C()()}if(2&i){const e=I();et("border-radius",e.config.radius,"px")("height",e.config.size,"px")("min-width",e.config.width,"px"),g("hidden",e.config.hidden)("disabled",e.config.disabled)("color",e.config.color),_(1),et("font-size",e.config.text,"px")("line-height",e.config.text,"px"),_(1),g("ngIf",e.config.value),_(1),g("ngIf",e.config.icon&&e.config.value),_(1),g("ngIf",e.config.icon)}}const ffe=function(i){return{"sw-hidden":i}};let Pr=(()=>{class i{constructor(){this.config=new Ms,this.events=new tt,this.name="PopButtonComponent"}ngOnInit(){}onButtonClick(){this.onBubbleEvent(this.config.event)}onBubbleEvent(e,t=null){this.config.bubble&&this.events.emit({source:this.name,type:"field",name:e,config:this.config,message:t})}ngOnDestroy(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-button"]],inputs:{config:"config"},outputs:{events:"events"},decls:3,vars:5,consts:[[1,"pop-button-container",3,"ngClass"],["mat-raised-button","","matTooltipClass","button-tooltip-background",3,"borderRadius","height","minWidth","hidden","disabled","color","click",4,"ngIf"],["mat-flat-button","","matTooltipClass","button-tooltip-background",3,"borderRadius","height","minWidth","hidden","disabled","color","click",4,"ngIf"],["mat-raised-button","","matTooltipClass","button-tooltip-background",3,"hidden","disabled","color","click"],[1,"pop-button-content"],[3,"ngClass",4,"ngIf"],["class","pop-button-divider",4,"ngIf"],[3,"fontSize","color",4,"ngIf"],[3,"ngClass"],[1,"pop-button-divider"],[3,"color"],["mat-flat-button","","matTooltipClass","button-tooltip-background",3,"hidden","disabled","color","click"],["class","sw-mar-hrz-xs",4,"ngIf"],[1,"sw-mar-hrz-xs"]],template:function(e,t){1&e&&(x(0,"div",0),$(1,dfe,5,16,"button",1),$(2,mfe,5,16,"button",2),C()),2&e&&(g("ngClass",qe(3,ffe,t.config.hidden)),_(1),g("ngIf","mat-flat-button"!==t.config.type),_(1),g("ngIf","mat-flat-button"===t.config.type))},dependencies:[Gt,ct,kn,wi],styles:[".pop-button-content[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:5px;-webkit-box-sizing:border-box;box-sizing:border-box}.pop-button-divider[_ngcontent-%COMP%]{width:var(--gap-xs);height:10px}.pop-button-text-accent[_ngcontent-%COMP%]{color:var(--accent);font-weight:700}[_nghost-%COMP%]     .mat-icon{height:auto!important;width:auto!important}[_nghost-%COMP%]     .mat-mdc-raised-button{min-width:0;padding:0 5px!important;line-height:normal!important}[_nghost-%COMP%]     .mat-mdc-raised-button mat-icon{width:auto;line-height:normal}[_nghost-%COMP%]     button{-webkit-box-flex:1;-ms-flex:1;flex:1;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:1em!important;line-height:normal;outline:0;border:1px solid var(--border)!important}"]}),i})();const gfe=function(i){return{"sw-hidden":i}};function _fe(i,n){if(1&i&&(x(0,"div",13)(1,"div",14)(2,"mat-icon",15),ee(3,"info"),C()()()),2&i){const e=I();_(1),g("ngClass",qe(2,gfe,!e.config.message))("matTooltip",e.config.message)}}function bfe(i,n){if(1&i){const e=Me();x(0,"span",16),ie("mouseenter",function(){return he(e),pe(I().dom.state.helper=!0)})("mouseleave",function(){return he(e),pe(I().dom.state.helper=!1)}),ee(1,"X "),C()}2&i&&Ei("matTooltip",I().config.helpText)}function vfe(i,n){if(1&i){const e=Me();x(0,"lib-pop-number",7),ie("events",function(o){return he(e),pe(I().onMaxEvent(o))}),C()}2&i&&g("config",I().config.minConfig)}const U4=function(i){return{"sw-disabled":i}};let Z4=(()=>{class i extends Io{constructor(e,t){super(),this.el=e,this.cdr=t,this.name="PopMinMaxComponent",this.asset.delay=250,this.dom.configure=()=>new Promise(o=>{this.config=Ai(this.config,!0,`${this.name}:configure: - this.config`)?this.config:null,this.config.triggerOnChange=s=>{this._setControlValue(),this.cdr.detectChanges(),this.onChange(s,!0)},o(!0)})}ngOnInit(){super.ngOnInit()}onIsMaxEvent(e){this._isFieldChange(e)&&(this.config.maxConfig.control.setValue(e.config.control.value?+this.config.control.value[this.config.minColumn]?+this.config.control.value[this.config.minColumn]:+this.config.maxDefaultValue:null),this._triggerMaxChange())}onIsMinEvent(e){this._isFieldChange(e)&&(console.log("onIsMinEvent",e.config.control.value),this.config.minConfig.control.setValue(e.config.control.value?+this.config.minDefaultValue:null))}onMinEvent(e){this._isFieldChange(e)&&this._triggerMinChange()}onMaxEvent(e){this._isFieldChange(e)&&this._triggerMaxChange()}onDecrementMin(){const t=+this.config.minConfig.control.value-1;t>=1&&(this.config.minConfig.control.setValue(t),this._triggerMinChange())}onIncrementMin(){const t=+this.config.minConfig.control.value+1;t<=+this.config.maxConfig.control.value&&(this.config.minConfig.control.setValue(t),this.dom.setTimeout("on-change",()=>{this._clearMessage(),this._setControlValue(),this.onChange(void 0,!0)},this.asset.delay))}onDecrementMax(){const t=+this.config.maxConfig.control.value-1;t>=1&&(this.config.maxConfig.control.setValue(t),this._triggerMaxChange())}onIncrementMax(){const t=+this.config.maxConfig.control.value+1;t<=this.config.limit&&(this.config.maxConfig.control.setValue(t),this._triggerMaxChange())}ngOnDestroy(){super.ngOnDestroy()}_triggerMinChange(){this.dom.setTimeout("on-change",()=>{this._clearMessage(),this._setControlValue(),this.onChange(void 0,!0)},this.asset.delay)}_triggerMaxChange(){this.dom.setTimeout("on-change",()=>{this._clearMessage(),this._updateMinOptions(),this._setControlValue(),this.onChange(void 0,!0)},this.asset.delay)}_updateMinOptions(){}_setControlValue(){const e=this.config.maxConfig.control.value;let t=this.config.minConfig.control.value;!this.config.allowNegative&&t<0&&(t=0,this.config.minConfig.control.setValue(t)),e&&+t>+e&&(t=e,this.config.minConfig.control.setValue(t));const o={};o[this.config.minColumn]=t&&+t,o[this.config.maxColumn]=e&&+e,this.config.control.value=o}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-min-max"]],inputs:{config:"config"},features:[Re],decls:21,vars:14,consts:[[1,"pop-minmax-container","sw-field-item-container","sw-flex-column"],["class","pop-minmax-feedback",4,"ngIf"],[1,"sw-flex-row"],["class","pop-minmax-helper-icon sw-pointer sw-pop-icon","matTooltipPosition","right",3,"matTooltip","mouseenter","mouseleave",4,"ngIf"],[1,"sw-flex-column","pop-minmax-content",3,"ngClass"],[1,"sw-flex-row","sw-flex-item-full"],[1,"sw-flex-item-md","sw-flex-grow-xs"],[3,"config","events"],[1,"sw-flex-item-xs","sw-relative"],[1,"sw-flex-item-sm"],[3,"config","events",4,"ngIf"],[3,"ngClass","config","events"],[3,"show"],[1,"pop-minmax-feedback"],["matTooltipPosition","left",1,"pop-minmax-error-icon","sw-pointer",3,"ngClass","matTooltip"],["color","warn"],["matTooltipPosition","right",1,"pop-minmax-helper-icon","sw-pointer","sw-pop-icon",3,"matTooltip","mouseenter","mouseleave"]],template:function(e,t){1&e&&(x(0,"div",0),$(1,_fe,4,4,"div",1),x(2,"div",2),ee(3),$(4,bfe,2,1,"span",3),C(),x(5,"div",4)(6,"div",5)(7,"div",6)(8,"lib-pop-switch",7),ie("events",function(s){return t.onIsMinEvent(s)}),C()(),me(9,"div",8),x(10,"div",9),$(11,vfe,1,1,"lib-pop-number",10),C(),me(12,"div",8),C(),x(13,"div",5)(14,"div",6)(15,"lib-pop-switch",7),ie("events",function(s){return t.onIsMaxEvent(s)}),C()(),me(16,"div",8),x(17,"div",9)(18,"lib-pop-number",11),ie("events",function(s){return t.onMaxEvent(s)}),C()(),me(19,"div",8),C()(),me(20,"lib-pop-field-item-loader",12),C()),2&e&&(_(1),g("ngIf",!t.config.minimal),_(2),Mt(" ",t.config.label," "),_(1),g("ngIf",t.config.helpText),_(1),g("ngClass",qe(10,U4,t.config.patch.running)),_(3),g("config",t.config.isMinConfig),_(3),g("ngIf",t.config.isMinConfig.control.value),_(4),g("config",t.config.isMaxConfig),_(3),g("ngClass",qe(12,U4,!t.config.isMaxConfig.control.value))("config",t.config.maxConfig),_(2),g("show",t.config.patch.displayIndicator&&t.config.patch.running))},styles:["[_nghost-%COMP%]{position:relative;display:block;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.pop-minmax-container[_ngcontent-%COMP%]     .mat-slide-toggle-content{padding-right:5px!important}.pop-minmax-container[_ngcontent-%COMP%]     .pop-minmax-content .mat-form-field-infix{width:auto;padding:6px 0!important;margin-top:6px!important;border:0!important;font-size:.9em}.pop-minmax-label[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pop-minmax-content[_ngcontent-%COMP%]{min-height:40px;clear:both;font-size:.9em}.pop-minmax-content-section[_ngcontent-%COMP%]{min-height:40px}.pop-minmax-helper-icon[_ngcontent-%COMP%]{position:relative;top:4px;margin-left:5px;font-size:.7em;z-index:2}.pop-minmax-feedback[_ngcontent-%COMP%]{position:absolute;top:0;right:5px;width:20px;height:20px}.pop-minmax-error-icon[_ngcontent-%COMP%]{position:relative;z-index:2;top:-2px}"]}),i})();class K4{constructor(n){if(this.autoTicks=!1,this.bubble=!1,this.column="column",this.displayErrors=!0,this.disabled=!1,this.facade=!1,this.helpText="",this.label="",this.message="",this.max=100,this.min=1,this.noInitialValue=!1,this.options=[],this.step=1,this.showTooltip=!1,this.showTicks=!0,this.thumbLabel=!0,this.tickInterval=1,this.tooltip="",this.value=null,n)for(const e in n)this[e]=n[e];this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1,businessId:0}),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.min>this.max&&(this.min=this.max),this.noInitialValue&&(this.value=""),this.control||this.setControl()}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,this.validators?this.validators:[])}}const yfe=function(i){return{"sw-hidden":i}};let xfe=(()=>{class i extends Io{constructor(){super(),this.config=new K4,this.events=new tt,this.name="PopSliderComponent",this.dom.state.helper=!1,this.dom.state.tooltip=!1}ngOnInit(){super.ngOnInit()}onChange(e,t=!1){var o=this;return q(function*(){const s=o.config.control;typeof e<"u"&&(s.setValue(e),s.markAsDirty(),s.updateValueAndValidity()),o._isChangeValid()&&(e=o._applyTransformation(e=typeof e<"u"?e:o.config.control.value),yield o.config.patch&&(o.config.patch.path||o.config.facade)?o._onPatch(e,!1):o.onBubbleEvent("onChange"))})()}getSliderTickInterval(){return this.config.showTicks?this.config.autoTicks?"auto":this.config.tickInterval:0}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-slider"]],inputs:{config:"config"},outputs:{events:"events"},features:[Re],decls:14,vars:10,consts:[[1,"pop-slider-container","sw-field-item-container"],[1,"pop-slider-display"],[1,"pop-slider-feedback-container"],["matTooltipPosition","left",1,"pop-slider-error-icon",3,"ngClass","matTooltip"],["color","warn"],["discrete","",3,"min","step","max","ngModel","ngModelChange"],["ngSlider",""],["matSliderThumb","",3,"change"],["ngSliderThumb","matSliderThumb"],[3,"show"]],template:function(e,t){if(1&e){const o=Me();x(0,"div",0)(1,"mat-label"),ee(2,"Maxlength"),C(),x(3,"div",1),ee(4),C(),x(5,"div",2)(6,"div",3)(7,"mat-icon",4),ee(8,"info"),C()()(),x(9,"mat-slider",5,6),ie("ngModelChange",function(r){return t.config.value=r}),x(11,"input",7,8),ie("change",function(){he(o);const r=Qt(12);return Qt(10),pe(t.onChange(r.value))}),C()(),me(13,"lib-pop-field-item-loader",9),C()}2&e&&(_(4),Je(t.config.value),_(2),g("ngClass",qe(8,yfe,!t.config.message))("matTooltip",t.config.message),_(3),g("min",t.config.min)("step",t.config.step)("max",t.config.max)("ngModel",t.config.value),_(4),g("show",t.config.patch.displayIndicator&&t.config.patch.running))},dependencies:[Gt,$o,js,wi,Pn,qre,vk,Gl,qo],styles:[".pop-slider-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;height:40px}[_nghost-%COMP%]     mat-label{width:75px}.pop-slider-display[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;min-width:10px;padding:0 2px;text-align:right}.pop-slider-error-icon[_ngcontent-%COMP%]{position:absolute;z-index:2;margin-top:3px}.pop-slider-feedback-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:30px;height:20px;padding-top:2px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row;flex-flow:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}[_nghost-%COMP%]     mat-slider{padding:0;vertical-align:top;display:block}[_nghost-%COMP%]     .mat-slider-horizontal{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}"]}),i})();function Cfe(i,n){if(1&i&&me(0,"div",7),2&i){const e=I();g("@slideInOut",void 0)("innerHTML",e.config.tooltip,yr)}}function wfe(i,n){if(1&i&&(x(0,"mat-label"),ee(1),C()),2&i){const e=I();_(1),Je(e.config.label)}}function kfe(i,n){if(1&i&&(x(0,"div",8),me(1,"lib-pop-field-item-error",9)(2,"lib-pop-field-item-helper",10),C()),2&i){const e=I();_(1),g("hidden",!e.config.message)("message",e.config.message),_(1),g("hidden",e.config.message)("helpText",e.config.helpText)}}const Ife=function(i,n,e){return{"sw-hidden":i,"pop-number-minimal":n,"pop-number-container-tooltip-adjust":e}};let ay=(()=>{class i extends Io{constructor(e,t){super(),this.el=e,this.cdr=t,this.config=new zf,this.name="PopNumberComponent",this.dom.configure=()=>new Promise(o=>(this.config.triggerOnChange=(s,r=!1)=>{this.cdr.detectChanges(),this.onChange(s,r)},this.config.triggerDirectPatch=s=>{this._onPatch(s,!0).then(()=>{this.log.info("triggerDirectPatch",s)})},o(!0)))}ngOnInit(){super.ngOnInit()}onKeyUp(e){"Enter"===e.code?this.config.control.invalid?this.config.displayErrors&&this._setMessage(mp(this.config.control.errors)):this.config.patch&&(this.config.patch.path||this.config.facade)&&this.config.control.value!==this.asset.storedValue&&this._isFieldPatchable()&&this.onChange():(this.dom.state.modified=!0,this.onBubbleEvent("onKeyUp"))}_beforePatch(){var e=this;return new Promise(function(){var t=q(function*(o){let s=!0;const r=e.config.patch,a=e.config.control;return a.disable(),r.running=!0,e._clearMessage(),e._checkCurrentValue(),It(e.config.patch.before)&&(s=yield e.config.patch.before(e.core,{type:"field",name:"beforePatch",config:e.config,source:e.name,value:a.value},e.dom)),o(s)});return function(o){return t.apply(this,arguments)}}())}ngOnDestroy(){super.ngOnDestroy()}_checkCurrentValue(){const e=this.config.control;e.value>this.config.max?e.setValue(this.config.max,{emitEvent:!1}):e.value<this.config.min&&e.setValue(this.config.min,{emitEvent:!1})}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-number"]],inputs:{config:"config"},features:[Re],decls:7,vars:15,consts:[[1,"sw-field-item-container","pop-number-container",3,"ngClass"],["class","pop-number-tooltip-container",3,"innerHTML",4,"ngIf"],["appearance","outline","color","accent",1,"sw-field-item-container-expansion"],[4,"ngIf"],["type","number","matInput","","matTooltipClass","pop-number-tooltip-background",3,"hidden","min","max","step","formControl","maxlength","keyup","blur","focus"],["class","pop-number-feedback-container","matSuffix","",4,"ngIf"],[3,"show"],[1,"pop-number-tooltip-container",3,"innerHTML"],["matSuffix","",1,"pop-number-feedback-container"],[1,"pop-number-error-icon",3,"hidden","message"],[1,"pop-number-helper-icon",3,"hidden","helpText"]],template:function(e,t){1&e&&(x(0,"div",0),$(1,Cfe,1,2,"div",1),x(2,"mat-form-field",2),$(3,wfe,2,1,"mat-label",3),x(4,"input",4),ie("keyup",function(s){return t.onKeyUp(s)})("blur",function(){return t.dom.state.tooltip=!1,t.onBlur()})("focus",function(){return t.dom.state.tooltip=!0,t.onFocus()}),C(),$(5,kfe,3,4,"div",5),C(),me(6,"lib-pop-field-item-loader",6),C()),2&e&&(g("ngClass",fs(11,Ife,t.config.hidden,t.config.minimal,t.config.tooltip&&t.dom.state.tooltip)),_(1),g("ngIf",t.config.tooltip&&t.dom.state.tooltip),_(2),g("ngIf",t.config.label),_(1),g("hidden",t.config.hidden)("min",t.config.min)("max",t.config.max)("step",t.config.step)("formControl",t.config.control)("maxlength",t.config.maxlength),_(1),g("ngIf",!t.config.minimal&&(t.config.message||t.config.helpText)),_(1),g("show",t.config.patch.displayIndicator&&t.config.patch.running))},dependencies:[Gt,ct,$s,n1,$o,ff,u1,d1,sr,Wr,ks,js,Ac,qo,Ia,hl],styles:[".pop-number-container[_ngcontent-%COMP%]{position:relative;top:2px}.pop-number-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:6px 0 12px}.pop-number-container[_ngcontent-%COMP%]     .pop-number-container-minimal .mat-form-field-appearance-outline .mat-form-field-infix{padding:6px 0 12px}.pop-number-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper, .pop-number-container[_ngcontent-%COMP%]   .pop-number-container-minimal[_ngcontent-%COMP%]   .mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0;margin:0!important}.pop-number-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{display:none}.pop-number-container[_ngcontent-%COMP%]     input[type=number]{text-align:left;min-width:40px;padding-right:5px}.pop-number-feedback-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:-4px;width:20px;height:20px}.pop-number-error-icon[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:5px;font-size:.8em;width:20px;height:20px}.pop-number-helper-icon[_ngcontent-%COMP%]{position:relative;font-size:.8em;top:3px;z-index:2}.pop-number-select-icon[_ngcontent-%COMP%]{position:absolute;z-index:2;margin-top:3px;color:var(--text-disabled)}.pop-number-ajax-spinner[_ngcontent-%COMP%]{position:absolute;z-index:1}.pop-number-container-tooltip-adjust[_ngcontent-%COMP%]{padding-top:45px}.pop-number-tooltip-container[_ngcontent-%COMP%]{position:absolute;display:block;right:0;left:0;top:0;height:40px;background:var(--accent);border-radius:.25em;padding:.75em;z-index:2;color:var(--primary-text);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;overflow:hidden;text-align:center}[_nghost-%COMP%]     .pop-number-minimal .mat-form-field-infix{padding-right:2px!important}"]}),i})();function Afe(i,n){1&i&&(x(0,"mat-icon",5),ee(1,"warning_amber"),C())}const Sfe=function(i,n,e,t){return{"pop-text-border":i,"pop-text-header":n,"pop-text-warning":e,"pop-text-ellipsis":t}};function Mfe(i,n){if(1&i&&(x(0,"div",1)(1,"div",2),$(2,Afe,2,0,"mat-icon",3),me(3,"div",4),C()()),2&i){const e=I();et("padding",e.config.padding,"px"),g("ngClass",ph(8,Sfe,e.config.border,e.config.header,e.config.warning,"ellipsis"===e.config.textOverflow)),_(2),g("ngIf",e.config.warning),_(1),hs("pop-text-value ",e.config.className,""),g("innerHTML",e.config.value,yr)}}let Pfe=(()=>{class i extends Yt{constructor(e){super(),this.el=e,this.name="PopTextComponent",this.dom.configure=()=>new Promise(t=>t(!0))}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-text"]],inputs:{config:"config"},features:[Re],decls:1,vars:1,consts:[["class","sw-field-item-container pop-text-container",3,"padding","ngClass",4,"ngIf"],[1,"sw-field-item-container","pop-text-container",3,"ngClass"],[1,"sw-flex-row","sw-flex-start-center"],["class","theme-error",4,"ngIf"],[3,"innerHTML"],[1,"theme-error"]],template:function(e,t){1&e&&$(0,Mfe,4,13,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},dependencies:[Gt,ct,wi],styles:[".pop-text-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-box-sizing:border-box}.pop-text-container[_ngcontent-%COMP%]   .sw-flex-row[_ngcontent-%COMP%]{min-width:0}.pop-text-border[_ngcontent-%COMP%]{border-radius:3px;border:1px solid var(--border);padding:var(--gap-s)}[_nghost-%COMP%]     .pop-text-header .pop-text-value{font-weight:700;font-size:18px}[_nghost-%COMP%]     .pop-text-ellipsis .pop-text-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]     .sw-field-item-container{margin:0!important}[_nghost-%COMP%]     mat-icon{margin-right:var(--gap-xs)}"]}),i})();const Tfe=function(i){return{selected:i}};function Efe(i,n){if(1&i){const e=Me();x(0,"button",2),ie("click",function(){const s=he(e).$implicit;return pe(I().onSelectDatePreset(s))}),ee(1),C()}if(2&i){const e=n.$implicit,t=I();g("ngClass",qe(2,Tfe,e===t.selected)),_(1),Mt(" ",e," ")}}let Dfe=(()=>{class i extends Yt{constructor(e,t,o,s){var r;super(),r=this,this.dateRange=e,this.dateAdapter=t,this.datePicker=o,this.calendar=s,this.name="DateRangePanelComponent",this.presets=yme,this.dom.configure=()=>new Promise(function(){var a=q(function*(l){return r.selected=r.dateRange.getPreset(),r.dom.setSubscriber("apply-preset",r.dateRange.presetEvents.subscribe(c=>{r.selected=c})),l(!0)});return function(l){return a.apply(this,arguments)}}())}onSelectDatePreset(e){this.selected=e;const[t,o]=this.dateRange.calculateDateRange(e);(void 0!==this.selected.start&&!this.calendar.selected.end||this.calendar.selected.start&&!this.calendar.selected.end)&&this.datePicker.select(t),this.datePicker.select(t),this.datePicker.select(o),this.calendar.activeDate=o}}return i.\u0275fac=function(e){return new(e||i)(P(RI),P(to),P(CL),P(su))},i.\u0275cmp=Fe({type:i,selectors:[["lib-date-range-panel"]],features:[Re],decls:2,vars:1,consts:[["appearance","outlined",1,"pop-datepicker-panel"],["class","date-preset-button","mat-button","","color","accent",3,"ngClass","click",4,"ngFor","ngForOf"],["mat-button","","color","accent",1,"date-preset-button",3,"ngClass","click"]],template:function(e,t){1&e&&(x(0,"mat-card",0),$(1,Efe,2,4,"button",1),C()),2&e&&(_(1),g("ngForOf",t.presets))},dependencies:[Gt,ai,kn,Kh],styles:["[_nghost-%COMP%]{position:absolute;width:200px;left:-200px}.pop-datepicker-panel[_ngcontent-%COMP%]{position:relative;top:-1px;border-left:1px solid lightgray;border-bottom:1px solid lightgrey;border-top:1px solid lightgray;border-radius:0}.date-preset-button[_ngcontent-%COMP%]{width:100%;text-align:left}.selected[_ngcontent-%COMP%]{background:var(--background-side-menu);width:100%;text-align:left}"]}),i})();function Ofe(i,n){if(1&i&&(x(0,"mat-label"),ee(1),C()),2&i){const e=I();_(1),Je(e.config.label)}}function Rfe(i,n){1&i&&me(0,"div",12),2&i&&g("innerHTML",I().config.tooltip,yr)}function Ffe(i,n){if(1&i){const e=Me();x(0,"mat-icon",13),ie("click",function(){return he(e),pe(I().onResetForm())}),ee(1,"clear"),C()}}let Lfe=(()=>{class i extends Io{constructor(e){super(),this.el=e,this.config=new y4,this.name="PopDateComponent",this.dom.configure=()=>new Promise(t=>(this.config.max=null,this.config.triggerOnChange=(o,s=!1)=>{this.dom.setTimeout("config-trigger-change",()=>{this.onChange(o,s)},0)},this.config.clearMessage=()=>{this.dom.setTimeout("config-clear-message",()=>{this.config.message="",this.config.control.markAsPristine(),this.config.control.markAsUntouched()},0)},this._setFilterPredicate(),t(!0)))}ngOnInit(){super.ngOnInit()}onChange(e,t=!1){var o=this;return q(function*(){if(e=e?wo.toIso(e):null,Y(o.config,["control"])){o.log.info("onChange",e);const s=o.config.control;typeof e<"u"&&(s.setValue(e),s.markAsDirty(),s.updateValueAndValidity()),o._isChangeValid()&&(e=o._applyTransformation(e=typeof e<"u"?e:o.config.control.value),yield o.config.patch&&(o.config.patch.path||o.config.facade)?o._onPatch(e,t):o.onBubbleEvent("onChange"))}})()}onResetForm(){this.dom.setTimeout("reset-form",()=>{this.config.control.setValue(null,{emitEvent:!0}),this.config.control.updateValueAndValidity(),this.onChange()},0)}ngOnDestroy(){super.ngOnDestroy()}_setFilterPredicate(){if("string"==typeof this.config.filterPredicate)switch(String(this.config.filterPredicate).toLowerCase()){case"weekday":this.config.filterPredicate=e=>{const t=e.getDay();return 0!==t&&6!==t};break;case"week":this.config.filterPredicate=e=>{const t=e.getDay();return t>=1&&t<=5};break;case"monday":this.config.filterPredicate=e=>1===e.getDay();break;default:this.config.filterPredicate=null}}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-datepicker"]],inputs:{config:"config"},features:[Re],decls:13,vars:15,consts:[[1,"sw-field-item-container","pop-date-container"],["appearance","outline","color","accent",1,"sw-field-item-container-expansion"],[4,"ngIf"],["class","field-tooltip-msg",3,"innerHTML",4,"ngIf"],["type","text","matTooltipClass","input-tooltip-background","matInput","","placeholder","",3,"matDatepicker","readonly","min","max","matDatepickerFilter","formControl","blur","focus","dateChange"],["datePicker",""],["class","sw-pointer date-clear-icon",3,"click",4,"ngIf"],[1,"date-toggle-icon",3,"for"],[1,"date-helper-icon",3,"hidden","helpText"],[1,"date-feedback-container"],[1,"date-error-icon",3,"hidden","message"],[3,"show"],[1,"field-tooltip-msg",3,"innerHTML"],[1,"sw-pointer","date-clear-icon",3,"click"]],template:function(e,t){if(1&e&&(x(0,"div",0)(1,"mat-form-field",1),$(2,Ofe,2,1,"mat-label",2),$(3,Rfe,1,1,"div",3),x(4,"input",4),ie("blur",function(){return t.config.showTooltip=!1,t.onBlur()})("focus",function(){return t.config.showTooltip=!0,t.onFocus()})("dateChange",function(s){return t.onChange(s.value)}),C()(),me(5,"mat-datepicker",null,5),$(7,Ffe,2,0,"mat-icon",6),me(8,"mat-datepicker-toggle",7)(9,"lib-pop-field-item-helper",8),x(10,"div",9),me(11,"lib-pop-field-item-error",10),C(),me(12,"lib-pop-field-item-loader",11),C()),2&e){const o=Qt(6);_(2),g("ngIf",t.config.label),_(1),g("ngIf",t.config.tooltip&&t.config.showTooltip),_(1),g("matDatepicker",o)("readonly",t.config.disabled)("min",t.config.min)("max",t.config.max)("matDatepickerFilter",t.config.filterPredicate)("formControl",t.config.control),_(3),g("ngIf",!t.config.disabled),_(1),g("for",o),_(1),g("hidden",!t.config.helpText)("helpText",t.config.helpText),_(2),g("hidden",!t.config.message)("message",t.config.message),_(1),g("show",t.config.patch.displayIndicator&&t.config.patch.running)}},dependencies:[ct,$s,$o,sr,Wr,ks,js,lv,Cf,L1,wi,qo,Ia,hl],styles:[".pop-date-container[_ngcontent-%COMP%]{position:relative;display:block;padding:0;margin:10px 0}.pop-date-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{display:none}.pop-date-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:0;margin:0!important}.pop-date-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:8px 20px 13px 0}.date-feedback-container[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;width:20px;bottom:5px;display:-webkit-box;display:-ms-flexbox;display:flex;padding-top:2px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row;flex-flow:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;pointer-events:none}.date-clear-icon[_ngcontent-%COMP%]{position:absolute!important;width:25px;height:25px;right:42px;top:13px;z-index:1;font-size:1em}.date-toggle-icon[_ngcontent-%COMP%]{position:absolute!important;width:25px;height:25px;right:20px;top:8px;z-index:1}.date-toggle-icon[_ngcontent-%COMP%]     .mat-mdc-icon-button{line-height:25px!important}.date-toggle-icon[_ngcontent-%COMP%]     button{width:25px;height:25px}.date-toggle-icon[_ngcontent-%COMP%]     button mat-icon{font-size:.9em}.date-error-icon[_ngcontent-%COMP%]{position:relative;pointer-events:all;left:2px}.date-error-icon[_ngcontent-%COMP%]     .mat-icon{font-size:1em!important}.date-helper-icon[_ngcontent-%COMP%]{position:absolute!important;width:25px;height:25px;right:67px;pointer-events:all;font-size:.8em;top:11px}.date-helper-icon[_ngcontent-%COMP%]     .mat-icon{font-size:.9em!important}.date-ajax-spinner[_ngcontent-%COMP%]{position:absolute;z-index:1}.field-tooltip-msg[_ngcontent-%COMP%]{position:absolute;display:block;bottom:50px;width:100%;right:-10px;left:-10px;background:#3D72EA!important;border-radius:.25em;padding:.75em;z-index:2;color:#fff;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;overflow:hidden;text-align:center}[_nghost-%COMP%]     .mat-datepicker-content{position:relative;left:150px!important;border-radius:0!important;height:425px;background:var(--background-base);border:1px solid lightgray!important}"]}),i})();function Nfe(i,n){if(1&i&&(x(0,"mat-label"),ee(1),C()),2&i){const e=I();_(1),Je(e.config.label)}}function Bfe(i,n){if(1&i){const e=Me();x(0,"div",16),ie("click",function(){const s=he(e).$implicit;return pe(I(3).onSelectColor(s))}),C()}2&i&&et("background-color",n.$implicit)}function Vfe(i,n){if(1&i&&(x(0,"div",14),$(1,Bfe,1,2,"div",15),C()),2&i){const e=n.$implicit;_(1),g("ngForOf",e)}}function $fe(i,n){if(1&i&&(x(0,"div",11)(1,"div",12),$(2,Vfe,2,1,"div",13),C()()),2&i){const e=I();_(2),g("ngForOf",e.ui.colors)}}const Hfe=function(i){return{"sw-disabled":i}},zfe=function(i){return{"pcp-selected-color":i}};let jfe=(()=>{class i extends Io{constructor(){var e;super(),e=this,this.config=new C4,this.name="PopColorPickerComponent",this.asset={},this.ui={colors:[["#f9f9f9","#f2f2f2","#d7d7d7","#bebebe","#a3a3a3","#7e7e7e"],["#000000","#7f7f7f","#595959","#414141","#2a2a2a","#141414"],["#da5951","#f2d3d4","#e8a7aa","#de7d81","#972a2b","#651b1c"],["#f1853b","#FAEADC","#F6D5BA","#F3C097","#D67135","#8F4B21"],["#FDE26B","#FBFBDA","#FBFBDA","#F1F49A","#E0D847","#C2BB3E"],["#6E9C38","#E8F3D9","#D2E8B5","#D2E8B5","#D2E8B5","#D2E8B5"],["#5581C5","#DEEEF2","#BDDCE6","#9DCCD9","#468498","#2D5865"],["#264C79","#C9DAEE","#92B5DE","#5D91CE","#1C385A","#12253C"],["#BD62F8","#E4E1EB","#CAC3D7","#AFA5C5","#5B4E77","#3C344F"],["#ED3833","#F9C947","#FFF852","#73F440","#0045F5","#894CF7"]],header:""},this.dom.configure=()=>new Promise(function(){var t=q(function*(o){return yield e._setInitialConfig(),o(!0)});return function(o){return t.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onTogglePicker(){this.dom.state.open=!this.dom.state.open,this.dom.setTimeout("on-toggle-picker",()=>{this.onBubbleEvent(this.dom.state.open?"onOpen":"onClose")},250)}onClosePicker(){this.dom.state.open=!1,this.dom.setTimeout("on-close-picker",()=>{this.onBubbleEvent("onClose")},250)}onSelectColor(e){this.config.control.setValue(e),this.onChange()}onClickOutsideBoundary(){this.dom.state.open&&this.onClosePicker()}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.state.modified=!1,o(!0)});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-color-picker"]],inputs:{config:"config"},features:[Re],decls:15,vars:16,consts:[[1,"sw-field-item-container","pcp-container",3,"libClickOutside"],[4,"ngIf"],[1,"pcp-select",3,"ngClass","click"],[1,"pcp-select-label"],[3,"ngClass"],[2,"flex-grow","1"],["matSuffix","",1,"pcp-feedback-container"],[1,"pop-input-error",3,"hidden","message"],[1,"pop-input-helper",3,"hidden","helpText"],["class","pcp-color-select-content",4,"ngIf"],[3,"show"],[1,"pcp-color-select-content"],[1,"pcp-color-grid"],["class","pcp-color-grid-row",4,"ngFor","ngForOf"],[1,"pcp-color-grid-row"],["class","pcp-color-swatch sw-pointer",3,"background-color","click",4,"ngFor","ngForOf"],[1,"pcp-color-swatch","sw-pointer",3,"click"]],template:function(e,t){1&e&&(x(0,"div",0),ie("libClickOutside",function(){return t.onClickOutsideBoundary()}),$(1,Nfe,2,1,"mat-label",1),x(2,"div",2),ie("click",function(){return t.onTogglePicker()}),x(3,"div",3)(4,"div",4),ee(5),C(),me(6,"div",5),x(7,"div")(8,"mat-icon"),ee(9,"arrow_drop_down"),C()(),x(10,"div",6),me(11,"lib-pop-field-item-error",7)(12,"lib-pop-field-item-helper",8),C()(),$(13,$fe,3,1,"div",9),C(),me(14,"lib-pop-field-item-loader",10),C()),2&e&&(_(1),g("ngIf",t.config.label),_(1),g("ngClass",qe(12,Hfe,t.config.disabled)),_(2),et("background-color",t.config.control.value?t.config.control.value:""),g("ngClass",qe(14,zfe,t.config.control.value)),_(1),Je(t.config.control.value?"":"Choose a color"),_(6),g("hidden",!t.config.message)("message",t.config.message),_(1),g("hidden",t.config.message)("helpText",t.config.helpText),_(1),g("ngIf",t.dom.state.open),_(1),g("show",t.config.patch.displayIndicator&&t.config.patch.running))},dependencies:[Gt,ai,ct,js,Ac,wi,qo,Ia,hl,yu],styles:[".pcp-container[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;min-height:30px}.pcp-select[_ngcontent-%COMP%]{height:40px;border:1px solid lightgray;border-radius:3px;margin-top:2px}.pcp-color-select-content[_ngcontent-%COMP%]{position:absolute;left:-1px;height:250px;width:100%;z-index:9999;border:1px solid var(--background-selected-button);background:white}.pcp-color-grid[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;padding:var(--gap-sm)}.pcp-color-swatch[_ngcontent-%COMP%]{margin-bottom:var(--gap-s);width:22px;height:22px}.pcp-color-grid-row[_ngcontent-%COMP%]{margin-right:var(--gap-s)}.pcp-header[_ngcontent-%COMP%]{font-size:18px;color:var(--foreground-base)}.pcp-select-label[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;padding:10px 5px 0 10px;font-size:13px}.pcp-select-disabled[_ngcontent-%COMP%]{color:var(--foreground-disabled)}.pcp-selected-color[_ngcontent-%COMP%]{width:20px;height:20px}.pcp-no-fill-checkbox[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;bottom:30px;left:15px}.pcp-feedback-container[_ngcontent-%COMP%]{width:20px;height:20px;position:relative;top:-2px;left:-2px}.pcp-feedback-container[_ngcontent-%COMP%]     .pop-field-item-help-text{position:relative;top:3px}"]}),i})();const Gfe=function(i){return{"sw-transparent":i}};let NI=(()=>{class i extends Io{constructor(){var e;super(),e=this,this.config=new Yv,this.name="PopSearchInputComponent",this.dom.configure=()=>new Promise(function(){var t=q(function*(o){return yield e._setInitialConfig(),o(!0)});return function(o){return t.apply(this,arguments)}}())}onKeyUp(){var e=this;this.dom.setTimeout("on-key-up",q(function*(){yield e.onBubbleEvent("onKeyUp","",{value:e.config.control.value})}),250)}onClearSearchValue(){this.config.control.setValue(""),this.dom.session.searchValue="",this.onBubbleEvent("onKeyUp","",{value:""})}_setInitialConfig(){return new Promise(function(){var e=q(function*(t){return t(!0)});return function(t){return e.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-search-input"]],inputs:{config:"config"},features:[Re],decls:8,vars:8,consts:[[1,"pop-search-input-container"],["appearance","outline","color","accent",1,"sw-search","sw-field-item-container-expansion"],["matPrefix",""],["matSuffix","",1,"sw-pointer",3,"ngClass","click"],["matInput","",3,"formControl","placeholder","keyup"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"mat-form-field",1)(2,"a",2)(3,"mat-icon"),ee(4),C()(),x(5,"mat-icon",3),ie("click",function(){return t.onClearSearchValue()}),ee(6," close "),C(),x(7,"input",4),ie("keyup",function(){return t.onKeyUp()}),C()()()),2&e&&(_(1),et("width",100,"%"),_(3),Je(t.config.icon),_(1),g("ngClass",qe(6,Gfe,!t.config.control.value)),_(2),g("formControl",t.config.control)("placeholder",t.config.label))},dependencies:[Gt,$s,$o,sr,Wr,ks,nu,Ac,wi],styles:["[_nghost-%COMP%]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.pop-search-input-container[_ngcontent-%COMP%]{position:relative;top:-2px;height:40px}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{height:40px}[_nghost-%COMP%]     .mat-mdc-form-field .mat-form-field-wrapper{height:40px}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:7px 0 0}[_nghost-%COMP%]     .mat-form-field-infix{width:0!important}[_nghost-%COMP%]     .mat-form-field-flex{margin-top:0!important}[_nghost-%COMP%]     .sw-field-item-container{margin-top:0!important;background:red}[_nghost-%COMP%]     .mat-mdc-input-element{color:var(--foreground-base)!important}"]}),i})();function Zfe(i,n){1&i&&(x(0,"button",8)(1,"mat-icon"),ee(2,"cancel"),C()())}function Kfe(i,n){1&i&&(x(0,"span",9)(1,"mat-icon"),ee(2,"arrow_drop_down"),C()()),2&i&&(I(),g("matMenuTriggerFor",Qt(7)))}function Yfe(i,n){1&i&&me(0,"lib-pop-field-item-helper",10),2&i&&g("helpText",I(2).config.helpText)}function Xfe(i,n){if(1&i){const e=Me();x(0,"button",11),ie("click",function(){const s=he(e).$implicit;return pe(I(2).onNewItem(s))}),ee(1),C()}if(2&i){const e=n.$implicit,t=I(2);g("disabled",e.value==t.asset.value),_(1),Je(e.name)}}const qfe=function(i,n){return{"sw-disabled":i,"pc-square":n}};function Jfe(i,n){if(1&i){const e=Me();x(0,"mat-chip-listbox",1)(1,"mat-chip-option",2),ie("removed",function(){return he(e),pe(I().onRemove())}),ee(2),$(3,Zfe,3,0,"button",3),$(4,Kfe,3,1,"span",4),C(),$(5,Yfe,1,1,"lib-pop-field-item-helper",5),x(6,"mat-menu",null,6),$(8,Xfe,2,2,"button",7),C()()}if(2&i){const e=I();_(1),et("background",e.config.color),g("ngClass",Ii(8,qfe,e.config.disabled,"flat"==e.config.type)),_(1),Mt("",e.config.value," "),_(1),g("ngIf",e.config.showRemove),_(1),g("ngIf",e.config.showDropDown),_(1),g("ngIf",e.config.showHelpText),_(3),g("ngForOf",e.config.options.values)}}let Qfe=(()=>{class i extends Io{constructor(){var e;super(),e=this,this.dataFactory=null,this.dataFactoryValue=null,this.name="PopChipComponent",this.asset={value:void 0,options:[]},this.dom.configure=()=>new Promise(function(){var t=q(function*(o){return e.dom.state.useDataColumns=!1,e.asset.value=e.config.value,yield Promise.all([e._setData()]),o(!0)});return function(o){return t.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}onRemove(){window.console.log(this.config.value)}onNewItem(e){if(this.config.patch.path&&this.config.patch.field){const t=this.config.patch.path.replace("#entityId",this.core.entity.id);this.dom.setSubscriber("update-chip",gt.doPatch(t,{[this.config.patch.field]:e.value}).subscribe(()=>{this.asset.value=+e.value;const o=this.asset.options.find(s=>s.id===this.asset.value);this._setChipValue(o)}))}}_setData(){var e=this;return new Promise(function(){var t=q(function*(o,s){return e.dataFactoryValue&&e.dataFactoryValue(e.core.entity).then(r=>(e.asset.value=r,o(r)),()=>{s(null)}),e.dataFactory&&e.dataFactory(e.core.entity.scheme_id,0).then(r=>{if(De(r,!0)){e.asset.options=r;const a=e.asset.options.find(l=>l.id===e.asset.value);e.config.options.values=as(r),a&&e._setChipValue(a)}return o(r)},()=>{s([])}),o(!0)});return function(o,s){return t.apply(this,arguments)}}())}_setChipValue(e){this.config.value=e.name,this.config.color=e.color}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-chip"]],inputs:{config:"config",dataFactory:"dataFactory",dataFactoryValue:"dataFactoryValue"},features:[Re],decls:1,vars:1,consts:[["aria-label","Entity Label",4,"ngIf"],["aria-label","Entity Label"],[1,"pc-wrapper",3,"ngClass","removed"],["matChipRemove","",4,"ngIf"],["class","sw-pointer",3,"matMenuTriggerFor",4,"ngIf"],["class","pop-input-helper",3,"helpText",4,"ngIf"],["menu","matMenu"],["mat-menu-item","",3,"disabled","click",4,"ngFor","ngForOf"],["matChipRemove",""],[1,"sw-pointer",3,"matMenuTriggerFor"],[1,"pop-input-helper",3,"helpText"],["mat-menu-item","",3,"disabled","click"]],template:function(e,t){1&e&&$(0,Jfe,9,11,"mat-chip-listbox",0),2&e&&g("ngIf",t.asset.value)},dependencies:[Gt,ai,ct,wi,Hw,sf,Ob,Sk,Ik,VN,Ia],styles:[".pc-wrapper[_ngcontent-%COMP%]{font:400 14px Roboto,sans-serif}[_nghost-%COMP%]     .mat-mdc-standard-chip{padding:12px;min-height:-webkit-max-content;min-height:-moz-max-content;min-height:max-content}[_nghost-%COMP%]     .mat-chip-with-trailing-icon{padding:12px 4px 12px 12px!important}.pc-square[_ngcontent-%COMP%]{border-radius:2px!important}lib-pop-field-item-helper[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;font-size:12px}[_nghost-%COMP%]     .mat-chip-trailing-icon{margin-left:2px!important}"]}),i})();const ege=["picker"],tge=["dayInput"],ige=["yearInput"],nge=["monthInput"],oge=["hourInput"],sge=["minuteInput"];function rge(i,n){if(1&i&&(x(0,"span",25),ee(1),C()),2&i){const e=I();_(1),Je(e.asset.timePeriod)}}const age=function(i,n){return{"sw-disabled pop-time-icon-disabled":i,"sw-pointer pop-time-icon-active":n}},lge=function(i){return{"date-expansion-items":i}};let Y4=(()=>{class i extends Io{constructor(e,t){var o;super(),o=this,this.el=e,this.overlayContainer=t,this.config=new k4,this.asset={day:void 0,month:void 0,year:void 0,hour:void 0,minute:void 0,timePeriod:void 0},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){o._setInitialConfig(),o.config.triggerOnChange=a=>{o.cdr.detectChanges(),o.onChange(a,!0)},o.config.triggerInitialValue&&(o.cdr.detectChanges(),o.onChange(o.config.value,!0)),o.config.clearMessage=()=>{o.dom.setTimeout("config-clear-message",()=>{o.config.message="",o.config.control.markAsPristine(),o.config.control.markAsUntouched()},0)},r(!0)});return function(r){return s.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}numberOnly(e){const t=e.which?e.which:e.keyCode;return!(t>31&&(t<48||t>57))}onCheckValidity(){var e=this;return q(function*(){const t=`${e.asset.month}/${e.asset.day}/${e.asset.year} ${e.asset.hour}:${e.asset.minute} ${e.asset.timePeriod} `;if(Vi(e.asset.day)&&Vi(e.asset.month)&&Vi(e.asset.year)&&Vi(e.asset.hour)&&Vi(e.asset.minute)){const o=new Date(t);try{e.onChange(new Date(o).toISOString()),e.onBlur()}catch(s){e.config.message=s.message,yield e.onBubbleEvent("onInvalidChange")}}else e.config.message="Invalid",yield e.onBubbleEvent("onInvalidChange")})()}onKeyUp(e,t){}onChangeValue(e,t){this.asset[t]=+e.target.value}onDateChange(e){this.asset.day=e.value.getDate(),this.asset.month=e.value.getMonth()+1,this.asset.year=e.value.getFullYear(),this.onCheckValidity()}onChange(e,t=!1){var o=this;return q(function*(){if(e=e?wo.toIso(e):null,Y(o.config,["control"])){o.log.info("onChange",e);const s=o.config.control;typeof e<"u"&&(s.setValue(e),s.markAsDirty(),s.updateValueAndValidity()),o._isChangeValid()?(o.config.clearMessage(),e=o._applyTransformation(e=typeof e<"u"?e:o.config.control.value),yield o.config.patch&&(o.config.patch.path||o.config.facade)?o._onPatch(e,t):o.onBubbleEvent("onChange")):yield o.onBubbleEvent("onInvalidChange")}})()}onResetForm(){this.dom.setTimeout("reset-form",()=>{this.config.control.setValue(null,{emitEvent:!0}),this.config.control.updateValueAndValidity(),this.onChange(),this.asset.day=void 0,this.asset.month=void 0,this.asset.year=void 0,this.asset.hour=void 0,this.asset.minute=void 0,this.asset.timePeriod=void 0},0)}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){if(e.core.access||(e.core.access={can_create:0,can_update:1,can_read:1,can_delete:0,can_destroy:0}),e.core.params||(e.core.params={internal_name:""}),e.config.value){e.asset.day=e.config.value.getDate(),e.asset.month=e.config.value.getMonth()+1,e.asset.year=e.config.value.getFullYear();const s=e.config.time;if(s.value){const{minHour:r,maxHour:a}=s,[l,c]=e.config.time.value.split(" "),[A,D]=l.split(":");e.asset.timePeriod=c,e.asset.hour=A,e.asset.minute=D,(A>a||A<r)&&(e.config.message="Invalid",yield e.onBubbleEvent("onInvalidChange"))}}return o(!0)});return function(o){return t.apply(this,arguments)}}())}onEditValue(){var e=this;let t=null;const o=this.config.time;this.asset.hour&&(t=`${this.asset.hour}:${this.asset.minute}:00 ${this.asset.timePeriod}`,o.value=t,o.control.setValue(t)),this.dom.setTimeout("edit-current-value",q(function*(){const s={header:"Choose Time",name:"value",layout:"vertical",facade:!0,component:{type:z4,inputs:{config:o}},responseType:"store",postUrl:null,disableMessage:!0,blockEntity:!0},r=yield Nc.do(e.core,s);if(r&&r.value){const[a,l]=r.value.split(" "),[c,A]=a.split(":");e.asset.timePeriod=l,e.asset.hour=c,e.asset.minute=A,e.onCheckValidity()}}),0)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Xd))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-datetime"]],viewQuery:function(e,t){if(1&e&&(ht(ege,5),ht(tge,5),ht(ige,5),ht(nge,5),ht(oge,5),ht(sge,5)),2&e){let o;Ke(o=Ye())&&(t.picker=o.first),Ke(o=Ye())&&(t.dayInput=o.first),Ke(o=Ye())&&(t.yearInput=o.first),Ke(o=Ye())&&(t.monthInput=o.first),Ke(o=Ye())&&(t.hourInput=o.first),Ke(o=Ye())&&(t.minuteInput=o.first)}},inputs:{config:"config"},features:[Re],decls:39,vars:26,consts:[[1,"sw-field-item-container","pop-date-container"],[1,"date-fields-wrapper"],[1,"sw-flex-row","date-field-container"],["appearance","fill",1,"date-fields"],["matInput","","maxlength","2","placeholder","mm",3,"value","keypress","keyup","change","blur"],["monthInput",""],["matInput","","maxlength","2","placeholder","dd",3,"value","keypress","keyup","change","blur"],["dayInput",""],["matInput","","maxlength","4","placeholder","yyyy",3,"value","keypress","keyup","change","blur"],["yearInput",""],["type","text",2,"display","none",3,"formControl","readonly","min","max","matDatepickerFilter","matDatepicker","dateChange"],[1,"pop-time-wrapper","sw-flex-row",3,"click"],["maxlength","2",3,"keypress","keyup","change","blur"],["hourInput",""],["minuteInput",""],["class","time-label",4,"ngIf"],[1,"sw-pointer","date-toggle-icon",3,"click"],[1,"pop-time-column","pop-time-column-height"],["matTooltipPosition","above","matTooltipShowDelay","1000",1,"pop-time-icon",3,"matTooltip","ngClass","click"],[3,"ngClass","calendarHeaderComponent"],["picker",""],[1,"sw-pointer","date-clear-icon",3,"click"],[1,"date-feedback-container"],[1,"date-error-icon",3,"hidden","message"],[3,"show"],[1,"time-label"]],template:function(e,t){if(1&e){const o=Me();x(0,"div",0)(1,"div",1)(2,"legend"),ee(3,"datetime"),C(),x(4,"div",2)(5,"mat-form-field",3)(6,"input",4,5),ie("keypress",function(r){return t.numberOnly(r)})("keyup",function(r){return t.onKeyUp(r,"month")})("change",function(r){return t.onChangeValue(r,"month")})("blur",function(){return t.onCheckValidity()}),C()(),ee(8," / "),x(9,"mat-form-field",3)(10,"input",6,7),ie("keypress",function(r){return t.numberOnly(r)})("keyup",function(r){return t.onKeyUp(r,"day")})("change",function(r){return t.onChangeValue(r,"day")})("blur",function(){return t.onCheckValidity()}),C()(),ee(12," / "),x(13,"mat-form-field",3)(14,"input",8,9),ie("keypress",function(r){return t.numberOnly(r)})("keyup",function(r){return t.onKeyUp(r,"year")})("change",function(r){return t.onChangeValue(r,"year")})("blur",function(){return t.onCheckValidity()}),C(),x(16,"input",10),ie("dateChange",function(r){return t.onDateChange(r)}),C()(),x(17,"div",11),ie("click",function(){return t.onEditValue()}),x(18,"span",12,13),ie("keypress",function(r){return t.numberOnly(r)})("keyup",function(r){return t.onKeyUp(r,"hour")})("change",function(r){return t.onChangeValue(r,"hour")})("blur",function(){return t.onCheckValidity()}),ee(20),C(),ee(21," : "),x(22,"span",12,14),ie("keypress",function(r){return t.numberOnly(r)})("keyup",function(r){return t.onKeyUp(r,"minute")})("change",function(r){return t.onChangeValue(r,"minute")})("blur",function(){return t.onCheckValidity()}),ee(24),C(),$(25,rge,2,1,"span",15),C(),x(26,"div")(27,"mat-icon",16),ie("click",function(){return he(o),pe(Qt(33).open())}),ee(28,"event"),C(),x(29,"mat-label",17)(30,"mat-icon",18),ie("click",function(){return t.onEditValue()}),ee(31," schedule "),C()(),me(32,"mat-datepicker",19,20),x(34,"mat-icon",21),ie("click",function(){return t.onResetForm()}),ee(35,"clear"),C()()()(),x(36,"div",22),me(37,"lib-pop-field-item-error",23),C(),me(38,"lib-pop-field-item-loader",24),C()}if(2&e){const o=Qt(33);_(6),g("value",null!=t.asset.month?t.asset.month:""),_(4),g("value",null!=t.asset.day?t.asset.day:""),_(4),g("value",null!=t.asset.year?t.asset.year:""),_(2),g("formControl",t.config.control)("readonly",t.config.disabled)("min",t.config.min)("max",t.config.max)("matDatepickerFilter",t.config.filterPredicate)("matDatepicker",o),_(4),Je(null!=t.asset.hour?t.asset.hour:"hh"),_(4),Je(null!=t.asset.minute?t.asset.minute:"mm"),_(1),g("ngIf",t.asset.timePeriod),_(4),et("max-width",35,"px"),_(1),g("matTooltip","Edit Time")("ngClass",Ii(21,age,t.config.disabled,!t.config.disabled)),_(2),g("ngClass",qe(24,lge,t.config.expansionItems))("calendarHeaderComponent",t.ui.expansionItems),_(5),g("hidden",!t.config.message)("message",t.config.message),_(1),g("show",t.config.patch.displayIndicator&&t.config.patch.running)}},dependencies:[Gt,ct,$s,$o,sr,Wr,ks,js,lv,Cf,wi,Pn,qo,hl],styles:["input[_ngcontent-%COMP%]{text-align:center}.date-field-container[_ngcontent-%COMP%]{-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--gap-xxs);position:relative;padding:var(--gap-xxs) var(--gap-xs)}.date-field-container[_ngcontent-%COMP%]   .date-fields[_ngcontent-%COMP%]{width:33px;height:26px!important}.pop-time-wrapper[_ngcontent-%COMP%]{border:1px solid var(--border);padding:4px 5px;border-radius:15px;background:var(--bg-1);margin-left:5px;cursor:pointer;font-size:14px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:5px}.date-fields-wrapper[_ngcontent-%COMP%]{width:100%;border:1px solid var(--border);border-radius:3px;position:relative}.date-fields-wrapper[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{position:absolute;top:-6px;font-size:9px;color:gray;left:5px;padding:0 5px;background:var(--background-base)}.date-fields-wrapper[_ngcontent-%COMP%]:hover{border-color:var(--foreground-base)}.date-fields-wrapper[_ngcontent-%COMP%]:focus-within{border-color:var(--accent)}.pop-date-container[_ngcontent-%COMP%]{position:relative;display:block;padding:0;margin:var(--gap-s) 0}.pop-date-container[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding-top:3px!important}.pop-date-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{display:none}.pop-date-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:0;margin:0!important}.pop-date-container[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:0;padding-bottom:var(--gap-xxs)}.pop-date-container[_ngcontent-%COMP%]     .mat-form-field-infix{border:0}.pop-date-container[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.pop-date-container[_ngcontent-%COMP%]     .mdc-text-field{padding:0!important}.date-feedback-container[_ngcontent-%COMP%]{position:absolute;top:var(--gap-xxs);right:var(--gap-xxs);width:var(--gap-m);bottom:var(--gap-xxs);display:-webkit-box;display:-ms-flexbox;display:flex;padding-top:2px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row;flex-flow:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;pointer-events:none}.date-clear-icon[_ngcontent-%COMP%]{position:absolute!important;width:25px;height:25px;right:68px;top:12px;z-index:1;font-size:1em}.pop-time-icon[_ngcontent-%COMP%]{position:absolute!important;width:25px;height:25px;right:22px;top:7px;z-index:1}.date-toggle-icon[_ngcontent-%COMP%]{position:absolute!important;width:25px;height:46px;right:49px;top:8px;z-index:1}.date-toggle-icon[_ngcontent-%COMP%]     .mat-mdc-icon-button{line-height:25px!important}.date-toggle-icon[_ngcontent-%COMP%]     button{width:25px;height:25px}.date-toggle-icon[_ngcontent-%COMP%]     button mat-icon{font-size:.9em}[_nghost-%COMP%]     .sw-dialog-2{min-height:auto!important}.time-label[_ngcontent-%COMP%]{font-size:x-small;color:var(--text-2)}.date-error-icon[_ngcontent-%COMP%]{position:relative;pointer-events:all;left:4px}.date-error-icon[_ngcontent-%COMP%]     .mat-icon{font-size:1em!important}.date-helper-icon[_ngcontent-%COMP%]{position:absolute!important;width:25px;height:25px;right:67px;pointer-events:all;font-size:.8em;top:11px}.date-helper-icon[_ngcontent-%COMP%]     .mat-icon{font-size:.9em!important}.date-ajax-spinner[_ngcontent-%COMP%]{position:absolute;z-index:1}.field-tooltip-msg[_ngcontent-%COMP%]{position:absolute;display:block;bottom:50px;width:100%;right:-10px;left:-10px;background:#3d72ea!important;border-radius:.25em;padding:.75em;z-index:2;color:#fff;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;overflow:hidden;text-align:center}  .date-expansion-items .mat-datepicker-content{position:relative;left:200px;border-radius:0!important;height:425px;background:var(--background-base);border-top:1px solid lightgray;border-right:1px solid lightgray;border-bottom:1px solid lightgray}  .mat-datepicker-content{background:var(--background-base);border:1px solid lightgray}  .mat-form-field-appearance-outline.mat-form-field-disabled,   .mat-form-field-outline{opacity:0}"]}),i})();class Xf{constructor(n){if(this.bubble=!1,this.disabled=!1,this.displayErrors=!0,this.facade=!1,this.helpText="",this.height=240,this.label="",this.message="",this.maxlength=64,this.minimal=!1,this.name="name",this.max=4,this.noInitialValue=!1,this.triggerInitialValue=!1,this.readonly=!1,this.showTooltip=!1,this.sort=!1,this.toggleLock=!1,this.tooltip="",n)for(const e in n)this[e]=n[e];this.patch||(this.patch={field:"",duration:750,path:"",disabled:!1,businessId:0}),this.disabled||(this.disabled=!1),!1!==this.patch.displayIndicator&&(this.patch.displayIndicator=!0),this.noInitialValue&&(this.value=""),this.control||this.setControl()}setControl(){this.control=this.disabled?new vi({value:this.value,disabled:!0}):new vi(this.value,[])}}function cge(i,n){if(1&i){const e=Me();x(0,"lib-pop-input",4),ie("click",function(o){return he(e),pe(I().onShowOptionList(o))}),C()}if(2&i){const e=I();g("config",null==e.ui||null==e.ui.selected?null:e.ui.selected.config)}}const dge=function(i,n,e){return{"pop-select-items-active":i,"pop-select-level-1":n,"pop-select-level-2":e}};function uge(i,n){if(1&i){const e=Me();x(0,"div",9)(1,"div",10)(2,"span"),ee(3),C(),x(4,"div")(5,"i",11),ie("click",function(o){const r=he(e).$implicit,a=I(2);return o.stopPropagation(),pe(a.setDeleteItem(r))}),ee(6,"delete"),C()()()()}if(2&i){const e=n.$implicit,t=I(2);g("ngClass",fs(4,dge,e===t.ui.selected.value,1===e.level,2===e.level)),_(3),Je(e),_(2),g("matTooltip","Delete")("matTooltipShowDelay",750)}}function hge(i,n){1&i&&me(0,"lib-pop-input",18),2&i&&g("config",I(3).ui.createNewInputConfig)}function pge(i,n){if(1&i){const e=Me();x(0,"div",12),$(1,hge,1,1,"lib-pop-input",13),x(2,"button",14),ie("click",function(){return he(e),pe(I(2).onCreateTag())}),x(3,"span",15),ee(4," done "),C()(),x(5,"button",16),ie("click",function(o){he(e);const s=I(2);return o.stopPropagation(),pe(s.onCancelTag())}),x(6,"span",17),ee(7," clear "),C()()()}if(2&i){const e=I(2);_(1),g("ngIf",e.ui.createNewInputConfig),_(1),g("disabled",!e.ui.createNewInputConfig.control.valid||!e.ui.createNewInputConfig.control.value)}}const mge=function(i,n){return{"pop-select-items-box-bottom":i,"pop-select-items-box-top":n}};function fge(i,n){if(1&i&&(x(0,"div",5)(1,"div",6),$(2,uge,7,8,"div",7),C(),$(3,pge,8,2,"div",8),C()),2&i){const e=I();et("max-height",e.config.height,"px")("top",e.ui.optionsTopPos),g("ngClass",Ii(7,mge,e.dom.state.displayBottom,!e.dom.state.displayBottom)),_(2),g("ngForOf",null==e.config?null:e.config.options),_(1),g("ngIf",(null==e.config||null==e.config.options?null:e.config.options.length)<e.config.max)}}const gge=function(i,n,e,t){return{"pop-select-container-minimal":i,"pop-select-readonly":n,"pop-select-opened-top":e,"pop-select-opened-bottom":t}};let qf=(()=>{class i extends Io{onEscapeHandler(e){this.onClickOutsideBoundary()}constructor(e){var t;super(),t=this,this.el=e,this.config=new Xf,this.name="PopCsvComponent",this.ui={selected:{value:void 0,config:void 0},createNewInputConfig:void 0,editOptionConfig:void 0,optionsTopPos:"3px"},this.dom.configure=()=>new Promise(function(){var o=q(function*(s){return yield Promise.all([t._setInitialConfig(),t._setConfigHooks(),t._initialFauxControl()]),s(!0)});return function(s){return o.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onShowOptionList(e){if(!this.config.toggleLock&&!this.config.readonly&&!this.config.disabled&&"DISABLED"!==this.config.control.status){const t=window.innerHeight/3;if(this.dom.state.displayBottom=e.clientY<2*t,this.dom.state.displayBottom)this.ui.optionsTopPos="3px",this.ui.selected.config.selectModeOptionsDirection="down";else{let o=50+21*this.config.options.values.length;o=o>224?224:o,this.ui.optionsTopPos=`-${o}px`,this.ui.selected.config.label=" ",this.ui.selected.config.selectModeOptionsDirection="up"}this.dom.state.displayItems?(this.dom.state.displayItems=!1,this.ui.selected.config.label=this.config.label,this.onBubbleEvent("onBlur")):(this.dom.state.displayItems=!0,this.onFocus())}}onClickOutsideBoundary(){this.config.toggleLock||(this.dom.state.displayItems=!1,this.dom.state.showEditInput="",this.dom.state.showInput=!1,this.ui.createNewInputConfig&&this.ui.createNewInputConfig.control.setValue(""))}onCreateNew(){this.dom.state.showTagInput=!0}setDeleteItem(e){this.config.options=this.config.options.filter(o=>o!=e);const t=this.config.options.join(", ");this.ui.selected.config.value=t,this.ui.selected.config.label=` ${this.config.label} (${this.config.options.length}) `,this.ui.selected.config.control.setValue(t),this.config.value=t,this.config.control.setValue(t),this.onChange()}onCreateTag(){var e=this;return q(function*(){e.config.options.push(String(e.ui.createNewInputConfig.control.value).trim()),e.config.options=vu(e.config.options).sort(),e.ui.createNewInputConfig.control.setValue(""),e.ui.createNewInputConfig.control.markAsPristine(),e.ui.createNewInputConfig.control.markAsUntouched();const o=e.config.options.join(", ");e.ui.selected.config.value=o,e.ui.selected.config.control.setValue(o),e.ui.selected.config.label=` ${e.config.label} (${e.config.options.length}) `,e.config.value=o,e.config.control.setValue(o),e.ui.createNewInputConfig.control.enable(),e.ui.createNewInputConfig.triggerFocus(),e.onChange()})()}onCancelTag(){var e=this;return q(function*(){e.ui.createNewInputConfig.control.value?(e.ui.createNewInputConfig.control.setValue(""),e.dom.state.showTagInput=!1,e.ui.createNewInputConfig.triggerFocus()):e.onClickOutsideBoundary()})()}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){var e=this;return new Promise(t=>(this.dom.state.displayItems=!1,this.dom.state.displayBottom=!0,this.dom.state.showInput=!1,this.dom.state.showEdit=!1,this.dom.state.showEditInput="",kt(this.config.value)&&(this.ui.selected.value=this.config.value),this.config=Ai(this.config,!0,"Config required")?this.config:null,this.id=this.config.name,this.config.options=Ne(this.config.value,!0)?this.config.value.split(",").sort():De(this.config.value,!0)?this.config.value:[],this.ui.createNewInputConfig=new li({label:"Create New",maxlength:this.config.maxlength,validators:this.config.validators,minimal:!0,mask:this.config.mask??null,bubble:!0,pattern:this.config.pattern??"Default",onEnter:(o,s)=>new Promise(function(){var r=q(function*(a){return s.config.control.valid&&s.config.control.value&&(s.config.control.disable(),yield e.onCreateTag()),a(!0)});return function(a){return r.apply(this,arguments)}}())}),t(!0)))}_initialFauxControl(){return new Promise(e=>(this.ui.selected.config=new li({value:De(this.config.value)?this.config.value.join(", "):Ne(this.config.value)?this.config.value:null,disabled:this.config.disabled?this.config.disabled:null,helpText:this.config.helpText,displayErrors:!1,label:` ${this.config.label} (${this.config.options.length}) `,readonly:!0,selectMode:!0,minimal:this.config.minimal,maxlength:65e3}),e(!0)))}_setConfigHooks(){return new Promise(e=>(this.config.triggerOnChange=t=>{this.dom.setTimeout("config-trigger-change",()=>{this.onChange(t,!0)},0)},this.config.setValue=t=>{this.dom.setTimeout("config-set-value",()=>{const o=this.config.control;typeof t<"u"&&(o.setValue(t,{emitEvent:!1}),o.markAsDirty(),o.updateValueAndValidity()),this._isChangeValid()&&(this.asset.storedValue=t,t&&(this.ui.selected.value=t))},0)},this.config.clearMessage=()=>{this.dom.setTimeout("config-clear-message",()=>{this.config.message="",this.config.control.markAsPristine(),this.config.control.markAsUntouched()},0)},e(!0)))}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-csv"]],hostBindings:function(e,t){1&e&&ie("keydown.escape",function(s){return t.onEscapeHandler(s)},0,xr)},inputs:{config:"config"},features:[Re],decls:4,vars:9,consts:[[1,"sw-field-item-container","pop-select-container","pop-select-mode-select",3,"ngClass","libClickOutside"],["class","pop-select-faux",3,"config","click",4,"ngIf"],[3,"maxHeight","ngClass","top",4,"ngIf"],[3,"show"],[1,"pop-select-faux",3,"config","click"],[3,"ngClass"],[1,"pop-select-items-wrapper"],["class","pop-select-items",3,"ngClass",4,"ngFor","ngForOf"],["class","sw-flex-row pop-select-create-new-wrapper",4,"ngIf"],[1,"pop-select-items",3,"ngClass"],[1,"sw-flex-between-center","sw-flex-row"],[1,"material-icons","pop-select-option-status-link","sw-btn-txt-md",3,"matTooltip","matTooltipShowDelay","click"],[1,"sw-flex-row","pop-select-create-new-wrapper"],["class","pop-select-faux",3,"config",4,"ngIf"],["type","button","mat-raised-button","","color","accent",1,"sw-mar-top-sm",3,"disabled","click"],[1,"material-icons","sw-btn-txt-sm"],["type","button","mat-raised-button","",1,"sw-mar-top-sm",3,"click"],[1,"material-icons","sw-btn-txt-md"],[1,"pop-select-faux",3,"config"]],template:function(e,t){1&e&&(x(0,"div",0),ie("libClickOutside",function(){return t.onClickOutsideBoundary()}),$(1,cge,1,1,"lib-pop-input",1),$(2,fge,4,10,"div",2),me(3,"lib-pop-field-item-loader",3),C()),2&e&&(g("ngClass",ph(4,gge,t.config.minimal,t.config.readonly,t.dom.state.displayItems&&!t.dom.state.displayBottom,t.dom.state.displayItems&&t.dom.state.displayBottom)),_(1),g("ngIf",null==t.ui||null==t.ui.selected?null:t.ui.selected.config),_(1),g("ngIf",t.dom.state.displayItems),_(1),g("show",(null==t.config?null:t.config.patch.displayIndicator)&&(null==t.config?null:t.config.patch.running)))},styles:[".host[_ngcontent-%COMP%]   .sw-disabled[_ngcontent-%COMP%]   lib-pop-input[_ngcontent-%COMP%]{opacity:.5!important;pointer-events:none!important}.pop-select-container[_ngcontent-%COMP%]{position:relative;display:block;top:1px;height:45px}.pop-select-items-wrapper[_ngcontent-%COMP%]{max-height:500px;margin:0;padding:0!important;overflow-y:scroll}.pop-select-create-new-wrapper[_ngcontent-%COMP%]{padding:0 var(--gap-s);gap:var(--gap-xs);margin-top:var(--xs)}.pop-select-create-new-wrapper[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}.pop-select-create-new-wrapper[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-form-field-appearance-outline[_ngcontent-%COMP%]{height:35px!important}.pop-select-edit-wrapper[_ngcontent-%COMP%]{gap:var(--gap-s)}.pop-select-edit-wrapper[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}.pop-select-option-submit[_ngcontent-%COMP%]{z-index:3;pointer-events:all}.pop-select-opened-top[_ngcontent-%COMP%]{-webkit-box-shadow:-1px -4px 5px 0 rgba(0,0,0,.14),0px -5px 0px 0 rgba(0,0,0,.12),1px -1px 4px -1px rgba(0,0,0,.2);box-shadow:-1px -4px 5px #00000024,0 -5px #0000001f,1px -1px 4px -1px #0003}.pop-select-opened-bottom[_ngcontent-%COMP%]{-webkit-box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 0 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);box-shadow:0 4px 5px #00000024,0 1px #0000001f,0 2px 4px -1px #0003}.pop-select-container-expansion[_ngcontent-%COMP%]{position:absolute!important;inset:-1px 0 0;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;-moz-box-sizing:border-box}.pop-select-feedback[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:0;width:12px;height:20px}.pop-select-helper[_ngcontent-%COMP%]{position:absolute;top:7px;right:30px;font-size:.8em}.pop-select-error[_ngcontent-%COMP%]{top:-1px;position:relative;font-size:.8em;left:4px}.pop-select-items-box-bottom[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative;min-height:var(--field-min-height);max-width:var(--field-max-width);border:1px solid var(--background-border);z-index:1000;background-color:var(--background-base);overflow-y:scroll;-webkit-box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 0 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);box-shadow:0 4px 5px #00000024,0 1px #0000001f,0 2px 4px -1px #0003}.pop-select-items-box-top[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative;min-height:var(--field-min-height);max-width:var(--field-max-width);border:1px solid var(--background-border);z-index:1000;background-color:var(--background-base);overflow-y:scroll;-webkit-box-shadow:-1px -4px 5px 0 rgba(0,0,0,.14),1px 1px 0px 0 rgba(0,0,0,.12),1px -1px 4px -1px rgba(0,0,0,.2);box-shadow:-1px -4px 5px #00000024,1px 1px #0000001f,1px -1px 4px -1px #0003}.pop-select-option-status[_ngcontent-%COMP%]{position:absolute;top:4px;font-size:.9em;right:var(--gap-s);color:var(--disabled)}.pop-select-option-status-link[_ngcontent-%COMP%]{color:var(--accent)!important;cursor:pointer;pointer-events:all!important;z-index:3!important}.pop-select-items[_ngcontent-%COMP%]{position:relative;padding:5px 10px;font-size:14px;background-color:var(--background-base);cursor:pointer;-webkit-box-sizing:border-box;box-sizing:border-box}.pop-select-items[_ngcontent-%COMP%]:last-of-type{padding-bottom:5px}.pop-select-level-1[_ngcontent-%COMP%]{padding-left:var(--gap-lm)}.pop-select-level-2[_ngcontent-%COMP%]{padding-left:var(--gap-xl)}.pop-select-items[_ngcontent-%COMP%]:hover, .pop-select-items-active[_ngcontent-%COMP%]{background-color:var(--background-main-menu)}.pop-select-create-new[_ngcontent-%COMP%]{color:var(--accent-800);padding:var(--gap-xs);cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pop-select-create-new[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:6px;left:2px;font-size:1em}.pop-select-faux[_ngcontent-%COMP%]{position:relative;top:-2px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}[_nghost-%COMP%]     .sw-field-item-container{margin:0!important}[_nghost-%COMP%]     .pop-input-readonly input:not(.pop-input-select){color:red}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:0;margin:0!important}[_nghost-%COMP%]     .mat-form-field-infix{width:0!important;padding:7px 12px 7px 7px}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:0;margin:0!important;height:35px}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-select-value{padding-right:40px}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix .mat-select-arrow{margin-top:5px}[_nghost-%COMP%]     .pop-select-mode-label .mat-select-arrow{display:none!important}[_nghost-%COMP%]     button{min-width:0;width:30px!important;height:30px!important;padding:0!important;margin-top:2px}"]}),i})(),zc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[jN()],imports:[Gi,od,rd,Ul,ea,ur,el,ny,Ic,Mk]}),i})();Tt(In,[Gt,ai,ct,mf,$s,$o,jh,sr,Wr,ks,js,kn,wi,Qa,qo,an,yu],[]),Tt(sy,[Gt,ai,ct,vh,cu,lu,qo,an,yu],[]),Tt(Yf,[Gt,ai,ct,mf,$s,$o,jh,sr,Wr,ks,js,nu,kn,ad,wi,cu,lu,Pn,Gl,Qa,MI,qo,an,yu],[]),Tt(FI,[Gt,ai,ct,$s,$o,sr,nu,Ac,Q3,eL,ad,wi,cu,lu,Pn,Gl,qo,Ws],[]),Tt(LI,[ct,qo,an],[]),Tt(G4,[Gt,ct,kn,ws,FI],[]),Tt(EI,[Gt,ct,wr,pa,wi,Pn,Ia,Pr],[]),Tt($4,[zh,wi,Dfe],[]),Tt(Z4,[Gt,ct,wi,Pn,qo,ay,Ws],[]),Tt(qf,[Gt,ai,ct,kn,Pn,qo,an,yu],[]);const _ge=["viewEditor"];function bge(i,n){if(1&i){const e=Me();x(0,"lib-pop-input",9),ie("events",function(o){return he(e),pe(I().onApplySearchValue(o))}),C()}2&i&&g("config",I().ui.search)}const vge=function(i){return{"pdgt-active-item":i}};function yge(i,n){if(1&i){const e=Me();x(0,"mat-list-option",12),ie("click",function(){const o=he(e),s=o.$implicit,r=o.index;return pe(I(2).onViewGlobal(s,r))}),ee(1),C()}if(2&i){const e=n.$implicit,t=I(2);g("value",e.name)("ngClass",qe(3,vge,e.name===(null==t.active.global?null:t.active.global.name))),_(1),Mt(" ",null==e?null:e.name," ")}}function xge(i,n){if(1&i&&(x(0,"mat-selection-list",10),$(1,yge,2,5,"mat-list-option",11),C()),2&i){const e=I();g("multiple",!1),_(1),g("ngForOf",e.ui.globals)}}function Cge(i,n){if(1&i&&me(0,"json-editor",13,14),2&i){const e=I();g("options",e.ui.jsonReader)("data",e.ui.json)}}const wge=function(i){return{"sw-hidden":i}};let BI=(()=>{class i extends Yt{constructor(e,t,o,s,r,a,l){var c;super(),c=this,this.el=e,this._domRepo=t,this.tasks=o,this.APP_GLOBAL=s,this.APP_GLOBAL_PARAMS=r,this.APP_THEME=a,this.env=l,this.name="PopDevGlobalToolComponent",this.asset={globals:[]},this.ui={triggerInit:void 0,globals:[],jsonReader:void 0,search:new li({name:"search",label:"Search Filter",maxlength:32,bubble:!0}),json:{}},this.active={index:0,global:void 0},this.dom.configure=()=>new Promise(function(){var A=q(function*(D){return yield Promise.all([c._setInitialConfig()]),D(!0)});return function(D){return A.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var A=q(function*(D){return c.onApplySearchValue({name:"",value:""}),D(!0)});return function(D){return A.apply(this,arguments)}}())}onTriggerInit(){this.dom.setTimeout("on-trigger-init",()=>{this.APP_GLOBAL.init.next(!0)},500)}onApplySearchValue(e){if(e&&"onKeyUp"===e.name){const t=e.config.control.value;this.ui.globals=this.asset.globals.filter(o=>ll(o,t))}}onViewGlobal(e,t){this.log.info("onViewGlobal",e),this.active.global=e,this.active.index=t,this.ui.json=e.data}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.triggerInit=new Ms({icon:null,width:100,bubble:!0,value:"INIT"}),e.asset.globals=[{name:"PopAuth",data:sl},{name:"PopUser",data:lo},{name:"PopBusiness",data:zt},{name:"PopApp",data:Mr},{name:"PopHref",data:Bi},{name:"PopRouteAliasMap",data:lp},{name:"PopEntity",data:Qn}],yield e._setJsonReader(),e.ui.globals=gi(e.asset.globals),e.onViewGlobal(e.asset.globals[e.active.index],e.active.index),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setJsonReader(){var e=this;return q(function*(){e.ui.jsonReader=new As,e.ui.jsonReader.mainMenuBar=!0,e.ui.jsonReader.mode="view",e.ui.jsonReader.expandAll=!0})()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P("APP_INITIALIZER_TASKS"),P("APP_GLOBAL"),P("APP_GLOBAL_PARAMS"),P("APP_THEME"),P("env"))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-dev-global-tool"]],viewQuery:function(e,t){if(1&e&&ht(_ge,5),2&e){let o;Ke(o=Ye())&&(t.viewEditor=o.first)}},features:[Re],decls:12,vars:12,consts:[[1,"pdgt-container","sw-flex-item-full",3,"ngClass"],[1,"sw-flex-row"],[1,"pdgt-search"],[3,"config","events",4,"ngIf"],[1,"pdgt-search-icon"],[3,"multiple",4,"ngIf"],[1,"sw-flex-column-md","sw-flex-grow-xs"],[1,"pdgt-entity-view"],["id","viewer","name","viewer",3,"options","data",4,"ngIf"],[3,"config","events"],[3,"multiple"],[3,"value","ngClass","click",4,"ngFor","ngForOf"],[3,"value","ngClass","click"],["id","viewer","name","viewer",3,"options","data"],["viewEditor",""]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"div")(3,"div",2),$(4,bge,1,1,"lib-pop-input",3),x(5,"div",4)(6,"mat-icon"),ee(7,"search"),C()()(),$(8,xge,2,2,"mat-selection-list",5),C(),x(9,"div",6)(10,"div",7),$(11,Cge,2,2,"json-editor",8),C()()()()),2&e&&(g("ngClass",qe(10,wge,!t.dom.state.loaded)),_(2),et("margin-right",30,"px")("height",t.dom.height.inner,"px"),_(2),g("ngIf",t.ui.search),_(4),g("ngIf",t.ui.globals.length),_(1),et("height",t.dom.height.inner,"px"),_(2),g("ngIf",t.ui.jsonReader))},styles:[".pdgt-container[_ngcontent-%COMP%]{padding:10px}.pdgt-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:120px;font-size:var(--text-lg);margin-right:20px}.pdgt-container[_ngcontent-%COMP%]{padding:var(--gap-s)}.pdgt-search[_ngcontent-%COMP%]{position:relative;width:302px}.pdgt-search[_ngcontent-%COMP%]   lib-pop-input[_ngcontent-%COMP%]{margin:0!important}.pdgt-search[_ngcontent-%COMP%]   .pdgt-search-icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px}.pdgt-entity-view[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:17px;height:calc(100vh - 275px)!important;width:802px;overflow-y:scroll;overflow-x:hidden;border:1px solid var(--border);background:var(--background-base)!important;padding:10px}.pdgt-entity-view[_ngcontent-%COMP%]   .sw-flex-row[_ngcontent-%COMP%]{margin-bottom:10px}.pdgt-entity-view[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:120px;font-size:var(--text-lg);margin-right:20px}.pdgt-active-item[_ngcontent-%COMP%]{background:var(--background-main-menu)!important;border-left-color:var(--primary-active)!important}[_nghost-%COMP%]     #viewer div[id^=angjsoneditor]{height:calc(100vh - 280px);width:800px}[_nghost-%COMP%]     mat-selection-list{height:calc(100vh - 300px)!important;width:300px;overflow-y:scroll;overflow-x:hidden;border:1px solid var(--border);background:var(--background-base)!important}[_nghost-%COMP%]     .mat-mdc-list-base{padding-top:0!important}[_nghost-%COMP%]     .mat-list-option:hover{background:var(--background-main-menu)!important}[_nghost-%COMP%]     .mat-list-option{background:var(--background-base)}"]}),i})();const kge=["viewEditor"],X4=function(i){return{"sw-disabled":i}};function Ige(i,n){if(1&i&&me(0,"lib-pop-select",11),2&i){const e=I();g("ngClass",qe(2,X4,e.dom.state.pending||(null==e.ui.socketInfo?null:e.ui.socketInfo.connected)))("config",e.ui.nameSpace)}}function Age(i,n){if(1&i){const e=Me();x(0,"button",12),ie("click",function(){return he(e),pe(I().onConnect())}),ee(1,"Connect"),C()}2&i&&g("disabled",I().dom.state.pending)}function Sge(i,n){if(1&i){const e=Me();x(0,"button",13),ie("click",function(){return he(e),pe(I().onDisconnect())}),ee(1,"Disconnect"),C()}2&i&&g("disabled",I().dom.state.pending)}function Mge(i,n){if(1&i&&me(0,"lib-pop-select",11),2&i){const e=I();g("ngClass",qe(2,X4,e.dom.state.pending))("config",e.ui.business)}}function Pge(i,n){1&i&&(x(0,"p"),ee(1,"Events"),C())}const Tge=function(i){return{"pdet-active-item":i}};function Ege(i,n){if(1&i){const e=Me();x(0,"mat-list-option",16),ie("click",function(){const o=he(e),s=o.$implicit,r=o.index;return pe(I(2).onViewEntity(s,r))}),ee(1),C()}if(2&i){const e=n.$implicit,t=n.index,o=I(2);g("ngClass",qe(3,Tge,t===o.ui.index))("value",null!=e&&e.name?e.name:e.id),_(1),Mt(" ",null!=e&&e.name?e.name:e.id," ")}}function Dge(i,n){if(1&i&&(x(0,"mat-selection-list",14),$(1,Ege,2,5,"mat-list-option",15),C()),2&i){const e=I();g("multiple",!1),_(1),g("ngForOf",e.ui.socketHistory)}}function Oge(i,n){if(1&i&&me(0,"json-editor",17,18),2&i){const e=I();g("options",e.ui.jsonReader)("data",e.ui.editorData)}}let VI=(()=>{class i extends Yt{constructor(e,t,o,s){var r;super(),r=this,this.el=e,this._baseRepo=t,this._domRepo=o,this._socketRepo=s,this.name="PopDevSocketToolComponent",this.ui={socketInfo:void 0,jsonReader:void 0,socketHistory:[],editorData:void 0,index:0,business:void 0,nameSpace:void 0},this.srv={base:void 0,socket:void 0},this.asset={businesses:[],selectedNamespace:"global"},this.session={},this.dom.configure=()=>new Promise(function(){var a=q(function*(l){return yield Promise.all([r._setInitialConfig()]),l(!0)});return function(l){return a.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var a=q(function*(l){return l(!0)});return function(l){return a.apply(this,arguments)}}())}onViewEntity(e,t){this.ui.index=t,this.ui.editorData=e}showSocketData(){this.srv.socket.getSocketConnection().subscribe(e=>{this.ui.socketInfo={...e},e&&(delete this.ui.socketInfo.io,delete this.ui.socketInfo.subs,this.ui.editorData=this.ui.socketInfo,_u.listen()),this._setNamespaceConfig()})}onSendEvent(){this.srv.socket.notify("updatedData",JSON.stringify({authorId:lo.id,date:new Date}))}onBusinessEvent(){this.srv.socket.notify("notifyBusiness",{business_id:this.ui.business.control.value})}onConnect(){_u.createSocket(this.ui.nameSpace.control.value)}onDisconnect(){var e=this;this.dom.state.pending=!0,_u.disconnectSocket(),this.ui.editorData=null,this.dom.setTimeout("update-socket-info",q(function*(){yield al(500),yield al(500),e.dom.state.pending=!1}))}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){e.core=yield Qn.getCoreConfig("dev_tool");const s=e.srv.base.getAuthBusinesses();return e.asset.businesses=Object.values(s).map(r=>r),yield e._setViewEditorConfig(),e._setBusinessConfig(),e._setNamespaceConfig(),e.showSocketData(),e.srv.socket.getSocketEvents().subscribe(r=>{r&&(e.ui.socketHistory.push(r),e.ui.editorData=r,e.ui.index=e.ui.socketHistory.length-1)}),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setBusinessConfig(){this.ui.business=new Zi({label:"Business",name:"method",value:Y(zt)?zt.id:De(this.asset.businesses,!0)?this.asset.businesses[0].id:"",facade:!0,options:{values:as(this.asset.businesses)},patch:{path:"",field:"",duration:0}})}_setNamespaceConfig(){this.ui.nameSpace=new Zi({label:"Namespace",name:"method",value:this.asset.selectedNamespace,disabled:this.ui.socketInfo?.connected,readonly:this.ui.socketInfo?.connected,facade:!0,options:{values:[{name:"Global",value:"global"},{name:"CallList",value:"callList"}]},patch:{path:"",field:"",duration:0,after:(t,o)=>{this.asset.selectedNamespace=o.config.control.value,this.srv.socket.disconnectSocket()}}})}_setViewEditorConfig(){var e=this;return q(function*(){e.ui.jsonReader=new As,e.ui.jsonReader.mainMenuBar=!0,e.ui.jsonReader.mode="view",e.ui.jsonReader.expandAll=!0})()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Ho),P(ii),P(SI))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-dev-socket-tool"]],viewQuery:function(e,t){if(1&e&&ht(kge,5),2&e){let o;Ke(o=Ye())&&(t.viewEditor=o.first)}},features:[Re],decls:20,vars:7,consts:[[1,"sw-flex-item-full","sw-flex-row","pdst-container"],[1,"pdst-left-wrapper"],[1,"sw-flex-row","pdst-business-wrapper"],[3,"ngClass","config",4,"ngIf"],["mat-raised-button","","color","accent",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[1,"pdst-btn-wrapper"],[4,"ngIf"],[3,"multiple",4,"ngIf"],["id","viewer","name","viewer",3,"options","data",4,"ngIf"],[3,"ngClass","config"],["mat-raised-button","","color","accent",3,"disabled","click"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"multiple"],[3,"ngClass","value","click",4,"ngFor","ngForOf"],[3,"ngClass","value","click"],["id","viewer","name","viewer",3,"options","data"],["viewEditor",""]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),$(3,Ige,1,4,"lib-pop-select",3),$(4,Age,2,1,"button",4),$(5,Sge,2,1,"button",5),C(),x(6,"div",2),$(7,Mge,1,4,"lib-pop-select",3),x(8,"button",6),ie("click",function(){return t.onBusinessEvent()}),ee(9,"Notify Business"),C()(),x(10,"div",7)(11,"button",6),ie("click",function(){return t.showSocketData()}),ee(12,"Socket Info"),C(),x(13,"button",6),ie("click",function(){return t.onSendEvent()}),ee(14,"Send Global Event"),C()(),me(15,"hr"),$(16,Pge,2,0,"p",8),$(17,Dge,2,2,"mat-selection-list",9),C(),x(18,"div"),$(19,Oge,2,2,"json-editor",10),C()()),2&e&&(_(3),g("ngIf",t.ui.nameSpace),_(1),g("ngIf",!(null!=t.ui.socketInfo&&t.ui.socketInfo.connected)),_(1),g("ngIf",null==t.ui.socketInfo?null:t.ui.socketInfo.connected),_(2),g("ngIf",t.ui.business),_(9),g("ngIf",t.ui.socketHistory.length),_(1),g("ngIf",t.ui.socketHistory.length),_(2),g("ngIf",t.ui.jsonReader))},styles:[".pdst-container[_ngcontent-%COMP%]{width:100%;padding:var(--gap-sm);gap:var(--gap-sm);-webkit-box-sizing:border-box;box-sizing:border-box}.pdst-left-wrapper[_ngcontent-%COMP%]{width:30%}.pdet-active-item[_ngcontent-%COMP%]{background:var(--background-main-menu)!important;border-left-color:var(--primary-active)!important}.pdst-business-wrapper[_ngcontent-%COMP%]{-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--gap-sm);margin-bottom:var(--mar-md)}.pdst-btn-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;gap:var(--gap-sm)}[_nghost-%COMP%]     #viewer div[id^=angjsoneditor]{height:calc(100vh - 240px);width:550px}[_nghost-%COMP%]     mat-selection-list{height:calc(100vh - 300px)!important;overflow-y:scroll;overflow-x:hidden;border:1px solid var(--border);background:var(--background-base)!important}[_nghost-%COMP%]     .mat-mdc-list-base{padding-top:0!important}[_nghost-%COMP%]     .mat-list-option:hover{background:var(--background-main-menu)!important}[_nghost-%COMP%]     .mat-list-option{background:var(--background-base)}[_nghost-%COMP%]     lib-pop-select{-webkit-box-flex:1;-ms-flex:1;flex:1}[_nghost-%COMP%]     lib-pop-select>div{margin-top:0}[_nghost-%COMP%]     .pop-input-select{margin:0!important}"]}),i})();function Rge(i,n){1&i&&me(0,"lib-pop-switch",9),2&i&&g("config",I(2).dom.session.enabled)}function Fge(i,n){1&i&&me(0,"lib-pop-select",9),2&i&&g("config",I(2).dom.session.level)}function Lge(i,n){1&i&&me(0,"lib-pop-select-multi",9),2&i&&g("config",I(2).dom.session.types)}function Nge(i,n){if(1&i&&me(0,"lib-pop-input",10),2&i){const e=I(2);et("width",350,"px"),g("config",e.dom.session.addComponent)}}function Bge(i,n){if(1&i){const e=Me();x(0,"div",11)(1,"span"),ee(2),C(),x(3,"mat-icon",12),ie("click",function(){const s=he(e).index;return pe(I(2).onRemoveComponent(s))}),ee(4,"clear"),C()()}if(2&i){const e=n.$implicit;_(2),Je(e)}}function Vge(i,n){if(1&i){const e=Me();x(0,"div",1),$(1,Rge,1,1,"lib-pop-switch",2),$(2,Fge,1,1,"lib-pop-select",2),$(3,Lge,1,1,"lib-pop-select-multi",2),x(4,"div",3)(5,"label"),ee(6,"Components"),C(),me(7,"mat-divider"),x(8,"div",4),$(9,Nge,1,3,"lib-pop-input",5),x(10,"mat-icon",6),ie("click",function(){return he(e),pe(I().onAddComponent())}),ee(11,"add "),C()(),me(12,"mat-divider"),x(13,"div",7),$(14,Bge,5,1,"div",8),C()()()}if(2&i){const e=I();_(1),g("ngIf",e.dom.session.enabled),_(1),g("ngIf",e.dom.session.level),_(1),g("ngIf",e.dom.session.types),_(4),et("margin-top",15,"px"),_(2),g("ngIf",e.dom.session.addComponent),_(5),g("ngForOf",e.ui.components)}}let $I=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this._domRepo=t,this.name="PopDevLogToolComponent",this.ui={components:[]},this.session={},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield Promise.all([o._setInitialConfig()]),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){return r(!0)});return function(r){return s.apply(this,arguments)}}())}onRemoveComponent(e){if(this.ui.components[e]){const t=this.ui.components.splice(e,1);ut.disableComponent(t[0])}}onAddComponent(){const e=this.dom.session.addComponent.control.value;e&&!this.ui.components.includes(e)&&(this.ui.components.push(e),this.ui.components.sort(),ut.enableComponent(e),this.dom.session.addComponent.control.setValue(null))}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return yield Promise.all([e._setEnabledConfig(),e._setTypesConfig(),e._setLevelConfig(),e._setComponentList()]),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setComponentList(){var e=this;return q(function*(){e.dom.session.addComponent=new li({label:"Add Component",value:null,noInitialValue:!0,onEnter:(t,o)=>new Promise(function(){var s=q(function*(r){return e.onAddComponent(),r(!0)});return function(r){return s.apply(this,arguments)}}())}),e.ui.components=ut.components()})()}_setEnabledConfig(){var e=this;return q(function*(){e.dom.session.enabled=new uo({label:"Enabled",value:ut.isEnabled(),facade:!0,patch:{path:"",field:"",after:(t,o)=>{o.config.control.value?ut.enable():ut.disable()}}})})()}_setTypesConfig(){var e=this;return q(function*(){e.dom.session.types=new u4({label:"Log Types",options:{values:[{value:"init",name:"Inits"},{value:"warn",name:"Warnings"},{value:"error",name:"Errors"},{value:"info",name:"Theme"},{value:"event",name:"Events"},{value:"cache",name:"Cache"},{value:"debug",name:"Debug"}]},facade:!0,value:ut.types()??null,patch:{path:"",field:"",after:(t,o)=>{ut.enableType(o.config.control.value)}}})})()}_setLevelConfig(){var e=this;return q(function*(){e.dom.session.level=new Zi({label:"Log Level",options:{values:[{value:1,name:"Low"},{value:2,name:"Moderate"},{value:3,name:"High"}]},facade:!0,value:ut.getLevel()??null,patch:{path:"",field:"",after:(t,o)=>{ut.setLevel(o.config.control.value)}}})})()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-dev-log-tool"]],features:[Re],decls:1,vars:1,consts:[["class","pdlt-container",4,"ngIf"],[1,"pdlt-container"],[3,"config",4,"ngIf"],[1,"pdlt-component-list"],[1,"sw-flex-row","sw-flex-between-center"],["class","pdlt-component-input",3,"width","config",4,"ngIf"],["color","accent",1,"sw-pointer","pdlt-component-add-icon",3,"click"],[1,"pdlt-component-list-content"],["class","pdlt-component-list-item",4,"ngFor","ngForOf"],[3,"config"],[1,"pdlt-component-input",3,"config"],[1,"pdlt-component-list-item"],["color","accent",1,"sw-pointer",3,"click"]],template:function(e,t){1&e&&$(0,Vge,15,7,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".pdlt-container[_ngcontent-%COMP%]{width:400px;min-height:800px;border:1px solid var(--border);margin:30px;padding:30px}.pdlt-component-list[_ngcontent-%COMP%]{min-height:150px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;margin-top:30px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.pdlt-component-list-content[_ngcontent-%COMP%]{height:600px;overflow-y:scroll;overflow-x:hidden}.pdlt-component-list-item[_ngcontent-%COMP%]{min-height:35px;clear:both;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.pdlt-component-add-icon[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]     .pop-input-container{margin-top:0!important}"]}),i})();class $ge{constructor(n){if(this.columns=[],this.allowColumnDisplayToggle=!0,this.allowColumnStickyToggle=!0,this.allowColumnSearchToggle=!0,this.allowColumnSortToggle=!0,this.allowHeaderStickyToggle=!0,this.allowHeaderDisplayToggle=!0,this.allowPaginatorToggle=!0,n)for(const e in n)this[e]=n[e];!1!==this.defaultOptions.headerDisplay&&(this.defaultOptions.headerDisplay=!0),!1!==this.defaultOptions.headerSticky&&(this.defaultOptions.headerSticky=!0),this.defaultOptions.paginator||(this.defaultOptions.paginator=0),!1!==this.defaultOptions.search&&(this.defaultOptions.search=!0),!0!==this.defaultOptions.searchColumns&&(this.defaultOptions.searchColumns=!1),!0!==this.defaultOptions.sort&&(this.defaultOptions.sort=!1)}}class yd{constructor(n){if(this.buttons=[],this.columnDefinitions={},this.dealWithAngularChangeDetectionFailure=!1,this.data=[],this.height=500,this.initialSort=null,this.initialSortDirection="asc",this.loading=!1,this.metadata=null,this.options=null,this.pageSize=50,this.sort=!1,this.rawDataEvents=!1,this.route="",this.linkBehavior="route",this.header=!0,this.headerDisplay=!0,this.headerSticky=!1,this.paginator=!1,this.search=!0,this.settings=!0,this.columnSettings=!0,this.searchValue="",this.searchColumns=!1,this.advanced_search=!1,this.matData=new Yse,this.columnConfig={visible:[],templates:{}},n)for(const e in n)this[e]=n[e];["route","portal","event"].includes(this.linkBehavior)||(this.linkBehavior="route"),this.paginator&&(this.headerSticky=!1),(!this.pageSize||this.pageSize<5)&&(this.pageSize=5)}}function Hge(i,n){if(1&i&&me(0,"json-editor",2,3),2&i){const e=I();g("options",e.paramsOptions)("data",e.config.params)}}function zge(i,n){if(1&i&&me(0,"json-editor",4,3),2&i){const e=I();g("options",e.responseOptions)("data",e.config.trace)}}let jge=(()=>{class i{constructor(){this.ui={params:null,response:null}}ngOnInit(){this._setOptionEditorConfig(),this._setViewEditorConfig()}_setOptionEditorConfig(){this.paramsOptions=new As,this.paramsOptions.mainMenuBar=!1,this.paramsOptions.mode="view"}_setViewEditorConfig(){this.responseOptions=new As,this.responseOptions.mainMenuBar=!0,this.responseOptions.mode="view",this.responseOptions.expandAll=!0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-error-log-details"]],inputs:{config:"config"},decls:14,vars:3,consts:[["id","params","name","params",3,"options","data",4,"ngIf"],["id","response","name","response",3,"options","data",4,"ngIf"],["id","params","name","params",3,"options","data"],["viewEditor",""],["id","response","name","response",3,"options","data"]],template:function(e,t){1&e&&(x(0,"div")(1,"h4")(2,"strong"),ee(3,"Message :"),C(),x(4,"span"),ee(5),C()(),x(6,"h4")(7,"strong"),ee(8,"Params"),C()(),$(9,Hge,2,2,"json-editor",0),x(10,"h4")(11,"strong"),ee(12,"Trace"),C()(),$(13,zge,2,2,"json-editor",1),C()),2&e&&(_(5),Je(t.config.message),_(4),g("ngIf",t.paramsOptions),_(4),g("ngIf",t.responseOptions))},dependencies:[ct,ya],styles:["[_nghost-%COMP%]     #response div[id^=angjsoneditor]{height:400px}"]}),i})();function Gge(i,n){if(1&i){const e=Me();x(0,"lib-pop-button",2),ie("events",function(){return he(e),pe(I().onClearTraces())}),C()}if(2&i){const e=I();et("margin-left",10,"px"),g("config",e.ui.clear)}}function Wge(i,n){if(1&i){const e=Me();x(0,"lib-pop-table",2),ie("events",function(o){return he(e),pe(I().eventHandler(o))}),C()}2&i&&g("config",I().ui.tableConfig)}let q4=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this.cdr=t,this.name="PopErrorLogToolComponent",this.ui={tableConfig:void 0,clear:new Ms({value:"Clear Errors",tooltip:"Clear Errors",icon:"backspace",color:"default",radius:5,text:18,bubble:!0})},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return o._setInitialConfig(),r(!0)});return function(r){return s.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}eventHandler(e){return q(function*(){if("table"===e.type&&"row_clicked"==e.name){const t={header:"Error Details",name:"value",layout:"vertical",facade:!0,component:{type:jge,inputs:{config:{...e.data,trace:JSON.parse(e.data.trace),params:JSON.parse(e.data.params)}},width:600},width:"600px",height:800,disableMenu:!0,blockEntity:!0},o={params:{internal_name:"",name:""},access:{can_create:!0,can_read:!0,can_delete:!0,can_update:!0,can_destroy:!0},flag:void 0,repo:void 0,entity:void 0,resource:void 0,metadata:void 0,preference:void 0};yield Nc.do(o,t,{width:660})}})()}onClearTraces(){De(this.ui.tableConfig.matData.filteredData,!0)&&this.dom.setSubscriber("get-error-data",gt.doDelete("/system/server/traces").subscribe({next:()=>{this.ui.tableConfig.updateData([])},error:e=>this.log.error("clear-trace",e)}))}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e._getInitialData(),e._configureTable(),o(!0)});return function(o){return t.apply(this,arguments)}}())}_configureTable(){this.ui.tableConfig=new yd({columnDefinitions:{method:{visible:!0,order:10},uri:{visible:!0,order:0},bu_user_id:{visible:!0,label:"User Id"},created_at:{visible:!0,order:6}}})}_getInitialData(){var e=this;return new Promise(function(){var t=q(function*(o){e.dom.setSubscriber("get-error-data",gt.doGet("/system/server/traces",{limit:250}).subscribe({next:s=>{const r=(s=lr(s)).map(a=>({...a,created_at:wo.transform(a.created_at,"datetime")}));return e.ui.tableConfig.updateData(r),o(!0)},error:()=>o(!1)}))});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-error-log-tool"]],features:[Re],decls:2,vars:2,consts:[[3,"config","marginLeft","events",4,"ngIf"],[3,"config","events",4,"ngIf"],[3,"config","events"]],template:function(e,t){1&e&&($(0,Gge,1,3,"lib-pop-button",0),$(1,Wge,1,1,"lib-pop-table",1)),2&e&&(g("ngIf",t.ui.tableConfig&&t.ui.tableConfig.matData.filteredData.length>0),_(1),g("ngIf",t.ui.tableConfig))},styles:["[_nghost-%COMP%]     .pop-table-container{width:800px;height:92%!important}[_nghost-%COMP%]     .sw-dialog-2 .mat-mdc-dialog-container{width:auto!important}lib-pop-button[_ngcontent-%COMP%]{margin-left:10px;display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;top:72px;z-index:60;right:10px}"]}),i})(),HI=(()=>{class i{constructor(){this.aliases=[]}set(e,t="",o=""){let s="";if(t&&"string"==typeof t?s=t:t&&o&&t[o]?s=t[o]:t&&t.display?s=t.display:t&&t.label&&(s=t.label),s){if(s.includes("alias:")){const r=s.split(":");r.shift();const a=this.alias(r.shift()).toLocaleLowerCase();s=a.charAt(0).toUpperCase()+a.slice(1)+" ";let l="";for(;l=r.shift();)s+=" "+l}}else{const r=e.split("_");for(const a of r)s+="id"===a||"fk"===a?"ID ":a.charAt(0).toUpperCase()+a.slice(1)+" "}return s.trim()}alias(e){return this.aliases[e]?this.aliases[e]:e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Uge(i,n){if(1&i){const e=Me();x(0,"div",15)(1,"lib-pop-switch",16),ie("events",function(o){return he(e),pe(I(2).handleToggleEvents(o))}),C()()}if(2&i){const e=I(2);_(1),g("config",null==e.ui.toggles?null:e.ui.toggles.allowHeaderDisplayToggle)}}function Zge(i,n){if(1&i){const e=Me();x(0,"div",17)(1,"lib-pop-switch",16),ie("events",function(o){return he(e),pe(I(2).handleToggleEvents(o))}),C()()}if(2&i){const e=I(2);g("hidden",!e.options.currentOptions.headerDisplay),_(1),g("config",null==e.ui.toggles?null:e.ui.toggles.allowColumnSearchToggle)}}function Kge(i,n){if(1&i){const e=Me();x(0,"div",17)(1,"lib-pop-switch",16),ie("events",function(o){return he(e),pe(I(2).handleToggleEvents(o))}),C()()}if(2&i){const e=I(2);g("hidden",!e.options.currentOptions.headerDisplay),_(1),g("config",e.ui.toggles.allowColumnSortToggle)}}function Yge(i,n){if(1&i){const e=Me();x(0,"div",17)(1,"lib-pop-switch",16),ie("events",function(o){return he(e),pe(I(2).handleToggleEvents(o))}),C()()}if(2&i){const e=I(2);g("hidden",!e.options.currentOptions.headerDisplay),_(1),g("config",e.ui.toggles.allowHeaderStickyToggle)}}function Xge(i,n){if(1&i){const e=Me();x(0,"div",18)(1,"lib-pop-select",16),ie("events",function(o){return he(e),pe(I(2).handleInputEvents(o))}),C()()}if(2&i){const e=I(2);_(1),g("config",e.ui.lockedColumns)}}function qge(i,n){if(1&i){const e=Me();x(0,"div",28)(1,"mat-checkbox",29),ie("ngModelChange",function(o){return pe(he(e).$implicit.visible=o)}),C(),x(2,"div",24),ee(3),C(),x(4,"mat-icon",30),ee(5,"drag_handle"),C()()}if(2&i){const e=n.$implicit;_(1),g("ngModel",e.visible),_(2),Je(e.display)}}function Jge(i,n){if(1&i){const e=Me();x(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"mat-checkbox",23),ie("change",function(o){return he(e),pe(I(2).setAllShow(o.checked))}),C()(),x(5,"div",24),ee(6,"Column Label"),C(),me(7,"div",25),C(),x(8,"div",26),ie("cdkDropListDropped",function(o){return he(e),pe(I(2).drop(o))}),$(9,qge,6,2,"div",27),C()()()}if(2&i){const e=I(2);et("max-height",e.dom.height.outer,"px"),_(8),et("max-height",e.dom.height.inner,"px"),_(1),g("ngForOf",e.columns)}}function Qge(i,n){if(1&i){const e=Me();x(0,"div")(1,"span",1),ee(2,"Settings"),C(),x(3,"div",2)(4,"div",3)(5,"div",4),$(6,Uge,2,1,"div",5),$(7,Zge,2,2,"div",6),$(8,Kge,2,2,"div",6),$(9,Yge,2,2,"div",6),C(),me(10,"div",7),x(11,"div")(12,"div",8)(13,"button",9),ie("click",function(){return he(e),pe(I().onResetToDefault())}),ee(14,"Reset to Default"),C()(),$(15,Xge,2,1,"div",10),C()(),$(16,Jge,10,5,"div",11),C(),x(17,"div",12)(18,"button",13),ie("click",function(){return he(e),pe(I().onCancel())}),ee(19,"Cancel"),C(),x(20,"button",14),ie("click",function(){return he(e),pe(I().onSave())}),ee(21,"Save"),C()()()}if(2&i){const e=I();_(6),g("ngIf",e.options.allowHeaderDisplayToggle),_(1),g("ngIf",e.options.allowColumnSearchToggle&&e.ui.toggles.allowColumnSearchToggle),_(1),g("ngIf",e.options.allowColumnSortToggle),_(1),g("ngIf",e.options.allowHeaderStickyToggle),_(6),g("ngIf",e.options.allowColumnStickyToggle),_(1),g("ngIf",e.ui.columnSettings)}}let _p=class extends Yt{constructor(n,e,t,o){var s;super(),s=this,this.el=n,this.tableDialogRef=e,this.ds=t,this.data=o,this.name="PopTableDialogComponent",this.ui={toggles:void 0,lockedColumns:void 0,columnSettings:!0},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return s.dom.height.outer=window.innerHeight-300,s.dom.height.inner=s.dom.height.outer-150,s.buildToggles(),s.buildColumns(),s.buildLockedColumns(),s.ui.lockedColumns.control.valueChanges.subscribe(l=>s.updateLockedColumns(l)),a(!0)});return function(a){return r.apply(this,arguments)}}()),this.options=o.options,this.ui.columnSettings=o.columnSettings}buildLockedColumns(){let n=0;for(const[e,t]of this.columns.entries())e>-1&&!0===t.sticky&&n++;this.ui.lockedColumns=new Zi({label:"Locked columns",options:{values:[{value:0,name:"No columns locked"},{value:1,name:"Lock first column"},{value:2,name:"Lock first 2 columns"},{value:3,name:"Lock first 3 columns"}]},value:n})}updateLockedColumns(n){this.clearColSticky(),n>0&&this.updateStickyColumns(n)}clearColSticky(){for(const n of this.columns)n.sticky=!1}updateStickyColumns(n){for(const[e,t]of this.columns.entries())e<n&&(t.sticky=!0)}handleInputEvents(n){window.console.log("event",n)}buildToggles(){this.ui.toggles={allowColumnSearchToggle:new uo({bubble:!0,label:"Column Search",value:this.options.currentOptions.searchColumns,metadata:{option:"searchColumns"}}),allowColumnSortToggle:new uo({bubble:!0,label:"Column Sort",value:this.options.currentOptions.sort,metadata:{option:"sort"}}),allowHeaderStickyToggle:new uo({bubble:!0,label:"Sticky Header",value:this.options.currentOptions.headerSticky,metadata:{option:"headerSticky"}}),allowHeaderDisplayToggle:new uo({bubble:!0,label:"Display Header",value:this.options.currentOptions.headerDisplay,metadata:{option:"headerDisplay"}}),allowPaginatorToggle:new uo({bubble:!0,label:"Pagination",value:this.options.currentOptions.paginator,metadata:{option:"paginator"}})}}setAllShow(n){this.columns.map(e=>e.visible=n)}buildColumns(){const n=[],e=[];for(const o in this.options.currentOptions.columnDefinitions)this.options.currentOptions.columnDefinitions[o].display=this.ds.set(o,this.options.currentOptions.columnDefinitions[o]),this.options.currentOptions.columnDefinitions[o].name||(this.options.currentOptions.columnDefinitions[o].name=o),this.options.currentOptions.columnDefinitions[o].visible?n.push(this.options.currentOptions.columnDefinitions[o]):e.push(this.options.currentOptions.columnDefinitions[o]),this.options.currentOptions.columnDefinitions[o].checkbox&&(this.options.currentOptions.columnDefinitions[o].checkbox.visible?n.push({name:o+"_checkbox",ref:o,display:this.ds.set(o+"_checkbox"),...this.options.currentOptions.columnDefinitions[o].checkbox}):e.push({name:o+"_checkbox",ref:o,display:this.ds.set(o+"_checkbox"),...this.options.currentOptions.columnDefinitions[o].checkbox})),this.options.columns.includes(o)&&this.options.columns.splice(this.options.columns.indexOf(o),1);if(0===e.length)for(const o of this.options.columns)e.push({name:o,display:this.ds.set(o),visible:!1,sticky:!1,sort:0});n.sort(ko("sort")),e.sort(ko("name"));let t=0;for(const o of n)o.sort=++t;for(const o of e)o.sort=++t;this.columns=[...n,...e]}handleToggleEvents(n){if("onChange"===n.name){const e=n.config.metadata.option,t=n.config.control.value;"headerDisplay"===(this.options.currentOptions[n.config.metadata.option]=n.config.control.value,e)&&(t||(this.options.currentOptions.sort=!1,this.ui.toggles.allowColumnSortToggle.switchRef.checked=!1,this.ui.toggles.allowColumnSortToggle.control.setValue(!1),this.ui.toggles.allowHeaderStickyToggle.switchRef.checked=!1,this.ui.toggles.allowHeaderStickyToggle.control.setValue(!1),this.options.currentOptions.headerSticky=!1,this.ui.toggles.allowColumnSearchToggle.switchRef.checked=!1,this.ui.toggles.allowColumnSearchToggle.control.setValue(!1),this.options.currentOptions.searchColumns=!1))}}onSave(){let n=0;for(const t of this.columns)t.sort=++n;const e={};for(const t of this.columns)t.ref||(e[t.name]={display:t.display,helper:t.helper?t.helper:null,icon:t.icon?t.icon:null,sort:t.sort,route:t.route?t.route:null,sticky:t.sticky,visible:t.visible});for(const t of this.columns)t.ref&&(e[t.ref]={...e[t.ref],checkbox:{sort:t.sort,sticky:t.sticky,visible:t.visible}});this.options.currentOptions.columnDefinitions=e,this.tableDialogRef.close({type:"save",options:this.options})}onResetToDefault(){this.tableDialogRef.close({type:"reset",options:this.options})}onCancel(){this.tableDialogRef.close({type:"cancel",options:this.options})}drop(n){Pc(this.columns,n.previousIndex,n.currentIndex)}};_p.\u0275fac=function(n){return new(n||_p)(P($e),P(Yo),P(HI),P(zs))},_p.\u0275cmp=Fe({type:_p,selectors:[["lib-dialog"]],features:[Re],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-h3"],[1,"dialog-body"],[1,"options-container"],[1,"options-column"],["class","dialog-option",4,"ngIf"],["class","dialog-option",3,"hidden",4,"ngIf"],[2,"flex","1 1 auto"],[1,"dialog-option",2,"overflow","hidden"],["mat-raised-button","",1,"dialog-button",2,"float","right",3,"click"],["class","dialog-option","style","width: 175px",4,"ngIf"],["class","dialog-container",3,"maxHeight",4,"ngIf"],[1,"dialog-buttons"],["mat-raised-button","",1,"dialog-button",3,"click"],["mat-raised-button","","color","accent",1,"dialog-button",3,"click"],[1,"dialog-option"],[3,"config","events"],[1,"dialog-option",3,"hidden"],[1,"dialog-option",2,"width","175px"],[1,"dialog-container"],[1,"dialog-options"],[1,"dialog-draggable-header"],[1,"dialog-draggable-show"],["color","accent",3,"change"],[1,"dialog-draggable-name"],[1,"dialog-draggable-handle"],["cdkDropList","",1,"dialog-draggable-columns",3,"cdkDropListDropped"],["class","dialog-draggable-column","cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary",".dialog-draggable-columns",4,"ngFor","ngForOf"],["cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary",".dialog-draggable-columns",1,"dialog-draggable-column"],["color","accent",1,"dialog-draggable-show",3,"ngModel","ngModelChange"],["cdkDragHandle","",1,"dialog-draggable-handle"]],template:function(n,e){1&n&&$(0,Qge,22,6,"div",0),2&n&&g("ngIf",e.dom.state.loaded)},styles:[".options-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;padding-bottom:var(--gap-m)}.dialog-body[_ngcontent-%COMP%]{min-height:230px;max-height:725px;min-width:400px;overflow:scroll}.dialog-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;min-width:800px;min-height:300px;overflow:hidden}.dialog-options[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-height:300px;margin:5px}.dialog-option[_ngcontent-%COMP%]{margin-top:3px;padding:2px}.dialog-draggable-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-wrap:nowrap;flex-wrap:nowrap;max-height:20px!important;border:1px solid var(--border);padding:15px 5px!important;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:var(--tableheader)}.dialog-draggable-columns[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-y:auto;overflow-x:hidden;min-height:300px;max-height:calc(100vh - 300px)}.dialog-draggable-column[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-wrap:nowrap;flex-wrap:nowrap;max-height:20px!important;border:1px solid var(--border);padding:15px 5px!important;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:var(--bg-3)}.dialog-draggable-name[_ngcontent-%COMP%]{-webkit-box-flex:5;-ms-flex-positive:5;flex-grow:5;padding-left:10px}.dialog-draggable-show[_ngcontent-%COMP%]{padding-left:var(--gap-s)}.dialog-draggable-sticky[_ngcontent-%COMP%]{width:50px}.dialog-draggable-handle[_ngcontent-%COMP%]{width:25px;text-align:right}.dialog-draggable-handle[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}.dialog-draggable-handle[_ngcontent-%COMP%]:active{cursor:grabbing;cursor:-webkit-grabbing;cursor:-moz-grabbing}.dialog-buttons[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-top:20px}.dialog-button[_ngcontent-%COMP%]{margin-left:10px}.dialog-cancel[_ngcontent-%COMP%]{margin-left:-10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:2;-ms-flex-positive:2;flex-grow:2}  .cdk-overlay-pane{max-height:80vh}"]});let Jo=(()=>{class i extends Yt{constructor(){super(),this.template={container:void 0,refs:[],ref_events:[]},this.template={...this.template,attach:e=>{Ne(e,!0)?this[e]&&(this.template.container=this[e],delete this[e]):this.template.container=e},render:(e,t=["core","position"],o=!1)=>{this.template.ref_events.map(s=>{s&&"function"==typeof s.unsubscribe&&s.unsubscribe()}),this.template.refs=this.template.refs.map(function(s){return s&&"function"==typeof s.destroy&&s.destroy(),s=null,null}),this.template.transfer={},o||t.map(s=>{typeof this[s]<"u"&&(this.template.transfer[s]=this[s])}),this.template&&this.template.container&&(this.template.container.clear(),Array.isArray(e)&&e.map(s=>{if(Y(s,!0)&&kt(s.type)){const r=sI.resolveComponentFactory(s.type),a=this.template.container.createComponent(r);a.instance.events&&this.template.ref_events.push(a.instance.events.subscribe(l=>{"function"==typeof this.dom.handler.bubble?this.dom.handler.bubble(this.core,l):this.trait.bubble&&this.events.emit(l)})),Object.keys(this.template.transfer).map(l=>{a.instance[l]=this.template.transfer[l]}),"object"==typeof s.inputs&&Object.keys(s.inputs).map(l=>{"string"==typeof l&&typeof s.inputs[l]<"u"&&(a.instance[l]=s.inputs[l])}),a.changeDetectorRef.detectChanges(),this.template.refs.push(a)}}))},clear:()=>{this.template.container&&this.template.container.clear()},destroy:()=>{this.template&&function Yde(i){"object"==typeof i&&(i.ref_events.map(n=>{n&&"function"==typeof n.unsubscribe&&n.unsubscribe()}),i.refs=i.refs.map(function(n){return n&&"function"==typeof n.destroy&&n.destroy(),n=null,null}),i.container&&i.container.clear(),i=null)}(this.template)}}}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this.template.destroy(),super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-template-component"]],features:[Re],decls:1,vars:0,template:function(e,t){1&e&&ee(0,"Template Component")},encapsulation:2}),i})();const e_e=["customHeader"],t_e=["wrapper"],i_e=["footer"];function n_e(i,n){1&i&&me(0,"lib-pop-search-input",15),2&i&&g("config",I(2).ui.search)}function o_e(i,n){if(1&i&&(x(0,"div",13)(1,"div",14),$(2,n_e,1,1,"lib-pop-search-input",11),C()()),2&i){const e=I();_(2),g("ngIf",e.ui.search)}}const s_e=function(i){return{"last-button":i}},zI=function(i){return{"sw-hidden":i}};function r_e(i,n){if(1&i){const e=Me();x(0,"div")(1,"div",19)(2,"button",20),ie("click",function(){const s=he(e).$implicit,r=I(2);return pe(r.onBubbleEvent(s.id?s.id:s.name,null==r.config.selection?null:r.config.selection.selected))}),ee(3),C()()()}if(2&i){const e=n.$implicit,t=n.last,o=I(2);let s,r;_(1),g("ngClass",qe(7,s_e,t&&!o.config.options)),_(1),et("background-color",null!==(s=e.background)&&void 0!==s?s:"")("color",null!==(r=e.color)&&void 0!==r?r:""),g("ngClass",qe(9,zI,e.requireSelected&&!o.ui.buttonControl.requireSelected||e.requireOneSelected&&!o.ui.buttonControl.requireOneSelected||e.requireNoneSelected&&!o.ui.buttonControl.requireNoneSelected)),_(1),Mt(" ",e.name," ")}}function a_e(i,n){if(1&i){const e=Me();x(0,"button",21),ie("click",function(){return he(e),pe(I(2).onEditTablePreferencesClick())}),x(1,"span",22),ee(2,"Q"),C()()}}function l_e(i,n){if(1&i&&(x(0,"div",16),$(1,r_e,4,11,"div",17),$(2,a_e,3,0,"button",18),C()),2&i){const e=I();_(1),g("ngForOf",e.config.buttons),_(1),g("ngIf",e.config.settings&&e.config.options)}}function c_e(i,n){1&i&&me(0,"mat-progress-bar",23)}function d_e(i,n){1&i&&(x(0,"h1"),ee(1,"No Data Available"),C())}function u_e(i,n){1&i&&me(0,"lib-pop-table-view",15),2&i&&g("config",I().config)}const h_e=function(i,n){return{"pop-table-wrapper-pagination":i,"pop-table-pagination-inactive pop-table-wrapper-scroll":n}};let Xl=(()=>{class i extends Jo{constructor(e,t,o,s,r,a,l){var c;super(),c=this,this.el=e,this.cdr=t,this._baseRepo=o,this._dialogRepo=s,this._domRepo=r,this._routerRepo=a,this._pipeRepo=l,this.name="PopTableComponent",this.srv={base:void 0,dialog:void 0,router:void 0,pipe:void 0},this.asset={data:void 0,filter:{column:{},predicate:void 0,search:void 0}},this.ui={search:void 0,buttonControl:void 0},this.dom.configure=()=>new Promise(function(){var A=q(function*(D){return yield Promise.all([c._setHeight(),c._updateButtonControl(),c._attachPaginator(),c._handleConfigEvents(),c._setConfigHooks(),c._initSearchFilter(),c._configureTable()]),D(!0)});return function(D){return A.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var A=q(function*(D){return yield c._setInitialConfig(),c._setFilterPredicate(c.dom.session.searchValue),yield c._attachCustomHeader(),D(!0)});return function(D){return A.apply(this,arguments)}}())}onBubbleEvent(e,t){const o={source:this.name,type:"table",name:e,data:t,metadata:this.config.metadata};this.log.event("onBubbleEvent",o),this.events.emit(this.config.rawDataEvents?JSON.parse(JSON.stringify(o)):o)}onApplySearchValue(e,t){this.dom.setTimeout("apply-search",()=>{this.asset.filter.search(e??"",t),this.onBubbleEvent("search",e)},250)}onEditTablePreferencesClick(){const e=this.config.searchColumns,t=JSON.parse(JSON.stringify(this.config.options));t.currentOptions={columnDefinitions:this.config.columnDefinitions,headerDisplay:this.config.headerDisplay,headerSticky:this.config.headerSticky,paginator:this.config.paginator,search:this.config.search,searchColumns:this.config.searchColumns,sort:this.config.sort},0===t.columns.length&&this.asset.data&&this.asset.data[0]&&Object.keys(this.asset.data[0]).map(s=>{(Ne(this.asset.data[0][s])||Vi(this.asset.data[0][s]))&&t.columns.push(s)}),this.onBubbleEvent("options_open",t),this.srv.dialog.open(_p,{data:{options:t,columnSettings:this.config.columnSettings}}).afterClosed().subscribe(s=>{if(s)switch(s.type){case"save":{this.dom.refreshing();try{this.cdr.detectChanges()}catch{}const r=JSON.parse(JSON.stringify(s.options));this.onBubbleEvent("options_save",r),this.config.headerDisplay=r.currentOptions.headerDisplay,this.config.headerSticky=r.currentOptions.headerSticky,this.config.paginator=r.currentOptions.paginator,this.config.searchColumns=r.currentOptions.searchColumns,this.config.sort=r.currentOptions.sort,this.config.updateColumnDefinitions(r.currentOptions.columnDefinitions),e!==this.config.searchColumns&&this._setFilterPredicate();try{this.cdr.detectChanges()}catch{}this._resetTable();break}case"reset":{this.dom.refreshing();try{this.cdr.detectChanges()}catch{}this.onBubbleEvent("options_reset",s.options),this.config.headerDisplay=this.config.options.defaultOptions.headerDisplay,this.config.headerSticky=this.config.options.defaultOptions.headerSticky,this.config.searchColumns=this.config.options.defaultOptions.searchColumns,this.config.sort=this.config.options.defaultOptions.sort,this.config.dealWithAngularChangeDetectionFailure=!1;const r=JSON.parse(JSON.stringify(s.options.defaultOptions.columnDefinitions));this.config.updateColumnDefinitions(r),e!==this.config.searchColumns&&this._setFilterPredicate();try{this.cdr.detectChanges()}catch{}this._resetTable();break}case"cancel":this.onBubbleEvent("options_cancel",{})}else this.onBubbleEvent("options_cancel",{})})}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.config=Ai(e.config,!0,`${e.name}:configure: - this.config`)?e.config:null,e.asset.data=[],kt(e.config.id)&&(e.id=e.config.id),e.ui.search=new Yv({label:"Filter",noInitialValue:!0,value:e.dom.session.searchValue,bubble:!0,icon:"filter_list",onEvent:(s,r)=>new Promise(function(){var a=q(function*(l){return"onKeyUp"===r.name&&e.onApplySearchValue(String(r.value),""),l(!0)});return function(l){return a.apply(this,arguments)}}())}),e.ui.search.control.value=e.dom.session.searchValue,o(!0)});return function(o){return t.apply(this,arguments)}}())}_onTableEvent(e){let t,o;if("table"===e.type)switch(e.name){case"columnStandardClick":if("route"===this.config.linkBehavior&&this.config.route)if(t=this._parseGoToUrl(this.config.route,e.data.row),o=String(t).split("/"),this.log.info("goToUrl",t),o[1]&&o[1]===Bi){const s=o.slice(2).join("/");this.srv.router.navigate([s]).catch(()=>{xn.error({message:`Invalid Client Route: ${s}`,code:500})})}else Oi("redirect",t),this.srv.base.redirect();else this.onBubbleEvent("row_clicked",e.data.row);break;case"columnRouteClick":if("route"===this.config.linkBehavior){if(t=this._parseGoToUrl(this.config.columnDefinitions[e.data.name].route,e.data.row),Ne(t,!0))if(o=String(t).split("/"),o[1]&&o[1]===Bi){const s=o.slice(2).join("/");this.srv.router.navigate([s]).catch(()=>{xn.error({message:`Invalid Client Route: ${s}`,code:500})})}else Oi("redirect",t),this.srv.base.redirect()}else this.onBubbleEvent(e.name,e.data);break;case"columnLinkClick":this.onBubbleEvent("columnLinkClick",{link:this.config.columnDefinitions[e.data.name].link,row:e.data.row,col:e.data.name});break;case"filter":this.onApplySearchValue(e.data.filter,e.data.col);break;case"clear-column-filters":this.asset.filter.column={},this.onApplySearchValue("","all");break;default:this.onBubbleEvent(e.name,e.data)}"context_menu"===e.type&&this.events.emit(e)}_setHeight(e=null){var t=this;return new Promise(function(){var o=q(function*(s){if(t.dom.overhead=0,t.config){if(e&&(t.config.height=e),t.config.height)return(t.config.options||t.config.buttons.length>0||t.config.search&&!t.config.searchColumns)&&(t.dom.overhead=t.dom.overhead+55),t.config.paginator&&(t.dom.overhead=t.dom.overhead+65),t.dom.setHeight(t.config.height,t.dom.overhead),s(!0)}else t.dom.setHeight(0,0),t.dom.height.outer=null,t.dom.height.inner=null;return s(!1)});return function(s){return o.apply(this,arguments)}}())}_setFilterPredicate(e=null){this.config.searchColumns?(this.config.matData.filter="",this.config.matData.filterPredicate=this.asset.filter.predicate.column):(this.config.matData.filterPredicate=this.asset.filter.predicate.tag,this.onApplySearchValue(e||"",""))}_updateData(e){this.dom.refreshing(),this.config.matData.paginator||(this.config.matData.paginator=this.matPaginator),Y(this.config.columnDefinitions,!0)?De(e)&&(this.asset.data=e,this.config.matData.data=[...this.asset.data],!this.config.searchColumns&&this.dom.session.searchValue&&this.asset.filter.search(this.dom.session.searchValue,""),this._setTableLayout()):De(e,!0)&&(this.config.data=e,this.onBubbleEvent("column_definitions",e[0]))}_resetTable(e=null){var t=this;this.log.info("_resetTable"),this.dom.setTimeout("reset-table",q(function*(){t.dom.refreshing(),yield t._configureTable(),yield t._updateButtonControl(),Array.isArray(e)?t._updateData(e):t.dom.setTimeout("view-ready",q(function*(){t.dom.ready()}),200)}),0)}_configureTable(){var e=this;return new Promise(function(){var t=q(function*(o){e.log.info("_configureTable"),e.config.matData.data.length=0;const s={},r=[];let a=[],l=!1;Y(e.config.columnDefinitions,!0)?e.dom.state.hasColumnDefinitions=Y(e.config.columnDefinitions,!0):(e.dom.state.hasColumnDefinitions=!0,e.config.columnDefinitions={description:{name:"description",label:"Description",visible:!0,sort:3},id:{name:"id",label:"ID",checkbox:{visible:!0,sort:0},visible:!0,sort:999},name:{name:"name",label:"Name",visible:!0,sort:2}}),Object.keys(e.config.columnDefinitions).map(c=>{l=!0;let A="Standard";if(e.config.columnDefinitions[c].route?A=e.config.columnDefinitions[c].icon?e.config.columnDefinitions[c].helper?"RouteIconHelper":"RouteIcon":e.config.columnDefinitions[c].helper?"RouteHelper":"Route":e.config.columnDefinitions[c].link?A=e.config.columnDefinitions[c].icon?e.config.columnDefinitions[c].helper?"LinkIconHelper":"LinkIcon":e.config.columnDefinitions[c].helper?"LinkHelper":"Link":e.config.columnDefinitions[c].icon?A=e.config.columnDefinitions[c].helper?"IconHelper":"Icon":e.config.columnDefinitions[c].helper&&(A="StandardHelper"),s[c]={template:A,name:c,display:e.srv.pipe.label.transform(c,e.config.columnDefinitions[c]),icon:e.config.columnDefinitions[c].icon,helper:{text:e.config.columnDefinitions[c].helper?"string"==typeof e.config.columnDefinitions[c].helper?e.config.columnDefinitions[c].helper:e.config.columnDefinitions[c].helper.text:"",position:e.config.columnDefinitions[c].helper?"string"==typeof e.config.columnDefinitions[c].helper?"left":e.config.columnDefinitions[c].helper.position:"left"},sticky:!!e.config.columnDefinitions[c].sticky&&e.config.columnDefinitions[c].sticky},e.log.info("check column visible",{col:c,visible:e.config.columnDefinitions[c].visible}),e.config.columnDefinitions[c].visible&&r.push({name:c,sort:e.config.columnDefinitions[c].sort}),e.config.columnDefinitions[c].checkbox){const D="checkbox_"+c;s[D]={template:"Checkbox",name:c,helper:{text:"",position:"left"},sticky:!!e.config.columnDefinitions[c].checkbox.sticky&&e.config.columnDefinitions[c].checkbox.sticky},e.config.columnDefinitions[c].checkbox.visible&&r.push({name:D,sort:e.config.columnDefinitions[c].checkbox.sort?e.config.columnDefinitions[c].checkbox.sort:0})}}),r.sort(ko("sort"));for(const c in r)a.push(r[c].name);if(!l&&e.asset.data&&e.asset.data[0]&&Object.keys(e.asset.data[0]).map(c=>{a.push(c),s[c]={template:"Standard",name:c,display:eo.label.transform(c)}}),Array.isArray(e.asset.data)&&e.asset.data.length>0){const c=Object.keys(e.asset.data[0]);a=a.filter(A=>!!A.includes("checkbox_")||c.includes(A))}return e.config.columnConfig={templates:s,visible:a},e.config.selection&&e.config.selection.clear(),De(e.config.data,!1)&&e._updateData(e.config.data),setTimeout(()=>{e.dom.ready(),e.onBubbleEvent("ready",1)}),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setTablePagination(){this.config&&this.config.height&&this.config.paginator&&this.matPaginator&&De(this.asset.data,!1)&&(this.dom.state.hasPagination=this.asset.data.length>this.config.pageSize,setTimeout(()=>{this.config.matData.paginator.pageSize=this.config.pageSize,this.config.matData.paginator.pageIndex=0,this.config.matData.paginator.page.next({pageIndex:0,pageSize:this.config.pageSize,length:this.config.pageSize})}))}_updateColumnDefinitions(e){this.config.columnDefinitions=e,this._configureTable().then(()=>!0)}_attachPaginator(){var e=this;return new Promise(function(){var t=q(function*(o){return e.matPaginator&&(e.matPaginator.hidePageSize=!0,e.config&&e.config.matData&&(e.config.matData.paginator=e.matPaginator)),o(!1)});return function(o){return t.apply(this,arguments)}}())}_attachCustomHeader(){var e=this;return new Promise(function(){var t=q(function*(o){return e.config.customHeader&&(e.template.attach(e.customHeader),e.template.render([e.config.customHeader],["core","config"])),o(!0)});return function(o){return t.apply(this,arguments)}}())}_updateButtonControl(){var e=this;return new Promise(function(){var t=q(function*(o){if(Xr(e.ui.buttonControl)&&(e.ui.buttonControl={requireSelected:!1,requireOneSelected:!1,requireNoneSelected:!0}),e.config.selection){const s=e.config.selection.selected.length;e.ui.buttonControl.requireSelected=+s>0,e.ui.buttonControl.requireOneSelected=1==+s,e.ui.buttonControl.requireNoneSelected=0==+s}else e.ui.buttonControl.requireSelected=!1,e.ui.buttonControl.requireOneSelected=!1,e.ui.buttonControl.requireNoneSelected=!0;return o(!0)});return function(o){return t.apply(this,arguments)}}())}_handleConfigEvents(){var e=this;return new Promise(function(){var t=q(function*(o){return e.config.onEvent||(e.config.onEvent=new R),e.dom.setSubscriber("config-events",e.config.onEvent.subscribe(s=>{e._updateButtonControl().then(()=>!0),e._onTableEvent(s)})),o(!1)});return function(o){return t.apply(this,arguments)}}())}_setConfigHooks(){var e=this;return new Promise(function(){var t=q(function*(o){return e.config.setHeight=s=>{e._setTableHeight(s)},e.config.clearSelected=()=>new Promise(function(){var s=q(function*(r){e.config.selection.clear(),yield al(250),e._updateButtonControl().then(()=>r(!0))});return function(r){return s.apply(this,arguments)}}()),e.config.updateColumnDefinitions=s=>{e._updateColumnDefinitions(s)},e.config.updateData=s=>{e._updateData(s)},e.config.setLayout=s=>{e._setTableLayout(s)},e.config.reset=(s=null)=>{e._resetTable(s)},e.config.applyFilter=(s,r)=>{e.config.searchColumns||e.onApplySearchValue(s,r)},o(!0)});return function(o){return t.apply(this,arguments)}}())}_initSearchFilter(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.session.searchValue=e.dom.session.searchValue?e.dom.session.searchValue:e.config.searchValue?e.config.searchValue:"",e.asset.filter.predicate={default:e.config.matData.filterPredicate,column:(s,r)=>{let a=!0;for(const l in e.asset.filter.column)if(a=s[l]&&s[l].toLowerCase?s[l].toLowerCase().includes(e.asset.filter.column[l]):String(s[l]).includes(e.asset.filter.column[l]),!a)return!1;return!0},tag:(s,r)=>ll(s,r)},e.asset.filter.search=(s,r)=>{s=s.trim().toLocaleLowerCase(),r&&(s?e.asset.filter.column[r]=s:e.asset.filter.column[r]&&delete e.asset.filter.column[r]),e.config.matData.filter=s,e.config.paginator&&e.config.matData.paginator&&e.config.matData.paginator.firstPage()},o(!0)});return function(o){return t.apply(this,arguments)}}())}_setTableLayout(e=null){var t=this;this.dom.setTimeout("table-layout",q(function*(){t.dom.loading(),t.config&&De(t.asset.data,!1)&&(yield t._setHeight(e),t.dom.setTimeout("set-table-layout",()=>{t.dom.ready(),t._setTablePagination()},0))}),0)}_setTableHeight(e=null){this.config&&De(this.asset.data,!1)&&(this._setHeight(e).then(),this.dom.setTimeout("set-table-height",()=>{this.dom.ready(),this._setTablePagination()},0))}_parseGoToUrl(e="",t){if(!e)return e;if(e.includes("alias:")){const o=e.indexOf("alias:"),s=e.includes("/",o)?e.indexOf("/",o):e.length,r=e.slice(o,s),a=r.split(":");a.shift();const l=eo.label.getAlias(a.shift());e=e.replace(r,l)}return e.includes(":")&&t&&(e=bd(e,t)),e}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt),P(Ho),P(Fn),P(ii),P(Ji),P(Wf))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-table"]],viewQuery:function(e,t){if(1&e&&(ht(e_e,7,Ri),ht(t_e,7),ht(i_e,5),ht(HL,7)),2&e){let o;Ke(o=Ye())&&(t.customHeader=o.first),Ke(o=Ye())&&(t.wrapper=o.first),Ke(o=Ye())&&(t.footer=o.first),Ke(o=Ye())&&(t.matPaginator=o.first)}},inputs:{config:"config"},features:[Re],decls:16,vars:21,consts:[[1,"pop-table-container"],[1,"pt-dark-text","pop-table-control",3,"ngClass"],["class","pop-table-search-control",4,"ngIf"],[1,"pop-table-custom-header"],["customHeader",""],["class","pop-table-button-control",4,"ngIf"],[1,"pop-table-loader"],["mode","indeterminate",4,"ngIf"],[1,"pop-table-wrapper",3,"ngClass"],["wrapper",""],[4,"ngIf"],[3,"config",4,"ngIf"],[1,"pop-table-footer",3,"ngClass"],[1,"pop-table-search-control"],[1,"pop-table-search-control-wrapper"],[3,"config"],[1,"pop-table-button-control"],[4,"ngFor","ngForOf"],["mat-raised-button","","class","sw-icon-button",3,"click",4,"ngIf"],[3,"ngClass"],["mat-raised-button","",1,"pop-table-buttons",3,"ngClass","click"],["mat-raised-button","",1,"sw-icon-button",3,"click"],[1,"sw-pop-icon"],["mode","indeterminate"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1),$(2,o_e,3,1,"div",2),x(3,"div",3),Go(4,null,4),C(),x(6,"div"),$(7,l_e,3,2,"div",5),C()(),x(8,"div",6),$(9,c_e,1,0,"mat-progress-bar",7),C(),x(10,"div",8,9),$(12,d_e,2,0,"h1",10),$(13,u_e,1,1,"lib-pop-table-view",11),C(),x(14,"div",12),me(15,"mat-paginator"),C()()),2&e&&(et("height",t.dom.height.outer,"px"),_(1),g("ngClass",qe(14,zI,!t.config.header)),_(1),g("ngIf",t.config.search&&!t.config.searchColumns),_(5),g("ngIf",t.ui.buttonControl),_(2),g("ngIf",null==t.config?null:t.config.loading),_(1),et("max-height",null,"px")("min-height",t.dom.height.inner,"px"),g("ngClass",Ii(16,h_e,t.dom.state.hasPagination,!t.dom.state.hasPagination)),_(2),g("ngIf",!t.dom.state.hasColumnDefinitions),_(1),g("ngIf",t.dom.state.loaded&&!t.dom.state.refresh),_(1),g("ngClass",qe(19,zI,!(null!=t.config&&t.config.paginator))))},styles:[".pop-table-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 5px;overflow:visible}.pop-table-container[_ngcontent-%COMP%]   .pop-table-control[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:10px;z-index:20;height:45px}.pop-table-container[_ngcontent-%COMP%]   .pop-table-control[_ngcontent-%COMP%]   .pop-table-search-control[_ngcontent-%COMP%]{min-width:250px;margin-right:var(--gap-m)}.pop-table-container[_ngcontent-%COMP%]   .pop-table-control[_ngcontent-%COMP%]   .pop-table-custom-header[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:52px;padding-top:10px;top:-11px;z-index:1;overflow:visible;margin-top:-2px}.pop-table-container[_ngcontent-%COMP%]   .pop-table-control[_ngcontent-%COMP%]   .pop-table-button-control[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-bottom:7px;margin-right:-5px}.pop-table-container[_ngcontent-%COMP%]   .pop-table-control[_ngcontent-%COMP%]   .pop-table-button-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;margin-top:1px;margin-right:10px!important;line-height:20px!important;height:34px}.pop-table-container[_ngcontent-%COMP%]   .pop-table-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-x:auto;z-index:10}.pop-table-container[_ngcontent-%COMP%]   .pop-table-footer[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;left:0;right:0;bottom:0;border:1px solid var(--background-border);background:var(--background-item-menu);border-bottom-left-radius:var(--radius-xs);border-bottom-right-radius:var(--radius-xs)}.pop-table-loader[_ngcontent-%COMP%]{position:relative;top:-1px;height:1px;overflow:hidden;clear:both;z-index:1}.pop-table-wrapper-pagination[_ngcontent-%COMP%], .pop-table-wrapper-scroll[_ngcontent-%COMP%]{overflow-y:auto!important}[_nghost-%COMP%]     .pop-table-wrapper-scroll mat-paginator .mat-mdc-icon-button{opacity:.1;pointer-events:none}[_nghost-%COMP%]     .search-control .mat-mdc-form-field .mat-form-field-infix{width:200px}  th.mat-mdc-header-cell,   td.mat-mdc-cell{font-size:14px;height:0px!important;padding:0}  .mat-mdc-header-row{height:40px!important}  .mat-mdc-header-row,   .mat-mdc-row{height:40px!important}"]}),i})();function p_e(i,n){if(1&i){const e=Me();x(0,"button",3),ie("click",function(){const s=he(e).$implicit;return pe(I().onMenuClick(s))}),ee(1),C()}if(2&i){const e=n.$implicit;_(1),Mt(" ",e.label," ")}}const m_e=function(i,n){return{"left.px":i,"top.px":n}};let f_e=(()=>{class i{constructor(){}ngOnInit(){this.config.toggle.subscribe(e=>{e&&this.trigger.openMenu(),e||this.trigger.closeMenu()})}onMenuClick(e){"new_tab"===e.type&&window.open(e.url,"_blank"),"portal"===e.type&&this.config.emitter.emit({source:"PopContextMenuComponent",type:"context_menu",name:"portal",open:!0,internal_name:e.metadata.internal_name,id:e.metadata.id,option:e})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-context-menu"]],viewQuery:function(e,t){if(1&e&&ht(Ob,7),2&e){let o;Ke(o=Ye())&&(t.trigger=o.first)}},inputs:{config:"config"},decls:4,vars:6,consts:[["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"pcm-trigger-button",3,"matMenuTriggerFor","ngStyle"],["mat-menu-item","",3,"click"]],template:function(e,t){if(1&e&&(x(0,"mat-menu",null,0),$(2,p_e,2,1,"button",1),C(),me(3,"div",2)),2&e){const o=Qt(1);_(2),g("ngForOf",t.config.options),_(1),g("matMenuTriggerFor",o)("ngStyle",Ii(3,m_e,t.config.x,t.config.y))}},dependencies:[Hw,sf,Ob,ai,vh],styles:[".pcm-trigger-button[_ngcontent-%COMP%]{position:fixed}"]}),i})(),ly=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[ur,Gi]}),i})();class jI{constructor(n){if(this.emitter=new tt,this.toggle=new R,this.x=0,this.y=0,this.options=[],this.newTabUrl="",null!=n&&n.newTabUrl&&this.options.push({label:"Open Link in new tab",type:"new_tab",url:n.newTabUrl}),null!=n&&void 0!==n.options&&0!=n.options.length)for(const e of n.options)this.options.push(e)}addNewTabOption(n){this.options.push({label:"Open Link in new tab",type:"new_tab",url:n})}addPortalOption(n="",e){const o={label:`View ${jt(eo.transform(n,{type:"entity",arg1:"alias",arg2:"singular"})).replace(/_/g," ").trim()}`,type:"portal",metadata:{internal_name:n,id:e}};this.options.push(o)}addOption(n){this.options.push(n)}resetOptions(){this.options=[]}}const g_e=["checkbox"];function __e(i,n){1&i&&me(0,"div")}function b_e(i,n){1&i&&me(0,"th")}function v_e(i,n){1&i&&me(0,"th")}function y_e(i,n){1&i&&me(0,"th")}function x_e(i,n){1&i&&me(0,"th")}const Sa=function(i){return{"first-row-no-header":i}};function C_e(i,n){if(1&i){const e=Me();x(0,"td",15),ie("click",function(){const s=he(e).$implicit,r=I(2).$implicit,a=I();return pe(s[r]?a.onColumnStandardClick(r,s):a.onBubbleEvent("row_clicked",s))})("contextmenu",function(o){const r=he(e).$implicit,a=I(2).$implicit,l=I();return pe(r[a]?l.dom.contextMenu.configure(a,r,o):l.onBubbleEvent("row_right_clicked",r))}),ee(1),C()}if(2&i){const e=n.$implicit,t=n.index,o=I(2).$implicit,s=I();g("ngClass",qe(2,Sa,0===t&&!s.config.headerDisplay)),_(1),Mt(" ",e[o]," ")}}function w_e(i,n){if(1&i&&(x(0,"div"),$(1,b_e,1,0,"th",13),$(2,v_e,1,0,"th",13),$(3,y_e,1,0,"th",13),$(4,x_e,1,0,"th",13),$(5,C_e,2,4,"td",14),C()),2&i){I();const e=Qt(17),t=Qt(21),o=Qt(19),s=Qt(23),r=I();_(1),g("ngIf",!r.config.searchColumns&&!r.config.sort)("ngIfThen",e),_(1),g("ngIf",r.config.searchColumns&&!r.config.sort)("ngIfThen",t),_(1),g("ngIf",!r.config.searchColumns&&r.config.sort)("ngIfThen",o),_(1),g("ngIf",r.config.searchColumns&&r.config.sort)("ngIfThen",s)}}function k_e(i,n){1&i&&me(0,"th")}function I_e(i,n){1&i&&me(0,"th")}function A_e(i,n){1&i&&me(0,"th")}function S_e(i,n){1&i&&me(0,"th")}function M_e(i,n){if(1&i){const e=Me();x(0,"td",17),ie("mouseenter",function(){const o=he(e),s=o.index,r=o.$implicit,a=I(2).$implicit;return pe(I().onHelperText(s,a,r))})("click",function(){const s=he(e).$implicit,r=I(2).$implicit,a=I();return pe(s[r]?a.onColumnStandardClick(r,s):a.onBubbleEvent("row_clicked",s))})("contextmenu",function(o){const r=he(e).$implicit,a=I(2).$implicit,l=I();return pe(r[a]?l.dom.contextMenu.configure(a,r,o):l.onBubbleEvent("row_right_clicked",r))}),ee(1),C()}if(2&i){const e=n.$implicit,t=n.index,o=I(2).$implicit,s=I();Ei("matTooltip",s.ui.helperText),Ei("matTooltipPosition",s.config.columnConfig.templates[o].helper.position),g("ngClass",qe(4,Sa,0===t&&!s.config.headerDisplay)),_(1),Mt(" ",e[o]," ")}}function P_e(i,n){if(1&i&&(x(0,"div"),$(1,k_e,1,0,"th",13),$(2,I_e,1,0,"th",13),$(3,A_e,1,0,"th",13),$(4,S_e,1,0,"th",13),$(5,M_e,2,6,"td",16),C()),2&i){I();const e=Qt(17),t=Qt(21),o=Qt(19),s=Qt(23),r=I();_(1),g("ngIf",!r.config.searchColumns&&!r.config.sort)("ngIfThen",e),_(1),g("ngIf",r.config.searchColumns&&!r.config.sort)("ngIfThen",t),_(1),g("ngIf",!r.config.searchColumns&&r.config.sort)("ngIfThen",o),_(1),g("ngIf",r.config.searchColumns&&r.config.sort)("ngIfThen",s)}}function T_e(i,n){1&i&&me(0,"th")}function E_e(i,n){1&i&&me(0,"th")}function D_e(i,n){1&i&&me(0,"th")}function O_e(i,n){1&i&&me(0,"th")}function R_e(i,n){if(1&i){const e=Me();x(0,"td",15),ie("click",function(){const s=he(e).$implicit,r=I(2).$implicit,a=I();return pe(s[r]?a.onColumnRouteClick(r,s):a.onBubbleEvent("row_clicked",s))})("contextmenu",function(o){const r=he(e).$implicit,a=I(2).$implicit,l=I();return pe(r[a]?l.dom.contextMenu.configure(a,r,o):l.onBubbleEvent("row_right_clicked",r))}),ee(1),C()}if(2&i){const e=n.$implicit,t=n.index,o=I(2).$implicit,s=I();g("ngClass",e[o]?"sw-accent":"")("ngClass",qe(3,Sa,0===t&&!s.config.headerDisplay)),_(1),Mt(" ",e[o]," ")}}function F_e(i,n){if(1&i&&(x(0,"div"),$(1,T_e,1,0,"th",13),$(2,E_e,1,0,"th",13),$(3,D_e,1,0,"th",13),$(4,O_e,1,0,"th",13),$(5,R_e,2,5,"td",14),C()),2&i){I();const e=Qt(17),t=Qt(21),o=Qt(19),s=Qt(23),r=I();_(1),g("ngIf",!r.config.searchColumns&&!r.config.sort)("ngIfThen",e),_(1),g("ngIf",r.config.searchColumns&&!r.config.sort)("ngIfThen",t),_(1),g("ngIf",!r.config.searchColumns&&r.config.sort)("ngIfThen",o),_(1),g("ngIf",r.config.searchColumns&&r.config.sort)("ngIfThen",s)}}function L_e(i,n){1&i&&me(0,"th")}function N_e(i,n){1&i&&me(0,"th")}function B_e(i,n){1&i&&me(0,"th")}function V_e(i,n){1&i&&me(0,"th")}const $_e=function(i,n){return{"sw-accent":i,"first-row-no-header":n}};function H_e(i,n){if(1&i){const e=Me();x(0,"td",19),ie("mouseenter",function(){const o=he(e),s=o.index,r=o.$implicit,a=I(2).$implicit;return pe(I().onHelperText(s,a,r))})("click",function(){const s=he(e).$implicit,r=I(2).$implicit,a=I();return pe(s[r]?a.onColumnRouteClick(r,s):a.onBubbleEvent("row_clicked",s))})("contextmenu",function(o){const r=he(e).$implicit,a=I(2).$implicit,l=I();return pe(r[a]?l.dom.contextMenu.configure(a,r,o):l.onBubbleEvent("row_right_clicked",r))}),ee(1),C()}if(2&i){const e=n.$implicit,t=n.index,o=I(2).$implicit,s=I();Ei("matTooltip",s.ui.helperText),Ei("matTooltipPosition",s.config.columnConfig.templates[o].helper.position),g("ngClass",Ii(4,$_e,e[o],0===t&&!s.config.headerDisplay)),_(1),Mt(" ",e[o]," ")}}function z_e(i,n){if(1&i&&(x(0,"div"),$(1,L_e,1,0,"th",13),$(2,N_e,1,0,"th",13),$(3,B_e,1,0,"th",13),$(4,V_e,1,0,"th",13),$(5,H_e,2,7,"td",18),C()),2&i){I();const e=Qt(17),t=Qt(21),o=Qt(19),s=Qt(23),r=I();_(1),g("ngIf",!r.config.searchColumns&&!r.config.sort)("ngIfThen",e),_(1),g("ngIf",r.config.searchColumns&&!r.config.sort)("ngIfThen",t),_(1),g("ngIf",!r.config.searchColumns&&r.config.sort)("ngIfThen",o),_(1),g("ngIf",r.config.searchColumns&&r.config.sort)("ngIfThen",s)}}function j_e(i,n){if(1&i&&(x(0,"th",22),ee(1),C()),2&i){const e=I(2).$implicit,t=I();_(1),Je(t.config.columnConfig.templates[e].display)}}function G_e(i,n){if(1&i&&(x(0,"div"),me(1,"img",25),C()),2&i){const e=I().$implicit,t=I(2).$implicit,o=I();_(1),Ei("src",o.config.columnConfig.templates[t].icon.name,tr),Ei("alt",e[t])}}function W_e(i,n){if(1&i&&(x(0,"div")(1,"mat-icon",26),ee(2),C()()),2&i){const e=I(3).$implicit,t=I();_(2),Je(t.config.columnConfig.templates[e].icon.name)}}function U_e(i,n){if(1&i&&(x(0,"div")(1,"span",27),ee(2),C()()),2&i){const e=I(3).$implicit,t=I();_(2),Je(t.config.columnConfig.templates[e].icon.name)}}function Z_e(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I().$implicit,t=I(2).$implicit;_(1),Je(e[t])}}function K_e(i,n){if(1&i){const e=Me();x(0,"td",23),ie("click",function(){const s=he(e).$implicit,r=I(2).$implicit;return pe(I().onColumnRouteClick(r,s))})("contextmenu",function(o){const r=he(e).$implicit,a=I(2).$implicit,l=I();return pe(r[a]?l.dom.contextMenu.configure(a,r,o):l.onBubbleEvent("row_right_clicked",r))}),x(1,"div",24),$(2,G_e,2,2,"div",8),$(3,W_e,3,1,"div",8),$(4,U_e,3,1,"div",8),$(5,Z_e,2,1,"div",7),C()()}if(2&i){const e=n.i,t=I(2).$implicit,o=I();g("ngClass",qe(5,Sa,0===e&&!o.config.headerDisplay)),_(1),g("ngSwitch",o.config.columnConfig.templates[t].icon.type),_(1),g("ngSwitchCase","IconImg"),_(1),g("ngSwitchCase","IconMat"),_(1),g("ngSwitchCase","IconPop")}}function Y_e(i,n){1&i&&(x(0,"div"),$(1,j_e,2,1,"th",20),$(2,K_e,6,7,"td",21),C())}function X_e(i,n){if(1&i&&(x(0,"th",22),ee(1),C()),2&i){const e=I(2).$implicit,t=I();_(1),Je(t.config.columnConfig.templates[e].display)}}function q_e(i,n){if(1&i&&(x(0,"div"),me(1,"img",25),C()),2&i){const e=I().$implicit,t=I(2).$implicit,o=I();_(1),Ei("src",o.config.columnConfig.templates[t].icon.name,tr),Ei("alt",e[t])}}function J_e(i,n){if(1&i&&(x(0,"div")(1,"mat-icon",26),ee(2),C()()),2&i){const e=I(3).$implicit,t=I();_(2),Je(t.config.columnConfig.templates[e].icon.name)}}function Q_e(i,n){if(1&i&&(x(0,"div")(1,"span",27),ee(2),C()()),2&i){const e=I(3).$implicit,t=I();_(2),Je(t.config.columnConfig.templates[e].icon.name)}}function ebe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I().$implicit,t=I(2).$implicit;_(1),Je(e[t])}}function tbe(i,n){if(1&i){const e=Me();x(0,"td",29),ie("mouseenter",function(){const o=he(e),s=o.index,r=o.$implicit,a=I(2).$implicit;return pe(I().onHelperText(s,a,r))})("click",function(){const s=he(e).$implicit,r=I(2).$implicit;return pe(I().onColumnRouteClick(r,s))})("contextmenu",function(o){const r=he(e).$implicit,a=I(2).$implicit,l=I();return pe(r[a]?l.dom.contextMenu.configure(a,r,o):l.onBubbleEvent("row_right_clicked",r))}),x(1,"div",24),$(2,q_e,2,2,"div",8),$(3,J_e,3,1,"div",8),$(4,Q_e,3,1,"div",8),$(5,ebe,2,1,"div",7),C()()}if(2&i){const e=n.index,t=I(2).$implicit,o=I();Ei("matTooltip",o.ui.helperText),Ei("matTooltipPosition",o.config.columnConfig.templates[t].helper.position),g("ngClass",qe(7,Sa,0===e&&!o.config.headerDisplay)),_(1),g("ngSwitch",o.config.columnConfig.templates[t].icon.type),_(1),g("ngSwitchCase","IconImg"),_(1),g("ngSwitchCase","IconMat"),_(1),g("ngSwitchCase","IconPop")}}function ibe(i,n){1&i&&(x(0,"div"),$(1,X_e,2,1,"th",20),$(2,tbe,6,9,"td",28),C())}function nbe(i,n){1&i&&me(0,"th")}function obe(i,n){1&i&&me(0,"th")}function sbe(i,n){1&i&&me(0,"th")}function rbe(i,n){1&i&&me(0,"th")}function abe(i,n){if(1&i){const e=Me();x(0,"td",31),ie("click",function(){const s=he(e).$implicit,r=I(2).$implicit,a=I();return pe(s[r]?a.onColumnLinkClick(r,s):a.onBubbleEvent("row_clicked",s))}),ee(1),C()}if(2&i){const e=n.$implicit,t=n.index,o=I(2).$implicit,s=I();g("ngClass",e[o]?"sw-accent":"")("ngClass",qe(3,Sa,0===t&&!s.config.headerDisplay)),_(1),Mt(" ",e[o]," ")}}function lbe(i,n){if(1&i&&(x(0,"div"),$(1,nbe,1,0,"th",13),$(2,obe,1,0,"th",13),$(3,sbe,1,0,"th",13),$(4,rbe,1,0,"th",13),$(5,abe,2,5,"td",30),C()),2&i){I();const e=Qt(17),t=Qt(21),o=Qt(19),s=Qt(23),r=I();_(1),g("ngIf",!r.config.searchColumns&&!r.config.sort)("ngIfThen",e),_(1),g("ngIf",r.config.searchColumns&&!r.config.sort)("ngIfThen",t),_(1),g("ngIf",!r.config.searchColumns&&r.config.sort)("ngIfThen",o),_(1),g("ngIf",r.config.searchColumns&&r.config.sort)("ngIfThen",s)}}function cbe(i,n){1&i&&me(0,"th")}function dbe(i,n){1&i&&me(0,"th")}function ube(i,n){1&i&&me(0,"th")}function hbe(i,n){1&i&&me(0,"th")}function pbe(i,n){if(1&i){const e=Me();x(0,"td",33),ie("mouseenter",function(){const o=he(e),s=o.index,r=o.$implicit,a=I(2).$implicit;return pe(I().onHelperText(s,a,r))})("click",function(){const s=he(e).$implicit,r=I(2).$implicit,a=I();return pe(s[r]?a.onColumnLinkClick(r,s):a.onBubbleEvent("row_clicked",s))}),ee(1),C()}if(2&i){const e=n.$implicit,t=n.index,o=I(2).$implicit,s=I();Ei("matTooltip",s.ui.helperText),Ei("matTooltipPosition",s.config.columnConfig.templates[o].helper.position),g("ngClass",qe(4,Sa,0===t&&!s.config.headerDisplay)),_(1),Mt(" ",e[o]," ")}}function mbe(i,n){if(1&i&&(x(0,"div"),$(1,cbe,1,0,"th",13),$(2,dbe,1,0,"th",13),$(3,ube,1,0,"th",13),$(4,hbe,1,0,"th",13),$(5,pbe,2,6,"td",32),C()),2&i){I();const e=Qt(17),t=Qt(21),o=Qt(19),s=Qt(23),r=I();_(1),g("ngIf",!r.config.searchColumns&&!r.config.sort)("ngIfThen",e),_(1),g("ngIf",r.config.searchColumns&&!r.config.sort)("ngIfThen",t),_(1),g("ngIf",!r.config.searchColumns&&r.config.sort)("ngIfThen",o),_(1),g("ngIf",r.config.searchColumns&&r.config.sort)("ngIfThen",s)}}function fbe(i,n){if(1&i&&(x(0,"th",22),ee(1),C()),2&i){const e=I(2).$implicit,t=I();_(1),Je(t.config.columnConfig.templates[e].display)}}function gbe(i,n){if(1&i&&(x(0,"div"),me(1,"img",25),C()),2&i){const e=I().$implicit,t=I(2).$implicit,o=I();_(1),Ei("src",o.config.columnConfig.templates[t].icon.name,tr),Ei("alt",e[t])}}function _be(i,n){if(1&i&&(x(0,"div")(1,"mat-icon",26),ee(2),C()()),2&i){const e=I(3).$implicit,t=I();_(2),Je(t.config.columnConfig.templates[e].icon.name)}}function bbe(i,n){if(1&i&&(x(0,"div")(1,"span",27),ee(2),C()()),2&i){const e=I(3).$implicit,t=I();_(2),Je(t.config.columnConfig.templates[e].icon.name)}}function vbe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I().$implicit,t=I(2).$implicit;_(1),Je(e[t])}}const Jf=function(i){return{"sw-hidden":i}};function ybe(i,n){if(1&i){const e=Me();x(0,"td",35)(1,"div",36),ie("click",function(){const s=he(e).$implicit,r=I(2).$implicit;return pe(I().onColumnLinkClick(r,s))}),$(2,gbe,2,2,"div",8),$(3,_be,3,1,"div",8),$(4,bbe,3,1,"div",8),$(5,vbe,2,1,"div",7),C()()}if(2&i){const e=n.$implicit,t=n.index,o=I(2).$implicit,s=I();g("ngClass",qe(6,Sa,0===t&&!s.config.headerDisplay)),_(1),g("ngSwitch",s.config.columnConfig.templates[o].icon.type)("ngClass",qe(8,Jf,!e[o])),_(1),g("ngSwitchCase","IconImg"),_(1),g("ngSwitchCase","IconMat"),_(1),g("ngSwitchCase","IconPop")}}function xbe(i,n){1&i&&(x(0,"div"),$(1,fbe,2,1,"th",20),$(2,ybe,6,10,"td",34),C())}function Cbe(i,n){if(1&i&&(x(0,"th",22),ee(1),C()),2&i){const e=I(2).$implicit,t=I();_(1),Je(t.config.columnConfig.templates[e].display)}}function wbe(i,n){if(1&i&&(x(0,"div"),me(1,"img",25),C()),2&i){const e=I().$implicit,t=I(2).$implicit,o=I();_(1),Ei("src",o.config.columnConfig.templates[t].icon.name,tr),Ei("alt",e[t])}}function kbe(i,n){if(1&i&&(x(0,"div")(1,"mat-icon",26),ee(2),C()()),2&i){const e=I(3).$implicit,t=I();_(2),Je(t.config.columnConfig.templates[e].icon.name)}}function Ibe(i,n){if(1&i&&(x(0,"div")(1,"span",27),ee(2),C()()),2&i){const e=I(3).$implicit,t=I();_(2),Je(t.config.columnConfig.templates[e].icon.name)}}function Abe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I().$implicit,t=I(2).$implicit;_(1),Je(e[t])}}function Sbe(i,n){if(1&i){const e=Me();x(0,"td",35)(1,"div",37),ie("mouseenter",function(){const o=he(e),s=o.index,r=o.$implicit,a=I(2).$implicit;return pe(I().onHelperText(s,a,r))})("click",function(){const s=he(e).$implicit,r=I(2).$implicit;return pe(I().onColumnLinkClick(r,s))}),$(2,wbe,2,2,"div",8),$(3,kbe,3,1,"div",8),$(4,Ibe,3,1,"div",8),$(5,Abe,2,1,"div",7),C()()}if(2&i){const e=n.$implicit,t=n.index,o=I(2).$implicit,s=I();g("ngClass",qe(8,Sa,0===t&&!s.config.headerDisplay)),_(1),Ei("matTooltip",s.ui.helperText),Ei("matTooltipPosition",s.config.columnConfig.templates[o].helper.position),g("ngSwitch",s.config.columnConfig.templates[o].icon.type)("ngClass",qe(10,Jf,!e[o])),_(1),g("ngSwitchCase","IconImg"),_(1),g("ngSwitchCase","IconMat"),_(1),g("ngSwitchCase","IconPop")}}function Mbe(i,n){1&i&&(x(0,"div"),$(1,Cbe,2,1,"th",20),$(2,Sbe,6,12,"td",34),C())}function Pbe(i,n){if(1&i&&(x(0,"th",22),ee(1),C()),2&i){const e=I(2).$implicit,t=I();_(1),Je(t.config.columnConfig.templates[e].display)}}function Tbe(i,n){if(1&i&&(x(0,"div"),me(1,"img",25),C()),2&i){const e=I().$implicit,t=I(2).$implicit,o=I();_(1),Ei("src",o.config.columnConfig.templates[t].icon.name,tr),Ei("alt",e[t])}}function Ebe(i,n){if(1&i&&(x(0,"div")(1,"mat-icon",26),ee(2),C()()),2&i){const e=I(3).$implicit,t=I();_(2),Je(t.config.columnConfig.templates[e].icon.name)}}function Dbe(i,n){if(1&i&&(x(0,"div")(1,"span",27),ee(2),C()()),2&i){const e=I(3).$implicit,t=I();_(2),Je(t.config.columnConfig.templates[e].icon.name)}}function Obe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I().$implicit,t=I(2).$implicit;_(1),Je(e[t])}}function Rbe(i,n){if(1&i){const e=Me();x(0,"td",31),ie("click",function(){const s=he(e).$implicit,r=I(2).$implicit,a=I();return pe(s[r]?a.onColumnStandardClick(r,s):a.onBubbleEvent("row_right_clicked",s))}),x(1,"div",38),$(2,Tbe,2,2,"div",8),$(3,Ebe,3,1,"div",8),$(4,Dbe,3,1,"div",8),$(5,Obe,2,1,"div",7),C()()}if(2&i){const e=n.$implicit,t=n.index,o=I(2).$implicit,s=I();g("ngClass",qe(6,Sa,0===t&&!s.config.headerDisplay)),_(1),g("ngSwitch",s.config.columnConfig.templates[o].icon.type)("ngClass",qe(8,Jf,!e[o])),_(1),g("ngSwitchCase","IconImg"),_(1),g("ngSwitchCase","IconMat"),_(1),g("ngSwitchCase","IconPop")}}function Fbe(i,n){1&i&&(x(0,"div"),$(1,Pbe,2,1,"th",20),$(2,Rbe,6,10,"td",30),C())}function Lbe(i,n){if(1&i&&(x(0,"th",22),ee(1),C()),2&i){const e=I(2).$implicit,t=I();_(1),Je(t.config.columnConfig.templates[e].display)}}function Nbe(i,n){if(1&i&&(x(0,"div"),me(1,"img",25),C()),2&i){const e=I().$implicit,t=I(2).$implicit,o=I();_(1),Ei("src",o.config.columnConfig.templates[t].icon.name,tr),Ei("alt",e[t])}}function Bbe(i,n){if(1&i&&(x(0,"div")(1,"mat-icon",26),ee(2),C()()),2&i){const e=I(3).$implicit,t=I();_(2),Je(t.config.columnConfig.templates[e].icon.name)}}function Vbe(i,n){if(1&i&&(x(0,"div")(1,"span",27),ee(2),C()()),2&i){const e=I(3).$implicit,t=I();_(2),Je(t.config.columnConfig.templates[e].icon.name)}}function $be(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I().$implicit,t=I(2).$implicit;_(1),Je(e[t])}}function Hbe(i,n){if(1&i){const e=Me();x(0,"td",40),ie("mouseenter",function(){const o=he(e),s=o.index,r=o.$implicit,a=I(2).$implicit;return pe(I().onHelperText(s,a,r))})("click",function(){const s=he(e).$implicit,r=I(2).$implicit,a=I();return pe(s[r]?a.onColumnStandardClick(r,s):a.onBubbleEvent("row_right_clicked",s))}),x(1,"div",38),$(2,Nbe,2,2,"div",8),$(3,Bbe,3,1,"div",8),$(4,Vbe,3,1,"div",8),$(5,$be,2,1,"div",7),C()()}if(2&i){const e=n.$implicit,t=n.index,o=I(2).$implicit,s=I();Ei("matTooltip",s.ui.helperText),Ei("matTooltipPosition",s.config.columnConfig.templates[o].helper.position),g("ngClass",qe(8,Sa,0===t&&!s.config.headerDisplay)),_(1),g("ngSwitch",s.config.columnConfig.templates[o].icon.type)("ngClass",qe(10,Jf,!e[o])),_(1),g("ngSwitchCase","IconImg"),_(1),g("ngSwitchCase","IconMat"),_(1),g("ngSwitchCase","IconPop")}}function zbe(i,n){1&i&&(x(0,"div"),$(1,Lbe,2,1,"th",20),$(2,Hbe,6,12,"td",39),C())}const jbe=function(i){return{"column-search-checkbox":i}};function Gbe(i,n){if(1&i){const e=Me();x(0,"th",43)(1,"mat-checkbox",44,45),ie("change",function(o){he(e);const s=I(3);return pe(o?s.onMasterRowToggleClick():null)}),C()()}if(2&i){const e=I(3);_(1),g("ngClass",qe(3,jbe,null==e.config?null:e.config.searchColumns))("checked",(null==e.config.selection?null:e.config.selection.hasValue())&&e.isAllRowsSelected())("indeterminate",(null==e.config.selection?null:e.config.selection.hasValue())&&!e.isAllRowsSelected())}}function Wbe(i,n){if(1&i){const e=Me();x(0,"td",46)(1,"mat-checkbox",47),ie("click",function(o){return o.stopPropagation()})("change",function(o){const r=he(e).$implicit,a=I(3);return o&&(null==a.config.selection||a.config.selection.toggle(r)),pe(a.onBubbleEvent(o.checked?"row_selected":"row_unselected",r))}),C()()}if(2&i){const e=n.$implicit,t=n.index,o=I(3);g("ngClass",qe(2,Sa,0===t&&!o.config.headerDisplay)),_(1),g("checked",null==o.config.selection?null:o.config.selection.isSelected(e))}}function Ube(i,n){1&i&&(x(0,"div"),$(1,Gbe,3,5,"th",41),$(2,Wbe,2,4,"td",42),C())}function Zbe(i,n){if(1&i&&(x(0,"th",22),ee(1),C()),2&i){const e=I(2).$implicit,t=I();_(1),Je(t.config.columnConfig.templates[e].display)}}function Kbe(i,n){1&i&&$(0,Zbe,2,1,"th",20)}const J4=function(i,n){return{visible:i,hidden:n}};function Ybe(i,n){if(1&i){const e=Me();x(0,"th",49),ie("click",function(){he(e);const o=I(2).$implicit,s=I();return pe(s.onSortColumn(null==s.config.columnConfig?null:s.config.columnConfig.templates[o].name))}),x(1,"div",50)(2,"div"),ee(3),C(),x(4,"div")(5,"mat-icon",51),ee(6),C()()()()}if(2&i){const e=I(2).$implicit,t=I();_(3),Mt(" ",t.config.columnConfig.templates[e].display," "),_(2),g("ngClass",Ii(3,J4,t.tableSort.active===(null==t.config.columnConfig?null:t.config.columnConfig.templates[e].name),t.tableSort.active!==(null==t.config.columnConfig?null:t.config.columnConfig.templates[e].name))),_(1),Je(t.onClickSortIcon(null==t.config.columnConfig?null:t.config.columnConfig.templates[e].name))}}function Xbe(i,n){1&i&&$(0,Ybe,7,6,"th",48)}const Q4=function(i,n){return{"sw-pointer":i,"sw-transparent":n}};function qbe(i,n){if(1&i){const e=Me();x(0,"th",22)(1,"div",52),ee(2),C(),x(3,"div",53)(4,"mat-form-field",54)(5,"input",55,56),ie("keyup",function(o){he(e);const s=I(2).$implicit;return pe(I().onApplySearchValue(o.target.value,s))}),C(),x(7,"mat-icon",57),ie("click",function(){he(e);const o=Qt(6),s=I(2).$implicit,r=I();return o.value="",pe(r.onApplySearchValue("",s))}),ee(8," close "),C()()()()}if(2&i){const e=Qt(6),t=I(2).$implicit,o=I();_(2),Je(null==o.config.columnConfig?null:o.config.columnConfig.templates[t].display),_(5),g("ngClass",Ii(2,Q4,e.value,!e.value))}}function Jbe(i,n){1&i&&$(0,qbe,9,5,"th",20)}function Qbe(i,n){if(1&i){const e=Me();x(0,"mat-icon",57),ie("click",function(){he(e),I();const o=Qt(10),s=I(2).$implicit,r=I();return o.value="",pe(r.onApplySearchValue("",s))}),ee(1," close "),C()}if(2&i){I();const e=Qt(10);g("ngClass",Ii(1,Q4,e.value,!e.value))}}function eve(i,n){if(1&i){const e=Me();x(0,"th",59)(1,"div",60)(2,"div"),ee(3),C(),x(4,"div")(5,"mat-icon",61),ie("click",function(){he(e);const o=I(2).$implicit,s=I();return pe(s.onSortColumn(null==s.config.columnConfig?null:s.config.columnConfig.templates[o].name))}),ee(6),C()()(),x(7,"div",62)(8,"mat-form-field",54)(9,"input",55,56),ie("keyup",function(o){he(e);const s=I(2).$implicit;return pe(I().onApplySearchValue(o.target.value,s))}),C(),$(11,Qbe,2,4,"mat-icon",63),C()()()}if(2&i){const e=Qt(10),t=I(2).$implicit,o=I();_(3),Mt(" ",null==o.config.columnConfig?null:o.config.columnConfig.templates[t].display," "),_(2),g("ngClass",Ii(4,J4,o.tableSort.active===(null==o.config.columnConfig?null:o.config.columnConfig.templates[t].name),o.tableSort.active!==(null==o.config.columnConfig?null:o.config.columnConfig.templates[t].name))),_(1),Je(o.onClickSortIcon(null==o.config.columnConfig?null:o.config.columnConfig.templates[t].name)),_(5),g("ngIf",e.value)}}function tve(i,n){1&i&&$(0,eve,12,7,"th",58)}function ive(i,n){if(1&i&&(ds(0,6),$(1,__e,1,0,"div",7),ee(2," x "),$(3,w_e,6,8,"div",8),$(4,P_e,6,8,"div",8),$(5,F_e,6,8,"div",8),$(6,z_e,6,8,"div",8),$(7,Y_e,3,0,"div",8),$(8,ibe,3,0,"div",8),$(9,lbe,6,8,"div",8),$(10,mbe,6,8,"div",8),$(11,xbe,3,0,"div",8),$(12,Mbe,3,0,"div",8),$(13,Fbe,3,0,"div",8),$(14,zbe,3,0,"div",8),$(15,Ube,3,0,"div",8),$(16,Kbe,1,0,"ng-template",null,9,is),$(18,Xbe,1,0,"ng-template",null,10,is),$(20,Jbe,1,0,"ng-template",null,11,is),$(22,tve,1,0,"ng-template",null,12,is),us()),2&i){const e=n.$implicit,t=I();Ei("matColumnDef",e),Ei("sticky",!0===t.config.columnConfig.templates[e].sticky),g("ngSwitch",t.config.columnConfig.templates[e].template),_(3),g("ngSwitchCase","Standard"),_(1),g("ngSwitchCase","StandardHelper"),_(1),g("ngSwitchCase","Route"),_(1),g("ngSwitchCase","RouteHelper"),_(1),g("ngSwitchCase","RouteIcon"),_(1),g("ngSwitchCase","RouteIconHelper"),_(1),g("ngSwitchCase","Link"),_(1),g("ngSwitchCase","LinkHelper"),_(1),g("ngSwitchCase","LinkIcon"),_(1),g("ngSwitchCase","LinkIconHelper"),_(1),g("ngSwitchCase","Icon"),_(1),g("ngSwitchCase","IconHelper"),_(1),g("ngSwitchCase","Checkbox")}}function nve(i,n){if(1&i&&me(0,"tr",64),2&i){const e=I();g("ngClass",qe(1,Jf,!e.config.headerDisplay))}}function ove(i,n){if(1&i){const e=Me();x(0,"tr",65),ie("click",function(){const s=he(e).$implicit;return pe(I().onClickRow(s))}),C()}if(2&i){const e=n.$implicit;St("ptw-activated-row",I().active.row===e)}}function sve(i,n){1&i&&(x(0,"tr",66)(1,"td",67),ee(2,"No Data Found"),C()())}function rve(i,n){1&i&&me(0,"lib-pop-context-menu",68),2&i&&g("config",I().dom.contextMenu.config)}let eV=(()=>{class i extends Yt{constructor(e,t,o){super(),this.el=e,this._displayRepo=t,this._domRepo=o,this.name="PopTableViewComponent",this.srv={display:void 0},this.ui={helperText:""},this.active={row:void 0},this.dom.configure=()=>new Promise(s=>{this._attachContextMenu(),this.config.matData.sort=this.tableSort,this.ui.helperText="",this.config.selection=new Ud(!0,[]),this.config.headerSticky=!0,setTimeout(()=>{this.config.matData.sort=this.tableSort,this.config.initialSort&&this.tableSort.sort({id:this.config.initialSort,start:this.config.initialSortDirection,disableClear:!0})},500),s(!0)})}onClickSortIcon(e){let o="arrow_drop_down";return this.tableSort.active===e&&"asc"===this.tableSort.direction&&(o="arrow_drop_up"),o}onSortColumn(e){let o="asc";o=this.tableSort.active===e&&"asc"===this.tableSort.direction?"desc":"asc",this.tableSort.direction="asc"===o?"desc":"asc",this.tableSort.sort({id:e,start:o,disableClear:!0})}onClickRow(e){this.config.activateRow&&(this.active.row=e,this.config.onEvent.next({source:this.name,type:"table",name:"activeRow",data:e}))}onColumnStandardClick(e,t){this.config.onEvent.next({source:this.name,type:"table",name:"columnStandardClick",data:{name:e,row:t}})}onColumnRouteClick(e,t){this.config.onEvent.next({source:this.name,type:"table",name:"columnRouteClick",data:{name:e,row:t}})}onHelperText(e,t,o){if(this.ui.helperText="",!o[t])return"";let s=this.config.columnConfig.templates[t].helper.text;if(!s)return"";if(s.includes("alias:")){const r=s.indexOf("alias:"),a=s.includes(" ",r)?s.indexOf(" ",r):s.length,l=String(s).slice(r,a),c=l.split(":");c.shift();const A=this.srv.display.alias(c.shift());s=s.replace(l,A)}if(s.includes("<")){const r=s.split("<");s="";for(const a of r)if(a)if(a.includes(">")){const l=a.split(">");for(const[c,A]of l.entries())A&&(s+=0===c?o[A]?o[A]:"":A)}else s+=a}return this.ui.helperText=s,s}onColumnLinkClick(e,t){this.config.onEvent.next({source:this.name,type:"table",name:"columnLinkClick",data:{name:e,row:t}})}onMasterRowToggleClick(){this.config.selection.hasValue()&&!this.isAllRowsSelected()?(this.config.selection.clear(),this.checkbox.checked=!1):(this.isAllRowsSelected()?this.config.selection.clear():this.config.matData.filteredData.forEach(e=>this.config.selection.select(e)),this.config.onEvent.next({source:this.name,type:"table",name:"rows_selected",data:this.config.selection.selected}))}onApplySearchValue(e,t){this.config.onEvent.next({source:this.name,type:"table",name:"filter",data:{filter:e,col:t}})}isAllRowsSelected(){return this.config.selection.selected.length===this.config.matData.filteredData.length}onBubbleEvent(e,t){this.config.onEvent.next({source:this.name,type:"table",name:e,data:t})}onClearColumnSearches(){this.config.onEvent.next({source:this.name,type:"table",name:"clear-column-filters",data:{}})}trackColumnByItem(e,t){return t||null}trackRowByItemId(e,t){return t?t.id:null}_attachContextMenu(){this.dom.contextMenu.config=new jI,this.dom.contextMenu.configure=(e,t,o)=>{let r,s="";this.config.columnDefinitions[e].route?s=bd(this.config.columnDefinitions[e].route,t):this.config.route&&(s=bd(this.config.route,t)),r=this.config.columnDefinitions[e].internal_name?this.config.columnDefinitions[e].internal_name:t.internal_name?t.internal_name:this.config.internal_name?this.config.internal_name:null,(s||r)&&(o.preventDefault(),this.dom.contextMenu.config.resetOptions(),r&&this.dom.contextMenu.config.addPortalOption(r,t.id?+t.id:+t[r+"_fk"]),s&&this.dom.contextMenu.config.addNewTabOption(s),this.dom.contextMenu.config.x=o.clientX,this.dom.contextMenu.config.y=o.clientY,this.dom.contextMenu.config.toggle.next(!0))},this.dom.setSubscriber("context-menu",this.dom.contextMenu.config.emitter.subscribe(e=>{this.config.onEvent.next(e)}))}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(HI),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-table-view"]],viewQuery:function(e,t){if(1&e&&(ht(eN,7),ht(g_e,5)),2&e){let o;Ke(o=Ye())&&(t.tableSort=o.first),Ke(o=Ye())&&(t.checkbox=o.first)}},inputs:{config:"config"},features:[Re],decls:6,vars:7,consts:[["mat-table","","matSort","","full-width","",1,"table",3,"trackBy","dataSource"],[3,"matColumnDef","ngSwitch","sticky",4,"ngFor","ngForOf"],["mat-header-row","",3,"ngClass",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"ptw-activated-row","click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"config",4,"ngIf"],[3,"matColumnDef","ngSwitch","sticky"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],["HeaderStandard",""],["HeaderSort",""],["HeaderSearch",""],["HeaderSortSearch",""],[4,"ngIf","ngIfThen"],["mat-cell","",3,"ngClass","click","contextmenu",4,"matCellDef"],["mat-cell","",3,"ngClass","click","contextmenu"],["mat-cell","",3,"matTooltip","matTooltipPosition","ngClass","mouseenter","click","contextmenu",4,"matCellDef"],["mat-cell","",3,"matTooltip","matTooltipPosition","ngClass","mouseenter","click","contextmenu"],["mat-cell","",3,"ngClass","matTooltip","matTooltipPosition","mouseenter","click","contextmenu",4,"matCellDef"],["mat-cell","",3,"ngClass","matTooltip","matTooltipPosition","mouseenter","click","contextmenu"],["mat-header-cell","",4,"matHeaderCellDef"],["class","sw-accent site-pointer","mat-cell","",3,"ngClass","click","contextmenu",4,"matCellDef"],["mat-header-cell",""],["mat-cell","",1,"sw-accent","site-pointer",3,"ngClass","click","contextmenu"],[3,"ngSwitch"],[3,"src","alt"],[1,"sw-cursor-pointer"],[1,"sw-pop-icon"],["class","sw-accent site-pointer","mat-cell","",3,"matTooltip","matTooltipPosition","ngClass","mouseenter","click","contextmenu",4,"matCellDef"],["mat-cell","",1,"sw-accent","site-pointer",3,"matTooltip","matTooltipPosition","ngClass","mouseenter","click","contextmenu"],["class","site-pointer","mat-cell","",3,"ngClass","click",4,"matCellDef"],["mat-cell","",1,"site-pointer",3,"ngClass","click"],["class","site-pointer sw-accent","mat-cell","",3,"matTooltip","matTooltipPosition","ngClass","mouseenter","click",4,"matCellDef"],["mat-cell","",1,"site-pointer","sw-accent",3,"matTooltip","matTooltipPosition","ngClass","mouseenter","click"],["class","sw-accent site-pointer","mat-cell","",3,"ngClass",4,"matCellDef"],["mat-cell","",1,"sw-accent","site-pointer",3,"ngClass"],[3,"ngSwitch","ngClass","click"],[3,"ngSwitch","ngClass","matTooltip","matTooltipPosition","mouseenter","click"],[3,"ngSwitch","ngClass"],["class","site-pointer","mat-cell","",3,"matTooltip","matTooltipPosition","ngClass","mouseenter","click",4,"matCellDef"],["mat-cell","",1,"site-pointer",3,"matTooltip","matTooltipPosition","ngClass","mouseenter","click"],["mat-header-cell","","class","checkbox-column",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-column",3,"ngClass",4,"matCellDef"],["mat-header-cell","",1,"checkbox-column"],["color","accent",3,"ngClass","checked","indeterminate","change"],["checkbox",""],["mat-cell","",1,"checkbox-column",3,"ngClass"],["color","accent",3,"checked","click","change"],["class","sortable-header","mat-header-cell","",3,"click",4,"matHeaderCellDef"],["mat-header-cell","",1,"sortable-header",3,"click"],[1,"column-header-sort"],[1,"sort-top-searchable",3,"ngClass"],[2,"padding-top","var(--gap-m)"],[1,"column-sort",2,"padding-top","var(--gap-xs)","margin-bottom","var(--gap-xs)"],["appearance","outline",1,"sw-search",2,"padding-bottom","var(--gap-s)"],["matInput","","placeholder","Search",2,"min-width","0 !important",3,"keyup"],["searchInput",""],["matSuffix","",2,"position","relative","left","10px","top","-2px","font-size","14px",3,"ngClass","click"],["class","sortable-header","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell","",1,"sortable-header"],[1,"column-header-sort",2,"padding-top","var(--gap-xs)","margin-bottom","var(--gap-xs)"],[1,"sort-top-searchable",3,"ngClass","click"],[1,"column-sort"],["style","position: relative; left: 10px; top: -2px; font-size: 14px","matSuffix","",3,"ngClass","click",4,"ngIf"],["mat-header-row","",3,"ngClass"],["mat-row","",3,"click"],[1,"mat-row"],["colspan","12",1,"mat-cell","row-no-data"],[3,"config"]],template:function(e,t){1&e&&(x(0,"table",0),$(1,ive,24,16,"ng-container",1),$(2,nve,1,3,"tr",2),$(3,ove,1,2,"tr",3),$(4,sve,3,0,"tr",4),C(),$(5,rve,1,1,"lib-pop-context-menu",5)),2&e&&(g("trackBy",t.trackRowByItemId)("dataSource",t.config.matData),_(1),g("ngForOf",t.config.columnConfig.visible),_(1),g("matHeaderRowDef",null==t.config.columnConfig?null:t.config.columnConfig.visible)("matHeaderRowDefSticky",t.config.headerSticky),_(1),g("matRowDefColumns",null==t.config.columnConfig?null:t.config.columnConfig.visible),_(2),g("ngIf",null==t.dom.contextMenu?null:t.dom.contextMenu.config))},styles:[".sw-accent[_ngcontent-%COMP%]{color:var(--accent)}.mat-sort-header-container[_ngcontent-%COMP%]{-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:red}.column-sort[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;white-space:nowrap}.sticky-row[_ngcontent-%COMP%]{padding-top:55px}[_nghost-%COMP%]     .table{width:100%;overflow-x:auto}[_nghost-%COMP%]     .mat-mdc-form-field{width:100%}.sort-header[_ngcontent-%COMP%]{position:relative;top:10px}.sort-top[_ngcontent-%COMP%], .sort-top[_ngcontent-%COMP%]:hover{position:relative;opacity:.6;cursor:pointer}.sort-bottom[_ngcontent-%COMP%], .sort-bottom[_ngcontent-%COMP%]:hover{position:relative;top:12px;left:-24px;opacity:.6;cursor:pointer}.ptw-activated-row[_ngcontent-%COMP%]{background:var(--background-2)!important}.sort-top[_ngcontent-%COMP%]:hover, .sort-bottom[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer}.sort-selected[_ngcontent-%COMP%]{color:var(--primary-foreground);opacity:1}.column-header-sort[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.column-search-checkbox[_ngcontent-%COMP%]{position:relative;top:10px}.column-search-clear-all[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;width:75px;z-index:3;color:var(--accent)}.sort-top-searchable[_ngcontent-%COMP%]{display:inherit;height:0px;position:relative;opacity:.6;cursor:pointer;top:-4px;left:5px}.sort-bottom-searchable[_ngcontent-%COMP%]{display:inherit;height:0px;position:relative;opacity:.6;cursor:pointer;top:0}.visible[_ngcontent-%COMP%]{visibility:visible}.hidden[_ngcontent-%COMP%]{visibility:hidden}.sort-bottom-searchable[_ngcontent-%COMP%]:hover{opacity:1}.sortable-header[_ngcontent-%COMP%]{cursor:pointer}.sortable-header[_ngcontent-%COMP%]:hover   .hidden[_ngcontent-%COMP%]{visibility:visible}.mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:var(--background-main-menu)}.mat-mdc-row[_ngcontent-%COMP%]{cursor:pointer!important}.row-no-data[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]     .mat-mdc-form-field-infix, [_nghost-%COMP%]     .mat-form-field{max-width:250px}[_nghost-%COMP%]     .mat-form-field-flex{margin-top:0!important}"],data:{animation:[oy]}}),i})(),cy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,el,ur,fk,v1,Q1,X1,zc,ly,Vk,Vk]}),i})();Tt(Xl,[Gt,ai,ct,kn,HL,ws,NI,eV],[]),Tt(_p,[ai,ct,$o,Gl,kn,ad,wi,In,Ws,Tc,Zl,Ec],[]),Tt(eV,[Gt,ai,ct,wr,pa,yC,ad,ks,Ac,Wr,wi,eN,rN,uk,aN,hk,dk,lN,pk,mk,cN,dN,uN,Pn,f_e],[]);let tV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,Nm,Ol,Ic,kv,jl,Ul,Wh,ea,Mk,uv,el,od,zc,rd,iu,bk,cy,yk]}),i})();Tt(F4,[ct,kN,Mre,N4,PI,TI,BI,VI,$I],[]),Tt(PI,[Gt,ai,ct,wi,kn,ws,$o,sr,an,In,Yf,Pn,ya],[ND]),Tt(TI,[Gt,ai,ct,wi,cu,lu,Pr,an,ya],[]),Tt(BI,[Gt,ai,ct,wi,cu,lu,an,ya],[]),Tt(VI,[Gt,ai,ct,kn,cu,lu,In,ya],[]),Tt($I,[ai,ct,wi,Zr,an,In,sy,Ws],[]),Tt(q4,[ct,Pr,Xl],[]);let GI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,Nm,Rb,Ic,iu,jl,Ul,rd,ny,tV]}),i})();Tt(L4,[Gt,ai,ct,Hw,Ob,wi,kn,ks,nu,Wr,MI],[]);const ave=["header"],lve=["content"],cve=["drawer"],dve=["container"];function uve(i,n){1&i&&(x(0,"header",17,18),me(2,"lib-pop-menu"),C())}const hve=function(i,n){return{"pop-template-full-height":i,"pop-template-content-overflow":n}};let pve=(()=>{class i extends Jo{constructor(e,t,o,s,r,a){var l;super(),l=this,this.el=e,this._routerRepo=t,this._templateRepo=o,this._rendererRepo=s,this.APP_GLOBAL=r,this.APP_THEME=a,this.backdrop=!0,this.menus=[],this.widgets=[],this.filter=!0,this.left=!0,this.right=!0,this.displayMenu=!0,this.name="PopTemplateComponent",this.ui={isOpen:!1,currentWidget:void 0,currentApp:void 0},this.srv={router:void 0,template:void 0,renderer:void 0},this.dom.configure=()=>new Promise(function(){var c=q(function*(A){return yield Promise.all([l._setInitialConfig(),l._removeSiteBackdrop(),l._setWindowUnload(),l._setResetHandler()]),A(!0)});return function(A){return c.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var c=q(function*(A){return l.srv.template.setContentEl(l.content),A(!0)});return function(A){return c.apply(this,arguments)}}()),this.dom.handler.core=(c,A)=>{"widget"===A.name&&this.drawer.toggle()}}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}onEvents(e){"widget"===e.name&&(this.drawer.close(),this.template.render([{type:e.data.widget.component,inputs:{dashboards:this.asset.dashboardData,mode:"view"}}]),this.drawer.open(),this.ui.isOpen=!0)}sentCloseEvent(){this.events.emit({name:"close-drawer",source:this.name,type:"component",data:{}}),this.ui.isOpen=!1}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.currentApp=Bi,e.template.attach("container"),o(!0)});return function(o){return t.apply(this,arguments)}}())}_resetTemplate(){return new Promise(function(){var e=q(function*(t){return t(!0)});return function(t){return e.apply(this,arguments)}}())}_removeSiteBackdrop(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.setSubscriber("theme-backdrop",e.APP_THEME.init.subscribe(s=>{e.dom.setTimeout("remove-backdrop",()=>{e.srv.renderer.removeClass(document.body,"site-backdrop-dark")},0),s&&(e.backdrop=!s)})),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setWindowUnload(){var e=this;return new Promise(function(){var t=q(function*(o){return window.addEventListener("beforeunload",()=>{try{e.APP_GLOBAL._unload.next(!0)}catch(s){window.console.log(s)}}),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setResetHandler(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.setSubscriber("init",e.APP_GLOBAL.init.subscribe(s=>{s&&e._resetTemplate()})),o(!0)});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Ji),P(II),P($r),P("APP_GLOBAL"),P("APP_THEME"))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-template"]],viewQuery:function(e,t){if(1&e&&(ht(ave,5),ht(lve,5),ht(cve,7),ht(dve,7,Ri)),2&e){let o;Ke(o=Ye())&&(t.header=o.first),Ke(o=Ye())&&(t.content=o.first),Ke(o=Ye())&&(t.drawer=o.first),Ke(o=Ye())&&(t.container=o.first)}},hostVars:2,hostBindings:function(e,t){2&e&&St("pop-template-backdrop",t.backdrop)},inputs:{backdrop:"backdrop",menus:"menus",widgets:"widgets",filter:"filter",left:"left",right:"right",displayMenu:"displayMenu"},features:[Re],decls:23,vars:12,consts:[[1,"pop-template"],["class","pop-template-header",4,"ngIf"],[1,"pop-template-section"],[1,"pop-template-aside-left"],[3,"hidden","entityMenus"],[1,"pop-template-main"],["hasBackdrop","false","autosize","","disableClose","true",1,"drawer-container"],["position","end","mode","side","disableClose","true",1,"call-container"],["drawer",""],[1,"pop-template-main-header-wrapper"],[3,"click"],["container",""],["filter",""],[1,"sw-outlet-target",3,"ngClass"],[1,"pop-template-aside-right"],[3,"hidden","widgets","core","isOpen","events"],[1,"pop-template-footer"],[1,"pop-template-header"],["header",""]],template:function(e,t){if(1&e){const o=Me();x(0,"div",0),$(1,uve,3,0,"header",1),x(2,"section",2)(3,"aside",3),me(4,"lib-pop-left-menu",4),C(),x(5,"div",5)(6,"mat-drawer-container",6)(7,"mat-drawer",7,8)(9,"div",9)(10,"h2"),ee(11),C(),x(12,"mat-icon",10),ie("click",function(){return he(o),Qt(8).close(),pe(t.sentCloseEvent())}),ee(13,"clear"),C()(),Go(14,null,11),C(),me(16,"lib-pop-cac-filter",null,12),x(18,"div",13),me(19,"router-outlet"),C()()(),x(20,"aside",14)(21,"lib-pop-widget-bar",15),ie("events",function(r){return t.onEvents(r)}),C()()(),me(22,"footer",16),C()}2&e&&(_(1),g("ngIf",t.displayMenu),_(3),g("hidden",!t.left)("entityMenus",t.menus),_(7),Je(null==t.ui.currentWidget?null:t.ui.currentWidget.name),_(7),g("ngClass",Ii(9,hve,"widget"==t.ui.currentApp,"widget"!=t.ui.currentApp)),_(3),g("hidden",!t.right)("widgets",t.widgets)("core",t.core)("isOpen",t.ui.isOpen))},styles:[":host{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:absolute;inset:0}:host ::ng-deep .mat-mdc-form-field .mat-mdc-form-field-infix{width:0}:host ::ng-deep .mat-form-field-appearance-outline .mat-mdc-form-field-flex{margin-top:0}.pop-template{width:100%;height:100vh;margin:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-y:hidden}.pop-template-backdrop{background:pink}.pop-template-footer{height:0}.pop-template-section{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.pop-template-section-offset{margin-top:48px}.pop-template-main{position:relative;-webkit-box-flex:5;-ms-flex:5;flex:5}.pop-template-content-overflow{position:absolute!important;height:calc(100vh - 55px)!important;left:0;right:0;overflow-y:auto;overflow-x:auto}.pop-template-full-height{height:100vh!important;position:absolute!important;left:0;right:0;overflow-y:auto;overflow-x:auto}.pop-template-aside-left{-webkit-box-flex:0;-ms-flex:0;flex:0;border-right:1px solid var(--disabled);border-bottom:1px solid var(--disabled);-webkit-box-sizing:border-box;box-sizing:border-box;background:var(--background-main-menu)}.pop-template-aside-right{-webkit-box-flex:0;-ms-flex:0;flex:0;border-left:1px solid var(--disabled);border-bottom:1px solid var(--disabled);-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.drawer-container{height:100%;background:var(--background-main-menu)}.pop-template-center{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.pop-template-center div{text-align:center}.call-container{height:calc(100vh - 50px)!important}:host ::ng-deep mat-drawer{height:calc(100vh - 50px)}.mat-drawer-inner-container{border-left:1px solid var(--border)}.pop-template-main-header-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:1rem;position:sticky;top:0;background-color:var(--bg-1);color:var(--text);z-index:9;border-bottom:1px solid var(--border)}.pop-template-main-header-wrapper h2{margin:0}.pop-template-main-header-wrapper mat-icon{cursor:pointer}\n"],encapsulation:2}),i})();class iV{constructor(n){this.id=n.id||0,this.description=n.description||"",this.name=n.name,this.entity_id=n.entity_id||null,this.path=n.path,this.short_description=n.short_description||"",this.sort=n.sort||0,this.internal_name=n.internal_name||null,this.hasAlias=!!n.hasAlias,this.originalPath=n.originalPath,this.originalName=n.originalName,Ne(n.icon,!0)?(this.icon=n.icon,this._setIcon()):this._setCharacters()}_setPath(){const n=this.path.split("/");this.path="/"+n[n.length-1]}_setIcon(){const n=this.icon.split(":");2===n.length&&([this.iconType,this.icon]=n)}_setCharacters(){this.character_icon="";const n=this.name.split(" ");n.length>=2?(this.character_icon+=n[0].charAt(0).toLocaleUpperCase(),this.character_icon+=n[1].charAt(0).toLocaleUpperCase()):(this.character_icon+=this.name.charAt(0).toLocaleUpperCase(),this.character_icon+=this.name.charAt(1).toLocaleLowerCase())}}let Qf=(()=>{class i{constructor(){this.store=new Map,this.mapById=new Map,this.mapByRoute=new Map,this.setEntityParams({id:0,alias:null,access:{can_create:1,can_read:1,can_update:1,can_delete:0,can_destroy:0},can_extend:!1,path:"/auth/user",param:"",api:"/auth/user",internal_name:"prime_user",name:"Prime User"}),this.setEntityParams({id:0,alias:null,access:{can_create:0,can_read:1,can_update:1,can_delete:0,can_destroy:0},can_extend:!1,path:"/fields",param:"",api:"/fields",internal_name:"field",name:"Fields"}),this.setEntityParams({id:0,alias:null,access:{can_create:0,can_read:1,can_update:1,can_delete:0,can_destroy:0},can_extend:!1,path:"/",param:"",api:"/",internal_name:"dev_tool",name:"Dev Tools"})}getEntityParamsWithPath(e,t=null){let o,s;const r=this.mapByRoute.get(e);return r&&this.store.has(r)&&(o=this.store.get(r)),o&&(s={alias:o.alias,api:o.api,app:o.app,id:o.id,can_extend:o.can_extend,internal_name:o.internal_name,name:o.name,path:o.path,param:o.param},t&&(s.entityId=t)),s}setEntityParams(e){if(Y(e,!0))if(Y(e.access,!0)?Object.keys(e.access).map(t=>{e.access[t]=+e.access[t]}):e.access={can_create:0,can_read:0,can_update:0,can_delete:0,can_destroy:0},this.mapById.set(+e.id,e.internal_name),this.mapByRoute.set(Yl(e.name),e.internal_name),this.store.has(e.internal_name)){let t=this.store.get(e.internal_name);t=co(t,e),this.store.set(e.internal_name,t)}else this.store.set(e.internal_name,e)}hasParams(e){return this.store.has(e)}getEntityParams(e,t=null){let o;Vi(e)&&(e=this.mapById.get(+e));const s=this.store.get(e+"");return s&&(o={alias:s.alias,api:s.api,app:s.app,id:s.id,can_extend:s.can_extend,internal_name:s.internal_name,name:s.name,path:s.path,param:s.param},t&&(o.entityId=t)),o}getAccess(e,t){let o=null;if(Vi(e)&&(e=this.mapById.get(+e)),this.store.has(e+"")){const s=this.store.get(e+"");o=t&&t in s.access?s.access[t]:s.access}return o}getAlias(e){let t=null;if(Vi(e)&&(e=this.mapById.get(+e)),this.store.has(e+"")){const o=this.store.get(e+"");Y(o.alias,!0)&&(t=o.alias)}return t}checkAccess(e,t){return Vi(e)&&(e=this.mapById.get(+e)),!!this.store.has(e+"")&&!!this.store.get(e+"").access[t]}getStore(){return[...this.store.values()]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function mve(i,n){if(1&i&&(x(0,"mat-icon",14),ee(1),C()),2&i){const e=I().$implicit,t=I();g("matTooltip",e.name)("matTooltipPosition","right")("matTooltipDisabled",t.dom.state.open),_(1),Mt(" ",e.icon," ")}}function fve(i,n){if(1&i&&(x(0,"span",15),ee(1),C()),2&i){const e=I().$implicit,t=I();g("matTooltip",e.name)("matTooltipPosition","right")("matTooltipDisabled",t.dom.state.open),_(1),Mt(" ",e.icon," ")}}function gve(i,n){if(1&i&&(x(0,"div",16),ee(1),C()),2&i){const e=I().$implicit,t=I();g("matTooltip",e.name)("matTooltipPosition","right")("matTooltipDisabled",t.dom.state.open),_(1),Mt(" ",e.character_icon," ")}}function _ve(i,n){if(1&i&&(x(0,"div",6)(1,"a",7)(2,"div",8),$(3,mve,2,4,"mat-icon",9),$(4,fve,2,4,"span",10),$(5,gve,2,4,"div",11),C(),x(6,"div",12)(7,"span",13),ee(8),C()()()()),2&i){const e=n.$implicit,t=I();_(1),g("routerLink",t.dom.state.locked?"":e.path)("routerLinkActive",t.dom.state.locked?"":"pop-left-menu-item-header-active"),_(2),g("ngIf",e.iconType&&"materials"===e.iconType),_(1),g("ngIf",e.iconType&&"pop"===e.iconType),_(1),g("ngIf",!e.iconType&&e.character_icon),_(3),Je(e.name)}}function bve(i,n){1&i&&me(0,"lib-main-spinner")}function vve(i,n){1&i&&(x(0,"span",17),ee(1,"H"),C())}function yve(i,n){1&i&&(x(0,"span",18),ee(1,"I"),C())}const xve=function(i,n,e){return{"pop-left-menu-closed":i,"pop-left-menu-open":n,"sw-disabled":e}},Cve=function(i){return{"sw-hidden":i}};let wve=(()=>{class i extends Yt{constructor(e,t,o,s,r,a){var l;super(),l=this,this.el=e,this._routerRepo=t,this._paramRepo=o,this._zoneRepo=s,this.APP_GLOBAL=r,this.APP_MENUS=a,this.entityMenus=[],this.hidden=!1,this.name="PopLeftMenuComponent",this.srv={router:void 0,param:void 0,zone:void 0},this.asset={siteVar:"App.LeftMenu.open"},this.ui={},this.dom.configure=()=>new Promise(function(){var c=q(function*(A){return yield Promise.all([l._setInitialConfig()]),A(!0)});return function(A){return c.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var c=q(function*(A){return yield Promise.all([l._setOpenedState()]),A(!0)});return function(A){return c.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.APP_GLOBAL.isOpen()?(Y(ut,!0)&&ut.init(e.name,"Public App",e.entityMenus),e.hidden=e.APP_GLOBAL.isEntities()&&!Y(sl)||0===e.entityMenus.length):(e._displayMenus(),e.dom.setSubscriber("init",e.APP_GLOBAL.init.subscribe(function(){var s=q(function*(r){r&&(e.dom.state.verified=yield e.APP_GLOBAL.isVerified(),e._displayMenus())});return function(r){return s.apply(this,arguments)}}())),e.dom.setSubscriber("state",e.APP_GLOBAL.state.subscribe(s=>{s&&"template"===s.type&&"close"===s.name&&"left"===s.value?!e.dom.state.locked&&e.dom.state.open&&e.onToggleMenu():s&&"template"===s.type&&"open"===s.name&&"left"===s.value?!e.dom.state.locked&&!e.dom.state.open&&e.onToggleMenu():s&&"template"===s.type&&"locked"===s.name?e.dom.state.locked=!!s.value:s&&"template"===s.type&&"minimal"===s.name&&(e.dom.state.minimal=!!s.value,e.dom.state.minimal&&e.dom.state.open&&e.onMenuState(!1))}))),o(!0)});return function(o){return t.apply(this,arguments)}}())}onMenuState(e){this.dom.state.open=e,this.dom.state.closed=!e,Oi(this.asset.siteVar,this.dom.state.open),window.dispatchEvent(new Event("onWindowResize"))}onToggleMenu(){this.dom.state.locked||(this.dom.state.open=!this.dom.state.open,this.dom.state.closed=!this.dom.state.open,Oi(this.asset.siteVar,this.dom.state.open),window.dispatchEvent(new Event("onWindowResize")))}ngOnDestroy(){super.ngOnDestroy()}_displayMenus(){var e=this;this.dom.setTimeout("init",q(function*(){const t=yield e._setMenus();e.log.debug("_displayMenus",t),Y(ut,!0)&&ut.init(e.name,"Private App",e.entityMenus),De(t,!0)&&(e.entityMenus=t),e.hidden=e.APP_GLOBAL.isEntities()&&!Y(sl)||0===e.entityMenus.length,e.dom.state.verified&&(yield e._checkDefaultRoute())}),5)}_setMenus(){var e=this;return new Promise(function(){var t=q(function*(o){let s=[];const r={};return e.APP_GLOBAL.isEntities()&&Y(Mr,["menu"])&&(e.log.info("_setMenus",Mr.menu),Object.keys(Mr.menu).map(a=>{if(Y(Mr.menu[a])){const l=Mr.menu[a];if(l.originalPath=l.path,l.originalName=l.name,Vi(l.entity_id,!0)){const c=e.srv.param.getEntityParams(l.entity_id);if(e.log.debug(`verify menu entity:${l.entity_id}`,c),Y(c,["id","internal_name"])&&e.srv.param.checkAccess(c.internal_name,"can_read")){if(e.log.debug(`Allowed Access menu entity:${l.entity_id}`,c),l.id=+l.entity_id,l.internal_name=c.internal_name,e.APP_GLOBAL.isAliases()&&Y(c.alias,["name","plural"])){const A=c.alias;l.hasAlias=!0,l.name=jt(A.plural),l.path=Yl(A.plural),r[Yl(A.plural)]=l.originalPath}else l.hasAlias=!1;s.push(new iV(l))}else Y(ut,!0)&&ut.debug(e.name,"Cannot view menu:",l)}else s.push(new iV(l))}}),It(e.APP_MENUS.init)&&(s=e.APP_MENUS.init(s.sort(ko("sort")))),function Ade(i){i&&"object"==typeof i&&(Ide=i)}(r),e.APP_MENUS.set(s)),o(s)});return function(o){return t.apply(this,arguments)}}())}_setOpenedState(){var e=this;return q(function*(){const t=rs(e.asset.siteVar,!0);e.dom.state.open="boolean"==typeof t&&t,e.dom.state.closed=!e.dom.state.open})()}_checkDefaultRoute(){var e=this;return new Promise(function(){var t=q(function*(o){if(e.srv.router.config.length>0&&De(e.entityMenus,!0)){const s=e.srv.router.config.find(a=>"**"===a.path);e.log.debug("Set Default Route:",s),!s&&e._isValidRoute(e.entityMenus[0].path)&&(e.srv.router.config.push({path:"**",redirectTo:e.entityMenus[0].path}),Y(ut,!0)&&ut.debug(e.name,"Default Route Wildcard **",e.entityMenus[0].path));const r=window.location.href.split(`${Bi}`)[1];e._isValidRoute(r)?(e.log.debug("Invalid Path",r),e._fallBackUrlRoute()):e._fallBackMenuRoute()}else Bi&&!["home","user","widget"].includes(Bi)&&(window.location.href=window.location.protocol+"//"+window.location.host+"/home");return o(!0)});return function(o){return t.apply(this,arguments)}}())}_fallBackMenuRoute(){Y(ut,!0)&&ut.init(this.name,"Fallback Menu Route",this.entityMenus[0].path),De(this.entityMenus,!0)&&this._isValidRoute(this.entityMenus[0].path)?(this.log.debug("Fallback Menu Route",this.entityMenus[0].path),this.srv.router.navigate([this.entityMenus[0].path]).catch(()=>{this.log.debug("Could not find route"),this._fallbackSystemRoute()})):this._fallbackSystemRoute()}_fallBackUrlRoute(){let e=window.location.href.split(Bi)[1];e=e.split("?")[0],this.log.debug("Fallback url route: ",e),this._isValidRoute(e)?(Y(ut,!0)&&ut.init(this.name,"Current Route",e),this.srv.zone.run(()=>{this.srv.router.navigate([e],{queryParams:this._getUrlParams()}).catch(()=>{this._fallbackSystemRoute()}).then(()=>{this.srv.router.url.includes(e)||this._fallbackSystemRoute()})})):(this.log.warn("Invalid url route: ",e),this._fallbackSystemRoute())}_fallbackSystemRoute(){this.log.warn("fallbackSystemRoute"),this.dom.state.verified?this.srv.router.navigate(["/system/route"],{skipLocationChange:!0}).then():this.srv.router.navigate(["/"]).then()}_isVerifiedMenusDifferent(e){return!aI(this.entityMenus,e)}_isValidRoute(e){return!(!Ne(Bi,!0)||"home"!==Bi)||kt(e,!1)&&Ne(e,!0)&&"/"!==e&&"null"!==e&&!String(e).includes("/error/")}_getUrlParams(){const e={};for(const t of window.location.search.slice(1).split("&")){if(""===t)continue;const o=t.split("="),s=decodeURIComponent;e[s(o[0])]=!(o.length>=2)||s(o[1])}return e}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Ji),P(Qf),P(Bt),P("APP_GLOBAL"),P("APP_MENUS"))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-left-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&St("sw-hidden",t.hidden)},inputs:{entityMenus:"entityMenus",hidden:"hidden"},features:[Re],decls:7,vars:12,consts:[[1,"pop-left-menu",3,"ngClass"],["class","pop-left-menu-item",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-icon-button","","disableRipple","true",1,"pop-left-menu-toggle",3,"ngClass","click"],["class","sw-pop-icon","id","left-nav-open",4,"ngIf"],["class","sw-pop-icon","id","left-nav-close",4,"ngIf"],[1,"pop-left-menu-item"],[1,"pop-left-menu-item-header",3,"routerLink","routerLinkActive"],[1,"pop-left-menu-icon-container"],[3,"matTooltip","matTooltipPosition","matTooltipDisabled",4,"ngIf"],["class","sw-pop-icon",3,"matTooltip","matTooltipPosition","matTooltipDisabled",4,"ngIf"],["class","sw-circle-id mat-subtitle-2",3,"matTooltip","matTooltipPosition","matTooltipDisabled",4,"ngIf"],[1,"pop-left-menu-label-container"],[1,"mat-body"],[3,"matTooltip","matTooltipPosition","matTooltipDisabled"],[1,"sw-pop-icon",3,"matTooltip","matTooltipPosition","matTooltipDisabled"],[1,"sw-circle-id","mat-subtitle-2",3,"matTooltip","matTooltipPosition","matTooltipDisabled"],["id","left-nav-open",1,"sw-pop-icon"],["id","left-nav-close",1,"sw-pop-icon"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"mat-nav-list"),$(2,_ve,9,6,"div",1),C(),$(3,bve,1,0,"lib-main-spinner",2),x(4,"button",3),ie("click",function(){return t.onToggleMenu()}),$(5,vve,2,0,"span",4),$(6,yve,2,0,"span",5),C()()),2&e&&(g("ngClass",fs(6,xve,t.dom.state.closed,t.dom.state.open,t.dom.state.locked)),_(2),g("ngForOf",t.entityMenus),_(1),g("ngIf",t.dom.state.loader),_(1),g("ngClass",qe(10,Cve,t.dom.state.locked)),_(1),g("ngIf",t.dom.state.open),_(1),g("ngIf",t.dom.state.closed))},dependencies:[Gt,ai,ct,Dm,ow,wi,Pn,BL,zh,Ts],styles:[".pop-left-menu[_ngcontent-%COMP%]{height:100vh;padding:20px 0 0;margin:0;overflow-x:hidden;overflow-y:auto}.pop-left-menu-open[_ngcontent-%COMP%]{width:256px;-webkit-transition:width .5s;transition:width .5s}.pop-left-menu-closed[_ngcontent-%COMP%]{width:80px;-webkit-transition:width .5s;transition:width .5s}.pop-left-menu-item[_ngcontent-%COMP%]{position:relative;display:block;min-height:var(--gap-xl);padding:0;margin:0;cursor:pointer;outline:0;white-space:nowrap;overflow:hidden}.pop-left-menu-item-header[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;height:var(--gap-xl);width:256px;padding:0;margin:0;-webkit-box-align:center;-ms-flex-align:center;align-items:center;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;clear:both;border-left:4px solid transparent;-webkit-transition:background-color .35s,border-color .35s;transition:background-color .35s,border-color .35s;border-left-width:var(--gap-xxs);border-left-style:solid;border-left-color:transparent}.pop-left-menu-item-header-active[_ngcontent-%COMP%]{border-left-width:var(--gap-xxs);border-left-style:solid;border-left-color:var(--primary-500)!important;background-color:var(background-item-menu)!important;height:var(--gap-xl)}.pop-left-menu-item-header-active[_ngcontent-%COMP%]   span.mat-body[_ngcontent-%COMP%]{font-weight:700}.pop-left-menu-label-container[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:40px;padding:12px 0 0;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;float:left;text-align:left;color:var(--text)}.pop-left-menu-icon-container[_ngcontent-%COMP%]{position:relative;width:80px;height:40px;padding-left:var(--gap-lm);padding-right:var(--gap-s);margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;float:left}.pop-left-menu-icon-container[_ngcontent-%COMP%]   .sw-circle-id[_ngcontent-%COMP%]{position:absolute;top:4px}.pop-left-menu-item-header[_ngcontent-%COMP%]:hover{background:var(--background-item-menu)!important}.pop-left-menu-toggle[_ngcontent-%COMP%]{position:fixed;font-size:14px;margin:0 0 15px 12px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;float:left;bottom:0;border-radius:50%;background:transparent;z-index:1;pointer-events:all!important;opacity:1!important}"]}),i})(),nV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,Ol,Ir,Ic,iu,uv,jl,ea]}),i})();function kve(i,n){1&i&&me(0,"mat-progress-spinner",6)}const oV=function(i){return{active:i}};function Ive(i,n){if(1&i&&(x(0,"div",8)(1,"span",9),ee(2),C(),x(3,"i",10),ee(4),C()()),2&i){const e=I(2).$implicit,t=I();g("ngClass",qe(3,oV,e.name==(null==t.ui.selectedWidget?null:t.ui.selectedWidget.name))),_(2),Je(e.name),_(2),Mt(" ",e.icon," ")}}function Ave(i,n){if(1&i&&(ds(0),$(1,Ive,5,5,"div",7),us()),2&i){const e=I(2);_(1),g("ngIf",!e.dom.state.loader)}}function Sve(i,n){if(1&i&&(x(0,"div",8)(1,"span",9),ee(2),C(),x(3,"i",10),ee(4),C()()),2&i){const e=I(2).$implicit,t=I();g("ngClass",qe(3,oV,e.name==(null==t.ui.selectedWidget?null:t.ui.selectedWidget.name))),_(2),Je(e.name),_(2),Mt(" ","light"==t.ui.theme?e.lightIcon:e.darkIcon," ")}}function Mve(i,n){if(1&i&&(ds(0),$(1,Sve,5,5,"div",7),us()),2&i){const e=I(2);_(1),g("ngIf",!e.dom.state.loader)}}function Pve(i,n){if(1&i){const e=Me();x(0,"div",3),ie("click",function(){const s=he(e).$implicit;return pe(I().onClick(s))}),$(1,kve,1,0,"mat-progress-spinner",4),$(2,Ave,2,1,"ng-container",5),$(3,Mve,2,1,"ng-container",5),C()}if(2&i){const e=n.$implicit,t=I();_(1),g("ngIf",t.dom.state.loader),_(1),g("ngIf","Change Theme"!==e.name),_(1),g("ngIf","Change Theme"===e.name)}}const Tve=function(i,n){return{"pop-widget-bar-open":i,"pop-widget-bar-closed":n}};let Eve=(()=>{class i extends Jo{set isOpen(e){e||(this.ui.selectedWidget=null)}constructor(e,t,o,s){var r;super(),r=this,this.APP_GLOBAL=e,this.APP_WIDGETS=t,this._baseRepo=o,this.env=s,this.hidden=!1,this.widgets=[],this.events=new tt,this.name="PopWidgetBarComponent",this.srv={base:void 0},this.themeEnt={path:"assets/css/",themes:[{fileName:"pt-default-dark.css",title:"Default Dark",type:"dark",primary:"#FF9800",accent:"#2196F3",selected:!1},{fileName:"pt-default-light.css",title:"Default Light",type:"light",primary:"#FF9800",accent:"#2196F3",selected:!0},{fileName:"pt-green-dark.css",title:"Green Dark",type:"dark",primary:" green",accent:"#0D8BD9",selected:!1},{fileName:"pt-green-light.css",title:"Green Light",type:"light",primary:"green",accent:"#0D8BD9",selected:!1},{fileName:"pt-blue-dark.css",title:"Blue Dark",type:"dark",primary:"#2196F3",accent:"#2196F3",selected:!1},{fileName:"pt-blue-light.css",title:"Blue Light",type:"light",primary:"#2196F3",accent:"#2196F3",selected:!1},{fileName:"pt-purple-dark.css",title:"Purple Dark",type:"dark",primary:"#9C27B0",accent:"#2196F3",selected:!1},{fileName:"pt-purple-light.css",title:"Purple Light",type:"light",primary:"#9C27B0",accent:"#2196F3",selected:!1}]},this.asset={currentThemeFile:""},this.ui={widgets:[],selectedWidget:void 0,theme:"light"},this.dom.configure=()=>new Promise(function(){var a=q(function*(l){return yield Promise.all([r._setInitialConfig()]),l(!0)});return function(l){return a.apply(this,arguments)}}()),this.dom.handler.bubble=(a,l)=>{"close-drawer"===l.name&&(this.ui.selectedWidget=null)}}ngOnInit(){super.ngOnInit()}onToggleMenu(){this.dom.state.open=!this.dom.state.open,this.dom.state.closed=!this.dom.state.open,window.dispatchEvent(new Event("onWindowResize"))}onClick(e){if(this.dom.state.loader=!0,"Clear Cache"==e.name)this.srv.base.resetLocalStorage();else if("Chat"==e.name){const t=`scrollbars=no, status=no, location=no,left=100,width=350,height=${screen.height}`,o=window.location.protocol+"//"+window.location.host+"/widget/chat";window.open(o,"chat",t)}else"Clear Server"==e.name?Ar([gt.doDelete("system/server/cache"),gt.doDelete("system/server/opcache"),gt.doPatch("apps/routes",{})]).subscribe(()=>window.location.reload()):"Change Theme"==e.name?this.updateTheme():(this.events.emit({name:"widget",source:this.name,target:"PopTemplateComponent",type:"component",data:{widget:e}}),this.ui.selectedWidget=e);this.dom.state.loader=!1}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.state.open=!1,e.dom.state.closed=!0,e.dom.setSubscriber("init",e.APP_GLOBAL.init.subscribe(s=>{s&&(e._displayWidgets(),e._getTheme())})),o(!0)});return function(o){return t.apply(this,arguments)}}())}_displayWidgets(){return this.hidden=!((!this.APP_GLOBAL.isEntities()||Y(sl))&&0!==this.widgets.length),lo&&De(this.widgets,!0)&&(this.ui.widgets=this.widgets.filter(e=>{if(e.developer&&sl.id<=12||!e.developer)return{...e}})),!0}_getTheme(){const e=sessionStorage.getItem("App")?JSON.parse(sessionStorage.getItem("App")):{themeContrast:"light"};this.ui.theme=e.themeContrast?e.themeContrast:"light";const o=document.getElementById("themeFileEle").href.replace(window.location.protocol+"//"+window.location.host+"/"+Bi+"/","");this.asset.currentThemeFile="pt-"+o}updateTheme(){const e=this.themeEnt.themes.find(o=>o.fileName==this.asset.currentThemeFile);if(e){const s=e.fileName.replace(this.ui.theme,"light"==this.ui.theme?"dark":"light"),a=`${this.themeEnt.themes.find(l=>l.fileName==s).fileName.replace("pt-","")}`;document.getElementById("themeFileEle").href=a}else document.getElementById("themeFileEle").href="light"==this.ui.theme?" assets/css/pt-default-dark.css":" assets/css/pt-default-light.css";this.ui.theme="light"==this.ui.theme?"dark":"light";const t=this.srv.base.getAuthDetails();if(Y(t.users)&&zt.id in t.users){const o=t.users[zt.id];Y(o.setting,["theme_contrast"])&&(o.setting.theme_contrast=this.ui.theme,this.srv.base.setAuthDetails(t))}}}return i.\u0275fac=function(e){return new(e||i)(P("APP_GLOBAL"),P("APP_WIDGETS"),P(Ho),P("env"))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-widget-bar"]],hostVars:2,hostBindings:function(e,t){2&e&&St("sw-hidden",t.hidden)},inputs:{hidden:"hidden",widgets:"widgets",isOpen:"isOpen"},outputs:{events:"events"},features:[Ct([ii]),Re],decls:3,vars:5,consts:[[1,"pop-widget-bar-container",3,"ngClass"],[1,"pop-widget-bar-layout"],["class","pop-widget-item",3,"click",4,"ngFor","ngForOf"],[1,"pop-widget-item",3,"click"],["color","primary","mode","indeterminate","diameter","20",4,"ngIf"],[4,"ngIf"],["color","primary","mode","indeterminate","diameter","20"],["class","tooltip content-wrapper mat-elevation-z2",3,"ngClass",4,"ngIf"],[1,"tooltip","content-wrapper","mat-elevation-z2",3,"ngClass"],[1,"tooltiptext"],[1,"material-icons","sw-pointer"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1),$(2,Pve,4,3,"div",2),C()()),2&e&&(g("ngClass",Ii(2,Tve,t.dom.state.open,t.dom.state.closed)),_(2),g("ngForOf",t.ui.widgets))},dependencies:[Gt,ai,ct,gf],styles:[".pop-widget-bar-container[_ngcontent-%COMP%]{height:100vh;margin:0}.pop-widget-bar-open[_ngcontent-%COMP%]{width:255px;-webkit-transition:width .5s;transition:width .5s}.pop-widget-bar-closed[_ngcontent-%COMP%]{width:79px;-webkit-transition:width .5s;transition:width .5s;background-color:var(--background-main-menu)}.pop-widget-bar-icon-container[_ngcontent-%COMP%]{width:79px;position:relative;display:block;float:right}.active[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-800)}.pop-widget-item[_ngcontent-%COMP%]{width:100%;padding-bottom:var(--gap-s);padding-top:var(--gap-s);position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;float:left}.pop-widget-item[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:var(--gap-s);border-radius:50%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.pop-widget-item[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]:hover{font-weight:700;color:var(--primary-800)}.pop-widget-item[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}.pop-widget-bar-toggle[_ngcontent-%COMP%]{position:fixed;width:40px;height:40px;padding:10px 30px 30px 26px;margin:0 0 30px;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;bottom:0;border-radius:50%}.pop-widget-bar-toggle[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]{background-color:var(--bg-3)}[_nghost-%COMP%]     .mat-drawer-container{background-color:var(--background-item-menu)!important;height:calc(100vh - 50px);width:100vw;position:absolute;top:50px;left:0}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block;border:1px solid var(--border)}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;min-width:120px;background-color:var(--background-item-menu);border:1px solid var(--border);color:var(--primary-800);text-align:center;padding:5px;border-radius:6px;left:-9rem;position:absolute;z-index:100000}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}"]}),i})(),sV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,jl,p1]}),i})();function Dve(i,n){if(1&i){const e=Me();x(0,"lib-pop-cac-filter-view",2),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C()}}let rV=(()=>{class i extends Yt{constructor(e,t,o){var s;super(),s=this,this.el=e,this._filterRepo=t,this.APP_GLOBAL=o,this.hidden=!1,this.name="PopCacFilterComponent",this.srv={filter:void 0},this.asset={filter:void 0},this.ui={filterBar:void 0,entities:[]},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return yield Promise.all([s._setInitialConfig()]),a(!0)});return function(a){return r.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onBubbleEvent(e){if("filter"===e.type)switch(e.name){case"apply":this.srv.filter.setFilter(e.data);break;case"clear":this.srv.filter.setFilter({});break;case"state":"open"===e.model&&(Xn(`Business.${zt.id}.Filter.open`,e.data),this.dom.setTimeout("set-filter-height",()=>{const t=this.srv.filter.getElHeight();t&&Xn(`Business.${zt.id}.Filter.height`,t)},0))}this.srv.filter.onChange(e)}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.filterBar=e.srv.filter.getConfig(),Y(e.ui.filterBar)||(e.ui.filterBar={}),e.srv.filter.registerDomContainer(e.el),Y(zt,["id"])&&e.APP_GLOBAL.isFilterBar()?e.ui.filterBar.active&&(e.asset.filter=e.srv.filter.getFilter(),e.srv.filter.setActive(!e.hidden)):(e.hidden=!0,e.ui.filterBar.active=!1),o(!0)});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(fp),P("APP_GLOBAL"))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-cac-filter"]],hostVars:2,hostBindings:function(e,t){2&e&&St("sw-hidden",t.hidden)},inputs:{hidden:"hidden",config:"config"},features:[Re],decls:2,vars:1,consts:[[1,"pop-client-filter-container"],[3,"events",4,"ngIf"],[3,"events"]],template:function(e,t){1&e&&(x(0,"div",0),$(1,Dve,1,0,"lib-pop-cac-filter-view",1),C()),2&e&&(_(1),g("ngIf",null==t.ui.filterBar?null:t.ui.filterBar.active))},styles:[".pop-client-filter-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0}"]}),i})();function Ove(i,n){1&i&&me(0,"mat-progress-bar",11)}const xu=function(i){return{"sw-hidden":i}},Rve=function(i){return{"cac-filter-selected":i}};function Fve(i,n){if(1&i){const e=Me();x(0,"div",12)(1,"div",13),me(2,"div",14),x(3,"mat-form-field",15)(4,"mat-label"),ee(5),C(),x(6,"input",16),ie("ngModelChange",function(o){return pe(he(e).$implicit.selectedText=o)}),C(),x(7,"div",17)(8,"mat-icon",18),ie("click",function(){const s=he(e).$implicit;return pe(I(2).onToggleOpen(s.internal_name))}),ee(9," filter_list "),C()()()()()}if(2&i){const e=n.$implicit;g("ngClass",qe(8,xu,!e.visible)),_(2),g("ngClass",qe(10,Rve,e.indeterminate)),_(3),Je(e.name),_(1),g("matTooltip",e.selectedText)("readonly",!0)("ngModel",e.selectedText),_(1),g("matTooltipShowDelay",500)("matTooltip",e.totalText)}}const Lve=function(i,n){return{"sw-disabled":i,"sw-pointer":n}};function Nve(i,n){if(1&i){const e=Me();x(0,"div",19),ie("click",function(){return he(e),pe(I(2).onApplyFilter())}),ee(1," APPLY "),C()}if(2&i){const e=I(2);g("ngClass",Ii(1,Lve,e.ui.config.invalid,!e.ui.config.invalid))}}function Bve(i,n){if(1&i){const e=Me();x(0,"div",20),ie("click",function(){return he(e),pe(I(2).onResetFilter())}),ee(1," RESET "),C()}}function Vve(i,n){if(1&i){const e=Me();x(0,"div",32)(1,"mat-checkbox",33),ie("ngModelChange",function(o){return he(e),pe(I().$implicit.checkAll=o)})("change",function(){he(e);const o=I().$implicit;return pe(I(3).onCheckAll(o))}),C()()}if(2&i){const e=I().$implicit;et("margin-left",3,"px"),_(1),et("margin-right",1,"px"),g("ngModel",e.checkAll)("disabled",!e.totalVisible)("indeterminate",e.indeterminate)}}function $ve(i,n){if(1&i){const e=Me();x(0,"div",40),ie("click",function(o){he(e);const s=I().$implicit,r=I().$implicit;return pe(I(3).onChangeRadio(o,r,s.id))}),ee(1),x(2,"small",41),ee(3),C()()}if(2&i){const e=I().$implicit;_(1),Mt(" ",e.name," "),_(2),Je(e.id)}}function Hve(i,n){if(1&i){const e=Me();x(0,"div",40),ie("click",function(o){he(e);const s=I().$implicit,r=I().$implicit;return pe(I(3).onChangeCheckbox(o,r,s.id))}),ee(1),x(2,"small",41),ee(3),C()()}if(2&i){const e=I().$implicit;_(1),Mt(" ",e.name," "),_(2),Je(e.id)}}function zve(i,n){if(1&i){const e=Me();x(0,"div",34)(1,"div",32)(2,"mat-checkbox",35),ie("ngModelChange",function(o){const r=he(e).$implicit;return pe(I().$implicit.selected[r.id]=o)})("click",function(o){const r=he(e).$implicit,a=I().$implicit;return pe(I(3).onChangeCheckbox(o,a,r.id))}),C(),x(3,"div",36)(4,"mat-icon",37),ie("click",function(o){const r=he(e).$implicit,a=I().$implicit;return pe(I(3).onChangeRadio(o,a,r.id))}),ee(5," radio_button_unchecked "),C(),x(6,"mat-icon",38),ie("click",function(o){const r=he(e).$implicit,a=I().$implicit;return pe(I(3).onChangeRadio(o,a,r.id))}),ee(7," radio_button_checked "),C()()(),$(8,$ve,4,2,"div",39),$(9,Hve,4,2,"div",39),C()}if(2&i){const e=n.$implicit,t=I().$implicit;_(2),g("ngClass",qe(8,xu,t.single))("ngModel",t.selected[e.id])("labelPosition","before"),_(1),g("ngClass",qe(10,xu,!t.single)),_(1),g("ngClass",qe(12,xu,t.selected[e.id])),_(2),g("ngClass",qe(14,xu,!t.selected[e.id])),_(2),g("ngIf",t.single),_(1),g("ngIf",!t.single)}}const jve=function(i){return{"sw-transparent":i}};function Gve(i,n){if(1&i){const e=Me();x(0,"div",23)(1,"div",24),$(2,Vve,2,7,"div",25),x(3,"mat-form-field",26)(4,"a",27)(5,"mat-icon"),ee(6,"search"),C()(),x(7,"input",28),ie("ngModelChange",function(o){return pe(he(e).$implicit.search=o)})("keyup",function(){const s=he(e).$implicit;return pe(I(3).onApplySearch(s))}),C()(),x(8,"mat-icon",29),ie("click",function(){const s=he(e).$implicit;return I(3).onApplySearch(s),pe(s.search="")}),ee(9," close "),C()(),me(10,"mat-divider"),x(11,"cdk-virtual-scroll-viewport",30),$(12,zve,10,16,"div",31),R0(13,"async"),C()()}if(2&i){const e=n.$implicit,t=I(3);g("ngClass",qe(10,xu,!e.visible)),_(2),g("ngIf",!e.single),_(5),qp("id","",e.internal_name,"-search-input"),g("ngModel",e.search),_(1),g("ngClass",qe(12,jve,!e.search)),_(3),g("@fadeInOut",void 0),_(1),g("cdkVirtualForOf",F0(13,8,e.feed))("cdkVirtualForTrackBy",t.onTrackByForVirtualScroll)}}const Wve=function(i){return{"cac-filter-body-float theme-background-base":i}};function Uve(i,n){if(1&i&&(x(0,"div",21),$(1,Gve,14,14,"div",22),me(2,"div",6),C()),2&i){const e=I(2);g("@slideInOut",void 0)("ngClass",qe(7,Wve,"float"===e.ui.config.display)),_(1),g("ngForOf",e.ui.entities),_(1),et("min-width",125,"px")("max-width",125,"px")}}const Zve=function(i,n){return{"sw-hidden":i,"cac-filter-container-open":n}};function Kve(i,n){if(1&i&&(x(0,"div",1)(1,"div",2),$(2,Ove,1,0,"mat-progress-bar",3),C(),x(3,"div",4),$(4,Fve,10,12,"div",5),x(5,"div",6)(6,"div",7),$(7,Nve,2,4,"div",8),$(8,Bve,2,0,"div",9),C()()(),$(9,Uve,3,9,"div",10),C()),2&i){const e=I();g("ngClass",Ii(11,Zve,!e.ui.config.active,e.dom.state.open&&"default"===e.ui.config.display)),_(2),g("ngIf",e.ui.config.loader),_(1),g("ngClass",qe(14,xu,e.dom.state.loading)),_(1),g("ngForOf",e.ui.entities),_(1),et("min-width",125,"px")("max-width",125,"px"),_(2),g("ngIf",e.dom.state.filterNeedsApplied),_(1),g("ngIf",e.dom.state.currentFilterRelevant&&!e.dom.state.filterNeedsApplied),_(1),g("ngIf",e.dom.state.open)}}let Yve=(()=>{class i extends Yt{constructor(e,t,o){var s;super(),s=this,this.el=e,this._filterRepo=t,this._pipeRepo=o,this.name="PopCacFilterViewComponent",this.srv={filter:void 0,pipe:void 0},this.ui={config:void 0,entities:void 0,map:{}},this.asset={filter:void 0},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return yield Promise.all([s._setInitialConfig()]),a(!0)});return function(a){return r.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onApplyFilter(){this.ui.config.invalid||(this.asset.filter=this._getCurrentFilter(),this.dom.state.currentFilterRelevant=this._isCurrentFilterRelevant(),this.dom.state.filterNeedsApplied=!1,this.events.emit({source:this.name,type:"filter",name:"apply",data:this.asset.filter}),"static"!==this.ui.config.display&&(this.dom.state.open=!1,this.events.emit({source:this.name,type:"filter",name:"state",model:"open",data:this.dom.state.open})))}onApplySearch(e){this.dom.state.searchDelay&&clearTimeout(this.dom.state.searchDelay),this.dom.setTimeout("search-delay",()=>{e.options.map(t=>{e.hidden[t.id]=!ll(t,e.search)}),this._onEntityFeedUpdate(e),this._checkVisibleForAll(e)},200)}onCheckAll(e){Y(e,!0)&&!e.single&&(e.options.filter(t=>!e.hidden[t.id]).map(t=>{e.selected[t.id]=!!+e.display[t.id]&&e.checkAll}),e.filter=Object.keys(e.selected).filter(t=>e.selected[t]),e.totalSelected=e.filter.length,e.allSelected=e.totalSelected===e.totalAvailable,this._checkVisibleForAll(e),this._updateEntitySelectedText(e),this._onUpdateOptionsDisplay(this.ui.map.entities[e.internal_name]),this.dom.state.filterNeedsApplied=!0)}onChangeCheckbox(e,t,o){e.preventDefault(),t.selected[o]=!t.selected[o],this.dom.setTimeout(`update-${t.internal_name}-column`,()=>{t.filter=Object.keys(t.selected).filter(s=>t.selected[s]),t.totalSelected=t.filter.length,t.allSelected=t.totalSelected===t.totalAvailable,this._checkVisibleForAll(t),this._updateEntitySelectedText(t),this._onUpdateOptionsDisplay(this.ui.map.entities[t.internal_name]),this.dom.state.filterNeedsApplied=!0},100)}onChangeRadio(e,t,o){e.preventDefault(),t.single&&(t.checkAll=!1,t.allSelected=!1,t.indeterminate=!1,t.filter=[String(o)],t.totalSelected=t.filter.length,t.options.map(s=>{+s.id!=+o?t.selected[s.id]=!1:(t.selected[s.id]=!0,t.selectedText=s.name)}),this._onUpdateOptionsDisplay(this.ui.map.entities[t.internal_name]),this.dom.state.filterNeedsApplied=!0)}onResetFilter(){this.asset.filter={},this.ui.entities.map((e,t)=>{e.single?this._setSingleEntityConfig(e,t):this._setMultipleEntityConfig(e,t)}),this.asset.filter=this._getCurrentFilter(),this.dom.state.filterNeedsApplied=!1,this.dom.state.currentFilterRelevant=!1,this.events.emit({source:this.name,type:"filter",name:"clear",data:this.asset.filter})}onToggleOpen(e=null){this.dom.state.open=!this.dom.state.open,this.dom.state.open&&e&&setTimeout(()=>{this.el.nativeElement.querySelector(`#${e}-search-input`).focus()}),this.events.emit({source:this.name,type:"filter",name:"state",model:"open",data:this.dom.state.open})}onTrackByForVirtualScroll(e,t){return t?t.id:null}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.asset.filter=e.srv.filter.getFilter(),e.ui.entities=e.srv.filter.getEntities(),e.ui.map.entities=Kn(e.ui.entities,"internal_name"),e.ui.config=e.srv.filter.getConfig(),e._setDefaultState(),e._setEntityConfig(),e.dom.setSubscriber("data-reset",e.srv.filter.event.data.subscribe(()=>{e.dom.setTimeout("data-reset",()=>{if(De(e.ui.entities,!0)){const s=e.ui.entities[0];s.options.map(r=>{s.display[r.id]=!0}),e._checkVisibleForAll(s),e._updateEntitySelectedText(s),e._onEntityFeedUpdate(s)}e.ui.entities.map(s=>{s.totalOptions=s.options.length,s.filter=Object.keys(s.selected).filter(r=>s.selected[r]),s.totalSelected=s.filter.length}),e._onUpdateOptionsDisplay(0)},0)})),e.dom.setTimeout("init",()=>{e.events.emit({source:e.name,type:"filter",name:"init",data:e.asset.filter})}),o(!0)});return function(o){return t.apply(this,arguments)}}())}_checkForIndeterminate(e){const t=e.options.filter(o=>!e.hidden[o.id]&&e.display[o.id]&&e.selected[o.id]).length;e.indeterminate=t&&t<e.totalVisible}_onEntityFeedUpdate(e){const t=e.options.filter(o=>e.display[o.id]&&!e.hidden[o.id]);e.allSelected||t.sort((o,s)=>e.selected[o.id]&&!e.selected[s.id]?-1:!e.selected[o.id]&&e.selected[s.id]?1:void 0),e.feed.next(t)}_setEntityConfig(){this.dom.state.loading=!0,this.ui.entities.map((e,t)=>{e.single?this._setSingleEntityConfig(e,t):this._setMultipleEntityConfig(e,t),e.totalAvailable=e.options.length,e.totalOptions=e.options.length,e.totalVisible=Object.keys(e.display).filter(o=>e.display[o]&&!e.hidden[o]).length}),this.dom.state.filterNeedsApplied=!1,this.dom.state.currentFilterRelevant=this._isCurrentFilterRelevant(),this.dom.state.currentFilterRelevant||this.srv.filter.clearFilters()}_setSingleEntityConfig(e,t){let o=e.options[0];if(e.checkAll=!1,e.indeterminate=!1,De(this.asset.filter[e.internal_name],!0)){const s=this.srv.filter.getAsset(e.internal_name,+this.asset.filter[e.internal_name][0]);o={id:this.asset.filter[e.internal_name][0],name:Y(s,["name"])?s.name:"Name"}}if(e.filter=[o.id],e.selectedText=o.name,e.totalSelected=1,e.hidden={},0===t)e.options.map(s=>{e.display[s.id]=!0,e.hidden[s.id]=!1,e.selected[s.id]=!1}),e.selected[o.id]=!0;else{const r=this.ui.entities[+t-1];e.options.map(a=>{e.display[a.id]=r.selected[a.id],e.hidden[a.id]=!1,e.selected[a.id]=!1}),e.selected[o.id]=!0}this._onEntityFeedUpdate(e)}_setMultipleEntityConfig(e,t){const o=De(this.asset.filter[e.internal_name],!0);if(e.filter=o?gi(this.asset.filter[e.internal_name]):[],e.filter.length>0?(e.checkAll=!1,e.indeterminate=!0):(e.checkAll=!0,e.indeterminate=!1),e.totalSelected=e.checkAll?e.options.length:e.filter.length,0===t)e.options.map(s=>{e.selected[s.id]=!!e.checkAll||e.filter.includes(String(s.id)),e.display[s.id]=!0,e.hidden[s.id]=!1}),e.totalAvailable=e.options.length,e.totalSelected=o?e.filter.length:e.options.length,e.allSelected=e.totalSelected===e.totalAvailable,this._checkVisibleForAll(e),this._updateEntitySelectedText(e);else{const r=this.ui.entities[+t-1];e.options.map(a=>{e.selected[a.id]=!!e.checkAll||r.filter.includes(String(a[r.child_link])),e.display[a.id]=r.selected[a[r.child_link]],e.hidden[a.id]=!1}),e.totalAvailable=e.options.length,e.totalSelected=o?e.filter.length:e.options.length,e.allSelected=e.totalSelected===e.totalAvailable,this._checkVisibleForAll(e),this._updateEntitySelectedText(e)}this._onEntityFeedUpdate(e)}_onUpdateOptionsDisplay(e){this.dom.setTimeout(`options-update-${e}`,()=>{let t=!1;this.ui.entities.map((o,s)=>{const r=this.ui.config.view.includes(o.internal_name);if(!o.totalSelected&&r&&(t=!0),s>e){const l=this.ui.entities[+s-1];o.options.map(c=>{o.display[c.id]=!!l.allSelected||l.filter.includes(String(c[l.child_link])),o.display[c.id]||(o.selected[c.id]=!1)}),this._onEntityFeedUpdate(o),r||o.options.filter(c=>!o.hidden[c.id]).map(c=>{o.selected[c.id]=!!+o.display[c.id]}),o.filter=Object.keys(o.selected).filter(c=>o.selected[c]),o.totalSelected=o.filter.length,!o.totalSelected&&this.ui.config.view.includes(o.internal_name)&&(t=!0),this._checkVisibleForAll(o),this._updateEntitySelectedText(o)}}),this.ui.config.invalid=t},50)}_setDefaultState(){"static"===this.ui.config.display&&(this.dom.state.open=!0),this.dom.state={...this.dom.state,differentEntities:!1,searchDelay:void 0,loading:!1,open:!1,loaded:!1,currentFilterRelevant:!1,filterNeedsApplied:!1},this.dom.state.open=!!Y(zt,["id"])&&Ss(`Business.${zt.id}.Filter.open`,!1)}_updateEntitySelectedText(e){if(e.totalText=`${e.totalAvailable} ${e.name} available.`,this.ui.map.entities[e.internal_name]>0){let o=this.ui.map.entities[e.internal_name]-1;for(;o>0&&!this.ui.entities[o].indeterminate;)o--;e.totalAvailable<e.totalOptions&&(e.totalText+=`  ${e.totalOptions-e.totalAvailable} filtered out by ${this.ui.entities[o].name}.`)}if(e.allSelected=e.totalSelected===e.totalAvailable,e.allSelected||!e.totalSelected)e.selectedText=e.allSelected?"All":"None";else{const t=e.options.filter(o=>e.display[o.id]&&e.selected[o.id]).map(o=>o.name);e.selectedText=t.length>4?t.slice(0,4).join(", ")+`, ... ${t.length-4} more`:t.join(", ")}}_checkVisibleForAll(e){if(Y(e,!0)&&!e.single){let t=!0;const o=Object.keys(e.display).filter(s=>e.display[s]&&!e.hidden[s]);e.totalVisible=o.length,o.length>0?o.some(s=>{if(!e.selected[s])return t=!1,!0}):t=!1,e.checkAll=t,this._checkForIndeterminate(e)}}_getCurrentFilter(){const e={};return this.ui.entities.map(t=>{!t.allSelected&&t.filter.length>0&&(e[t.internal_name]=t.filter.filter(o=>+o>0),this._onEntityFeedUpdate(t))}),e}_isCurrentFilterRelevant(){let e=!1;return Object.keys(this.asset.filter).some(t=>{if(Array.isArray(this.asset.filter[t])&&this.asset.filter[t].length>0&&t in this.ui.map.entities&&this.ui.entities[this.ui.map.entities[t]].totalAvailable&&this.asset.filter[t].length<this.ui.entities[this.ui.map.entities[t]].totalAvailable)return e=!0,!0}),e}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(fp),P(Wf))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-cac-filter-view"]],inputs:{channel:"channel"},features:[Re],decls:1,vars:1,consts:[["class","cac-filter-container theme-background-base",3,"ngClass",4,"ngIf"],[1,"cac-filter-container","theme-background-base",3,"ngClass"],[1,"cac-filter-loader"],["mode","indeterminate",4,"ngIf"],[1,"cac-filter-header",3,"ngClass"],["class","cac-filter-header-column theme-background-base",3,"ngClass",4,"ngFor","ngForOf"],[1,"cac-filter-header-menu"],[1,"cac-filter-header-row"],["class","cac-filter-action-text",3,"ngClass","click",4,"ngIf"],["class","cac-filter-action-text sw-pointer",3,"click",4,"ngIf"],["class","cac-filter-body",3,"ngClass",4,"ngIf"],["mode","indeterminate"],[1,"cac-filter-header-column","theme-background-base",3,"ngClass"],[1,"cac-select-filter-button"],[1,"cac-select-filter-button-bar",3,"ngClass"],["appearance","none"],["matInput","","type","text",3,"matTooltip","readonly","ngModel","ngModelChange"],["matSuffix","","matTooltipPosition","below",1,"sw-pointer","cac-select-filter-icon",3,"matTooltipShowDelay","matTooltip"],[1,"sw-pointer",3,"click"],[1,"cac-filter-action-text",3,"ngClass","click"],[1,"cac-filter-action-text","sw-pointer",3,"click"],[1,"cac-filter-body",3,"ngClass"],["class","cac-filter-body-column",3,"ngClass",4,"ngFor","ngForOf"],[1,"cac-filter-body-column",3,"ngClass"],[1,"cac-filter-body-column-header"],["class","cac-filter-option-select-container",3,"marginLeft",4,"ngIf"],["appearance","none","color","accent",1,"sw-search"],["matPrefix",""],["matInput","",3,"id","ngModel","ngModelChange","keyup"],["matTooltip","Clear Search",1,"sw-pointer","cac-filter-clear-icon",3,"ngClass","click"],["itemSize","25","minBufferPx","125","maxBufferPx","250",1,"cac-filter-body-column-contents"],["class","cac-filter-body-column-row pop-checkbox-container checkbox-has-label cac-filter-option-hover",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"cac-filter-option-select-container"],[1,"cac-filter-check-all",3,"ngModel","disabled","indeterminate","ngModelChange","change"],[1,"cac-filter-body-column-row","pop-checkbox-container","checkbox-has-label","cac-filter-option-hover"],[3,"ngClass","ngModel","labelPosition","ngModelChange","click"],[1,"cac-filter-option-radio",3,"ngClass"],[1,"sw-pointer",3,"ngClass","click"],[1,"sw-pointer","cac-filter-option-checked",3,"ngClass","click"],["class","cac-filter-option-select-text",3,"click",4,"ngIf"],[1,"cac-filter-option-select-text",3,"click"],[1,"cac-filter-option-select-id"]],template:function(e,t){1&e&&$(0,Kve,10,16,"div",0),2&e&&g("ngIf",t.ui.config)},dependencies:[Gt,ai,ct,$s,$o,Gl,DR,FR,Eb,ks,js,nu,Ac,Wr,ad,wi,Pn,ws,Zr,LD],styles:[".cac-filter-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;border:1px solid var(--border);min-height:35px;padding:var(--gap-xs) var(--gap-m) var(--gap-sm) var(--gap-m);margin:30px 30px 5px;border-radius:3px;-webkit-transition:height .5s;transition:height .5s;background-color:var(--background-main-menu)}.cac-filter-container[_ngcontent-%COMP%]     .cac-filter-option-select-container .mat-checkbox-inner-container{margin-left:0!important}.cac-filter-container[_ngcontent-%COMP%]     .cac-filter-option-checked.mat-icon{color:var(--background-focused-button)!important}.cac-filter-container[_ngcontent-%COMP%]     .pop-checkbox-container{min-height:25px!important}.cac-filter-container[_ngcontent-%COMP%]     .cac-filter-body-column-header mat-form-field, .cac-filter-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;font-weight:700}.cac-filter-container[_ngcontent-%COMP%]     .cac-filter-body-column-header .mat-form-field-infix{padding-top:2px}.cac-filter-container[_ngcontent-%COMP%]     .cac-filter-body-column-row .mat-checkbox-label{width:100%}.cac-filter-container-open[_ngcontent-%COMP%]{min-height:220px!important;-webkit-transition:height .5s;transition:height .5s}.cac-filter-loader[_ngcontent-%COMP%]{position:relative;display:block;width:100%;height:2px;overflow:hidden;clear:both;margin-bottom:8px}.cac-filter-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:36px}.cac-filter-header-column[_ngcontent-%COMP%]:not(:first-child){margin-left:var(--gap-m)}.cac-filter-header-column[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-preferred-size:75%;flex-basis:75%;max-width:400px;-webkit-box-sizing:border-box;box-sizing:border-box}.cac-filter-header-column[_ngcontent-%COMP%]     .mat-mdc-form-field{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cac-filter-header-column[_ngcontent-%COMP%]     .mat-form-field-infix{top:-8px;padding:2px 5px!important;margin:0 0 0 5px}.cac-filter-header-column[_ngcontent-%COMP%]     .mat-form-field-outline{color:transparent;display:none}.cac-filter-header-column[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0!important;margin:0!important;min-width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cac-filter-header-column[_ngcontent-%COMP%]     input{position:relative;top:6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;height:20px;line-height:20px;max-width:100%;pointer-events:none!important;background:var(--background-base)!important}.cac-filter-header-column[_ngcontent-%COMP%]     mat-label{background:var(--background-base)!important;font-size:1.2em;padding:0 5px}.cac-filter-header-column[_ngcontent-%COMP%]     .mat-form-field-subscript-wrapper{display:none}.cac-filter-header-menu[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-ms-flex-preferred-size:25%;flex-basis:25%;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.cac-filter-header-row[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-left:10px;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-item-align:end;align-self:flex-end}.cac-filter-label-icon[_ngcontent-%COMP%]{position:relative}.cac-filter-body-column[_ngcontent-%COMP%]:not(:first-child){margin-left:var(--gap-m)}.cac-filter-body-column[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;background-color:var(--background-base);-ms-flex-preferred-size:75%;flex-basis:75%;max-width:400px;height:180px;width:75%;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid var(--border)}.cac-filter-body-menu[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-ms-flex-preferred-size:25%;flex-basis:25%;overflow-x:hidden;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.cac-filter-body-row[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-left:10px;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-item-align:end;align-self:flex-end}.cac-select-filter-button[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-preferred-size:100%;flex-basis:100%;height:36px;border:1px solid var(--border);border-radius:3px;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer}.cac-select-filter-button[_ngcontent-%COMP%]   .cac-select-filter-button-bar[_ngcontent-%COMP%]{width:5px;height:100%;border-radius:2px 0 0 2px}.cac-select-filter-button[_ngcontent-%COMP%]   .cac-select-filter-button-text[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-preferred-size:100%;flex-basis:100%;padding:0}.cac-select-filter-button[_ngcontent-%COMP%]   .cac-select-filter-button-icon[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-preferred-size:10%;flex-basis:10%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:10px}.cac-filter-clear-icon[_ngcontent-%COMP%]{position:relative;font-size:.9em;top:5px;right:2px}.cac-select-filter-icon[_ngcontent-%COMP%]{position:relative;left:-5px;font-size:1.2em}.cac-filter-body[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;min-height:178px}.cac-filter-body-float[_ngcontent-%COMP%]{position:absolute;margin-top:46px;left:0;right:0;border:1px solid var(--border);border-top:none;z-index:999999}.cac-filter-body-column-contents[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;-ms-flex:1 1;flex:1 1;height:140px;overflow-y:auto;overflow-x:hidden;margin:0}.cac-filter-body-column-header[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:25px;clear:both;padding:0 4px;border-radius:3px;border-bottom:1px solid transparent}.cac-filter-option-select-text[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-sizing:border-box;box-sizing:border-box;height:25px;cursor:pointer;padding-left:2px;padding-top:5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.cac-filter-option-select-id[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:10px;padding-top:5px;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-align:right;font-size:.6em;opacity:.5}.cac-filter-option-hover[_ngcontent-%COMP%]:hover{background:var(--background-hover)!important}.cac-filter-body-column-row[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;height:25px;clear:both;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 4px}.cac-filter-option-select-container[_ngcontent-%COMP%]{width:25px;height:25px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:5px}.cac-filter-selected[_ngcontent-%COMP%]{background-color:var(--primary)!important;border:1px solid var(--primary-foreground)}.cac-filter-action-text[_ngcontent-%COMP%]{text-decoration:none;margin:0 20px;color:var(--accent-900);font-size:.9em}.cac-filter-option-radio[_ngcontent-%COMP%]{padding-top:4px!important}[_nghost-%COMP%]     .mat-ripple-element{display:none!important}"],data:{animation:[gp,oy]}}),i})(),aV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,Ol,el,tf,Ul,rd,S1,Ic,iu,zc,Wh,j1]}),i})();Tt(rV,[ct,Yve],[]);let lV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,Ol,Nm,GI,nV,sV,aV,JF,Wh,ea,q1,Ic,GI,nV,sV,aV]}),i})();Tt(pve,[Gt,ct,Am,L4,wve,Eve,rV,pv,mv,wi],[]);let WI=(()=>{class i{constructor(){this.createListeners=[],this.destroyListeners=[],this.onContainerCreated=e=>{this.createListeners.push(e)},this.onContainerDestroyed=e=>{this.destroyListeners.push(e)},this.registerContainer=e=>{this.createListeners.forEach(t=>{t(e)})},this.destroyContainer=e=>{this.destroyListeners.forEach(t=>{t(e)})}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Xve=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:"env",useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[lV,lV]}),i})();const cV={show_name:{name:"show_name",label:"Show Name",helpText:"Show the name of the field as a Header",type:"boolean",defaultValue:!1},edit_label:{name:"edit_label",label:"Allow Label Changes",helpText:"The User will be able to see the label, but should they be allowed to change it?",type:"boolean",group:"label",defaultValue:!0},custom_label:{name:"custom_label",label:"Allow Custom Label",helpText:"The user will be able to select 'Custom' from the dropdown and enter their own label",type:"boolean",group:"label",defaultValue:!1},unique_label:{name:"unique_label",label:"Require Unique Label",helpText:"Each Value entry will be required to use a select a different label",type:"boolean",group:"label",defaultValue:!1}};let dV=(()=>{class i extends Qr{constructor(){super(),this.name="PopEntityFieldService",ut.init(this.name,"init",this)}addEntryValue(e,t){const o=t.data_keys.length,s=o in t.entries?t.entries[o]:null;if(Y(s,["id"])){const r={data:{},entry:s,config:{},index:o};return Object.keys(t.children).map(a=>{const l=gi(t.children[a]);l.model.value=null,r.data[a]=null,l.model.facade=!0,r.config[a]=Gf(e,l.model)}),r}return null}removeEntryValue(e,t,o){return new Promise(s=>{const r=t.data[o];if(!Y(r,["id"]))return s(!0);{const a={},l=rn(vd("#path/#entityId",e.params),"//","/");a[t.name]={field_entry_id:o,id:r.id},gt.doDelete(l,a,1,!1).subscribe(c=>(c.data&&(c=c.data),s(!0)),()=>s(!1))}})}updateFieldItem(e,t,o){return new Promise(s=>{if(Ln(0,o)){const r={},a=rn(vd("#path/#entityId",e.params),"//","/"),l=Lt(t.data[o.data_key],["@metadata","@record_id"]);r[t.name]={field_entry_id:+o.data_key,field_id:+t.id,record_id:l},r[t.name][o.column]=o.config.control.value,gt.doPatch(a,r,1,!1).subscribe(c=>{if(c.data&&(c=c.data),c[t.name]&&Y(c[t.name].record,!0)){const A=c[t.name].record[o.column];t.data[o.data_key].id=c[t.name].record.id,t.data[o.data_key][o.column]=A}return s(!0)},c=>{const D=o.config.control;return o.config.patch.running=!1,D.markAsDirty(),this.asset.storedValue&&D.setValue(this.asset.storedValue),D.setErrors({server:!0}),o.config.message=qn(c),s(!1)})}})}setFieldCustomSetting(e,t){const o=e.configs;if(Y(e,["cf_type_name","configs"])&&Y(t)){t=JSON.parse(JSON.stringify({...cV,...t})),Object.keys(t).map(r=>{const a=t[r];if(Y(a,!0)){const l=kt(a.value,!1)?a.value:a.defaultValue;a.value=l,a.item&&Y(e.children,[a.item])?(e.children[a.item].custom_setting[r]=a,e.children[a.item].setting[r]=l):(e.custom_setting[r]=a,e.setting[r]=l)}});const s={};Object.keys(e.children).map(r=>{s[e.children[r].id]=r}),De(o.field_configs,!0)&&o.field_configs.map(r=>{e.custom_setting[r.name]?(e.custom_setting[r.name].id=r.id,e.custom_setting[r.name].value=r.value):ut.warn(this.name,"setFieldCustomSettingDefaults: setting no longer defined",r),e.setting[r.name]=r.value}),Y(o.item_configs,!0)&&Object.keys(o.item_configs).map(r=>{const a=o.item_configs[r];De(a,!0)&&a.map(l=>{if(l.field_id in s){const c=e.children[s[l.field_id]];c.custom_setting[l.name]?(c.custom_setting[l.name].id=l.id,c.custom_setting[l.name].value=l.value):ut.warn(this.name,"setFieldCustomSettingDefaults: setting no longer defined",l),c.setting[l.name]=l.value}})})}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const qve=["container"],Jve=function(){return{"sw-field-main-container-header-title-link sw-pointer sw-hover":!0}};function Qve(i,n){if(1&i){const e=Me();x(0,"div",4)(1,"div",5),ie("click",function(){return he(e),pe(I().onNavigateToField())}),ee(2),C()()}if(2&i){const e=I();_(1),g("ngClass",ms(2,Jve)),_(1),Mt(" ",e.field.label," ")}}let uV=(()=>{class i extends Jo{constructor(e){var t;super(),t=this,this.el=e,this.name="PopEntityFieldComponent",this.srv={field:Rt.get(dV),router:Rt.get(Ji)},this.dom.configure=()=>new Promise(function(){var o=q(function*(s){yield t._setInitialConfig(),yield t._setFieldState(),s(!0)});return function(s){return o.apply(this,arguments)}}())}onActionButtonClick(e){return this.log.event("onActionButtonClick",e),"field"===e.type&&"add"===e.name&&this.onAdd(e),!0}onAdd(e){if(this.log.event("onAdd",e),this.field.facade)this.onBubbleEvent("onAdd",null,e);else{const t=Lt(this.template,["refs","0","instance","events"]);t&&(t.emit(e),this._setFieldState())}return!0}onEdit(e,t){return this.log.event("onEdit",e),!0}onRemove(e){return this.log.event("onRemove",e),this.field.facade?this.onBubbleEvent("onRemove",null,e):window.console.log("real delete action"),this._setFieldState(),!0}onClose(e){return this.log.event("onClose",e),!0}onNavigateToField(){var e=this;return q(function*(){yield e.srv.router.navigate(["entities","fields",e.field.id])})()}onBubbleEvent(e,t,o){return this.log.event("onBubbleEvent",o),this._setFieldState(),this.events.emit(o),!0}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.field=Ai(e.field,["id"],`${e.name}:configure: - this.field`)?e.field:null,e.id=e.field.id,e._attachContextMenu(),e.dom.handler.bubble=(s,r)=>e.onBubbleEvent("handler",null,r),e.trait.bubble=!0,e.template.attach("container"),e.template.render([{type:e.field.component,inputs:{core:e.core,field:e.field}}]),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setFieldState(){this.dom.setTimeout("allow-template-changes",()=>{this.field.canAdd=this.field.uses_multiple_values&&this.field.data_keys.length<this.field.entries.length,this.field.canRemove=this.field.uses_multiple_values&&this.field.data_keys.length>this.field.multiple_values_min},100)}_attachContextMenu(){this.dom.contextMenu.config=new jI,this.dom.contextMenu.configure=e=>{this.dom.contextMenu.config&&(e.preventDefault(),this.dom.contextMenu.config.resetOptions(),this.dom.contextMenu.config.addPortalOption("field",this.field.id),this.dom.contextMenu.config.addNewTabOption(`entities/fields/${this.field.id}`),this.dom.contextMenu.config.x=e.clientX,this.dom.contextMenu.config.y=e.clientY,this.dom.contextMenu.config.toggle.next(!0))},this.dom.setSubscriber("context-menu",this.dom.contextMenu.config.emitter.subscribe(e=>{this.events.emit(e)}))}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-field"]],viewQuery:function(e,t){if(1&e&&ht(qve,7,Ri),2&e){let o;Ke(o=Ye())&&(t.container=o.first)}},inputs:{field:"field"},features:[Re],decls:5,vars:1,consts:[[1,"pop-entity-field-container","sw-field-main-wrapper-boundary"],["class","sw-field-header",4,"ngIf"],[1,"sw-field-container"],["container",""],[1,"sw-field-header"],[1,"sw-field-header-title",3,"ngClass","click"]],template:function(e,t){1&e&&(x(0,"div",0),$(1,Qve,3,3,"div",1),x(2,"div",2),Go(3,null,3),C()()),2&e&&(_(1),g("ngIf",t.field.uses_multiple_values||t.field.setting.show_name))},dependencies:[Gt,ct],styles:[":host ::ng-deep .mat-mdc-form-field .mat-form-field-infix{width:0!important}:host ::ng-deep .mat-form-field-appearance-outline .mat-form-field-flex{margin-top:0!important}.pop-entity-field-container{position:relative;display:block;min-height:30px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;max-width:var(--field-max-width);margin-top:10px;clear:both}.pop-entity-field-container .sw-field-item-container{margin-top:5px!important}.pop-entity-field-container ::ng-deep .mat-form-field-infix{width:0!important}.pop-entity-field-container ::ng-deep .mat-form-field-flex{margin-top:0!important}\n"],encapsulation:2}),i})(),hV=(()=>{class i{constructor(e,t){this.dialog=e,this.data=t,this.ui={table:void 0},this._buildTable()}_buildTable(){this.data.table.data=this.data.data,this.ui.table=this.data.table}onClose(){this.dialog.close(null)}}return i.\u0275fac=function(e){return new(e||i)(P(Yo),P(zs))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-table-dialog"]],decls:10,vars:3,consts:[[1,"container"],[1,"cpc-confirmation-dialog-header"],[1,"cpc-confirmation-body"],[3,"config"],[1,"cpc-confirmation-dialog-footer","cpc-pull-right"],["mat-raised-button","","role","button",1,"mat-raised-button",3,"click"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"h1",1),ee(2),C(),x(3,"p",2),ee(4),C(),x(5,"div"),me(6,"lib-pop-table",3),C(),x(7,"div",4)(8,"button",5),ie("click",function(){return t.onClose()}),ee(9," CLOSE"),C()()()),2&e&&(_(2),Je(t.data.header),_(2),Je(t.data.message),_(2),g("config",t.ui.table))},styles:[".cpc-pull-right[_ngcontent-%COMP%]{margin-top:var(--gap-lm);float:right}.cpc-pull-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:var(--radius-xl)}[_nghost-%COMP%]     .pop-table-container{overflow-y:scroll}.cpc-confirmation-dialog-header[_ngcontent-%COMP%]{margin-top:0;text-align:center}.cpc-confirmation-body[_ngcontent-%COMP%]{margin:var(--gap-s) 0 var(--gap-lm) 0;padding:var(--gap-m);overflow-y:auto}.cpc-confirmation-dialog-footer[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}[_nghost-%COMP%]     .pop-table-footer{display:none!important}"]}),i})();function eye(i,n){if(1&i&&(x(0,"div",11)(1,"div",12),ee(2),C()()),2&i){const e=I(2);_(2),Je(e.config.display)}}function tye(i,n){if(1&i&&(x(0,"div",24)(1,"div",25)(2,"mat-icon",26),ee(3,"info"),C()()()),2&i){const e=I(3);_(1),g("matTooltip",e.config.patch.removeErrMessage)}}const pV=function(i){return{"sw-disabled":i}};function iye(i,n){if(1&i){const e=Me();x(0,"div",27)(1,"div",28),ie("click",function(){return he(e),pe(I(3).onRemoveAllOptions())}),x(2,"p"),ee(3,"S"),C(),me(4,"div",29),C()()}if(2&i){const e=I(3);_(1),g("ngClass",qe(4,pV,e.config.disabled||e.config.patch.running))("matTooltip","Remove All")("matTooltipShowDelay",750)("matTooltipHideDelay",250)}}function nye(i,n){if(1&i){const e=Me();x(0,"div",30)(1,"div",31),ie("click",function(){return he(e),pe(I(3).onAssignAllOptions())}),x(2,"p",32),ee(3,"S"),C(),me(4,"div",29),C()()}if(2&i){const e=I(3);_(1),g("ngClass",qe(4,pV,e.config.disabled||e.config.patch.running))("matTooltipShowDelay",750)("matTooltipHideDelay",250)("matTooltip","Assign All")}}function oye(i,n){if(1&i&&(x(0,"div",33)(1,"div",34)(2,"mat-icon",26),ee(3,"info"),C()()()),2&i){const e=I(3);_(1),g("matTooltip",e.config.patch.assignErrMessage)}}const mV=function(i,n){return{"sw-hidden":i,"sw-disabled":n}};function sye(i,n){if(1&i&&(x(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",11),$(4,tye,4,1,"div",16),$(5,iye,5,6,"div",17),x(6,"div",18)(7,"div",19),ee(8),C()()()()(),x(9,"div",20)(10,"div",15)(11,"div",11),$(12,nye,5,6,"div",21),x(13,"div",18)(14,"div",22),ee(15),C()(),$(16,oye,4,1,"div",23),C()()()()),2&i){const e=I(2);_(4),g("ngIf",e.config.patch.removeErrMessage),_(1),g("ngIf",e.config.removeAll),_(1),g("ngClass",Ii(8,mV,!e.config.assignedLabel,e.config.disabled)),_(2),Je(e.config.assignedLabel),_(4),g("ngIf",e.config.assignAll),_(1),g("ngClass",Ii(11,mV,!e.config.optionsLabel,e.config.disabled)),_(2),Je(e.config.optionsLabel),_(1),g("ngIf",e.config.patch.assignErrMessage)}}const UI=function(i,n){return{"hide-clear-icon":i,"show-clear-icon":n}};function rye(i,n){if(1&i){const e=Me();x(0,"div",11)(1,"div",35)(2,"div",15)(3,"div",11)(4,"mat-icon",36),ee(5,"filter_list"),C(),x(6,"input",37,38),ie("keyup",function(o){return he(e),pe(I(2).onApplyFilter("assigned",o.target.value))}),C(),x(8,"mat-icon",39),ie("click",function(){he(e);const o=Qt(7),s=I(2);return o.value="",o.focus(),pe(s.onApplyFilter("assigned",""))}),ee(9,"clear "),C()()()(),x(10,"div",40)(11,"div",15)(12,"div",11)(13,"mat-icon",36),ee(14,"filter_list"),C(),x(15,"input",41,42),ie("keyup",function(o){return he(e),pe(I(2).onApplyFilter("options",o.target.value))}),C(),x(17,"mat-icon",39),ie("click",function(){he(e);const o=Qt(16),s=I(2);return o.value="",o.focus(),pe(s.onApplyFilter("options",""))}),ee(18," clear "),C()()()()()}if(2&i){const e=Qt(7),t=Qt(16);_(8),g("ngClass",Ii(2,UI,!e.value,e.value)),_(9),g("ngClass",Ii(5,UI,!t.value,t.value))}}function aye(i,n){if(1&i){const e=Me();x(0,"div",43)(1,"div",15)(2,"div",11)(3,"mat-icon",36),ee(4,"filter_list"),C(),x(5,"input",41,44),ie("keyup",function(o){return he(e),pe(I(2).onApplyFilter("both",o.target.value))}),C(),x(7,"mat-icon",39),ie("click",function(){he(e);const o=Qt(6),s=I(2);return o.value="",o.focus(),pe(s.onApplyFilter("both",""))}),ee(8," clear "),C()()()()}if(2&i){const e=Qt(6);_(7),g("ngClass",Ii(1,UI,!e.value,e.value))}}function lye(i,n){if(1&i&&(x(0,"div",45)(1,"div",46)(2,"div",11)(3,"mat-icon",47),ee(4,"sentiment_dissatisfied"),C()(),x(5,"div",11)(6,"label",48),ee(7),C()(),x(8,"div",11)(9,"p",49),ee(10,"Use the arrows "),x(11,"span",50),ee(12,"S"),C(),ee(13," to make assignments"),C()()()()),2&i){const e=I(2);_(7),Je(e.config.helpText)}}const dy=function(i){return{"sw-hidden":i}};function cye(i,n){if(1&i){const e=Me();x(0,"div",67),ie("click",function(){he(e);const o=I().$implicit;return pe(I(3).onRemoveOption(o))}),x(1,"p"),ee(2,"S"),C(),me(3,"div",68),C()}if(2&i){const e=I().$implicit;g("ngClass",qe(4,dy,e.patching))("matTooltipShowDelay",750)("matTooltipHideDelay",250)("matTooltip","Remove")}}function dye(i,n){1&i&&(x(0,"div",69)(1,"p"),ee(2,"S"),C(),me(3,"div",68),C())}function uye(i,n){if(1&i&&me(0,"lib-pop-avatar",70),2&i){const e=I().$implicit;g("url",e.avatarLink)("initials",e.initials)}}const hye=function(i,n,e){return{"sbs-label-clickable":i,"sbs-label-ellipsis":n,"sbs-label-word-break":e}};function pye(i,n){if(1&i){const e=Me();x(0,"span",71),ie("click",function(){he(e);const o=I().$implicit;return pe(I(3).onOptionClick(o))}),ee(1),C()}if(2&i){const e=I().$implicit,t=I(3);g("title",e.name)("ngClass",fs(3,hye,t.config.onOptionClick,"ellipsis"==t.config.labelWrap,"wrap"==t.config.labelWrap)),_(1),Je(e.name)}}const mye=function(i,n){return{"sbs-label-ellipsis":i,"sbs-label-word-break":n}};function fye(i,n){if(1&i){const e=Me();x(0,"a",72),ie("click",function(){he(e);const o=I().$implicit;return pe(I(3).onNavigateToOptionRoute(o))}),ee(1),C()}if(2&i){const e=I().$implicit,t=I(3);g("title",e.name)("ngClass",Ii(3,mye,"ellipsis"==t.config.labelWrap,"wrap"==t.config.labelWrap)),_(1),Je(e.name)}}function gye(i,n){1&i&&(x(0,"div",73)(1,"mat-icon",74),ee(2,"info"),C()()),2&i&&g("matTooltip",I().$implicit.errMessage)}const fV=function(i,n){return{"sw-disabled":i,"sw-hidden":n}},gV=function(){return{strokeWidth:3,color:"accent",diameter:19}};function _ye(i,n){if(1&i&&(x(0,"mat-list-item",53)(1,"div",54)(2,"div",55),$(3,cye,4,6,"div",56),$(4,dye,4,0,"div",57),x(5,"div",58),me(6,"lib-main-spinner",59),C()(),$(7,uye,1,2,"lib-pop-avatar",60),x(8,"div",61)(9,"span",62)(10,"div",63),$(11,pye,2,7,"span",64),$(12,fye,2,6,"a",65),C()(),$(13,gye,3,1,"div",66),C()()()),2&i){const e=n.$implicit,t=I(3);g("ngClass",Ii(10,fV,t.config.disabled,!t.ui.assigned[e.value]||e.assignedFilter||e.assignBlock)),_(3),g("ngIf",!e.removeDisabled),_(1),g("ngIf",e.removeDisabled),_(1),g("ngClass",qe(13,dy,!e.patching||!t.config.patch.displayIndicator)),_(1),g("options",ms(15,gV)),_(1),g("ngIf",t.config.displayCircleID),_(3),g("ngSwitch",t.config.optionHtml),_(1),g("ngSwitchCase","label"),_(1),g("ngSwitchCase","route"),_(1),g("ngIf",e.errMessage)}}function bye(i,n){if(1&i&&(x(0,"mat-list",51),$(1,_ye,14,16,"mat-list-item",52),C()),2&i){const e=I(2);et("height",e.dom.height.inner,"px"),_(1),g("ngForOf",e.config.options.values)}}function vye(i,n){if(1&i&&(x(0,"div",45)(1,"div",75)(2,"div",11)(3,"mat-icon",47),ee(4,"sentiment_dissatisfied"),C()(),x(5,"div",11)(6,"label",76),ee(7),C()()()()),2&i){const e=I(2);_(7),Je(e.config.helpTextRight)}}function yye(i,n){if(1&i){const e=Me();x(0,"div",67),ie("click",function(){he(e);const o=I().$implicit;return pe(I(2).onOptionAssign(o))}),x(1,"p",32),ee(2,"S"),C(),me(3,"div",68),C()}if(2&i){const e=I().$implicit;g("ngClass",qe(4,dy,e.patching))("matTooltipShowDelay",750)("matTooltipHideDelay",250)("matTooltip","Assign")}}const xye=function(){return{"sw-disabled":!0}};function Cye(i,n){1&i&&(x(0,"div",80)(1,"p",32),ee(2,"S"),C(),me(3,"div",68),C()),2&i&&g("ngClass",ms(4,xye))("matTooltipShowDelay",750)("matTooltipHideDelay",250)("matTooltip","Assign")}function wye(i,n){if(1&i&&me(0,"lib-pop-avatar",70),2&i){const e=I().$implicit;g("url",e.avatarLink)("initials",e.initials)}}const kye=function(i,n,e,t){return{"sbs-label-clickable":i,"sbs-disabled":n,"sbs-label-ellipsis":e,"sbs-label-word-break":t}};function Iye(i,n){if(1&i){const e=Me();x(0,"span",71),ie("click",function(){he(e);const o=I().$implicit;return pe(I(2).onOptionClick(o))}),ee(1),C()}if(2&i){const e=I().$implicit,t=I(2);g("title",e.name)("ngClass",ph(3,kye,t.config.onOptionClick,e.assignMuted||e.assignDisabled,"ellipsis"==t.config.labelWrap,"wrap"==t.config.labelWrap)),_(1),Je(e.name)}}const Aye=function(i,n,e){return{"sbs-disabled":i,"sbs-label-ellipsis":n,"sbs-label-word-break":e}};function Sye(i,n){if(1&i){const e=Me();x(0,"a",72),ie("click",function(){he(e);const o=I().$implicit;return pe(I(2).onNavigateToOptionRoute(o))}),ee(1),C()}if(2&i){const e=I().$implicit,t=I(2);g("title",e.name)("ngClass",fs(3,Aye,e.assignMuted||e.assignDisabled,"ellipsis"==t.config.labelWrap,"wrap"==t.config.labelWrap)),_(1),Je(e.name)}}function Mye(i,n){1&i&&(x(0,"div",73)(1,"mat-icon",74),ee(2,"info"),C()()),2&i&&g("matTooltip",I().$implicit.errMessage)}function Pye(i,n){if(1&i){const e=Me();x(0,"div",81)(1,"span",82),ie("mouseenter",function(){return he(e),pe(I(3).dom.state.helper=!0)})("mouseleave",function(){return he(e),pe(I(3).dom.state.helper=!1)}),ee(2,"X "),C()()}if(2&i){const e=I().$implicit;_(1),Ei("matTooltip",e.assignHelpText)}}function Tye(i,n){if(1&i&&(x(0,"mat-list-item",77)(1,"div",54)(2,"div",30),$(3,yye,4,6,"div",56),$(4,Cye,4,5,"div",78),x(5,"div",58),me(6,"lib-main-spinner",59),C()(),$(7,wye,1,2,"lib-pop-avatar",60),x(8,"div",61)(9,"div",62)(10,"div",63),$(11,Iye,2,8,"span",64),$(12,Sye,2,7,"a",65),C()(),$(13,Mye,3,1,"div",66),C(),$(14,Pye,3,1,"div",79),C()()),2&i){const e=n.$implicit,t=I(2);g("ngClass",Ii(11,fV,t.config.disabled,t.ui.assigned[e.value]||e.optionFilter||e.optionBlock)),_(3),g("ngIf",!e.assignDisabled),_(1),g("ngIf",e.assignDisabled),_(1),g("ngClass",qe(14,dy,!e.patching||!t.config.patch.displayIndicator)),_(1),g("options",ms(16,gV)),_(1),g("ngIf",t.config.displayCircleID),_(3),g("ngSwitch",t.config.optionHtml),_(1),g("ngSwitchCase","label"),_(1),g("ngSwitchCase","route"),_(1),g("ngIf",e.errMessage),_(1),g("ngIf",e.assignHelpText)}}function Eye(i,n){if(1&i&&(x(0,"div",1),$(1,eye,3,1,"div",2),$(2,sye,17,14,"div",3),$(3,rye,19,8,"div",2),$(4,aye,9,4,"div",4),x(5,"div",5)(6,"div",6),$(7,lye,14,1,"div",7),$(8,bye,2,3,"mat-list",8),C(),x(9,"div",9),$(10,vye,8,1,"div",7),x(11,"mat-list"),$(12,Tye,15,17,"mat-list-item",10),C()()()()),2&i){const e=I();et("height",e.dom.height.outer,"px"),_(1),g("ngIf",e.config.display&&e.config.displayTitle),_(1),g("ngIf",e.config.hasLabelRow),_(1),g("ngIf",e.config.hasFilterRow&&!e.config.filterBoth),_(1),g("ngIf",e.config.hasFilterRow&&e.config.filterBoth),_(1),et("height",e.dom.height.inner,"px"),_(2),g("ngIf",!e.ui.optionsCount&&e.config.displayHelper?"":!e.ui.assignedCount&&e.config.displayHelper),_(1),g("ngIf",e.ui.assignedCount||!e.config.displayHelper),_(2),g("ngIf",!e.ui.optionsCount&&e.config.displayHelper),_(2),g("ngForOf",e.config.options.values)}}let _V=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this._domRepo=t,this.name="PopSideBySideComponent",this.srv={dialog:Rt.get(Fn),param:Rt.get(Qf),router:Rt.get(Ji)},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return o.id=o.config.id?o.config.id:cl(),yield o._setConfigInitials(),o._trackAssignedOptions(),o._setHooks(),o._setContextMenu(),o._checkForAssignedOptions(),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){return yield o._setHeight(),r(!0)});return function(r){return s.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onApplyFilter(e,t){this.dom.setTimeout("apply-filter",()=>{this.config.filterBoth?this.onFilterBoth(t):"assigned"===e?this._filterAssignedOptions(t):this._filterAvailableOptions(t),this.onBubbleEvent("apply-filter",null,{method:e,value:t})},200)}onFilterBoth(e){this.config.options.values.map(t=>{t.assignedFilter=t.optionFilter=!ll(t,e)})}onOptionAssign(e,t=!1){var o=this;return new Promise(function(){var s=q(function*(r){if(!o.config.disabled)return!Y(e,!0)||o.ui.assigned[e.value]||e.optionBlock||e.optionFilter?r(!0):o.config.facadeEvent?(o.onBubbleEvent("facadeEvent","Facade Event has been triggered",{method:"remove",options:[e],ids:[+e.value]},!0),r(!0)):(yield o._assign([e],t),r(!0))});return function(r){return s.apply(this,arguments)}}())}onAssignAllOptions(e=!1){var t=this;return new Promise(function(){var o=q(function*(s){const r=t.config.options.values.filter(a=>!t.ui.assigned[a.value]&&!a.optionBlock&&!a.optionFilter);return 0===r.length?s(!0):t.config.facadeEvent?(t.onBubbleEvent("facadeEvent","Facade Event has been triggered",{method:"assign",options:r,ids:r.map(a=>+a.value)},!0),s(!0)):(yield t._assign(r,e),s(!0))});return function(s){return o.apply(this,arguments)}}())}onRemoveOption(e,t=!1){var o=this;return new Promise(function(){var s=q(function*(r){if(!o.config.disabled)return Y(e)?o.config.facadeEvent?(o.onBubbleEvent("facadeEvent","Facade Event has been triggered",{method:"remove",options:[e],ids:[+e.value]},!0),r(!0)):(yield o._remove([e],t),r(!0)):r(!0)});return function(r){return s.apply(this,arguments)}}())}onRemoveAllOptions(e=!1){var t=this;return new Promise(function(){var o=q(function*(s){t.config.patch.removeErrMessage="";const r=[];return t.config.options.values.map(a=>{t.ui.assigned[a.value]&&!a.assignedFilter&&(a.patching=!0,r.push(a))}),0===r.length?s(!0):t.config.facadeEvent?(t.onBubbleEvent("facadeEvent","Facade Event has been triggered",{method:"remove",options:r,ids:r.map(a=>+a.value)},!0),s(!0)):(yield t._remove(r,e),s(!0))});return function(s){return o.apply(this,arguments)}}())}onNavigateToOptionRoute(e){var t=this;return q(function*(){if(t.config.route){let o=`${t.config.route}`;o=String(o).replace(/:value/g,""+e.value).replace(/:name/g,e.name),t.srv.router.navigateByUrl(o).then().catch(()=>{t.events.emit({source:t.name,type:"context_menu",name:"portal",data:o,config:t.config})})}else It(t.config.onOptionClick)&&(yield t.config.onOptionClick(t.core,{source:t.name,type:"component",name:"onOptionClick",data:e}))})()}onOptionClick(e){var t=this;return q(function*(){It(t.config.onOptionClick)&&(yield t.config.onOptionClick(t.core,{source:t.name,type:"component",name:"onOptionClick",data:e}))})()}onMouseRightClick(e,t){let o=`${this.config.route}`;if(o=String(o).replace(/:value/g,""+e.value).replace(/:name/g,e.name),o){t.preventDefault();const s=this.dom.contextMenu.config;s.resetOptions();const r=o.split("/")[0],a=this.srv.param.getEntityParamsWithPath(r,+e.value);a&&s.addPortalOption(a.internal_name,a.entityId),s.addNewTabOption(o),s.x=t.clientX,s.y=t.clientY,s.toggle.next(!0)}}onBubbleEvent(e,t=null,o={},s=!1){const r={type:"field",name:e,source:this.name};return this.config&&(r.config=this.config),t&&(r.message=t),Object.keys(o).map(a=>{r[a]=o[a]}),this.log.event("onBubbleEvent",r),(this.config.bubble||s)&&this.events.emit(r),r}ngOnDestroy(){super.ngOnDestroy()}_setConfigInitials(){return new Promise(e=>(this.config.displayCircleID&&(this.config.options.values=this.config.options.values.map(t=>({...t,initials:up(t.name)}))),e(!0)))}_assign(e,t=!1){var o=this;return new Promise(function(){var s=q(function*(r){if(yield o._beforePatch(e,"assign")){if(o.config.facade)return yield al(500),o._onAssignSuccess(e),r(!0);if(!o.config.patch.path||!o.config.patch.field)return o._onAssignSuccess(e),r(!0);o._getRequest("assign",o._getRequestBody("assign",e,t)).subscribe(function(){var c=q(function*(A){return A.data&&(A=A.data),A.confirmation?(yield o._confirmAction(A.confirmation))&&o._assign(e,!0).then(()=>!0):(o._onAssignSuccess(e),o.onBubbleEvent("patch","Patched",{success:!0,method:"assign",ids:e.map(D=>D.value),value:o.config.assigned},!0)),r(A)});return function(A){return c.apply(this,arguments)}}(),c=>(o._handleAssignError(c),o._onAssignFail(e),r(!1)))}else o.config.patch.running=!1,e.map(l=>{l.patching=!1})});return function(r){return s.apply(this,arguments)}}())}_remove(e=[],t=!1){var o=this;return new Promise(function(){var s=q(function*(r){if(yield o._beforePatch(e,"remove")){if(o.config.facade)return yield al(500),o._onRemoveSuccess(e),r(!0);if(!o.config.patch.path||!o.config.patch.field)return o._onRemoveSuccess(e),r(!0);if(!t&&o.config.patch.conflictPath){const c=dp(o.config.patch.conflictPath,{value:e[0].value});gt.doPost(c,{}).subscribe(function(){var A=q(function*(D){D.data&&(D=D.data),De(D,!0)?(e.map(se=>{se.patching=!1}),(yield o._confirmAction(D[0]))&&o._remove(e,!0).then(()=>!0)):o._remove(e,!0).then(()=>!0)});return function(D){return A.apply(this,arguments)}}())}else o._getRequest("remove",o._getRequestBody("remove",e,t)).subscribe(function(){var c=q(function*(A){return A.data&&(A=A.data),o._onRemoveSuccess(e),o.onBubbleEvent("patch","Patched",{success:!0,method:"remove",ids:e.map(D=>D.value),value:o.config.assigned},!0),r(A)});return function(A){return c.apply(this,arguments)}}(),c=>{o._handleRemoveError(c),o._onRemoveFail(e)})}});return function(r){return s.apply(this,arguments)}}())}_getRequestBody(e,t,o=!1){const s={};if(this.config.patch.metadata)for(const r in this.config.patch.metadata)this.config.patch.metadata.hasOwnProperty(r)&&(s[r]=this.config.patch.metadata[r]);return s[this.config.patch.field]=t.map(r=>r.value),s.method=e,s.confirmed=o,s}_getRequest(e,t={}){let o=this.config.patch.path;const s=!!this.config.patch.ignore401||null,r=this.config.patch.version?this.config.patch.version:1,a={};if(this.config.patch.metadata)for(const l in this.config.patch.metadata)this.config.patch.metadata.hasOwnProperty(l)&&(a[l]=this.config.patch.metadata[l]);if(this.config.patch.addId&&(o=dp(this.config.patch.path,{id:t[this.config.patch.field][0]})),"assign"===e)return"patch"===String(this.config.patch.assignMethod).toLowerCase()?gt.doPatch(`${o}`,t,r,s):gt.doPost(`${o}`,t,r,s);switch(String(this.config.patch.removeMethod).toLowerCase()){case"patch":return gt.doPatch(`${o}`,t,r,s);case"post":return gt.doPost(`${o}`,t,r,s);default:return gt.doDelete(`${o}`,t,r,s)}return gt.doDelete(`${o}`,t,r,s)}_handleAssignError(e){this.config.patch.assignErrMessage=qn(e),this.config.patch.running=!1}_handleRemoveError(e){this.config.patch.removeErrMessage=qn(e),this.config.patch.running=!1}_onAssignSuccess(e=[]){this.config.patch.running=!1,e.map(o=>{this.ui.assigned[o.value]=1,o.patching=!1}),this._checkForAssignedOptions();const t=this.onBubbleEvent("assign","Assigned",{method:"assign",ids:e.map(o=>o.value),value:this.config.assigned});It(this.config.patch.after)&&this.config.patch.after(this.core,t)}_beforePatch(e=[],t){var o=this;return new Promise(function(){var s=q(function*(r){let a=!0;return o.config.patch.removeErrMessage="",o.config.patch.running=!0,e.map(l=>{l.patching=!0,l.errMessage=""}),It(o.config.patch.before)&&(a=yield o.config.patch.before(o.core,{type:"field",name:"beforePatch",method:t,source:o.name,data:e.length>1?e:e[0]},o.dom)),r(!!a)});return function(r){return s.apply(this,arguments)}}())}_formatConflictData(e){return e.map(t=>({pod:t.name,title:t.pivot.is_leader?"Leader":"Member"}))}_confirmAction(e){return new Promise(t=>{const o=this._formatConflictData(e);this.srv.dialog.open(hV,{width:"500px",data:{data:o,type:"sideBySide",table:this.config.patch.conflictTableConfig,message:this.config.patch.conflictMessage,header:this.config.patch.conflictHeader?this.config.patch.conflictHeader:""}}).afterClosed().subscribe(s=>t(!!s))})}_onAssignFail(e=[]){this.config.patch.running=!1,e.map(t=>{delete this.ui.assigned[t.value],t.patching=!1}),this._checkForAssignedOptions()}_onRemoveFail(e=[]){this.config.patch.running=!1,e.map(t=>{this.ui.assigned[t.value]=1,t.patching=!1}),this._checkForAssignedOptions()}_onRemoveSuccess(e=[]){this.config.patch.running=!1,e.map(o=>{delete this.ui.assigned[o.value],o.patching=!1}),this._checkForAssignedOptions();const t=this.onBubbleEvent("remove","Removed",{method:"remove",ids:e.map(o=>o.value),value:this.config.assigned});It(this.config.patch.after)&&this.config.patch.after(this.core,t)}_setHeight(){return new Promise(e=>{this.dom.overhead=2,this.config.hasHeader&&(this.dom.overhead+=38),this.config.hasFilterRow&&(this.dom.overhead+=49),this.config.hasLabelRow&&(this.dom.overhead+=45),this.config.height||(this.config.height=xn.getContentHeight(!1,270));let t=this.dom.repo.getComponentHeight("PopEntityTabColumnComponent",this.position);return t||(t=this.dom.repo.getComponentHeight("PopTabMenuComponent",1)),this.dom.height.default=t&&t.inner?t.inner-20:xn.getContentHeight(!1,this.dom.overhead),this.config.parentClassName?(this.dom.overhead=this.dom.overhead+(Math.abs(this.el.nativeElement.offsetTop)+100),this.dom.setHeightWithParent(this.config.parentClassName,this.dom.overhead,this.dom.height.default).then(()=>{this.log.info(`setHeight with ${this.config.parentClassName}`)})):this.config.height?(this.dom.setHeight(this.config.height,this.dom.overhead),this.log.info(`setHeight with config.height:${this.config.height} - overhead:${this.dom.overhead}`)):this.config.bucketHeight?(this.config.height=this.config.bucketHeight+this.dom.overhead,this.dom.setHeight(+this.config.height,this.dom.overhead),this.log.info(`setHeight with config.bucketHeight:${this.config.bucketHeight} - overhead:${this.dom.overhead}`)):this.config.bucketLimit?(this.config.bucketLimit=this.config.bucketLimit>this.config.options.values.length?this.config.options.values.length:this.config.bucketLimit,this.config.bucketHeight=30.5*this.config.bucketLimit,this.config.height=this.config.bucketHeight+this.dom.overhead,this.dom.setHeight(+this.config.height,this.dom.overhead),this.log.info(`setHeight with config.bucketLimit:${this.config.bucketLimit} - overhead:${this.dom.overhead}`)):(this.log.info(`setHeight with defaultHeight:${this.dom.height.default} - overhead:${this.dom.overhead}`),this.dom.setHeight(this.dom.height.default,this.dom.overhead)),e(!0)})}_blockBucketOptions(e,t){if(["assign","option","both"].includes(e)){const o=Kn(this.config.options.values,"value");t.map(s=>{s in o&&("assign"===e?this.config.options.values[o[s]].assignBlock=!0:("option"===e||(this.config.options.values[o[s]].assignBlock=!0),this.config.options.values[o[s]].optionBlock=!0))})}}_unblockBucketOptions(e,t){if(["assign","option","both"].includes(e)){const o=Kn(this.config.options.values,"value");t.map(s=>{s in o&&("assign"===e?this.config.options.values[o[s]].assignBlock=!1:("option"===e||(this.config.options.values[o[s]].assignBlock=!1),this.config.options.values[o[s]].optionBlock=!1))})}}_setHooks(){this.config.assign=(e,t=!1)=>this._assign(e,t),this.config.remove=(e,t=!1)=>this._remove(e,t),this.config.removeAllOptions=()=>Ht(this.onRemoveAllOptions()),this.config.addAllOptions=()=>Ht(this.onAssignAllOptions()),this.config.applyFilter=(e,t)=>{this.onApplyFilter(e,t)},this.config.getAssigned=()=>[...this.config.assigned],this.config.block=(e,t)=>{this._blockBucketOptions(e,t)},this.config.unblock=(e,t)=>{this._unblockBucketOptions(e,t)}}_setContextMenu(){this.dom.contextMenu.config=new jI,this.dom.setSubscriber("context-menu",this.dom.contextMenu.config.emitter.subscribe(e=>{this.log.event("context-menu",e),this.events.emit(e)}))}_checkForAssignedOptions(){this.config.assigned=Object.keys(this.ui.assigned),this.ui.assignedCount=this.config.assigned.length,this.ui.optionsCount=this.config.options.values.length,this.ui.assignedCount==this.ui.optionsCount&&(this.ui.optionsCount=0)}_filterAssignedOptions(e){this.config.options.values.map(t=>{t.assignedFilter=!ll(t,e)})}_filterAvailableOptions(e){this.config.options.values.map(t=>{t.optionFilter=!ll(t,e)})}_trackAssignedOptions(){this.ui.assigned={},this.config.assigned.map(e=>{this.ui.assigned[e]=1})}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-side-by-side"]],inputs:{config:"config"},features:[Re],decls:1,vars:1,consts:[["class","sbs-container",3,"height",4,"ngIf"],[1,"sbs-container"],["class","sbs-row-container",4,"ngIf"],["class","sbs-row-container sbs-border-top sbs-border-r sbs-border-l",4,"ngIf"],["class","sbs-row-container sbs-border-l sbs-border-r sbs-border-top sbs-content-pad sbs-search-header",4,"ngIf"],[1,"sbs-row-container","sbs-border-top","sbs-border-r","sbs-border-l","sbs-border-bottom"],[1,"sbs-column-container","sbs-border-r","sbs-column-left"],["class","sbs-column-container sbs-flex",4,"ngIf"],["class","sbs-bucket sbs-assigned-bucket",3,"height",4,"ngIf"],[1,"sbs-column-container","sbs-column-left"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"sbs-row-container"],[1,"sbs-title"],[1,"sbs-row-container","sbs-border-top","sbs-border-r","sbs-border-l"],[1,"sbs-column-container","sbs-border-r","sbs-header"],[1,"sbs-column-content","sbs-center-text-vert"],["class","sbs-error-container sbs-assigned-error-container",4,"ngIf"],["class","sbs-item-toggle-container sw-pointer sbs-item-toggle-container-left",4,"ngIf"],[1,"sbs-row-container","sbs-flex","sbs-title-left",3,"ngClass"],[1,"sbs-flex","mat-subtitle-2","sbs-label","header-label"],[1,"sbs-column-container","sbs-header"],["class","sbs-item-toggle-container",4,"ngIf"],[1,"sbs-label","sbs-flex","sbs-header-label","mat-subtitle-2","header-label"],["class","sbs-error-container sbs-options-error-container",4,"ngIf"],[1,"sbs-error-container","sbs-assigned-error-container"],["matTooltipPosition","right",1,"sw-pointer","options-error",3,"matTooltip"],["color","warn",1,"sbs-error-icon"],[1,"sbs-item-toggle-container","sw-pointer","sbs-item-toggle-container-left"],["matTooltipPosition","above",1,"sbs-push-button-label",3,"ngClass","matTooltip","matTooltipShowDelay","matTooltipHideDelay","click"],[1,"sbs-push-button-inner-label"],[1,"sbs-item-toggle-container"],["matTooltipPosition","above",1,"sbs-push-button-label","sw-pointer",3,"ngClass","matTooltipShowDelay","matTooltipHideDelay","matTooltip","click"],[1,"rotate"],[1,"sbs-error-container","sbs-options-error-container"],["matTooltipPosition","left",1,"sw-pointer","options-error",3,"matTooltip"],[1,"sbs-column-container","sbs-search-header","sbs-border-l","sbs-border-top"],["matPrefix","",1,"sbs-search-icon"],["placeholder","Search",1,"sbs-flex","sbs-filter","mat-subtitle-2",3,"keyup"],["assignedFilter",""],[1,"sw-pointer","sbs-clear-filter",3,"ngClass","click"],[1,"sbs-column-container","sbs-border-l","sbs-border-r","sbs-border-top"],["placeholder","Search",1,"sbs-flex","sbs-filter",3,"keyup"],["optionFilter",""],[1,"sbs-row-container","sbs-border-l","sbs-border-r","sbs-border-top","sbs-content-pad","sbs-search-header"],["bothFilter",""],[1,"sbs-column-container","sbs-flex"],[1,"sbs-column-content"],[1,"sbs-helper-icon"],[1,"help-text","sbs-align-center"],[1,"help-caption","mat-caption","sbs-align-center"],[1,"left-arrow"],[1,"sbs-bucket","sbs-assigned-bucket"],["class","sbs-assigned-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"sbs-assigned-item",3,"ngClass"],[1,"sw-flex-row"],[1,"sbs-item-toggle-container","sbs-align-left"],["class","sbs-push-button sw-pointer","matTooltipPosition","above",3,"ngClass","matTooltipShowDelay","matTooltipHideDelay","matTooltip","click",4,"ngIf"],["class","sbs-push-button-disabled sw-disabled",4,"ngIf"],[1,"sbs-feedback-container",3,"ngClass"],[3,"options"],[3,"url","initials",4,"ngIf"],[1,"sbs-item-label-container"],[1,"sbs-label","sbs-flex"],[3,"ngSwitch"],["class","mat-subtitle-2 sbs-right-bucket-label",3,"title","ngClass","click",4,"ngSwitchCase"],["class","mat-subtitle-2 sbs-right-bucket-label sw-pointer",3,"title","ngClass","click",4,"ngSwitchCase"],["class","sw-pointer","matSuffix","","matTooltipPosition","left",3,"matTooltip",4,"ngIf"],["matTooltipPosition","above",1,"sbs-push-button","sw-pointer",3,"ngClass","matTooltipShowDelay","matTooltipHideDelay","matTooltip","click"],[1,"sbs-push-button-inner"],[1,"sbs-push-button-disabled","sw-disabled"],[3,"url","initials"],[1,"mat-subtitle-2","sbs-right-bucket-label",3,"title","ngClass","click"],[1,"mat-subtitle-2","sbs-right-bucket-label","sw-pointer",3,"title","ngClass","click"],["matSuffix","","matTooltipPosition","left",1,"sw-pointer",3,"matTooltip"],["color","warn"],[1,"sbs-column-content","sbs-mar-btm"],[1,"help-text","h2","sbs-align-center"],[3,"ngClass"],["class","sbs-push-button","matTooltipPosition","above",3,"ngClass","matTooltipShowDelay","matTooltipHideDelay","matTooltip",4,"ngIf"],["class","sbs-helper",4,"ngIf"],["matTooltipPosition","above",1,"sbs-push-button",3,"ngClass","matTooltipShowDelay","matTooltipHideDelay","matTooltip"],[1,"sbs-helper"],["matTooltipPosition","right",1,"pop-radio-helper-icon","sw-pointer","sw-pop-icon",3,"matTooltip","mouseenter","mouseleave"]],template:function(e,t){1&e&&$(0,Eye,13,12,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".sbs-container[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}.sbs-row-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;clear:both}.sbs-align-center[_ngcontent-%COMP%]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.sbs-flex[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;min-width:1%;-ms-flex-preferred-size:1%;flex-basis:1%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.sbs-column-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-ms-flex-preferred-size:50%;flex-basis:50%;overflow:hidden}.sbs-column-content[_ngcontent-%COMP%]{position:relative;display:block}.sbs-title[_ngcontent-%COMP%]{position:relative;font-size:1em;overflow:hidden;text-overflow:ellipsis;margin:var(--mar-md) 0px}.sbs-header[_ngcontent-%COMP%]{height:46px;background-color:var(--background-main-menu)}.sbs-search-header[_ngcontent-%COMP%]{height:46px}.header-label[_ngcontent-%COMP%]{color:var(--foreground-disabled)}.sbs-center-text-vert[_ngcontent-%COMP%]{margin:auto;width:100%}.sbs-label[_ngcontent-%COMP%]{position:relative;margin-left:var(--gap-m)}.sbs-label-clickable[_ngcontent-%COMP%]{color:var(--accent)!important;text-decoration:none!important;cursor:pointer}.sbs-label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:relative;font-size:var(--text-md);line-height:var(--gap-m);margin:var(--mar-sm) 0;font-weight:lighter;text-overflow:ellipsis;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;white-space:nowrap}.sbs-label-null[_ngcontent-%COMP%]{font-size:var(--text-lg);font-weight:500}.sbs-align-left[_ngcontent-%COMP%]{text-align:left!important}.sbs-align-center[_ngcontent-%COMP%]{width:100%;text-align:center!important}.sbs-search-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:var(--gap-m)}.sbs-bucket[_ngcontent-%COMP%]{min-height:var(--gap-lm);height:100%;overflow-y:scroll;overflow-x:hidden;padding-bottom:var(--mar-sm)}.sbs-bucket[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.sbs-left-bucket-label[_ngcontent-%COMP%]{position:absolute;left:0;top:-8px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.sbs-right-bucket-label[_ngcontent-%COMP%]{left:0;min-width:0;top:-8px;width:100%;color:var(--foreground-header)}.sbs-label-word-break[_ngcontent-%COMP%]{word-break:break-all}.sbs-label-ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.sbs-right-bucket-label[_ngcontent-%COMP%]:not(.sbs-disabled):hover{text-decoration:underline;color:var(--foreground-icon);opacity:1}.sbs-bucket[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 var(--gap-lm) var(--darken02);border-radius:var(--border-s)}.sbs-bucket[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:var(--border-s);-webkit-box-shadow:inset 0 0 var(--gap-lm) var(--darken06)}.sbs-assigned-item[_ngcontent-%COMP%]{position:relative;direction:ltr;height:var(--gap-lm)}.sbs-item[_ngcontent-%COMP%]{padding-top:px}.sbs-filter[_ngcontent-%COMP%]{border:0;outline:0;background:none;color:var(--text);padding:0}.sbs-filter[_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--foreground-disabled)}.sbs-filter[_ngcontent-%COMP%]::-moz-placeholder{color:var(--foreground-disabled)}.sbs-filter[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--foreground-disabled)}.sbs-filter[_ngcontent-%COMP%]::placeholder{color:var(--foreground-disabled)}.search-icon[_ngcontent-%COMP%]{margin-left:var(--gap-m)}.sbs-search-icon[_ngcontent-%COMP%]{margin-left:var(--gap-m);margin-right:var(--gap-xs);font-weight:700}.sbs-clear-filter[_ngcontent-%COMP%]{position:relative;font-size:24px;text-align:center;margin-right:var(--gap-m)}.sbs-all-icon[_ngcontent-%COMP%]{outline:0}p.sbs-helper-text[_ngcontent-%COMP%]{margin:0}.sbs-helper-text[_ngcontent-%COMP%]{line-height:24px;min-height:24px;font-size:var(---text-sm)}.sbs-helper-icon[_ngcontent-%COMP%]{width:var(--gap-xxl);height:var(--gap-xxl);font-size:var(--gap-xxl);color:var(--accent);margin:0 auto;padding-top:112px}.sbs-container[_ngcontent-%COMP%]     .mat-form-field-infix{max-width:100%!important;margin:0 auto!important}.sbs-container[_ngcontent-%COMP%]     mat-list{padding-top:var(--gap-xxs)!important;border:0!important}.sbs-container[_ngcontent-%COMP%]     mat-list-item{-webkit-box-sizing:border-box;box-sizing:border-box;height:38px;border-left:0!important}.sbs-container[_ngcontent-%COMP%]     .mat-list-item-content{padding:0!important;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box}a[_ngcontent-%COMP%]{text-decoration:none}.sbs-feedback-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;height:var(--gap-lm);padding-top:var(--mar-xs);-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.sbs-item-label-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;min-width:0;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.sbs-item-toggle-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.sbs-error-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;height:var(--gap-lm);width:var(--gap-lm);padding-top:var(--mar-xs);-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.sbs-assigned-error-container[_ngcontent-%COMP%]{position:absolute;right:0;top:0;z-index:2}.sbs-options-error-container[_ngcontent-%COMP%]{position:absolute;right:0;z-index:2}.options-error[_ngcontent-%COMP%]{position:relative;top:-6px;left:-5px}.mat-mdc-list[_ngcontent-%COMP%]   .mat-mdc-list-item[_ngcontent-%COMP%], .mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%], .mat-selection-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{background-color:var(--bg-3)}.sbs-border-l[_ngcontent-%COMP%]{border-left:1px solid var(--border)}.sbs-border-r[_ngcontent-%COMP%]{border-right:1px solid var(--border)}.sbs-border-top[_ngcontent-%COMP%]{border-top:1px solid var(--border)}.sbs-border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid var(--border)}.sw-circle-id[_ngcontent-%COMP%]{margin-left:var(--gap-sm);height:24px!important;width:24px!important;line-height:24px}.sbs-avatar[_ngcontent-%COMP%]{border:1px solid var(--disabled);border-radius:50%;margin-left:var(--gap-sm);height:24px!important;width:24px!important;line-height:24px}.sbs-push-button-label[_ngcontent-%COMP%]   p.rotate[_ngcontent-%COMP%]{top:-var(--gap-xs)!important}.sbs-push-button-label[_ngcontent-%COMP%]{margin-left:var(--gap-m);position:relative}.sbs-mar-btm[_ngcontent-%COMP%]{margin-bottom:50px}.sbs-push-button[_ngcontent-%COMP%]{display:inline-block;height:18px;width:18px;border-radius:2px;position:relative;text-align:center;background-color:var(--accent)}.sbs-push-button-disabled[_ngcontent-%COMP%]{display:inline-block;height:18px;width:18px;border-radius:2px;position:relative;text-align:center;background-color:var(--disabled)}.sbs-push-button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .sbs-push-button-disabled[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;left:3px;top:-12px;color:var(--primary-text);font-size:9px;font-family:pop-icon,sans-serif}.sbs-push-button-sample[_ngcontent-%COMP%]{display:inline-block;height:18px;width:18px;border-radius:2px;position:relative;text-align:center;background-color:var(--accent);margin:0 4px 0 2px;line-height:1.8em;color:var(--primary-text);font-size:9px;font-family:pop-icon,sans-serif}.sbs-push-button[_ngcontent-%COMP%]   p.rotate[_ngcontent-%COMP%]{-webkit-transform:rotate(180deg);transform:rotate(180deg);top:-13px;left:2px}.sbs-push-button-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;top:0;left:0;display:none;z-index:10}.sbs-push-button[_ngcontent-%COMP%]:hover > .sbs-push-button-inner[_ngcontent-%COMP%]{display:inline-block;background-color:var(--darken2);border-radius:2px;position:absolute}.sbs-push-button-label[_ngcontent-%COMP%]{display:inline-block;height:18px;width:18px;margin-left:4px;border-radius:2px;position:relative;text-align:center;background-color:var(--primary)}.sbs-push-button-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;left:3px;top:-7px;color:var(--primary-text);font-size:9px;font-family:pop-icon,sans-serif}.sbs-push-button-label[_ngcontent-%COMP%]   p.rotate[_ngcontent-%COMP%]{-webkit-transform:rotate(180deg);transform:rotate(180deg);top:-7px;left:2px}.sbs-push-button-inner-label[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;top:0;left:0;display:none;z-index:10}.sbs-push-button-label[_ngcontent-%COMP%]:hover > .sbs-push-button-inner-label[_ngcontent-%COMP%]{display:inline-block;background-color:var(--darken2);border-radius:2px;position:absolute}.left-arrow[_ngcontent-%COMP%]{display:inline-block;height:10px;width:10px;border-radius:2px;position:relative;text-align:center;background-color:var(--background-code);margin:0;line-height:10px;color:#fff;font-size:5px;font-family:pop-icon,sans-serif;-webkit-transform:rotate(180deg);transform:rotate(180deg);top:-2px}.help-text[_ngcontent-%COMP%]{font-size:18px;margin-top:var(--gap-sm)}.help-caption[_ngcontent-%COMP%]{color:var(--foreground-disabled)}.hide-clear-icon[_ngcontent-%COMP%]{visibility:hidden}.show-clear-icon[_ngcontent-%COMP%]{visibility:visible}.sbs-image-wrapper[_ngcontent-%COMP%]{height:24px;width:24px;border-radius:50%}.sbs-disabled[_ngcontent-%COMP%]{color:var(--disabled)}.sbs-disabled[_ngcontent-%COMP%]:hover{text-decoration:none;color:var(--disabled);opacity:1}.sbs-helper[_ngcontent-%COMP%]{margin-right:var(--mar-md)}.sbs-helper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:var(--disabled)}"]}),i})();const ZI=function(i){return{"pcd-text-bold":i}},Dye=function(i){return{"sw-hidden":i}};let KI=(()=>{class i{constructor(e,t){this.config=e,this.dialog=t}ngOnInit(){this.config.header||(this.config.header="Confirmation"),this.config.option||(this.config.option={confirmed:1}),this.config.align||(this.config.align="left"),this.config.showBold||(this.config.showBold=!0),this.config.confirmationText||(this.config.confirmationText="Confirm"),this.config.cancelText||(this.config.cancelText="Cancel")}onConfirmForm(){this.dialog.close(this.config.option)}onCancelForm(){this.dialog.close(null)}}return i.\u0275fac=function(e){return new(e||i)(P(zs),P(Yo))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-confirmation-dialog"]],decls:9,vars:22,consts:[[1,"pcd-container"],[3,"ngClass"],[3,"ngClass","innerHTML"],[1,"pcd-dialog-footer"],["mat-raised-button","","cdkFocusInitial","",1,"pcd-btn",3,"ngClass","click"],["color","accent","mat-raised-button","",1,"pcd-btn",3,"ngClass","click"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"h3",1),ee(2),C(),me(3,"div",2),x(4,"div",3)(5,"button",4),ie("click",function(){return t.onCancelForm()}),ee(6),C(),x(7,"button",5),ie("click",function(){return t.onConfirmForm()}),ee(8),C()()()),2&e&&(_(1),hs("pcd-dialog-header pcd-align-",t.config.align,""),g("ngClass",qe(14,ZI,t.config.showBold)),_(1),Je(t.config.header),_(1),hs("pcd-body sw-body-text-1 pcd-align-",t.config.align,""),g("ngClass",qe(16,Dye,!t.config.body))("innerHTML",t.config.body,yr),_(2),g("ngClass",qe(18,ZI,t.config.showBold)),_(1),Je(t.config.cancelText),_(1),g("ngClass",qe(20,ZI,t.config.showBold)),_(1),Je(t.config.confirmationText))},dependencies:[kn,Gt],styles:[".pcd-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;margin-bottom:60px}.pcd-dialog-header[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--gap-sm)}.pcd-body[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;margin:0 0 var(--gap-xxl) 0;padding:0;min-height:30px;height:100%;overflow-x:hidden;overflow-y:auto}.pcd-align-left[_ngcontent-%COMP%]{text-align:left}.pcd-align-center[_ngcontent-%COMP%]{text-align:center}.pcd-align-right[_ngcontent-%COMP%]{text-align:right}.pcd-btn[_ngcontent-%COMP%]{margin-left:var(--gap-s)}.pcd-text-bold[_ngcontent-%COMP%]{font-weight:700}.pcd-dialog-footer[_ngcontent-%COMP%]{position:absolute;left:30px;right:30px;bottom:22px;display:-webkit-box;display:-ms-flexbox;display:flex;min-height:var(--gap-m);-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center}"]}),i})();function Oye(i,n){1&i&&(x(0,"span"),ee(1,"OK"),C())}function Rye(i,n){1&i&&(x(0,"div"),me(1,"mat-spinner",7),C())}function Fye(i,n){if(1&i&&(x(0,"div",11),ee(1),C()),2&i){const e=I(3);_(1),Je(e.dom.state.success)}}function Lye(i,n){if(1&i&&(x(0,"div",12),ee(1),C()),2&i){const e=I(3);_(1),Je(e.dom.error.message)}}function Nye(i,n){if(1&i&&(x(0,"div",8),$(1,Fye,2,1,"div",9),$(2,Lye,2,1,"div",10),C()),2&i){const e=I(2);g("@slideInOut",void 0),_(1),g("ngIf",e.dom.state.success),_(1),g("ngIf",e.dom.error.message)}}function Bye(i,n){if(1&i){const e=Me();x(0,"div")(1,"div",1),ee(2),C(),me(3,"div",2),x(4,"div",3)(5,"button",4),ie("click",function(){return he(e),pe(I().onFormCancel())}),ee(6," Cancel "),C(),x(7,"button",5),ie("click",function(){return he(e),pe(I().onFormSubmit())}),$(8,Oye,2,0,"span",0),$(9,Rye,2,0,"div",0),C()(),$(10,Nye,3,3,"div",6),C()}if(2&i){const e=I();g("@slideInOut",void 0),_(2),Je(e.data.field.name),_(3),g("disabled",e.dom.state.pending),_(2),g("disabled",!e.dom.state.validated||e.dom.state.pending),_(1),g("ngIf",!e.dom.state.pending),_(1),g("ngIf",e.dom.state.pending),_(1),g("ngIf",e.dom.state.success||(null==e.dom.error?null:e.dom.error.message))}}let Vye=(()=>{class i extends Jo{constructor(e,t){super(),this.dialog=e,this.data=t,this.name="PopEntityFieldModalComponent"}ngOnInit(){super.ngOnInit()}onFormSubmit(){this.log.info("PopEntityFieldModalComponent-onFOrmSubmit")}onFormCancel(){this.dom.state.loaded=!1,this.dom.setTimeout("close-modal",()=>{this.dialog.close(-1)},500)}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(P(Yo),P(zs))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-field-modal"]],features:[Re],decls:1,vars:1,consts:[[4,"ngIf"],[1,"pop-field-dialog-title"],[1,"pop-field-dialog-fields"],[1,"pop-field-dialog-buttons"],["mat-raised-button","",1,"pop-field-dialog-cancel",3,"disabled","click"],["mat-raised-button","","color","accent",1,"pop-field-dialog-other",3,"disabled","click"],["class","pop-field-dialog-message-layout",4,"ngIf"],["diameter","20"],[1,"pop-field-dialog-message-layout"],["class","pop-field-dialog-success",4,"ngIf"],["class","pop-field-dialog-errors",4,"ngIf"],[1,"pop-field-dialog-success"],[1,"pop-field-dialog-errors"]],template:function(e,t){1&e&&$(0,Bye,11,7,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},dependencies:[ct,kn,gf],styles:["[_nghost-%COMP%]{position:relative;display:block;min-width:400px}[_nghost-%COMP%]   .pop-field-dialog-title[_ngcontent-%COMP%]{font-weight:500;text-align:center;margin-bottom:10px}[_nghost-%COMP%]   .pop-field-dialog-fields[_ngcontent-%COMP%]{position:relative;display:block;width:100%;margin-bottom:10px}[_nghost-%COMP%]   .pop-field-dialog-fields[_ngcontent-%COMP%]   .pop-field-dialog-field[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .pop-field-dialog-fields[_ngcontent-%COMP%]   .pop-field-dialog-field-lock[_ngcontent-%COMP%]{opacity:90%}[_nghost-%COMP%]   .pop-field-dialog-fields[_ngcontent-%COMP%]   .pop-field-dialog-field-spinner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin-left:-22px;margin-top:-40px}[_nghost-%COMP%]   .pop-field-dialog-buttons[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}[_nghost-%COMP%]   .pop-field-dialog-buttons[_ngcontent-%COMP%]   .pop-field-dialog-cancel[_ngcontent-%COMP%]{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-height:35px;min-width:100px}[_nghost-%COMP%]   .pop-field-dialog-buttons[_ngcontent-%COMP%]   .pop-field-dialog-other[_ngcontent-%COMP%]{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:10px;min-width:100px;min-height:35px}[_nghost-%COMP%]   .pop-field-dialog-errors[_ngcontent-%COMP%]{color:var(--warn);text-align:center;word-break:break-word}[_nghost-%COMP%]   .pop-field-dialog-success[_ngcontent-%COMP%]{color:var(--success);text-align:center;word-break:break-word}[_nghost-%COMP%]   .pop-field-dialog-message-layout[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;min-height:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}[_nghost-%COMP%]   .pop-field-dialog-disabled[_ngcontent-%COMP%]{pointer-events:none}"],data:{animation:[gp]}}),i})();const $ye=["focusTarget"];let ta=(()=>{class i extends Yt{constructor(e,t,o={}){var s;super(),s=this,this.el=e,this._domRepo=t,this.custom_setting=o,this.name="PopEntityFieldBoilerComponent",this.srv={dialog:Rt.get(Fn),field:Rt.get(dV)},this.ui={actionBtnWidth:0,asset:void 0},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return s.field=Ai(s.field,["id","data_keys"],`${s.name}:configureDom: - this.field`)?s.field:null,s.id=s.field.id,s.ui.asset={},yield s._setInitialConfig(),yield s._transformChildren(),s.field.data_keys.map((l,c)=>{s.dom.session[l]={},s.dom.session[l].display={},s.dom.state[l]={open:!1,template:s.field.state,footer_adjust:s.field.state,customLabel:!1}}),s.dom.setSubscriber("parent-event-handler",s.events.subscribe(l=>{Y(l,!0)&&"add"===l.name&&s.onAdd(l)})),a(!0)});return function(a){return r.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(r=>(this._restoreDomSession(),this._setAssetConfigs(),this._setFieldAttributes(),r(!0)))}ngOnInit(){super.ngOnInit()}onActionEvent(e,t){if(this.log.event("onActionEvent",e),"field"===e.type)switch(String(e.name).toLowerCase()){case"remove":this.onRemove(e,t);break;case"edit":this.onEdit(e,t);break;case"close":this.onClose(e,t)}return!0}onFieldItemEvent(e,t=null,o=null){return this.log.event("onFieldItemEvent",e),Ln(0,e)?this.onPatch(e,t,o):"field"===e.type&&"close"===e.name&&this.onClose(e,t),!0}onAdd(e){if(this.log.event("onAdd",e),this.field.data_keys.length<this.field.entries.length){const t=this.field.entries.length-1,o=this.srv.field.addEntryValue(this.core,this.field),s=o.data;delete o.data,this.field.data[o.entry.id]=s,this.field.items[o.entry.id]=o,this.field.data_keys.push(o.entry.id+""),this._setFieldItemAttribute(o.entry.id,t),this._setAssetConfig(o.entry.id,t),this.dom.setTimeout("open-new",()=>{this._updateState(o.entry.id,"open",!0)},0)}return!0}onEditMode(e){this.onEdit(null,e)}onEdit(e,t){if(this.log.info("onEdit",{event:e,dataKey:t}),!this.field.modal)return this.dom.state.template="template_edit",this.dom.state.open=!0,kt(t)&&this.dom.state[t]?(this.dom.state[t].template="template_edit",this.dom.state[t].open=!0):Object.keys(this.dom.state).map(o=>{Vi(o)&&(this.dom.state[o].template="template_edit",this.dom.state[o].open=!0)}),this.dom.store("state"),this.focusTarget&&this.focusTarget.inputField&&this.dom.setTimeout("set-target-focus",()=>{this.focusTarget.inputField.nativeElement.focus()},200),!0;{const o=this.srv.dialog.open(Vye,{width:.5*window.innerWidth+"px",height:.5*window.innerHeight+"px",panelClass:"sw-dialog-1",data:{core:this.core,field:this.field}});this.dom.subscriber.dialog=o.beforeClosed().subscribe(s=>{this.dom.state.blockModal=!1})}}onRemove(e,t){return this.log.event("onRemove",e),this.field.facade?this.onBubbleEvent("remove",{dataKey:t}):this.srv.dialog.open(KI,{width:"350px",data:{option:null,body:"Delete this field value?"}}).afterClosed().subscribe(o=>{o&&o.confirmed&&this.srv.field.removeEntryValue(this.core,this.field,t).then(()=>{delete this.field.data[t],delete this.field.items[t],this.field.data_keys.pop(),delete this.dom.state[t],delete this.ui.asset[t],delete this.dom.session[t],this.dom.store("session"),this.onBubbleEvent("remove",{dataKey:t})})}),!0}onClose(e,t){return this.log.event(`onClose:${t}`,e),this.dom.state.open=!1,this.dom.state.template="template_readonly",t?(this.dom.state[t].template="template_readonly",this.dom.state[t].open=!1):Object.keys(this.dom.state).map(o=>{Vi(o)&&(this.dom.state[o].template="template_readonly",this.dom.state[o].open=!1)}),this.onBubbleEvent("close"),!0}onPatch(e,t=null,o=null){var s=this;return this.log.event("onPatch",e),new Promise(function(){var r=q(function*(a){if(e.data_key=t,e.column=o,s.field.facade)s.onBubbleEvent("onPatch",null,e);else if(yield s.srv.field.updateFieldItem(s.core,s.field,e))s.field.data[t][o]=e.config.control.value,s._triggerUpdateAssetDisplay(t);else{const c=Lt(s.field,["items",t+"","config",o,"value"],void 0);kt(c,!0)&&e.config.control.setValue(c)}return a(!0)});return function(a){return r.apply(this,arguments)}}())}onBubbleEvent(e,t,o){return o||(o={source:this.name,type:"field",name:e}),t&&(o={...o,...t}),this.log.event("bubbleEvent",o),this.events.emit(o),!0}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){return new Promise(e=>e(!0))}_transformChildren(){return new Promise(e=>e(!0))}_restoreDomSession(){this.field.data_keys.map((e,t)=>{if(Y(this.dom.session[e],!0)){const o=this.field.items[e],s=this.dom.session[e];Y(s.entry,["id"])&&(o.entry=s.entry)}})}_setAssetConfigs(){this.srv.field.setFieldCustomSetting(this.field,this.custom_setting),delete this.custom_setting,this.field.data_keys.map((e,t)=>{this._setAssetConfig(+e,t)})}_setAssetConfig(e,t){const o=Gs(this.field.entries).filter(c=>"custom"===c.type),r=[...Gs(this.field.entries).filter(c=>"custom"!==c.type)],a=this.field.items[e];a.entry||(a.entry=this.field.entries[0]),this._updateDisplayField(e,"label",a.entry.name),this._updateState(e,"custom_label",this.field.setting.edit_label&&this.field.setting.custom_label&&"custom"===a.entry.type),this.field.setting.custom_label&&De(o,!0)&&r.push(o[o.length-1]),Y(this.ui.asset[e],!0)||(this.ui.asset[e]={primary_call:new hp({options:{values:[{value:"1",name:"Primary Calling Number"}]}}),primary_text:new hp({options:{values:[{value:"1",name:"Primary Texting Number"}]}}),display:new li({readonly:!0,label:this.field.label??this.field.name,value:this._getAssetDisplayStr(e)}),entry:new Zi({label:"Label",value:a.entry?a.entry.id:null,options:{values:as(r)},minimal:!0,facade:!0,patch:{field:"",path:"",after:(c,A)=>{Ln(0,A)&&this._updateFieldEntry(e,+A.config.control.value)}}}),customLabel:new li({label:"Custom Label",value:this.dom.session[e].customLabel?this.dom.session[e].customLabel:"",required:!0,validators:[Xt.required],maxlength:24,facade:!0,patch:{field:"",path:"",after:(c,A)=>{Ln(0,A)&&this._updateCustomEntryLabel(e,A.config.control.value)}}})}),this._updateCustomLabelState(e,a.entry)}_updateFieldEntry(e,t){const o=this.field.items[e];if(Y(o,!0)){const s=Kn(this.field.entries,"id"),r=this.field.entries[s[t]];o.entry=r,this.dom.session[e].entry=r,this.dom.store("session"),this._updateCustomLabelState(e,r)}}_updateCustomEntryLabel(e,t){Y(this.field.items[e],!0)&&(this._updateDisplayField(e,"label",t),Y(this.dom.session[e],!0)&&(this.dom.session[e].customLabel=t,this.dom.store("session")),this._updateDisplayLabel(e,t))}_updateCustomLabelState(e,t){if(e&&Y(t,["id","type","name"])){const o="custom"===t.type;if(o){if(this._updateState(e,"customLabel",this.field.setting.edit_label&&o),this.ui.asset[e].customLabel.control.value){const r=this.ui.asset[e].customLabel.control.value;this._updateDisplayField(e,"label",r),this.dom.session.entry&&(this.dom.session.entry.name=r)}else this.ui.asset[e].customLabel.control.setValue("Custom",{emitEvent:!0}),this._updateDisplayField(e,"label","Custom");this._updateDisplayLabel(e,this.ui.asset[e].customLabel.control.value)}}}_updateDisplayLabel(e,t){const o=this.field.items[e];if(Y(o,!0)){const s=o.config,r=Y(o.config,["value"])?s.value:null;Y(r,!0)&&(r.label=t),this.ui.asset[e].display.label=t}}_updateAssetDisplay(e){var t=this;if(this.ui.asset&&this.ui.asset[e]){const o=this.ui.asset[e].display;o.value=this._getAssetDisplayStr(e),this.log.info("_updateAssetDisplay",{dataKey:e,value:o.value}),this.dom.setTimeout(`display-update-${e}`,q(function*(){o.control.setValue(o.value,{emitEvent:!1}),o.control.value=o.value,yield t._onCustomDisplayUpdate(String(o.value))}),0)}}_onCustomDisplayUpdate(e){var t=this;return new Promise(function(){var o=q(function*(s){return t.log.info("_onCustomDisplayUpdate",e),s(!0)});return function(s){return o.apply(this,arguments)}}())}_triggerUpdateAssetDisplay(e){this.dom.setTimeout(`field-display-${e}`,()=>{this._updateAssetDisplay(e)},25)}_updateDisplayField(e,t,o){this.log.info("_updateDisplayField",{dataKey:e,field:t,value:o}),kt(e)&&Y(this.dom.session)&&(Y(this.dom.session[e])||(this.dom.session[e]={}),Y(this.dom.session[e].display)||(this.dom.session[e].display={}),this.dom.session[e].display[t]=o)}_getDataKey(e,t){let o=Ai(this.field.data,!0,`${this.name}:getDataKey`)?this.field.data[e]:null;return o&&t&&(o=t in o?o[t]:null),o}_getAssetDisplayStr(e){let t="";const o=this._getDataKeyItemConfig(e);return Object.keys(o).map(s=>{const r=o[s];r.control&&r.control.value&&(t+=" "+r.control.value)}),this.field.isPrimary&&this._handlePrimaryDisplayUpdate(String(t).trim()),String(t).trim()}_setFieldAttributes(){return!0}_handlePrimaryDisplayUpdate(e){return this.log.info("_handlePrimaryDisplayUpdate",e),!0}_setFieldItemAttribute(e,t){return!0}_getDataKeyItemConfig(e,t){const o=Ai(this.field.items[e],!0,`${this.name}:_getDataKeyItem`)?this.field.items[e]:null;return t?Ai(o.config[t],!0,`${this.name}:_getDataKeyItem:${t}`)?o.config[t]:null:o.config}_getTypeOptionName(e,t){const o=this._getDataKeyItemConfig(this.field.data_keys[t],"type");if(o.options){const s=Kn(o.options.values,"value"),r=e in s?o.options.values[s[e]]:null;return r?r.name:e}return""}_getEntryOptionName(e,t){const o=this._getDataKeyItemConfig(this.field.data_keys[t],"title");if(o.options){const s=Kn(o.options.values,"value"),r=e in s?o.options.values[s[e]]:null;return r?r.name:e}return""}_getValueEntry(e){return De(this.field.entries,!0)?Y(this.field.entries[e],!0)?this.field.entries[e]:this.field.entries[0]:null}_updateState(e,t,o){kt(e)&&Y(this.dom.state)&&(Y(this.dom.state[e])||(this.dom.state[e]={open:!1,template:this.field.state,footer_adjust:this.field.state,customLabel:!1}),this.dom.state[e][t]=o)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Mde))},i.\u0275cmp=Fe({type:i,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&ht($ye,5),2&e){let o;Ke(o=Ye())&&(t.focusTarget=o.first)}},inputs:{field:"field"},features:[Re],decls:2,vars:0,template:function(e,t){1&e&&(x(0,"div"),ee(1,"Boiler"),C())},encapsulation:2}),i})();function Hye(i,n){if(1&i){const e=Me();x(0,"div",19)(1,"lib-pop-entity-field-edit-icon",20),ie("events",function(o){he(e);const s=I(4).$implicit;return pe(I().onActionEvent(o,s))}),C()()}if(2&i){const e=I(5);_(1),g("field",e.field)("dom",e.dom)}}function zye(i,n){if(1&i){const e=Me();x(0,"div",21)(1,"lib-pop-input",12),ie("events",function(o){he(e);const s=I(4).$implicit;return pe(I().onFieldItemEvent(o,s,"prefix"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.prefix)}}function jye(i,n){1&i&&me(0,"div",22)}function Gye(i,n){if(1&i){const e=Me();x(0,"div",21)(1,"lib-pop-input",12),ie("events",function(o){he(e);const s=I(4).$implicit;return pe(I().onFieldItemEvent(o,s,"middle"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.middle)}}function Wye(i,n){1&i&&me(0,"div",22)}function Uye(i,n){if(1&i){const e=Me();x(0,"div",11)(1,"lib-pop-input",12),ie("events",function(o){he(e);const s=I(4).$implicit;return pe(I().onFieldItemEvent(o,s,"last"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.last)}}function Zye(i,n){1&i&&me(0,"div",22)}function Kye(i,n){if(1&i){const e=Me();x(0,"div",21)(1,"lib-pop-input",12),ie("events",function(o){he(e);const s=I(4).$implicit;return pe(I().onFieldItemEvent(o,s,"suffix"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.suffix)}}function Yye(i,n){1&i&&me(0,"div",11)}function Xye(i,n){if(1&i){const e=Me();x(0,"div",23)(1,"lib-pop-field-btn",24),ie("events",function(o){he(e);const s=I(4).$implicit;return pe(I().onActionEvent(o,s))}),C()()}if(2&i){const e=I(5);_(1),g("field",e.field)}}const qye=function(i){return{"sw-hidden":i}},Jye=function(){return{value:"CLOSE",size:34,color:"accent",bubble:!0,event:"close",width:90,text:16}};function Qye(i,n){if(1&i){const e=Me();x(0,"div")(1,"div",4)(2,"div",5)(3,"div",6)(4,"lib-pop-input",7),ie("click",function(){he(e);const o=I(3).$implicit;return pe(I().onEditMode(o))}),C()(),$(5,Hye,2,2,"div",8),C()(),x(6,"div",9),$(7,zye,2,1,"div",10),x(8,"div",11)(9,"lib-pop-input",12,13),ie("events",function(o){he(e);const s=I(3).$implicit;return pe(I().onFieldItemEvent(o,s,"first"))}),C()(),$(11,jye,1,0,"div",14),$(12,Gye,2,1,"div",10),$(13,Wye,1,0,"div",14),$(14,Uye,2,1,"div",15),$(15,Zye,1,0,"div",14),$(16,Kye,2,1,"div",10),$(17,Yye,1,0,"div",15),$(18,Xye,2,1,"div",16),x(19,"div",17)(20,"lib-pop-button",18),ie("events",function(o){he(e);const s=I(3).$implicit;return pe(I().onActionEvent(o,s))}),C()()()()}if(2&i){const e=n.$implicit,t=I().$implicit,o=I().$implicit,s=I(2);_(4),g("config",t.display),_(1),g("ngIf",!0),_(1),g("ngClass",qe(14,qye,!e.open)),_(1),g("ngIf",o.prefix),_(2),g("config",o.first),_(2),g("ngIf",o.prefix&&s.field.items.middle),_(1),g("ngIf",o.middle),_(1),g("ngIf",!s.field.items.prefix&&!s.field.items.middle),_(1),g("ngIf",o.last),_(1),g("ngIf",o.prefix&&s.field.items.first&&s.field.items.middle&&s.field.items.last),_(1),g("ngIf",o.suffix),_(1),g("ngIf",o.suffix),_(1),g("ngIf",s.field.canRemove),_(2),g("config",ms(16,Jye))}}function exe(i,n){if(1&i&&(x(0,"div"),$(1,Qye,21,17,"div",3),C()),2&i){const e=I(2).$implicit,t=I();_(1),g("ngIf",t.dom.state[e])}}function txe(i,n){if(1&i&&(x(0,"div"),$(1,exe,2,1,"div",3),C()),2&i){const e=I().$implicit,t=I();_(1),g("ngIf",t.dom.state.loaded&&t.ui.asset[e])}}function ixe(i,n){if(1&i&&(x(0,"div",2),$(1,txe,2,1,"div",3),C()),2&i){const e=n.$implicit,t=I();_(1),g("ngIf",t.field.items[e].config)}}let bV=(()=>{class i extends ta{constructor(e,t){super(e,t,fI),this.el=e,this._domRepo=t,this.name="PopEntityNameComponent"}_onCustomDisplayUpdate(e){var t=this;return new Promise(function(){var o=q(function*(s){return t.log.info("_onCustomDisplayUpdate",e),s(!0)});return function(s){return o.apply(this,arguments)}}())}_handlePrimaryDisplayUpdate(e){return this.log.info("_handlePrimaryDisplayUpdate",e),Y(Zv)&&(Zv.syncName=e),!0}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-name"]],inputs:{field:"field"},features:[Re],decls:2,vars:1,consts:[[1,"pop-entity-name","sw-field-container"],["class","sw-flex-column sw-field-flex-row-offset",4,"ngFor","ngForOf"],[1,"sw-flex-column","sw-field-flex-row-offset"],[4,"ngIf"],[1,"sw-flex-row","sw-field-flex-row-offset"],[1,"sw-flex-row-wrap"],[1,"sw-field","sw-field-spacing","sw-flex-item-sm","sw-flex-grow-sm"],[1,"pop-entity-name-display",3,"config","click"],["class","sw-field sw-flex-item-icon","style","min-width: 50px",4,"ngIf"],[1,"sw-flex-row-wrap","sw-pad-lft-sm","sw-pad-rgt-sm","sw-mar-top-sm","entity-field-detail",3,"ngClass"],["class","sw-field sw-field-spacing sw-flex-item-sm sw-flex-grow-md",4,"ngIf"],[1,"sw-field","sw-field-spacing","sw-flex-item-md","sw-flex-grow-lg"],[3,"config","events"],["focusTarget",""],["class","sw-flex-row-break",4,"ngIf"],["class","sw-field sw-field-spacing sw-flex-item-md sw-flex-grow-lg",4,"ngIf"],["class","sw-field-footer sw-mar-top-md",4,"ngIf"],[1,"sw-flex-row-wrap","sw-flex-end","sw-mar-top-lg","sw-pad-rgt-lg","sw-pad-btm-md"],[1,"entity-field-close-btn",3,"config","events"],[1,"sw-field","sw-flex-item-icon",2,"min-width","50px"],[1,"entity-field-edit-icon",3,"field","dom","events"],[1,"sw-field","sw-field-spacing","sw-flex-item-sm","sw-flex-grow-md"],[1,"sw-flex-row-break"],[1,"sw-field-footer","sw-mar-top-md"],["action","remove",1,"sw-mar-rgt-lg",3,"field","events"]],template:function(e,t){1&e&&(x(0,"div",0),$(1,ixe,2,1,"div",1),C()),2&e&&(_(1),g("ngForOf",t.field.data_keys))},styles:[".entity-field-close-btn[_ngcontent-%COMP%]     .pop-button-content{padding:10px 10px 10px 12px!important}.entity-field-detail[_ngcontent-%COMP%]{background-color:var(--background-item-menu);margin-right:var(--gap-xxs)}  .entity-field-edit-icon .mat-icon{color:var(--foreground-disabled)}"]}),i})();function nxe(i,n){if(1&i&&(x(0,"div",5),me(1,"lib-pop-datetime",6),C()),2&i){const e=n.$implicit;_(1),g("config",e)}}function oxe(i,n){1&i&&me(0,"div",7)}function sxe(i,n){if(1&i&&(x(0,"div"),$(1,nxe,2,1,"div",3),$(2,oxe,1,0,"div",4),C()),2&i){const e=n.$implicit,t=I().last,o=I();_(1),g("ngIf",e.config.value),_(1),g("ngIf",o.field.canRemove&&t)}}function rxe(i,n){if(1&i&&(x(0,"div",1),$(1,sxe,3,2,"div",2),C()),2&i){const e=n.$implicit,t=I();_(1),g("ngIf",t.field.items[e])}}let vV=(()=>{class i extends Yt{constructor(e){super(),this.el=e,this.name="PopEntityDatetimeComponent",this.dom.configure=()=>new Promise(t=>{this.id=this.field.id,this.trait.bubble=!0,this.dom.state.open=!1,this.dom.state.footer_adjust=!1,this.dom.state.row1={first:!0,visible:!0},t(!0)})}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-datetime"]],inputs:{field:"field"},features:[Re],decls:1,vars:1,consts:[["class","pop-entity-input-field sw-field-container",4,"ngFor","ngForOf"],[1,"pop-entity-input-field","sw-field-container"],[4,"ngIf"],["class","sw-flex-row sw-flex-item-full",4,"ngIf"],["class","sw-field-footer sw-mar-top-sm sw-pad-rgt-lg",4,"ngIf"],[1,"sw-flex-row","sw-flex-item-full"],[2,"width","100%",3,"config"],[1,"sw-field-footer","sw-mar-top-sm","sw-pad-rgt-lg"]],template:function(e,t){1&e&&$(0,rxe,2,1,"div",0),2&e&&g("ngForOf",t.field.data_keys)}}),i})();function axe(i,n){if(1&i){const e=Me();x(0,"div",8)(1,"lib-pop-input",9),ie("events",function(o){he(e);const s=I(2).$implicit;return pe(I().onFieldItemEvent(o,s,"address"))}),C()()}if(2&i){const e=n.$implicit;_(1),g("config",e)}}function lxe(i,n){if(1&i){const e=Me();x(0,"div",10)(1,"div",11)(2,"lib-pop-button",12),ie("events",function(o){he(e);const s=I(2).$implicit;return pe(I().onActionEvent(o,s))}),C()()()}if(2&i){const e=n.$implicit;_(2),g("config",e)}}function cxe(i,n){if(1&i){const e=Me();x(0,"div",13)(1,"lib-pop-field-btn",14),ie("events",function(o){he(e);const s=I(2).$implicit;return pe(I().onActionEvent(o,s))}),C()()}if(2&i){const e=I(3);_(1),g("field",e.field)}}function dxe(i,n){if(1&i&&(x(0,"div",3)(1,"div",4),$(2,axe,2,1,"div",5),$(3,lxe,3,1,"div",6),C(),$(4,cxe,2,1,"div",7),C()),2&i){const e=n.$implicit,t=I().last,o=I();_(2),g("ngIf",e.address),_(1),g("ngIf",e.action),_(1),g("ngIf",o.field.canRemove&&t)}}function uxe(i,n){if(1&i&&(x(0,"div"),$(1,dxe,5,3,"div",2),C()),2&i){const e=n.$implicit,t=I();_(1),g("ngIf",t.field.items[e].config)}}let yV=(()=>{class i extends ta{constructor(e,t){super(e,t,uI),this.el=e,this._domRepo=t,this.name="PopEntityEmailComponent",this.asset={extensionKeys:["action"]}}_setFieldAttributes(){return this.field&&this.field.items&&Object.keys(this.field.items).map((e,t)=>{this._setFieldItemAttribute(+e,t)}),!0}_setFieldItemAttribute(e,t){const o=this.field.items[e],s=Object.keys(o.config);if(this.dom.state.has_extension=s.some(r=>this.asset.extensionKeys.includes(r)),"action"in o.config&&(this.ui.actionBtnWidth=50,o.config.action=new Ms({value:"EMAIL",size:39,icon:null,width:90,text:16})),"address"in o.config){const r=this.field.children.address,a=o.config.address;a.pattern="Email",a.type="email";const l=[];l.push(Xt.email),+r.rule.required&&l.push(Xt.required),+r.rule.maxlength&&l.push(Xt.maxLength(+r.rule.maxlength)),a.validators=l,this.field.uses_multiple_values&&(a.label=this.field.entries[t].name),a.patch.after=()=>{this._updateAddress(+e,t)},this._updateAddress(+e,t)}return!0}_updateAddress(e,t){const o=this._getDataKeyItemConfig(e,"address");o.metadata.source&&(o.value=o.control.value,this._triggerUpdateAssetDisplay(e))}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-email"]],inputs:{field:"field"},features:[Re],decls:2,vars:1,consts:[[1,"pop-entity-input-field","sw-field-container"],[4,"ngFor","ngForOf"],["class","sw-flex-column sw-flex-item-full",4,"ngIf"],[1,"sw-flex-column","sw-flex-item-full"],[1,"sw-flex-row","sw-field-flex-row-offset"],["class","sw-field sw-field-spacing sw-flex-item-sm sw-flex-grow-md",4,"ngIf"],["class","pop-entity-email-btn-container",4,"ngIf"],["class","sw-field-footer sw-mar-top-sm sw-pad-rgt-md",4,"ngIf"],[1,"sw-field","sw-field-spacing","sw-flex-item-sm","sw-flex-grow-md"],[3,"config","events"],[1,"pop-entity-email-btn-container"],[1,"sw-field"],[1,"pop-entity-email-btn","sw-shadow-02",3,"config","events"],[1,"sw-field-footer","sw-mar-top-sm","sw-pad-rgt-md"],["action","remove",1,"sw-mar-rgt-sm",3,"field","events"]],template:function(e,t){1&e&&(x(0,"div",0),$(1,uxe,2,1,"div",1),C()),2&e&&(_(1),g("ngForOf",t.field.data_keys))},styles:[".pop-entity-email-btn-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;top:4px;left:-7px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;max-height:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.pop-entity-email-btn-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-left:15px}.pop-entity-email-btn[_ngcontent-%COMP%]     .pop-button-content{display:block;color:var(--accent);padding:10px 10px 10px 12px!important;font-weight:600;margin-top:2px}"]}),i})();function hxe(i,n){1&i&&(x(0,"mat-icon",22),ee(1,"star"),C())}function pxe(i,n){if(1&i){const e=Me();x(0,"div",21)(1,"lib-pop-button",10),ie("events",function(o){he(e);const s=I(4).$implicit;return pe(I().onActionEvent(o,s))}),C(),$(2,hxe,2,0,"mat-icon",11),C()}if(2&i){const e=I(2).$implicit,t=I().$implicit;_(1),g("config",e.canCallBtn),_(1),g("ngIf",t.primary_call&&t.primary_call.control.value)}}function mxe(i,n){1&i&&(x(0,"mat-icon",22),ee(1,"star"),C())}function fxe(i,n){if(1&i){const e=Me();x(0,"div",23)(1,"lib-pop-select",10),ie("events",function(o){he(e);const s=I(4).$implicit;return pe(I().onFieldItemEvent(o,s,"country_id"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.country_id)}}function gxe(i,n){if(1&i){const e=Me();x(0,"div",24)(1,"lib-pop-input",10,25),ie("events",function(o){he(e);const s=I(4).$implicit;return pe(I().onFieldItemEvent(o,s,"number"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.number)}}function _xe(i,n){if(1&i){const e=Me();x(0,"div",23)(1,"lib-pop-input",10),ie("events",function(o){he(e);const s=I(4).$implicit;return pe(I().onFieldItemEvent(o,s,"extension"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.extension)}}function bxe(i,n){if(1&i){const e=Me();x(0,"lib-pop-checkbox",31),ie("events",function(o){he(e);const s=I(5).$implicit;return pe(I().onFieldItemEvent(o,s,"can_call"))}),C()}2&i&&g("config",n.$implicit)}function vxe(i,n){if(1&i){const e=Me();x(0,"lib-pop-checkbox",32),ie("events",function(o){he(e);const s=I(5).$implicit;return pe(I().onFieldItemEvent(o,s,"can_text"))}),C()}2&i&&g("config",n.$implicit)}function yxe(i,n){if(1&i&&(x(0,"div",26)(1,"div",27)(2,"div",28),$(3,bxe,1,1,"lib-pop-checkbox",29),C()(),x(4,"div",27)(5,"div",28),$(6,vxe,1,1,"lib-pop-checkbox",30),C()()()),2&i){const e=I(3).$implicit;_(3),g("ngIf",e.stop_call_at),_(3),g("ngIf",e.stop_text_at)}}const xxe=function(i){return{"sw-disabled":i}},Cxe=function(i){return{"sw-invisible":i}},wxe=function(i){return{"sw-hidden":i}},kxe=function(){return{value:"CLOSE",size:34,color:"accent",bubble:!0,event:"close",width:90,text:16}};function Ixe(i,n){if(1&i){const e=Me();x(0,"div")(1,"div",3)(2,"div",4)(3,"div",5)(4,"lib-pop-input",6),ie("click",function(){he(e);const o=I(3).$implicit;return pe(I().onEditMode(o))}),C()(),x(5,"div",7),$(6,pxe,3,2,"div",8),x(7,"div",9)(8,"lib-pop-button",10),ie("events",function(){return he(e),pe(I(4).onTextClick())}),C(),$(9,mxe,2,0,"mat-icon",11),C(),x(10,"div",12)(11,"lib-pop-entity-field-edit-icon",13),ie("events",function(o){he(e);const s=I(3).$implicit;return pe(I().onActionEvent(o,s))}),C()()()()(),x(12,"div",14)(13,"div",4),$(14,fxe,2,1,"div",15),me(15,"div",16),$(16,gxe,3,1,"div",17),$(17,_xe,2,1,"div",15),C(),x(18,"div",4),$(19,yxe,7,2,"div",18),C(),me(20,"mat-divider"),x(21,"div",19)(22,"lib-pop-button",20),ie("events",function(o){he(e);const s=I(3).$implicit;return pe(I().onActionEvent(o,s))}),C()()()()}if(2&i){const e=n.$implicit,t=I().$implicit,o=I().$implicit,s=I(2);_(1),g("ngClass",qe(16,xxe,e.open)),_(3),g("config",t.display),_(1),et("width",s.ui.actionBtnWidth,"px"),_(1),g("ngIf",o.stop_call_at&&o.stop_call_at.control.value),_(1),g("ngClass",qe(18,Cxe,!o.stop_text_at||!o.stop_text_at.control.value)),_(1),g("config",t.canTextBtn),_(1),g("ngIf",o.primary_text&&o.primary_text.control.value),_(2),g("field",s.field)("dom",s.dom),_(1),g("ngClass",qe(20,wxe,!e.open)),_(2),g("ngIf",o.country_id),_(2),g("ngIf",o.number),_(1),g("ngIf",o.extension),_(2),g("ngIf",o.stop_call_at||o.stop_text_at),_(3),g("config",ms(22,kxe))}}function Axe(i,n){if(1&i&&(x(0,"div"),$(1,Ixe,23,23,"div",2),C()),2&i){const e=I(2).$implicit,t=I();_(1),g("ngIf",t.dom.state[e])}}function Sxe(i,n){if(1&i&&(x(0,"div"),$(1,Axe,2,1,"div",2),C()),2&i){const e=I().$implicit,t=I();_(1),g("ngIf",t.dom.state.loaded&&t.ui.asset[e])}}function Mxe(i,n){if(1&i&&(x(0,"div"),$(1,Sxe,2,1,"div",2),C()),2&i){const e=n.$implicit,t=I();_(1),g("ngIf",t.field.items[e].config)}}let xV=(()=>{class i extends ta{constructor(e,t){super(e,t,mI),this.el=e,this._domRepo=t,this.name="PopEntityPhoneComponent",this.asset={extensionKeys:["type","voice_button","sms_button","do_not_call","do_not_sms","country_id"]}}makePrimaryCall(e){Object.keys(this.field.items).forEach(t=>this.field.items[t].config.primary_call.control.setValue(!1)),this.field.items[e].config.primary_call.control.setValue(!0),Object.keys(this.ui.asset).forEach(t=>this.ui.asset[t].primary_call.control.setValue(!1))}makePrimaryText(e){Object.keys(this.field.items).forEach(t=>this.field.items[t].config.primary_text.control.setValue(!1)),this.field.items[e].config.primary_text.control.setValue(!0),Object.keys(this.ui.asset).forEach(t=>this.ui.asset[t].primary_text.control.setValue(!1))}onTextClick(){const e=`scrollbars=no, status=no, location=no,left=100,width=350,height=${screen.height}`,t=window.location.protocol+"//"+window.location.host+`/widget/chat?profile_id=${this.core.entity.id}`;window.open(t,"chat",e)}_setInitialConfig(){return new Promise(e=>(Object.keys(this.field.items).map(o=>+o).map(o=>{const s=Y(this.field.items[o],["config"])?this.field.items[o].config:null;Y(s,!0)&&(Y(s.stop_call_at,["control"])&&s.stop_call_at.control.setValue(!0),Y(s.stop_text_at,["control"])&&s.stop_text_at.control.setValue(!0),s.primary_call=new qr({value:!1}),s.primary_text=new qr({value:!1}))}),e(!0)))}_getAssetDisplayStr(e){let t="";const o=this.dom.session[e].display,s=this._getDataKeyItemConfig(e);return"country_id"in s&&o.country_id&&(t+=`+${o.country_id} `),o.number&&(t+=ka(`${o.number}`,"tophonepipe")),"extension"in s&&o.extension&&(t+=` Ext. ${o.extension} `),t}_setFieldAttributes(){return this.field&&this.field.items&&Object.keys(this.field.items).map((e,t)=>{this._setFieldItemAttribute(+e,t)}),!0}_setFieldItemAttribute(e,t){this.ui.actionBtnWidth=50;let o=!1,s=!1;const r=this.field.items[e],a=Object.keys(r.config);if(this.dom.state.has_extension=a.some(l=>this.asset.extensionKeys.includes(l)),this.ui.asset[e].canCallBtn=new Ms({icon:"local_phone",value:null,bubble:!0}),this.ui.asset[e].canTextBtn=new Ms({icon:"chat_bubble",value:null,name:"canText",bubble:!0}),"type"in r.config){const l=r.config.type;this._updateNumberLabel(+e,t),l.patch.after=()=>{this._updateNumberLabel(+e,t)}}if("stop_call_at"in r.config&&(o=!0),"stop_text_at"in r.config&&(s=!0),"country_id"in r.config&&(r.config.country_id.patch.after=()=>{this._updateCountry(+e,t)},this._updateCountry(+e,t)),"number"in r.config){const l=r.config.number;l.mask="(000) 000-0000",l.dropSpecial=!0,l.patch.after=()=>{this._updateNumber(+e,t)},this._updateNumber(+e,t)}if("extension"in r.config){const l=r.config.extension;l.mask="0*00000",l.patch.after=()=>{this._updateExtension(+e,t)},this._updateExtension(+e,t)}return o&&(this.ui.actionBtnWidth+=50),s&&(this.ui.actionBtnWidth+=50),!0}_updateCountry(e,t){const o=this._getDataKeyItemConfig(e,"country_id");if(o.metadata.source){const r=o.metadata.map.source,a=o.control.value,l=a in r?o.metadata.source[r[a]]:null;o.value=a,Y(l,["phone_country_code"])&&this._updateDisplayField(e,"country_id",l.phone_country_code),this._triggerUpdateAssetDisplay(e)}}_updateNumber(e,t){const o=this._getDataKeyItemConfig(e,"number"),s=o.control.value;this._updateDisplayField(e,"number",s),o.value=s,this._triggerUpdateAssetDisplay(e)}_updateExtension(e,t){const s=this._getDataKeyItemConfig(e,"extension").control.value;this._updateDisplayField(e,"extension",s),this._triggerUpdateAssetDisplay(e)}_updateNumberLabel(e,t){this.field.uses_multiple_values&&De(this.field.entries,!0)?this._updateNumberLabelToMatchEntry(t):this._updateNumberLabelToMatchType(+e),this._triggerUpdateAssetDisplay(e)}_updateNumberLabelToMatchEntry(e){const t=this._getValueEntry(e),o=this._getDataKeyItemConfig(this.field.data_keys[e],"type"),s=this._getDataKeyItemConfig(this.field.data_keys[e],"number"),r=this._getDataKey(this.field.data_keys[e],"type"),a=this.ui.asset[this.field.data_keys[e]].display;t&&t.type&&!r&&o.control.setValue(t.type);const l=t?t.name?t.name:this._getTypeOptionName(t.type,e):s.label?s.label:"";l&&(s.label=l,a.label=l)}_updateNumberLabelToMatchType(e){const t=this._getDataKeyItemConfig(e,"type"),o=this._getDataKeyItemConfig(e,"number"),s=Kn(t.options.values,"value"),r=t.control.value,a=this.ui.asset[e].display,l=r in s?t.options.values[s[r]]:null;o.label=l?l.name:jt(Tn(r)),a.label=o.label}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-phone"]],inputs:{field:"field"},features:[Re],decls:2,vars:1,consts:[[1,"pop-entity-phone-field","sw-field-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"sw-flex-row","sw-field-flex-row-offset",3,"ngClass"],[1,"sw-flex-row-wrap"],[1,"sw-field","sw-field-spacing","sw-flex-item-sm","sw-flex-grow-sm"],[1,"pop-entity-phone-display",3,"config","click"],[1,"pop-entity-phone-btn-container"],["class","sw-field sw-flex-item-icon",4,"ngIf"],[1,"sw-field","sw-flex-item-icon",3,"ngClass"],[3,"config","events"],["class","pop-entity-phone-primary-star",4,"ngIf"],[1,"sw-field","sw-flex-item-icon","sw-pad-rgt-md"],[1,"entity-field-edit-icon",3,"field","dom","events"],[1,"sw-flex-row-wrap","pt-02","sw-pad-lft-sm","sw-pad-rgt-sm","sw-mar-top-sm",3,"ngClass"],["class","sw-field sw-field-spacing sw-flex-item-xs sw-flex-grow-xs",4,"ngIf"],[1,"sw-flex-row-break"],["class","sw-field sw-field-spacing sw-flex-item-xs sw-flex-grow-sm",4,"ngIf"],["class","sw-flex-column-lg",4,"ngIf"],[1,"sw-flex-row-wrap","sw-flex-end","sw-mar-top-lg","sw-pad-rgt-lg","sw-pad-btm-md"],[1,"entity-field-phone-close-btn",3,"config","events"],[1,"sw-field","sw-flex-item-icon"],[1,"pop-entity-phone-primary-star"],[1,"sw-field","sw-field-spacing","sw-flex-item-xs","sw-flex-grow-xs"],[1,"sw-field","sw-field-spacing","sw-flex-item-xs","sw-flex-grow-sm"],["focusTarget",""],[1,"sw-flex-column-lg"],[1,"sw-field","sw-flex-item-full","sw-flex-grow-lg","pop-entity-phone-checkbox"],[1,"sw-flex-row"],["class","pop-entity-phone-call pop-entity-phone-checkbox",3,"config","events",4,"ngIf"],["class","pop-entity-phone-text pop-entity-phone-checkbox",3,"config","events",4,"ngIf"],[1,"pop-entity-phone-call","pop-entity-phone-checkbox",3,"config","events"],[1,"pop-entity-phone-text","pop-entity-phone-checkbox",3,"config","events"]],template:function(e,t){1&e&&(x(0,"div",0),$(1,Mxe,2,1,"div",1),C()),2&e&&(_(1),g("ngForOf",t.field.data_keys))},styles:['.pop-entity-phone-btn-container[_ngcontent-%COMP%]{position:relative;top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;max-height:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.pop-entity-phone-btn-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-left:5px}.pop-entity-phone-checkbox[_ngcontent-%COMP%]{width:auto}.pop-entity-phone-checkbox[_ngcontent-%COMP%]     .pop-checkbox-column{display:none}.pop-entity-phone-call[_ngcontent-%COMP%]     .mat-mdc-checkbox:after{content:"Call";padding-left:var(--gap-s)}.pop-entity-phone-text[_ngcontent-%COMP%]     .mat-mdc-checkbox:after{content:"Text";padding-left:var(--gap-s)}.pop-entity-phone-checkbox[_ngcontent-%COMP%]{padding-left:var(--gap-s)}.pop-entity-phone-close-btn[_ngcontent-%COMP%]{position:relative;top:-5px}.entity-field-phone-close-btn[_ngcontent-%COMP%]     .pop-button-content{padding:10px 10px 10px 12px!important}.pop-entity-phone-primary-star[_ngcontent-%COMP%]{color:gold;z-index:2;font-size:10px;position:relative;bottom:4px;right:13px;width:0px}[_nghost-%COMP%]     .pop-entity-phone-display input{font-size:.95em}[_nghost-%COMP%]     .pop-checkbox-label{visibility:hidden}[_nghost-%COMP%]     .pop-checkbox-label{display:none}[_nghost-%COMP%]     .entity-field-edit-icon{position:relative;left:6px}[_nghost-%COMP%]     .mat-radio-label{position:absolute;top:10px}',".entity-field-close-btn[_ngcontent-%COMP%]     .pop-button-content{padding:10px 10px 10px 12px!important}.entity-field-detail[_ngcontent-%COMP%]{background-color:var(--background-item-menu);margin-right:var(--gap-xxs)}  .entity-field-edit-icon .mat-icon{color:var(--foreground-disabled)}"]}),i})();function Pxe(i,n){1&i&&(x(0,"div",10),ee(1,"\xa0Label"),C())}function Txe(i,n){1&i&&(x(0,"div"),ee(1,"Address"),C())}function Exe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I();_(1),Je(e.field.entries[0].name)}}function Dxe(i,n){if(1&i){const e=Me();x(0,"lib-pop-entity-field-edit-icon",11),ie("events",function(o){return he(e),pe(I().onActionEvent(o,0))}),C()}if(2&i){const e=I();g("field",e.field)("dom",e.dom)}}function Oxe(i,n){if(1&i&&(x(0,"div",33)(1,"div"),ee(2),C()()),2&i){const e=I(5).$implicit,t=I();_(2),Je(t.dom.session[e].display.label)}}function Rxe(i,n){if(1&i&&(x(0,"div",17)(1,"div"),ee(2),C()()),2&i){const e=I(4).$implicit;_(2),Mt("\xa0",e.line_1,"")}}function Fxe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I(4).$implicit;_(1),Mt("\xa0",e.line_2,"")}}function Lxe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I(4).$implicit;_(1),Mt("\xa0",e.line_3,"")}}function Nxe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I(4).$implicit;_(1),Mt("\xa0",e.city,"")}}function Bxe(i,n){1&i&&(x(0,"div"),ee(1,","),C())}function Vxe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I().$implicit;_(1),Mt("\xa0",e.region_id,"")}}function $xe(i,n){1&i&&(x(0,"div"),ee(1,","),C())}function Hxe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I(4).$implicit;_(1),Mt("\xa0",e.county,"")}}function zxe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I(4).$implicit;_(1),Mt("\xa0",e.zip,"")}}function jxe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I(4).$implicit;_(1),Mt("-",e.zip_4,"")}}function Gxe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I().$implicit;_(1),Mt("\xa0",e.country_id,"")}}function Wxe(i,n){if(1&i){const e=Me();x(0,"lib-pop-entity-field-edit-icon",34),ie("events",function(o){he(e);const s=I(5).$implicit;return pe(I().onActionEvent(o,s))}),C()}if(2&i){const e=I(6);et("margin-left",-6,"px"),g("field",e.field)("dom",e.dom)}}function Uxe(i,n){1&i&&me(0,"mat-divider"),2&i&&et("width",100,"%")("margin-top",5,"px")}function Zxe(i,n){if(1&i){const e=Me();x(0,"div",35)(1,"lib-pop-input",36),ie("events",function(o){he(e);const s=I(5).$implicit;return pe(I().onFieldItemEvent(o,s,"line_1"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.line_1)}}function Kxe(i,n){if(1&i){const e=Me();x(0,"div",37)(1,"lib-pop-input",36),ie("events",function(o){he(e);const s=I(5).$implicit;return pe(I().onFieldItemEvent(o,s,"line_2"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.line_2)}}function Yxe(i,n){if(1&i){const e=Me();x(0,"div",37)(1,"lib-pop-input",36),ie("events",function(o){he(e);const s=I(5).$implicit;return pe(I().onFieldItemEvent(o,s,"line_3"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.line_3)}}function Xxe(i,n){if(1&i){const e=Me();x(0,"div",38)(1,"lib-pop-input",39,40),ie("events",function(o){he(e);const s=I(5).$implicit;return pe(I().onFieldItemEvent(o,s,"zip"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.zip)}}function qxe(i,n){if(1&i){const e=Me();x(0,"div",38)(1,"lib-pop-input",39),ie("events",function(o){he(e);const s=I(5).$implicit;return pe(I().onFieldItemEvent(o,s,"zip_4"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.zip_4)}}function Jxe(i,n){1&i&&me(0,"div",25)}function Qxe(i,n){1&i&&me(0,"mat-progress-bar",41),2&i&&(et("height",1,"px"),g("mode","query"))}function e0e(i,n){if(1&i){const e=Me();x(0,"div",42)(1,"lib-pop-input",36),ie("events",function(o){he(e);const s=I(5).$implicit;return pe(I().onFieldItemEvent(o,s,"city"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.city)}}function t0e(i,n){if(1&i){const e=Me();x(0,"div",42)(1,"lib-pop-select",36),ie("events",function(o){he(e);const s=I(5).$implicit;return pe(I().onFieldItemEvent(o,s,"region_id"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.region_id)}}function i0e(i,n){if(1&i){const e=Me();x(0,"div",42)(1,"lib-pop-input",36),ie("events",function(o){he(e);const s=I(5).$implicit;return pe(I().onFieldItemEvent(o,s,"county"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.county)}}function n0e(i,n){if(1&i){const e=Me();x(0,"div",42)(1,"lib-pop-select",36),ie("events",function(o){he(e);const s=I(5).$implicit;return pe(I().onFieldItemEvent(o,s,"country_id"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.country_id)}}function o0e(i,n){if(1&i){const e=Me();x(0,"div",43)(1,"lib-pop-field-btn",44),ie("events",function(o){he(e);const s=I(5).$implicit;return pe(I().onActionEvent(o,s))}),C()()}if(2&i){const e=I(6);_(1),g("field",e.field)}}const CV=function(){return{value:"CLOSE",size:34,color:"accent",bubble:!0,event:"close",width:90,text:16}};function s0e(i,n){if(1&i){const e=Me();x(0,"div",45)(1,"lib-pop-button",46),ie("events",function(o){he(e);const s=I(5).$implicit;return pe(I().onActionEvent(o,s))}),C()()}2&i&&(_(1),g("config",ms(1,CV)))}function r0e(i,n){if(1&i){const e=Me();x(0,"div",47)(1,"lib-pop-button",46),ie("events",function(o){return he(e),pe(I(6).onActionEvent(o))}),C()()}2&i&&(_(1),g("config",ms(1,CV)))}const wV=function(i){return{"sw-hidden":i}};function a0e(i,n){if(1&i&&(x(0,"div")(1,"div",13),$(2,Oxe,3,1,"div",14),x(3,"div",15),$(4,Rxe,3,1,"div",16),x(5,"div",17),$(6,Fxe,2,1,"div",5),$(7,Lxe,2,1,"div",5),C(),x(8,"div",17),$(9,Nxe,2,1,"div",5),$(10,Bxe,2,0,"div",5),$(11,Vxe,2,1,"div",5),$(12,$xe,2,0,"div",5),$(13,Hxe,2,1,"div",5),$(14,zxe,2,1,"div",5),$(15,jxe,2,1,"div",5),$(16,Gxe,2,1,"div",5),C()(),x(17,"div",18),$(18,Wxe,1,4,"lib-pop-entity-field-edit-icon",19),C()(),$(19,Uxe,1,4,"mat-divider",20),x(20,"div",21)(21,"div",22)(22,"div",17),$(23,Zxe,2,1,"div",23),$(24,Kxe,2,1,"div",24),$(25,Yxe,2,1,"div",24),me(26,"div",25),$(27,Xxe,3,1,"div",26),$(28,qxe,2,1,"div",26),$(29,Jxe,1,0,"div",27),$(30,Qxe,1,3,"mat-progress-bar",28),me(31,"div",25),$(32,e0e,2,1,"div",29),$(33,t0e,2,1,"div",29),me(34,"div",25),$(35,i0e,2,1,"div",29),$(36,n0e,2,1,"div",29),C()(),$(37,o0e,2,1,"div",30),$(38,s0e,2,2,"div",31),$(39,r0e,2,2,"div",32),C()()),2&i){const e=n.$implicit,t=I().$implicit,o=I().$implicit,s=I().$implicit,r=I().last,a=I();_(1),g("ngClass",qe(30,wV,t.open)),_(1),g("ngIf",a.field.uses_multiple_values),_(2),g("ngIf",o.line_1&&s.line_1),_(2),g("ngIf",o.line_2&&s.line_2),_(1),g("ngIf",o.line_3&&s.line_3),_(2),g("ngIf",o.city&&s.city),_(1),g("ngIf",o.city&&s.city&&o.region_id&&e.region_id),_(1),g("ngIf",o.region_id&&e.region_id),_(1),g("ngIf",o.region_id&&s.region_id&&o.county&&s.county),_(1),g("ngIf",o.county&&s.county),_(1),g("ngIf",o.zip&&s.zip),_(1),g("ngIf",o.zip_4&&s.zip_4),_(1),g("ngIf",o.country_id&&e.country_id),_(2),g("ngIf",a.field.uses_multiple_values),_(1),g("ngIf",!r),_(1),g("ngClass",qe(32,wV,!t.open)),_(3),g("ngIf",o.line_1),_(1),g("ngIf",o.line_2),_(1),g("ngIf",o.line_3),_(2),g("ngIf",o.zip),_(1),g("ngIf",o.zip_4),_(1),g("ngIf",o.zip),_(1),g("ngIf",t.loading),_(2),g("ngIf",o.city),_(1),g("ngIf",o.region_id),_(2),g("ngIf",o.county),_(1),g("ngIf",o.country_id),_(1),g("ngIf",a.field.canRemove),_(1),g("ngIf",!0),_(1),g("ngIf",!1)}}function l0e(i,n){if(1&i&&(x(0,"div"),$(1,a0e,40,34,"div",5),C()),2&i){const e=I(3).$implicit,t=I();_(1),g("ngIf",t.dom.session[e].display)}}function c0e(i,n){if(1&i&&(x(0,"div"),$(1,l0e,2,1,"div",5),C()),2&i){const e=I(2).$implicit,t=I();_(1),g("ngIf",t.dom.state[e])}}function d0e(i,n){if(1&i&&(x(0,"div"),$(1,c0e,2,1,"div",5),C()),2&i){const e=I().$implicit,t=I();_(1),g("ngIf",t.field.items[e].config)}}const u0e=function(i){return{"sw-field-mar-btm-sm":i}};function h0e(i,n){if(1&i&&(x(0,"div",12),$(1,d0e,2,1,"div",5),C()),2&i){const e=n.$implicit,t=n.last,o=I();g("ngClass",qe(2,u0e,t)),_(1),g("ngIf",o.field.data[e])}}let kV=(()=>{class i extends ta{constructor(e,t){super(e,t,pI),this.el=e,this._domRepo=t,this.name="PopEntityAddressComponent",this.asset={extensionKeys:[],states:[]}}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){return new Promise(e=>(this.field.modal=null,e(!0)))}_transformChildren(){return new Promise(e=>e(!0))}_setFieldAttributes(){return this.field&&this.field.items&&Object.keys(this.field.items).map((e,t)=>{this._setFieldItemAttribute(+e,t)}),!0}_setFieldItemAttribute(e,t){const o=this.field.items[e],s=Object.keys(o.config);if(this.dom.state.has_extension=s.some(r=>this.asset.extensionKeys.includes(r)),"region_id"in o.config){const r=o.config.region_id,a=this.field.children.zip;if(r.height=250,a.setting?.allow_canada)r.options.values=as(r.options.rawValues),this._triggerUpdateAssetDisplay(e);else{let l=r.options.rawValues.filter(c=>1==c.country_id);l=as(l),r.options.values=l,this._triggerUpdateAssetDisplay(e)}r.patch.after=()=>{this._updateRegionId(+e,t)},this._updateRegionId(+e,t)}if("country_id"in o.config&&(o.config.country_id.patch.after=()=>{this._updateCountry(+e,t)},this._updateCountry(+e,t)),"zip"in o.config){const r=o.config.zip,a=this.field.children.zip;r.validators=[Xt.required,Qde],r.setControl(),r.facade=!0,r.patch.after=()=>{this._updateZip(+e,t,a.setting)}}if("zip_4"in o.config){const r=o.config.zip_4,a=o.config.zip,l=o.config.country_id;r.mask="0000",r.readonly=!l||!this._isUSA(l)||""==a.value,r.patch.after=()=>{}}if("county"in o.config){const r=o.config.county;this._isUSA(o.config.country_id)||(r.readonly=!0)}return!0}_updateCountry(e,t){const o=this._getDataKeyItemConfig(e,"country_id"),s=this.field.children.country_id;if(De(s.source,!0)){const r=o.control.value,a=r in s.sourceMap?s.source[s.sourceMap[r]]:null;o.value=r,Y(a,["name"])&&this._updateDisplayField(e,"country_id",a.name),this._triggerUpdateAssetDisplay(e)}}_updateRegionId(e,t){const o=this._getDataKeyItemConfig(e,"region_id"),s=this.field.children.region_id;if(De(s.source,!0)){const r=o.control.value;if(r){const a=r in s.sourceMap?s.source[s.sourceMap[r]]:null;o.value=r,Y(a,["name"])&&this._updateDisplayField(e,"region_id",a.name),this._triggerUpdateAssetDisplay(e)}}}_updateZip(e,t,o){var s=this;return q(function*(){if("zip"in s.field.children){let r=null,a=null;const l=s._getDataKeyItemConfig(e,"zip");let c=!1;"zip_4"in s.field.children&&(r=s._getDataKeyItemConfig(e,"zip_4"),c=!0);let A=!1;if("county"in s.field.children&&(a=s._getDataKeyItemConfig(e,"county"),A=!0),l&&l.control.value&&(o.allow_canada?String(l.control.value).length<=6:5==String(l.control.value).length)){if(c&&(r.readonly=!1),o?.auto_fill){s.dom.state[e].loading=!0;const te=yield s._getAddressFromZip(l.control.value);if(Y(te,!0)){let se,le;const ke=s.field.items[e].config;De(s.field.children.region_id.source)&&("region_id"in ke&&(le=s.field.children.region_id.source.find(Pe=>String(Pe.abbr).toLowerCase()==String(te.state_prefix).toLowerCase())),"country_id"in ke&&(se=s.field.children.country_id.source.find(Pe=>String(Pe.abbrv).toLowerCase()==String(te.country).toLowerCase())),se&&"CAN"==se.abbrv?(c&&(r.triggerOnChange(null),r.readonly=!0),A&&(a.readonly=!0,a.triggerOnChange(null))):(c&&(r.readonly=!1),A&&(a.readonly=!1))),"city"in ke&&(s.field.items[e].config.city.triggerOnChange(te.city),s._updateDisplayField(e,"city",te.city)),se&&(A&&"county"in ke&&"USA"==se.abbrv&&(s.field.items[e].config.county.triggerOnChange(te.county),s._updateDisplayField(e,"county",te.county)),"country_id"in ke&&(s.field.items[e].config.country_id.triggerOnChange(se.id),s._updateDisplayField(e,"county",se.name))),"region_id"in ke&&(Y(le,!0)?s.field.items[e].config.region_id.triggerOnChange(le.id):s.field.items[e].config.region_id.triggerOnChange(null)),s.dom.state[e].loading=!1,s.dom.state[e].zipError=null}else s.dom.state[e].zipError="Invalid ZipCode",l.message="Invalid Zip Code",l.control.setErrors({invalid:"Invalid Zip Code"}),s.dom.state[e].loading=!1}}else s.dom.state[e].zipError="Invalid ZipCode",c&&(r.control.value&&r.triggerOnChange(null),r.readonly=!0,l.triggerOnChange(null));const D=s.field.children.zip;if(De(D.source,!0)){const te=l.control.value;if(te){const se=te in D.sourceMap?D.source[D.sourceMap[te]]:null;l.value=te,Y(se,["name"])&&s._updateDisplayField(e,"zip",se.name),s._triggerUpdateAssetDisplay(e)}}}})()}_isUSA(e){if(e&&e.value&&De(e?.options?.values,!0)){const t=e.options.values.find(o=>o.value==e.value);return!!Y(t,["name"])&&"unitedstates"==t.name.toLowerCase().split(" ").join("")}return!0}_getAddressFromZip(e){return new Promise(t=>{gt.doGet(`legacy/data/zip-codes?zip_code=${e}`).subscribe(o=>(o=lr(o).pop()||[],t(o)))})}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-address"]],inputs:{field:"field"},features:[Re],decls:12,vars:5,consts:[[1,"pop-entity-address-field","sw-field-container"],[1,"pop-entity-address-readonly-container"],[1,"pop-entity-address-label-header"],["class","pop-entity-address-label pop-entity-address-label-title",4,"ngIf"],[1,"pop-entity-address-label","pop-entity-address-label-address"],[4,"ngIf"],[1,"pop-entity-address-label","pop-entity-address-label-icon"],[1,"sw-flex-row","sw-flex-item-sm","sw-flex-grow-sm"],["class","sw-flex-align-end entity-field-edit-icon",3,"field","dom","events",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"pop-entity-address-label","pop-entity-address-label-title"],[1,"sw-flex-align-end","entity-field-edit-icon",3,"field","dom","events"],[3,"ngClass"],[1,"pop-entity-address-item-header",3,"ngClass"],["class","pop-entity-address-item pop-entity-address-item-title",4,"ngIf"],[1,"pop-entity-address-item","pop-entity-address-item-address"],["class","sw-flex-row-wrap",4,"ngIf"],[1,"sw-flex-row-wrap"],[1,"pop-entity-address-item-icon"],["class","entity-field-edit-icon",3,"marginLeft","field","dom","events",4,"ngIf"],[3,"width","marginTop",4,"ngIf"],[1,"pt-02","sw-pad-hrz-sm","sw-mar-top-xs",3,"ngClass"],[1,"sw-flex-row","sw-field-flex-row-offset"],["class","sw-field sw-field-spacing sw-flex-item-full sw-flex-grow-lg",4,"ngIf"],["class","sw-field sw-field-spacing sw-flex-item-sm sw-flex-grow-sm",4,"ngIf"],[1,"sw-flex-row-break"],["class","sw-flex-row sw-field-spacing sw-flex-item-xs sw-flex-grow-xs",4,"ngIf"],["class","sw-flex-row-break",4,"ngIf"],["class","pop-field-item-loader",3,"height","mode",4,"ngIf"],["class","sw-field sw-field-spacing sw-flex-item-xs sw-flex-grow-xs",4,"ngIf"],["class","sw-field-footer sw-mar-top-sm sw-pad-rgt-lg",4,"ngIf"],["class","sw-flex-row-wrap sw-flex-end sw-pad-rgt-lg sw-pad-vrt-lg","style","padding-bottom: 10px",4,"ngIf"],["class","sw-flex-row-wrap sw-flex-end sw-pad-rgt-lg sw-pad-vrt-lg",4,"ngIf"],[1,"pop-entity-address-item","pop-entity-address-item-title"],[1,"entity-field-edit-icon",3,"field","dom","events"],[1,"sw-field","sw-field-spacing","sw-flex-item-full","sw-flex-grow-lg"],[3,"config","events"],[1,"sw-field","sw-field-spacing","sw-flex-item-sm","sw-flex-grow-sm"],[1,"sw-flex-row","sw-field-spacing","sw-flex-item-xs","sw-flex-grow-xs"],[1,"sw-flex-item-xs","sw-flex-grow-xs",3,"config","events"],["focusTarget",""],[1,"pop-field-item-loader",3,"mode"],[1,"sw-field","sw-field-spacing","sw-flex-item-xs","sw-flex-grow-xs"],[1,"sw-field-footer","sw-mar-top-sm","sw-pad-rgt-lg"],["action","remove",1,"sw-mar-rgt-sm",3,"field","events"],[1,"sw-flex-row-wrap","sw-flex-end","sw-pad-rgt-lg","sw-pad-vrt-lg",2,"padding-bottom","10px"],[1,"entity-field-close-btn",3,"config","events"],[1,"sw-flex-row-wrap","sw-flex-end","sw-pad-rgt-lg","sw-pad-vrt-lg"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),$(3,Pxe,2,0,"div",3),x(4,"div",4),ee(5," \xa0 "),$(6,Txe,2,0,"div",5),$(7,Exe,2,1,"div",5),C(),x(8,"div",6),me(9,"div",7),$(10,Dxe,1,2,"lib-pop-entity-field-edit-icon",8),C()(),$(11,h0e,2,4,"div",9),C()()),2&e&&(_(3),g("ngIf",t.field.uses_multiple_values),_(3),g("ngIf",t.field.uses_multiple_values),_(1),g("ngIf",!t.field.uses_multiple_values),_(3),g("ngIf",!t.field.uses_multiple_values),_(1),g("ngForOf",t.field.data_keys))},styles:[".pop-entity-address-field{position:relative;min-height:80px;clear:both;margin-top:17px}.pop-entity-address-readonly-container{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;border:1px solid var(--border);border-radius:3px;padding-bottom:5px}.pop-entity-address-label-header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;min-height:45px;border-bottom:1px solid var(--border)}.pop-entity-address-label-title{width:25%}.pop-entity-address-label-address{word-wrap:break-word;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;width:60%}.pop-entity-address-label-icon{display:-webkit-box;display:-ms-flexbox;display:flex;width:10%}.pop-entity-address-item-title{width:25%}.pop-entity-address-item-address{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;width:70%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.pop-entity-address-item-icon{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;width:5%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}:host ::ng-deep .pop-entity-address-item-icon mat-icon{font-size:.95em}.pop-entity-address-item-header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;margin-top:5px;min-height:35px}.pop-entity-address-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0 5px}.pop-entity-address-item{font-size:.8em;padding:0 5px}:host ::ng-deep lib-pop-field-item-loader{top:3rem!important}.entity-field-close-btn .mat-button-wrapper{position:relative;top:1px;left:6px}\n",".entity-field-close-btn ::ng-deep .pop-button-content{padding:10px 10px 10px 12px!important}.entity-field-detail{background-color:var(--background-item-menu);margin-right:var(--gap-xxs)}::ng-deep .entity-field-edit-icon .mat-icon{color:var(--foreground-disabled)}\n"],encapsulation:2}),i})();function p0e(i,n){if(1&i){const e=Me();x(0,"lib-pop-input",8),ie("events",function(o){he(e);const s=I(3).$implicit;return pe(I().onFieldItemEvent(o,s,"value"))}),C()}2&i&&g("config",I().$implicit)}function m0e(i,n){if(1&i){const e=Me();x(0,"lib-pop-number",8),ie("events",function(o){he(e);const s=I(3).$implicit;return pe(I().onFieldItemEvent(o,s,"value"))}),C()}2&i&&g("config",I().$implicit)}function f0e(i,n){if(1&i){const e=Me();x(0,"lib-pop-textarea",8),ie("events",function(o){he(e);const s=I(3).$implicit;return pe(I().onFieldItemEvent(o,s,"value"))}),C()}2&i&&g("config",I().$implicit)}function g0e(i,n){if(1&i&&(x(0,"div",5),ds(1,6),$(2,p0e,1,1,"lib-pop-input",7),$(3,m0e,1,1,"lib-pop-number",7),$(4,f0e,1,1,"lib-pop-textarea",7),us(),C()),2&i){const e=I().$implicit;_(1),g("ngSwitch",e.view.name),_(1),g("ngSwitchCase","input"),_(1),g("ngSwitchCase","number"),_(1),g("ngSwitchCase","textarea")}}function _0e(i,n){if(1&i){const e=Me();x(0,"div",9)(1,"lib-pop-field-btn",10),ie("events",function(o){he(e);const s=I(2).$implicit;return pe(I().onActionEvent(o,s))}),C()()}if(2&i){const e=I(3);_(1),g("field",e.field)}}function b0e(i,n){if(1&i&&(x(0,"div"),$(1,g0e,5,4,"div",3),$(2,_0e,2,1,"div",4),C()),2&i){const e=n.$implicit,t=I().last,o=I();_(1),g("ngIf",e.config.value),_(1),g("ngIf",o.field.canRemove&&t)}}function v0e(i,n){if(1&i&&(x(0,"div",1),$(1,b0e,3,2,"div",2),C()),2&i){const e=n.$implicit,t=I();_(1),g("ngIf",t.field.items[e])}}let IV=(()=>{class i extends ta{constructor(e,t){super(e,t,m4),this.el=e,this._domRepo=t,this.name="PopEntityInputComponent"}_setFieldAttributes(){return this.field.attribute&&this.field.data_keys.map(e=>{const o=Lt(this.field.items[e],["config","value"]);if(o)if(String(this.field.attribute).includes("text")||String(this.field.attribute).includes("call")){const s=[];o.required&&s.push(Xt.required),o.pattern=null,o.mask="(000) 000-0000",o.dropSpecial=!0,o.control.setValidators(s)}else if(String(this.field.attribute).includes("email")){const s=[Xt.email,Xt.maxLength(+o.maxlength)];o.required&&s.push(Xt.required),o.type="email",o.pattern="Email",o.control.setValidators(s)}else if(String(this.field.attribute).includes("url")){const r=[Xt.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?"),Xt.maxLength(+o.maxlength)];o.required&&r.push(Xt.required),o.type="url",o.pattern="URl",o.control.setValidators(r)}}),!0}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-input"]],inputs:{field:"field"},features:[Re],decls:1,vars:1,consts:[["class","pop-entity-input-field sw-field-container",4,"ngFor","ngForOf"],[1,"pop-entity-input-field","sw-field-container"],[4,"ngIf"],["class","sw-flex-row sw-flex-item-full",4,"ngIf"],["class","sw-field-footer sw-mar-top-sm sw-pad-rgt-lg",4,"ngIf"],[1,"sw-flex-row","sw-flex-item-full"],[3,"ngSwitch"],["class","sw-field sw-flex-item-xs sw-flex-grow-xs",3,"config","events",4,"ngSwitchCase"],[1,"sw-field","sw-flex-item-xs","sw-flex-grow-xs",3,"config","events"],[1,"sw-field-footer","sw-mar-top-sm","sw-pad-rgt-lg"],["action","remove",1,"sw-mar-rgt-sm",3,"field","events"]],template:function(e,t){1&e&&$(0,v0e,2,1,"div",0),2&e&&g("ngForOf",t.field.data_keys)},styles:[".pop-entity-input-item-icon[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:10%;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}"]}),i})();function y0e(i,n){if(1&i){const e=Me();x(0,"lib-pop-select",10),ie("events",function(o){he(e);const s=I(3).$implicit;return pe(I().onFieldItemEvent(o,s,"value"))}),C()}2&i&&g("config",I().$implicit)}function x0e(i,n){if(1&i){const e=Me();x(0,"lib-pop-radio",10),ie("events",function(o){he(e);const s=I(3).$implicit;return pe(I().onFieldItemEvent(o,s,"value"))}),C()}2&i&&g("config",I().$implicit)}function C0e(i,n){if(1&i&&(x(0,"div",7),ds(1,8),$(2,y0e,1,1,"lib-pop-select",9),$(3,x0e,1,1,"lib-pop-radio",9),us(),C()),2&i){const e=I().$implicit;_(1),g("ngSwitch",e.view.name),_(1),g("ngSwitchCase","select"),_(1),g("ngSwitchCase","radio")}}function w0e(i,n){if(1&i){const e=Me();x(0,"div",11)(1,"lib-pop-field-btn",12),ie("events",function(o){he(e);const s=I(2).$implicit;return pe(I().onActionEvent(o,s))}),C()()}if(2&i){const e=I(3);_(1),g("field",e.field)}}function k0e(i,n){if(1&i&&(x(0,"div")(1,"div",3)(2,"div",4),$(3,C0e,4,3,"div",5),C()(),$(4,w0e,2,1,"div",6),C()),2&i){const e=n.$implicit,t=I().last,o=I();_(3),g("ngIf",e.config.value),_(1),g("ngIf",o.field.canRemove&&t)}}function I0e(i,n){if(1&i&&(x(0,"div",1),$(1,k0e,5,2,"div",2),C()),2&i){const e=n.$implicit,t=I();_(1),g("ngIf",t.field.items[e])}}let AV=(()=>{class i extends ta{constructor(e,t){super(e,t,gI),this.el=e,this._domRepo=t,this.name="PopEntitySelectComponent"}_setFieldAttributes(){return!0}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-select"]],inputs:{field:"field"},features:[Re],decls:1,vars:1,consts:[["class","pop-entity-input-field sw-field-container",4,"ngFor","ngForOf"],[1,"pop-entity-input-field","sw-field-container"],[4,"ngIf"],[1,"sw-flex-row"],[1,"sw-flex-row-wrap"],["class","sw-field sw-flex-item-xs sw-flex-grow-xs",4,"ngIf"],["class","sw-field-footer sw-mar-top-sm sw-pad-rgt-lg",4,"ngIf"],[1,"sw-field","sw-flex-item-xs","sw-flex-grow-xs"],[3,"ngSwitch"],[3,"config","events",4,"ngSwitchCase"],[3,"config","events"],[1,"sw-field-footer","sw-mar-top-sm","sw-pad-rgt-lg"],["action","remove",1,"sw-mar-rgt-sm",3,"field","events"]],template:function(e,t){1&e&&$(0,I0e,2,1,"div",0),2&e&&g("ngForOf",t.field.data_keys)}}),i})();function A0e(i,n){if(1&i){const e=Me();x(0,"div",5)(1,"lib-pop-radio",6),ie("events",function(o){he(e);const s=I(2).$implicit;return pe(I().onFieldItemEvent(o,s,"value"))}),C()()}if(2&i){const e=n.$implicit;_(1),g("config",e)}}function S0e(i,n){if(1&i){const e=Me();x(0,"div",7)(1,"lib-pop-field-btn",8),ie("events",function(o){he(e);const s=I(2).$implicit;return pe(I().onActionEvent(o,s))}),C()()}if(2&i){const e=I(3);_(1),g("field",e.field)}}function M0e(i,n){if(1&i&&(x(0,"div"),$(1,A0e,2,1,"div",3),$(2,S0e,2,1,"div",4),C()),2&i){const e=n.$implicit,t=I().last,o=I();_(1),g("ngIf",e.config.value),_(1),g("ngIf",o.field.canRemove&&t)}}function P0e(i,n){if(1&i&&(x(0,"div",1),$(1,M0e,3,2,"div",2),C()),2&i){const e=n.$implicit,t=I();_(1),g("ngIf",t.field.items[e])}}let SV=(()=>{class i extends ta{constructor(e,t){super(e,t,f4),this.el=e,this._domRepo=t,this.name="PopEntityRadioComponent"}_setFieldAttributes(){return!0}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-radio"]],inputs:{field:"field"},features:[Re],decls:1,vars:1,consts:[["class","pop-entity-input-field sw-field-container",4,"ngFor","ngForOf"],[1,"pop-entity-input-field","sw-field-container"],[4,"ngIf"],["class","sw-flex-row sw-flex-item-full",4,"ngIf"],["class","sw-field-footer sw-mar-top-sm sw-pad-rgt-lg",4,"ngIf"],[1,"sw-flex-row","sw-flex-item-full"],[1,"sw-field","sw-flex-item-xs","sw-flex-grow-xs",3,"config","events"],[1,"sw-field-footer","sw-mar-top-sm","sw-pad-rgt-lg"],["action","remove",1,"sw-mar-rgt-sm",3,"field","events"]],template:function(e,t){1&e&&$(0,P0e,2,1,"div",0),2&e&&g("ngForOf",t.field.data_keys)},styles:[".pop-entity-input-item-icon[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:10%;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}"]}),i})();function T0e(i,n){if(1&i){const e=Me();x(0,"div",5)(1,"lib-pop-checkbox",6),ie("events",function(o){he(e);const s=I(2).$implicit;return pe(I().onFieldItemEvent(o,s,"value"))}),C()()}if(2&i){const e=n.$implicit;_(1),g("config",e)}}function E0e(i,n){if(1&i){const e=Me();x(0,"div",7)(1,"lib-pop-field-btn",8),ie("events",function(o){he(e);const s=I(2).$implicit;return pe(I().onActionEvent(o,s))}),C()()}if(2&i){const e=I(3);_(1),g("field",e.field)}}function D0e(i,n){if(1&i&&(x(0,"div"),$(1,T0e,2,1,"div",3),$(2,E0e,2,1,"div",4),C()),2&i){const e=n.$implicit,t=I().last,o=I();_(1),g("ngIf",e.config.value),_(1),g("ngIf",o.field.canRemove&&t)}}function O0e(i,n){if(1&i&&(x(0,"div",1),$(1,D0e,3,2,"div",2),C()),2&i){const e=n.$implicit,t=I();_(1),g("ngIf",t.field.items[e])}}let MV=(()=>{class i extends ta{constructor(e,t){super(e,t,_4),this.el=e,this._domRepo=t,this.name="PopEntityCheckboxComponent"}_setFieldAttributes(){return!0}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-checkbox"]],inputs:{field:"field"},features:[Re],decls:1,vars:1,consts:[["class","pop-entity-input-field sw-field-container",4,"ngFor","ngForOf"],[1,"pop-entity-input-field","sw-field-container"],[4,"ngIf"],["class","sw-flex-row sw-flex-item-full",4,"ngIf"],["class","sw-field-footer sw-mar-top-sm sw-pad-rgt-md",4,"ngIf"],[1,"sw-flex-row","sw-flex-item-full"],[1,"sw-field","sw-flex-item-xs","sw-flex-grow-xs",3,"config","events"],[1,"sw-field-footer","sw-mar-top-sm","sw-pad-rgt-md"],["action","remove",1,"sw-mar-rgt-sm",3,"field","events"]],template:function(e,t){1&e&&$(0,O0e,2,1,"div",0),2&e&&g("ngForOf",t.field.data_keys)}}),i})();function R0e(i,n){if(1&i){const e=Me();x(0,"div",7)(1,"lib-pop-switch",8),ie("events",function(o){const r=he(e).$implicit,a=I(2).$implicit;return pe(I().onFieldItemEvent(o,a,r.column))}),C()()}if(2&i){const e=n.$implicit;_(1),g("config",e)}}function F0e(i,n){if(1&i){const e=Me();x(0,"div",9)(1,"lib-pop-field-btn",10),ie("events",function(o){he(e);const s=I(2).$implicit;return pe(I().onActionEvent(o,s))}),C()()}if(2&i){const e=I(3);_(1),g("field",e.field)}}function L0e(i,n){if(1&i&&(x(0,"div")(1,"div",3)(2,"div",4),$(3,R0e,2,1,"div",5),C()(),$(4,F0e,2,1,"div",6),C()),2&i){const e=n.$implicit,t=I().last,o=I();_(3),g("ngIf",e.config.value),_(1),g("ngIf",o.field.canRemove&&t)}}function N0e(i,n){if(1&i&&(x(0,"div",1),$(1,L0e,5,2,"div",2),C()),2&i){const e=n.$implicit,t=I();_(1),g("ngIf",t.field.items[e])}}let PV=(()=>{class i extends ta{constructor(e,t){super(e,t,g4),this.el=e,this._domRepo=t,this.name="PopEntitySwitchComponent"}_setFieldAttributes(){return!0}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-switch"]],inputs:{field:"field"},features:[Re],decls:1,vars:1,consts:[["class","pop-entity-input-field sw-field-container",4,"ngFor","ngForOf"],[1,"pop-entity-input-field","sw-field-container"],[4,"ngIf"],[1,"sw-flex-row"],[1,"sw-flex-row-wrap"],["class","sw-field sw-flex-item-xs sw-flex-grow-xs",4,"ngIf"],["class","sw-field-footer sw-mar-top-sm sw-pad-rgt-lg",4,"ngIf"],[1,"sw-field","sw-flex-item-xs","sw-flex-grow-xs"],[3,"config","events"],[1,"sw-field-footer","sw-mar-top-sm","sw-pad-rgt-lg"],["action","remove",1,"sw-mar-rgt-sm",3,"field","events"]],template:function(e,t){1&e&&$(0,N0e,2,1,"div",0),2&e&&g("ngForOf",t.field.data_keys)}}),i})();const TV={unique_label:{name:"unique_label",type:"boolean",defaultValue:!0}};function B0e(i,n){if(1&i){const e=Me();x(0,"div",7)(1,"lib-pop-select-multi",8),ie("events",function(o){const r=he(e).$implicit,a=I(2).$implicit;return pe(I().onFieldItemEvent(o,a,r.column))}),C()()}if(2&i){const e=n.$implicit;_(1),g("config",e)}}function V0e(i,n){if(1&i){const e=Me();x(0,"div",9)(1,"lib-pop-field-btn",10),ie("events",function(o){he(e);const s=I(2).$implicit;return pe(I().onActionEvent(o,s))}),C()()}if(2&i){const e=I(3);_(1),g("field",e.field)}}function $0e(i,n){if(1&i&&(x(0,"div")(1,"div",3)(2,"div",4),$(3,B0e,2,1,"div",5),C()(),$(4,V0e,2,1,"div",6),C()),2&i){const e=n.$implicit,t=I().last,o=I();_(3),g("ngIf",e.config.value),_(1),g("ngIf",o.field.canRemove&&t)}}function H0e(i,n){if(1&i&&(x(0,"div",1),$(1,$0e,5,2,"div",2),C()),2&i){const e=n.$implicit,t=I();_(1),g("ngIf",t.field.items[e])}}let EV=(()=>{class i extends ta{constructor(e,t){super(e,t,TV),this.el=e,this._domRepo=t,this.name="PopEntitySelectMultiComponent"}_setFieldAttributes(){const e=Lt(this.field,["children","value","model","label"]),t=this.field.entries[0].name;return this.field&&this.field.items&&Object.keys(this.field.items).map((o,s)=>{this.field.items[o].config.value.label=this.field.uses_multiple_values?this.dom.session[o].display.label:t||e}),!0}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-select-multi"]],inputs:{field:"field"},features:[Re],decls:1,vars:1,consts:[["class","pop-entity-input-field sw-field-container",4,"ngFor","ngForOf"],[1,"pop-entity-input-field","sw-field-container"],[4,"ngIf"],[1,"sw-flex-row"],[1,"sw-flex-row-wrap"],["class","sw-field sw-flex-item-xs sw-flex-grow-xs",4,"ngIf"],["class","sw-field-footer sw-mar-top-sm sw-pad-rgt-lg",4,"ngIf"],[1,"sw-field","sw-flex-item-xs","sw-flex-grow-xs"],[3,"config","events"],[1,"sw-field-footer","sw-mar-top-sm","sw-pad-rgt-lg"],["action","remove",1,"sw-mar-rgt-sm",3,"field","events"]],template:function(e,t){1&e&&$(0,H0e,2,1,"div",0),2&e&&g("ngForOf",t.field.data_keys)}}),i})();function z0e(i,n){if(1&i){const e=Me();x(0,"div",5)(1,"lib-pop-textarea",6),ie("events",function(o){he(e);const s=I(2).$implicit;return pe(I().onFieldItemEvent(o,s,"content"))}),C()()}if(2&i){const e=n.$implicit;_(1),g("config",e)}}function j0e(i,n){if(1&i){const e=Me();x(0,"div",7)(1,"lib-pop-field-btn",8),ie("events",function(o){he(e);const s=I(2).$implicit;return pe(I().onActionEvent(o,s))}),C()()}if(2&i){const e=I(3);_(1),g("field",e.field)}}function G0e(i,n){if(1&i&&(x(0,"div"),$(1,z0e,2,1,"div",3),$(2,j0e,2,1,"div",4),C()),2&i){const e=n.$implicit,t=I().last,o=I();_(1),g("ngIf",e.config.content),_(1),g("ngIf",o.field.canRemove&&t)}}function W0e(i,n){if(1&i&&(x(0,"div",1),$(1,G0e,3,2,"div",2),C()),2&i){const e=n.$implicit,t=I();_(1),g("ngIf",t.field.items[e])}}let DV=(()=>{class i extends ta{constructor(e,t){super(e,t,b4),this.el=e,this._domRepo=t,this.name="PopEntityTextareaComponent"}_setFieldAttributes(){return!0}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-textarea"]],inputs:{field:"field"},features:[Re],decls:1,vars:1,consts:[["class","pop-entity-textarea-field sw-field-container",4,"ngFor","ngForOf"],[1,"pop-entity-textarea-field","sw-field-container"],[4,"ngIf"],["class","sw-flex-row sw-flex-item-full",4,"ngIf"],["class","sw-field-footer sw-mar-top-sm sw-pad-rgt-lg",4,"ngIf"],[1,"sw-flex-row","sw-flex-item-full"],[1,"sw-field","sw-flex-item-xs","sw-flex-grow-xs",3,"config","events"],[1,"sw-field-footer","sw-mar-top-sm","sw-pad-rgt-lg"],["action","remove",1,"sw-mar-rgt-sm",3,"field","events"]],template:function(e,t){1&e&&$(0,W0e,2,1,"div",0),2&e&&g("ngForOf",t.field.data_keys)},styles:[".pop-entity-textarea-item-icon[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:10%;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}"]}),i})();function U0e(i,n){if(1&i){const e=Me();x(0,"div",13)(1,"lib-pop-input",14,15),ie("events",function(o){he(e);const s=I(4).$implicit;return pe(I().onFieldItemEvent(o,s,"value"))}),C()()}if(2&i){const e=I(3).$implicit;_(1),g("config",e.value)}}const Z0e=function(i){return{"sw-disabled":i}},K0e=function(i){return{"sw-hidden":i}},Y0e=function(){return{value:"CLOSE",size:34,color:"accent",bubble:!0,event:"close",width:90,text:16}};function X0e(i,n){if(1&i){const e=Me();x(0,"div")(1,"div",3)(2,"div",4)(3,"div",5)(4,"lib-pop-input",6),ie("click",function(){he(e);const o=I(3).$implicit;return pe(I().onEditMode(o))}),C()(),x(5,"div",7)(6,"lib-pop-entity-field-edit-icon",8),ie("events",function(o){he(e);const s=I(3).$implicit;return pe(I().onActionEvent(o,s))}),C()()()(),x(7,"div",9)(8,"div",4),$(9,U0e,3,1,"div",10),C(),me(10,"mat-divider"),x(11,"div",11)(12,"lib-pop-button",12),ie("events",function(o){he(e);const s=I(3).$implicit;return pe(I().onActionEvent(o,s))}),C()()()()}if(2&i){const e=n.$implicit,t=I().$implicit,o=I().$implicit,s=I(2);_(1),g("ngClass",qe(7,Z0e,e.open)),_(3),g("config",t.display),_(2),g("field",s.field)("dom",s.dom),_(1),g("ngClass",qe(9,K0e,!e.open)),_(2),g("ngIf",o.value),_(3),g("config",ms(11,Y0e))}}function q0e(i,n){if(1&i&&(x(0,"div"),$(1,X0e,13,12,"div",2),C()),2&i){const e=I(2).$implicit,t=I();_(1),g("ngIf",t.dom.state[e])}}function J0e(i,n){if(1&i&&(x(0,"div"),$(1,q0e,2,1,"div",2),C()),2&i){const e=I().$implicit,t=I();_(1),g("ngIf",t.dom.state.loaded&&t.ui.asset[e])}}function Q0e(i,n){if(1&i&&(x(0,"div"),$(1,J0e,2,1,"div",2),C()),2&i){const e=n.$implicit,t=I();_(1),g("ngIf",t.field.items[e].config)}}let OV=(()=>{class i extends ta{constructor(e,t){super(e,t,w4),this.el=e,this._domRepo=t,this.name="PopEntityInputComponent"}_setFieldAttributes(){return this.field&&this.field.items&&Object.keys(this.field.items).map((e,t)=>{const o=this.field.items[e];if("value"in o.config){const s=o.config.value;s.mask="000-00-0000",s.maxlength=11,s.minlength=11,s.transformation="ConvertEmptyToNull",s.dropSpecial=!0,s.patch.after=()=>{this._updateValue(+e,t)},this._updateValue(+e,t)}}),!0}_updateValue(e,t){const o=this._getDataKeyItemConfig(e,"value"),s=o.control.value;let r=s;r=11===String(s).length?"XXX-XX-"+s.slice(7):9===String(s).length?"XXX-XX-"+s.slice(5):null,this._updateDisplayField(e,"value",r),o.value=s,this._triggerUpdateAssetDisplay(e)}_getAssetDisplayStr(e){return this.dom.session[e].display.value}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-ssn"]],inputs:{field:"field"},features:[Re],decls:2,vars:1,consts:[[1,"pop-entity-phone-field","sw-field-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"sw-flex-row","sw-field-flex-row-offset",3,"ngClass"],[1,"sw-flex-row-wrap"],[1,"sw-field","sw-field-spacing","sw-flex-item-sm","sw-flex-grow-sm"],[1,"pop-entity-phone-display",3,"config","click"],[1,"sw-field","sw-flex-item-icon","sw-pad-rgt-md"],[1,"entity-field-edit-icon",3,"field","dom","events"],[1,"sw-flex-row-wrap","pt-02","sw-pad-lft-sm","sw-pad-rgt-sm","sw-mar-top-sm",3,"ngClass"],["class","sw-field sw-field-spacing sw-flex-item-xs sw-flex-grow-sm",4,"ngIf"],[1,"sw-flex-row-wrap","sw-flex-end","sw-mar-top-lg","sw-pad-rgt-lg","sw-pad-btm-md"],[1,"entity-field-phone-close-btn",3,"config","events"],[1,"sw-field","sw-field-spacing","sw-flex-item-xs","sw-flex-grow-sm"],[3,"config","events"],["focusTarget",""]],template:function(e,t){1&e&&(x(0,"div",0),$(1,Q0e,2,1,"div",1),C()),2&e&&(_(1),g("ngForOf",t.field.data_keys))},styles:[".pop-entity-input-item-icon[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:10%;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}"]}),i})();const eCe={make_range:{name:"make_range",type:"boolean",item:"zip",defaultValue:!1}};function tCe(i,n){if(1&i){const e=Me();x(0,"div",5)(1,"lib-pop-date",6),ie("events",function(o){he(e);const s=I(2).$implicit;return pe(I().onFieldItemEvent(o,s,"value"))}),C()()}if(2&i){const e=n.$implicit;_(1),g("config",e)}}function iCe(i,n){if(1&i){const e=Me();x(0,"div",7)(1,"lib-pop-field-btn",8),ie("events",function(o){he(e);const s=I(2).$implicit;return pe(I().onActionEvent(o,s))}),C()()}if(2&i){const e=I(3);_(1),g("field",e.field)}}function nCe(i,n){if(1&i&&(x(0,"div"),$(1,tCe,2,1,"div",3),$(2,iCe,2,1,"div",4),C()),2&i){const e=n.$implicit,t=I().last,o=I();_(1),g("ngIf",e.config.value),_(1),g("ngIf",o.field.canRemove&&t)}}function oCe(i,n){if(1&i&&(x(0,"div",1),$(1,nCe,3,2,"div",2),C()),2&i){const e=n.$implicit,t=I();_(1),g("ngIf",t.field.items[e])}}let RV=(()=>{class i extends ta{constructor(e,t){super(e,t,eCe),this.el=e,this._domRepo=t,this.name="PopEntityDateComponent"}_setFieldAttributes(){return!0}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-date"]],inputs:{field:"field"},features:[Re],decls:1,vars:1,consts:[["class","pop-entity-input-field sw-field-container",4,"ngFor","ngForOf"],[1,"pop-entity-input-field","sw-field-container"],[4,"ngIf"],["class","sw-flex-row sw-flex-item-full",4,"ngIf"],["class","sw-field-footer sw-mar-top-sm sw-pad-rgt-lg",4,"ngIf"],[1,"sw-flex-row","sw-flex-item-full"],[1,"sw-field","sw-flex-item-xs","sw-flex-grow-xs",3,"config","events"],[1,"sw-field-footer","sw-mar-top-sm","sw-pad-rgt-lg"],["action","remove",1,"sw-mar-rgt-sm",3,"field","events"]],template:function(e,t){1&e&&$(0,oCe,2,1,"div",0),2&e&&g("ngForOf",t.field.data_keys)},styles:[".pop-entity-input-item-icon[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:10%;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}"]}),i})();var sCe=[{number:"(432) 8681369",prefix:"Honorable",first:"Aryn",middle:"Freddie",last:"Guyan",suffix:"II",line_1:"Hallows",line_2:"Westridge",line_3:"671",city:"Midland",region_id:10,country:"United States",zip:"79705"},{number:"(310) 6622956",prefix:"Ms",first:"Atalanta",middle:"Brody",last:"Drennan",suffix:"Jr",line_1:"Manufacturers",line_2:"Manitowish",line_3:"3548",city:"Los Angeles",region_id:20,country:"United States",zip:"90035"},{number:"(256) 9125413",prefix:"Rev",first:"Morten",middle:"Ashien",last:"Exroll",suffix:"IV",line_1:"Oakridge",line_2:"Del Sol",line_3:"907",city:"Huntsville",region_id:18,country:"United States",zip:"35815"},{number:"(405) 9975613",prefix:"Rev",first:"Barthel",middle:"Cleopatra",last:"McFaul",suffix:"IV",line_1:"Clyde Gallagher",line_2:"Badeau",line_3:"5",city:"Oklahoma City",region_id:11,country:"United States",zip:"73173"},{number:"(251) 8931103",prefix:"Mr",first:"Dietrich",middle:"Sidonnie",last:"Illingsworth",suffix:"Jr",line_1:"Transport",line_2:"Stuart",line_3:"90679",city:"Mobile",region_id:30,country:"United States",zip:"36689"},{number:"(828) 3451730",prefix:"Rev",first:"Arty",middle:"Shawnee",last:"Zapata",suffix:"III",line_1:"Swallow",line_2:"Lawn",line_3:"34",city:"Asheville",region_id:2,country:"United States",zip:"28815"},{number:"(304) 4762071",prefix:"Ms",first:"Wye",middle:"Jilleen",last:"Boynes",suffix:"Sr",line_1:"4th",line_2:"Tennessee",line_3:"1",city:"Huntington",region_id:47,country:"United States",zip:"25775"},{number:"(214) 3168936",prefix:"Mr",first:"Gregg",middle:"Faustine",last:"Keattch",suffix:"Jr",line_1:"Bunker Hill",line_2:"Golf View",line_3:"832",city:"Dallas",region_id:6,country:"United States",zip:"75260"},{number:"(954) 7929407",prefix:"Ms",first:"Caresa",middle:"Fania",last:"Pinnock",suffix:"Jr",line_1:"Quincy",line_2:"Stone Corner",line_3:"8",city:"Fort Lauderdale",region_id:12,country:"United States",zip:"33330"},{number:"(915) 6300446",prefix:"Mr",first:"Korella",middle:"Kristyn",last:"Wildblood",suffix:"IV",line_1:"Fair Oaks",line_2:"Scott",line_3:"2",city:"El Paso",region_id:31,country:"United States",zip:"88574"},{number:"(703) 6359815",prefix:"Ms",first:"Sheila-kathryn",middle:"Charissa",last:"Blown",suffix:"II",line_1:"Butternut",line_2:"Coolidge",line_3:"9",city:"Reston",region_id:32,country:"United States",zip:"20195"},{number:"(520) 8823460",prefix:"Dr",first:"Jilleen",middle:"Odelle",last:"Wraggs",suffix:"II",line_1:"Londonderry",line_2:"Sugar",line_3:"631",city:"Tucson",region_id:46,country:"United States",zip:"85743"},{number:"(501) 2671110",prefix:"Mr",first:"Mada",middle:"Jeanie",last:"Croall",suffix:"III",line_1:"Redwing",line_2:"Express",line_3:"11",city:"North Little Rock",region_id:13,country:"United States",zip:"72118"},{number:"(229) 6574703",prefix:"Ms",first:"Bruis",middle:"Melody",last:"Matyja",suffix:"Jr",line_1:"Raven",line_2:"Lerdahl",line_3:"0780",city:"Decatur",region_id:27,country:"United States",zip:"30089"},{number:"(706) 2720582",prefix:"Rev",first:"Odey",middle:"Hashim",last:"Reany",suffix:"III",line_1:"Green Ridge",line_2:"Bay",line_3:"727",city:"Augusta",region_id:16,country:"United States",zip:"30905"},{number:"(201) 9304490",prefix:"Ms",first:"Gerhardt",middle:"Thorndike",last:"Duhig",suffix:"IV",line_1:"Oak Valley",line_2:"Messerschmidt",line_3:"7",city:"Paterson",region_id:30,country:"United States",zip:"07522"},{number:"(512) 8449175",prefix:"Mrs",first:"Garvy",middle:"Jay",last:"Jeggo",suffix:"Jr",line_1:"Bunting",line_2:"Bunker Hill",line_3:"3164",city:"Austin",region_id:33,country:"United States",zip:"78759"},{number:"(610) 1346823",prefix:"Rev",first:"Kristan",middle:"Evania",last:"Hugonin",suffix:"IV",line_1:"Oriole",line_2:"Carioca",line_3:"93791",city:"Allentown",region_id:33,country:"United States",zip:"18105"},{number:"(972) 4871606",prefix:"Honorable",first:"Frank",middle:"Caritta",last:"Perrett",suffix:"Sr",line_1:"Morrow",line_2:"Emmet",line_3:"897",city:"Dallas",region_id:14,country:"United States",zip:"75205"},{number:"(816) 3091864",prefix:"Mr",first:"Reeba",middle:"Sheri",last:"Bremmer",suffix:"II",line_1:"Merrick",line_2:"Truax",line_3:"86683",city:"Kansas City",region_id:2,country:"United States",zip:"64130"},{number:"(916) 6852072",prefix:"Mrs",first:"Guthrie",middle:"Gerladina",last:"Cureton",suffix:"Jr",line_1:"Mayer",line_2:"Goodland",line_3:"402",city:"Sacramento",region_id:1,country:"United States",zip:"95813"},{number:"(561) 3435348",prefix:"Honorable",first:"Zelda",middle:"Dorette",last:"St. Queintain",suffix:"III",line_1:"Ilene",line_2:"Bunker Hill",line_3:"09912",city:"Boca Raton",region_id:37,country:"United States",zip:"33499"},{number:"(904) 5841821",prefix:"Ms",first:"Gian",middle:"Evanne",last:"Peschmann",suffix:"II",line_1:"Sullivan",line_2:"Derek",line_3:"08",city:"Jacksonville",region_id:32,country:"United States",zip:"32255"},{number:"(702) 3087097",prefix:"Mr",first:"Fin",middle:"Otho",last:"Culleford",suffix:"III",line_1:"Harbort",line_2:"Jay",line_3:"12720",city:"Las Vegas",region_id:50,country:"United States",zip:"89178"},{number:"(518) 6415717",prefix:"Honorable",first:"Doy",middle:"Frasco",last:"Fudger",suffix:"Jr",line_1:"Rutledge",line_2:"Blaine",line_3:"65688",city:"Albany",region_id:46,country:"United States",zip:"12205"},{number:"(202) 2075385",prefix:"Mrs",first:"Fairfax",middle:"Jobey",last:"ducarme",suffix:"Sr",line_1:"Moland",line_2:"Spohn",line_3:"135",city:"Washington",region_id:38,country:"United States",zip:"20226"},{number:"(304) 8477966",prefix:"Mrs",first:"Finn",middle:"Decca",last:"Campling",suffix:"III",line_1:"Kings",line_2:"Almo",line_3:"022",city:"Charleston",region_id:44,country:"United States",zip:"25362"},{number:"(786) 7805933",prefix:"Ms",first:"Colet",middle:"Mitchael",last:"Signe",suffix:"III",line_1:"Maywood",line_2:"Scofield",line_3:"838",city:"Miami",region_id:25,country:"United States",zip:"33147"},{number:"(918) 9261303",prefix:"Rev",first:"Clementia",middle:"Emmy",last:"Spain",suffix:"IV",line_1:"Trailsway",line_2:"Summer Ridge",line_3:"01986",city:"Tulsa",region_id:2,country:"United States",zip:"74103"},{number:"(303) 1982164",prefix:"Ms",first:"Noelyn",middle:"Brody",last:"Curley",suffix:"III",line_1:"Sullivan",line_2:"Redwing",line_3:"8905",city:"Denver",region_id:34,country:"United States",zip:"80204"},{number:"(801) 2223513",prefix:"Rev",first:"Pierrette",middle:"Carmine",last:"Farr",suffix:"IV",line_1:"American",line_2:"Fair Oaks",line_3:"42160",city:"Salt Lake City",region_id:25,country:"United States",zip:"84115"},{number:"(570) 6033172",prefix:"Honorable",first:"Bruno",middle:"Modestine",last:"Pattisson",suffix:"Sr",line_1:"Arizona",line_2:"Rusk",line_3:"1629",city:"Wilkes Barre",region_id:23,country:"United States",zip:"18706"},{number:"(941) 7116852",prefix:"Dr",first:"Asher",middle:"Ricky",last:"Shallow",suffix:"Jr",line_1:"Kipling",line_2:"Maple Wood",line_3:"41284",city:"Pinellas Park",region_id:28,country:"United States",zip:"34665"},{number:"(202) 1979450",prefix:"Mr",first:"Sanford",middle:"Robert",last:"Bucklee",suffix:"Jr",line_1:"Kings",line_2:"Calypso",line_3:"27111",city:"Alexandria",region_id:45,country:"United States",zip:"22309"},{number:"(310) 7014715",prefix:"Dr",first:"Conan",middle:"Jarrett",last:"Pavier",suffix:"Jr",line_1:"Sauthoff",line_2:"Dixon",line_3:"0",city:"Fresno",region_id:50,country:"United States",zip:"93762"},{number:"(469) 6780351",prefix:"Rev",first:"Esme",middle:"Hortense",last:"Tremethack",suffix:"II",line_1:"Forster",line_2:"Warrior",line_3:"7",city:"Dallas",region_id:30,country:"United States",zip:"75216"},{number:"(803) 8625420",prefix:"Honorable",first:"Cassy",middle:"Westley",last:"Charity",suffix:"II",line_1:"Mayer",line_2:"Hudson",line_3:"85911",city:"Columbia",region_id:30,country:"United States",zip:"29215"},{number:"(615) 3226644",prefix:"Rev",first:"Ardys",middle:"Markus",last:"Monahan",suffix:"III",line_1:"Heffernan",line_2:"Ludington",line_3:"96743",city:"Nashville",region_id:50,country:"United States",zip:"37245"},{number:"(304) 4328658",prefix:"Mr",first:"Ceil",middle:"Bird",last:"Allred",suffix:"Jr",line_1:"Dorton",line_2:"Tennyson",line_3:"0695",city:"Charleston",region_id:26,country:"United States",zip:"25326"},{number:"(401) 1098335",prefix:"Mr",first:"Skye",middle:"Jacky",last:"Duffyn",suffix:"III",line_1:"Independence",line_2:"Mosinee",line_3:"85884",city:"Providence",region_id:17,country:"United States",zip:"02912"},{number:"(540) 6236316",prefix:"Honorable",first:"Johannah",middle:"Herminia",last:"Ebertz",suffix:"III",line_1:"Hanson",line_2:"Glacier Hill",line_3:"30",city:"Roanoke",region_id:25,country:"United States",zip:"24034"},{number:"(202) 1509886",prefix:"Honorable",first:"Guthrey",middle:"Winny",last:"Reuss",suffix:"III",line_1:"1st",line_2:"Melody",line_3:"4772",city:"Washington",region_id:24,country:"United States",zip:"20575"},{number:"(202) 4485396",prefix:"Mrs",first:"Heath",middle:"Reinhard",last:"Cherry",suffix:"II",line_1:"Shasta",line_2:"Grover",line_3:"16155",city:"Washington",region_id:43,country:"United States",zip:"20238"},{number:"(203) 3391386",prefix:"Ms",first:"Boot",middle:"Matthew",last:"Spurgin",suffix:"Sr",line_1:"Muir",line_2:"Manitowish",line_3:"2107",city:"Norwalk",region_id:11,country:"United States",zip:"06854"},{number:"(786) 1710016",prefix:"Mrs",first:"Sky",middle:"Trent",last:"Faichney",suffix:"Jr",line_1:"Continental",line_2:"Luster",line_3:"415",city:"Miami",region_id:32,country:"United States",zip:"33158"},{number:"(816) 7081228",prefix:"Rev",first:"Elihu",middle:"Joel",last:"Widdows",suffix:"IV",line_1:"Kingsford",line_2:"Melody",line_3:"52316",city:"Kansas City",region_id:37,country:"United States",zip:"64125"},{number:"(517) 9466139",prefix:"Mr",first:"Karalee",middle:"Weston",last:"Dearell",suffix:"Sr",line_1:"Stang",line_2:"Kingsford",line_3:"0570",city:"Lansing",region_id:3,country:"United States",zip:"48930"},{number:"(602) 6259964",prefix:"Rev",first:"Godart",middle:"Murdoch",last:"Blewett",suffix:"IV",line_1:"Rowland",line_2:"Manley",line_3:"471",city:"Peoria",region_id:47,country:"United States",zip:"85383"},{number:"(347) 8954655",prefix:"Mr",first:"Angus",middle:"Murielle",last:"Minet",suffix:"Jr",line_1:"Golf",line_2:"Truax",line_3:"2812",city:"New York City",region_id:9,country:"United States",zip:"10004"},{number:"(414) 6717514",prefix:"Mr",first:"Polly",middle:"Conney",last:"Longworth",suffix:"Sr",line_1:"Summerview",line_2:"Mandrake",line_3:"9",city:"Milwaukee",region_id:2,country:"United States",zip:"53263"}];let Tr=(()=>{class i extends Qr{constructor(){super(),this.name="PopFieldEditorService",this.asset={data:sCe,core:void 0,field:void 0,viewParams:{select:{disabled:1,display:1,required:1},select_multi:{disabled:1,display:1,helpText:1},input:{display:1,readonly:1,required:1,pattern:1,validation:1,transformation:1,maxlength:1,minlength:1,mask:1,disabled:1,allow_canada:1,auto_fill:1},phone:{display:1,readonly:1,required:1,mask:1},checkbox:{display:1,readonly:1},button:{display:1,disabled:1},radio:{display:1,disabled:1,layout:1},switch:{display:1,disabled:1,allow_canada:1,auto_fill:1}},viewLabels:{address:{defaultValue:"Address"},phone:{defaultValue:"Phone"}},viewMultiple:{address:1,phone:1,email:1,switch:1},viewOptions:{select:{enum:!1,defaultValue:1,values:[{value:1,name:"Option 1"},{value:2,name:"Option 2"},{value:3,name:"Option 3"}]},select_multi:{enum:!1,defaultValue:[],values:[{value:1,name:"Option 1"},{value:2,name:"Option 2"},{value:3,name:"Option 3"}]},radio:{enum:!1,defaultValue:"yes",values:[{value:"yes",name:"Yes"},{value:"no",name:"No"}]}},viewRequired:{address:{name:1,zip:1},input:{value:1},select:{value:1},select_multi:{value:1},multi_selection:{value:1},switch:{value:1},phone:{name:1,number:1},email:{address:1},name:{first:1,last:1}},viewIgnored:{address:{street:1,u_s_state_id:1}},viewTemplate:{selection:1},labelTypes:{defaultValue:"provided",options:[{value:"provided",name:"Provided"},{value:"custom",name:"Custom"}]}}}register(e,t,o){return new Promise(s=>{Ai(e,["entity"],"Invalid Core")&&Ai(e.entity,!0,"Invalid Core")&&(this.asset.core=e,this.asset.core.entity.items.map(r=>{!function lue(i){i.rule={},i.rules=Object.values({})}(r)}),this._setFieldCustomSettings(e.entity),Y(e.entity.custom_setting,!0)&&(t.ui.customSetting||(t.ui.customSetting={}),Object.keys(e.entity.custom_setting).map(r=>{const a=e.entity.custom_setting[r],l=this.getCustomSettingComponent(e,e.entity,a,o);t.ui.customSetting[a.name]=l})),this.asset.core.entity.trait=this.getFieldTraits(this.asset.core.entity.cf_type_name),this._setFieldEntryValues(e,o).then(()=>s(!0)))})}getDefaultValues(e){let t={};switch(e){case"address":t=this.getAddressValues();break;case"phone":t=this.getPhoneValues();break;case"name":t=this.getNameValues();break;case"datetime":t={value:(new Date).toISOString()};break;case"social_security_number":return Math.floor(1e8+9e5*Math.random());default:t={value:null}}return t}isSchemePrimaryField(e,t){if(Y(e,["id","mapping"])&&Y(t,["id","cf_type_name"])){const o=this.getSchemePrimary(e);if(t.cf_type_name in o&&+o.cf_type_name==+t.id)return!0}return!1}isSchemeFieldItemDisabled(e,t,o){return!1}isSchemeFieldEntryDisabled(e,t,o){return!1}getFieldTraits(e){const t=[];let o={};switch(String(e).toLowerCase()){case"address":o=pI;break;case"email":o=uI;break;case"name":o=fI;break;case"phone":o=mI;break;case"select-multi":o=TV}return Y(o,!0)&&Object.keys(o).map(s=>{const r=o[s];Y(r,["type"])&&"trait"===r.type&&t.push(r)}),t}getSchemePrimary(e){return cp(e,["mapping","primary"])}updateSchemePrimaryMapping(e){var t=this;return new Promise(function(){var o=q(function*(s){if(Y(e,["id"]))return s(yield t._updateSchemeFieldMapping(e,"primary"))});return function(s){return o.apply(this,arguments)}}())}getDefaultLabelTypeOptions(){return JSON.parse(JSON.stringify(this.asset.labelTypes))}getViewParams(e=null){return e&&e in this.asset.viewParams?JSON.parse(JSON.stringify(this.asset.viewParams[e])):JSON.parse(JSON.stringify(this.asset.viewParams))}getViewMultiple(e=null){return e?e in this.asset.viewMultiple?this.asset.viewMultiple[e]:null:JSON.parse(JSON.stringify(this.asset.viewMultiple))}getViewRequired(e,t){return e in this.asset.viewRequired&&t in this.asset.viewRequired[e]}getViewIgnored(e,t,o){return!1}getViewOptions(e=null){return e&&e in this.asset.viewOptions?JSON.parse(JSON.stringify(this.asset.viewOptions[e])):JSON.parse(JSON.stringify(this.asset.viewOptions))}getAddressValues(){const e=Math.floor(50*Math.random());return{line_1:this.asset.data[e].line_1,line_2:this.asset.data[e].line_2,line_3:"Attn: "+this.asset.data[e].line_3,city:this.asset.data[e].city,region_id:this.asset.data[e].region_id,county:"Ohio",country_id:1,zip:String(this.asset.data[e].zip).slice(0,5),zip_4:"0000"}}getNameValues(){const e=Math.floor(50*Math.random());return{prefix:this.asset.data[e].prefix,first:this.asset.data[e].first,middle:this.asset.data[e].middle,last:this.asset.data[e].last,suffix:this.asset.data[e].suffix}}getPhoneValues(){const e=Math.floor(50*Math.random());return{title:void 0,country_id:1,number:this.asset.data[e].number,extension:"123456",voice_button:null,sms_button:null,can_call:1,can_text:1}}getCustomSettingComponent(e,t,o,s){let r;const a=!(!e.access.can_update||e.entity.system);switch(String(o.type).toLowerCase()){case"boolean":r={type:Ws,inputs:{core:e,config:new uo({name:o.name,label:o.label?o.label:jt(Tn(o.name)),helpText:o.helpText?o.helpText:null,value:typeof o.value<"u"?o.value:o.defaultValue,facade:!0,disabled:!a,metadata:{setting:o},patch:{field:"",path:""}}),hidden:0,when:o.when?o.when:null},position:t.position,ancillary:!0,sort:t.sort};break;case"transformation":r={type:In,inputs:{core:e,config:new Zi({name:o.name,label:o.label?o.label:jt(Tn(o.name)),helpText:o.helpText?o.helpText:null,value:o.value?o.value:o.defaultValue,disabled:!a,facade:!0,options:{values:as(o.options.values,{empty:o.options.empty,sort:!0})},metadata:{setting:o},patch:{duration:500,field:"",path:""}}),hidden:0,when:o.when?o.when:null},position:t.position,ancillary:!0,sort:t.sort};break;case"trait":case"fixed":break;default:r={type:Ws,inputs:{core:e,config:new uo({name:o.name,label:o.label?o.label:jt(Tn(o.name)),helpText:o.helpText?o.helpText:null,value:typeof o.value<"u"?o.value:o.defaultValue,facade:!0,metadata:{setting:o}}),hidden:0,when:o.when?o.when:null},position:t.position,ancillary:!0,sort:t.sort}}return r}storeCustomSetting(e,t){return new Promise(o=>{ut.event(this.name,"storeCustomSetting",t);const s=t.config.metadata.setting,r={value:t.config.control.value};+s.field_id&&(r.field_id=+s.field_id),+s.field_item_id&&(r.field_item_id=+s.field_item_id);const a=+s.field_id?+s.field_id:e.entity.id;let l;return s.id?l=gt.doPatch(`apps/fields/${a}/configs/${s.id}`,r,1,!1):(r.name=s.name,r.type=s.type,l=gt.doPost(`apps/fields/${a}/configs`,r,1,!1)),l.subscribe(c=>{if(c.data&&(c=c.data),Y(c,["id"])){if(t.config.metadata.setting={...t.config.metadata.setting,...Ui(c)},!s.item){e.entity.custom_setting[s.name].value=r.value,e.entity.setting[s.name]=r.value;const A=Kn(e.entity.configs.field_configs,"name");s.name in A?e.entity.configs.field_configs[A[s.name]]={...t.config.metadata.setting}:e.entity.configs.field_configs.push(t.config.metadata.setting)}return this.triggerFieldPreviewUpdate(),o(!0)}},c=>o(qn(c))),o(!0)})}storeFieldItemRule(e,t,o){return new Promise(s=>{let r;const a=o.config.metadata.rule,l=t.id,c=o.config.control.value,A={value:c};Y(a.validationMap,!0)&&(a.validation=a.validationMap[String(c)]),a.validation?(A.field_validation_id=a.validation.id,a.validation.fixed&&(a.value=a.validation.value)):a.value=c,a.field_id?r=gt.doPatch(`fields/${l}/rules/${a.id}`,A,1,!1):(A.field_item_id=null,A.name=a.name,r=gt.doPost(`fields/${l}/rules`,A,1,!1)),r.subscribe(D=>(Y(D=wa(D),["value"])&&(t.rule[a.name]=c,this.triggerFieldPreviewUpdate()),s(!0)),D=>s(qn(D)))})}triggerFieldPreviewUpdate(){Y(this.asset.core,["channel"])&&this.dom.setTimeout("trigger-preview",()=>{this.asset.core.channel.next({source:this.name,target:"PopEntityFieldPreviewComponent",type:"component",name:"update"})},0)}ngOnDestroy(){super.ngOnDestroy()}_updateSchemeFieldMapping(e,t){var o=this;return new Promise(function(){var s=q(function*(r){if(!(Y(e,["id","mapping"])&&Ne(t,!0)&&t in e.mapping))return r(!1);o.dom.setTimeout(`update-scheme-field-${t}`,()=>{const a={mapping:{}};a.mapping=e.mapping,o.dom.setSubscriber(`update-scheme-field-${t}`,gt.doPatch(`profile-schemes/${e.id}`,a,1,!1).subscribe(()=>r(!0),l=>(ut.error(o.name,"_setFieldEntryValues",qn(l)),r(!1))))},0)});return function(r){return s.apply(this,arguments)}}())}_setFieldCustomSettings(e,t){if(Y(e,["configs"])){const o=e.configs,s=yI(e),r=JSON.parse(JSON.stringify({...cV,...s}));if(Y(r,!0)){const a=Kn(e.items,"id"),l=Kn(e.items,"name");Object.keys(r).map(c=>{const A=r[c];if(Y(A,!0))if(A.item){if(A.item in l){const D=e.items[l[A.item]];D.custom_setting||(D.custom_setting={}),D.setting||(D.setting={}),A.field_item_id=D.field_item_id,A.field_id=D.id;const te=A.value?A.value:A.defaultValue;D.custom_setting[c]=A,D.setting[c]=te}}else{e.custom_setting||(e.custom_setting={}),e.setting||(e.setting={}),e.trait||(e.trait={});const D=A.value?A.value:A.defaultValue;"trait"===A.type?e.trait[c]=D:(e.custom_setting[c]=A,e.setting[c]=D)}}),De(o.field_configs,!0)&&o.field_configs.map(c=>{e.custom_setting[c.name]&&(e.custom_setting[c.name].id=c.id,e.custom_setting[c.name].value=c.value),e.setting[c.name]=c.value}),Y(o.item_configs,!0)&&Object.keys(o.item_configs).map(c=>{const A=o.item_configs[c];De(A,!0)&&A.map(D=>{if(D.field_id in a){const te=e.items[a[D.field_id]];te.custom_setting||(te.custom_setting={}),te.custom_setting[D.name]?(te.custom_setting[D.name].id=D.id,te.custom_setting[D.name].value=D.value):te.custom_setting[D.name]=D,te.setting||(te.setting={}),te.setting[D.name]=D.value}})})}}}_setFieldEntryValues(e,t){return new Promise(o=>{const s=e.entity;if(De(s.entries,!0)&&s.entries.sort(ko("sort_order")),De(s.entries,!0))return o(!0);{const r={name:s.name?s.name:jt(s.cf_type_name),type:"provided",sort_order:0};gt.doPost(`fields/${s.id}/entries`,r,1,!1).subscribe(a=>(s.entries=[a=a.data?a.data:a],o(!0)),a=>(ut.error(this.name,"_setFieldEntryValues",qn(a)),o(!1)))}})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),hr=(()=>{class i{constructor(e){this.field=e,this.name="PopEntityUtilFieldService",this.cache=new ty}buildCustomField(e,t){const o={};t.metadata||(t.metadata={}),t.multiple_values_min||(t.multiple_values_min=1),(!t.multiple_values_max||t.multiple_values_max>10)&&(t.multiple_values_max=10),t.multiple_values_unrestricted||(t.multiple_values_unrestricted=0),t.multiple_values_limit||(t.multiple_values_limit=10);const s=Lt(e,["entity","scheme"]),r=Y(s,["id","mapping"]);t.primary=!!r&&this.field.isSchemePrimaryField(s,t);const a=yI(t),l={};Y(a,!0)&&Object.keys(a).map(le=>{const ke=a[le];Y(ke,["item","model"])&&ke.item&&"model"===ke.type&&(l[ke.item]||(l[ke.item]={}),l[ke.item][ke.model]=ke.value)}),t.children={};let c=gi(t.items);const A=1===c.length;c=c.filter(le=>+le.is_active).filter(le=>!r||!this.field.isSchemeFieldItemDisabled(s,+t.id,+le.id)).map(le=>{const ke=Y(l[le.name])?l[le.name]:{};le=Ui(le=gi({...le,...ke}),{blacklist:["children","entries","items","storage","webhook","object_name","depth_level"]}),this.setFieldItemRules(+t.id,le,s),le.label=A?t.name:le.name,Y(le.cf_item_mask)?(le.mask=le.cf_item_mask.mask,le.prefix=le.cf_item_mask.prefix,le.suffix=le.cf_item_mask.suffix):Y(le.cf_item_pattern)&&(le.pattern=le.cf_item_pattern.internal_name);const Pe=jf(e,le);if(Y(le.model,!0)&&Object.keys(le.model).map(it=>{Ne(it,!0)&&kt(le.model[it],!1)&&(Pe[it]=le.model[it])}),Y(Pe.options,!0)?(De(Pe.options.rawValues,!0)&&kt(Pe.options.rawValues[0].active)&&(Pe.options.rawValues=Pe.options.rawValues.filter(it=>+it.active)),De(Pe.options.rawValues,!0)&&kt(Pe.options.rawValues[0].sort)&&Pe.options.rawValues.sort(ko("sort"))):Pe.options={rawValues:[],values:[]},De(le.source,!0)&&!De(Pe.options.values,!0)){const it=as(le.source);Pe.options.rawValues=gi(le.source),Pe.options.values=it}const ze=D4({id:le.cf_item_view_id,name:le.cf_item_view_html_form,type:""}),at=Ui({id:le.id,custom_setting:{},model:Pe,table:le.table?le.table:{sort:99,visible:!1},view:ze,component:this._getFormComponent(ze.name),setting:this._getFieldItemSetting(le),rules:le.rules,rule:le.rule,source:De(le.source,!0)?le.source:null,sourceMap:De(le.source,!0)?Kn(le.source,"id"):null});return t.children[le.internal_name]=at,at});const D={};if(De(t.entries,!0)&&(t.entries.sort(ko("sort_order")),t.entries.map((le,ke)=>{D[le.id]=ke})),t.items={},t.data=Y(t.data,!0)?t.data:{},t.uses_multiple_values){const le=t.entries.map(ke=>ke.id);t.data_keys=le.sort(function(ke,Pe){const ze=+D[ke],at=+D[Pe];return ze>at?1:ze<at?-1:0})}else t.data_keys=De(t.entries,!0)?[t.entries[0].id]:[];const te=Kn(t.entries,"id");t.data_keys.map((le,ke)=>{Y(t.data[le])||(t.data[le]={field_entry_id:le}),o[le]={entry:le in te?t.entries[te[le]]:this._getFieldItemEntry(t,le,ke),config:{}},c.map(Pe=>{Y(Pe.model,["internal_name"])&&(Pe.model.value=this._getModelValue(e,t,Pe.model,le),Pe.model.facade=1,o[le].view=Pe.view,o[le].config[Pe.model.internal_name]=Gf(e,Pe.model))})});const se={id:+t.id,ancillary:t.ancillary?1:0,attribute:t.attribute,canAdd:t.canAdd,canRemove:t.canRemove,configs:t.configs||{},custom_setting:t.custom_setting||{},metadata:t.metadata,multiple:!!t.uses_multiple_values,multiple_min:t.multiple_values_min,multiple_max:t.multiple_values_min,multiple_values_limit:t.multiple_values_limit?t.multiple_values_limit:10,data:t.data,data_keys:t.data_keys,facade:!!t.facade,cf_type_name:t.cf_type_name,entries:De(t.entries)?t.entries:[],hidden:t.hidden,internal_name:t.cf_type_name,isUnique:t.is_unique,isPrimary:t.is_primary,isRequired:t.is_primary,name:String(o4(t.name)).toLowerCase(),label:t.name,position:t.position,setting:t.setting||{},show_name:!!t.uses_name,sort:t.sort,traits:t.traits,state:t.state?t.state:"template_edit",when:t.when?t.when:null,children:t.children,items:o};return se.component=this._getEntityFieldComponent(t.cf_type_name),new JB(se)}_setSchemeFieldSettings(e,t){return Y(e,["id","mapping"])&&Y(t,!0),t}buildCoreFieldItem(e,t){return{model:t,component:this._getFormComponent(t.form),config:Gf(e,t)}}setFieldItemRules(e,t,o){const s={};t.rule={};const r=De(t.itemrules,!0)?t.itemrules:[],a=De(t.fieldrules,!0)?t.fieldrules:[];r.map(l=>{De(l.validations,!0)?(Y(l.options)||(l.options={}),l.options.values=as(l.validations,{nameKey:"label"}),l.validationMap=bu(l.validations,"id"),l.value=+l.validation.id):l.value=l.raw_value,!l.value&&l.default_value&&(l.value=l.default_value),s[l.name]=l}),a.map(l=>{Y(s[l.name])&&(s[l.name].id=l.id,s[l.name].value=De(s[l.name].validations,!0)?l.validation.id:l.raw_value,s[l.name].field_id=l.field_id)}),t.rules=Object.values(s),t.rules.map(l=>{l.validation.fixed||(t.rule[l.name]=tn(l.value))})}buildDomFields(e,t){var o=this;return new Promise(function(){var s=q(function*(r){let a,l;const c=e.repo.model.field,A=e.params.can_extend?yield o._getEntityCustomFields(e):{};Object.keys(A).map(le=>{le in c&&delete c[le]});const D=Object.values(c).sort(ko("sort")),te=Object.values(A).sort(function(le,ke){return le.cf_type_id===ke.cf_type_id?ke.name<le.name?1:-1:le.cf_type_id>ke.cf_type_id?1:-1});ut.info(o.name,"buildDomFields",{base:c,custom:A});const se=[...D,...te].map((le,ke)=>(le.sort=ke,Gs(le)));return De(se,!0)&&se.map(le=>{const ke=le.model?le.model.internal_name??le.model.name:le.object_name;if(+e.entity.scheme_id&&!Y(e.entity.scheme_assets)&&(e.entity.scheme_assets={}),Y(le,!0)&&ke)if(le.when&&(Ne(le.when)&&(le.when=[le.when]),le.hidden=!dl(e,le.when,e)),Y(le,["cf_type_name"])&&(ke in A||"name"===ke&&Y(e.entity.name,!0)))a=o.buildCustomField(e,le),a&&(l={type:uV,inputs:Ui({core:e,field:new JB(a),hidden:le.hidden?1:0,when:le.when,onLoad:le.onLoad,onEvent:le.onEvent,onUnload:le.onUnload}),custom:!0,position:le.position?le.position:1,ancillary:le.ancillary,sort:le.sort},t.ui.fields.set(+le.id,l));else if(Y(le,["model"])&&(ke in e.entity||le.preserve)){le.model.view={name:le.model.form},le.model.transformation&&(le.model.value=o._getModelValue(e,le,le.model));const Pe=jf(e,le.model),ze={model:Pe,table:Y(le.table,!0)?le.table:{sort:99,visible:!1},component:o._getFormComponent(le.model.view.name),config:Gf(e,Pe)};ze&&ze.config&&("function"==typeof ze.config.setControl&&ze.config.setControl(),l={type:ze.component,inputs:Ui({core:e,config:ze.config,hidden:le.hidden?1:0,when:le.when,onLoad:le.onLoad,onEvent:le.onEvent,onUnload:le.onUnload}),custom:!1,position:le.position?le.position:1,ancillary:!!le.ancillary,when:De(le.when,!0)?le.when:null,sort:le.sort?le.sort:99},t.ui.fields.set(ze.model.name,l))}}),r(!0)});return function(r){return s.apply(this,arguments)}}())}getDomFields(e=1,t){const o=[];return t.ui.fields.forEach(s=>{!s.ancillary&&s.position===e&&o.push(s)}),o}_getEntityCustomFields(e){var t=this;return new Promise(function(){var o=q(function*(s){let r={};return e&&e.params.can_extend&&Y(e.entity)&&(r=e.entity.scheme_id&&"profile"===e.params.internal_name?yield en(gt.doGet(`schemes/${e.entity.scheme_id}/fields`,{extra:"related",compact:!0,groupby:"object_name",cache:1},1,!1),null,"fetch-entity-scheme-cfs"):yield en(gt.doGet("entities/fields",{extra:"related",internal_name:e.params.internal_name,compact:!0,groupby:"object_name",cache:1},1,!1),null,"fetch-entity-scheme-cfs"),Object.keys(r).map(a=>{const l=r[a];l.data=e.entity[a],t._setEntityCustomFieldDataStructure(l)})),s(r)});return function(s){return o.apply(this,arguments)}}())}clearCustomFieldCache(e){this.cache.clear("custom_field",String(e)),Oi(`App.${zt.id}.CustomField.${+e}`,null)}_setFieldEntries(e){return new Promise(function(){var t=q(function*(o){return o(e)});return function(o){return t.apply(this,arguments)}}())}_setEntityCustomFieldDataStructure(e){const t={};if(De(e.data,!0))De(e.entries,!0)&&e.data.map((o,s)=>{t[e.entries[s].id]=o});else if(Y(e.data,!0)){const o=e.entries[0];t[o.id]={},e.items.map(r=>{t[o.id][r.internal_name]=e.data[r.internal_name]??null})}e.data=t}_getFieldItemSetting(e){return{}}_getFieldItemEntry(e,t,o){let s;const r=e.data[t];if(De(e.entries,!0)){const a=e.entries.filter(te=>"custom"!==te.type),l=Kn(a,"id"),c=e.entries.filter(te=>"custom"!==te.type),A=o%c.length,D=Kn(c,"id");s=r.field_entry_id&&r.field_entry_id in D?c[D[r.field_entry_id]]:r.field_entry_id&&r.field_entry_id in l?a[l[r.field_entry_id]]:A in e.entries?c[A]:c[0]}else s=null;return s}_getFormComponent(e){let t=null;if(Ne(e,!0))switch(String(e).toLowerCase()){case"sidebyside":t=_V;break;case"select":t=In;break;case"select-filter":case"select_filter":t=Yf;break;case"select-list":case"select_list":t=FI;break;case"select-multi":case"select_multi":t=sy;break;case"select-modal":t=LI;break;case"text":case"input":t=an;break;case"search":case"search-input":t=NI;break;case"colorpicker":case"color-picker":case"color":t=jfe;break;case"textstring":t=Pfe;break;case"number":t=ay;break;case"date":t=V4;break;case"datepicker":t=Lfe;break;case"datetime":t=Y4;break;case"time":t=Rme;break;case"checkbox":t=Hc;break;case"switch":t=Ws;break;case"minmax":t=Z4;break;case"radio":t=Zf;break;case"textarea":t=Aa;break;case"label":t=EI;break;case"button":t=Pr;break;case"chip":t=Qfe;break;default:ut.warn(this.name,"_getFormComponent: fail",e)}return t}_getModelValue(e,t,o,s){let r=null;const a=o.internal_name??o.name;return s?(Y(t.data,!0)&&Y(o,!0)&&s in t.data&&a in t.data[s]&&(r=t.data[s][a],o.transformation&&(r=eo.transform(r,o.transformation,e))),!r&&"value"===a&&t.object_name in e.entity&&!Y(e.entity[t.object_name])&&(r=e.entity[t.object_name],o.transformation&&(r=eo.transform(r,o.transformation,e)))):a in e.entity&&(r=e.entity[a],o.transformation&&(r=eo.transform(r,o.transformation,e))),r}_getEntityFieldComponent(e){let t=null;switch(String(e).toLowerCase()){case"name":t=bV;break;case"email":t=yV;break;case"phone":t=xV;break;case"address":t=kV;break;case"date":t=RV;break;case"datetime":t=vV;break;case"textfield":case"input":t=IV;break;case"selection":case"select":t=AV;break;case"select-multi":case"select_multi":case"multi_selection":t=EV;break;case"radio":t=SV;break;case"checkbox":t=MV;break;case"toggle":case"switch":t=PV;break;case"ssn":case"social_security_number":t=OV;break;case"texteditor":case"textarea":t=DV;break;default:ut.warn(this.name,"_getEntityFieldComponent: fail",e)}return t}}return i.\u0275fac=function(e){return new(e||i)(Le(Tr))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),uy=(()=>{class i{constructor(e){this.env=e,this.name="PopLogService",this.asset={on:!1,types:[],level:1,sessionPath:"Log",components:[],store:!1},this.entries=[];const t=rs(`${this.asset.sessionPath}.on`,!1),o=rs(`${this.asset.sessionPath}.level`,0),s=rs(`${this.asset.sessionPath}.types`,[]),r=rs(`${this.asset.sessionPath}.components`,[]);this.asset.on=!!t||!0===this.env.debug,this.asset.level=o>0?o:this.env.debugLevel?this.env.debugLevel:1,this.asset.types=De(s,!0)?s:this.env.debugTypes?this.env.debugTypes:[],this.asset.components=De(r,!0)?r:this.env.debugComponents?vu(this.env.debugComponents.split(",").map(a=>rn(a," ",""))):[],this.enabled("init",this.name)&&window.console.log(this.message(`${this.name}:init`),this.color("init"))}enable(){this.asset.on=!0,Oi(`${this.asset.sessionPath}.on`,!0)}disable(){this.asset.on=!1,Oi(`${this.asset.sessionPath}.on`,!1)}isEnabled(){return this.asset.on}setLevel(e){this.asset.level=e,Oi(`${this.asset.sessionPath}.level`,e)}getLevel(){return this.asset.level}enableType(e){"string"!=typeof e||this.asset.types.includes(e)?Array.isArray(e)&&(this.asset.types=e):this.asset.types.push(e),Oi(`${this.asset.sessionPath}.types`,this.asset.types)}disableType(e){"string"==typeof e&&this.asset.types.includes(e)?this.asset.types.splice(this.asset.types.indexOf(e),1):e.map(t=>{"string"==typeof t&&this.asset.types.includes(t)&&this.asset.types.splice(this.asset.types.indexOf(t),1)}),Oi(`${this.asset.sessionPath}.types`,this.asset.types)}types(){return[...this.asset.types]}enableComponent(e){"string"!=typeof e||this.asset.components.includes(e)?Array.isArray(e)&&(this.asset.components=e):this.asset.components.push(e),Oi(`${this.asset.sessionPath}.components`,this.asset.components)}disableComponent(e){e&&this.asset.types.includes(e)&&this.asset.types.splice(this.asset.types.indexOf(e),1),Oi(`${this.asset.sessionPath}.components`,this.asset.components)}components(){return[...this.asset.components]}init(e,t,o="",s=!1){const r="init";(this.enabled(r,e)||s)&&window.console.log(this.message(`${e}:${t}`),this.color(s?"force":r),o)}debug(e,t,o="",s=!1){const r="debug";t=this.message(`${e}:${t}`),(this.enabled(r,e)||s)&&window.console.log(t,this.color(s?"force":r),o)}cache(e,t,o=!0,s=!1){let r="cache";(this.enabled(r,e)||s)&&(r=o?"cache-in":"cache-out",window.console.log(this.message(`${e}:${t}`),this.color(s?"force":r)))}warn(e,t,o="",s=!1){const r="warn";(this.enabled(r,e)||s)&&window.console.log(this.message(`${e}:${t}`),this.color(s?"force":r),o)}info(e,t,o="",s=!1){const r="info";(this.enabled(r,e)||s)&&window.console.log(this.message(`${e}:${t}`),this.color(s?"force":r),o)}theme(e,t,o="",s=!1){const r="theme";(this.enabled(r,e)||s)&&window.console.log(this.message(`${e}:${t}`),this.color(s?"force":r),o)}event(e,t,o,s=!1){const r="event";(this.enabled(r,e)||s)&&window.console.log(this.message(`${e}:${t}`),this.color(s?"force":r),o)}error(e,t,o="",s=!1){const r="error";(this.enabled(r,e)||s)&&window.console.log(this.message(`${e}:${t}`),this.color(s?"force":r),o)}enabled(e="",t=null){if(this.asset.on){if(e&&Array.isArray(this.asset.types)&&this.asset.types.includes(e)||"number"==typeof this.asset.level&&(["error","onSession"].includes(e)&&this.asset.level>=1||["warning","info"].includes(e)&&this.asset.level>=2||["events"].includes(e)&&this.asset.level>=3))return!0;if(t)return this.asset.components.includes(t)}return!1}message(e){return`%c${e}`}color(e){let t="aqua";switch(e){case"warn":t="orange";break;case"force":case"error":case"destroy":t="red";break;case"info":default:t="aqua";break;case"event":t="yellow";break;case"onSession":case"event-trigger":t="gold";break;case"cache-in":t="green";break;case"cache-out":case"api":t="darkgreen";break;case"dom":t="brown";break;case"debug":case"config":t="pink";break;case"theme":t="purple"}return`color: ${t}`}}return i.\u0275fac=function(e){return new(e||i)(Le("env"))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Cu=(()=>{class i{constructor(e,t,o){this.http=e,this.log=t,this.env=o,this.offsetLimit=2e3,this.baseUrl||(this.baseUrl=`${window.location.protocol}//api.${window.location.host}`)}getHeaders(e,t=0){return{"X-Popcx-Business":String(+t?t:zt?zt.id:0),"Content-Type":"application/json","Api-Version":(typeof e<"u"?e:1).toString()}}getBaseUrl(){return this.baseUrl}setBaseUrl(e){Ne(e,!0)&&(this.baseUrl=e)}getOffsetLimit(){return this.offsetLimit}doGet(e,t={},o=1,s=!1,r=0,a=!1){const l={headers:new os(this.getHeaders(o,r)),params:this._setParams(t)};return s&&l.headers.set("SkipResponse401Interceptor","1"),"/"!==e[0]&&(e=`/${e}`),a&&function ode(i){oI=i}(!0),this.http.get(`${this.getBaseUrl()}${e}`,l)}doDelete(e,t=null,o=1,s=null,r=0){const a={headers:new os(this.getHeaders(o,r)),body:t};return s&&a.headers.set("SkipResponse401Interceptor","1"),"/"!==e[0]&&(e=`/${e}`),this.http.delete(`${this.getBaseUrl()}${e}`,a)}doPatch(e,t,o=1,s=!1,r=0){const a=new os(this.getHeaders(o,r));return s&&a.set("SkipResponse401Interceptor","1"),"/"!==e[0]&&(e=`/${e}`),this.http.patch(this.getBaseUrl()+e,JSON.stringify(t),{headers:a})}doPost(e,t,o=1,s=!1,r=0){const a=new os(this.getHeaders(o,r));return s&&a.set("SkipResponse401Interceptor","1"),"/"!==e[0]&&(e=`/${e}`),this.http.post(`${this.getBaseUrl()}${e}`,JSON.stringify(t),{headers:a})}transform(e,t){return De(t,!0)?t.map(o=>{}):Ne(t,!0),e}awaitArray(e,t,o){return new Promise(function(){var s=q(function*(r){Y(o)?o.setSubscriber(e,t.subscribe(a=>{const l=lr(a);return r(l)},a=>(o&&o.setError(a,!0),r([])))):t.subscribe(a=>{const l=lr(a);return r(l)},a=>(ut.error("PopRequestService","awaitObject",qn(a)),o&&o.setError(a,!0),r(null)))});return function(r){return s.apply(this,arguments)}}())}awaitObject(e,t,o=null){return new Promise(function(){var s=q(function*(r){Y(o)?o.setSubscriber(e,t.subscribe(a=>{const l=wa(a);return r(l)},a=>(o&&o.setError(a,!0),r(null)))):t.subscribe(a=>{const l=wa(a);return r(l)},a=>(ut.error("PopRequestService","awaitObject",qn(a)),o&&o.setError(a,!0),r(null)))});return function(r){return s.apply(this,arguments)}}())}_setParams(e){let t=new Za;for(const o of Object.keys(e))if(kt(e[o]))if(Array.isArray(e[o]))for(const s of e[o])t=t.append(`${o.toString()}[]`,s);else t=t.append(o.toString(),e[o]);return t}}return i.\u0275fac=function(e){return new(e||i)(Le(Dh),Le(uy),Le("env"))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),rCe=(()=>{let i=class{setServiceContainer(){this.srv={base:Rt.get(Ho),cache:new ty,display:Rt.get(HI),field:Rt.get(hr),log:Rt.get(uy),request:Rt.get(Cu),resource:Rt.get(iy),router:Rt.get(Ji)}}constructor(e){this.env=e,this.name="PopEntityRepoService",this.activated=!1,this.apiVersion=1,this.setServiceContainer()}register(e){e&&e.internal_name&&(this.id=e.internal_name,this.params=e,this.activated=!0,this.srv.log.init(this.name,`created:${this.id}`))}setRoutes(e){this.routes=e}createEntity(e){this.srv.cache.clearAll();const t=this.routes.post.entity.path??this.params.path;return Y(this.routes.post.entity.params,!0)&&(e=co(gi(e),this.routes.restore.entity.params)),e={...e,business_id:zt.id},this.srv.request.doPost(t,e,this.apiVersion)}archiveEntity(e,t){this.srv.cache.clearAll();let o=S4(this.routes.archive.entity.path,{id:e}),s={};return t?(Y(this.routes.archive.entity.params,!0)&&(s=co(gi(s),this.routes.archive.entity.params)),s={...s,business_id:zt.id,archived:-1},this.srv.request.doDelete(o,s,this.apiVersion)):(o=S4(this.routes.restore.entity.path,{id:e}),Y(this.routes.restore.entity.params,!0)&&(s=co(gi(s),this.routes.restore.entity.params)),s={...s,business_id:zt.id,archived:-1},this.srv.request.doPost(o,s,this.apiVersion))}archiveEntities(e,t){this.srv.cache.clearAll();const o=String(e).split(",");return t?gt.doDelete("entities/archive",{internal_name:this.params.internal_name,ids:o}):gt.doPost("entities/restore",{internal_name:this.params.internal_name,ids:o})}getAppName(){return this.params.app}getConfig(){var e=this;return new Promise(function(){var t=q(function*(o){const s=rn(jt(Tn(e.params.internal_name))," ",""),r=`Entity.${zt.id}.${s}.config`,a=rl(r,null);if(Y(a))return o(a);if(!e.params.id)return o({});{const l=`${e.routes.get.config.path}?entity_id=${e.params.id}`,c=Y(e.routes.get.config.params,!0)?e.routes.get.config.params:{};e.srv.request.doGet(l,c,e.apiVersion).pipe(we(A=>(A=function Bde(i,n){return De(i,!0)?i.reduce(function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e},{}):i}(A=A.data?A.data:A,"type"),Y(A,!0)?Object.keys(A).map(D=>{if(De(A[D],!0)){const te={};A[D].map(se=>{te[se.name]=se.config}),A[D]=te}}):A={},A))).subscribe(A=>(A=wa(A),Oi(r,btoa(JSON.stringify(A))),o(A)),()=>(Oi(r,btoa(JSON.stringify({}))),o({})))}});return function(o){return t.apply(this,arguments)}}())}getEntities(e={},t){return new Promise(o=>{let s=[];Y(t)||(t={archived:0}),Y(e)||(e={archived:kt(t.archived)?t.archived:0}),this.model.table.filter&&this.model.table.filter.active&&Y(this.model.table.filter.query,!0)&&!t.bypassFilters&&Object.keys(this.model.table.filter.query).map(l=>{l in Kv&&De(Kv[l],!0)&&(e.where=[this.model.table.filter.query[l],"in",Kv[l]])});const r=`${this.routes.get.entities.path}`;Y(this.routes.get.entities.params,!0)&&!t.bypassParams&&(e=co(gi(e),this.routes.get.entities.params));let a=1;this.srv.request.doGet(`${r}`,e,this.apiVersion).subscribe(l=>{if(s=lr(l),!Y(l.meta,!0)||this.model.table.restrict)return o(s);{const c=[],A=l.meta.last_page;for(;a<A;)a++,c.push(this.srv.request.doGet(`${r}?page=${a}`,e,this.apiVersion));if(!(c.length>0))return o(s);Ar(c).subscribe(D=>(D.map(te=>{s.push(...te.data)}),o(s)))}})})}clearAllCache(e=""){this.srv.cache.clearAll()}clearCache(e,t,o=""){this.srv.cache.clear(e,t)}setCache(e,t,o,s=1){Ne(e,!0)&&kt(t)&&kt(o)&&(s>60&&(s=60),this.srv.cache.set(e,t,o,60*s*1e3))}getCache(e,t){return new Promise(o=>{Ne(e,!0)&&String(t).length>0?this.srv.cache.get(e,t).subscribe(s=>{if(kt(s))return o(s);o(null)}):o(null)})}getEntity(e,t){(!t||"object"!=typeof t)&&(t={});let o={archived:kt(t.archived)?t.archived:-1};if(o={...o,...t},+e){const s=`${dp(this.routes.get.entity.path,{id:e})}`;Y(this.routes.get.entity.params,!0)&&!t.bypassParams&&(o=co(gi(o),this.routes.get.entity.params)),this.srv.log.info(this.name,s,o);const r=this.srv.request.doGet(s,o,this.apiVersion);return this.srv.cache.get("entity",String(e),r,3e5)}return Ht()}getHistory(e=""){return this.srv.request.doGet("records/model/api-calls",{uri:e},this.apiVersion)}getUiResource(e){var t=this;return new Promise(function(){var o=q(function*(s){let r={};if(Y(t.model.resource,!0)){if(yield t.srv.resource.setCollection(t.model.resource,e))return r=t.srv.resource.getCollection(t.model.resource),s(r);s(!1)}else s(r)});return function(s){return o.apply(this,arguments)}}())}reloadResource(e,t){var o=this;return new Promise(function(){var s=q(function*(r){return t&&Y(o.model.resource,[t])?(Y(e.resource)||(e.resource={}),e.resource[t]=yield o.srv.resource.reloadResource(e,o.model.resource[t]),r(!0)):r(!1)});return function(r){return s.apply(this,arguments)}}())}injectResource(e,t,o=!1){var s=this;return new Promise(function(){var r=q(function*(a){return Y(t,["name"])?Y(s.model.resource[t.name])?(Y(s.model.resource[t.name],!0)&&t.api_path&&o&&(yield s.reloadResource(e,t.name)),a(!0)):(Y(s.model.resource)||(s.model.resource={}),Y(e.resource)||(e.resource={}),s.model.resource[t.name]={...Gs(t)},e.resource[t.name]=t.api_path&&Ne(t.api_path,!0)?yield s.srv.resource.reloadResource(e,t):t,a(!0)):a(!1)});return function(a){return r.apply(this,arguments)}}())}getInternalName(){return this.params.internal_name}getDisplayName(e="singular"){return eo.transform(this.params.internal_name,{type:"entity",arg1:"alias",arg2:e})}getApiPath(){return this.params.path}getPreferences(e,t=!1){return new Promise(o=>{const s=this.srv.base.getCurrentBusinessUserId();if(!s)return o(!1);{const r=`${this.routes.get.preference.path}`;let a={path:this.params.internal_name,bu_user_id:s};Y(this.routes.get.preference.params,!0)&&(a=co(gi(a),this.routes.get.preference.params));const l=this.srv.request.doGet(r,a,this.apiVersion,!0).pipe(we(c=>{const A={},D=c.data?c.data:c;return De(D,!0)&&D.map(te=>{A[te.type]={...te.settings,id:te.id}}),A}));if(t)this.srv.cache.get(this.params.internal_name,"preference",l,6e5).subscribe(c=>(Y(e.preference)||(e.preference={}),e.preference={...e.preference,...c},e.flag.preferenceCheck=!1,o(!0)),()=>o(!1));else{const c=rn(jt(Tn(e.params.internal_name))," ",""),A=`Entity.${zt.id}.${c}.preferences`,D=rl(A,null);if(Y(D))return e.preference={...e.preference,...D},e.flag.preferenceCheck=!1,o(!0);l.subscribe(te=>(Y(e.preference)||(e.preference={}),Y(te)||(te={}),Oi(A,btoa(JSON.stringify(te))),e.preference={...e.preference,...te},e.flag.preferenceCheck=!1,o(!0)),()=>o(!1))}}})}deletePreference(e,t){return new Promise(o=>{this.srv.request.doDelete(`${this.routes.get.preference.path}/${e}`,null,this.apiVersion,!0).pipe().subscribe(()=>o(null),()=>o(!1))})}savePreference(e=null,t,o){let s;if(+e){const r=`${this.routes.get.preference.path}/${e}`;Y(this.routes.get.preference.params,!0)&&(o=co(gi(o),this.routes.get.preference.params)),s=this.srv.request.doPatch(r,o,this.apiVersion,!0).pipe(we(a=>{let l={};const c=a.data?a.data:a;return Y(c,!0)&&(l={...c.settings,id:c.id}),l}))}else{const r=this.srv.base.getCurrentBusinessUserId(),a=`${this.routes.get.preference.path}`;Y(this.routes.get.preference.params,!0)&&(o=co(gi(o),this.routes.get.preference.params)),o={...o,path:this.params.internal_name,type:t,bu_user_id:r,name:`${jt(this.params.name)} ${jt(t)} Setting`},s=this.srv.request.doPost(a,o,this.apiVersion,!0).pipe(we(l=>{let c={};const A=l.data?l.data:l;return Y(A,!0)&&(c={...A.settings,id:A.id}),c}))}return s}navigateToEntity(e,t){return this.srv.router.navigateByUrl(`${this.srv.display.alias(Yl(this.params.name))}/${e}/${t}`)}navigateToEntities(){return this.srv.router.navigateByUrl(this.srv.display.alias(Yl(this.params.name)))}updateEntity(e,t,o){const s=dp(this.routes.patch.entity.path,{id:e});return this.srv.request.doPatch(s,t,this.apiVersion)}};return i=de([ge(0,Lp("env"))],i),i})();const aCe={new:{description:"Add A New Record To #name",config:{fields:{name:{required:!0,pattern:"Alpha"}},http:"POST",label:"New #internal_name",postUrl:"#path",goToUrl:"#path/:id/general",submit:"New"},active:1},advanced_search:{description:"Advanced Search For #internal_name",config:{fields:{name:{required:!0,pattern:"AlphaNumeric"}},http:"GET",label:"Advanced Search",get_url:"#path",goToUrl:null,submit:"Search"},active:1}},lCe={setting:{columns:{id:{checkbox:{sort_let:0,visible:!0},display:"ID",sort:4,visible:!0},name:{display:"Name",sort:1,visible:!0}},options:{display_header:!0,column_search:!1,column_sort:!1,sticky_header:!0}},permission:{allowColumnDisplayToggle:!0,allowColumnStickyToggle:!0,allowColumnSearchToggle:!0,allowColumnSortToggle:!0,allowHeaderStickyToggle:!0,allowHeaderDisplayToggle:!0,allowPaginatorToggle:!0},trigger:{archived:!0,clone:!0,new:!0,advanced_search:!1,custom:[]},filter:{active:!1,display:"default"}},cCe={id:{ancillary:1,position:1,table:{checkbox:{visible:!0,sort:0},visible:!0,sort:999},model:{form:"label",name:"id",label:"ID",visible:!0,maxlength:32,copyLabel:!0,labelButton:!0,valueButton:!0,copyLabelBody:"#id",copyLabelDisplay:"ID #id",valueButtonDisplay:":archived",valueButtonDisabled:!0,valueButtonDisplayTransformation:"toActiveOrArchived",subLabel:"Created",subValue:"created_at"},sort:0},name:{ancillary:0,position:1,table:{visible:!0,sort:2},model:{form:"input",name:"name",label:"Name",bubble:!0,pattern:"Default",visible:!0,required:1,maxlength:64,patch:{field:"name",path:"#path/#entityId"}},sort:2},description:{ancillary:0,position:1,table:{visible:!0,sort:3},model:{form:"textarea",name:"description",label:"Notes",autoSize:!1,height:70,maxHeight:150,maxlength:255,sort:10,patch:{field:"description",path:"#path/#entityId"}},sort:10},added_by_user:{ancillary:1,position:1,table:{visible:!1,sort:99},model:{form:"label",name:"added_by_user",label:"Added By",truncate:64},sort:99},archived_by_user:{ancillary:1,position:1,table:{visible:!1,sort:99},model:{form:"label",name:"archived_by_user",label:"Archived By",truncate:64},sort:99},created_at:{ancillary:1,position:1,table:{visible:!1,sort:99,transformation:{arg1:"date",type:"date"}},model:{form:"label",name:"created_at",label:"Added Date",truncate:64,transformation:{arg1:"date",type:"date"}},sort:99},created_by_user_id:{ancillary:1,position:1,table:{visible:!1,sort:99},model:{form:"label",name:"created_by_user_id",label:"Added By ID",truncate:64},sort:99},deleted_at:{ancillary:1,position:1,table:{visible:!1,sort:99,transformation:{arg1:"date",type:"date"}},model:{form:"label",name:"deleted_at",label:"Deleted At",transformation:{arg1:"date",type:"date"},type:"label",action:"general"},when:[[["entity.deleted_at"]]],sort:99},deleted_by_user_id:{ancillary:1,position:1,table:{visible:!1,sort:99},model:{form:"label",name:"deleted_by_user_id",label:"Archived",visible:!0,maxlength:32,transformation:{type:"toYesNoPipe"}},sort:99},updated_at:{ancillary:1,position:1,table:{visible:!1,sort:99,transformation:{arg1:"date",type:"date"}},model:{form:"label",name:"updated_at",label:"Last Update",transformation:{arg1:"date",type:"date"},type:"label",action:"general"},when:[[["entity.updated_at"]]],sort:99},archived:{ancillary:1,position:1,table:{visible:!0,sort:99,transformation:{type:"toYesNoPipe"}},model:{form:"label",name:"archived",label:"Archived",transformation:{type:"toYesNoPipe"},type:"label"},when:[[["entity.archived"]]],sort:99}},dCe={},uCe={trigger:{archive:!0,clone:!1,custom:[],delete:!1,goBack:!0},archiveKey:"archived"},hCe={get:{entity:{path:"#path/{id}",params:{}},entities:{path:"#path",params:{}},config:{path:"apps/configs",params:{}},history:{path:"#path/{id}/history",params:{}},preference:{path:"apps/preferences",params:{}}},post:{entity:{path:"#path",params:{}}},patch:{entity:{path:"#path/{id}",params:{}}},archive:{entity:{path:"#path/{id}",params:{}}},restore:{entity:{path:"#path/{id}",params:{}}}};let ql=(()=>{class i extends Qr{constructor(e,t){super(),this.fieldUtil=e,this.paramUtil=t,this.name="PopEntityService",this.asset={access:new Map,base:new Map,dataSetter:new Map,entryAccess:new Map,lastDataSetter:new Map,decorator:new Map,filter:new Map,params:new Map,repo:new Map,tabs:new Map,resources:new Map,actions:new Map,fields:new Map,tables:new Map,menus:new Map,routes:new Map},this.asset.tabs.set("default",[])}checkAccess(e,t){return this.paramUtil.checkAccess(e,t)}configure(e,t){De(t.tab,!0)&&this.setEntityTabs(e,t.tab),Y(t.action,!0)&&this.setEntityAction(e,t.action),De(t.entryAccess,!0)&&this.setEntityEntryAccess(e,t.entryAccess),Y(t.resource,!0)&&this.setEntityResource(e,t.resource),It(t.dataSetter)&&this.setEntityDataSetter(e,t.dataSetter),It(t.lastDataSetter)&&this.setLastEntityDataSetter(e,t.lastDataSetter),It(t.decorator)&&this.setEntityDecorator(e,t.decorator),It(t.filter)&&this.setEntityFilter(e,t.filter),Y(t.table,!0)&&this.setEntityTable(e,t.table),Y(t.route,!0)&&this.setEntityRoute(e,t.route),Y(t.field,!0)&&this.setEntityField(e,t.field),Y(t.menu,!0)&&this.setEntityMenu(e,t.menu)}getCoreConfig(e,t=0,o,s=!1){var r=this;return new Promise(function(){var a=q(function*(l){const c=[],A=yield r._getBaseCoreConfig(e);if(A.flag.configCheck&&c.push(r._getEntityConfig(A,e)),A.flag.preferenceCheck&&c.push(A.repo.getPreferences(A)),A.params.entityId=+t?+t:null,+t>0){c.push(A.repo.getUiResource(A)),c.push(r.getCoreSingleEntity(A,t,o));const D=yield Promise.all(c);A.entity=wa(D.pop());const te=Ca(D.pop());A.resource=Y(te)?te:{},Y(A.entity,["id"])?yield r.setCoreDomAssets(A,o):Gv.isPreviousHistory()&&Gv.goBack()}else s&&(A.resource=yield A.repo.getUiResource(A)),De(c,!0)&&(yield Promise.all(c));return l(A)});return function(l){return a.apply(this,arguments)}}())}updateBaseCoreConfig(e,t,o){const s=this.asset.base.get(e);let r;if(s){if(t.includes(":")){const a=t.split(":");t=String(a[0]).trim(),r=String(a[1]).trim()}t in s&&(r?r in s[t]&&(s[t][r]=o):s[t]=o),this.asset.base.set(e,s)}}getEntityParams(e,t=null){let o;return this.asset.params.has(e)?(o={...this.asset.params.get(e)},o.entity=t):(o=this.paramUtil.getEntityParams(e),o&&this.asset.params.set(e,{...o})),o}getEntityRepo(e){var t=this;return new Promise(function(){var o=q(function*(s){const r=yield t._getBaseCoreConfig(e);return s(Y(r,["repo"])?r.repo:null)});return function(s){return o.apply(this,arguments)}}())}getEntityParamsWithPath(e,t=null){return this.paramUtil.getEntityParamsWithPath(e,t)}getRouteInternalName(e,t){let o="user";if(e.snapshot.params&&e.snapshot.params.internal_name)o=e.snapshot.params.internal_name;else if(t&&Ne(t.internal_name,!0))o=t.internal_name;else if(Ne(e.snapshot.data.internal_name,!0))o=e.snapshot.data.internal_name;else if(Ne(e.snapshot.data.can_read,!0))o=e.snapshot.data.can_read;else{let s;if(e.snapshot.routeConfig&&e.snapshot.routeConfig.path&&(s=this.paramUtil.getEntityParamsWithPath(e.snapshot.routeConfig.path)),s)o=s.internal_name;else{let r;const a=window.location.pathname.split("/");for(;!o||a.length>0;){if(r=a.pop(),Number.isNaN(r)&&this.paramUtil.getEntityParams(r)){o=r;break}if(!o&&Number.isNaN(r)&&this.paramUtil.getEntityParamsWithPath(r)){o=r;break}}}}return o}getRouteParentId(e,t){let o=null;if(e.snapshot.params&&e.snapshot.params.id)o=e.snapshot.params.id;else{let s;const r=window.location.pathname.split("/");for(;!o||r.length>0;)if(s=r.pop(),Vi(s,!0)){o=s;break}}return o}getEntityTabs(e){return Y(e,["params","entity"])&&this.asset.tabs.has(e.params.internal_name)?[...this.asset.tabs.get(e.params.internal_name).filter(o=>dl(e,o.when,e))]:[...this.asset.tabs.get("default")]}refreshCoreEntity(e,t,o){var s=this;return new Promise(r=>{if(e.params.entityId&&e.repo.clearCache("entity",String(e.params.entityId),"PopEntityService:refreshEntity"),Y(o)||(o={}),!e||!e.repo)return r(null);o.bypassCache=!0,e.repo.getEntity(e.params.entityId,o).subscribe(function(){var a=q(function*(l){const c=wa(l);return Object.keys(c).map(A=>{e.entity[A]=c[A]}),yield s.setCoreDomAssets(e,t),ut.info(s.name,"refreshCoreEntity",e.entity),r(c)});return function(l){return a.apply(this,arguments)}}(),()=>r(null))})}setCoreDomAssets(e,t){var o=this;return new Promise(function(){var s=q(function*(r){if(Y(e.entity,!0)){const a=Lt(e.repo,["model","dataSetter"],null);It(a)&&(e.entity=a(e,e.entity,t)),Y(t,!0)&&(yield o.fieldUtil.buildDomFields(e,t));const l=Lt(e.repo,["model","lastDataSetter"],null);It(l)&&(e.entity=l(e,e.entity,t))}return r(!0)});return function(r){return s.apply(this,arguments)}}())}setEntityParams(e){ut.info(this.name,`Entity Params set for ${e.internal_name}`,e),this.paramUtil.setEntityParams(e)}setEntityTabs(e,t){Ne(e,!0)&&Array.isArray(t)&&(ut.info(this.name,`Entity Tabs set for ${e}`,t),this.asset.tabs.set(e,t))}setEntityAction(e,t){Ne(e,!0)&&Y(t)&&(ut.info(this.name,`Entity Action set for ${e}`,t),this.asset.actions.set(e,t))}setEntityEntryAccess(e,t){Ne(e,!0)&&De(t,!0)&&(ut.info(this.name,`Entity entryAccess set for ${e}`,t),this.asset.entryAccess.set(e,t))}setEntityTable(e,t){Ne(e,!0)&&Y(t)&&(ut.info(this.name,`Entity Action set for ${e}`,t),this.asset.tables.set(e,t))}setEntityRoute(e,t){Ne(e,!0)&&Y(t)&&(ut.info(this.name,`Entity Route set for ${e}`,t),this.asset.routes.set(e,t))}setEntityMenu(e,t){Ne(e,!0)&&Y(t,!0)&&(ut.info(this.name,`Entity Menu set for ${e}`,t),this.asset.menus.set(e,t))}setEntityResource(e,t){Ne(e,!0)&&Y(t)&&(ut.info(this.name,`Entity Resource set for ${e}`,t),this.asset.resources.set(e,t))}setEntityDecorator(e,t){Ne(e,!0)&&It(t)&&(ut.info(this.name,`Entity Decorator set for ${e}`,t.toString()),this.asset.decorator.set(e,t))}setEntityDataSetter(e,t){Ne(e,!0)&&It(t)&&(ut.info(this.name,`Entity Data Setter set for ${e}`,t.toString()),this.asset.dataSetter.set(e,t))}setLastEntityDataSetter(e,t){Ne(e,!0)&&It(t)&&(ut.info(this.name,`Entity Last Data Setter  set for ${e}`,t.toString()),this.asset.lastDataSetter.set(e,t))}setEntityFilter(e,t){Ne(e,!0)&&It(t)&&(ut.info(this.name,`Entity Filter set for ${e}`,t.toString()),this.asset.filter.set(e,t))}setEntityField(e,t){Ne(e,!0)&&Y(t)&&(ut.info(this.name,`Entity Field set for ${e}`,t),this.asset.fields.set(e,t))}getEntityField(e){if(Ne(e,!0))return this.asset.fields.get(e)||{}}getEntityEntryAccess(e){if(Ne(e,!0)){const t=this.asset.entryAccess.get(e);return De(t,!0)?t:[]}}getEntityResource(e){if(Ne(e,!0))return this.asset.resources.get(e)||{}}getEntityDecorator(e){if(Ne(e,!0)){const t=this.asset.decorator.get(e);return It(t)?t:null}}getEntityDataSetter(e){if(Ne(e,!0)){const t=this.asset.dataSetter.get(e);return It(t)?t:null}}getEntityLastDataSetter(e){if(Ne(e,!0)){const t=this.asset.lastDataSetter.get(e);return It(t)?t:null}}getEntityFilter(e){if(Ne(e,!0)){const t=this.asset.filter.get(e);return It(t)?t:null}}getEntityAction(e){if(Ne(e,!0))return this.asset.actions.get(e)||{}}getEntityTable(e){if(Ne(e,!0))return this.asset.tables.get(e)||{}}getEntityRoute(e){if(Ne(e,!0))return this.asset.routes.get(e)||{}}getEntityMenu(e){if(Ne(e,!0))return this.asset.menus.get(e)||{}}bustAllCache(){this.asset.repo.forEach((e,t)=>{ut.warn(this.name,`Bust cache for ${e.getInternalName()}`),e.clearAllCache("bustAllCache")})}getStore(){return this.paramUtil.getStore()}getCoreSingleEntity(e,t,o){var s=this;return new Promise(function(){var r=q(function*(a){let l;s.dom.setTimeout("refresh-entity",null),e.repo.getEntity(t??e.params.entityId,{}).subscribe(function(){var c=q(function*(A){return l=wa(A),a(l)});return function(A){return c.apply(this,arguments)}}(),()=>a(null))});return function(a){return r.apply(this,arguments)}}())}_getBaseCoreConfig(e){var t=this;return new Promise(function(){var o=q(function*(s){if(!t.asset.base.has(e)){let r=t.getEntityParams(e);r||(r=yield en(gt.doGet("entities",{internal_name:e,selectby:"name,alias_name,alias_plural,api,internal_name,path,can_read,can_write,can_extend",pickby:"first"}),null,"fetch-entity-params"),r&&t.setEntityParams(r));const a=new Pde({params:Ai(r,!0,`Could not resolve params for ${e}`)?r:null});a.flag={routeCheck:Jv(e),assetCheck:!0,modalCheck:!1,refreshCheck:!1,entityCheck:!1,configCheck:!0,preferenceCheck:!0},a.access=t._getEntityAccess(a.params),a.channel=new tt,a.repo=t._getEntityRepo(a.params),a.repo.model={action:co(gi(aCe),t.getEntityAction(a.params.internal_name)),dataSetter:t.getEntityDataSetter(a.params.internal_name),lastDataSetter:t.getEntityLastDataSetter(a.params.internal_name),decorator:t.getEntityDecorator(a.params.internal_name),filter:t.getEntityFilter(a.params.internal_name),table:co(gi(lCe),t.getEntityTable(a.params.internal_name)),field:{...co(cCe),...t.getEntityField(a.params.internal_name)},resource:co(gi(dCe),t.getEntityResource(a.params.internal_name)),route:co(gi(hCe),t.getEntityRoute(a.params.internal_name)),menu:co(gi(uCe),t.getEntityMenu(a.params.internal_name))},a.repo.setRoutes(function sue(i,n){if(Y(i)){const e={};return Object.keys(i).map(t=>{e[t]={},Object.keys(i[t]).map(o=>{e[t][o]||(e[t][o]={}),e[t][o].path=String(vd(i[t][o].path,n)).trim(),e[t][o].params=i[t][o].params})}),e}return i}(a.repo.model.route,a.params)),t.asset.base.set(e,a)}return s({...t.asset.base.get(e)})});return function(s){return o.apply(this,arguments)}}())}_getEntityRepo(e){let t=null;return Y(e,!0)&&(this.asset.repo.has(e.internal_name)?t=this.asset.repo.get(e.internal_name):(t=new rCe,t.register(e),this.asset.repo.set(e.internal_name,t))),t}_getEntityAccess(e){let t=null;return Y(e,!0)&&(t=this.paramUtil.getAccess(e.internal_name),this.asset.access.has(e.internal_name)?t={...this.asset.access.get(e.internal_name)}:(t=this.paramUtil.getAccess(e.internal_name),t&&this.asset.access.set(e.internal_name,{...t}))),t}_getEntityConfig(e,t){return q(function*(){if(Y(e,["repo"])){let o=yield e.repo.getConfig();o=o.model?o.model:o,Y(o)||(o={}),e.repo.model={...e.repo.model,...o},e.flag.configCheck=!1}})()}}return i.\u0275fac=function(e){return new(e||i)(Le(hr),Le(Qf))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Qo=(()=>{class i extends Qr{constructor(){super(),this.id=cl(),this.name="PopTabMenuService",this.asset={core:void 0,config:void 0,dom:void 0,id:void 0,map:{},outlet:void 0,resetOutlet:void 0,route:void 0,path:void 0,clearCache:!1},this.srv={dialog:Rt.get(Fn),entity:Rt.get(ql),log:Rt.get(uy),router:Rt.get(Ji)},this.ui={entityParams:void 0},this.change=new R,this._setDomExtensions(),this._initSession()}_initSession(){this.dom.session={scroll:{},path:"",fields:{},...this.dom.session}}addButtons(e){e&&e.length&&(this.asset.config.buttons.push(...e),this.asset.map.buttons=Kn(this.asset.config.buttons,"id"),this._emitChange("buttons"))}addTabs(e){e&&e.length&&(this.asset.config.tabs.push(...e),this.asset.map.tabs=Kn(this.asset.config.tabs,"id")),this._emitChange("tabs")}clearCache(){this.asset.clearCache=!0}clearButtons(){this.asset.config.buttons=[],this.asset.map.buttons=Kn(this.asset.config.buttons,"id"),this._emitChange("buttons")}getPathSession(){return Ss(`Entity.${jt(this.asset.core.params.internal_name)}.Menu.path`)}clearSession(){this.asset.core&&this.asset.core.params&&this.asset.core.params.internal_name&&Xn(`Entity.${jt(this.asset.core.params.internal_name)}.Menu`,null)}getTab(e){return this.asset.id||(e=this.asset.path),this.asset.map.tabs&&e in this.asset.map.tabs?Object.assign({},this.asset.config.tabs[this.asset.map.tabs[e]]):null}getCore(){return this.asset.core}registerConfig(e,t,o){if(t)return this.asset.core=Y(e,!0)?e:null,this.ui.entityParams=Y(this.asset.core,["params"])?this.asset.core.params:null,this.asset.config=new c4(t),this.asset.map.tabs=Kn(this.asset.config.tabs,"path"),this.asset.map.buttons=Kn(this.asset.config.buttons,"id"),this.asset.core&&this.asset.core.params&&(this.dom.session.scroll=Ss(`Entity.${jt(this.asset.core.params.internal_name)}.Menu.scroll`)),this.dom.session.scroll||(this.dom.session.scroll={}),this.asset.path=window.location.pathname.split("/").pop(),this.dom.setSubscriber("route-change",this.srv.router.events.subscribe(s=>this._navigationHandler(s))),this.dom.state.loaded=!0,this._resetMenu(),this._emitChange("config"),this.asset.config}registerOutlet(e){this.asset.outlet=e,this._emitChange("outlet")}registerRoute(e){this.asset.route||(this.asset.route=e,this._emitChange("route"),+this.asset.route.snapshot.params.id&&(!this.asset.core.entity||+this.asset.core.entity.id!=+this.asset.route.snapshot.params.id)&&this.resetTab(!0))}registerOutletReset(e){this.asset.resetOutlet=e,this._emitChange("outlet-reset")}refreshEntity(e=null,t,o,s){return new Promise(r=>this.asset.core?(this.showAsLoading(!1),this.srv.log.warn(this.name,`refreshEntity:${s}`),this.asset.config?void this.dom.setTimeout("refresh",()=>{if(!e&&this.asset.core.entity&&+this.asset.core.entity.id&&(e=+this.asset.core.entity.id),!+e)return this.showAsLoading(!1),r(!1);this.asset.core.params.entityId=e,this.srv.entity.refreshCoreEntity(this.asset.core,t,o).then(()=>{if(this._resetMenu(),this.asset.core.params.refresh=!1,"function"!=typeof this.asset.resetOutlet)return r(!0);setTimeout(()=>(this.asset.resetOutlet(),this.showAsLoading(!1),r(!0)),0)})},0):(this.showAsLoading(!1),r(!1))):(this.showAsLoading(!1),r(!1)))}resetTab(e=!1){e?WB(this.srv.router):(this._resetMenu(),"function"==typeof this.asset.resetOutlet&&this.asset.resetOutlet())}reloadTabPosition(e=null){"function"==typeof this.asset.resetOutlet&&this.asset.resetOutlet(e)}setTabRefresh(){this.asset.core&&this.asset.core.params&&(this.asset.core.params.refresh=!0)}setTabScrollPosition(){this.asset.path&&this.dom.session.scroll[this.asset.path]&&this._setTabScrollPosition(this.dom.session.scroll[this.asset.path])}showAsLoading(e){Y(this.asset.config,!0)&&(this.asset.config.loading=!!e)}setPathSession(e){this.asset.core&&this.asset.core.params&&Xn(`Entity.${jt(this.asset.core.params.internal_name)}.Menu.path`,e.path)}removeTab(e){e in this.asset.map.tabs&&(this.asset.config.tabs.splice(this.asset.map.tabs[e],1),this.asset.map.tabs=Kn(this.asset.config.tabs,"id")),this._emitChange("tabs")}toggleButton(e,t){return e in this.asset.map.buttons&&(this.asset.config.buttons[this.asset.map.buttons[e]].hidden=typeof t<"u"?t:!this.asset.config.buttons[this.asset.map.buttons[e]].hidden,this._emitChange("buttons"),!0)}updateName(e){Ne(e,!0)&&this.asset&&this.asset.config&&(this.asset.config.name=e)}ngOnDestroy(){this.asset.clearCache&&Y(this.asset.core)&&this.asset.core.repo.clearAllCache(),super.ngOnDestroy()}_setDomExtensions(){this.dom={...this.dom,setSubscriber:(e,t=null)=>{e&&this.dom.subscriber&&e in this.dom.subscriber&&this.dom.subscriber[e]&&"function"==typeof this.dom.subscriber[e].unsubscribe&&this.dom.subscriber[e].unsubscribe(),t&&(this.dom.subscriber[e]=t)},setTimeout:(e,t=null,o=250)=>{e&&this.dom.delay&&e in this.dom.delay&&this.dom.delay[e]&&clearTimeout(this.dom.delay[e]),"function"==typeof t&&(this.dom.delay[e]=setTimeout(t,o))}}}_isPathSession(){return this.dom.session.path=this.getPathSession(),this.dom.session.path&&this.dom.session.path!==this.asset.path&&this.dom.session.path in this.asset.map.tabs}_storeTabScrollPosition(){this.asset.core&&this.asset.core.params&&this.asset.path&&(this.dom.session[this.asset.path]=this._getTabScrollPosition(),Xn(`Entity.${jt(this.asset.core.params.internal_name)}.Menu.scroll`,this.dom.session.scroll))}_setTabScrollPosition(e){this.asset.outlet&&this.asset.outlet.nativeElement&&(this.asset.outlet.nativeElement.scrollTop=e)}_getTabScrollPosition(){return this.asset.outlet&&this.asset.outlet.nativeElement?this.asset.outlet.nativeElement.scrollTop:0}_checkId(){this.asset.route&&+this.asset.route.snapshot.params.id&&(!this.asset.config&&this.srv.log.enabled("error",this.name)&&window.console.log(this.srv.log.message(`${this.name}:_checkId:error - Could not find config`),this.srv.log.color("error")),this.srv.log.enabled("info",this.name)&&window.console.log(this.srv.log.message(`${this.name}:_checkId route id(${this.asset.route.snapshot.params.id} matches config(${this.asset.core.entity.id}):refresh is ${+this.asset.route.snapshot.params.id!=+this.asset.core.entity.id}`),this.srv.log.color("info")),(!this.asset.core.entity||+this.asset.route.snapshot.params.id!=+this.asset.core.entity.id)&&(ut.debug(this.name,"_checkId: Id mismatch",{params:this.asset.route.snapshot.params.id,core:this.asset.core.entity.id}),this.resetTab(!0)))}_navigationHandler(e){if(ut.debug(this.name,"_navigationHandler",e),e instanceof W_&&this.asset.path&&this._storeTabScrollPosition(),e instanceof yc)if(this.asset.path=String(e.url).split("/").pop(),this.asset.route&&this._isPathSession()||!this.asset.route)this._checkId(),this.dom.session.scroll[this.asset.path]&&setTimeout(()=>{this._setTabScrollPosition(this.dom.session.scroll[this.asset.path])},0);else if(ut.debug(this.name,"router",{route:this.asset.route,path:this.dom.session.path}),this.asset.route&&this.dom.session.path)return this.srv.router.navigate([this.dom.session.path],{relativeTo:this.asset.route}).catch(t=>(window.console.log(t),!0))}_resetMenu(){if(this.asset.core&&this.asset.config&&(this.asset.core.entity&&this.asset.core.entity.id&&(this.asset.config.name=M4(this.asset.core.entity)),Array.isArray(this.asset.config.buttons)&&this.asset.config.buttons.length&&this.asset.core.entity)){const e=Lt(this.asset.core,["repo","model","menu","archiveKey"],"archived"),t=Kn(this.asset.config.buttons,"id");"archive"in t&&(this.asset.config.buttons[t.archive].hidden=!!this.asset.core.entity[e]),"activate"in t&&(this.asset.config.buttons[t.activate].hidden=!this.asset.core.entity[e]),"close"in t&&(this.asset.config.buttons[t.close].hidden=!this.asset.config.portal)}}_emitChange(e,t=""){ut.info(this.name,e,t),this.change.next({source:this.name,type:"tab-menu",name:e,data:t})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const pCe=["container"];let eg=(()=>{class i extends Jo{constructor(e,t,o){var s;super(),s=this,this.el=e,this._domRepo=t,this._tabRepo=o,this.name="PopEntityFieldGroupComponent",this.position=1,this.fieldType=null,this.srv={field:Rt.get(hr),tab:void 0},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return s.core=Ai(s.core,!0,`${s.name}:configure: - this.core`)?s.core:null,s.trait.bubble=!0,s.dom.handler.bubble=(l,c)=>s.onBubbleEvent(c),s.id=s.position,a(!0)});return function(a){return r.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var r=q(function*(a){s.dom.overhead=s.interface&&s.interface.header?60:0,s.dom.setHeightWithParent(null,s.dom.overhead,600).then(()=>!0);const l=yield s._getFieldComponentList();return s.template.attach("container"),s.template.render(l),a(!0)});return function(a){return r.apply(this,arguments)}}())}_getFieldComponentList(){return new Promise(e=>{let t=this.srv.field.getDomFields(this.position,this.dom.repo);return this.log.info("Dom Fields: ",t),"custom"===this.fieldType?t=t.filter(s=>s.custom):"table"===this.fieldType&&(t=t.filter(s=>!s.custom)),this.asset.fields={},t.map(s=>{const r=Lt(s,["inputs","config"],null);r&&(this.asset.fields[r.name]=r)}),e(t)})}onBubbleEvent(e){this.log.event("onBubbleEvent",e),(Ln(0,e)||"context_menu"===e.type)&&(this.log.info("IsValidFieldPatchEvent",e),"field"===e.type&&e.config.name in this.core.entity&&(this.core.entity[e.config.name]=Number.isNaN(e.config.control.value)?e.config.control.value:+e.config.control.value,Object.keys(this.asset.fields).length>1?this.dom.setTimeout("reset-hidden",()=>{this._triggerParentChildUpdates(e.config.name)},0):this.dom.setTimeout("reset-hidden",()=>{},0)),this.dom.setTimeout("reset-hidden",()=>{this._resetComponentListHidden()},50),this.events.emit(e),this.srv.tab.clearCache())}_resetComponentListHidden(){let e,t;const o=this.dom.repo.ui.fields;this.template.refs.filter(s=>Y(s.instance.config,!0)&&De(s.instance.when,!0)).map(s=>{e=s.instance.config.name,e&&(t=o.get(e),t&&(s.instance.hidden=t.inputs.hidden=!Vc(this.core,s.instance.when,this.core),o.set(e,t)))})}_triggerParentChildUpdates(e){if(this.log.info("_triggerParentChildUpdates",e),this._fieldHasChild(e)){let t,o,s,a,r=!1;this._getRelationList(e).some(c=>{if(c.autoFill)return r=!0,!0}),e&&e in this.asset.fields&&(o=this.asset.fields[e].options.child,o&&o in this.asset.fields&&(s=this.asset.fields[o],De(s.options.rawValues)&&(t=as(s.options.rawValues,{prevent:[],parent:s.options.parent?{field:s.options.parent,value:this.core.entity[s.options.parent]}:null,empty:s.options.empty?s.options.empty:null}),a=r&&t.length>0?t[t.length-1].value:null,s.options.values=t,r=r&&t.length>0?t[0].value:null,this.dom.setTimeout(`clear-message-${o}`,()=>{"function"==typeof s.triggerOnChange&&s.triggerOnChange(a),"function"==typeof s.clearMessage&&s.clearMessage()},0))))}}_getRelationList(e,t=[]){let o;return e&&e in this.asset.fields&&(o=this.asset.fields[e],Y(o,!0)&&(t.push({name:o.name,autoFill:this._fieldHasAutoFill(e)}),this._fieldHasChild(e)&&this._getRelationList(o.options.child,t))),t}_fieldHasChild(e){return!!(e in this.asset.fields&&this.asset.fields[e].options&&this.asset.fields[e].options.child)}_fieldHasAutoFill(e){return!!(e in this.asset.fields&&this.asset.fields[e]&&this.asset.fields[e].autoFill)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Qo))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-field-group"]],viewQuery:function(e,t){if(1&e&&ht(pCe,7,Ri),2&e){let o;Ke(o=Ye())&&(t.container=o.first)}},inputs:{position:"position",fieldType:"fieldType",interface:"interface"},features:[Re],decls:3,vars:0,consts:[[1,"pop-entity-field-group-container"],["container",""]],template:function(e,t){1&e&&(x(0,"div",0),Go(1,null,1),C())},styles:[".pop-entity-field-group-container[_ngcontent-%COMP%]{max-width:450px;position:relative;top:-10px}"]}),i})(),tg=(()=>{class i{constructor(e){this.router=e,this.sessionVar="Navigation.history",e.events.pipe(ln(t=>t instanceof yc)).subscribe(t=>{const o=window.location.pathname.split("/");o.shift(),o.pop(),Xn("App.name",o[0]),Xn("App.entity",o[o.length-1])})}resolve(e,t){const o=window.location.pathname.split("/");return o.shift(),o.pop(),Xn("App.name",o[0]),Xn("App.entity",o[o[o.length-1]]),this.saveNavigationHistory({name:"",base:o[0],path:t.url}),!0}saveNavigationHistory(e){let t=Ss(this.sessionVar);t||(t=[]),typeof t[0]>"u"&&(t=[]),!(typeof t[0]<"u"&&t[0].path==e.path)&&(t.unshift(e),t.length>20&&t.splice(-1,1),Xn(this.sessionVar,t))}isPreviousHistory(){return De(Ss(this.sessionVar),!0)}goBack(e=1){e<1&&(e=1);const t=Ss(this.sessionVar),o=window.location.pathname.split("/");if(typeof t.length>"u"||typeof t[1]>"u")return void this.router.navigate(["/"]);const s="undefined"!==t[e]?t[e]:t.slice(-1)[0];t.length&&t.shift(),Xn(this.sessionVar,t),s.base===o[1]?this.router.navigate([s.path]).catch(()=>!0):window.location.href=window.location.origin+"/"+s.base+s.path}}return i.\u0275fac=function(e){return new(e||i)(Le(Ji))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const mCe=["header"],fCe=["outlet"],gCe=["container"];function _Ce(i,n){if(1&i){const e=Me();x(0,"div",19),ie("click",function(){return he(e),pe(I(2).onBackButtonClick())}),x(1,"mat-icon"),ee(2,"keyboard_arrow_left"),C(),x(3,"div"),ee(4,"Back"),C()()}}const bCe=function(i){return{"sw-hidden":i}};function vCe(i,n){if(1&i){const e=Me();x(0,"button",22),ie("click",function(){const s=he(e).$implicit;return pe(I(3).onMenuButtonClick(s))}),ee(1),C()}if(2&i){const e=n.$implicit;g("ngClass",qe(3,bCe,e.hidden))("disabled",e.disabled),_(1),Mt(" ",e.name," ")}}function yCe(i,n){if(1&i&&(x(0,"div",20),$(1,vCe,2,5,"button",21),C()),2&i){const e=I(2);_(1),g("ngForOf",e.config.buttons)}}function xCe(i,n){if(1&i&&(x(0,"div",16),$(1,_Ce,5,0,"div",17),$(2,yCe,2,1,"div",18),C()),2&i){const e=I();_(1),g("ngIf",e.config.goBack),_(1),g("ngIf",e.config.buttons.length)}}function CCe(i,n){}const wCe=function(i){return{active:i}};function kCe(i,n){if(1&i){const e=Me();x(0,"a",23,24),ie("click",function(){const s=he(e).$implicit;return pe(I().onTabMenuClick(s))}),ee(2),C()}if(2&i){const e=n.$implicit,t=Qt(1);g("routerLink",e.path)("ngClass",qe(4,wCe,t.isActive))("active",t.isActive),_(2),Mt(" ",e.name," ")}}function ICe(i,n){1&i&&me(0,"mat-progress-bar",25)}const ACe=function(i){return{"tab-menu-loading":i}},SCe=function(i,n){return{"tab-menu-header":i,"tab-menu-header-without-back":n}},MCe=function(i,n){return{"tab-menu-no-scroll":i,"tab-menu-scroll":n}};let PCe=(()=>{class i extends Jo{constructor(e,t,o,s){super(),this.el=e,this.route=t,this._domRepo=o,this._tabRepo=s,this.name="PopTabMenuComponent",this.srv={history:Rt.get(tg),router:Rt.get(Ji),tab:void 0},this.dom.configure=()=>new Promise(r=>(xn.turnOffFilter(),this.config=Ai(this.config,!0,`${this.name}:configure: - this.config`)?this.config:null,this.config.goBack&&(this.config.goBack=this.srv.history.isPreviousHistory()),this.dom.setHeight(window.innerHeight-55,10),this.template.attach("container"),De(this.config.customDetails,!0)?this.template.render(this.config.customDetails):Y(this.config.customDetails,!0)&&this.template.render([this.config.customDetails]),this.log.info(`Determined height:${this.dom.height.inner}`),this.config.updateName=a=>{this.dom.setTimeout("update-name",()=>{this.config.name=a},0)},r(!0))),this.dom.proceed=()=>new Promise(r=>{this._registerConfig().then(()=>(setTimeout(()=>{this.srv.tab.setTabScrollPosition(),this.srv.tab.registerOutlet(this.outletRef)}),r(!0)))})}ngOnInit(){super.ngOnInit()}onBackButtonClick(){this.srv.tab.clearSession(),this.srv.history.goBack()}onMenuButtonClick(e){this.log.info(`${this.name}:button`,e),this.dom.setTimeout("stop-loader",null,0),this.config.loading=!0,this.onBubbleEvent({source:this.name,type:"button",id:e.id,name:e.name,metadata:!!e.metadata&&e.metadata}),this.dom.setTimeout("stop-loader",()=>{this.config.loading=!1},3e3)}onTabMenuClick(e){this.log.info("onTabMenuClick",e),this.srv.tab.setPathSession(e),this.onBubbleEvent({source:this.name,type:"tab",id:e.id,name:e.name,metadata:!!e.metadata&&e.metadata})}onBubbleEvent(e){this.events.emit(e)}ngOnDestroy(){super.ngOnDestroy()}_registerConfig(){return new Promise(e=>{this.config=Ai(this.config,!0,`${this.name}:registerConfig: - this.config`)?this.srv.tab.registerConfig(this.core,this.config,this.dom.repo):{},e(!0)})}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(kr),P(ii),P(Qo))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-tab-menu"]],viewQuery:function(e,t){if(1&e&&(ht(mCe,7),ht(fCe,7),ht(gCe,7,Ri)),2&e){let o;Ke(o=Ye())&&(t.header=o.first),Ke(o=Ye())&&(t.outletRef=o.first),Ke(o=Ye())&&(t.container=o.first)}},inputs:{config:"config"},features:[Re],decls:20,vars:20,consts:[[1,"tab-menu-container",3,"ngClass"],[1,"mat-elevation-z2",3,"ngClass"],[1,"tab-menu-nav-container"],["class","tab-menu-back-container",4,"ngIf"],[1,"tab-menu-button-header"],[1,"tab-menu-label-container"],[1,"tab-menu-custom-details"],["container",""],[1,"tab-menu-link-container"],["mat-tab-nav-bar","",3,"tabPanel"],["mat-tab-link","","class","mat-body tab-menu-link","routerLinkActive","",3,"routerLink","ngClass","active","click",4,"ngFor","ngForOf"],[1,"sw-target-outlet","tab-menu-router-outlet-container",3,"ngClass"],["outlet",""],[1,"tab-menu-loader"],["mode","indeterminate",4,"ngIf"],["tabPanel",""],[1,"tab-menu-back-container"],["id","back-button","class","tab-menu-back-btn",3,"click",4,"ngIf"],["class","tab-menu-button-container",4,"ngIf"],["id","back-button",1,"tab-menu-back-btn",3,"click"],[1,"tab-menu-button-container"],["class","tab-menu-button","mat-raised-button","",3,"ngClass","disabled","click",4,"ngFor","ngForOf"],["mat-raised-button","",1,"tab-menu-button",3,"ngClass","disabled","click"],["mat-tab-link","","routerLinkActive","",1,"mat-body","tab-menu-link",3,"routerLink","ngClass","active","click"],["rla","routerLinkActive"],["mode","indeterminate"]],template:function(e,t){if(1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),$(3,xCe,3,2,"div",3),C(),x(4,"div",4)(5,"div",5),ee(6),C(),x(7,"div",6),$(8,CCe,0,0,"ng-template",null,7,is),C()(),x(10,"div",8)(11,"nav",9),$(12,kCe,3,6,"a",10),C()()(),x(13,"div",11,12)(15,"div",13),$(16,ICe,1,0,"mat-progress-bar",14),C(),x(17,"mat-tab-nav-panel",null,15),me(19,"router-outlet"),C()()()),2&e){const o=Qt(18);et("height",t.dom.height.outer,"px"),g("ngClass",qe(12,ACe,t.config.loading)),_(1),g("ngClass",Ii(14,SCe,null==t.config?null:t.config.goBack,!(null!=t.config&&t.config.goBack))),_(2),g("ngIf",t.config.goBack),_(3),Je(t.config.name),_(5),g("tabPanel",o),_(1),g("ngForOf",t.config.tabs),_(1),et("height",t.dom.height.inner,"px"),g("ngClass",Ii(17,MCe,t.config.portal,!t.config.portal)),_(3),g("ngIf",t.config.loading)}},dependencies:[Gt,ai,ct,Am,Dm,ow,wi,Sf,Dre,Mf,kn,ws],styles:[".tab-menu-back-container[_ngcontent-%COMP%]{padding:var(--gap-xxs) var(--gap-lm) 0 var(--gap-s);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.tab-menu-back-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:22px}.tab-menu-back-container[_ngcontent-%COMP%]   .tab-menu-back-btn[_ngcontent-%COMP%]{color:var(--foreground-base);font-size:14px;min-width:150px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;cursor:pointer}.tab-menu-nav-container[_ngcontent-%COMP%]{height:var(--gap-lm)}.tab-menu-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;-webkit-box-sizing:border-box;box-sizing:border-box;overflow-y:hidden}.tab-menu-container[_ngcontent-%COMP%]   .tab-menu-header[_ngcontent-%COMP%]{height:108px;max-height:108px;background:var(--background-main-menu)}.tab-menu-container[_ngcontent-%COMP%]   .tab-menu-header-without-back[_ngcontent-%COMP%]{height:108px;max-height:108px}.tab-menu-label-container[_ngcontent-%COMP%]{padding:0 0 10px 30px;font-size:20px;color:var(--foreground-base)}.tab-menu-custom-details[_ngcontent-%COMP%]{position:relative;padding:0;min-width:200px;font-size:20px;color:var(--foreground-base);-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;height:38px;overflow:hidden;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;display:-webkit-box;display:-ms-flexbox;display:flex;gap:var(--gap-xxs)}.tab-menu-loading[_ngcontent-%COMP%]{opacity:.9!important;pointer-events:none!important}.tab-menu-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}.tab-menu-button-header[_ngcontent-%COMP%]{position:relative;top:5px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;margin:0;height:37px;padding-right:350px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--gap-s)}.tab-menu-button-container[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:-webkit-box!important;display:flex!important;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;top:var(--gap-m)}.tab-menu-loader[_ngcontent-%COMP%]{position:absolute;height:2px;overflow:hidden;top:0;left:0;right:0;width:100%;clear:both}.tab-menu-button[_ngcontent-%COMP%]{margin:0 0 0 var(--gap-s)!important;min-width:100px;height:30px}.tab-menu-link-container[_ngcontent-%COMP%]{position:relative;top:-7px;display:block;margin:0;padding-left:var(--gap-lm)}.mat-mdc-tab-link.active[_ngcontent-%COMP%]{font-weight:500}.mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{border-bottom:none}.mat-mdc-tab-link[_ngcontent-%COMP%]{min-width:0!important;font-weight:400;color:var(--foreground-base);padding:0 12px;text-align:left;-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left}.mat-ink-bar[_ngcontent-%COMP%]{position:absolute;bottom:0;height:10px;-webkit-transition:.5s cubic-bezier(.35,0,.25,1);transition:.5s cubic-bezier(.35,0,.25,1)}.tab-menu-router-outlet-container[_ngcontent-%COMP%]{margin-top:2px;position:relative}.tab-menu-no-scroll[_ngcontent-%COMP%]{overflow:hidden!important}.tab-menu-scroll[_ngcontent-%COMP%]{overflow-y:scroll}[_nghost-%COMP%]     .mat-mdc-raised-button{line-height:20px!important}.tab-menu-link[_ngcontent-%COMP%]{opacity:1}"]}),i})();class FV{constructor(n){if(n)for(const e in n)this[e]=n[e]}}const TCe=["container"];function ECe(i,n){1&i&&(x(0,"span",6),ee(1,"*"),C())}function DCe(i,n){if(1&i&&(x(0,"div",4)(1,"div"),ee(2),$(3,ECe,2,0,"span",5),C()()),2&i){const e=I();_(2),Mt("",e.ui.label,":"),_(1),g("ngIf",e.dom.state.isRequired)}}function OCe(i,n){}const RCe=function(i,n){return{"pop-action-item-field":i,"pop-action-default-form":n}};let FCe=(()=>{class i extends Jo{constructor(e){var t;super(),t=this,this.el=e,this.name="PopActionItemComponent",this.srv={},this.asset={defaultForms:["radio","label"],config:void 0},this.ui={label:void 0},this.dom.configure=()=>new Promise(function(){var o=q(function*(s){return yield t._setInitialConfig(),s(!0)});return function(s){return o.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var o=q(function*(s){return s(!0)});return function(s){return o.apply(this,arguments)}}()),this.dom.handler.bubble=(o,s)=>{this.events.emit(s)}}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.template.attach("container"),e.asset.config=e.component.inputs.config,e.ui.label=e.asset.config.label,e.dom.state.defaultForm=e.asset.defaultForms.includes(e.form),e.dom.state.defaultForm||(e.asset.config.label=null,e.dom.state.isRequired=1==+e.asset.config.required),e.template.render([e.component]),o(!0)});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-action-item"]],viewQuery:function(e,t){if(1&e&&ht(TCe,7,Ri),2&e){let o;Ke(o=Ye())&&(t.container=o.first)}},inputs:{component:"component",form:"form"},features:[Re],decls:5,vars:5,consts:[[1,"pop-action-item-container","sw-flex-row"],["class","pop-action-item-label",4,"ngIf"],[3,"ngClass"],["container",""],[1,"pop-action-item-label"],["class","pop-action-item-required",4,"ngIf"],[1,"pop-action-item-required"]],template:function(e,t){1&e&&(x(0,"div",0),$(1,DCe,4,2,"div",1),x(2,"div",2),$(3,OCe,0,0,"ng-template",null,3,is),C()()),2&e&&(_(1),g("ngIf",!t.dom.state.defaultForm),_(1),g("ngClass",Ii(2,RCe,!t.dom.state.defaultForm,t.dom.state.defaultForm)))},dependencies:[Gt,ct],styles:[".pop-action-item-container[_ngcontent-%COMP%]{min-height:50px;clear:both;margin-bottom:10px;width:520px}.pop-action-item-label[_ngcontent-%COMP%]{position:relative;padding-top:var(--gap-xs);height:30px;width:35%}.pop-action-item-field[_ngcontent-%COMP%]{position:relative;min-height:50px;width:65%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;min-width:200px}.pop-action-default-form[_ngcontent-%COMP%]{position:relative;min-height:40px;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;min-width:200px}.pop-action-item-required[_ngcontent-%COMP%]{position:relative;top:8px;font-size:24px!important;color:red;margin:0 2px}[_nghost-%COMP%]     .sw-field-item-container{margin:0!important}"]}),i})();const LCe=["container"];function NCe(i,n){if(1&i&&(x(0,"div"),me(1,"lib-main-spinner"),C()),2&i){const e=I();hs("pop-action-container sw-flex-center pop-action-container-",null==e.action?null:e.action.layout," pop-action-spinner-box")}}function BCe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I();_(1),Je(e.ui.header)}}function VCe(i,n){if(1&i){const e=Me();x(0,"mat-icon",18),ie("click",function(){return he(e),pe(I().onToggleLocked())}),ee(1,"lock"),C()}}function $Ce(i,n){if(1&i){const e=Me();x(0,"mat-icon",19),ie("click",function(){return he(e),pe(I().onToggleLocked())}),ee(1,"lock_open"),C()}}function HCe(i,n){1&i&&me(0,"div",20),2&i&&et("width",20,"px")}function zCe(i,n){}function jCe(i,n){if(1&i&&(x(0,"div",21),me(1,"div",22),C()),2&i){const e=I();g("@slideInOut",void 0),_(1),g("innerHTML",e.dom.error.message,yr)}}function GCe(i,n){if(1&i){const e=Me();x(0,"div",29),ie("click",function(){return he(e),pe(I(2).onClickedAdditionBtn())}),ee(1),C()}if(2&i){const e=I(2);_(1),Je(e.ui.additionalBtnText)}}function WCe(i,n){if(1&i){const e=Me();x(0,"button",30),ie("click",function(){return he(e),pe(I(2).onCancelForm())}),ee(1,"CANCEL"),C()}2&i&&g("disabled",I(2).dom.state.pending)}const UCe=function(i){return{"sw-disabled":i}};function ZCe(i,n){if(1&i){const e=Me();x(0,"button",31),ie("click",function(){return he(e),pe(I(2).onSubmitForm(!0))}),x(1,"div",10),ee(2),C()()}if(2&i){const e=I(2);g("disabled",!e.dom.state.validated||e.dom.state.pending),_(1),g("ngClass",qe(3,UCe,e.dom.state.pending)),_(1),Je(e.ui.nextText)}}function KCe(i,n){if(1&i&&(x(0,"span"),ee(1),C()),2&i){const e=I(3);_(1),Je(e.ui.submitText)}}function YCe(i,n){1&i&&(x(0,"div"),me(1,"mat-spinner",33),C())}const XCe=function(i){return{"pop-action-dialog-save-validated":i}};function qCe(i,n){if(1&i){const e=Me();x(0,"button",32),ie("click",function(){return he(e),pe(I(2).onSubmitForm(!1))}),$(1,KCe,2,1,"span",3),$(2,YCe,2,0,"div",3),C()}if(2&i){const e=I(2);g("ngClass",qe(4,XCe,e.action.modified&&e.dom.state.validated))("disabled",!e.action.modified||!e.dom.state.validated||e.dom.state.pending),_(1),g("ngIf",!e.dom.state.pending),_(1),g("ngIf",e.dom.state.pending)}}function JCe(i,n){if(1&i){const e=Me();x(0,"button",34),ie("click",function(){return he(e),pe(I(2).onCancelForm())}),x(1,"span"),ee(2,"CLOSE"),C()()}}function QCe(i,n){if(1&i&&(x(0,"div",23),$(1,GCe,2,1,"div",24),$(2,WCe,2,1,"button",25),$(3,ZCe,3,5,"button",26),$(4,qCe,3,6,"button",27),$(5,JCe,3,0,"button",28),C()),2&i){const e=I();_(1),g("ngIf",e.action.additionalBtn),_(1),g("ngIf",!e.dom.state.disabledMenu),_(1),g("ngIf",!e.dom.state.disabledMenu&&e.dom.state.nextMenu),_(1),g("ngIf",!e.dom.state.disabledMenu),_(1),g("ngIf",!e.dom.state.disableClose)}}const YI=function(i){return{"sw-hidden":i}};let ewe=(()=>{class i extends Jo{onEscapeHandler(e){this.action.blockEnter||this.onPressEnterKey(e)}constructor(e,t,o,s){var r;super(),r=this,this.el=e,this._domRepo=t,this.dialog=o,this.data=s,this.name="PopActionDialogComponent",this.srv={dialog:Rt.get(Fn),events:Rt.get(ul),field:Rt.get(hr),request:Rt.get(Cu),router:Rt.get(Ji)},this.asset={additionalBtnText:"REMOVE",componentType:void 0,entity:{},facadeDuration:250,fieldItemMap:void 0,fieldItems:[],goToUrl:null,http:"POST",nextText:"NEXT",postUrl:null,submitText:"SAVE",visible:0},this.ui={additionalBtnText:"REMOVE",form:new Xw({}),header:"NEW",nextText:"NEXT",submitText:"SAVE"},this.dom.configure=()=>new Promise(function(){var a=q(function*(l){yield r._setInitialConfig(),yield r._setAction(),yield r._setActionHooks(),yield r._setFieldItems(),yield r._setAdditionalConfig(),yield r._buildFormGroup(),r._renderFieldItems(),r._renderComponent();const c=r.asset.fieldItems.find(A=>Lt(A,["model","options","child"],null));return c?r._triggerParentChildUpdates(c.model.name):r._triggerFormValidation(),yield al(250),l(!0)});return function(l){return a.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(a=>(this.action.locked&&It(this.action.setLocked)&&this.action.setLocked(!0),a(!0))),this.dom.unload=()=>new Promise(a=>(this.action.locked&&(this.action.locked=!1),a(!0)))}ngOnInit(){super.ngOnInit()}onPressEnterKey(e){var t=this;e.preventDefault(),e.stopPropagation(),this.action.ignoreOnEnter||this.dom.setTimeout("submit-form-enter",q(function*(){t.dom.state.validated&&!t.dom.state.pending&&(yield t.onSubmitForm())}),500)}onCancelForm(){this.dom.state.loaded=!1,this.dom.state.loading=!0,this.dom.setTimeout("close-modal",()=>{this.dialog.close(-1)},250)}onToggleLocked(){It(this.action.setLocked)&&this.action.setLocked(!this.action.locked)}onClickedAdditionBtn(){var e=this;this.dom.setTimeout("on-additional-option",q(function*(){It(e.action.onAdditionalOption)&&(e.dom.state.pending=!0,yield e.action.onAdditionalOption(e.core,{name:"onAdditionalOption",type:"component",source:e.name},e.dom),e.dom.state.pending=!1,e.dialog.close(0))}),50)}onSubmitForm(e=!1){var t=this;return new Promise(function(){var o=q(function*(s){if(t.dom.state.validated&&!t.dom.state.pending){t.dom.error.message="",t.dom.state.pending=!0;let r=!0;const a={type:"entity",source:t.name,name:t.action.name,entity:t.asset.entity,dom:t.dom,action:t.action,data:t.ui.form.value,success:!0};if(t.template.ref&&t.template.ref.instance.events&&t.template.ref.instance.events.emit(a),yield al(500),It(t.action.onSubmit)&&(r=yield t.action.onSubmit(t.core,a)),!r)return t.dom.state.pending=!1,s(!1);yield t._onSubmissionStart();let l=t.ui.form.value;if(Y(t.action.dynamicParams,!0)&&(l={...l,...t.action.dynamicParams}),t.action.facade){yield al(t.asset.facadeDuration),yield t._onSubmissionSuccess();let c=Y(l)?l:{};return"boolean"===t.action.responseType?c=!0:"store"===t.action.responseType&&(c=Y(t.action.store)?t.action.store:{}),t.dialog.close(c),s(!0)}{const c=`do${jt(t.asset.http)}`;t.srv.request[c](t.asset.postUrl,l,1,!1).subscribe(function(){var D=q(function*(te){te=Ca(te);const se=t.asset.goToUrl;if(t.asset.entity=te,yield t._onSubmissionSuccess(),e)t.ui.submitText=t.asset.submitText,t.ui.nextText=t.asset.nextText;else if(t.dialog.close(t.asset.entity),Ne(se,!0)){const le=bd(String(se),t.asset.entity);t.log.info("onFormSubmit:goToUrl",le),t.log.info("onFormSubmit:entity",t.asset.entity),yield t.srv.router.navigate([le])}return s(!0)});return function(te){return D.apply(this,arguments)}}(),D=>(t._onSubmissionFail(),t._setErrorMessage(qn(D)),s(!1)))}}});return function(s){return o.apply(this,arguments)}}())}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.state.loaded||(e.id=cl(),e.template.attach("container"),Y(e.data.core,!0)&&(e.core=e.data.core),Y(e.data.action,!0)&&(e.action=e.data.action),Ne(e.data.actionName,!0)&&(e.actionName=e.data.actionName),Y(e.data.extension,!0)&&(e.extension=e.data.extension),Y(e.extension,!0)||(e.extension={}),Ne(e.ui.submitText,!0)||(e.ui.submitText="SAVE"),e.dom.state.validated=!1,Xr(e.action.modified)&&(e.action.modified=!1),e.dom.state.template="collection",e.dom.state.width=null,delete e.data,kt(e.action.preventLock)||(e.action.preventLock=!1),kt(e.action.locked)||(e.action.locked=e.dialog.disableClose),e.dom.handler.bubble=function(){var s=q(function*(r,a){e.log.event("bubble:handler",a),"field"===a.type&&!e.action.locked&&!e.action.preventLock&&It(e.action.setLocked)&&e.action.setLocked(!0),"store"===e.action.responseType&&e._handleStoreEvent(a),It(e.action.onEvent)&&(yield e.action.onEvent(r,{...a,entity:e.asset.entity,form:e.ui.form,action:e.action,dom:e.dom,metadata:{fieldItems:e.asset.fieldItems}},e.dom)),["onKeyUp","onValidChange","onBlur"].includes(a.name)?(e.dom.state.validated=!1,["onValidChange"].includes(a.name)&&!e.action.disableModified&&(e.action.modified=!0),e.dom.setTimeout("trigger-validation",q(function*(){Ne(a.config.control.value,!0)&&"name"===a.config.name&&e.action.uniqueName?(yield e._checkUniqueName(a.config.control.value))?e._triggerFormValidation():(e.dom.state.validated=!1,a.config.control.setErrors({Unique:!0}),a.config.message="Name is already in use"):e._triggerFormValidation()}),250)):Ln(0,a)&&a.config.name in e.asset.entity&&(e.action.disableModified||(e.action.modified=!0),e.asset.entity[a.config.name]=+a.config.control.value>0?+a.config.control.value:a.config.control.value,e.asset.fieldItems.length>1?e.dom.setTimeout("update-relations",()=>{e._triggerParentChildUpdates(a.config.name)},250):e.dom.setTimeout("trigger-validation",q(function*(){e._triggerFormValidation()}),250)),(a.config&&a.config.bubble||a.name&&["patch"].includes(a.name))&&e.events.emit(a)});return function(r,a){return s.apply(this,arguments)}}()),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setAdditionalConfig(){return new Promise(e=>{let t=Ne(this.extension.goToUrl,!0)?this.extension.goToUrl:this.action.goToUrl?this.action.goToUrl:null;t&&(t=tn(t,this.core,!0));const o=Y(this.core.entity,["id","name"])&&!this.action.blockEntity?this.core.entity:Y(this.asset.entity,!0)?this.asset.entity:{};let s=Ne(this.extension.postUrl,!0)?this.extension.postUrl:this.action.postUrl?bd(String(this.action.postUrl),o):this.core.params.path;return s&&(s=tn(s,this.core,!0)),+this.action.facadeDuration&&(this.asset.facadeDuration=this.action.facadeDuration),+this.action.facadeDuration>2e3&&(this.action.facadeDuration=2e3),Xr(this.action.layout)&&(this.action.layout="vertical"),this.action.disableMenu||(this.action.disableMenu=!1),this.action.disableClose||(this.action.disableClose=!1),this.action.disableClose=!!this.action.disableClose||!this.action.disableMenu,this.asset.goToUrl=t,this.asset.postUrl=s,this.ui.submitText=Ne(this.action.submitText,!0)?this.action.submitText:"SAVE",this.ui.additionalBtnText=Ne(this.action.additionalBtnText,!0)?this.action.additionalBtnText:"REMOVE",this.ui.nextText=Ne(this.action.nextText,!0)?this.action.nextText:"NEXT",this.asset.submitText=this.action.submitText??"SAVE",this.asset.nextText=this.action.nextText??"NEXT",Ne(this.action.http)&&(this.asset.http=this.action.http),this.ui.header=Ne(this.action.header,!0)?this.action.header:`${jt(this.action.name)} ${Tn(this.core.repo.getDisplayName())}`,this.dom.state.disabledMenu=!!Y(this.action,!0)&&this.action.disableMenu,this.dom.state.disableClose=!!Y(this.action,!0)&&this.action.disableClose,this.dom.state.disabledHeader=!!Y(this.action,!0)&&this.action.disableHeader,this.dom.state.nextMenu=!(!Y(this.action,!0)||!+this.action.nextMenu),this.dom.state.height=Y(this.action,!0)&&+this.action.height?this.action.height:null,e(!0)})}_buildFormGroup(){return new Promise(e=>(De(this.asset.fieldItems,!0)&&this.asset.fieldItems.map(t=>{t.config&&t.config.control&&(this.ui.form.addControl(t.config.name,t.config.control),this.asset.visible++)}),e(!0)))}_handleStoreEvent(e){this.log.event("_handleStoreEvent",e),"modified"===e.name?(this.action.modified=1==+e.value,Y(e.data,!0)&&(Y(this.action.store)||(this.action.store={}),Object.keys(e.data).map(t=>{this.action.store[t]=e.data[t]}))):Ln(0,e)&&(this.action.disableModified||(this.action.modified=!0),Y(this.action.store)||(this.action.store={}),this.action.store[e.config.name]="null"!==e.config.control.value?e.config.control.value:null),this.log.info("_handleStoreEvent: store",this.action.store)}_triggerFormValidation(){this.dom.setTimeout("trigger-form-validation",()=>{this._validateForm().then(e=>{this.dom.state.validated=e}),this._resetComponentListHidden()},50)}_validateForm(){var e=this;return new Promise(function(){var t=q(function*(o){e.dom.state.validated=!1,e.dom.setTimeout("trigger-form-validation",null),e.dom.setTimeout("validate-form",q(function*(){return e.ui.form.updateValueAndValidity(),e.dom.state.validated=!It(e.action.onValidate)||(yield e.action.onValidate(e.core,{type:"entity",source:e.name,name:e.action.name,entity:e.asset.entity,action:e.action,data:e.ui.form.value})),o(e.ui.form.valid)}),0)});return function(o){return t.apply(this,arguments)}}())}_checkUniqueName(e){var t=this;return new Promise(function(){var o=q(function*(s){let r=Lt(t.core,"repo.routes.get.unique.path".split("."),null);return r||(r=Lt(t.core,"repo.routes.get.entities.path".split("."))),t.dom.state.pending||!e?s(!0):Ne(e,!0)&&r?void t.dom.setSubscriber("check-unique-name",t.srv.request.doGet(r,{name:e},1,!1).subscribe(a=>(a=lr(a),s(!De(a,!0))),()=>s(!1))):s(!1)});return function(s){return o.apply(this,arguments)}}())}_setErrorMessage(e,t=!1){this.dom.error.message=e,t&&this.dom.setTimeout("clear-error-message",()=>{this.dom.error.message=""},3e3)}_onSubmissionStart(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.setTimeout("message",null,0),e.dom.error.message="",e.dom.state.pending=!0,e.ui.submitText="",e.ui.nextText="",It(e.action.before)&&(yield e.action.before(e.core,{type:"field",name:"beforePatch",source:e.name,value:e.ui.form.value},e.dom)),o(!0)});return function(o){return t.apply(this,arguments)}}())}_onSubmissionFail(){this.dom.state.pending=!1,this.dom.state.template="fail",this.ui.submitText=this.asset.submitText,this.ui.nextText=this.asset.nextText}_onSubmissionSuccess(){var e=this;return new Promise(function(){var t=q(function*(o){if(e.dom.state.template="success",e.core.repo&&e.core.repo.clearAllCache(e.name),It(e.action.after)){const r={type:"entity",source:e.name,name:e.action.name,entity:e.asset.entity,action:e.action,dom:e.dom,data:e.ui.form.value};yield e.action.after(e.core,r,e.dom)}return e.srv.events.sendEvent({source:e.name,method:"create",type:"entity",core:e.core,name:e.core.params.name,internal_name:e.core.params.internal_name,data:e.asset.entity}),e.dom.state.pending=!1,o(!0)});return function(o){return t.apply(this,arguments)}}())}_renderFieldItems(){const e=[];De(this.action.components)&&this.action.components.map(o=>{Ne(Lt(o,["inputs","core"]))&&"inherit"===o.inputs.core&&(o.inputs.core=this.core,e.push(o))});const t=new Set(["radio","switch"]);this.asset.fieldItems.map(o=>{if(o&&Y(o.model,["name"])&&o.config&&o.component){this.asset.entity[o.model.name]="control"in o.config?o.config.control.value:null,this.action.bubbleAll&&(o.config.bubble=!0);const s=o.model.when;delete o.model.when;const r={type:o.component,inputs:{config:o.config,position:o.config.metadata.position?o.config.metadata.position:1,hidden:!("vertical"!==this.action.layout||!De(s,!0)||Vc(this.core,s,this.core)),when:"vertical"===this.action.layout&&De(s,!0)?s:null}},a={type:FCe,inputs:{component:r,hidden:!!De(s,!0)&&!Vc(this.core,s,this.core),when:De(s,!0)?s:null,form:o.model.form}};"vertical"===this.action.layout||t.has(o.model.form)?e.push(r):e.push(a)}}),this.template.render(e,[],!0)}_renderComponent(){var e=this;Y(this.action.component,["type"])&&this.portal&&(this.dom.state.width=this.action.component.width?this.action.component.width:null,this.portal.attachedRef&&this.portal.detach(),this.dom.setSubscriber("portal-events",null),this.template.ref=this.portal.attach(new Vl(this.action.component.type)),this.template.ref.instance.core=this.core,Y(this.action.component,["inputs"])&&Object.keys(this.action.component.inputs).map(t=>{this.template.ref.instance[t]=this.action.component.inputs[t]}),this.action.component.width=+this.action.component.width?+this.action.component.width:null,this.template.ref.changeDetectorRef.detectChanges(),this.template.ref.instance.events&&this.dom.setSubscriber("portal-events",this.template.ref.instance.events.subscribe(function(){var t=q(function*(o){"component"===o.type&&"validate-form"===o.name?o.value?(e.action.modified=!0,e.dom.state.validated=!0):(e.action.modified=!1,e.dom.state.validated=!1):"field"===o.type?e.dom.handler.bubble(e.core,o):("store"===e.action.responseType&&e._handleStoreEvent(o),It(e.action.onEvent)&&(yield e.action.onEvent(e.core,{...o,entity:e.asset.entity,action:e.action,form:e.ui.form,metadata:{fieldItems:e.asset.fieldItems}},e.dom)))});return function(o){return t.apply(this,arguments)}}())))}_setAction(){var e=this;return new Promise(function(){var t=q(function*(o){return Y(e.action,!0)?(kt(e.action.responseType)||(e.action.responseType="form"),e.dom.state.hasComponent=Y(e.action.component,["type"]),e.dom.state.hasFields=Y(e.action.fields,!0),Xr(e.action.modified)&&(e.action.modified=!1),o(!0)):Ne(e.actionName)&&Y(e.core.repo.model.action,[e.actionName])&&Y(e.core.repo.model.action[e.actionName],!0)?(e.action=e.core.repo.model.action[e.actionName],kt(e.action.responseType)||(e.action.responseType="form"),e.dom.state.hasComponent=Y(e.action.component,["type"]),e.dom.state.hasFields=Y(e.action.fields,!0),Xr(e.action.modified)&&(e.action.modified=!1),o(!0)):(e.dom.state.hasComponent=!1,e.dom.state.hasFields=!1,o(!1))});return function(o){return t.apply(this,arguments)}}())}_setActionHooks(){var e=this;return q(function*(){e.action.setModified=t=>{e.dom.setTimeout("set-modified",()=>{e.action.modified=t},0)},e.action.setLocked=t=>{e.dom.setTimeout("set-locked",()=>{if(t){e.dialog.disableClose=!0,e.action.locked=!0;const o=document.getElementsByClassName("cdk-overlay-backdrop")[0];o&&(o.style.background="rgba(0,0,0,.5)")}else{e.dialog.disableClose=!1,e.action.locked=!1;const o=document.getElementsByClassName("cdk-overlay-backdrop")[0];o&&(o.style.background="rgba(0,0,0,.2)")}},0)},e.action.setMessage=t=>{e.dom.setTimeout("set-message",()=>{e.dom.error.message=t},0)},e.action.showHideComponents=()=>new Promise(function(){var t=q(function*(o){return e._resetComponentListHidden(),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_setFieldItems(){var e=this;return new Promise(function(){var t=q(function*(o){if(Y(e.action,["fields"])&&Y(e.action.fields,!0)){const s={};e.asset.fieldItems=[],e.asset.fieldItemMap={};let r=!1;if(Object.keys(e.action.fields).map(a=>{let l={};!e.action.blockEntity&&a in e.core.repo.model.field&&(l=e.core.repo.model.field[a]);let A,c={};l.when&&(c.when=gi(l.when)),Y(l.model,!0)&&(c={...c,...l.model}),Y(e.action.fields[a],!0)&&(A=Ne(e.action.fields[a].transformation,!0)?e.action.fields[a].transformation:null,c={...c,...e.action.fields[a]}),delete c.transformation,A&&(c.transformation=A),c.value=kt(c.value)?tn(c.value,e.core):null,!c.value&&Y(c.options,["defaultValue"])&&(c.value=tn(c.options.defaultValue,e.core)),c.hidden=!dl(e.core,c.when,e.core),Y(e.extension,!0)&&c.name in e.extension&&(c.value=tn(e.extension[c.name]),"internal_name"!==c.name&&(c.readonly=!0),e.asset.entity[c.name]=c.value),c.tabOnEnter=!0,s[a]=c,c.options&&c.options.resource&&(r=!0)}),r){const a=yield e.core.repo.getUiResource(e.core);Y(a,!0)&&co(e.core.resource,a),ut.init(e.name,"doAction:needed resource",a),Object.keys(s).map(l=>{const A=jf(e.core,gi(s[l]),!1),D=e.srv.field.buildCoreFieldItem(e.core,A);if(Y(D.config,!0)&&(D.config.facade=!0,Y(D.config.patch))){const te=D.config.patch;te.duration=0,te.path=null,te.displayIndicator=!1}e.asset.fieldItemMap[l]=e.asset.fieldItems.length,e.asset.fieldItems.push(D)})}else Object.keys(s).map(a=>{const l=jf(e.core,s[a],!1),c=e.srv.field.buildCoreFieldItem(e.core,l);if(Y(c.config,!0)&&(c.config.facade=!0,Y(c.config.patch))){const A=c.config.patch;A.duration=0,A.path=null,A.displayIndicator=!1}e.asset.fieldItemMap[a]=e.asset.fieldItems.length,e.asset.fieldItems.push(c)}),xn.clear();return e.asset.fieldItems.map(a=>{De(Lt(a,["config","options","values"]),!0)&&Xr(a.config.height)&&(a.config.height=150)}),o(!0)}return o(!1)});return function(o){return t.apply(this,arguments)}}())}_fieldHasAutoFill(e){return!!(e in this.asset.fieldItemMap&&this.asset.fieldItems[this.asset.fieldItemMap[e]].model&&this.asset.fieldItems[this.asset.fieldItemMap[e]].model.options&&this.asset.fieldItems[this.asset.fieldItemMap[e]].model.autoFill)}_fieldHasChild(e){return!!(e in this.asset.fieldItemMap&&this.asset.fieldItems[this.asset.fieldItemMap[e]].model&&this.asset.fieldItems[this.asset.fieldItemMap[e]].model.options&&this.asset.fieldItems[this.asset.fieldItemMap[e]].model.options.child)}_getRelationList(e,t=[]){let o;return e&&e in this.asset.fieldItemMap&&(o=this.asset.fieldItems[this.asset.fieldItemMap[e]],Y(o,["config","model"])&&(t.push({name:o.config.name,autoFill:this._fieldHasAutoFill(e)}),this._fieldHasChild(e)&&this._getRelationList(this.asset.fieldItems[this.asset.fieldItemMap[e]].model.options.child,t))),t}_resetComponentListHidden(){this.log.info("_resetComponentListHidden"),this.dom.setTimeout("reset-component-list-hidden",()=>{this.template.refs.map(e=>{const t=this.__getComponentRefWhen(e);De(t,!0)&&(e.instance.show=Vc(this.asset,t),this.log.info("_resetComponentListHidden:eval",{entity:this.asset.entity,when:t,componentRef:e,hidden:e.instance.hidden}))})},250)}__getComponentRefWhen(e){if(Y(e,["instance"])){if(De(e.instance.when,!0))return e.instance.when;if(Y(e.instance.component))return Lt(e.instance,["component","inputs","config","when"])}return null}_triggerParentChildUpdates(e){if(this.log.info("_triggerParentChildUpdates",e),this._fieldHasChild(e)){let t,o,r,a,s=!1;if(this._getRelationList(e).some(c=>{if(c.autoFill)return s=!0,!0}),e&&e in this.asset.fieldItemMap){let c=[];const A=this.asset.fieldItems[this.asset.fieldItemMap[e]].model.options.child;c=String(A).includes(",")?A.split(",").map(D=>String(D).trim()):[String(A).trim()],this.log.debug("_triggerParentChildUpdates",{name:e,children:c}),c.map(D=>{D&&D in this.asset.fieldItemMap&&(o=this.asset.fieldItems[this.asset.fieldItemMap[D]],o.model.form.includes("select")&&(De(o.model.options.rawValues,!0)?a=o.model.options.rawValues:o.model.options.resource&&(this.log.error("_triggerParentChildUpdates: resource",{resourceName:o.model.options.resource,resource:this.core.resource[o.model.options.resource]}),Y(this.core.resource[o.model.options.resource],["data_values"])?a=this.core.resource[o.model.options.resource].data_values:this.log.error("_triggerParentChildUpdates: resource fail",o.model.options.resource)),t=De(a,!0)?as(a,{prevent:[],parent:o.model.options.parent?{field:o.model.options.parent,value:this.asset.entity[o.model.options.parent]}:null,empty:o.model.options.empty?o.model.options.empty:null}):[],this.log.info("_triggerParentChildUpdates: child",{child_fk:D,field:o,values:t}),r=s&&t.length>0?t[t.length-1].value:null,o.config.options.values=t,o.config.control.values=t,s=s&&t.length>0?t[0].value:null,"function"==typeof o.config.triggerOnChange?o.config.triggerOnChange(r):"function"==typeof o.config.setValue&&o.config.setValue(r),D in this.asset.entity&&(this.asset.entity[D]=r),this.dom.setTimeout(`clear-message-${D}`,()=>{"function"==typeof o.config.clearMessage&&o.config.clearMessage()},0)))})}}this._triggerFormValidation()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Yo),P(zs))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-action-dialog"]],viewQuery:function(e,t){if(1&e&&(ht(LCe,7,Ri),ht(or,7)),2&e){let o;Ke(o=Ye())&&(t.container=o.first),Ke(o=Ye())&&(t.portal=o.first)}},hostBindings:function(e,t){1&e&&ie("keydown.enter",function(s){return t.onEscapeHandler(s)},0,xr)},inputs:{action:"action",actionName:"actionName",extension:"extension"},features:[Ct([ii]),Re],decls:20,vars:28,consts:[[3,"class",4,"ngIf"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary","body",3,"ngClass"],[1,"pop-action-dialog-header","sw-headline-3"],[4,"ngIf"],["class","pop-action-locked-handle sw-pointer","matTooltipPosition","left","matTooltip","Pressing the Cancel button is now required to close.","cdkDragHandle","",3,"click",4,"ngIf"],["class","pop-action-locked-handle sw-pointer","matTooltipPosition","left","matTooltip","Press Esc or clicking outside of modal to close is allowed.","cdkDragHandle","",3,"click",4,"ngIf"],["cdkDragHandle","",1,"pop-action-draggable-handle"],[1,"pop-action-dialog-content"],[3,"formGroup","className","keyup.enter"],[1,"sw-flex-row"],[3,"ngClass"],["container",""],["class","pop-action-spacer",3,"width",4,"ngIf"],[1,"sw-flex-column-break",3,"ngClass"],[3,"cdkPortalOutlet"],[1,"pop-action-dialog-message-layout"],["class","pop-action-dialog-errors",4,"ngIf"],["class","pop-action-dialog-buttons",4,"ngIf"],["matTooltipPosition","left","matTooltip","Pressing the Cancel button is now required to close.","cdkDragHandle","",1,"pop-action-locked-handle","sw-pointer",3,"click"],["matTooltipPosition","left","matTooltip","Press Esc or clicking outside of modal to close is allowed.","cdkDragHandle","",1,"pop-action-locked-handle","sw-pointer",3,"click"],[1,"pop-action-spacer"],[1,"pop-action-dialog-errors"],[3,"innerHTML"],[1,"pop-action-dialog-buttons"],["class","pop-action-additional-option sw-pointer",3,"click",4,"ngIf"],["class","pop-action-dialog-cancel","mat-raised-button","",3,"disabled","click",4,"ngIf"],["class","pop-action-dialog-other","mat-raised-button","",3,"disabled","click",4,"ngIf"],["class","pop-action-dialog-save","mat-raised-button","",3,"ngClass","disabled","click",4,"ngIf"],["class","pop-action-dialog-other","mat-raised-button","",3,"click",4,"ngIf"],[1,"pop-action-additional-option","sw-pointer",3,"click"],["mat-raised-button","",1,"pop-action-dialog-cancel",3,"disabled","click"],["mat-raised-button","",1,"pop-action-dialog-other",3,"disabled","click"],["mat-raised-button","",1,"pop-action-dialog-save",3,"ngClass","disabled","click"],["diameter","20"],["mat-raised-button","",1,"pop-action-dialog-other",3,"click"]],template:function(e,t){1&e&&($(0,NCe,2,3,"div",0),x(1,"div",1)(2,"div",2),$(3,BCe,2,1,"div",3),$(4,VCe,2,0,"mat-icon",4),$(5,$Ce,2,0,"mat-icon",5),x(6,"mat-icon",6),ee(7,"drag_handle"),C()(),x(8,"div",7)(9,"form",8),ie("keyup.enter",function(s){return t.onPressEnterKey(s)}),x(10,"div",9)(11,"div",10),me(12,"template",null,11),C(),$(14,HCe,1,2,"div",12),x(15,"div",13),$(16,zCe,0,0,"ng-template",14),C()(),x(17,"div",15),$(18,jCe,2,2,"div",16),C()()(),$(19,QCe,6,5,"div",17),C()),2&e&&(g("ngIf",t.dom.state.loading),_(1),hs("pop-action-container pop-action-container-",null==t.action?null:t.action.layout,""),g("ngClass",qe(22,YI,!t.dom.state.loaded)),_(2),g("ngIf",!t.dom.state.disabledHeader&&t.ui.header),_(1),g("ngIf",null==t.action?null:t.action.locked),_(1),g("ngIf",!(null!=t.action&&t.action.locked)),_(4),g("formGroup",t.ui.form)("className",t.dom.state.pending?"pop-action-dialog-field-lock":""),_(1),et("min-height",t.dom.state.height,"px"),_(1),hs("sw-flex-column-break-",null==t.action?null:t.action.layout,""),g("ngClass",qe(24,YI,!t.dom.state.hasFields)),_(3),g("ngIf",t.dom.state.hasFields&&t.dom.state.hasComponent),_(1),et("min-width",t.dom.state.width,"px"),g("ngClass",qe(26,YI,!t.dom.state.hasComponent)),_(3),g("ngIf",t.dom.error.message),_(1),g("ngIf",t.dom.state.loaded))},dependencies:[kn,wi,gf,Pn,Gt,ct,mf,jh,ba,or,Ts,Zl,Ec],styles:[".pop-action-container[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}.pop-action-close-btn[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px}.pop-action-dialog-header[_ngcontent-%COMP%]{text-align:left;margin-bottom:0;min-height:15px}.pop-action-dialog-content[_ngcontent-%COMP%]{position:relative;display:block;width:100%;min-height:30px}.pop-action-dialog-content[_ngcontent-%COMP%]   .pop-action-dialog-field[_ngcontent-%COMP%]{margin-bottom:10px}.pop-action-dialog-content[_ngcontent-%COMP%]   .pop-action-dialog-field-lock[_ngcontent-%COMP%]{pointer-events:none!important}.pop-action-dialog-content[_ngcontent-%COMP%]   .pop-action-dialog-field-spinner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin-left:-22px;margin-top:-40px}.pop-action-dialog-buttons[_ngcontent-%COMP%]{left:30px;right:32px;bottom:15px;margin-bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pop-action-dialog-buttons[_ngcontent-%COMP%]   .pop-action-additional-option[_ngcontent-%COMP%]{position:absolute;color:var(--accent);bottom:var(--gap-l);left:var(--gap-lm);margin-right:var(--gap-s)}.pop-action-dialog-buttons[_ngcontent-%COMP%]   .pop-action-dialog-cancel[_ngcontent-%COMP%]{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-height:35px;min-width:120px}.pop-action-dialog-buttons[_ngcontent-%COMP%]   .pop-action-dialog-other[_ngcontent-%COMP%], .pop-action-dialog-buttons[_ngcontent-%COMP%]   .pop-action-dialog-save[_ngcontent-%COMP%]{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:10px;min-width:120px;min-height:35px}.pop-action-dialog-save-validated[_ngcontent-%COMP%]{color:var(--accent)!important}.pop-action-dialog-errors[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;color:var(--warn);word-break:break-word;min-height:40px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;margin:20px 0;padding:10px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:3px;border:1px solid var(--warn)}.pop-action-dialog-success[_ngcontent-%COMP%]{color:var(--success);text-align:center;word-break:break-word}.pop-action-dialog-message-layout[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;min-height:25px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.pop-action-draggable-handle[_ngcontent-%COMP%]{position:absolute;top:var(--gap-xs);right:8px;cursor:move;font-size:.8em}.pop-action-locked-handle[_ngcontent-%COMP%]{position:absolute;top:var(--gap-xs);right:25px;color:var(--disabled);opacity:.7;font-size:.8em}.pop-action-dialog-disabled[_ngcontent-%COMP%]{pointer-events:none}.pop-action-spinner-box[_ngcontent-%COMP%]{height:150px}.sw-flex-column-break-horizontal[_ngcontent-%COMP%]{min-width:520px;padding-top:var(--gap-s)}.sw-flex-column-break-vertical[_ngcontent-%COMP%]{min-width:385px;width:100%}.pop-action-portal-container[_ngcontent-%COMP%]{padding-top:18px}[_nghost-%COMP%]     .pop-action-container-vertical .pop-action-dialog-buttons{left:30px!important;right:30px!important}[_nghost-%COMP%]     .sw-field-item-container{max-width:520px!important}"],data:{animation:[gp]}}),i})();function twe(i,n){if(1&i&&(x(0,"div",10),ee(1),C()),2&i){const e=I();_(1),Je(e.ui.header)}}function iwe(i,n){1&i&&(x(0,"div",11),me(1,"lib-main-spinner"),C())}const LV=function(i){return{"sw-hidden":i}};let nwe=(()=>{class i extends Yt{constructor(e,t,o){var s;super(),s=this,this.el=e,this.dialog=t,this.data=o,this.name="PopSuccessDialogComponent",this.srv={dialog:Rt.get(Fn)},this.asset={},this.ui={submitText:"Ok",header:"Success",message:"Action was Successful"},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return s.ui={...s.ui,...s.data},a(!0)});return function(a){return r.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(r=>r(!0))}onFormClose(){this.dom.setTimeout("close-modal",()=>{this.dialog.close(-1)},250)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Yo),P(zs))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-success-dialog"]],features:[Re],decls:15,vars:12,consts:[[1,"psd-close-btn","sw-pointer",3,"ngClass","click"],[3,"ngClass"],["class","psd-header sw-headline-1",4,"ngIf"],[1,"psd-content","sw-flex-column"],[1,"sw-flex-row","sw-flex-center"],[1,"psd-icon"],[1,"sw-body-text-1",3,"innerHTML"],[1,"psd-buttons"],[1,"psd-close","sw-pointer","sw-headline-4",3,"click"],["class","psd-spinner-box",4,"ngIf"],[1,"psd-header","sw-headline-1"],[1,"psd-spinner-box"]],template:function(e,t){1&e&&(x(0,"div",0),ie("click",function(){return t.onFormClose()}),x(1,"mat-icon"),ee(2,"close"),C()(),x(3,"div",1),$(4,twe,2,1,"div",2),x(5,"div",3)(6,"div",4)(7,"mat-icon",5),ee(8,"check_circle"),C()(),x(9,"div",4),me(10,"p",6),C()(),x(11,"div",7)(12,"span",8),ie("click",function(){return t.onFormClose()}),ee(13),C()()(),$(14,iwe,2,0,"div",9)),2&e&&(g("ngClass",qe(8,LV,!t.dom.state.loaded)),_(3),g("ngClass",qe(10,LV,!t.dom.state.loaded)),_(1),g("ngIf",t.ui.header),_(2),et("height",200,"px"),_(4),g("innerHTML",t.ui.message,yr),_(3),Je(t.ui.submitText),_(1),g("ngIf",t.dom.state.loader))},dependencies:[wi,Gt,ct,Ts],styles:[".psd-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;margin-bottom:60px}.psd-close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px}.psd-header[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--gap-sm)}.psd-content[_ngcontent-%COMP%]{position:relative;display:block;width:100%;min-width:350px;min-height:300px;margin-bottom:10px}.psd-content[_ngcontent-%COMP%]   .psd-field[_ngcontent-%COMP%]{margin-bottom:10px}.psd-content[_ngcontent-%COMP%]   .psd-field-lock[_ngcontent-%COMP%]{pointer-events:none!important}.psd-buttons[_ngcontent-%COMP%]{position:absolute;left:30px;right:30px;bottom:15px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.psd-buttons[_ngcontent-%COMP%]   .psd-close[_ngcontent-%COMP%]{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-item-align:end;align-self:flex-end;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:10px;color:var(--accent)}.psd-icon[_ngcontent-%COMP%]{font-size:150px;color:var(--valid);width:150px;height:150px;line-height:150px}.psd-message-layout[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;min-height:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.psd-disabled[_ngcontent-%COMP%]{pointer-events:none}.psd-spinner-box[_ngcontent-%COMP%]{height:150px}"]}),i})(),owe=(()=>{class i extends Yt{constructor(e,t,o){var s;super(),s=this,this.el=e,this.dialog=t,this.config=o,this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return s.config.align||(s.config.align="left"),s.config.timer&&(s.config.timer>5&&(s.config.timer=5),s.dom.setInterval("countdown-timer",()=>{s.config.timer--,s.config.timer||(s.dom.setInterval("countdown-timer",null),s.onCloseDialog())},1e3,5)),a(!0)});return function(a){return r.apply(this,arguments)}}())}onCloseDialog(){this.dialog.close(null)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Yo),P(zs))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-message-dialog"]],features:[Re],decls:7,vars:5,consts:[[1,"pmd-header","sw-headline-3"],[1,"pmd-body","sw-body-text-1",3,"innerHTML"],[1,"pmd-footer"],["cdkFocusInitial","",1,"pmd-btn","sw-pointer",3,"click"]],template:function(e,t){1&e&&(x(0,"div")(1,"h1",0),ee(2),C(),me(3,"div",1),x(4,"div",2)(5,"div",3),ie("click",function(){return t.onCloseDialog()}),ee(6,"OK"),C()()()),2&e&&(hs("pmd-container pmd-container-",t.config.align,""),_(2),Je(t.config.header),_(1),g("innerHTML",t.config.body,yr))},styles:[".pmd-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;margin-bottom:60px}.pmd-header[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--gap-sm)}.pmd-body[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;margin:0 0 var(--gap-l) 0;padding:0;min-height:30px;height:100%;overflow-x:hidden;overflow-y:auto}.pmd-btn[_ngcontent-%COMP%]{margin-left:var(--gap-s);color:var(--accent)}.pmd-container-left[_ngcontent-%COMP%]   .pmd-header[_ngcontent-%COMP%], .pmd-container-left[_ngcontent-%COMP%]   .pmd-body[_ngcontent-%COMP%]{text-align:left}.pmd-container-center[_ngcontent-%COMP%]   .pmd-header[_ngcontent-%COMP%], .pmd-container-center[_ngcontent-%COMP%]   .pmd-body[_ngcontent-%COMP%]{text-align:center}.pmd-container-right[_ngcontent-%COMP%]   .pmd-header[_ngcontent-%COMP%], .pmd-container-right[_ngcontent-%COMP%]   .pmd-body[_ngcontent-%COMP%]{text-align:right}.pmd-footer[_ngcontent-%COMP%]{position:absolute;left:30px;right:30px;bottom:20px;display:-webkit-box;display:-ms-flexbox;display:flex;min-height:var(--gap-m);-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center}"]}),i})();function swe(i,n){if(1&i&&(x(0,"div",11),ee(1),C()),2&i){const e=I();_(1),Je(e.ui.header)}}function rwe(i,n){1&i&&(x(0,"i",14),ee(1,"circle"),C())}function awe(i,n){if(1&i&&(x(0,"div",12),$(1,rwe,2,0,"i",13),C()),2&i){const e=I();_(1),g("ngForOf",e.numSequence(e.ui.timer))}}function lwe(i,n){1&i&&(x(0,"div",15),me(1,"lib-main-spinner"),C())}const cwe=function(i){return{"sw-hidden":i}};let dwe=(()=>{class i extends Yt{constructor(e,t,o){var s;super(),s=this,this.el=e,this.dialog=t,this.data=o,this.name="PopFailureDialogComponent",this.srv={dialog:Rt.get(Fn)},this.asset={},this.ui={submitText:"Ok",header:"Failure",body:"Action failed!",timer:0},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return s.ui={...s.ui,...s.data},s.ui.timer&&(s.ui.timer>5&&(s.ui.timer=5),s.dom.setInterval("countdown-timer",()=>{s.ui.timer--,s.ui.timer||(s.dom.setInterval("countdown-timer",null),s.onFormClose())},1e3,5)),a(!0)});return function(a){return r.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(r=>r(!0))}numSequence(e){return Array(e)}onFormClose(){this.dom.setTimeout("close-modal",()=>{this.dialog.close(-1)},250)}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Yo),P(zs))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-failure-dialog"]],features:[Re],decls:16,vars:10,consts:[[1,"pfd-container"],[1,"pfd-close-btn","sw-pointer",3,"ngClass","click"],["class","pfd-header sw-headline-1",4,"ngIf"],[1,"pfd-content","sw-flex-column"],[1,"sw-flex-row","sw-flex-center"],[1,"pfd-icon"],[1,"sw-body-text-1",3,"innerHTML"],["class","sw-flex-row sw-flex-center pfd-timer-container",4,"ngIf"],[1,"pfd-buttons"],[1,"pfd-close","sw-pointer","sw-headline-4",3,"click"],["class","pfd-spinner-box",4,"ngIf"],[1,"pfd-header","sw-headline-1"],[1,"sw-flex-row","sw-flex-center","pfd-timer-container"],["class","material-icons sw-mar-rgt-lg sw-txt-sm",4,"ngFor","ngForOf"],[1,"material-icons","sw-mar-rgt-lg","sw-txt-sm"],[1,"pfd-spinner-box"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1),ie("click",function(){return t.onFormClose()}),x(2,"mat-icon"),ee(3,"close"),C()(),$(4,swe,2,1,"div",2),x(5,"div",3)(6,"div",4)(7,"mat-icon",5),ee(8,"priority_high"),C()(),x(9,"div",4),me(10,"p",6),C()(),$(11,awe,2,1,"div",7),x(12,"div",8)(13,"span",9),ie("click",function(){return t.onFormClose()}),ee(14),C()()(),$(15,lwe,2,0,"div",10)),2&e&&(_(1),g("ngClass",qe(8,cwe,!t.dom.state.loaded)),_(3),g("ngIf",t.ui.header),_(2),et("height",200,"px"),_(4),g("innerHTML",t.ui.body,yr),_(1),g("ngIf",t.ui.timer),_(3),Je(t.ui.submitText),_(1),g("ngIf",t.dom.state.loader))},dependencies:[wi,Gt,ai,ct,Ts],styles:[".pfd-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;margin-bottom:60px}.pfd-close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px}.pfd-header[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--gap-sm)}.pfd-content[_ngcontent-%COMP%]{position:relative;display:block;width:100%;min-width:350px;min-height:300px;margin-bottom:10px}.pfd-content[_ngcontent-%COMP%]   .pfd-field[_ngcontent-%COMP%]{margin-bottom:10px}.pfd-content[_ngcontent-%COMP%]   .pfd-field-lock[_ngcontent-%COMP%]{pointer-events:none!important}.pfd-timer-container[_ngcontent-%COMP%]{position:absolute;left:30px;right:30px;bottom:40px;display:-webkit-box;display:-ms-flexbox;display:flex}.pfd-buttons[_ngcontent-%COMP%]{position:absolute;left:30px;right:30px;bottom:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.pfd-buttons[_ngcontent-%COMP%]   .pfd-close[_ngcontent-%COMP%]{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-item-align:end;align-self:flex-end;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:10px;color:var(--accent)}.pfd-icon[_ngcontent-%COMP%]{font-size:150px;color:var(--warn);width:150px;height:150px;line-height:150px}.pfd-message-layout[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;min-height:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.pfd-disabled[_ngcontent-%COMP%]{pointer-events:none}.pfd-spinner-box[_ngcontent-%COMP%]{height:150px}"]}),i})(),ia=(()=>{class i extends Qr{constructor(e,t){super(),this._fieldRepo=e,this._dialogRepo=t,this.name="PopEntityActionService",this.srv={dialog:void 0,field:void 0},this.asset={actionRef:void 0,confirmationRef:void 0,successRef:void 0,failureRef:void 0,messageRef:void 0,field:void 0},this._extendServiceContainer()}do(e,t,o){var s=this;return new Promise(function(){var r=q(function*(a){if(ut.info(s.name,"do",{core:e,action:t,extension:o}),s.asset.actionRef||!s._checkArgs(e,t))return a(null);{Ne(t,!0)&&String(t)in e.repo.model.action&&(t=e.repo.model.action[String(t)]);let l=Y(t,["layout"])&&Ne(t.layout,!0)?t.layout:"horizontal";Ne(l,!0)||(l="vertical"),s.asset.actionRef=s.srv.dialog.open(ewe,{disableClose:!1,width:o&&o.width?Vi(o.width)?`${o.width}px`:`${o.width}`:"horizontal"===l?"583px":"448px",data:{core:e,extension:o,actionName:Ne(t,!0)?t:null,action:Y(t,!0)?t:null},panelClass:Y(t,!0)&&t.component?"sw-dialog-2":"sw-dialog-1"}),s.dom.setSubscriber("pop-action-dialog-close",s.asset.actionRef.beforeClosed().subscribe(c=>(c=Ca(c),s.asset.actionRef=null,a(c))))}});return function(a){return r.apply(this,arguments)}}())}confirm(e,t){var o=this;return new Promise(function(){var s=q(function*(r){ut.info(o.name,"confirm",{confirmation:t}),o.asset.confirmationRef=o.srv.dialog.open(KI,{disableClose:!kt(t.disableClose,!1)||t.disableClose,panelClass:"sw-dialog-1",closeOnNavigation:!0,width:t.width??"300px",height:t.height??"200px",data:t}),o.dom.setSubscriber("pop-confirmation-dialog-close",o.asset.confirmationRef.beforeClosed().subscribe(function(){var a=q(function*(l){return o.asset.confirmationRef=null,l&&l.confirmed&&It(t.proceed)?(yield t.proceed(e,{name:"confirmed",type:"component",source:"PopConfirmationDialogComponent",value:!0}),r(!0)):(It(t.decline)&&(yield t.decline(e,{name:"decline",type:"component",source:"PopConfirmationDialogComponent",value:!1})),r(!1))});return function(l){return a.apply(this,arguments)}}()))});return function(r){return s.apply(this,arguments)}}())}success(e){var t=this;return new Promise(function(){var o=q(function*(s){return ut.info(t.name,"success"),t.asset.successRef=t.srv.dialog.open(nwe,{width:e.width??"500px",height:e.height??"400px",panelClass:"sw-dialog-1",closeOnNavigation:!0,disableClose:!0,data:e}),t.dom.setSubscriber("pop-success-dialog-close",t.asset.successRef.beforeClosed().subscribe(q(function*(){return t.asset.confirmationRef=null,It(e.proceed)&&(yield e.proceed({},{name:"success",type:"component",source:"PopSuccessDialogComponent",value:!0})),s(!0)}))),s(null)});return function(s){return o.apply(this,arguments)}}())}failure(e){var t=this;return new Promise(function(){var o=q(function*(s){return ut.info(t.name,"success"),t.asset.failureRef=t.srv.dialog.open(dwe,{width:e.width??"500px",height:e.height??"400px",panelClass:"sw-dialog-1",closeOnNavigation:!0,disableClose:!0,data:e}),t.dom.setSubscriber("pop-success-dialog-close",t.asset.failureRef.beforeClosed().subscribe(q(function*(){return t.asset.confirmationRef=null,It(e.proceed)&&(yield e.proceed({},{name:"success",type:"component",source:"PopFailureDialogComponent",value:!0})),s(!0)}))),s(null)});return function(s){return o.apply(this,arguments)}}())}message(e){var t=this;return new Promise(function(){var o=q(function*(s){return ut.info(t.name,"message"),t.asset.messageRef=t.srv.dialog.open(owe,{width:e.width??"400px",height:e.height??"350px",panelClass:"sw-dialog-1",closeOnNavigation:!0,disableClose:!1,data:e}),t.dom.setSubscriber("pop-message-dialog-close",t.asset.messageRef.beforeClosed().subscribe(q(function*(){return t.asset.confirmationRef=null,It(e.proceed)&&(yield e.proceed({},{name:"message",type:"component",source:"PopMessageDialogComponent",value:!0})),s(!0)}))),s(null)});return function(s){return o.apply(this,arguments)}}())}ngOnDestroy(){super.ngOnDestroy()}_extendServiceContainer(){this.srv.dialog=this._dialogRepo,this.srv.field=this._fieldRepo,delete this._dialogRepo,delete this._fieldRepo}_checkArgs(e,t){return Y(e,["params","access"])&&(Ne(t,!0)||Y(t,["name"]))}}return i.\u0275fac=function(e){return new(e||i)(Le(hr),Le(Fn))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const uwe=["container"];function hwe(i,n){if(1&i){const e=Me();x(0,"div",9)(1,"mat-icon",10),ie("mousedown",function(){return he(e),pe(I().onEditComponentOptions())}),ee(2,"settings"),C()()}}function pwe(i,n){if(1&i){const e=Me();x(0,"div",11)(1,"mat-icon",10),ie("mousedown",function(){return he(e),pe(I().onRefreshComponent())}),ee(2,"refresh"),C()()}}function mwe(i,n){1&i&&(x(0,"div",12),me(1,"lib-main-spinner"),C())}function fwe(i,n){}const gwe=function(i){return{"sw-hidden":i}};let _we=(()=>{class i extends Jo{constructor(e,t,o){var s;super(),s=this,this.el=e,this._domRepo=t,this._tabRepo=o,this.name="PopEntityTabSchemeCustomComponent",this.srv={dialog:Rt.get(Fn),action:Rt.get(ia),tab:void 0},this.asset={dialogRef:void 0},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return s.template.attach("container"),yield s._setInitialConfig(),yield s._setInitialState(),a(!0)});return function(a){return r.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var r=q(function*(a){return Y(s.config,!0)&&(yield s._setInitialProceed(),yield s._renderComponent()),a(!0)});return function(a){return r.apply(this,arguments)}}())}onEditComponentOptions(){var e=this;this.dom.setTimeout("edit-item",q(function*(){if(Lt(e.config,["option","component","type"],null)){const t={name:"widgets",header:e.config.option.header?e.config.option.header:null,component:{type:e.config.option.component.type,inputs:{config:gi(e.config)},width:+e.config.option.component.width?+e.config.option.component.width:500},height:+e.config.option.height?+e.config.option.height:100,disableMenu:!!e.config.option.disableMenu,disableHeader:!!e.config.option.disableHeader,submitText:"SAVE",facade:!0,postUrl:null,blockEntity:!0,responseType:"store"};Y(yield e.srv.action.do(e.core,t,{width:+e.config.option.width>500?e.config.option.width:500}),!0)&&e.dom.setTimeout("reset-component",q(function*(){yield e._renderComponent(),e.log.info("options-reset:complete")}),0)}}))}onRefreshComponent(){var e=this;this.dom.state.loaded=!1,this.dom.state.loader=!0,this.template.clear(),this.dom.setTimeout("refresh-component",q(function*(){yield e._renderComponent()}),500)}onBubbleEvent(e,t,o){return o||(o={source:this.name,type:"field",name:e}),t&&(o={...o,...t}),this.log.event("bubbleEvent",o),this.events.emit(o),!0}_setInitialConfig(){return new Promise(e=>{if(this.id=Y(this.config,["id"])?this.config.id:cl(),Ne(this.internal_name)||(this.internal_name="profile_specialist_1"),!Y(this.config,!0)){const t=gd.getParams(this.internal_name);this.config=new qB({name:t.name?t.name:"Custom Component",internal_name:this.internal_name,component_id:this.componentId,component:gd.getComponent(this.internal_name),option:gd.getOption(this.internal_name),setting:gd.getSetting(this.internal_name),resource:gd.getResource(this.internal_name),param:gd.getParams(this.internal_name)})}if(this.config.internal_name.includes("profile")){const t=this.config.name.split(" ");t.shift(),this.config.name=jt(eo.transform("profile",{type:"entity",arg1:"alias",arg2:"singular"})+" "+t.join(" "))}return e(!0)})}_setInitialState(){return new Promise(e=>{const t=Lt(this.config,["option","component"]);return this.dom.state.hasOptions=!!(this.config.setting.edit&&t&&t.type),this.dom.state.hasRefresh=this.config.setting.refresh,this.dom.state.isEditable=!!this.config.setting.edit,e(!0)})}_setInitialProceed(){return new Promise(e=>e(!0))}_renderComponent(){return new Promise(e=>(this.dom.setTimeout("render-widget",()=>{Y(this.config.component,["type"])&&this.template.render([this.config.component],["core","position","config"]),this.dom.ready()},0),e(!0)))}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Qo))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-tab-scheme-custom"]],viewQuery:function(e,t){if(1&e&&ht(uwe,7,Ri),2&e){let o;Ke(o=Ye())&&(t.container=o.first)}},inputs:{componentId:"componentId",config:"config",section:"section"},features:[Re],decls:11,vars:7,consts:[[1,"etsc-component-container","sw-flex-column"],[1,"etsc-component-header","mat-body",2,"flex-grow","0",3,"ngClass"],[1,"etsc-component-title"],[1,"etsc-component-spacer"],["class","etsc-component-edit",4,"ngIf"],["class","etsc-component-refresh",4,"ngIf"],["class","etsc-component-loader",4,"ngIf"],[1,"etsc-component-content"],["container",""],[1,"etsc-component-edit"],[1,"sw-pointer",3,"mousedown"],[1,"etsc-component-refresh"],[1,"etsc-component-loader"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),ee(3),C(),me(4,"div",3),$(5,hwe,3,0,"div",4),$(6,pwe,3,0,"div",5),C(),$(7,mwe,2,0,"div",6),x(8,"div",7),$(9,fwe,0,0,"ng-template",null,8,is),C()()),2&e&&(_(1),g("ngClass",qe(5,gwe,!(null!=t.config&&t.config.showHeader))),_(2),Je(null==t.config?null:t.config.name),_(2),g("ngIf",t.dom.state.hasOptions),_(1),g("ngIf",t.dom.state.hasRefresh),_(1),g("ngIf",t.dom.state.loader))},dependencies:[Gt,ct,wi,Ts],styles:[".etsc-component-container[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;min-height:1px;margin-bottom:var(--gap-m);max-width:450px}.etsc-component-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;min-height:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box;clear:both;color:var(--foreground-base);padding:0}.etsc-component-title[_ngcontent-%COMP%]{font-size:20px}.etsc-component-delete[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .etsc-component-refresh[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .etsc-component-edit[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;color:var(--foreground-disabled);position:relative;top:-2px;cursor:pointer}.etsc-component-spacer[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.etsc-component-content[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:visible;padding:0}.etsc-component-loader[_ngcontent-%COMP%]{height:150px}"]}),i})();function bwe(i,n){if(1&i&&(x(0,"div",9)(1,"div",10),ee(2),C()()),2&i){const e=I().$implicit;_(2),Je(e.header)}}const vwe=function(i){return{"pop-entity-tab-column-wrap":i}},ywe=function(i,n){return{"pop-entity-tab-content-boundary":i,"pop-entity-tab-content-boundary-header":n}};function xwe(i,n){if(1&i){const e=Me();x(0,"div",5),$(1,bwe,3,1,"div",6),x(2,"div",7)(3,"lib-pop-entity-tab-column",8),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C()()()}if(2&i){const e=n.$implicit,t=I();et("flex-grow",e.flex)("max-width",e.maxWidth,"px")("min-width",e.minWidth,"px"),g("ngClass",qe(14,vwe,t.tab.columnWrap)),_(1),g("ngIf",e.header),_(1),hs("pop-entity-tab-column-content pop-entity-tab-column-",e.id,""),g("ngClass",Ii(16,ywe,!e.header,e.header)),_(1),g("core",t.core)("column",e)}}function Cwe(i,n){1&i&&me(0,"mat-progress-bar",13)}function wwe(i,n){if(1&i&&(x(0,"div",11),$(1,Cwe,1,0,"mat-progress-bar",12),C()),2&i){const e=I();_(1),g("ngIf",e.dom.state.refresh)}}function kwe(i,n){1&i&&me(0,"lib-pop-errors",14),2&i&&g("error",I().dom.error)}const Iwe=function(i,n,e){return{"sw-hidden":i,"pop-entity-tab-container-wrap":n,"pop-entity-tab-refresh":e}},Awe=function(i,n){return{"pop-entity-tab-boundary":i,"pop-entity-compact-boundary":n}};let hy=(()=>{class i extends Yt{constructor(e,t,o,s,r){var a;super(),a=this,this.el=e,this.cdr=t,this.route=o,this._tabRepo=s,this._domRepo=r,this.name="PopEntityTabComponent",this.portal=!1,this.nested=!1,this.srv={dialog:Rt.get(Fn),entity:Rt.get(ql),events:Rt.get(ul),router:Rt.get(Ji),tab:void 0},this.asset={scheme:void 0},this.dom.configure=()=>new Promise(function(){var l=q(function*(c){return a.extension||(a.extension={}),a.route.snapshot.data&&Object.keys(a.route.snapshot.data).length>0&&Object.keys(a.route.snapshot.data).map(A=>{a.extension[A]=a.route.snapshot.data[A]}),c(!0)});return function(c){return l.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var l=q(function*(c){return yield a._setInitialProceed(),c(!0)});return function(c){return l.apply(this,arguments)}}()),this.dom.destroy=()=>new Promise(function(){var l=q(function*(c){return a._callUnloadEvent(),c(!0)});return function(c){return l.apply(this,arguments)}}()),this.dom.unload=()=>new Promise(function(){var l=q(function*(c){return a.srv.tab&&a.srv.tab.showAsLoading(!1),c(!0)});return function(c){return l.apply(this,arguments)}}())}onBubbleEvent(e){if(this.log.event("onBubbleEvent",e),"field_group"===e.type&&"init"===e.name)this.tab.groups[e.id]=e.group,this._callOnEvent(e,{reset:!0});else if("sidebyside"===e.type&&"portal"===e.name){const t=this.srv.entity.getEntityParamsWithPath(String(e.data).split("/")[0],+String(e.data).split("/")[1]);t&&this.onViewEntityPortal(t.internal_name,t.entityId)}else Ln(0,e)?(this.log.event("IsValidFieldPatchEvent",e),("name"===e.config.name||"label"===e.config.name)&&(this.srv.tab.updateName(e.config.control.value),xI(this.core.params.internal_name)),CI(this.core),"function"==typeof this.tab.onEvent&&this._callOnEvent(e)):"context_menu"===e.type?"portal"===e.name&&e.internal_name&&e.id&&setTimeout(()=>{this.onViewEntityPortal(e.internal_name,+e.id)},0):"dom"===e.type&&"refresh"===e.name&&setTimeout(()=>{this.onResetView(+e.position)},0)}onWindowResize(){this.dom.setTimeout("window-resize",()=>{},500)}onViewEntityPortal(e,t){this.tab.view.map(o=>{o.reset.next("scrollTop")}),Wv.view(e,t).then(o=>{o&&(this.dom.refreshing(),this.srv.tab.refreshEntity(this.core.params.entityId,this.dom.repo,{},"PopEntityTabComponent:viewEntityPortal").then(()=>{this.dom.ready()}))})}onResetView(e=null){this.dom.state.loaded&&(null===e?this.tab.view.map(t=>{t.reset.next(!0)}):this.tab.view[e].reset.next(!0),setTimeout(()=>{this.dom.ready()},0))}_setInitialProceed(){var e=this;return new Promise(function(){var t=q(function*(o){return yield e._setCore(),Y(e.core.entity,["id"])||e.srv.router.navigate(["/system/route"],{skipLocationChange:!0}).then(),yield e._setTab(),e.dom.state.compact=e.nested||e.portal,e.dom.overhead=e.tab.wrap?40:10,e.dom.overhead=e.tab.overhead?e.dom.overhead+e.tab.overhead:e.dom.overhead,e.dom.state.compact?(e.dom.overhead+=100,e.dom.height.default=window.innerHeight-350):e.dom.height.default=window.innerHeight-200,e.dom.setHeight(e.dom.height.default,0),e.tab.groups={},yield e._setScheme(),e.dom.handler.core=(s,r)=>e._coreEventHandler(r),e.tab.view=e._buildTabView(),e.tab.syncPositions&&e.srv.tab.registerOutletReset((s=null)=>e.onResetView(s)),e._callOnLoadEvent(),e.dom.setTimeout("determine-layout",()=>{e._determineLayout()},0),o(!0)});return function(o){return t.apply(this,arguments)}}())}_callOnEvent(e,t={}){this.tab&&"function"==typeof this.tab.onEvent&&(e.tab=this.tab,t.reset&&(e.cdr=this.cdr),this.tab.onEvent.bind(this)(this.core,e))}_callOnLoadEvent(){this.tab&&"function"==typeof this.tab.onLoad&&this.tab.onLoad.bind(this)(this.core,this.tab)}_callUnloadEvent(){this.tab&&"function"==typeof this.tab.onUnload&&this.tab.onUnload.bind(this)(this.core,this.tab)}_getHeaderText(e){let t=e.name;if(t===`sch-${e.id}`&&(t=null),Ne(t,!0)){let o=String(tn(t,this.core).replace(/_/g," ")).trim();return o!==t&&(o=jt(o)),o}return null}_getTabText(e){if(Ne(e,!0)){let t=String(tn(e,this.core).replace(/_/g," ")).trim();return t!==e&&(t=jt(t)),t}return null}_coreEventHandler(e){if(this.log.event("_coreEventHandler",e),this.tab.wrap&&"component"===e.type)switch(e.name){case"start-refresh":this.dom.state.refresh=1;break;case"stop-refresh":this.dom.state.refresh=0;break;case"reset-view":this.onResetView()}}_determineLayout(){const e=this.el.nativeElement.getBoundingClientRect();this.dom.width.inner=e.width,this.dom.state.mobile=this.dom.width.inner<=1340,this.tab.view.map(this.dom.state.mobile?t=>{t.maxHeight=null,t.minHeight=null}:t=>{t.minHeight=t.header?this.dom.height.inner-50:this.dom.height.inner,t.maxHeight=t.header?this.dom.height.inner-50:this.dom.height.inner})}_needsPositionReset(e){let t;return!!(this.tab.syncPositions&&e.config&&e.config.metadata&&e.config.metadata.position&&(t=e.config.metadata.position,"patch"===e.name&&["field","sidebyside","permissions"].includes(e.type)&&(!this.tab.syncPositionFields||this.tab.syncPositionFields.includes(e.config.column))&&(!Y(this.tab.syncPositionMap,!0)||t in this.tab.syncPositionMap&&De(this.tab.syncPositionMap[t]))))&&(Y(this.tab.syncPositionMap,!0)?(De(this.tab.syncPositionMap[t])&&this.tab.syncPositionMap[t].map(o=>{this.onResetView(+o)}),!0):(this.onResetView(),!0))}_setCore(){return new Promise(e=>{if(Y(this.core,!0))return e(!0);{const t=this.srv.tab.getCore();if(Y(t,["entity"]))return this.core=t,this.log.info("_setCore: initial"),e(!0);if(this.route.snapshot.data.core)return this.core=Ai(this.route.snapshot.data.core,!0,`${this.name}:: - this.route.snapshot.data.core`)?this.route.snapshot.data.core:{},this.log.info("_setCore: route"),e(!0);const o=this.srv.tab&&this.srv.tab.ui&&this.srv.tab.ui.entityParams?this.srv.tab.ui.entityParams:{};Y(o,!0)?this.srv.entity.getCoreConfig(o.internal_name,+o.entity).then(s=>(this.core=Ai(s,!0,`${this.name}:: - core`)?s:{},this.log.info("_setCore: tab params"),e(!0))):this.srv.entity.getCoreConfig(this.srv.entity.getRouteInternalName(this.route,this.extension),this.route.snapshot.params.entity).then(s=>(this.core=Ai(s,!0,`${this.name}:: - core`)?s:null,this.log.info("_setCore: route internal _name"),e(!0)))}})}_setTab(){return new Promise(e=>{if(Y(this.tab,!0))return e(!0);{const t=this.srv.tab.getTab();return this.tab=Ai(t,!0,`${this.name}:_setTab: - tab`)?t:{},e(!0)}})}_setScheme(){return new Promise(e=>{if(!this.core.params.can_extend||!+this.core.entity.scheme_id||"profile"!==this.core.params.internal_name)return e(null);this.dom.setSubscriber("fetch-scheme",gt.doGet(`schemes/${this.core.entity.scheme_id}`,{extra:"related",cache:1},1,!1).subscribe(t=>(t=wa(t),this.asset.scheme=t,e(t)),()=>e(null)))})}_buildTabView(){const e=[];if(this.tab.scheme)if(Y(this.asset.scheme,["sections"])){const t=this.asset.scheme.sections,o=Object.keys(t),s=o[o.length-1];let r;o.map(a=>{r=t[a],r.position=+a+1,typeof r.flex>"u"&&(r.flex=+s==+a?2:1);let l=+this.dom.height.outer;l=r.header?l-50:l,this.dom.repo.position[a]={height:l},e.push({id:a,position:r.position,reset:new R,components:this._getSchemeSectionAssetComponents(this.core,this.asset.scheme,r),header:this._getHeaderText(r),flex:r.flex,minWidth:+a<3?350:null,maxWidth:+a<2?450:null,maxHeight:l,active:!0})})}else this.log.error("_buildTabView:scheme",this.asset.scheme);else{const t=Ai(this.tab.positions,!0,`${this.name}:configureDom: - this.tab.positions`)?this.tab.positions:{};Object.keys(t).map(o=>{let s=+this.dom.height.outer;s=this.tab.positions[o].header?s-50:s,this.dom.repo.position[o]={height:s},e.push({id:o,position:o,reset:new R,components:this.tab.positions[o].components,extension:this.extension,header:this._getTabText(this.tab.positions[o].header),flex:this.tab.positions[o].flex,maxWidth:this.tab.positions[o].max,minWidth:this.tab.positions[o].min,maxHeight:s,active:!0})})}return e}_getSchemeSectionAssetComponents(e,t,o){const s=[],r=this.dom.repo.ui.fields,a=this._getSectionTableFieldsAssets(o);return o.assets=[...a,...De(o.assets)?o.assets:[]],Y(o.mapping,["sort_order"])&&(o.assets=o.assets.sort(function(l,c){const A=o.mapping.sort_order.indexOf(l.id),D=o.mapping.sort_order.indexOf(c.id);return A<D?-1:A>D?1:0})),o.position<=1&&"profile"===e.params.internal_name&&o.assets.unshift({entity_type:"profile",scheme_id:e.entity.id,asset_id:99,asset_type:"component",asset_name:"Scheme Entity Details",internal_name:"scheme_entity_details"}),o.assets.map(l=>{if(l.asset_type&&kt(l.asset_id))switch(l.asset_type){case"table":default:break;case"field":{const c=r.get(+l.asset_id);this.log.info("field asset",{child:l,field:c}),c&&s.push(t,c);break}case"component":s.push({type:_we,inputs:{core:e,config:void 0,componentId:l.asset_id,internal_name:l.internal_name}})}}),s}_getSectionTableFieldsAssets(e){const t=[];if(this.core){const o=Lt(this.core,"repo.model.field".split("."));Y(o,!0)&&Object.values(o).map(s=>{!s.ancillary&&s.position===e.position&&t.push(new FV({id:0,name:s.model.name,label:s.model.label,asset_type:"table",asset_id:0,asset:s,scheme_id:+e.id,sort_order:s.sort,position:e.position}))})}return e.startIndex=t.length,t.sort((o,s)=>o.sort<s.sort?-1:o.sort>s.sort?1:0)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt),P(kr),P(Qo),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-tab"]],inputs:{tab:"tab",extension:"extension",portal:"portal",nested:"nested"},features:[Re],decls:5,vars:14,consts:[[1,"pop-entity-tab-container",3,"ngClass","resize"],[1,"sw-flex-row-wrap",3,"ngClass"],["class","pop-entity-tab-column",3,"ngClass","flexGrow","maxWidth","minWidth",4,"ngFor","ngForOf"],["class","pop-entity-tab-loader",4,"ngIf"],[3,"error",4,"ngIf"],[1,"pop-entity-tab-column",3,"ngClass"],["class","pop-entity-tab-column-header",4,"ngIf"],[3,"ngClass"],[3,"core","column","events"],[1,"pop-entity-tab-column-header"],[1,"sw-label-container"],[1,"pop-entity-tab-loader"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"],[3,"error"]],template:function(e,t){1&e&&(x(0,"div",0),ie("resize",function(){return t.onWindowResize()},0,Fd),x(1,"div",1),$(2,xwe,4,19,"div",2),C(),$(3,wwe,2,1,"div",3),C(),$(4,kwe,1,1,"lib-pop-errors",4)),2&e&&(et("max-height",t.dom.height.outer,"px"),g("ngClass",fs(7,Iwe,!t.dom.state.loaded,null==t.tab?null:t.tab.wrap,t.dom.state.refresh)),_(1),g("ngClass",Ii(11,Awe,!t.dom.state.compact,t.dom.state.compact)),_(1),g("ngForOf",null==t.tab?null:t.tab.view),_(1),g("ngIf",null==t.tab?null:t.tab.wrap),_(1),g("ngIf",t.dom.error.code))},styles:[".pop-entity-tab-container[_ngcontent-%COMP%]{-webkit-box-sizing:border-box;-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;height:100%;box-sizing:border-box}.pop-entity-tab-boundary[_ngcontent-%COMP%]{position:relative;max-height:calc(100vh - 200px)}.pop-entity-compact-boundary[_ngcontent-%COMP%]{position:relative;max-height:calc(100vh - 350px);overflow:hidden}.pop-entity-tab-no-scroll[_ngcontent-%COMP%]{overflow:hidden!important}.pop-entity-tab-container-wrap[_ngcontent-%COMP%]{padding:30px 15px 15px;-webkit-box-sizing:border-box;box-sizing:border-box}.pop-entity-tab-column-header[_ngcontent-%COMP%]{position:relative;height:50px;clear:both}.pop-entity-tab-column[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;min-height:0px}.pop-entity-tab-column-wrap[_ngcontent-%COMP%]{margin:0 15px}.pop-entity-tab-content-boundary-header[_ngcontent-%COMP%]{position:relative;max-height:calc(100vh - 280px)}.pop-entity-tab-content-boundary[_ngcontent-%COMP%]{position:relative;max-height:calc(100vh - 230px)}.pop-entity-tab-column-content[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;padding-bottom:2px}.pop-entity-tab-loader[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:7px;clear:both;z-index:2;opacity:1!important}.pop-entity-tab-refresh[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}"]}),i})();const Swe=["outlet"],Mwe=function(i){return{"sw-hidden":i}};function Pwe(i,n){if(1&i){const e=Me();x(0,"button",13),ie("click",function(){const s=he(e).$implicit;return pe(I(2).onButtonClick(s))}),ee(1),C()}if(2&i){const e=n.$implicit;g("ngClass",qe(3,Mwe,e.hidden))("disabled",e.disabled),_(1),Mt(" ",e.name," ")}}function Twe(i,n){if(1&i&&(x(0,"div",11),$(1,Pwe,2,5,"button",12),C()),2&i){const e=I();_(1),g("ngForOf",e.config.buttons)}}const Ewe=function(i){return{active:i}};function Dwe(i,n){if(1&i){const e=Me();x(0,"a",14),ie("click",function(){const s=he(e).$implicit;return pe(I().onMenuClick(s))}),ee(1),C()}if(2&i){const e=n.$implicit,t=I();g("ngClass",qe(3,Ewe,(null==t.dom.state.tab?null:t.dom.state.tab.id)===e.id))("active",(null==t.dom.state.tab?null:t.dom.state.tab.id)===e.id),_(1),Mt(" ",e.name," ")}}function Owe(i,n){}let Rwe=(()=>{class i extends Yt{constructor(e,t,o,s){var r;super(),r=this,this.el=e,this._domRepo=t,this._crudRepo=o,this._tabRepo=s,this.name="PopTabMenuComponent",this.srv={crud:void 0,tab:void 0},this.id=2,this.dom.configure=()=>new Promise(function(){var a=q(function*(l){return yield r.dom.setHeightWithParent("cdk-overlay-pane",300,window.innerHeight-250),r.core=Ai(r.core,!0,`${r.name}:configureDom: - this.core`)?r.core:null,r.config=Ai(r.config,!0,`${r.name}:configureDom: - this.core`)?r.config:{},yield Qn.setCoreDomAssets(r.core,r.dom.repo),r.srv.tab.registerOutlet(r.outlet),De(r.config.tabs,!0)&&r.onSetPortal(r.config.tabs[0]),r.dom.setSubscriber("events",r.srv.crud.events.subscribe(c=>{T4(r.core,c)&&Ln(0,c)&&("name"===c.config.name||"label"===c.config.name)&&(r.config.name=c.config.control.value)})),l(!0)});return function(l){return a.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onMenuClick(e){this.onSetPortal(e),this.onBubbleEvent({source:this.name,type:"menu",id:e.id,name:e.name})}onSetPortal(e){if(e&&e.id){this.portal&&this.portal.attachedRef&&this.portal.detach(),this.dom.state.tab=e,Object.keys(this.dom.subscriber).map(o=>{this.dom.subscriber[o]&&this.dom.subscriber[o].unsubscribe()});const t=this.portal.attach(new Vl(hy));t.instance.core=this.core,t.instance.tab=e,t.instance.portal=!0,t.changeDetectorRef.detectChanges(),t.instance.events&&this.dom.setSubscriber("portal",t.instance.events.subscribe(o=>{this.onBubbleEvent(o)}))}}onButtonClick(e){this.onBubbleEvent({source:this.name,type:"button",id:e.id,name:e.name})}onBubbleEvent(e){this.events.emit(e)}ngOnDestroy(){super.ngOnDestroy(),this.portal.detach()}_onCrudEvent(e){this.log.info("_onCrudEvent",e)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(ul),P(Qo))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-portal-menu"]],viewQuery:function(e,t){if(1&e&&(ht(Swe,7),ht(or,7)),2&e){let o;Ke(o=Ye())&&(t.outlet=o.first),Ke(o=Ye())&&(t.portal=o.first)}},inputs:{config:"config"},features:[Ct([Qo,ii]),Re],decls:12,vars:7,consts:[[1,"portal-menu-container"],[1,"portal-menu-header","mat-elevation-z2"],[1,"host-name-button-container"],[1,"host-label-container"],["class","host-button-container",4,"ngIf"],[1,"host-link-container"],["mat-tab-nav-bar",""],["mat-tab-link","",3,"ngClass","active","click",4,"ngFor","ngForOf"],[1,"sw-target-outlet","portal-outlet-container"],["outlet",""],[3,"cdkPortalOutlet"],[1,"host-button-container"],["class","host-button","mat-raised-button","",3,"ngClass","disabled","click",4,"ngFor","ngForOf"],["mat-raised-button","",1,"host-button",3,"ngClass","disabled","click"],["mat-tab-link","",3,"ngClass","active","click"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ee(4),C(),$(5,Twe,2,1,"div",4),C(),x(6,"div",5)(7,"nav",6),$(8,Dwe,2,5,"a",7),C()()(),x(9,"div",8,9),$(11,Owe,0,0,"ng-template",10),C()()),2&e&&(et("height",t.dom.height.outer,"px"),_(4),Je(t.config.name),_(1),g("ngIf",null==t.config.buttons?null:t.config.buttons.length),_(3),g("ngForOf",null==t.config?null:t.config.tabs),_(1),et("height",t.dom.height.inner,"px"))},dependencies:[Gt,ai,ct,or,kn,Sf,Mf],styles:[".portal-menu-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;overflow:hidden}.portal-menu-container[_ngcontent-%COMP%]   .portal-menu-header[_ngcontent-%COMP%]{padding-top:30px;min-height:70px;max-height:70px}.portal-menu-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:auto}.host-header[_ngcontent-%COMP%]{overflow:hidden}.host-back-container[_ngcontent-%COMP%]{display:-ms-inline-flexbox!important;display:-webkit-inline-box!important;display:inline-flex!important;padding:6px 0 0 8px;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer}.host-back-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:22px}.host-name-button-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin:0}.host-label-container[_ngcontent-%COMP%]{padding:0 0 10px 30px;position:relative;min-width:200px;font-size:24px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.host-button-container[_ngcontent-%COMP%]{display:-ms-flexbox!important;display:-webkit-box!important;display:flex!important;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;margin-right:30px}.host-button[_ngcontent-%COMP%]{margin-left:10px;min-width:100px}.host-link-container[_ngcontent-%COMP%]{position:relative;display:block;margin:0;padding:3px 30px 0 25px}.mat-mdc-tab-link.active[_ngcontent-%COMP%]{font-weight:500}.mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{border-bottom:none}.mat-mdc-tab-link[_ngcontent-%COMP%]{height:30px!important;min-width:50px!important;font-weight:400;font-size:16px;color:var(--text);padding:0 5px 16px;margin-right:30px!important}"]}),i})();const Fwe=["container"];function Lwe(i,n){1&i&&(x(0,"div",5),me(1,"lib-main-spinner"),C())}function Nwe(i,n){if(1&i){const e=Me();x(0,"lib-pop-field-item-group",6),ie("close",function(){return he(e),pe(I().onActionModalClose())}),C()}2&i&&g("config",I().ui.actionModal)}function Bwe(i,n){1&i&&me(0,"lib-pop-errors",7),2&i&&g("error",I().dom.error)}let XI=(()=>{class i extends Jo{set syncName(e){this.config&&It(this.config.updateName)&&this.config.updateName(e)}constructor(e,t,o,s,r,a,l){var c;super(),c=this,this.el=e,this.cdr=t,this.route=o,this._domRepo=s,this._tabRepo=r,this.APP_GLOBAL=a,this.dialogRef=l,this.name="PopEntityTabMenuComponent",this.srv={action:Rt.get(ia),dialog:Rt.get(Fn),crud:Rt.get(ul),resource:Rt.get(iy),tab:void 0},this.dom.configure=()=>new Promise(function(){var A=q(function*(D){return yield c.APP_GLOBAL.isVerified(),yield c._setInitialConfig(),D(!0)});return function(D){return A.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var A=q(function*(D){return yield c._setCore(),c.core=Ai(c.core,!0,`${c.name}:configureDom: - this.core`)?c.core:null,c.core.flag.routeCheck&&(c.route.routeConfig.children.map(te=>{const se=wI(te.path);Jv(te.path)&&function cue(i){return Ne(i,!0)&&Y(Mr,["entities"])&&i in Mr.entities}(jt(se))&&(te.path=_d(se))}),c.core.flag.routeCheck=!1),c.log.info("tab-menu config",c.config),c.dom.height.default=window.innerHeight-55,c.dom.setHeight(c.dom.height.default,100),c.log.info(`Determined height:${c.dom.height.inner}`),c.dom.handler.bubble=(te,se)=>c.onBubbleEvent(se),yield c._setTabMenuConfig(),c.config.portal&&c.dom.setHeight(c.dom.height.default-400,100),c.template.attach("container"),c._templateRender(),D(!0)});return function(D){return A.apply(this,arguments)}}()),this.dom.unload=()=>new Promise(function(){var A=q(function*(D){return YB(null),D(!0)});return function(D){return A.apply(this,arguments)}}())}_templateRender(){this.template.render(this.config.portal?[{type:Rwe,inputs:{config:this.config}}]:[{type:PCe,inputs:{config:this.config}}])}ngOnInit(){super.ngOnInit()}registerTabMenuConfig(e){this.config=Ai(e,!0,`${this.name}:registerTabMenuConfig: - config`)?e:{};try{this.cdr.detectChanges()}catch{}this._registerTabMenuConfig()}onBubbleEvent(e){this.log.event("onBubbleEvent",e),Ln(0,e)?("name"===e.config.name||"label"===e.config.name)&&(this.config.name=e.config.control.value):"button"===e.type&&this._handleButtonEvent(e)}onArchiveButtonClicked(e){this.dom.subscriber.entity&&this.dom.subscriber.entity.unsubscribe(),this.dom.subscriber.entityId=this.core.repo.archiveEntity(this.core.params.entityId,e).subscribe(()=>{Qn.bustAllCache(),this.srv.crud.sendEvent({source:this.name,method:"archive",type:"entity",name:this.core.params.name,internal_name:this.core.params.internal_name,id:this.core.params.entityId,data:e}),this.srv.tab.refreshEntity(null,this.dom.repo,{},"PopEntityTabMenuComponent:setArchived").then(()=>xn.clear())},t=>{this.dom.error.code=t.error.code,this.dom.error.message=t.error.message})}onCloneButtonClicked(){var e=this;this.dom.setTimeout("do-action",q(function*(){yield e.srv.action.do(e.core,"clone",e.extension)}),0)}onActionModalClose(){this.ui.actionModal=null}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return Y(e.extension,!0)||(e.extension={}),e.extension.goToUrl||(e.extension.goToUrl=null),e.route.snapshot.data&&Object.keys(e.route.snapshot.data).length>0&&Object.keys(e.route.snapshot.data).map(s=>{e.extension[s]=e.route.snapshot.data[s]}),kt(Zv,!1)||YB(e),e.dom.setSubscriber("events",e.srv.crud.events.subscribe(s=>{Y(e.core,["params"])&&(ut.info(e.name,"Clear cache for entity",e.core.params.internal_name),xI(e.core.params.internal_name),CI(e.core),e.srv.resource.clearCache(e.core.params.internal_name))})),o(!0)});return function(o){return t.apply(this,arguments)}}())}_handleButtonEvent(e){switch(e.id){case"reset":this.srv.tab.refreshEntity(null,this.dom.repo,{},"PopEntityTabMenuComponent:handleMenuEvent:reset").then(()=>!0);break;case"clone":this.onCloneButtonClicked();break;case"close":this.dialogRef&&this.dialogRef.close();break;default:this.events.emit(e)}}_setCore(){var e=this;return new Promise(function(){var t=q(function*(o){return Y(e.core,!0)?o(!0):Y(e.portal,["internal_name","entity_id"])?(e.core=yield Qn.getCoreConfig(e.portal.internal_name,e.portal.entity_id),o(!0)):Y(e.route.snapshot.data.core,!0)?(e.core=e.route.snapshot.data.core,yield Qn.setCoreDomAssets(e.core,e.dom.repo),o(!0)):(e.core=yield Qn.getCoreConfig(Qn.getRouteInternalName(e.route,e.extension),e.route.snapshot.params.id,e.dom.repo),o(!0))});return function(o){return t.apply(this,arguments)}}())}_setTabMenuConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return Y(e.config,!0)?(e._registerTabMenuConfig(),o(!0)):(e.config=I4(e.core,Qn.getEntityTabs(e.core),Y(e.portal)),e.config=Ai(e.config,!0,`${e.name}:configureDom: - this.config`)?e.config:{},e._registerTabMenuConfig(),o(!0))});return function(o){return t.apply(this,arguments)}}())}_registerTabMenuConfig(){if(this.core&&this.config){Y(this.portal,["internal_name"])&&(this.config.portal=!0),this.config.portal||Rt.get(fp).setActive(!1),"object"==typeof this.extension&&Object.keys(this.extension).length>0&&Object.keys(this.extension).map(e=>{e in this.config&&(this.config[e]=this.extension[e]),"extension"==e&&this.extension.extension?.customDetails&&(this.config.customDetails=this.extension.extension.customDetails)}),this.config=this.srv.tab.registerConfig(this.core,this.config,this.dom.repo),this.srv.tab.registerRoute(this.route);try{this.cdr.detectChanges()}catch{}}}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt),P(kr),P(ii),P(Qo),P("APP_GLOBAL"),P(Yo,8))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-tab-menu"]],viewQuery:function(e,t){if(1&e&&ht(Fwe,7,Ri),2&e){let o;Ke(o=Ye())&&(t.container=o.first)}},inputs:{config:"config",extension:"extension",portal:"portal",syncName:"syncName"},features:[Ct([Qo,ii]),Re],decls:6,vars:5,consts:[[1,"entity-tab-menu-container"],["container",""],["class","entity-tab-menu-spinner-box",4,"ngIf"],[3,"config","close",4,"ngIf"],[3,"error",4,"ngIf"],[1,"entity-tab-menu-spinner-box"],[3,"config","close"],[3,"error"]],template:function(e,t){1&e&&(x(0,"div",0),ds(1,null,1),$(3,Lwe,2,0,"div",2),us(),$(4,Nwe,1,1,"lib-pop-field-item-group",3),$(5,Bwe,1,1,"lib-pop-errors",4),C()),2&e&&(et("height",t.dom.height.outer,"px"),_(3),g("ngIf",t.dom.state.loader),_(1),g("ngIf",t.ui.actionModal),_(1),g("ngIf",null==t.dom.error?null:t.dom.error.message))},styles:[".entity-tab-menu-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;color:var(--foreground-base)}.entity-tab-menu-container-margin[_ngcontent-%COMP%]{margin:25px}.entity-tab-menu-loader[_ngcontent-%COMP%]{position:absolute;height:2px;overflow:hidden;top:0;left:0;right:0;width:100%;clear:both}.entity-tab-menu-spinner-box[_ngcontent-%COMP%]{height:90vh}"]}),i})(),qI=(()=>{class i{constructor(e){this.dialogRepo=e,this.name="PopEntityUtilPortalService;",this.state={blockModal:!1}}view(e,t){var o=this;return new Promise(function(){var s=q(function*(r){if(o.state.blockModal)r(!1);else if(o.state.blockModal=!0,e&&t){let a=o.dialogRepo.open(XI,{panelClass:"sw-portal"}),l=a.componentInstance;l.portal={internal_name:e,entity_id:t},l.cdr.detectChanges(),a.afterClosed().subscribe(()=>{o.state.blockModal=!1,l.core.repo.clearAllCache(),a=null,l=null,r(!0)})}else r(!1)});return function(r){return s.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(Le(Fn))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Vwe(i,n){if(1&i&&(x(0,"h2"),ee(1),C()),2&i){const e=I();_(1),Je(e.display)}}function $we(i,n){if(1&i){const e=Me();x(0,"lib-pop-table",5),ie("events",function(o){return he(e),pe(I().eventHandler(o))}),C()}2&i&&g("config",I().table)}let NV=(()=>{class i{constructor(e,t,o,s,r,a){this.entityUtilRepo=t,this.entityPortalRepo=o,this.baseRepo=s,this.dialogRepo=r,this.dialog=a,this.state={blockModal:!1,assignmentChange:!1,changed:!1},this.subscriber={crud:void 0,dialog:void 0},this.display=e.display,this.config=e.config,this.table=e.table,this.resource=e.resource}ngOnInit(){this.display||(this.display=this.getDisplay()),this.subscriber.crud=Rt.get(ul).events.subscribe(e=>this.crudEventHandler(e)),this.subscriber.dialog=this.dialog.beforeClosed().subscribe(e=>{this.dialog.close(this.state.changed)})}getDisplay(){return`${this.config.entity.display_name?this.config.entity.display_name:this.config.entity.name} - (${this.resource.name?this.resource.name:"Resource"} - ${this.resource.entity?this.resource.entity:"Entity"} ) - Provider List`}crudEventHandler(e){if("create"===e.method||"delete"===e.method)this.state.changed=!0;else if("entity"===e.type)"archive"===e.name&&(this.state.changed=!0);else if("field"===e.type&&"patch"===e.name){const t={};t[e.config.column]=e.config.control.value;const o=e.config.metadata,s=this.table.matData.data.filter(function(r){return r.internal_name===o.internal_name&&+r.id==+o.id});Array.isArray(s)&&s.length>0&&s.map(r=>{Object.keys(t).map(a=>{a in r&&(r[a]=t[a],this.state.changed=!0)})})}else if("sidebyside"===e.type&&"patch"===e.name){const t={...e.config.metadata},o=this.table.matData.data.filter(function(s){return s.internal_name===t.internal_name&&+s.id==+t.id});Array.isArray(o)&&o.length>0&&(this.state.changed=!0,this.state.assignmentChange=!0)}}eventHandler(e){"table"===e.type&&"provider"===e.data.link&&this.viewEntityPortal(e.data.row.internal_name,+e.data.row.id)}viewEntityPortal(e,t){this.entityPortalRepo.view(e,t)}onClosePortal(){this.dialog.close(this.state.changed)}ngOnDestroy(){Object.keys(this.subscriber).map(e=>{this.subscriber[e]&&this.subscriber[e].unsubscribe()})}}return i.\u0275fac=function(e){return new(e||i)(P(zs),P(ql),P(qI),P(Ho),P(Fn),P(Yo))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-provider-dialog"]],decls:6,vars:2,consts:[[4,"ngIf"],[3,"config","events",4,"ngIf"],[1,"buttons"],[1,"cancel"],["mat-raised-button","",3,"click"],[3,"config","events"]],template:function(e,t){1&e&&($(0,Vwe,2,1,"h2",0),$(1,$we,1,1,"lib-pop-table",1),x(2,"div",2)(3,"div",3)(4,"button",4),ie("click",function(){return t.onClosePortal()}),ee(5,"Close"),C()()()),2&e&&(g("ngIf",t.display),_(1),g("ngIf",t.table))},styles:["[_nghost-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;min-width:200px;min-height:200px}  mat-dialog-container{position:relative}.buttons[_ngcontent-%COMP%]{margin:10px 0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.buttons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}"]}),i})();function Hwe(i,n){1&i&&(x(0,"div",4),me(1,"mat-progress-bar",5),C())}function zwe(i,n){1&i&&(x(0,"div",8)(1,"div",9)(2,"mat-icon",10),ee(3,"sentiment_dissatisfied"),C()(),x(4,"div",11),ee(5,"Such Empty!"),C()()),2&i&&(_(2),et("margin-left","-24px"),_(2),et("text-align","center"))}function jwe(i,n){if(1&i){const e=Me();x(0,"lib-pop-table",12),ie("events",function(o){return he(e),pe(I(2).onHandleEvent(o))}),C()}2&i&&g("config",I(2).ui.table.config)}function Gwe(i,n){if(1&i&&(x(0,"div"),$(1,zwe,6,4,"div",6),$(2,jwe,1,1,"lib-pop-table",7),C()),2&i){const e=I();_(1),g("ngIf",!e.dom.state.hasData),_(1),g("ngIf",e.dom.state.hasData)}}function Wwe(i,n){1&i&&me(0,"lib-pop-errors",13),2&i&&g("error",I().dom.error)}let BV=(()=>{class i extends Yt{constructor(e,t,o,s){var r;super(),r=this,this.el=e,this.cdr=t,this._domRepo=o,this._tabRepo=s,this.name="PopEntityAssignmentsComponent",this.srv={base:Rt.get(Ho),dialog:Rt.get(Fn),events:Rt.get(ul),entity:Rt.get(ql),tab:void 0},this.asset={entityParamsMap:{},assignedUserMap:void 0},this.dom.configure=()=>new Promise(function(){var a=q(function*(l){return r.core=Ai(r.core,!0,`${r.name}:configureDom: - this.core`)?r.core:null,r.dom.state={...r.dom.state,directBaseline:!1,dataHasDirect:!1,dataHasParent:!1,dataHasProviders:!1,dataHasType:!1,blockModal:!1,loaded:!1,loading:!0,error:{code:0,message:""}},r.ui.table={config:void 0},r.dom.setHeight(xn.getContentHeight(),100),r._buildTableConfig(),r.dom.state.hasData=De(Lt(r.ui.table.config,["matData","data"],[]),!0),l(!0)});return function(l){return a.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onHandleCrudEvent(e){this.dom.subscriber.dialog&&("create"===e.method||"delete"===e.method?this.core&&this.core.params&&(this.core.params.refresh=!0):"update"===e.method&&("entity"===e.type?"archive"===e.name&&this.core&&this.core.params&&(this.core.params.refresh=!0):("field"===e.type||"sidebyside"===e.type)&&"patch"===e.name&&this.core&&this.core.params&&(this.core.params.refresh=!0)))}getKeyInternalName(e){return String(e).replace(/(pt_leader|pt_member|_fk|assigned_)/g,"")}getEntityParams(e){let t;return(e=this.getKeyInternalName(e))in this.asset.entityParamsMap?this.asset.entityParamsMap[e]:(t="user"===e?{app:"admin",internal_name:"user",api:"user"}:this.srv.entity.getEntityParams(e),t||(t=this.srv.entity.getEntityParamsWithPath(e)),this.asset.entityParamsMap[e]=t,Gs(this.asset.entityParamsMap[e]))}getTableData(){this.asset.assignedUserMap={};const e=[];let t,s,o=[];return this.core&&this.core.entity&&Y(this.core.entity.metadata,!0)&&(Ne(this.fieldType,!0)?De(this.core.entity.metadata[this.fieldType],!0)&&(t=this.core.entity.metadata[this.fieldType].map(r=>this.transformRowData(this.fieldType,r)),!1===this.fieldType.includes("user")?e.push(...t):o=t):Object.keys(this.core.entity.metadata).map(r=>{r&&String(r).includes("assigned_")&&this.getEntityParams(r)&&De(this.core.entity.metadata[r],!0)&&(t=this.core.entity.metadata[r].map(a=>this.transformRowData(r,a)),!1===r.includes("user")?e.push(...t):o=t)})),De(o,!0)&&o.map(r=>{r.id in this.asset.assignedUserMap&&(this.asset.assignedUserMap[r.id].direct=!0)}),Y(this.asset.assignedUserMap,!0)&&(t=Object.keys(this.asset.assignedUserMap).map(r=>(s=this.asset.assignedUserMap[r],{id:+r,internal_name:"user",name:s.name,entity:"User",direct:s.direct,providers:s.providers})),e.push(...t)),e.sort(function(r,a){return r.entity>a.entity?1:r.entity<a.entity?-1:r.name>a.name?1:r.name<a.name?-1:void 0}),e.map(r=>{this.dom.state.directBaseline||(this.dom.state.directBaseline=r.direct),r.direct!==this.dom.state.directBaseline&&(this.dom.state.dataHasDirect=!0),r.parent&&(r.parent_name=r.parent.name,this.dom.state.dataHasParent=!0),r.has_providers=De(r.providers,!0)?"Yes":null,r.has_providers&&(this.dom.state.dataHasProviders=!0,r.providers=function Vde(i,n){return i.filter((e,t,o)=>o.map(s=>s[n]).indexOf(e[n])===t)}(r.providers,"uid"),r.has_providers=this.getProvidersName(r.providers),r.providers.map(a=>{a.internal_name&&(a.entityId=jt(Tn(eo.transform(a.internal_name,{type:"entity",arg1:"alias",arg2:"singular"}))).trim()),a.type&&(a.type=jt(Tn(a.type)).trim()),a.direct&&(r.direct=!0)})),r.direct=r.direct?"Yes":"No",r.type&&(this.dom.state.dataHasType=!0,r.type=jt(Tn(r.type)).trim())}),e}assignUsers(e,t){De(e,!0)&&e.map(o=>{+o.id&&o.name&&(this.asset.assignedUserMap[o.id]||(this.asset.assignedUserMap[o.id]={id:o.id,name:o.name,direct:!1,providers:[]}),this.asset.assignedUserMap[o.id].providers.push(t))})}getProvidersName(e){let t=[];return De(e,!0)&&(e.map(o=>{o.internal_name&&t.push(jt(Tn(eo.transform(o.internal_name,{type:"entity",arg1:"alias",arg2:"singular"}))).trim())}),t=vu(t),t.sort()),De(t,!0)?t.join(", "):"Yes"}transformRowData(e,t){const o=this.getEntityParams(e);let a,s=!!t.direct,r=De(t.providers,!0)?t.providers:[];const l=this.getKeyInternalName(e);t.internal_name=l;const c=jt(Tn(eo.transform(l,{type:"entity",arg1:"alias",arg2:"singular"}))).trim();let A=t.type?t.type:"";if(o.internal_name){const D=Object.keys(t).filter(te=>{if(te.includes(this.core.params.internal_name)&&+t[te]==+this.core.params.entityId)return!0});switch(t.internal_name){case"pod_type":De(D,!0)&&(s=!0),De(t.pods)&&t.pods.map(te=>{te.assigned_leaders&&this.assignUsers(te.assigned_leaders,{id:+te.id,name:te.name,entity:c,type:"Leader",internal_name:"pod",uid:`pod_${te.id}_leader`}),te.assigned_members&&this.assignUsers(te.assigned_members,{id:+te.id,name:te.name,entity:c,type:"Member",internal_name:"pod",uid:`pod_${te.id}_member`})});break;case"pod":D.map(te=>{De(D,!0)&&"security_profile"===this.core.params.internal_name&&(A=String(te).includes("leader")?"Leader":"Member",String(te).includes("pt_")?(a={id:t.pod_type_fk,name:t.pod_type,internal_name:"pod_type",type:A,uid:`pod_type_${t.pod_type_fk}_${A}`},r=[a]):s=!0),t.assigned_leaders&&this.assignUsers(t.assigned_leaders,{id:t.id,name:t.name,entity:c,type:"Leader",internal_name:"pod",uid:`pod_${t.id}_leader`}),t.assigned_members&&this.assignUsers(t.assigned_members,{id:t.id,name:t.name,entity:c,type:"Member",internal_name:"pod",uid:`pod_${t.id}_member`})});break;case"role":De(D,!0)&&(s=!0,t.assigned_user&&this.assignUsers(t.assigned_user,{id:+t.id,name:t.name,entity:c,internal_name:"role",uid:`role_${t.id}`}));break;case"user":De(D,!0)&&(s=!0,this.assignUsers([t],{id:+t.id,name:t.name,entity:c,internal_name:"user",type:"User",uid:`user_${t.id}_${A}`}))}}return{id:t.id,internal_name:t.internal_name,name:t.display_name?t.display_name:t.name,parent:t.parent,entity:jt(Tn(eo.transform(l,{type:"entity",arg1:"alias",arg2:"singular"}))).trim(),direct:s,type:A,providers:r,uid:A?`${l}_${t.id}_${A}`:`${l}_${t.id}`}}onHandleEvent(e){if("table"===e.type)switch(e.data.link){case"entity":this.viewEntityPortal(e.data.row.internal_name,+e.data.row.id);break;case"parent":e.data.row&&e.data.row.parent&&this.viewEntityPortal(e.data.row.parent.internal_name,+e.data.row.parent.id);break;case"providers":this.viewRowProviders(e.data.row)}}viewEntityPortal(e,t){this.dom.state.blockModal||(this.dom.state.blockModal=!0,e&&+t&&this.srv.entity.getCoreConfig(e,+t).then(o=>{let s=this._buildTabMenuConfig(o);s.portal=!0;let r=this.srv.dialog.open(XI,{width:window.innerWidth-20+"px",height:window.innerHeight-50+"px",data:o,panelClass:"sw-dialog-1"}),a=r.componentInstance;a.registerTabMenuConfig(s),this.dom.subscriber.dialog=r.beforeClosed().subscribe(()=>{this.dom.state.blockModal=!1,this.srv.tab.refreshEntity(this.core.params.entityId,null,{},"PopEntityAssignmentsComponent:viewEntityPortal").then(()=>{r=null,s=null,a=null})})}))}viewRowProviders(e){if(!this.dom.state.blockModal){this.dom.state.blockModal=!0;const t=new yd({search:!1,searchColumns:!1,headerSticky:!0,columnDefinitions:{name:{visible:!0,helper:{text:"Jump To: <name>",position:"right"},link:"provider",order:0},entity:{visible:!0,order:1},type:{visible:!0,order:2},id:{visible:!0,order:100}},data:e.providers}),o=this.srv.dialog.open(NV,{data:{table:t,config:this.core,resource:e}});this.dom.setSubscriber("pop-table-dialog-close",o.beforeClosed().subscribe(()=>{this.dom.state.blockModal=!1,this.srv.tab.refreshEntity(null,this.dom.repo,{},"PopEntityAssignmentsComponent:viewRowProviders").then(()=>!0)}))}}ngOnDestroy(){super.ngOnDestroy()}_buildTabMenuConfig(e){return I4(e,this.srv.entity.getEntityTabs(e))}_buildTableConfig(){let e;const t=this.srv.dialog.openDialogs.length>3;this.core&&this.core.params&&(this.core.params.refresh=!1),this.fieldType&&!1===String(this.fieldType).includes("assigned_")&&(this.fieldType=`assigned_${this.fieldType}`);const o=this.getTableData();this.fieldType&&this.dom.state.dataHasParent&&(e=jt(Tn(eo.transform(o[0].parent.internal_name,{type:"entity",arg1:"alias",arg2:"singular"}))).trim()),this.ui.table.config=new yd({height:this.dom.height.outer,paginator:!1,search:o.length>=10,searchColumns:!1,columnDefinitions:{name:{visible:!0,helper:t?null:{text:"Jump To: <name>",position:"right"},link:!t&&"entity",order:0},entity:{visible:!this.fieldType,order:1},direct:{visible:!!this.dom.state.dataHasDirect,order:2},type:{visible:!!this.dom.state.dataHasType,order:3},parent_name:{visible:!!(this.fieldType&&this.dom.state.dataHasParent&&e),display:e,link:"parent",order:4},has_providers:{display:"Provider",visible:!!this.dom.state.dataHasProviders,link:"providers",order:5}},data:o}),this.dom.state.loading=!1,this.dom.state.loaded=!0;try{this.cdr.detectChanges()}catch{}}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt),P(ii),P(Qo))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-assignments"]],inputs:{fieldType:"fieldType",header:"header"},features:[Re],decls:4,vars:3,consts:[[1,"entity-assignment-container"],["class","entity-assignment-loader-bar",4,"ngIf"],[4,"ngIf"],[3,"error",4,"ngIf"],[1,"entity-assignment-loader-bar"],["mode","indeterminate"],["class","host-empty-container",4,"ngIf"],[3,"config","events",4,"ngIf"],[1,"host-empty-container"],[1,"host-row"],[1,"sw-helper-icon"],[1,"sw-label-container"],[3,"config","events"],[3,"error"]],template:function(e,t){1&e&&(x(0,"div",0),$(1,Hwe,2,0,"div",1),$(2,Gwe,3,2,"div",2),C(),$(3,Wwe,1,1,"lib-pop-errors",3)),2&e&&(_(1),g("ngIf",t.dom.state.loading),_(1),g("ngIf",t.ui.table&&t.ui.table.config),_(1),g("ngIf",t.dom.error.code))},styles:[".entity-assignment-container[_ngcontent-%COMP%]{border:1px solid var(--border)}.host-empty-container[_ngcontent-%COMP%]{min-height:200px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.host-row[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:30px;text-align:center}[_nghost-%COMP%]     th,   td{min-width:50px;max-width:100px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;height:48px;max-height:48px}.entity-assignment-loader-bar[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0}[_nghost-%COMP%]     th>.mat-sort-header-container{display:-webkit-box;display:-ms-flexbox;display:flex}"]}),i})();function Uwe(i,n){1&i&&(x(0,"div",9)(1,"div",10),ee(2,"Assign field value and attributes for this field."),C()())}function Zwe(i,n){if(1&i&&me(0,"lib-field-builder-items",11),2&i){const e=I();g("core",e.core)("scheme",e.scheme)("field",e.field)}}function Kwe(i,n){if(1&i&&me(0,"lib-field-builder-items-params",12),2&i){const e=I();g("core",e.core)("scheme",e.scheme)}}const Ywe=function(i){return{"sw-hidden":i}};let JI=(()=>{class i extends Yt{constructor(e,t,o){var s;super(),s=this,this.el=e,this._domRepo=t,this._fieldRepo=o,this.name="PopEntityFieldSettingsComponent",this.srv={field:void 0},this.asset={schemeFieldSetting:{}},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return yield s._setResources(),yield s._setInitialConfig(),a(!0)});return function(a){return r.apply(this,arguments)}}())}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.core=Ai(e.core,!0,`${e.name}:configure: - this.core`)?e.core:null,e.field||(e.field=e.core.entity),Lt(e.dom,["repo","position",String(e.position),"height"],!1)&&(e.dom.overhead=60,e.dom.height.outer=+e.dom.repo.position[e.position].height,e.dom.setHeight(e.dom.repo.asset[e.dom.height.outer],e.dom.overhead)),Y(e.scheme),e.dom.state.hasScheme=!!Y(e.scheme,!0),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setResources(){return new Promise(function(){var e=q(function*(t){return t(!0)});return function(t){return e.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Tr))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-field-settings"]],inputs:{field:"field",scheme:"scheme"},features:[Re],decls:10,vars:8,consts:[["class","entity-field-editor-header",4,"ngIf"],[1,"pop-entity-field-editor-settings-container"],[1,"sw-flex-row",3,"ngClass"],["entries",""],[1,"pop-entity-field-divider"],[1,"sw-flex-row"],[1,"sw-flex-item-md","sw-flex-grow-md","pop-entity-field-editor-settings-section"],[3,"core","scheme","field",4,"ngIf"],[3,"core","scheme",4,"ngIf"],[1,"entity-field-editor-header"],[1,"pop-entity-field-editor-header-section"],[3,"core","scheme","field"],[3,"core","scheme"]],template:function(e,t){1&e&&($(0,Uwe,3,0,"div",0),x(1,"div",1),me(2,"div",2,3)(4,"div",4),x(5,"div",5)(6,"div",6),$(7,Zwe,1,3,"lib-field-builder-items",7),C(),x(8,"div",6),$(9,Kwe,1,2,"lib-field-builder-items-params",8),C()()()),2&e&&(g("ngIf",!t.dom.state.hasScheme),_(2),g("ngClass",qe(6,Ywe,!(null!=t.field&&t.field.uses_multiple_values))),_(3),et("max-height",t.dom.height.outer,"px"),_(2),g("ngIf",t.dom.state.loaded),_(2),g("ngIf",t.dom.state.loaded))},styles:["[_nghost-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;-ms-flex-positive:1;flex-grow:1}.pop-entity-field-editor-settings-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;background:var(--bg-3);margin:var(--gap-sm) 0}.pop-entity-field-editor-settings-section[_ngcontent-%COMP%]{min-height:700px}.pop-entity-field-divider[_ngcontent-%COMP%]{height:15px;border-left:1px solid var(--border);border-top:1px solid var(--border);border-right:1px solid var(--border)}"]}),i})();const Xwe=["container"];function qwe(i,n){1&i&&(x(0,"div",13),me(1,"lib-main-spinner"),C())}function Jwe(i,n){1&i&&me(0,"lib-pop-input",14),2&i&&g("config",I().ui.name)}function Qwe(i,n){if(1&i&&me(0,"lib-pop-switch",15),2&i){const e=I();g("core",e.ui.showNameCore)("config",e.ui.showName)}}function e1e(i,n){if(1&i&&me(0,"lib-pop-switch",15),2&i){const e=I();g("core",e.ui.showNameCore)("config",e.ui.makePrimary)}}function t1e(i,n){if(1&i&&me(0,"lib-pop-switch",15),2&i){const e=I();g("core",e.ui.profileRequired)("config",e.ui.profileRequired)}}function i1e(i,n){}function n1e(i,n){if(1&i){const e=Me();x(0,"div",16)(1,"button",17),ie("click",function(){return he(e),pe(I().onFormClose())}),ee(2,"Close"),C()()}if(2&i){const e=I();_(1),g("disabled",e.dom.state.pending)}}const o1e=function(i){return{"sw-hidden":i}};let QI=(()=>{class i extends Jo{onEscapeHandler(e){this.onFormClose()}constructor(e,t,o,s,r){var a;super(),a=this,this.el=e,this.dialog=t,this._domRepo=o,this._fieldRepo=s,this._utilFieldRepo=r,this.config={},this.name="PopEntitySchemeFieldSettingComponent",this.srv={field:void 0,utilField:void 0},this.asset={currentPrimary:void 0,fieldCore:void 0,field:void 0,scheme:void 0,settings:void 0},this.ui={name:void 0,makePrimary:void 0,showName:void 0,showNameCore:void 0,profileRequired:void 0},this.dom.configure=()=>new Promise(function(){var l=q(function*(c){return yield a._setInitialConfig(),a.template.attach("container"),a._templateRender(),c(!0)});return function(c){return l.apply(this,arguments)}}())}onFormClose(){Y(this.dialog)&&this.dialog.close(this.core.entity)}onOutsideCLick(){window.console.log("onOutsideCLick")}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){e.asset.fieldCore=yield Qn.getCoreConfig("field",e.config.asset_id),e.asset.scheme=e.core.entity;const s=yield en(gt.doGet(`schemes/${e.asset.scheme.id}/fields/${e.config.asset_id}`,{},1,!1),e.dom,"fetch-scheme-field");if(e.asset.field=s[0],e.dom.state.isMultipleValues=1==+e.asset.field.uses_multiple_values,yield e.srv.field.register(e.asset.fieldCore,e.dom.repo,e.asset.scheme),e.ui.showName=Lt(e.dom.repo,"ui.customSetting.show_name.inputs.config".split("."),null),e.ui.showNameCore=Lt(e.dom.repo,"ui.customSetting.show_name.inputs.core".split("."),null),e.srv.utilField.clearCustomFieldCache(+e.core.entity.id),e.ui.name=new li({name:"label",label:"Name",value:e.config.asset.name,readonly:!0,facade:!0,patch:{field:"name",path:""}}),e.asset.settings=yI(e.asset.field),e.asset.settings&&"make_primary"in e.asset.settings){const a=e.asset.scheme.config.primary,l=e.asset.field.cf_type_name,c=e.asset.field.is_primary;e.asset.currentPrimary=Vi(a[l])?+a[l]:null,Y(a)&&Ne(l,!0)&&(e.ui.makePrimary=new uo({label:`Assigned As Primary ${jt(e.asset.field.cf_type_name)}`,value:c,disabled:c,facade:!1,patch:{field:"is_unique",path:`schemes/${e.asset.scheme.id}/fields/${e.asset.field.id}`,after:(A=q(function*(D,te){e.dom.setTimeout("update-primary",q(function*(){a[l]=te.config.control.value?+e.asset.field.id:e.asset.currentPrimary,e._templateRender()}))}),function(te,se){return A.apply(this,arguments)})}}))}var A;const r=e.asset.field.is_required;return e.ui.profileRequired=new uo({label:`Required To Save ${eo.transform("profile",{type:"entity",arg1:"alias",arg2:"singular"})}`,value:r,patch:{field:"is_required",path:`schemes/${e.asset.scheme.id}/fields/${e.asset.field.id}`,after:(a,l)=>{e.asset.field.is_required=!!l.config.control.value}}}),o(!0)});return function(o){return t.apply(this,arguments)}}())}_templateRender(){this.template.render([{type:JI,inputs:{core:this.asset.fieldCore,field:this.asset.field,scheme:this.asset.scheme}}],[],!0)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Yo),P(ii),P(Tr),P(hr))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-scheme-field-setting"]],viewQuery:function(e,t){if(1&e&&ht(Xwe,7,Ri),2&e){let o;Ke(o=Ye())&&(t.container=o.first)}},hostBindings:function(e,t){1&e&&ie("keydown.escape",function(s){return t.onEscapeHandler(s)},0,xr)},inputs:{config:"config"},features:[Ct([Tr,ii]),Re],decls:22,vars:13,consts:[["class","entity-scheme-field-loader",4,"ngIf"],[1,"sw-flex-column","sw-flex-item-full",3,"ngClass"],[1,"sw-flex-row","sw-flex-end-center"],[1,"sw-pointer",3,"click"],[1,"sw-flex-row"],[1,"sw-flex-column-md"],[3,"config",4,"ngIf"],[1,"sw-flex-column-md","sw-flex-end-center"],[1,"entity-scheme-field-setting-container","sw-flex-column",3,"libClickOutside"],[3,"core","config",4,"ngIf"],[1,"sw-flex-row","sw-flex-item-full"],["container",""],["class","entity-scheme-dialog-buttons",4,"ngIf"],[1,"entity-scheme-field-loader"],[3,"config"],[3,"core","config"],[1,"entity-scheme-dialog-buttons"],["mat-raised-button","",1,"entity-scheme-dialog-cancel",3,"disabled","click"]],template:function(e,t){1&e&&($(0,qwe,2,0,"div",0),x(1,"div",1)(2,"div",2)(3,"div",3),ie("click",function(){return t.onFormClose()}),x(4,"mat-icon"),ee(5,"close"),C()()(),x(6,"div",4)(7,"div",5),$(8,Jwe,1,1,"lib-pop-input",6),C(),me(9,"div",7),C(),x(10,"div",8),ie("libClickOutside",function(){return t.onOutsideCLick()}),x(11,"div",4)(12,"div",5),$(13,Qwe,1,2,"lib-pop-switch",9),$(14,e1e,1,2,"lib-pop-switch",9),$(15,t1e,1,2,"lib-pop-switch",9),C(),me(16,"div",5),C(),me(17,"mat-divider"),x(18,"div",10),$(19,i1e,0,0,"ng-template",null,11,is),C()(),$(21,n1e,3,1,"div",12),C()),2&e&&(g("ngIf",t.dom.state.loader),_(1),g("ngClass",qe(11,o1e,!t.dom.state.loaded)),_(7),g("ngIf",t.ui.name),_(5),g("ngIf",!t.dom.state.isMultipleValues&&t.ui.showName),_(1),g("ngIf",t.ui.makePrimary),_(1),g("ngIf",t.ui.profileRequired),_(2),et("width",100,"%")("margin-top",5,"px"),_(4),g("ngIf",t.dom.state.loaded))},styles:[".entity-scheme-field-setting-container[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:650px;border:1px solid var(--border);padding:0 var(--gap-m);margin-top:var(--gap-m);-webkit-box-sizing:border-box;box-sizing:border-box}.entity-scheme-field-loader[_ngcontent-%COMP%]{height:800px}.entity-scheme-close-btn[_ngcontent-%COMP%]{position:absolute;top:-20px;right:-20px}.entity-scheme-dialog-buttons[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.entity-scheme-dialog-buttons[_ngcontent-%COMP%]   .entity-scheme-dialog-close[_ngcontent-%COMP%]{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-height:35px;min-width:120px}"]}),i})(),wu=(()=>{class i extends Qr{_setServiceContainer(){this.srv={action:Rt.get(ia),dialog:Rt.get(Fn),tab:this.tabRepo},delete this.tabRepo}constructor(e){super(),this.tabRepo=e,this.name="PopEntitySchemeService",this.ui={refresh:new R,attachedMap:{},assetPool:{},assignableConfigs:{},primary:{},primaryIds:[],sections_keys:[],sections:void 0},this.asset={attachingSet:{},assetMap:{field:new Map,component:new Map},core:void 0,tab:void 0},this._setServiceContainer(),ut.init(this.name,`created:${this.id}`)}init(e,t){var o=this;return new Promise(function(){var s=q(function*(r){o.asset.core=Ai(e,!0,`${o.name}:core`)?e:null,o.asset.tab=Ai(t,!0,`${o.name}:init: - tab`)?t:{},o.ui.sections_keys=[],Y(e.entity.mapping)||(e.entity.mapping={}),Y(e.entity.mapping.field)||(e.entity.mapping.field={}),Y(e.entity.mapping.primary)||(e.entity.mapping.primary={}),e.entity.mapping.required=De(e.entity.mapping.required)?vu(e.entity.mapping.required):[],o.ui.primary=Lt(e,["entity","mapping","primary"],{}),o.ui.primaryIds=Object.values(o.ui.primary).map(se=>+se).sort();const a=bu(Lt(o.asset.core,"resource.custom_fields.data_values".split("."),[]),"id");Object.keys(a).map(se=>{a[se].primary=o.ui.primaryIds.includes(+se)});const l=bu(Lt(o.asset.core,"resource.custom_components.data_values".split("."),[]),"id");Object.keys(l).map(se=>{l[se].primary=!1}),o.ui.assetPool={field:a,component:l},ut.init(o.name,"ui.assetPool",o.ui.assetPool),Object.keys(o.ui.assetPool).map(se=>{o._ensureAssetTypeContainers(se),Object.keys(o.ui.assetPool[se]).map(le=>{o.asset.assetMap[se].set(+le,Ui(o.ui.assetPool[se][le])),o.ui.assetPool[se][le].compact=typeof o.ui.assetPool[se][le].compact<"u"?+o.ui.assetPool[se][le].compact:1})});const c=[{id:0,name:"",business_id:zt.id,scheme_id:+e.entity.id,sort_order:0,container:!0,children:[],mapping:{},modified:!0},{id:0,name:"",business_id:zt.id,scheme_id:+e.entity.id,sort_order:1,container:!0,children:[],mapping:{},modified:!0},{id:0,name:"",business_id:zt.id,scheme_id:+e.entity.id,sort_order:2,container:!0,children:[],mapping:{},modified:!0}];o.ui.sections=Kl(e.entity.sections,!1,"Entity did not contain children")?e.entity.sections.slice(0,3):[],De(o.ui.sections,!0)||(o.ui.sections=c);const A=4-o.ui.sections.length;if(o.ui.sections.map((se,le)=>{(se=o._transformSection(se,le)).predicate=ke=>ke.data.compact,o.ui.sections_keys.push(se.position)}),o.ui.sections&&o.ui.sections.length>1){const se=o.ui.sections[o.ui.sections.length-1];se.predicate=le=>!0,A&&(se.flex+=A)}Object.keys(o.ui.assetPool).map(se=>{let le;Object.keys(o.ui.assetPool[se]).map(ke=>{le=o.ui.attachedMap[se].has(+ke),o.ui.assignableConfigs[se][ke]=new qr({bubble:!0,value:le,disabled:le})})});const D=[];o.ui.sections.map(se=>{D.push(o._resolveSectionId(se).then(le=>{se.id=le}))}),yield Ar(D);let te=gi(o.ui.primaryIds);return o.ui.sections.sort(ko("sort_order")),te=o._checkForTraits(e,o.ui.sections,te),De(o.ui.sections,!0)&&te.length&&(te.map(se=>{o.onAssetAttaching("field",+se,!0)}),o.ui.sections[0].children=yield o.onAttachingAssetsToPosition(o.ui.sections[0])),r(!0)});return function(r){return s.apply(this,arguments)}}())}onRemoveChildFromLayout(e,t){var o=this;return new Promise(function(){var s=q(function*(r){const a=e-1;if(!o.asset.core.entity.children[a])return r(!0);{const l=o.ui.sections[a];if(t&&"number"==typeof t.sort_order)return o.srv.tab.showAsLoading(!0),yield o._removeSection(t),l.children=l.children.filter(c=>c.id!==t.id),l.mapping.sort_order=[],l.children.map((c,A)=>{c.id&&l.mapping.sort_order.push(c.id),c.sort_order=A}),o._setChildAsAttachable(t),o.srv.tab.showAsLoading(!1),r(!0)}});return function(r){return s.apply(this,arguments)}}())}onAssetSortDrop(e){let t,o;e.previousContainer===e.container?(t=this._getEventContainerData(e.container),+e.currentIndex<+t.startIndex&&(e.currentIndex=+t.startIndex),Pc(e.container.data,e.previousIndex,e.currentIndex),this._storePositionSortOrder(this._getSectionByPosition(t.position))):(t=this._getEventContainerData(e.container),o=this._getEventContainerData(e.previousContainer),+e.currentIndex<+t.startIndex&&(e.currentIndex=+t.startIndex),function Gae(i,n,e,t){const o=Ef(e,i.length-1),s=Ef(t,n.length);i.length&&n.splice(s,0,i.splice(o,1)[0])}(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this._storePositionSortOrder(this._getSectionByPosition(o.position)),this._storePositionSortOrder(this._getSectionByPosition(t.position)));const s=e.item.data;let r=e.container.data.find(a=>+a.id==+s.id);Y(r,["id"])&&+t.id!=+r.scheme_id&&(r.scheme_id=+t.id,gt.doPatch(`schemes/${r.id}`,{scheme_id:+t.id},1,!1).subscribe(()=>!0))}onAssetAttaching(e,t,o){this.asset.attachingSet[e]&&(o?this.asset.attachingSet[e].add(+t):this.asset.attachingSet[e].delete(+t))}onAttachingAssetsToPosition(e){var t=this;return new Promise(function(){var o=q(function*(s){if(e.id=yield t._resolveSectionId(e),!e.id)return s(null);{const r=t._getAssetsToAttach();let a,l,c=[];const A=[];Y(r,!0)&&Object.keys(r).map(D=>{Object.keys(r[D]).map(te=>{l=t.asset.assetMap[D].get(+te),a={id:null,name:l.name,scheme_id:+e.id,asset_type:D,asset_id:+te,asset:l,compact:"component"===D?l.compact?1:0:1,position:e.position},t._setChildAsAttached(a),c.push(a),A.push(t._resolveSectionId(a).then(se=>{a.id=se}))})}),Ar(A).subscribe(()=>{const D=De(e.assets,!0)?e.assets:[];return e.mapping.sort_order=[],c=[...D,...c],c.map((te,se)=>{te.id&&e.mapping.sort_order.push(te.id),te.sort_order=se}),t._resetAssetAttachingData(),s(c)})}});return function(s){return o.apply(this,arguments)}}())}onUpdate(e){var t=this;return new Promise(function(){var o=q(function*(s){return De(e,!0)?(yield t._update(e,!0),s(!0)):s(!1)});return function(s){return o.apply(this,arguments)}}())}onTriggerUpdate(e=500){this.dom.setTimeout("update-api",()=>{},e)}onEditAsset(e){var t=this;return new Promise(function(){var o=q(function*(s){if(t.dom.state.blockModal)return t.dom.state.blockModal=!1,s(!1);{t.dom.state.blockModal=!0;let r=null;if("field"===e.asset_type&&(r=QI),!r)return t.dom.state.blockModal=!1,s(!1);{const a=t.srv.dialog.open(QI,{width:"900px",height:"1080px",panelClass:"sw-mar-sm",disableClose:!0});let l=a.componentInstance;l.core=t.asset.core,l.config=e,t.dom.setSubscriber("asset-modal",a.beforeClosed().subscribe(c=>(c&&t.init(t.asset.core,t.asset.tab),l=null,t.dom.state.blockModal=!1,s(!0))))}}});return function(s){return o.apply(this,arguments)}}())}getFieldMapping(e){return cp(this.asset.core.entity.mapping.field,[`field_${e}`])}ngOnDestroy(){ut.warn(this.name,`destroyed:${this.id}`),super.ngOnDestroy()}_getSectionByPosition(e){let t={};if(+e){const o=e-1;o in this.ui.sections&&(t=this.ui.sections[o])}return t}_storePositionSortOrder(e){Y(e,["id","children"])&&(e.mapping.sort_order=[],De(e.assets))&&(e.assets.map((o,s)=>{o.id&&e.mapping.sort_order.push(o.id),o.sort_order=s}),gt.doPatch(`schemes/${e.id}`,{mapping:{sort_order:e.mapping.sort_order}},1,!1).subscribe(()=>!0))}_getEventContainerData(e){const t=Gs(Lt(e,"element.nativeElement.dataset".split("."),{}));return Y(t,!0)&&Object.keys(t).map(o=>{t[o]=tn(t[o])}),t}_resolveSectionId(e){var t=this;return new Promise(function(){var o=q(function*(s){if(!Y(e,!0))return s(0);if(+e.id)return s(+e.id);{const r=t._extractSectionData(e);t.dom.setSubscriber(cl(),gt.doPost("schemes",r,1,!1).subscribe(a=>(a.data&&(a=a.data),s(+a.id)),()=>s(0)))}});return function(s){return o.apply(this,arguments)}}())}_removeSection(e){var t=this;return new Promise(function(){var o=q(function*(s){if(!Y(e,["id"]))return s(!0);t.dom.setSubscriber(cl(),gt.doDelete(`schemes/${e.id}`,{},1,!1).subscribe(r=>(r.data&&(r=r.data),s(!0)),()=>s(!1)))});return function(s){return o.apply(this,arguments)}}())}_update(e,t=!0){var o=this;return new Promise(function(){var s=q(function*(r){if(!o.asset.core)return r(!0);{const a=o._extractModifiedSections(e,[]);if(t&&De(a,!0)){const l=[];return a.map(c=>{l.push(+c.id?gt.doPatch(`schemes/${c.id}`,c,1,!1):gt.doPost("schemes",c,1,!1))}),yield Ar(l),r(!0)}}});return function(r){return s.apply(this,arguments)}}())}_extractModifiedSections(e,t=[]){return De(e,!0)&&e.map((o,s)=>{o.sort_order=s,o.modified&&(t.push(this._extractSectionData(o)),o.modified=!1),De(o.assets,!0)&&o.assets.map((r,a)=>{r.sort_order=a,r.modified&&(t.push(this._extractSectionData(r)),r.modified=!1),De(r.assets,!0)&&(t=this._extractModifiedSections(r.assets,t))})}),t}_extractSectionData(e){return Ui({id:e.id,entity_id:111,name:e.name?e.name:null,asset_type:e.asset_type?e.asset_type:null,asset_id:e.asset_type?e.asset_id:null,scheme_id:e.scheme_id?e.scheme_id:null,mapping:Y(e.mapping)?e.mapping:{children:{}},sort_order:kt(e.sort_order)?e.sort_order:99})}_getAssetsToAttach(){const e={};return Object.keys(this.asset.attachingSet).map(t=>{this.asset.attachingSet[t].forEach(o=>{e[t]||(e[t]={});const s=this.asset.assetMap[t].get(o);e[t][o]="component"===t?{compact:s.compact?1:0}:{compact:1}})}),e}_getSectionTableFieldsAssets(e){const t=[];if(this.asset.core){const o=Lt(this.asset.core,"repo.model.field".split("."));Y(o,!0)&&Object.values(o).map(s=>{!s.ancillary&&s.position===e.position&&t.push(new FV({id:0,name:s.model.label,asset_type:"table",asset_id:0,asset:s,scheme_id:+e.id,sort_order:s.sort,position:e.position}))})}return e.startIndex=t.length,t.sort((o,s)=>o.sort<s.sort?-1:o.sort>s.sort?1:0)}_transformSection(e,t){return(e=Ui(e,{blacklist:["flattened"]})).container=!0,e.position=t+1,e.flex=1,e.sort_order=t,Y(e.mapping)||(e.mapping={}),De(e.mapping.sort_order)||(e.mapping.sort_order=[]),De(e.assets)||(e.assets=[]),e.assets=e.assets.filter(o=>(String(String(o.asset_type).toLowerCase()).includes("field")?o.asset_type="field":String(String(o.asset_type).toLowerCase()).includes("component")?o.asset_type="component":String(String(o.asset_type).toLowerCase()).includes("widget")&&(o.asset_type="widget"),o.asset_type&&"table"!=o.asset_type?!+o.asset_id||this.asset.assetMap[o.asset_type].has(o.asset_id):"table"!=o.asset_type)),e.assets.map(o=>{(o=this._transformChild(o)).sort_order=e.mapping.sort_order.includes(o.id)?+e.mapping.sort_order.indexOf(o.id):99,Y(o.asset,!0)&&(Ne(o.asset_type,!0)?(o.compact=!(!Y(o.asset,["compact"])||!kt(o.asset.compact))&&o.asset.compact,this._ensureAssetTypeContainers(o.asset_type),this.ui.attachedMap[o.asset_type].set(+o.asset_id,e.position)):this._transformSection(o,t))}),e.assets.sort(ko("sort_order")),e}_transformChild(e){return Y((e=Ui(e)).mapping)||(e.mapping={}),kt(e.asset_id)&&+e.asset_id?(delete e.assets,String(String(e.asset_type).toLowerCase()).includes("field")&&(e.asset_type="field"),"field"===e.asset_type&&this.asset.assetMap.field.has(e.asset_id)?(e.asset=this.asset.assetMap.field.get(e.asset_id),e.name=e.asset.name,e.compact=!0):"component"===e.asset_type&&this.asset.assetMap.component.has(e.asset_id)&&(e.asset_type="component",e.asset=this.asset.assetMap.component.get(e.asset_id),e.name=e.asset.name),e.container=!1):e.container=!0,e}_ensureAssetTypeContainers(e){this.asset.attachingSet[e]||(this.asset.attachingSet[e]=new Set),this.asset.assetMap[e]||(this.asset.assetMap[e]=new Map),this.ui.attachedMap[e]||(this.ui.attachedMap[e]=new Map),this.ui.assignableConfigs[e]||(this.ui.assignableConfigs[e]={})}_resetAssetAttachingData(){Object.keys(this.asset.attachingSet).map(e=>{this.asset.attachingSet[e].clear()})}_refreshEntity(e=null){this.asset.core.channel.emit({source:this.name,target:"PopEntityTabComponent",type:"component",name:"start-refresh"}),this.srv.tab.refreshEntity(null,e,{},`${this.name}:viewEntityPortal`).then(t=>{this.init(this.asset.core,this.asset.tab),this.dom.state.blockModal=!1,this.asset.core.channel.emit({source:this.name,target:"PopEntityTabComponent",type:"component",name:"stop-refresh"})})}_setChildAsAttachable(e){e.container||(this.ui.attachedMap[e.asset_type].delete(e.asset_id),this.ui.assignableConfigs[e.asset_type][e.asset_id].control.setValue(0),this.ui.assignableConfigs[e.asset_type][e.asset_id].control.enable())}_setChildAsAttached(e,t=1){e.container||(this.ui.attachedMap[e.asset_type].set(e.asset_id,t),this.ui.assignableConfigs[e.asset_type][e.asset_id].control.setValue(1),this.ui.assignableConfigs[e.asset_type][e.asset_id].control.disable())}_checkForTraits(e,t,o=[]){return De(t,!0)&&t.map(s=>{De(s.assets,!0)&&s.assets.map(r=>{"field"===r.asset_type&&(r.asset.required=!!De(e.entity.mapping.required)&&e.entity.mapping.required.includes(r.asset_id),o.includes(r.asset_id)?(o.splice(o.indexOf(r.asset_id),1),r.asset.primary=!0):r.asset.primary=!1),De(r.assets,!0)&&this._checkForTraits(e,r.assets,o)})}),o}}return i.\u0275fac=function(e){return new(e||i)(Le(Qo))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const eA=function(i){return{"sw-hidden":i}};function s1e(i,n){if(1&i){const e=Me();x(0,"mat-icon",22),ie("click",function(){he(e);const o=I().$implicit;return pe(I(2).onTogglePoolExpansion(o))}),ee(1," keyboard_arrow_right "),C()}if(2&i){const e=I(3);g("ngClass",qe(1,eA,e.dom.state.searching))}}function r1e(i,n){if(1&i){const e=Me();x(0,"mat-icon",22),ie("click",function(){he(e);const o=I().$implicit;return pe(I(2).onTogglePoolExpansion(o))}),ee(1," keyboard_arrow_down "),C()}if(2&i){const e=I(3);g("ngClass",qe(1,eA,e.dom.state.searching))}}function a1e(i,n){if(1&i){const e=Me();x(0,"div",23),ie("click",function(){return he(e),pe(I(3).sortFields("type"))}),ee(1,"Type"),C()}}function l1e(i,n){1&i&&(x(0,"div",24),ee(1,"None"),C())}function c1e(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I().$implicit;_(1),Je(e.cf_type_name)}}function d1e(i,n){1&i&&(x(0,"div"),ee(1,"Component"),C())}const u1e=function(i){return{"theme-accent":i}};function h1e(i,n){if(1&i){const e=Me();x(0,"div",25)(1,"div",26)(2,"lib-pop-checkbox",27),ie("events",function(o){const r=he(e).$implicit,a=I().$implicit;return pe(I(2).onAssetPoolItemAttaching(a.asset_type,r.id,o.config.control.value))}),C()(),x(3,"div",28)(4,"div",29),ie("click",function(){const s=he(e).$implicit,r=I().$implicit;return pe(I(2).onViewEntityPortal(r.asset_type,s.id))}),ee(5),C()(),x(6,"div",30),$(7,c1e,2,1,"div",31),$(8,d1e,2,0,"div",31),C()()}if(2&i){const e=n.$implicit,t=I().$implicit,o=I(2);g("ngClass",qe(7,eA,!(null!=o.dom.state[t.asset_type]&&o.dom.state[t.asset_type].visible[e.id]))),_(2),g("config",o.ui.assignableConfigs[t.asset_type][e.id]),_(2),g("ngClass",qe(9,u1e,"field"===t.asset_type)),_(1),Je(e.name),_(1),g("ngSwitch",t.asset_type),_(1),g("ngSwitchCase","field"),_(1),g("ngSwitchCase","component")}}function p1e(i,n){if(1&i){const e=Me();x(0,"mat-expansion-panel",13,14)(2,"mat-expansion-panel-header")(3,"div",15),ie("click",function(o){return o.stopPropagation()}),x(4,"div",16),$(5,s1e,2,3,"mat-icon",17),$(6,r1e,2,3,"mat-icon",17),C(),x(7,"div",18),ie("click",function(){return he(e),pe(I(2).sortFields("name"))}),ee(8),C(),$(9,a1e,2,0,"div",19),C()(),$(10,l1e,2,0,"div",20),$(11,h1e,9,11,"div",21),C()}if(2&i){const e=n.$implicit,t=I(2);g("expanded",(null==t.dom.state[e.name]?null:t.dom.state[e.name].expanded)||t.dom.state.searching),_(5),g("ngIf",!(null!=t.dom.state[e.name]&&t.dom.state[e.name].expanded)),_(1),g("ngIf",null==t.dom.state[e.name]?null:t.dom.state[e.name].expanded),_(2),Je(e.display),_(1),g("ngIf","field"===e.asset_type&&(null==t.dom.state[e.name]?null:t.dom.state[e.name].expanded)),_(1),g("ngIf",!e.list.length),_(1),g("ngForOf",e.list)}}function m1e(i,n){if(1&i){const e=Me();x(0,"lib-pop-button",32),ie("events",function(){const s=he(e).$implicit;return pe(I(2).onSectionAttachingItems(s))}),C()}if(2&i){const e=n.$implicit;g("config",I(2).ui.assignBtnConfigs[e.position])}}function f1e(i,n){if(1&i){const e=Me();x(0,"div",2)(1,"div",3)(2,"mat-form-field",4)(3,"a",5)(4,"mat-icon"),ee(5,"search"),C()(),x(6,"mat-icon",6),ie("click",function(){return he(e),pe(I().onUiSearchValueClear())}),ee(7,"close "),C(),x(8,"input",7),ie("ngModelChange",function(o){return he(e),pe(I().dom.session.searchValue=o)})("keyup",function(o){return he(e),pe(I().onApplyUiSearch(o.target.value,""))}),C()()(),x(9,"div",8)(10,"mat-accordion",9),$(11,p1e,12,7,"mat-expansion-panel",10),C()(),x(12,"div",11),$(13,m1e,1,1,"lib-pop-button",12),C()()}if(2&i){const e=I();et("height",e.dom.height.inner,"px"),_(8),g("ngModel",e.dom.session.searchValue),_(1),et("height",e.dom.height.content,"px"),_(1),g("displayMode","flat"),_(1),g("ngForOf",e.ui.assetPool),_(2),g("ngForOf",e.ui.sections)}}let VV=(()=>{class i extends Yt{constructor(e,t,o,s){var r;super(),r=this,this.el=e,this._domRepo=t,this._schemeRepo=o,this._tabRepo=s,this.name="PopEntitySchemeAssetPoolComponent",this.ui={sections:void 0,assignBtnConfigs:void 0,assignableConfigs:void 0,assetPool:void 0,section_keys:void 0},this.asset={primaryIds:[]},this.srv={scheme:void 0,tab:void 0,router:Rt.get(Ji)},this.dom.configure=()=>new Promise(function(){var a=q(function*(l){return r.dom.session.searchValue="",r.dom.state.searching=!1,r.asset.primaryIds=r.srv.scheme.ui.primaryIds,yield r.dom.setWithComponentInnerHeight("PopEntityTabColumnComponent",r.position,30,600),r.dom.height.content=r.dom.height.inner-30,r._setUiAssets(),l(!0)});return function(l){return a.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var a=q(function*(l){return r.onApplyUiSearch(r.dom.session.searchValue),r.onDisableUiAssignButtons(),l(!0)});return function(l){return a.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}_setUiAssets(){this.ui.sections=this.srv.scheme.ui.sections,this.ui.assignableConfigs=this.srv.scheme.ui.assignableConfigs,this.ui.assignBtnConfigs=[],this.ui.sections.map(t=>{this.ui.assignBtnConfigs[t.position]=new Ms({bubble:!0,event:"assign",value:"COLUMN "+ +t.position,size:30,text:16,icon:null,width:10})});let e=Ai(this.srv.scheme.ui.assetPool,!0,`${this.name}:configureDom: - this.srv.scheme.asset.asset_pool`)?JSON.parse(JSON.stringify(this.srv.scheme.ui.assetPool)):{};e=Object.keys(e).map(t=>(this.dom.state[t]={expanded:!0,visible:{},attach:{}},{name:t,asset_type:t,display:jt(t),data:e[t],list:Lde(e[t])})),this.ui.assetPool=Kl(e,!0,`${this.name}:configureDom: - pools`)?e:[]}sortFields(e){"name"===e?this.ui.assetPool[0].list.sort((t,o)=>t.name>o.name?1:-1):"type"===e&&this.ui.assetPool[0].list.sort((t,o)=>t.fieldgroup.label>o.fieldgroup.label?1:-1)}onUiSearchValueClear(){this.dom.session.searchValue="",this.onApplyUiSearch(this.dom.session.searchValue)}onApplyUiSearch(e,t=""){this.dom.delay.search&&clearTimeout(this.dom.delay.search),this.dom.delay.search=setTimeout(()=>{e.length>0?(this.ui.assetPool.map(o=>{Y(this.dom.state[o.name])&&o.list.map(s=>{this.dom.state[o.name].visible[s.id]=!0===ll({id:s.id,name:s.name},e)})}),setTimeout(()=>{this.dom.state.searching=!0})):(this.ui.assetPool.map(o=>{Y(this.dom.state[o.name])&&o.list.map(s=>{this.dom.state[o.name].visible[s.id]=1})}),this.dom.state.searching=!1)},200)}onTogglePoolExpansion(e){e&&e.name in this.dom.state&&(this.dom.state[e.name].expanded=!this.dom.state[e.name].expanded)}onAssetPoolItemAttaching(e,t,o){this.srv.scheme.onAssetAttaching(e,t,o),this.onEnableUiAssignButtons()}onSectionAttachingItems(e){this.onDisableUiAssignButtons(),e.modified=!0,this.srv.tab.showAsLoading(!0),this.srv.scheme.onAttachingAssetsToPosition(e).then(t=>{De(t,!0)?(e.assets=t,this.srv.scheme.onUpdate([e]).then(()=>{this.srv.tab.showAsLoading(!1),this.onDisableUiAssignButtons()})):(this.srv.tab.showAsLoading(!1),this.onDisableUiAssignButtons())})}onEnableUiAssignButtons(){this.ui.section_keys||(this.ui.section_keys=this.ui.sections.map(e=>e.position)),this.dom.delay.configure_buttons&&clearTimeout(this.dom.delay.configure_buttons),this.dom.delay.configure_buttons=setTimeout(()=>{const e=this.srv.scheme._getAssetsToAttach();let t;Object.keys(e).some(r=>{if(t=Object.keys(e[r]).filter(a=>"component"===r&&!e[r][a].compact).length,t)return!0});const s=[...this.ui.section_keys];if(t){let r;s.length>0&&(r=s.pop()),s.map(a=>{this.ui.assignBtnConfigs[a].disabled=!0}),r&&(this.ui.assignBtnConfigs[r].disabled=!1)}else s.map(r=>{this.ui.assignBtnConfigs[r].disabled=!1,this.ui.assignBtnConfigs[r].color="accent"})},100)}onDisableUiAssignButtons(){this.core.entity.sections.map(e=>{e.position&&(this.ui.assignBtnConfigs[e.position].disabled=!0,this.ui.assignBtnConfigs[e.position].color="default")})}onAssetLink(e,t){"field"===e&&this.srv.router.navigateByUrl(`/cis/fields/${t}`).catch(o=>{window.console.log("e",o)})}onViewEntityPortal(e,t){"field"===e&&(this.core.channel.emit({source:this.name,target:"PopEntityTabColumnComponent",type:"component",name:"scrollTo"}),Wv.view(e,t).then(()=>{this.srv.scheme.ui.refresh.next("reload")}))}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(wu),P(Qo))},i.\u0275cmp=Fe({type:i,selectors:[["lib-entity-scheme-asset-pool"]],features:[Re],decls:4,vars:1,consts:[[1,"entity-scheme-asset-pool-link",2,"text-align","right"],["class","entity-scheme-asset-pool-container",3,"height",4,"ngIf"],[1,"entity-scheme-asset-pool-container"],[1,"entity-scheme-asset-pool-search"],["appearance","outline","color","accent",1,"sw-search"],["matPrefix",""],["matSuffix","",1,"sw-pointer",3,"click"],["matInput","","placeholder","Search",3,"ngModel","ngModelChange","keyup"],[1,"entity-scheme-asset-pool-content"],["multi","true",3,"displayMode"],["class","mat-expansion-panel","hideToggle","true",3,"expanded",4,"ngFor","ngForOf"],[1,"entity-scheme-asset-pool-assign"],["class","entity-scheme-assign-btn",3,"config","events",4,"ngFor","ngForOf"],["hideToggle","true",1,"mat-expansion-panel",3,"expanded"],["matPanel",""],[1,"entity-scheme-asset-pool-panel-header",3,"click"],[1,"entity-scheme-asset-pool-panel-expansion"],[3,"ngClass","click",4,"ngIf"],[1,"entity-scheme-asset-pool-panel-name","entity-scheme-asset-pool-panel-field-name",3,"click"],["class","entity-scheme-asset-pool-panel-name entity-scheme-asset-pool-panel-field-type",3,"click",4,"ngIf"],["class","theme-error",4,"ngIf"],["class","entity-scheme-asset-pool-row",3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"entity-scheme-asset-pool-panel-name","entity-scheme-asset-pool-panel-field-type",3,"click"],[1,"theme-error"],[1,"entity-scheme-asset-pool-row",3,"ngClass"],[1,"entity-scheme-asset-pool-row-container","sw-flex-column-xs"],[3,"config","events"],[1,"entity-scheme-asset-pool-row-container","sw-flex-column-md","sw-flex-grow-sm"],[1,"sw-pointer",3,"ngClass","click"],[1,"entity-scheme-asset-pool-row-container","entity-scheme-asset-pool-type","sw-flex-column-sm",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"entity-scheme-assign-btn",3,"config","events"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"a"),ee(2,"Create new field"),C()(),$(3,f1e,14,8,"div",1)),2&e&&(_(3),g("ngIf",t.dom.state.loaded))},styles:[".entity-scheme-asset-pool-container[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:var(--gap-sm);border:1px solid var(--border);overflow:hidden}.entity-scheme-asset-pool-search[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;height:40px;margin-bottom:var(--gap-s);clear:both}.entity-scheme-asset-pool-search[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.entity-scheme-asset-pool-assign[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;height:35px;margin:var(--gap-s) 0 0 0;clear:both}.entity-scheme-asset-pool-content[_ngcontent-%COMP%]{position:relative;clear:both;overflow-y:scroll;overflow-x:hidden}.entity-scheme-asset-pool-panel-header[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:var(--background-item-menu);border-bottom:1px solid var(--border)}.entity-scheme-asset-pool-panel-expansion[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;margin:0 20px 0 5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:35px;width:25px}.entity-scheme-asset-pool-panel-name[_ngcontent-%COMP%]{font-size:var(--text-sm);font-weight:700;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.entity-scheme-asset-pool-row[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:35px}.entity-scheme-asset-pool-row-container[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.entity-scheme-asset-pool-row-container[_ngcontent-%COMP%]     .pop-checkbox-container{margin-top:0!important}.entity-scheme-asset-pool-type[_ngcontent-%COMP%]{font-size:var(--text-sm);padding-top:var(--gap-s)}[_nghost-%COMP%]     mat-expansion-panel{background:none;border-left:1px solid var(--border);border-right:1px solid var(--border);border-bottom:1px solid var(--border)}.mat-expansion-panel[_ngcontent-%COMP%]:first-of-type{border-top:1px solid var(--border)!important}[_nghost-%COMP%]     .mat-expansion-panel-body{padding:0 var(--gap-s) 0 var(--gap-s)!important}[_nghost-%COMP%]     mat-expansion-panel-header{padding:0!important;height:35px!important;border-bottom-left-radius:0;border-bottom-right-radius:0}.entity-scheme-assign-btn[_ngcontent-%COMP%]:not(:last-of-type){margin-right:3px}.entity-scheme-assign-btn[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.entity-scheme-assign-btn[_ngcontent-%COMP%]     .pop-button-container{width:100%}.entity-scheme-assign-btn[_ngcontent-%COMP%]     button{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}[_nghost-%COMP%]     .pop-checkbox-container{min-height:30px}[_nghost-%COMP%]     .pop-button-container{background:var(--darken02)}[_nghost-%COMP%]     .entity-scheme-asset-pool-search .mat-form-field-prefix{margin-left:2px!important}.entity-scheme-asset-pool-panel-field-name[_ngcontent-%COMP%]{width:50%}.entity-scheme-asset-pool-panel-field-type[_ngcontent-%COMP%]{padding-left:10px}.entity-scheme-asset-pool-link[_ngcontent-%COMP%]{padding-bottom:5px;text-align:right;font-size:14px}"]}),i})();function g1e(i,n){if(1&i&&me(0,"lib-entity-scheme-layout-section",5),2&i){const e=n.$implicit,t=I();et("flex-grow",e.flex),g("core",t.core)("section",e)}}let $V=(()=>{class i extends Yt{constructor(e,t,o){var s;super(),s=this,this.el=e,this._domRepo=t,this._schemeRepo=o,this.name="PopEntitySchemeAssetLayoutComponent",this.srv={scheme:void 0},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return yield s.dom.setWithComponentInnerHeight("PopEntityTabColumnComponent",s.position,0,600),s.ui.sections=s.srv.scheme.ui.sections,a(!0)});return function(a){return r.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(wu))},i.\u0275cmp=Fe({type:i,selectors:[["lib-entity-scheme-asset-layout"]],features:[Re],decls:9,vars:3,consts:[[1,"entity-scheme-asset-layout-notes"],[1,"theme-error"],["color","primary",1,"entity-scheme-asset-layout-icon"],["cdkDropListGroup","",1,"entity-scheme-asset-layout-container"],[3,"core","section","flexGrow",4,"ngFor","ngForOf"],[3,"core","section"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"span",1),ee(2,"*"),C(),ee(3," Required to save new profile "),x(4,"mat-icon",2),ee(5,"star"),C(),ee(6," Primary"),C(),x(7,"div",3),$(8,g1e,1,4,"lib-entity-scheme-layout-section",4),C()),2&e&&(_(7),et("height",t.dom.height.inner,"px"),_(1),g("ngForOf",t.ui.sections))},styles:[".entity-scheme-asset-layout-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;border-top:1px solid var(--border);border-left:1px solid var(--border);border-bottom:1px solid var(--border);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}lib-entity-scheme-layout-section{-webkit-box-flex:1;-ms-flex:1;flex:1;-ms-flex-preferred-size:150px;flex-basis:150px;border-right:1px solid var(--border)}.entity-scheme-asset-layout-section{-webkit-box-flex:1;-ms-flex:1;flex:1}.entity-scheme-asset-list-content{overflow-y:auto;overflow-x:hidden}.entity-scheme-asset{-webkit-box-sizing:border-box;box-sizing:border-box;margin:10px;border:1px solid var(--border);background:var(--bg-3);font-size:12px}.entity-scheme-asset-menu{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:8px;right:5px;height:20px;background:transparent;opacity:.8;width:40px;padding-left:5px;z-index:2}.entity-scheme-asset-menu-icon{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;opacity:1!important;background:transparent;width:16px;color:var(--foreground-disabled);height:16px}.entity-scheme-asset-menu-icon .material-icons{font-size:16px}.entity-scheme-asset-handle{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:move;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.entity-scheme-asset-handle-disabled{pointer-events:none;cursor:none}.entity-scheme-asset-field-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.entity-scheme-asset-layout-row{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:25px;font-size:14px;padding:0 10px 0 1px;top:5px;z-index:1}.entity-scheme-asset-layout-row-expanded{border-bottom:1px solid var(--border)}.entity-scheme-asset-layout-subrow{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;height:20px;color:var(--disabled);padding:0 10px 0 1px;font-size:10px;top:1px}.entity-scheme-asset-layout-content-row{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-height:30px}.entity-scheme-asset-item-row{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:30px;padding:0 10px;border-top:1px solid var(--border);z-index:1}.entity-scheme-asset-toggle-row{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;height:10px;margin-bottom:5px;overflow:hidden;z-index:3}.entity-scheme-asset-toggle-row .material-icons{position:relative;top:2px;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:18px}.entity-scheme-primary{color:var(--primary-background)}.entity-scheme-required{color:var(--error);font-size:14px;line-height:0px;margin:0;width:10px;position:relative;top:18px;left:5px;z-index:2}.cdk-drag-preview{overflow:hidden;-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;height:35px}.cdk-drag-preview .entity-scheme-asset-handle{-webkit-box-sizing:border-box;box-sizing:border-box}.cdk-drag-preview .entity-scheme-asset-menu{display:none!important}.cdk-drag-placeholder{opacity:0}.cdk-drag-animating{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1),-webkit-transform .25s cubic-bezier(0,0,.2,1)}.entity-scheme-asset-list.cdk-drop-list-dragging .entity-scheme-asset:not(.cdk-drag-placeholder){-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1),-webkit-transform .25s cubic-bezier(0,0,.2,1)}.entity-scheme-asset-layout-notes{padding-bottom:5px;font-size:14px}.entity-scheme-asset-layout-icon{font-size:14px;height:14px;width:14px;padding-left:5px}.entity-scheme-asset-layout-required{color:var(--error);font-size:14px;line-height:0px;margin:0;width:10px;position:relative;top:11px}\n"],encapsulation:2}),i})();class HV{constructor(n){this.message="",this.height=100,this.sort="internal";for(const e in n)this[e]=n[e]}}function _1e(i,n){if(1&i){const e=Me();x(0,"lib-pop-entity-field-group",2),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C()}2&i&&g("core",I().core)}function b1e(i,n){if(1&i&&me(0,"lib-pop-entity-external-field-mappings",3),2&i){const e=I();g("core",e.core)("config",e.ui.mapping)("scopeVariables",e.core.entity.scope_variables)}}let zV=(()=>{class i extends Yt{constructor(e,t,o){var s;super(),s=this,this._domRepo=e,this._tabRepo=t,this._schemeRepo=o,this.name="PopEntitySchemeDetailsComponent",this.srv={scheme:void 0,tab:void 0},this.ui={mapping:void 0},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return yield s._setInitialConfig(),a(!0)});return function(a){return r.apply(this,arguments)}}())}onBubbleEvent(e){this.log.event("onBubbleEvent",e),(Ln(0,e)||"context_menu"===e.type)&&(this.log.info("IsValidFieldPatchEvent",e),this.events.emit(e))}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.mapping=new HV({entity_type:"scheme",entity_id:e.core.entity.id,action_id:12,scheme_id:e.core.entity.id,height:700}),o(!0)});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P(ii),P(Qo),P(wu))},i.\u0275cmp=Fe({type:i,selectors:[["lib-entity-scheme-details"]],features:[Re],decls:3,vars:2,consts:[[3,"core","events",4,"ngIf"],[3,"core","config","scopeVariables",4,"ngIf"],[3,"core","events"],[3,"core","config","scopeVariables"]],template:function(e,t){1&e&&(x(0,"div"),$(1,_1e,1,1,"lib-pop-entity-field-group",0),$(2,b1e,1,3,"lib-pop-entity-external-field-mappings",1),C()),2&e&&(_(1),g("ngIf",t.core),_(1),g("ngIf",t.core))}}),i})();function v1e(i,n){1&i&&me(0,"lib-main-spinner")}function y1e(i,n){if(1&i&&me(0,"lib-pop-entity-tab",2),2&i){const e=I();g("tab",e.ui.tab)("core",e.core)}}let jV=(()=>{class i extends Yt{constructor(e,t,o,s){var r;super(),r=this,this.el=e,this._domRepo=t,this._schemeRepo=o,this._tabRepo=s,this.name="PopEntitySchemeComponent",this.srv={scheme:void 0,tab:void 0},this.dom.configure=()=>new Promise(function(){var a=q(function*(l){return r.ui.tab=new Bc({id:"general",positions:{1:{header:"Details",flex:1,components:[{type:zV,inputs:{id:1}}]},2:{flex:1,header:"Available Fields & Components",components:[{type:VV,inputs:{id:2}}]},3:{flex:2,header:"Profile Layout",components:[{type:$V,inputs:{id:3}}]}},wrap:!1,columnWrap:!0,overhead:0}),yield r.srv.scheme.init(r.core,r.ui.tab),l(!0)});return function(l){return a.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(a=>(this.dom.setSubscriber("refresh",this.srv.scheme.ui.refresh.subscribe(l=>{"reload"===l&&this.srv.tab.resetTab(!0)})),a(!0))),this.dom.unload=()=>new Promise(a=>(Oi(`App.${zt.id}.Scheme.${this.core.entity.id}`,null),a(!0)))}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(wu),P(Qo))},i.\u0275cmp=Fe({type:i,selectors:[["lib-customer-scheme"]],features:[Ct([wu]),Re],decls:2,vars:2,consts:[[4,"ngIf"],[3,"tab","core",4,"ngIf"],[3,"tab","core"]],template:function(e,t){1&e&&($(0,v1e,1,0,"lib-main-spinner",0),$(1,y1e,1,2,"lib-pop-entity-tab",1)),2&e&&(g("ngIf",t.dom.state.loader),_(1),g("ngIf",t.dom.state.loaded))},encapsulation:2}),i})();function x1e(i,n){1&i&&me(0,"lib-pop-switch",6),2&i&&g("config",I(2).ui.multiple)}function C1e(i,n){if(1&i){const e=Me();x(0,"div",1),me(1,"lib-pop-entity-status",2),x(2,"lib-pop-entity-field-group",3),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C(),me(3,"lib-pop-field-item-spacer",4),$(4,x1e,1,1,"lib-pop-switch",5),C()}if(2&i){const e=I();_(1),g("core",e.core),_(1),g("core",e.core),_(1),g("height",0)("pull",-20),_(1),g("ngIf",e.ui.multiple)}}let GV=(()=>{class i extends Yt{constructor(e,t,o){var s;super(),s=this,this.el=e,this._domRepo=t,this._fieldRepo=o,this.name="PopEntityFieldDetailsComponent",this.srv={field:void 0},this.asset={},this.ui={field:void 0,customSetting:{},multiple:void 0},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return yield s._setInitialConfig(),s._buildCustomSettings(),a(!0)});return function(a){return r.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(r=>r(!0))}onBubbleEvent(e){this.log.event("onBubbleEvent",e),Ln(0,e)&&this.events.emit(e)}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){e.core=Ai(e.core,!0,`${e.name}:configureDom: - this.core`)?e.core:null,e.field||(e.field=Ai(e.core,["entity"],"Invalid Core")&&Ai(e.core.entity,["id","cf_type_name"],"Invalid Field")?e.core.entity:null);const s=e.dom.find("field","name");return Y(s.patch,!0)&&!s.patch.after&&(s.patch.after=(r,a)=>{e.field.name=a.config.control.value,e.core.channel.next({source:e.name,type:"component",name:"update",target:"PopEntityFieldPreviewComponent"})}),o(!0)});return function(o){return t.apply(this,arguments)}}())}_buildCustomSettings(){if(this.srv.field.getViewMultiple(this.field.cf_type_name)){let t=Lt(this.core.repo,["model","field","multiple"]);Y(t,["model"])&&(t=gi(t),this.ui.multiple=new uo(Gf(this.core,jf(this.core,t.model))),this.ui.multiple.patch.after=(o,s)=>{E4(this.core,s),this.srv.field.triggerFieldPreviewUpdate()})}}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Tr))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-field-details"]],inputs:{field:"field"},features:[Re],decls:1,vars:1,consts:[["class","entity-field-details-container",4,"ngIf"],[1,"entity-field-details-container"],[3,"core"],[3,"core","events"],[3,"height","pull"],[3,"config",4,"ngIf"],[3,"config"]],template:function(e,t){1&e&&$(0,C1e,5,5,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".entity-field-details-container[_ngcontent-%COMP%]{max-width:var(--field-max-width)}.entity-field-details-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;height:35px;margin-top:1px}"]}),i})();const w1e=["container"];let k1e=(()=>{class i extends Jo{constructor(e,t){super(),this.el=e,this._domRepo=t,this.name="PopEntityFieldPreviewComponent",this.asset={field:void 0,columnKeys:void 0},this.ui={stateSelector:new Zi({label:"State",value:"template_edit",options:{values:[{value:"template_edit",name:"Template Access"},{value:"template_readonly",name:"Template Readonly"},{value:"text_single",name:"Text Single"},{value:"text_format",name:"Text Format"}]}}),field:void 0},this.srv={entity:Rt.get(ql),editor:Rt.get(Tr),field:Rt.get(hr)},this.dom.configure=()=>new Promise(o=>(this.dom.handler.bubble=(s,r)=>this.onBubbleEvent(r),this.core=Ai(this.core,["entity"],`${this.name}:configureDom: - this.core`)?this.core:null,this.field=Ai(this.core.entity,["cf_type_name","entries"],`${this.name}:configureDom: - this.core`)?this.core.entity:null,this.dom.session.form={},this.template.attach("container"),this.asset.columnKeys=this.core.entity.items.map(s=>String(o4(s.name)).toLowerCase()),this.dom.session.stateSelector&&this.ui.stateSelector.control.setValue(this.dom.session.stateSelector,{emitEvent:!0}),this.dom.handler.core=(s,r)=>{this.log.event("_coreEventHandler",r),Ln(0,r)||"component"===r.type&&("active-item"===r.name||"update"===r.name)?this._triggerFieldPreview():ut.warn(this.name,"Preview did not recognize event",r)},this._triggerFieldPreview(250),o(!0))),this.dom.proceed=()=>new Promise(o=>(this._setDataSession(),o(!0)))}onBubbleEvent(e){this.log.event("onBubbleEvent",e),Y(e,["type","name"])&&"field"===e.type&&("onFocus"===e.name||("onBlur"===e.name||"patch"===e.name?e.config&&e.config.control&&e.config.control.value&&(this.dom.session.form[e.config.name]=e.config.control.value,this.dom.store("onSession")):"add"===e.name?this._addFieldValue():"remove"===e.name&&this._removeFieldValue()))}ngOnDestroy(){this.template.destroy(),super.ngOnDestroy()}_addFieldValue(){Y(this.ui.field,!0)&&this.dom.session.records<this.ui.field.multiple_values_limit&&(this.dom.session.records++,this._triggerFieldPreview(0))}_removeFieldValue(){Y(this.ui.field,!0)&&this.dom.session.records>this.ui.field.multiple_values_min&&(this.dom.session.records--,this._triggerFieldPreview(0))}_setDataSession(){this.dom.session.records||(this.dom.session.records=this.field.multiple_values_min);let e=0;if(!this.dom.session.data){for(this.dom.session.data=new Map;e<10;){const t=this.srv.editor.getDefaultValues(String(this.field.cf_type_name).toLowerCase());this.dom.session.data.set(e,t),e++}this.dom.store("session")}}_triggerFieldPreview(e=250){this.dom.setTimeout("field-preview",()=>{this._setFieldPreview()},e)}_setFieldPreview(){if(this.dom.repo.ui.activeItems){xn.clear();const e=this.field.items,t=De(this.field.entries,!0)?this.field.entries.filter(s=>!s.orphaned_at).sort(ko("sort_order")):[],o={id:1,attribute:this.field.attribute,facade:!0,canAdd:!1,canRemove:!1,configs:this.field.configs,cf_type_id:this.field.cf_type_id,cf_type_name:this.field.cf_type_name,name:this.field.name,entries:t,entity_id:this.field.entity_id,internal_name:this.field.internal_name,uses_multiple_values:this.field.uses_multiple_values,multiple_values_max:t.length,multiple_values_min:t.length,multiple_max:t.length,multiple_max_limit:4,model:this.field.model,validation_rules:this.field.validation_rules,trait:this.field.trait,traits:this.field.traits,data:{},show_name:!!this.core.entity.show_name,sort:0,state:this.ui.stateSelector.control.value,items:[]};if(o.uses_multiple_values){o.multiple_values_min||(o.multiple_values_min=t.length);let s=this.dom.session.records;s<+o.multiple_values_min&&(s=+o.multiple_values_min),+o.multiple_max&&s>o.multiple_max&&(s=o.multiple_max),t.map((r,a)=>{o.data[r.id]=this.dom.session.data.get(a)})}else o.data[t[0].id]=this.dom.session.data.get(0);if(o.items=e.filter(s=>1==+this.dom.repo.ui.activeItems[s.id]).map(s=>(s.facade=!0,s.showMask=!0,s.bubble=!0,delete s.api,s)),this.ui.field=this.srv.field.buildCustomField(this.core,o),this.ui.field){const s=[];s.push({type:uV,inputs:{core:this.core,field:this.ui.field}}),this.template.render(s,[],!0)}}this.dom.ready()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-editor-preview"]],viewQuery:function(e,t){if(1&e&&ht(w1e,7,Ri),2&e){let o;Ke(o=Ye())&&(t.container=o.first)}},inputs:{field:"field"},features:[Re],decls:5,vars:0,consts:[[1,"entity-field-preview-container"],[1,"entity-field-preview-content"],[1,"entity-field-preview-contents"],["container",""]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),Go(3,null,3),C()()())},styles:[".entity-field-editor-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.entity-field-editor-header-section[_ngcontent-%COMP%]{position:relative;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;height:30px;clear:both}.entity-field-editor-container[_ngcontent-%COMP%]{min-height:100px;position:relative}.entity-field-editor-border[_ngcontent-%COMP%]{border:1px solid var(--border)}.entity-field-editor-section-header[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;height:40px;padding:0 5px 0 10px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-size:1em;font-weight:700;clear:both;-webkit-box-sizing:border-box;box-sizing:border-box;background:var(--darken02)}.entity-field-editor-section-header-helper-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:1em;z-index:2}.entity-field-editor-active-selection[_ngcontent-%COMP%]{padding-left:0!important;border-left-width:5px;border-left-style:none;border-left-color:var(--primary)}.entity-field-editor-active-config[_ngcontent-%COMP%]{border-left-width:5px;border-left-style:solid;border-left-color:var(--primary)}.entity-field-preview-container[_ngcontent-%COMP%]{position:relative;border:1px solid var(--border);top:32px;max-width:480px}.entity-field-preview-content[_ngcontent-%COMP%]{padding:0 5px 15px;max-height:805px;min-height:700px;overflow:auto}.entity-field-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-size:16px;margin:10px}.entity-field-header[_ngcontent-%COMP%]   .entity-field-header-location[_ngcontent-%COMP%]{text-transform:capitalize}.entity-field-preview-contents[_ngcontent-%COMP%]{margin-top:-2px;margin-left:10px;margin-right:10px}"]}),i})();function I1e(i,n){if(1&i&&me(0,"lib-pop-entity-tab",1),2&i){const e=I();g("nested",!0)("tab",e.ui.tab)("core",e.core)}}let WV=(()=>{class i extends Yt{constructor(e,t,o,s,r){super(),this.el=e,this._domRepo=t,this._fieldRepo=o,this._utilFieldRepo=s,this._tabRepo=r,this.name="PopEntityFieldEditorComponent",this.srv={field:void 0,utilField:void 0,history:Rt.get(tg),tab:void 0},this.dom.configure=()=>new Promise(a=>{Y(this.core,!0)||(this.core=this.srv.tab.getCore()),this.core.entity.cf_type_name?(this.ui.tab=new Bc({id:"general",positions:{1:{header:"Field Details",flex:1,components:[{type:GV,inputs:{id:1}}]},2:{flex:2,header:"Field Attributes",components:[{type:JI,inputs:{id:2}}]},3:{flex:1,header:"Field Preview",components:[{type:k1e,inputs:{id:3}}]}},wrap:!0,columnWrap:!0,overhead:100}),this.srv.field.register(this.core,this.dom.repo).then(()=>(this.srv.utilField.clearCustomFieldCache(+this.core.entity.id),a(!0)))):window.location.href=window.location.origin+"/"+Bi})}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Tr),P(hr),P(Qo))},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-editor"]],features:[Ct([Tr]),Re],decls:1,vars:1,consts:[[3,"nested","tab","core",4,"ngIf"],[3,"nested","tab","core"]],template:function(e,t){1&e&&$(0,I1e,1,3,"lib-pop-entity-tab",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".entity-field-editor-header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.entity-field-editor-header-section{position:relative;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;height:30px;clear:both}.entity-field-editor-container{min-height:100px;position:relative}.entity-field-editor-border{border:1px solid var(--border)}.entity-field-editor-section-header{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;height:40px;padding:0 5px 0 10px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-size:1em;font-weight:700;clear:both;-webkit-box-sizing:border-box;box-sizing:border-box;background:var(--darken02)}.entity-field-editor-section-header-helper-icon{width:20px;height:20px;font-size:1em;z-index:2}.entity-field-editor-active-selection{padding-left:0!important;border-left-width:5px;border-left-style:none;border-left-color:var(--primary)}.entity-field-editor-active-config{border-left-width:5px;border-left-style:solid;border-left-color:var(--primary)}\n"],encapsulation:2}),i})(),UV=(()=>{class i{constructor(){this.timezone="America/Denver",this.hourFormat=12,this.dateFormat="dd/mm/yyyy"}transform(e,t="date",o=!0){return this._display({timestamp:e,format:t,seconds:o})}toIso(e){return md(e,this.timezone).format("iso")}toCalendarDate(e){if(Ne("date",!0)&&10===String(e).length&&"-"===e[4]){const t=e.match(/\d+/g),o=t[0].substring(0);return t[1]+"/"+t[2]+"/"+o}return e}toNumericUs(e){return md(e,this.timezone).format("numeric-us")}toIsoShort(e){return md(e,this.timezone).format("iso-short")}getTomorrow(e){return md(e).add(1,"day").format("iso")}add(e,t=1,o="day"){return md(e).add(t,o).format("iso")}subtract(e,t=1,o="day"){return md(e).subtract(t,o).format("iso")}getYesterday(e){return md(e).subtract(1,"day").format("iso")}getLatest(e){let t=null;if(De(e,!0))return t=e.reduce((o,s)=>this.toIso(o)>this.toIso(s)?o:s),this.toIso(t)}getEarliest(e){let t=null;if(De(e,!0))return t=e.reduce((o,s)=>this.toIso(o)<this.toIso(s)?o:s),this.toIso(t)}setCurrentBusinessUnitSettings(){if(Y(zt,!0)&&(Vi(zt.hour_format,!0)&&(this.hourFormat=+zt.hour_format),Ne(zt.date_format,!0)&&(this.dateFormat=zt.date_format),!Vi(zt.timezone)&&Ne(zt.timezone,!0)&&(this.timezone=zt.timezone)),Y(lo,["setting"]))if(Vi(lo.setting.hour_format,!0)&&(this.hourFormat=+lo.setting.hour_format),Ne(lo.setting.date_format,!0)&&(this.dateFormat=lo.setting.date_format),Vi(lo.setting.timezone)){const e=eo.transform(lo.setting.timezone,{type:"timezone"});Ne(e,!0)&&(this.timezone=e)}else!Vi(lo.setting.timezone)&&Ne(lo.setting.timezone,!0)&&(this.timezone=lo.setting.timezone)}_display(e){const t=24==this.hourFormat?"HH:mm"+(e.seconds?":ss":""):"h:mm"+(e.seconds?":ss":"")+" a";let o=md(e.timestamp);switch(Ne(this.timezone,!0)&&String(this.timezone).length>10&&(o=o.goto(this.timezone)),e.format){case"datetime":return o.format(this._displayFormat())+(["full","full-short"].includes(this.dateFormat)?", ":" ")+o.unixFmt(t);case"date":return o.format(this._displayFormat());case"time":return o.unixFmt(t);default:return o.format(this._displayFormat()+" "+t)}}_displayFormat(){switch(this.dateFormat){case"yyyymmdd":return"{year}{month-pad}{date-pad}";case"yyyy-mm-dd":default:return"iso-short";case"dd/mm/yyyy":return"numeric-uk";case"mm/dd/yyyy":return"numeric-us";case"yyyy/mm/dd":return"{year}/{month-pad}/{date-pad}";case"dd-mm-yyyy":return"{date-pad}-{month-pad}-{year}";case"yyyy/dd/mm":return"{year}/{date-pad}/{month-pad}";case"yyyy-dd-mm":return"{year}-{date-pad}-{month-pad}";case"mm-dd-yyyy":return"{month-pad}-{date-pad}-{year}";case"full":return"{month} {date-pad}, {year}";case"full-short":return"{month-short} {date-pad}, {year}"}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function A1e(i,n){1&i&&(x(0,"div",9),ee(1,"Copied!"),C())}function S1e(i,n){if(1&i){const e=Me();x(0,"lib-pop-button",10),ie("click",function(){return he(e),pe(I().onLabelCopy())}),C()}2&i&&g("config",n.$implicit)}function M1e(i,n){if(1&i){const e=Me();x(0,"div",11)(1,"i",12),ie("click",function(){return he(e),pe(I().onDeleteEntity())}),ee(2,"delete"),C()()}}function P1e(i,n){if(1&i){const e=Me();x(0,"div",13)(1,"i",14),ie("click",function(){return he(e),pe(I().onDeleteEntity())}),ee(2,"lock"),C()()}}function T1e(i,n){if(1&i){const e=Me();x(0,"lib-pop-switch",18),ie("events",function(o){return he(e),pe(I(2).onArchiveChange(o))}),C()}2&i&&g("config",n.$implicit)}function E1e(i,n){if(1&i&&(x(0,"div",19),ee(1),C()),2&i){const e=I(2);_(1),Je(e.ui.archive.label)}}function D1e(i,n){if(1&i&&(x(0,"div",15),$(1,T1e,1,1,"lib-pop-switch",16),$(2,E1e,2,1,"div",17),C()),2&i){const e=I();g("ngClass",e.dom.state.archived?"pop-entity-status-archived":"pop-entity-status-active"),_(1),g("ngIf",!e.readonly&&e.ui.archive),_(1),g("ngIf",e.ui.archive&&e.readonly)}}const O1e=function(i){return{"pop-entity-status-container-field":i}};function R1e(i,n){if(1&i&&(x(0,"div",20)(1,"span"),ee(2,"Created"),C(),x(3,"span"),ee(4),C()()),2&i){const e=I();g("ngClass",qe(2,O1e,!e.stretch)),_(4),Je(e.ui.createdDate)}}function F1e(i,n){1&i&&me(0,"lib-pop-errors",21),2&i&&g("error",I().dom.error)}const L1e=function(i,n){return{"sw-field-item-container":i,"pop-entity-status-container-stretch":n}};let py=(()=>{class i extends Yt{constructor(e,t,o){var s;super(),s=this,this.el=e,this._domRepo=t,this._tabRepo=o,this.caption=!0,this.readonly=!1,this.stretch=!1,this.system=!1,this.name="PopEntityStatusComponent",this.srv={events:Rt.get(ul),tab:void 0,date:Rt.get(UV)},this.ui={archive:void 0,valueButton:void 0,createdDate:void 0,showCopied:!1},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return yield s._setInitialConfig(),yield s._setArchiveSwitch(),a(!0)});return function(a){return r.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var r=q(function*(a){return s.dom.state.archived=s._isEntityArchived(),a(!0)});return function(a){return r.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onLabelCopy(){Y(this.core.entity,["id"])&&(navigator.clipboard.writeText(String(this.core.entity.id)),this.ui.showCopied=!0,this.dom.setTimeout("clear-show-copied",()=>{this.ui.showCopied=!1},3e3))}onArchiveChange(e){P4(0,e)&&this._handleArchive(!e.config.control.value)}onDeleteEntity(){var e=this;return q(function*(){!e.system&&It(e.after)&&(yield e.after(e.core,{source:e.name,type:"component",name:"archive",value:"delete"}))})()}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){e.id=e.core.params.internal_name,e.dom.state.archived=e._isEntityArchived(),e.ui.createdDate=Y(e.core.entity,["created_at"])?e.srv.date.transform(e.srv.date.toNumericUs(e.core.entity.created_at),"date"):null,e.srv.tab.showAsLoading(!1),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setArchiveSwitch(){var e=this;return q(function*(){e.ui.valueButton=new Ms({icon:"file_copy",value:`ID ${e._getLabelID()}`,size:20,radius:5,text:12,bubble:!0,event:"click",type:"mat-flat-button"}),e.ui.archive=new uo({name:"archived",bubble:!0,label:"ACTIVE",labelPosition:"before",disabled:!e.core.access.can_update,value:!e._isEntityArchived(),patch:{duration:0,field:"",path:""}})})()}_getLabelID(){return kt(this.labelId)?String(this.labelId):Y(this.core.entity)&&kt(this.core.entity.id)?String(this.core.entity.id):"0000"}_isEntityArchived(){return kt(this.archived)?1==+this.archived:Y(this.core.entity)&&kt(this.core.entity.archived)?1==+this.core.entity.archived:!(!Y(this.core.entity)||!kt(this.core.entity.deleted_at)||!this.core.entity.deleted_at)}_handleArchive(e){var t=this;if(this.dom.state.archived=e,this.ui.archive.label="ACTIVE",!this.system&&Y(this.core.entity,["id"])){this.core.entity.archived=e,this.ui.archive.control.disable(),this.srv.tab.showAsLoading(!0);const o=e?gt.doDelete("entities/archive",{internal_name:this.core.params.internal_name,ids:[this.core.entity.id]},1,!1):gt.doPost("entities/restore",{internal_name:this.core.params.internal_name,ids:[this.core.entity.id]},1,!1);this.dom.setSubscriber("archive-entity",o.subscribe(q(function*(){t.srv.events.sendEvent({source:t.name,method:"archive",type:"entity",name:t.core.params.name,internal_name:t.core.params.internal_name,id:t.core.params.entityId,data:e}),yield t._syncLegacy(e),t.srv.tab.showAsLoading(!1),t.ui.archive.control.enable(),t.cacheRedirect&&t.srv.tab.resetTab(!0),It(t.after)&&(yield t.after(t.core,{source:t.name,type:"component",name:"archive",value:e}))}),s=>{this.dom.error.code=s.error.code,this.dom.error.message=qn(s),this.ui.archive.control.enable(),this.srv.tab.showAsLoading(!1)}))}}_syncLegacy(e){var t=this;return new Promise(function(){var o=q(function*(s){const r=t.core.entity.legacy_user_id;if(!+r)return s(!0);t.dom.setSubscriber("update-block",gt.doPatch(`legacy/users/${r}`,{block:+e}).subscribe(()=>s(!0),a=>(t.dom.setError(a,!0),s(!1))))});return function(s){return o.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Qo))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-status"]],inputs:{caption:"caption",readonly:"readonly",archived:"archived",labelId:"labelId",cacheRedirect:"cacheRedirect",after:"after",blockSession:"blockSession",delete:"delete",stretch:"stretch",system:"system"},features:[Re],decls:10,vars:11,consts:[[1,"pop-entity-status-box"],[1,"pop-entity-status-container",3,"ngClass"],["class","pop-entity-status-copied-signal sw-shadow-04",4,"ngIf"],["class","pop-entity-status-label",3,"config","click",4,"ngIf"],["class","pop-entity-delete-container",4,"ngIf"],["class","pop-entity-system-container",4,"ngIf"],["class","pop-entity-archive-container",3,"ngClass",4,"ngIf"],["class","pop-entity-status-row mat-caption",3,"ngClass",4,"ngIf"],[3,"error",4,"ngIf"],[1,"pop-entity-status-copied-signal","sw-shadow-04"],[1,"pop-entity-status-label",3,"config","click"],[1,"pop-entity-delete-container"],["matTooltip","Delete","matTooltipShowDelay","750",1,"material-icons","pop-entity-delete-icon","sw-pointer",3,"click"],[1,"pop-entity-system-container"],["matTooltip","System","matTooltipShowDelay","750",1,"material-icons","pop-entity-system-icon","sw-pointer",3,"click"],[1,"pop-entity-archive-container",3,"ngClass"],[3,"config","events",4,"ngIf"],["class","pop-entity-status-readonly",4,"ngIf"],[3,"config","events"],[1,"pop-entity-status-readonly"],[1,"pop-entity-status-row","mat-caption",3,"ngClass"],[3,"error"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"div"),$(3,A1e,2,0,"div",2),$(4,S1e,1,1,"lib-pop-button",3),C(),$(5,M1e,3,0,"div",4),$(6,P1e,3,0,"div",5),$(7,D1e,3,3,"div",6),C(),$(8,R1e,5,4,"div",7),$(9,F1e,1,1,"lib-pop-errors",8),C()),2&e&&(_(1),g("ngClass",Ii(8,L1e,!t.stretch,t.stretch)),_(2),g("ngIf",t.ui.showCopied),_(1),g("ngIf",t.ui.valueButton),_(1),g("ngIf",!t.system&&t.delete),_(1),g("ngIf",t.system),_(1),g("ngIf",!t.system&&!t.delete),_(1),g("ngIf",t.caption),_(1),g("ngIf",null==t.dom.error?null:t.dom.error.message))},styles:[".pop-entity-status-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-box-sizing:border-box;margin:0!important;font-size:12px}.pop-entity-status-container[_ngcontent-%COMP%]   .pop-entity-archive-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;color:#fff!important;-webkit-box-shadow:none!important;box-shadow:none!important;text-transform:none!important;padding-left:8px;padding-right:8px;border-radius:5px;margin:0!important;-webkit-box-sizing:border-box;box-sizing:border-box}.pop-entity-status-container[_ngcontent-%COMP%]   .pop-entity-delete-container[_ngcontent-%COMP%], .pop-entity-status-container[_ngcontent-%COMP%]   .pop-entity-system-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;padding:3px;margin:0!important;-webkit-box-sizing:border-box;box-sizing:border-box}.pop-entity-status-container[_ngcontent-%COMP%]   .pop-entity-system-icon[_ngcontent-%COMP%]{color:var(--disabled)}.pop-entity-status-container[_ngcontent-%COMP%]   .pop-entity-delete-icon[_ngcontent-%COMP%]{color:var(--accent)}.pop-entity-status-container[_ngcontent-%COMP%]   .pop-entity-status-readonly[_ngcontent-%COMP%]{padding:2px 5px}.pop-entity-status-container[_ngcontent-%COMP%]     .pop-switch-container{min-height:15px!important;max-height:20px}.pop-entity-status-container[_ngcontent-%COMP%]     .sw-field-item-container{margin:0!important}.pop-entity-status-container[_ngcontent-%COMP%]     .pop-entity-status-active .mat-slide-toggle-thumb{background-color:var(--background-base)!important}.pop-entity-status-container[_ngcontent-%COMP%]     .pop-entity-status-active .mat-slide-toggle-bar{background-color:var(--background-selected-disabled-button)!important}.pop-entity-status-container[_ngcontent-%COMP%]     .mat-icon{position:relative;top:-1px;color:var(--background-base)}.pop-entity-status-container[_ngcontent-%COMP%]     .mat-mdc-slide-toggle{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-flex:1!important;-ms-flex-positive:1!important;flex-grow:1!important;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.pop-entity-status-container-field[_ngcontent-%COMP%]{max-width:var(--field-max-width)}.pop-entity-status-container-stretch[_ngcontent-%COMP%]{position:relative;min-height:var(--field-min-height);width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;margin:var(--field-margin-l)}[_nghost-%COMP%]     .pop-entity-archive-container h4{font-size:12px}.pop-entity-status-label[_ngcontent-%COMP%]{min-width:100px!important;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pop-entity-status-label[_ngcontent-%COMP%]     button{background-color:var(--background-code);color:var(--background-base);min-width:100px!important}.pop-entity-status-label[_ngcontent-%COMP%]     button span{position:relative;top:-1px}.pop-entity-status-row[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-box-sizing:border-box;margin:0;font-size:12px;color:var(--foreground-base)}.pop-entity-status-active[_ngcontent-%COMP%]{background:var(--accent-background)!important}.pop-entity-status-archived[_ngcontent-%COMP%]{background:var(--background-border)!important}lib-pop-switch[_ngcontent-%COMP%]     span.mat-body{font-size:12px;line-height:12px;color:var(--background-base)}lib-pop-switch[_ngcontent-%COMP%]     .mat-slide-toggle-bar{height:10px;width:30px}lib-pop-switch[_ngcontent-%COMP%]     .mat-slide-toggle-bar .mat-slide-toggle-thumb{height:16px;width:16px}div.pop-entity-status-copied-signal[_ngcontent-%COMP%]{border-radius:var(--radius-xs);position:absolute;left:100px;top:9px;z-index:1;font-size:12px;min-height:var(--gap-sm);padding:3px var(--gap-xs) 2px var(--gap-xs);color:var(--foreground-base);background-color:var(--background-base);border:1px solid var(--foreground-disabled)}.pop-entity-status-box[_ngcontent-%COMP%]{position:relative;top:-11px}"]}),i})();function N1e(i,n){1&i&&me(0,"lib-pop-select",4),2&i&&g("config",I(2).ui.methodConfig)}function B1e(i,n){1&i&&me(0,"lib-pop-input",4),2&i&&g("config",I(2).ui.uriConfig)}function V1e(i,n){1&i&&me(0,"lib-pop-input",4),2&i&&g("config",I(2).ui.userIdConfig)}function $1e(i,n){if(1&i){const e=Me();x(0,"lib-pop-button",8),ie("events",function(){return he(e),pe(I(2).onSearchApiCalls())}),C()}2&i&&g("config",I(2).ui.search)}const H1e=function(){return{diameter:30,strokeWidth:5}};function z1e(i,n){1&i&&me(0,"lib-main-spinner",9),2&i&&g("options",ms(1,H1e))}function j1e(i,n){if(1&i&&(x(0,"div",1)(1,"div",2),$(2,N1e,1,1,"lib-pop-select",3),C(),x(3,"div",2),me(4,"lib-pop-date-range",4),C(),x(5,"div",2),$(6,B1e,1,1,"lib-pop-input",3),C(),x(7,"div",2),$(8,V1e,1,1,"lib-pop-input",3),C(),x(9,"div",5),$(10,$1e,1,1,"lib-pop-button",6),$(11,z1e,1,2,"lib-main-spinner",7),C()()),2&i){const e=I();_(1),et("padding-top",3,"px"),_(1),g("ngIf",e.ui.methodConfig),_(1),et("padding-top",3,"px"),_(1),g("config",e.ui.dateRange),_(1),et("padding-top",3,"px"),_(1),g("ngIf",e.ui.uriConfig),_(1),et("padding-top",3,"px"),_(1),g("ngIf",e.ui.userIdConfig),_(1),et("padding-top",3,"px"),_(1),g("ngIf",!e.dom.state.loading),_(1),g("ngIf",e.dom.state.loading)}}let ZV=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this._domRepo=t,this.name="HistoryAdvancedSearchComponent",this.srv={},this.asset={params:{},initialData:[]},this.ui={dateRange:void 0,userIdConfig:void 0,uriConfig:void 0,methodConfig:void 0,search:new Ms({label:"Go",value:"GO",icon:null,color:"accent",radius:5,text:18,bubble:!0})},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield o._setInitialConfig(),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){return r(!0)});return function(r){return s.apply(this,arguments)}}())}onSearchApiCalls(){var e=this;return new Promise(function(){var t=q(function*(o){return e.log.info("onSearchApiCalls",e.asset.params),e.dom.state.loading=!0,Y(e.asset.params,!0)?gt.doGet("records/model/api-calls",{...e.asset.params}).subscribe(s=>{s=lr(s),e.config.updateData(s),e.dom.state.loading=!1}):(e.config.updateData(e.asset.initialData),e.dom.state.loading=!1),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.asset.initialData=e.config?.data,e.dom.state.loading=!1,Promise.all([e._setDateRangeConfig(),e._setUserIdConfig(),e._setUriConfig(),e._setMethodConfig()]),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setDateRangeConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.dateRange=new OI({name:"date:",label:"Date Range",expansionItems:!0,max:new Date,facade:!0,patch:{path:"",field:"",after:(s=q(function*(r,a){e.log.event("id after",a)}),function(a,l){return s.apply(this,arguments)})}}),o(!0);var s});return function(o){return t.apply(this,arguments)}}())}_setMethodConfig(){var e=this;const t=[{name:"GET",value:"get"},{name:"POST",value:"post"},{name:"PATCH",value:"patch"},{name:"DELETE",value:"delete"}];return new Promise(function(){var o=q(function*(s){return e.ui.methodConfig=new Zi({name:"method",label:"Method",facade:!0,options:{values:t},patch:{path:"",field:"",after:(r=q(function*(a,l){e.log.event("id after",l),l.config.control.value?e.asset.params[l.config.name]=l.config.control.value:delete e.asset.params[l.config.name]}),function(l,c){return r.apply(this,arguments)})}}),s(!0);var r});return function(s){return o.apply(this,arguments)}}())}_setUserIdConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.userIdConfig=new li({name:"bu_user_id",label:"User Id",facade:!0,patch:{path:"",field:"",after:(s=q(function*(r,a){e.log.event("id after",a),a.config.control.value?e.asset.params[a.config.name]=a.config.control.value:delete e.asset.params[a.config.name]}),function(a,l){return s.apply(this,arguments)})}}),o(!0);var s});return function(o){return t.apply(this,arguments)}}())}_setUriConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.uriConfig=new li({name:"uri",label:"Uri",facade:!0,patch:{path:"",field:"",after:(s=q(function*(r,a){e.log.event("uri after",a),a.config.control.value?e.asset.params[a.config.name]=a.config.control.value:delete e.asset.params[a.config.name]}),function(a,l){return s.apply(this,arguments)})}}),o(!0);var s});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-history-advanced-search"]],inputs:{config:"config"},features:[Re],decls:1,vars:1,consts:[["class","pt-custom-search-container",4,"ngIf"],[1,"pt-custom-search-container"],[1,"pt-search-column"],[3,"config",4,"ngIf"],[3,"config"],[1,"pt-search-column","sw-flex-row"],[3,"config","events",4,"ngIf"],[3,"options",4,"ngIf"],[3,"config","events"],[3,"options"]],template:function(e,t){1&e&&$(0,j1e,12,16,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".pt-custom-search-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;gap:var(--gap-sm)}.pt-search-column[_ngcontent-%COMP%]{min-width:200px;max-width:350px;z-index:3}.pt-search-column[_ngcontent-%COMP%]     .sw-field-item-container{margin-top:0!important}[_nghost-%COMP%]     .mat-mdc-progress-spinner{position:relative;top:7px}"]}),i})();const G1e=["drawer"];function W1e(i,n){if(1&i&&me(0,"json-editor",11,12),2&i){const e=I(2);g("options",e.paramsOptions)("data",e.ui.params)}}function U1e(i,n){if(1&i&&me(0,"json-editor",13,12),2&i){const e=I(2);g("options",e.responseOptions)("data",e.ui.response)}}function Z1e(i,n){if(1&i){const e=Me();x(0,"div",7)(1,"mat-icon",8),ie("click",function(){return he(e),I(),pe(Qt(2).close())}),ee(2,"clear"),C(),x(3,"div")(4,"h4"),ee(5,"Params"),C(),$(6,W1e,2,2,"json-editor",9),x(7,"h4"),ee(8,"Response"),C(),$(9,U1e,2,2,"json-editor",10),C()()}if(2&i){const e=I();_(6),g("ngIf",e.paramsOptions),_(3),g("ngIf",e.responseOptions)}}function K1e(i,n){1&i&&(x(0,"div",14),me(1,"mat-progress-bar",15),C())}function Y1e(i,n){if(1&i){const e=Me();x(0,"lib-pop-table",16),ie("events",function(o){return he(e),pe(I().eventHandler(o))}),C()}2&i&&g("config",I().config)}let KV=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this.cdr=t,this.name="PopEntityAdvancedHistoryComponent",this.ui={params:null,response:null},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return o.dom.setHeight(xn.getContentHeight(),100),yield o.buildTable(),o.dom.state.hasData=De(Lt(o.config,["data"],[]),!0),o.dom.state.show=!1,o._setOptionEditorConfig(),o._setViewEditorConfig(),r(!0)});return function(r){return s.apply(this,arguments)}}())}buildTable(){return new Promise(e=>{this.dom.setSubscriber("history-api-call",this.core.repo.getHistory("").subscribe(t=>{t=(t=lr(t)).map(s=>({...s,created_at:wo.transform(s.created_at,"datetime")}));const o={height:this.dom.height.inner-60,search:!0,paginator:!0,customHeader:{type:ZV},columnDefinitions:{bu_user_name:{visible:!0,order:1,label:"User"},bu_user_id:{visible:!0,order:1,label:"User Id"},uri:{visible:!0,order:1},status_code:{visible:!0,order:3},method:{visible:!0,order:4},seconds:{visible:!0,order:5},created_at:{visible:!0,order:6}},data:Array.isArray(t)?t:[]};this.config=new yd(o);try{this.cdr.detectChanges()}catch{return e(!1)}return e(!0)},t=>{this.dom.error={code:t.error?t.error.code:t.status,message:t.error?t.error.message:t.statusText};try{this.cdr.detectChanges()}catch{return e(!1)}return e(!1)}))})}eventHandler(e){"table"===e.type&&"row_clicked"==e.name&&(this.drawer.open(),this.dom.state.show=!0,this.ui.params=JSON.parse(e.data.params),this.ui.response=JSON.parse(e.data.response))}ngOnDestroy(){super.ngOnDestroy()}_prepareTableData(e,t={},o=null){const s=bI(t);return De(e,!0)?e.map(r=>eo.transformObjectValues({...r},s,o)):e}_setOptionEditorConfig(){this.paramsOptions=new As,this.paramsOptions.mainMenuBar=!1,this.paramsOptions.mode="view"}_setViewEditorConfig(){this.responseOptions=new As,this.responseOptions.mainMenuBar=!0,this.responseOptions.mode="view",this.responseOptions.expandAll=!0}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-advanced-history"]],viewQuery:function(e,t){if(1&e&&ht(G1e,7),2&e){let o;Ke(o=Ye())&&(t.drawer=o.first)}},inputs:{config:"config"},features:[Re],decls:8,vars:3,consts:[["hasBackdrop","false","autosize","","disableClose","true",1,"drawer-container"],["position","end","mode","side","disableClose","true",1,"call-container"],["drawer",""],["class","sidenav",4,"ngIf"],[1,"entity-history-container"],["class","entity-history-loader-bar",4,"ngIf"],[3,"config","events",4,"ngIf"],[1,"sidenav"],[1,"close-btn",3,"click"],["id","params","name","params",3,"options","data",4,"ngIf"],["id","response","name","response",3,"options","data",4,"ngIf"],["id","params","name","params",3,"options","data"],["viewEditor",""],["id","response","name","response",3,"options","data"],[1,"entity-history-loader-bar"],["mode","indeterminate"],[3,"config","events"]],template:function(e,t){1&e&&(x(0,"mat-drawer-container",0)(1,"mat-drawer",1,2),$(3,Z1e,10,2,"div",3),C(),x(4,"mat-drawer-content")(5,"div",4),$(6,K1e,2,0,"div",5),$(7,Y1e,1,1,"lib-pop-table",6),C()()()),2&e&&(_(3),g("ngIf",t.ui.params),_(3),g("ngIf",t.dom.state.loading),_(1),g("ngIf",t.config))},styles:[".entity-history-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;height:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch}.entity-history-container[_ngcontent-%COMP%] > lib-pop-table[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}.sidenav[_ngcontent-%COMP%]{background-color:var(--bg-1);color:var(--text);height:95%;width:600px;border:1px solid var(--border);padding:var(--gap-m);overflow:auto;z-index:100}.show[_ngcontent-%COMP%]{display:block;padding:var(--gap-m);border:1px solid var(--border);width:30vw;visibility:visible;-webkit-animation:_ngcontent-%COMP%_animateThis .3s linear;animation:_ngcontent-%COMP%_animateThis .3s linear}.hide[_ngcontent-%COMP%]{width:0;-webkit-animation:_ngcontent-%COMP%_reverseAnim .3s ease-out;animation:_ngcontent-%COMP%_reverseAnim .3s ease-out}@-webkit-keyframes _ngcontent-%COMP%_animateThis{0%{width:0}to{width:30vw}}@keyframes _ngcontent-%COMP%_animateThis{0%{width:0}to{width:30vw}}@-webkit-keyframes _ngcontent-%COMP%_reverseAnim{0%{width:30vw}to{width:0}}@keyframes _ngcontent-%COMP%_reverseAnim{0%{width:30vw}to{width:0}}.close-btn[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;width:100%;cursor:pointer}.drawer-container[_ngcontent-%COMP%]{height:100%;background:var(--background-main-menu);width:calc(100vw - 400px)}"]}),i})();function X1e(i,n){1&i&&(x(0,"div",5),me(1,"mat-progress-bar",6),C())}function q1e(i,n){if(1&i){const e=Me();x(0,"lib-pop-table",7),ie("events",function(o){return he(e),pe(I().eventHandler(o))}),C()}2&i&&g("config",I().config)}function J1e(i,n){if(1&i&&me(0,"json-editor",12,13),2&i){const e=I(2);g("options",e.paramsOptions)("data",e.ui.params)}}function Q1e(i,n){if(1&i&&me(0,"json-editor",14,13),2&i){const e=I(2);g("options",e.responseOptions)("data",e.ui.response)}}const eke=function(i,n){return{"entity-history-show":i,"entity-history-hide":n}};function tke(i,n){if(1&i){const e=Me();x(0,"div",8)(1,"mat-icon",9),ie("click",function(){return he(e),pe(I().dom.state.show=!1)}),ee(2,"clear"),C(),x(3,"div")(4,"h4"),ee(5,"Params"),C(),$(6,J1e,2,2,"json-editor",10),x(7,"h4"),ee(8,"Response"),C(),$(9,Q1e,2,2,"json-editor",11),C()()}if(2&i){const e=I();g("ngClass",Ii(3,eke,e.dom.state.show,!e.dom.state.show)),_(6),g("ngIf",e.paramsOptions),_(3),g("ngIf",e.responseOptions)}}function ike(i,n){1&i&&me(0,"lib-pop-errors",15),2&i&&g("error",I().dom.error)}let YV=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this.cdr=t,this.name="PopEntityHistoryComponent",this.ui={params:null,response:null},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return o.dom.setHeight(xn.getContentHeight(),100),yield o.buildTable(),o.dom.state.hasData=De(Lt(o.config,["data"],[]),!0),o.dom.state.show=!1,o._setOptionEditorConfig(),o._setViewEditorConfig(),r(!0)});return function(r){return s.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}buildTable(){return new Promise(e=>{this.dom.setSubscriber("history-api-call",this.core.repo.getHistory(`${this.core.params.path.replace("/","")}/${this.core.params.entityId}`).subscribe(t=>{t=(t=lr(t)).map(s=>({...s,created_at:wo.transform(s.created_at)}));const o={height:this.dom.height.inner-60,search:!0,paginator:!0,columnDefinitions:{bu_user_name:{visible:!0,order:1,label:"User"},uri:{visible:!0,order:1},status_code:{visible:!0,order:3},method:{visible:!0,order:4},seconds:{visible:!0,order:5},created_at:{visible:!0,order:6}},data:Array.isArray(t)?t:[]};this.config=new yd(o);try{this.cdr.detectChanges()}catch{return e(!1)}return e(!0)},t=>{this.dom.error={code:t.error?t.error.code:t.status,message:t.error?t.error.message:t.statusText};try{this.cdr.detectChanges()}catch{return e(!1)}return e(!1)}))})}eventHandler(e){"table"===e.type&&"row_clicked"==e.name&&(this.dom.state.show=!0,this.ui.params=JSON.parse(e.data.params),this.ui.response=JSON.parse(e.data.response))}ngOnDestroy(){super.ngOnDestroy()}_prepareTableData(e,t={},o=null){const s=bI(t);return De(e,!0)?e.map(r=>eo.transformObjectValues({...r},s,o)):e}_setOptionEditorConfig(){this.paramsOptions=new As,this.paramsOptions.mainMenuBar=!1,this.paramsOptions.mode="view"}_setViewEditorConfig(){this.responseOptions=new As,this.responseOptions.mainMenuBar=!0,this.responseOptions.mode="view",this.responseOptions.expandAll=!0}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-history"]],inputs:{config:"config"},features:[Re],decls:5,vars:4,consts:[[1,"entity-history-container"],["class","entity-history-loader-bar",4,"ngIf"],[3,"config","events",4,"ngIf"],["class","entity-history-sidenav",3,"ngClass",4,"ngIf"],[3,"error",4,"ngIf"],[1,"entity-history-loader-bar"],["mode","indeterminate"],[3,"config","events"],[1,"entity-history-sidenav",3,"ngClass"],[1,"entity-history-close-btn",3,"click"],["id","params","name","params",3,"options","data",4,"ngIf"],["id","response","name","response",3,"options","data",4,"ngIf"],["id","params","name","params",3,"options","data"],["viewEditor",""],["id","response","name","response",3,"options","data"],[3,"error"]],template:function(e,t){1&e&&(x(0,"div",0),$(1,X1e,2,0,"div",1),$(2,q1e,1,1,"lib-pop-table",2),$(3,tke,10,6,"div",3),C(),$(4,ike,1,1,"lib-pop-errors",4)),2&e&&(_(1),g("ngIf",t.dom.state.loading),_(1),g("ngIf",t.config),_(1),g("ngIf",t.ui.params),_(1),g("ngIf",t.dom.error.code))},styles:[".entity-history-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;height:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch}.entity-history-container[_ngcontent-%COMP%] > lib-pop-table[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}.entity-history-empty-container[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1;flex:1 1;min-height:200px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.entity-history-row[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1;flex:1 1;min-height:200px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:30px;text-align:center}.entity-history-loader-bar[_ngcontent-%COMP%]{position:absolute;height:2px;left:0;right:0;overflow:hidden}.entity-history-sidenav[_ngcontent-%COMP%]{background-color:var(--bg-1);color:var(--text);height:95%;overflow:auto;z-index:100}.entity-history-show[_ngcontent-%COMP%]{display:block;padding:var(--gap-m);border:1px solid var(--border);width:30vw;visibility:visible;-webkit-animation:_ngcontent-%COMP%_animateThis .3s linear;animation:_ngcontent-%COMP%_animateThis .3s linear}.entity-history-hide[_ngcontent-%COMP%]{width:0;-webkit-animation:_ngcontent-%COMP%_reverseAnim .3s ease-out;animation:_ngcontent-%COMP%_reverseAnim .3s ease-out}@-webkit-keyframes _ngcontent-%COMP%_animateThis{0%{width:0}to{width:30vw}}@keyframes _ngcontent-%COMP%_animateThis{0%{width:0}to{width:30vw}}@-webkit-keyframes _ngcontent-%COMP%_reverseAnim{0%{width:30vw}to{width:0}}@keyframes _ngcontent-%COMP%_reverseAnim{0%{width:30vw}to{width:0}}.entity-history-close-btn[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;width:100%;cursor:pointer}[_nghost-%COMP%]     .mat-mdc-table th, [_nghost-%COMP%]     .mat-table td{min-width:50px;max-width:300px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;height:48px;max-height:48px}[_nghost-%COMP%]     th>.mat-sort-header-container{display:-webkit-box;display:-ms-flexbox;display:flex;min-width:50px;max-width:300px}[_nghost-%COMP%]     td[class*=fk], [_nghost-%COMP%]     th[class*=fk]{min-width:50px;max-width:100px;text-align:center!important;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}[_nghost-%COMP%]     th[class*=fk]>.mat-sort-header-container{min-width:50px!important;max-width:100px!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;text-align:center!important}[_nghost-%COMP%]     td[class*=id], [_nghost-%COMP%]     th[class*=id]{min-width:50px;max-width:100px;text-align:center!important;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}[_nghost-%COMP%]     th[class*=id]>.mat-sort-header-container{min-width:100px!important;max-width:100px!important;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;text-align:center!important}[_nghost-%COMP%]     td[class*=-message], [_nghost-%COMP%]     th[class*=-name]{text-align:left!important;padding-left:20px!important;min-width:50px!important;max-width:500px!important}[_nghost-%COMP%]     th[class*=-message] .mat-sort-header-container{min-width:50px!important;max-width:500px!important;padding-left:0!important;-webkit-box-pack:left!important;-ms-flex-pack:left!important;justify-content:left!important}[_nghost-%COMP%]     td[class*=-description], [_nghost-%COMP%]     th[class*=-name]{text-align:left!important;padding-left:20px!important;min-width:50px!important;max-width:500px!important}[_nghost-%COMP%]     th[class*=-description] .mat-sort-header-container{min-width:50px!important;max-width:500px!important;padding-left:0!important;-webkit-box-pack:left!important;-ms-flex-pack:left!important;justify-content:left!important}"]}),i})();function nke(i,n){1&i&&me(0,"lib-pop-select",4),2&i&&g("config",I(2).ui.methodConfig)}function oke(i,n){1&i&&me(0,"lib-pop-input",4),2&i&&g("config",I(2).ui.urLConfig)}function ske(i,n){1&i&&me(0,"lib-pop-input",4),2&i&&g("config",I(2).ui.toConfig)}function rke(i,n){1&i&&me(0,"lib-pop-input",4),2&i&&g("config",I(2).ui.fromConfig)}function ake(i,n){1&i&&me(0,"lib-pop-input",4),2&i&&g("config",I(2).ui.statusConfig)}function lke(i,n){if(1&i){const e=Me();x(0,"lib-pop-button",8),ie("events",function(){return he(e),pe(I(2).onSearchApiCalls())}),C()}2&i&&g("config",I(2).ui.search)}const cke=function(){return{diameter:30,strokeWidth:5}};function dke(i,n){1&i&&me(0,"lib-main-spinner",9),2&i&&g("options",ms(1,cke))}function uke(i,n){if(1&i&&(x(0,"div",1)(1,"div",2),$(2,nke,1,1,"lib-pop-select",3),C(),x(3,"div",2),$(4,oke,1,1,"lib-pop-input",3),C(),x(5,"div",2),$(6,ske,1,1,"lib-pop-input",3),C(),x(7,"div",2),$(8,rke,1,1,"lib-pop-input",3),C(),x(9,"div",2),$(10,ake,1,1,"lib-pop-input",3),C(),x(11,"div",2),me(12,"lib-pop-date-range",4),C(),x(13,"div",5),$(14,lke,1,1,"lib-pop-button",6),$(15,dke,1,2,"lib-main-spinner",7),C()()),2&i){const e=I();_(2),g("ngIf",e.ui.methodConfig),_(2),g("ngIf",e.ui.urLConfig),_(2),g("ngIf",e.ui.toConfig),_(2),g("ngIf",e.ui.fromConfig),_(2),g("ngIf",e.ui.statusConfig),_(2),g("config",e.ui.dateRange),_(2),g("ngIf",!e.dom.state.loading),_(1),g("ngIf",e.dom.state.loading)}}let XV=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this._domRepo=t,this.name="PopEntityWebhookSearchComponent",this.srv={},this.asset={params:{},initialData:[]},this.ui={dateRange:void 0,userIdConfig:void 0,urLConfig:void 0,methodConfig:void 0,fromConfig:void 0,toConfig:void 0,statusConfig:void 0,search:new Ms({label:"Go",value:"GO",icon:null,color:"accent",radius:5,text:18,bubble:!0})},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield o._setInitialConfig(),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){return r(!0)});return function(r){return s.apply(this,arguments)}}())}onSearchApiCalls(){var e=this;return new Promise(function(){var t=q(function*(o){return e.log.info("onSearchApiCalls",e.asset.params),e.dom.state.loading=!0,Y(e.asset.params,!0)?gt.doGet("records/model/business-webhooks",{...e.asset.params}).subscribe(s=>{s=lr(s),e.config.updateData(s),e.dom.state.loading=!1}):(e.config.updateData(e.asset.initialData),e.dom.state.loading=!1),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.asset.initialData=e.config?.data,e.dom.state.loading=!1,yield Promise.all([e._setDateRangeConfig(),e._setUrLConfig(),e._setMethodConfig(),e._setToConfig(),e._setFromConfig(),e._setStatusConfig()]),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setDateRangeConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.dateRange=new OI({name:"date",label:"Date Range",expansionItems:!1,max:new Date,facade:!0,patch:{path:"",field:"",after:(s=q(function*(r,a){const l=a.config.control.value;e.asset.params.start_date=wo.transform(l.startDate,"yyyy-mm-dd")+" 00:00:00",e.asset.params.end_date=l.endDate?wo.transform(wo.add(l.endDate,1),"yyyy-mm-dd")+" 00:00:00":null}),function(a,l){return s.apply(this,arguments)})}}),o(!0);var s});return function(o){return t.apply(this,arguments)}}())}_setMethodConfig(){var e=this;const t=[{name:"GET",value:"get"},{name:"POST",value:"post"},{name:"PATCH",value:"patch"},{name:"DELETE",value:"delete"}];return new Promise(function(){var o=q(function*(s){return e.ui.methodConfig=new Zi({name:"method",label:"Method",facade:!0,options:{values:t},patch:{path:"",field:"",after:(r=q(function*(a,l){e.log.event("id after",l),l.config.control.value?e.asset.params[l.config.name]=l.config.control.value:delete e.asset.params[l.config.name]}),function(l,c){return r.apply(this,arguments)})}}),s(!0);var r});return function(s){return o.apply(this,arguments)}}())}_setUrLConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.urLConfig=new li({name:"url",label:"Url",facade:!0,patch:{path:"",field:"",after:(s=q(function*(r,a){e.log.event("uri after",a),a.config.control.value?e.asset.params[a.config.name]=a.config.control.value:delete e.asset.params[a.config.name]}),function(a,l){return s.apply(this,arguments)})}}),o(!0);var s});return function(o){return t.apply(this,arguments)}}())}_setToConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.toConfig=new li({name:"to",label:"To",facade:!0,patch:{path:"",field:"",after:(s=q(function*(r,a){e.log.event("to after",a),a.config.control.value?e.asset.params[a.config.name]=a.config.control.value:delete e.asset.params[a.config.name]}),function(a,l){return s.apply(this,arguments)})}}),o(!0);var s});return function(o){return t.apply(this,arguments)}}())}_setFromConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.fromConfig=new li({name:"from",label:"From",facade:!0,patch:{path:"",field:"",after:(s=q(function*(r,a){e.log.event("from after",a),a.config.control.value?e.asset.params[a.config.name]=a.config.control.value:delete e.asset.params[a.config.name]}),function(a,l){return s.apply(this,arguments)})}}),o(!0);var s});return function(o){return t.apply(this,arguments)}}())}_setStatusConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.statusConfig=new li({name:"status",label:"Status",facade:!0,patch:{path:"",field:"",after:(s=q(function*(r,a){e.log.event("status after",a),a.config.control.value?e.asset.params[a.config.name]=a.config.control.value:delete e.asset.params[a.config.name]}),function(a,l){return s.apply(this,arguments)})}}),o(!0);var s});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-webhook-search"]],inputs:{config:"config"},features:[Re],decls:1,vars:1,consts:[["class","pt-custom-search-container",4,"ngIf"],[1,"pt-custom-search-container"],[1,"pt-search-column"],[3,"config",4,"ngIf"],[3,"config"],[1,"pt-search-column","sw-flex-row",2,"position","relative","top","-2px"],[3,"config","events",4,"ngIf"],[3,"options",4,"ngIf"],[3,"config","events"],[3,"options"]],template:function(e,t){1&e&&$(0,uke,16,8,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".pt-custom-search-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;gap:var(--gap-sm);padding-top:3px}.pt-search-column[_ngcontent-%COMP%]{min-width:200px;max-width:350px;z-index:3}.pt-search-column[_ngcontent-%COMP%]     .sw-field-item-container{margin-top:0!important}[_nghost-%COMP%]     .mat-mdc-progress-spinner{position:relative;top:7px}"]}),i})();const hke=["drawer"];function pke(i,n){if(1&i&&me(0,"json-editor",11,12),2&i){const e=I(2);g("options",e.paramsOptions)("data",e.ui.params)}}function mke(i,n){if(1&i&&me(0,"json-editor",13,12),2&i){const e=I(2);g("options",e.responseOptions)("data",e.ui.response)}}function fke(i,n){if(1&i){const e=Me();x(0,"div",7)(1,"mat-icon",8),ie("click",function(){return he(e),I(),pe(Qt(2).close())}),ee(2,"clear"),C(),x(3,"div")(4,"h4"),ee(5,"Params"),C(),$(6,pke,2,2,"json-editor",9),x(7,"h4"),ee(8,"Response"),C(),$(9,mke,2,2,"json-editor",10),C()()}if(2&i){const e=I();_(6),g("ngIf",e.paramsOptions),_(3),g("ngIf",e.responseOptions)}}function gke(i,n){1&i&&(x(0,"div",14),me(1,"mat-progress-bar",15),C())}function _ke(i,n){if(1&i){const e=Me();x(0,"lib-pop-table",16),ie("events",function(o){return he(e),pe(I().eventHandler(o))}),C()}2&i&&g("config",I().config)}let qV=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this.cdr=t,this.name="PopEntityWebhookHistoryComponent",this.ui={params:null,response:null},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return o.dom.setHeight(xn.getContentHeight(),100),yield o.buildTable(),o.dom.state.hasData=De(Lt(o.config,["data"],[]),!0),o.dom.state.show=!1,o._setOptionEditorConfig(),o._setViewEditorConfig(),r(!0)});return function(r){return s.apply(this,arguments)}}())}buildTable(){return new Promise(e=>{this.dom.setSubscriber("history-api-call",gt.doGet("records/model/business-webhooks").subscribe(t=>{t=(t=lr(t)).map(s=>({...s,created_at:wo.transform(s.created_at,"datetime")}));const o={height:this.dom.height.inner-60,search:!0,paginator:!0,customHeader:{type:XV},columnDefinitions:{uuid:{visible:!0,order:1},ip:{visible:!0,order:1},method:{visible:!0,order:4},url:{visible:!0,order:1},direction:{visible:!0,order:3},to:{visible:!0,order:3},from:{visible:!0,order:3},status:{visible:!0,order:3},code:{visible:!0,order:3},seconds:{visible:!0,order:5},created_at:{visible:!0,order:6}},data:Array.isArray(t)?t:[]};this.config=new yd(o);try{this.cdr.detectChanges()}catch{return e(!1)}return e(!0)},t=>{this.dom.error={code:t.error?t.error.code:t.status,message:t.error?t.error.message:t.statusText};try{this.cdr.detectChanges()}catch{return e(!1)}return e(!1)}))})}eventHandler(e){"table"===e.type&&"row_clicked"==e.name&&(this.drawer.open(),this.dom.state.show=!0,this.ui.params=JSON.parse(e.data.body),this.ui.response=JSON.parse(e.data.response))}ngOnDestroy(){super.ngOnDestroy()}_prepareTableData(e,t={},o=null){const s=bI(t);return De(e,!0)?e.map(r=>eo.transformObjectValues({...r},s,o)):e}_setOptionEditorConfig(){this.paramsOptions=new As,this.paramsOptions.mainMenuBar=!1,this.paramsOptions.mode="view"}_setViewEditorConfig(){this.responseOptions=new As,this.responseOptions.mainMenuBar=!0,this.responseOptions.mode="view",this.responseOptions.expandAll=!0}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-webhook-history"]],viewQuery:function(e,t){if(1&e&&ht(hke,7),2&e){let o;Ke(o=Ye())&&(t.drawer=o.first)}},inputs:{config:"config"},features:[Re],decls:8,vars:3,consts:[["hasBackdrop","false","autosize","","disableClose","true",1,"drawer-container"],["position","end","mode","side","disableClose","true",1,"call-container"],["drawer",""],["class","sidenav",4,"ngIf"],[1,"entity-history-container"],["class","entity-history-loader-bar",4,"ngIf"],[3,"config","events",4,"ngIf"],[1,"sidenav"],[1,"close-btn",3,"click"],["id","params","name","params",3,"options","data",4,"ngIf"],["id","response","name","response",3,"options","data",4,"ngIf"],["id","params","name","params",3,"options","data"],["viewEditor",""],["id","response","name","response",3,"options","data"],[1,"entity-history-loader-bar"],["mode","indeterminate"],[3,"config","events"]],template:function(e,t){1&e&&(x(0,"mat-drawer-container",0)(1,"mat-drawer",1,2),$(3,fke,10,2,"div",3),C(),x(4,"mat-drawer-content")(5,"div",4),$(6,gke,2,0,"div",5),$(7,_ke,1,1,"lib-pop-table",6),C()()()),2&e&&(_(3),g("ngIf",t.ui.params),_(3),g("ngIf",t.dom.state.loading),_(1),g("ngIf",t.config))},styles:[".entity-history-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;height:99%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch}.entity-history-container[_ngcontent-%COMP%] > lib-pop-table[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}.sidenav[_ngcontent-%COMP%]{background-color:var(--bg-1);color:var(--text);height:95%;width:600px;border:1px solid var(--border);padding:var(--gap-m);overflow:auto;z-index:100}.show[_ngcontent-%COMP%]{display:block;padding:var(--gap-m);border:1px solid var(--border);width:30vw;visibility:visible;-webkit-animation:_ngcontent-%COMP%_animateThis .3s linear;animation:_ngcontent-%COMP%_animateThis .3s linear}.hide[_ngcontent-%COMP%]{width:0;-webkit-animation:_ngcontent-%COMP%_reverseAnim .3s ease-out;animation:_ngcontent-%COMP%_reverseAnim .3s ease-out}@-webkit-keyframes _ngcontent-%COMP%_animateThis{0%{width:0}to{width:30vw}}@keyframes _ngcontent-%COMP%_animateThis{0%{width:0}to{width:30vw}}@-webkit-keyframes _ngcontent-%COMP%_reverseAnim{0%{width:30vw}to{width:0}}@keyframes _ngcontent-%COMP%_reverseAnim{0%{width:30vw}to{width:0}}.close-btn[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;width:100%;cursor:pointer}.drawer-container[_ngcontent-%COMP%]{height:100%;background:var(--background-main-menu);width:calc(100vw - 400px)}[_nghost-%COMP%]     .pop-table-search-control-wrapper{padding-top:3px!important}"]}),i})();const bke=new Bc({id:"general",positions:{1:{flex:1,components:[{type:py,inputs:{position:1}},{type:eg,inputs:{position:1}}]},2:{flex:1,components:[{type:eg,inputs:{position:2}}]},3:{flex:2,components:[{type:eg,inputs:{position:2}}]}}}),vke=(new Bc({id:"assignments",positions:{1:{header:null,flex:1,components:[{type:BV,inputs:{}}]}}}),new Bc({id:"general",positions:{1:{flex:1,components:[{type:jV,inputs:{id:"1"}}]}},columnWrap:!1,onLoad:(i,n)=>{},onEvent:(i,n)=>{}}),new Bc({id:"history",wrap:!0,columnWrap:!1,positions:{1:{header:null,flex:1,components:[{type:YV,inputs:{}}]}}}));new Bc({id:"advanced-history",positions:{1:{header:null,flex:1,components:[{type:KV,inputs:{}}]}}}),new Bc({id:"webhooks",positions:{1:{header:null,flex:1,components:[{type:qV,inputs:{}}]}}}),new Bc({id:"general",syncPositions:!1,positions:{1:{flex:1,components:[{type:WV,inputs:{}}]}},onLoad:(i,n)=>{},onEvent:(i,n)=>{}});let yke=(()=>{class i{constructor(e){this.base=e}intercept(e,t){let o;if(e.headers.has("SkipAuthHeaderInterceptor"))return o=e.headers.delete("SkipAuthHeaderInterceptor"),t.handle(e.clone({headers:o}));o=new os({Authorization:this.base.getBearerToken(),"X-Popcx-Business":e.headers.get("x-popcx-business"),"Content-Type":e.headers.get("content-type")||"application/json","Api-Version":e.headers.get("api-version")||"1"});const s=e.clone({headers:o});return t.handle(s)}}return i.\u0275fac=function(e){return new(e||i)(Le(Ho))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),xke=(()=>{class i{constructor(e,t){this.baseService=e,this.router=t}intercept(e,t){if(e&&e.headers&&e.headers.has("SkipResponse401Interceptor")){const o=e.headers.delete("SkipResponse401Interceptor");return t.handle(e.clone({headers:o}))}return t.handle(e).pipe(mo(()=>{this.baseService.setAuthTime()}),ma(o=>{const s=window.location.href.split(Bi)[1];if(o.status>=500)return!s||s.includes("error/500")||oI||(qn(o),fd("Something went wrong!")),t.handle(e.clone());switch(o.status){case 403:return"Your email address is not verified."===qn(o)?s&&!s.includes("/user/email/resend")&&(window.location.href=window.location.protocol+"//"+window.location.host+"/user/email/resend"):s&&!s.includes("error/403")&&(fd("Access Denied!"),this.router.navigate(["system/error/403"],{skipLocationChange:!0}).then()),t.handle(e.clone());case 404:if(qn(o),oI)return t.handle(e.clone());s&&!s.includes("error/404")&&fd("Something went wrong!");break;case 401:Oi("redirectAfterLogin",window.location.href),this.baseService.clearAuthTime(),this.baseService.clearLocalStorage(),window.location.href.includes("/user/legacy/auth/clear")||(window.location.href=window.location.protocol+"//"+window.location.host+"/user/legacy/auth/clear");break;default:return t.handle(e)}}))}}return i.\u0275fac=function(e){return new(e||i)(Le(Ho),Le(Ji))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),Cke=(()=>{class i extends cR{getFirstDayOfWeek(){return 1}}return i.\u0275fac=function(){let n;return function(t){return(n||(n=Ci(i)))(t||i)}}(),i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();function wke(i,n){if(1&i&&(x(0,"div",5)(1,"p"),ee(2),C()()),2&i){const e=I(2);et("height",e.dom.height.inner,"px"),_(2),Je(e.ui.message)}}function kke(i,n){if(1&i&&(x(0,"div",2)(1,"div",3)(2,"h1"),ee(3),C()(),$(4,wke,3,3,"div",4),C()),2&i){const e=I();et("height",e.dom.height.outer,"px"),_(1),et("height",e.dom.height.inner,"px"),_(2),Je(e.ui.code),_(1),g("ngIf",e.ui.message)}}function Ike(i,n){if(1&i&&(x(0,"div",6)(1,"div",7),ls(),x(2,"svg",8),me(3,"path",9),C(),yl(),x(4,"h1",10),ee(5,"Oops!"),C(),x(6,"h1"),ee(7),C()()()),2&i){const e=I();_(7),Je(e.ui.message)}}let Ake=(()=>{class i extends Yt{constructor(e,t,o){super(),this.el=e,this._domRepo=t,this.route=o,this.name="PopErrorRedirectComponent",this.srv={router:Rt.get(Ji)},this.ui={code:void 0,message:void 0},this.dom.configure=()=>new Promise(s=>{this.dom.state.isDevMode=!1,this.dom.setHeight(xn.getContentHeight(),120),this._setRoute(),s(!0)})}ngOnInit(){super.ngOnInit()}ngOnDestroy(){fd(null),super.ngOnDestroy()}_setRoute(){this.ui.code=this.route.snapshot.params.code||404,this.ui.message=Uv}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(kr))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-error-redirect"]],features:[Re],decls:2,vars:2,consts:[["class","pop-error-redirect-container sw-flex-row import-item-full sw-flex-center",3,"height",4,"ngIf"],["class","error-container",4,"ngIf"],[1,"pop-error-redirect-container","sw-flex-row","import-item-full","sw-flex-center"],[1,"sw-flex-item-md","sw-flex-center","sw-mar-xlg","sw-flex-grow-xs"],["class","sw-flex-item-md sw-flex-center sw-mar-xlg",3,"height",4,"ngIf"],[1,"sw-flex-item-md","sw-flex-center","sw-mar-xlg"],[1,"error-container"],[1,"error-wrapper"],["height","100px","viewBox","0 0 24 24","width","100px"],["d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"],[1,"pop-error-main-text"]],template:function(e,t){1&e&&($(0,kke,5,6,"div",0),$(1,Ike,8,1,"div",1)),2&e&&(g("ngIf",t.dom.state.isDevMode),_(1),g("ngIf",!t.dom.state.isDevMode))},dependencies:[ct],styles:[".pop-error-redirect-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:100px;color:var(--error)}.error-container[_ngcontent-%COMP%]{color:var(--text-2);height:calc(100vh - 60px);width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.error-container[_ngcontent-%COMP%]   .error-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.error-container[_ngcontent-%COMP%]   .error-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--text-2)}.error-container[_ngcontent-%COMP%]   .error-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:5rem}.error-container[_ngcontent-%COMP%]   .error-wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.error-container[_ngcontent-%COMP%]   .error-wrapper[_ngcontent-%COMP%]   .pop-error-main-text[_ngcontent-%COMP%]{font-size:4rem;margin:var(--mar-md) 0}"]}),i})();const Ske=function(){return{color:"primary",diameter:500,strokeWidth:48}};let Mke=(()=>{class i extends Yt{constructor(){var e;super(),e=this,this.name="PopCacheRedirectComponent",this.srv={router:Rt.get(Ji),entity:Rt.get(ql)},this.ui={code:void 0,message:"Cache Redirect"},this.dom.configure=()=>new Promise(function(){var t=q(function*(o){return e.dom.setHeight(xn.getContentHeight(),120),xn.clear(),e.srv.entity.bustAllCache(),o(!0)});return function(o){return t.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var t=q(function*(o){return e.dom.setTimeout("cache-redirect",()=>{Ne(Hf,!0)?e.srv.router.navigate([Hf],{skipLocationChange:!0}).then(()=>!0):e.srv.router.navigate(["system/route"])},500),o(!0)});return function(o){return t.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){WB(null),super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-cache-redirect"]],features:[Re],decls:7,vars:3,consts:[[1,"pcr-container"],["appearance","outlined"],[1,"pcr-spinner-box"],[1,"pcr-message"],[3,"options"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"div",2)(4,"div",3),ee(5),C(),me(6,"lib-main-spinner",4),C()()()()),2&e&&(_(5),Je(t.ui.message),_(1),g("options",ms(2,Ske)))},dependencies:[Kh,rv,Ts],styles:[".pcr-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:var(--gap-s);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:calc(100vh - 90px);background:transparent!important}.pcr-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:300px;background:transparent!important}.pcr-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--gap-m)!important;background:transparent!important}.pcr-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:var(--gap-s) 0!important}.pcr-spinner-box[_ngcontent-%COMP%]{min-width:600px;min-height:600px;margin-left:-150px;height:50vh;background:transparent!important}.pcr-message[_ngcontent-%COMP%]{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;padding:var(--gap-s);min-height:50px;min-width:600px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:45%;font-size:1.5em;color:var(--primary-300)!important}[_nghost-%COMP%]     .mat-mdc-progress-spinner circle, .mat-mdc-progress-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--primary-100)!important}"]}),i})();const Pke=function(){return{color:"primary",diameter:500,strokeWidth:48}};let Tke=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this._baseRepo=e,this._routerRepo=t,this.srv={base:void 0,router:void 0},this.asset={route:void 0},this.ui={message:"Route Redirect",spinner:void 0},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield o.setInitialConfig(),yield al(500),o._checkAppExists()&&o._routeApp(),r(!0)});return function(r){return s.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}setInitialConfig(){return new Promise(e=>(this.asset.route=this.srv.router.config.find(t=>Ne(t.path,!0)&&!t.canActivate&&!t.redirectTo),this.ui.spinner={color:"accent"},e(!0)))}_checkAppExists(){return window.console.log("PopApp",Mr),window.console.log("PopHref",Bi),!0}_routeApp(){this.dom.setTimeout("re-route",()=>{Y(zt,["id"])?Y(this.asset.route,["path"])?(this.log.warn("DIAGNOSE Redirect ISSUE: Redirect Path",this.asset.route.path),this.srv.base.checkAppAccess(Bi,!0)?this.srv.router.navigateByUrl(this.asset.route.path).catch(e=>window.console.log("e",e)):this.log.warn("Could not find route:A",{href:Bi,route:this.asset.route})):!this.dom.state.isDevMode&&Ne(Bi,!0)&&"home"!==Bi?window.location.href=window.location.protocol+"//"+window.location.host+"/home/dashboard":this.log.warn("Could not find route:B",{href:Bi,route:this.asset.route}):!this.dom.state.isDevMode&&Ne(Bi,!0)&&"user"!==Bi&&(window.location.href=window.location.protocol+"//"+window.location.host+"/user/profile")},400)}}return i.\u0275fac=function(e){return new(e||i)(P(Ho),P(Ji))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-guard-redirect"]],features:[Re],decls:7,vars:3,consts:[[1,"pgr-container"],["appearance","outlined"],[1,"pgr-spinner-box"],[1,"pgr-message"],[3,"options"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"div",2)(4,"div",3),ee(5),C(),me(6,"lib-main-spinner",4),C()()()()),2&e&&(_(5),Je(t.ui.message),_(1),g("options",ms(2,Pke)))},dependencies:[Kh,rv,Ts],styles:[".pgr-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:var(--gap-s);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:calc(100vh - 90px);background:transparent!important}.pgr-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:300px;background:transparent!important}.pgr-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--gap-m)!important}.pgr-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:var(--gap-s) 0!important}.pgr-spinner-box[_ngcontent-%COMP%]{min-width:600px;min-height:600px;margin-left:-150px;height:50vh;background:transparent!important}.pgr-message[_ngcontent-%COMP%]{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;padding:var(--gap-s);min-height:50px;min-width:600px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:45%;font-size:1.5em;color:var(--primary-300)!important}[_nghost-%COMP%]     .mat-mdc-progress-spinner circle, .mat-mdc-progress-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--primary-100)!important}"]}),i})();const Eke=function(){return{color:"primary",diameter:500,strokeWidth:48}};let Dke=(()=>{class i extends Yt{constructor(){var e;super(),e=this,this.name="PopVerificationRedirectComponent",this.srv={router:Rt.get(Ji),entity:Rt.get(ql)},this.ui={code:void 0,message:void 0},this.dom.configure=()=>new Promise(function(){var t=q(function*(o){return e.ui.message=Uv,o(!0)});return function(o){return t.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var t=q(function*(o){return o(!0)});return function(o){return t.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){fd(null),super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-verification-redirect"]],features:[Re],decls:7,vars:3,consts:[[1,"pvr-container"],["appearance","outlined"],[1,"pvr-spinner-box"],[1,"pvr-message"],[3,"options"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"div",2)(4,"div",3),ee(5),C(),me(6,"lib-main-spinner",4),C()()()()),2&e&&(_(5),Je(t.ui.message),_(1),g("options",ms(2,Eke)))},dependencies:[Kh,rv,Ts],styles:[".pvr-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:var(--gap-s);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:calc(100vh - 90px)}.pvr-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:300px;background:transparent!important}.pvr-container[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--gap-m)!important}.pvr-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:var(--gap-s) 0!important}.pvr-spinner-box[_ngcontent-%COMP%]{min-width:600px;min-height:600px;margin-left:-150px;height:50vh}.pvr-message[_ngcontent-%COMP%]{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;padding:var(--gap-s);min-height:50px;min-width:600px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:45%;font-size:1.5em;color:var(--background-2)!important}[_nghost-%COMP%]     .mat-mdc-progress-spinner circle, .mat-mdc-progress-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--background-2)!important}"]}),i})(),Oke=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,ur,ea]}),i})(),Rke=(()=>{class i{constructor(e){this.router=e}canActivate(e){var t=this;return new Promise(function(){var o=q(function*(s){return Ne(Hf,!0)?s(!0):t.router.navigateByUrl("system/route")});return function(s){return o.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(Le(Ji))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),JV=(()=>{class i{constructor(e){this.router=e}canActivate(e){var t=this;return new Promise(function(){var o=q(function*(s){return Ne(Uv,!0)?s(!0):t.router.navigateByUrl("system/route")});return function(s){return o.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(Le(Ji))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Fke=(()=>{class i extends Qr{constructor(){super(),this.cache=new ty}forUser(e,t=null){var o=this;return new Promise(function(){var s=q(function*(r){const a=`UserDetails.${zt.id}.${e}`,l=gt.doGet(`users/${e}`,{select:"id,first_name,last_name,email,phone,primeuser",with:"primeuser.profile"},1,!1).pipe(we(c=>((c=Ca(c)).avatar_link=Lt(c,["primeuser","profile","avatar_link"],"https://popcx-dev-public.s3-us-west-2.amazonaws.com/images/cia_default_custom_avatar.jpg"),c.name=String(`${c.first_name??""} ${c.last_name??""} `).trim(),c.initals=up(c.name),delete c.primeuser,Oi(a,btoa(JSON.stringify(c))),c)));if(!o.cache.has("user",String(e))){const c=rl(a,null);Ne(c,!0)&&o.cache.set("user",String(e),c,12e5)}o.cache.get("user",String(e),l,12e5).subscribe(c=>Ne(t,!0)?r(c[t]??null):r(c))});return function(r){return s.apply(this,arguments)}}())}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Lke=(()=>{class i extends Qr{constructor(e){super(),this.httpBackend=e,this.name="PopRequestExternalService",this.urlRegex=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i"),this.http=new Dh(this.httpBackend)}getBaseUrl(){return this.baseUrl.slice()}setBaseUrl(e){Ne(e,!0)&&(this.baseUrl=e)}doGet(e,t={},o={}){if(this._checkUrl(e)){const s={headers:new os(o),params:this._setParams(t)};return this.http.get(`${e}`,s)}return Ht(null)}doDelete(e,t=null,o={}){if(this._checkUrl(e)){const s={headers:new os(o),body:t};return this.http.delete(e,s)}return Ht(null)}doPatch(e,t,o={}){if(this._checkUrl(e)){const s={headers:new os(o)};return this.http.patch(e,JSON.stringify(t),s)}return Ht(null)}doPost(e,t,o={}){if(this._checkUrl(e)){const s={headers:new os(o)};return this.http.post(e,JSON.stringify(t),s)}return Ht(null)}_setParams(e){let t=new Za;for(const o of Object.keys(e))e[o]&&(e[o]instanceof Array?e[o].forEach(s=>{t=t.append(`${o.toString()}[]`,s)}):t=t.append(o.toString(),e[o]));return t}_checkUrl(e){if(!this.urlRegex.test(e))throw new Error(`Invalid Url: ${e}`);return!0}}return i.\u0275fac=function(e){return new(e||i)(Le(Rm))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Nke=(()=>{class i extends Qr{constructor(e,t,o){var s;super(),s=this,this.resource=e,this.APP_GLOBAL=t,this.env=o,this.asset={action:new Map,base:new Map,setting:new Map,component:new Map,param:new Map,resource:new Map,option:new Map,tabs:new Map,baseImageUrl:""},setTimeout(q(function*(){yield t.isVerified(),s.asset.baseImageUrl=Ne(s.env.s3BucketUrl,!0)?s.env.s3BucketUrl:"https://popcx-dev-public.s3-us-west-2.amazonaws.com"}),0)}configure(e,t){Y(t.component,["type"])&&this.setComponent(e,t.component),De(t.tab,!0)&&this.setTab(e,t.tab),Y(t.action,!0)&&this.setAction(e,t.action),Y(t.resource,!0)&&this.setResource(e,t.resource),Y(t.setting,!0)&&this.setSetting(e,t.setting),Y(t.option,!0)&&this.setOption(e,t.option)}getConfig(e,t){var o=this;return new Promise(function(){var s=q(function*(r){let a=yield o._getBaseConfig(e);if(t&&t.id){a.id=t.id,a.param.id=t.id,a.preferences=yield o._getPreferences(a.param);const l=a.setting.component;a=co(a,t),a.setting.component=l||null}return yield o.getResources(a),r(a)});return function(r){return s.apply(this,arguments)}}())}_getBaseConfig(e){return new Promise(t=>{if(this.asset.base.has(e))return t({...this.asset.base.get(e)});{const o=this.getParams(e),s=new qB({param:o,component:this.getComponent(e),setting:this.getSetting(e),option:this.getOption(e),resource:this.getResource(e)});return this.asset.base.set(e,s),t(s)}})}getParams(e){let t=null;return t=this.asset.param.has(e)?{...this.asset.param.get(e)}:{internal_name:e,name:jt(Tn(e))},t}getTabs(e){return Y(e,["param"])&&this.asset.tabs.has(e.param.internal_name)?[...this.asset.tabs.get(e.param.internal_name).filter(o=>dl(e,o.when))]:[]}getResources(e){var t=this;return new Promise(function(){var o=q(function*(s){if(Y(e.resource,!0)){if(yield t.resource.setCollection(e.resource))return t.resource.getCollection(e.resource),s(!0);s(!1)}else s(!1)});return function(s){return o.apply(this,arguments)}}())}setParam(e){Y(e,["internal_name","name"])&&(ut.info(this.name,`Params set for ${e.internal_name}`,e),this.asset.param.set(e.internal_name,e))}setTab(e,t){Ne(e,!0)&&Array.isArray(t)&&(ut.info(this.name,`Entity Tabs set for ${e}`,t),this.asset.tabs.set(e,t))}setComponent(e,t){Ne(e,!0)&&Y(t,["type"])&&(ut.info(this.name,`Component set for ${e}`,t),this.asset.component.set(e,t))}setAction(e,t){Ne(e,!0)&&Y(t)&&(ut.info(this.name,`Action set for ${e}`,t),this.asset.action.set(e,t))}setResource(e,t){Ne(e,!0)&&Y(t)&&(ut.info(this.name,`Entity Resource set for ${e}`,t),this.asset.resource.set(e,t))}setOption(e,t){Ne(e,!0)&&Y(t)&&(ut.info(this.name,`Option set for ${e}`,t),this.asset.option.set(e,t))}setSetting(e,t){Ne(e,!0)&&Y(t)&&(ut.info(this.name,`Setting set for ${e}`,t),this.asset.setting.set(e,t))}getResource(e){if(Ne(e,!0))return this.asset.resource.get(e)||{}}getAction(e){if(Ne(e,!0))return this.asset.action.get(e)||{}}getSetting(e){if(Ne(e,!0))return this.asset.setting.get(e)||{}}getOption(e){if(Ne(e,!0))return this.asset.option.get(e)||{}}getComponent(e){if(Ne(e,!0))return this.asset.component.get(e)||null}ngOnDestroy(){}_getPreferences(e){return new Promise(t=>t({}))}getDefaultComponentSetting(e){return{client_id:[],account_id:[],campaign_id:[],edit:!0,refresh:!0}}getDefaultComponentOption(e){return{client_id:[],account_id:[],campaign_id:[],edit:!0,refresh:!0}}}return i.\u0275fac=function(e){return new(e||i)(Le(iy),Le("APP_GLOBAL"),Le("env"))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Bke=(()=>{class i{constructor(){this.widgets=[{id:4,description:"Clear Cache",name:"Clear Cache",icon:"cached",path:"",short_description:"clear cache",sort:1},{id:4,description:"Clear Server Cache",name:"Clear Server",icon:"delete_sweep",path:"",short_description:"Clear Server cache",sort:2,roleIds:[1],userIds:[12],developer:!0},{id:3,description:"Widget",name:"Api",icon:"api",path:"",component:PI,short_description:"Entities",sort:2,roleIds:[1],userIds:[12],developer:!0},{id:4,description:"Widget",name:"Global",icon:"public",path:"",component:BI,short_description:"Global",sort:2,roleIds:[1],userIds:[12],developer:!0},{id:5,description:"Auth Details",name:"Auth",icon:"verified_user",path:"",component:N4,short_description:"log",sort:2,roleIds:[1],userIds:[12],developer:!0},{id:6,description:"Entities",name:"Entities",icon:"dashboard",path:"",component:TI,short_description:"Entities",sort:2,roleIds:[1],userIds:[12],developer:!0},{id:7,description:"Log",name:"Log",icon:"pending_actions",path:"",component:$I,short_description:"Log",sort:2,roleIds:[1],userIds:[12],developer:!0},{id:8,description:"Socket",name:"Socket",icon:"settings_ethernet",path:"",component:VI,short_description:"Socket",sort:2,roleIds:[1],userIds:[12],developer:!0},{id:9,description:"Error",name:"Error",icon:"report",path:"",component:q4,short_description:"Error",sort:2,roleIds:[1],userIds:[12],developer:!0},{id:10,description:"Chat",name:"Chat",icon:"chat",path:"",short_description:"Chat",sort:2},{id:11,description:"Change Theme",name:"Change Theme",lightIcon:"light_mode",darkIcon:"dark_mode",path:"",short_description:"change_theme"}]}getBusinessWidgets(){return this.widgets}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Vke{constructor(){this._menus=[]}get(){return this._menus}set(n){this._menus=n}init(n){return n}}class $ke{constructor(){this._widgets=[]}get(){return this._widgets}set(n){this._widgets=n}}class Hke{constructor(){this._theme="default",this._contrast="light",this._name="default-light.css",this.init=new xo(!1)}get(){return this._name}set(n="default",e="light"){this._theme=n,this._contrast=e,this._name=`${this._theme}-${this._contrast}.css`;const t=document.querySelector("#themeFileEle");if(t){const o=rn(t.href.split(Bi).pop(),"/","");this._name!==o&&(t.href=this._name)}else{const o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",this._name),o.setAttribute("id","themeFileEle"),o.addEventListener("load",()=>{this.init.next(!0)}),typeof o<"u"&&document.querySelectorAll("head")[0].append(o)}}isLoaded(){return this.init.getValue()}}class zke{constructor(){this._runTasks=!0,this._verified=!1,this._modals=0,this._open=!1,this._socket=!1,this.init=new xo(!1),this.state=new xo(null),this.verification=new R,this._unload=new R}isVerified(){var n=this;return new Promise(function(){var e=q(function*(t){const o=setInterval(()=>{if(n._verified)return clearInterval(o),t(!0)},5,5)});return function(t){return e.apply(this,arguments)}}())}setTasks(){this._runTasks=!1}isTasks(){return this._runTasks}setVerified(){this._verified=!0}setModal(){this._modals++}isModal(){return this._modals}removeModal(){this._modals&&this._modals--}isFilterBar(){return this._filter}setFilterBar(n){this._filter=n}isPipes(){return this._pipes}setPipes(n){this._pipes=n}isSocket(){return this._socket}setSocket(n){this._socket=n}isAliases(){return this._aliases}setAliases(n){this._aliases=n}isEntities(){return this._entities}setEntities(n){this._entities=n}setRedirect(n){this._redirect=n}isRedirect(){return this._redirect}isPermissions(){return this._permissions}setPermissions(n){this._permissions=n}isOpen(){return this._open}setOpen(n){this._open=n}setState(n){this.state.next(n)}}let jke=(()=>{class i{static forRoot(e=[],t={}){return{ngModule:i,providers:[{provide:"APP_GLOBAL",useClass:zke},{provide:"APP_GLOBAL_PARAMS",useValue:t},{provide:uw,useClass:yke,multi:!0},{provide:uw,useClass:xke,multi:!0},{provide:to,useClass:Cke},{provide:"APP_INITIALIZER_TASKS",useValue:e},{provide:"APP_MENUS",useClass:Vke},{provide:"APP_WIDGETS",useClass:$ke},{provide:"APP_THEME",useClass:Hke}]}}constructor(e,t,o,s,r,a,l,c,A,D,te,se,le,ke,Pe,ze,at,it,_t,Nt,_i,An,Oo,Es,zo,Us,sa,Er){var Zs=this;this.action=e,this.avatar=t,this.base=o,this.cacFilter=s,this.componentFactoryResolver=r,this.credential=a,this.date=l,this.entity=c,this.externalApi=A,this.log=D,this.history=te,this.iconRegistry=se,this.pipe=le,this.platform=ke,this.portal=Pe,this.request=ze,this.router=at,this.sanitizer=it,this.schemeComponent=_t,this.template=Nt,this.socket=_i,this.widget=An,this.injector=Oo,this.tasks=Es,this.APP_GLOBAL=zo,this.APP_GLOBAL_PARAMS=Us,this.APP_THEME=sa,this.env=Er,this.name="PopInitializerModule",this.verification={pending:!1,subscription:void 0,debouncer:void 0,trigger:(oi=!1)=>{this.verification.debouncer&&clearTimeout(this.verification.debouncer),this.verification.debouncer=setTimeout(()=>this._verifyAuthStorage(this.base.getAuthDetails(),oi),5)},unload:()=>{this.verification.subscription&&this.verification.subscription.unsubscribe(),this.verification.debouncer&&clearTimeout(this.verification.debouncer)}},this.unload={pending:!1,subscription:void 0,debouncer:void 0,trigger:()=>{this.unload.debouncer&&clearTimeout(this.unload.debouncer),this.unload.debouncer=setTimeout(()=>{this.unload.run()},0)},run:()=>{this.unload.subscription&&this.unload.subscription.unsubscribe(),this.verification.unload()}},this.iconRegistry.addSvgIcon("admin",this.sanitizer.bypassSecurityTrustResourceUrl("assets/images/admin.svg")),new Promise(function(){var oi=q(function*(mi){const yi=Zs.base.getAuthDetails();try{Zs._setBusinessId(yi)}catch(io){yield Zs._handleUnauthenticatedUser()}return Zs.APP_GLOBAL_PARAMS.open?yield Zs._handlePublicApp():(yield Zs._loadAppTheme(),yield Zs._init(yi),yield Y(yi,["id","businesses","users","token","email_verified_at"])&&!Zs.base.isAuthExpired()?Zs._handleAuthenticatedUser(yi):Zs._handleUnauthenticatedUser()),mi(!0)});return function(mi){return oi.apply(this,arguments)}}()).catch(oi=>{this._handleUnauthenticatedUser().then()})}_handleUnauthenticatedUser(){var e=this;return new Promise(function(){var t=q(function*(o){return e.base.clearAuthDetails(),window.location.href.includes("user/legacy/auth/clear")||(window.location.href=window.location.protocol+"//"+window.location.host+"/user/legacy/auth/clear"),o(!0)});return function(o){return t.apply(this,arguments)}}())}_handleAuthenticatedUser(e){var t=this;return new Promise(function(){var o=q(function*(s){return yield(yield t._verifyAuthStorage(e))?t._welcome():t._handleUnauthenticatedUser(),s(!0)});return function(s){return o.apply(this,arguments)}}())}_handlePublicApp(){var e=this;return new Promise(function(){var t=q(function*(o){return Xn("App.theme",null),Xn("App.themeContrast",null),yield e._loadAppTheme(),yield e._setDependencies(!1,null),yield e._fireVerifiedApp(),o(!0)});return function(o){return t.apply(this,arguments)}}())}_fireVerifiedApp(){var e=this;return new Promise(function(){var t=q(function*(o){return e.APP_GLOBAL.setVerified(),e.APP_GLOBAL.init.next(!0),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setDependencies(e,t){var o=this;return q(function*(){return new Promise(function(){var s=q(function*(r){return o.APP_GLOBAL.setAliases(kt(o.env.aliases)?o.env.aliases:!kt(o.APP_GLOBAL_PARAMS.aliases)||o.APP_GLOBAL_PARAMS.aliases),o.APP_GLOBAL.setFilterBar(kt(o.env.filter)?o.env.filter:!kt(o.APP_GLOBAL_PARAMS.filter)||o.APP_GLOBAL_PARAMS.aliases),o.APP_GLOBAL.setPipes(kt(o.env.pipes)?o.env.pipes:!kt(o.APP_GLOBAL_PARAMS.pipes)||o.APP_GLOBAL_PARAMS.pipes),o.APP_GLOBAL.setEntities(kt(o.env.entities)?o.env.entities:!kt(o.APP_GLOBAL_PARAMS.entities)||o.APP_GLOBAL_PARAMS.entities),o.APP_GLOBAL.setOpen(kt(o.env.open)?o.env.open:!!kt(o.APP_GLOBAL_PARAMS.open)&&o.APP_GLOBAL_PARAMS.open),o.APP_GLOBAL.setRedirect(kt(o.env.redirect)?o.env.redirect:!!kt(o.APP_GLOBAL_PARAMS.redirect)&&o.APP_GLOBAL_PARAMS.redirect),o.APP_GLOBAL.setPermissions(kt(o.env.permissions)?o.env.permissions:!!kt(o.APP_GLOBAL_PARAMS.permissions)&&o.APP_GLOBAL_PARAMS.permissions),o.APP_GLOBAL.setSocket(kt(o.env.socket)?o.env.socket:!!kt(o.APP_GLOBAL_PARAMS.socket)&&o.APP_GLOBAL_PARAMS.socket),function nde(i){Rt||(Rt=i)}(o.injector),function pde(i){ap||(ap=i)}(o.env?o.env:{}),function _de(i){GB||(GB=i)}(o.externalApi),function vde(i){i&&"string"==typeof i&&(Bi=i)}(rn(o.platform.getBaseHrefFromDOM(),"/","")),function ude(i){ut||(ut=i)}(o.log),function fde(i){gt||(gt=i)}(o.request),function hde(i){zB||(zB=i)}(o.widget),function ade(i){Nc||(Nc=i)}(o.action),function gde(i){jB||(jB=i)}(o.avatar),function Sde(i){xn||(xn=i)}(o.template),function mde(i){sI||(sI=i)}(o.componentFactoryResolver),e&&(function cde(i){wo||(wo=i)}(o.date),function rde(i){Gv||(Gv=i)}(o.history),function sde(i){Qn||(Qn=i)}(o.entity),function lde(i){eo||(eo=i)}(o.pipe),function bde(i){Wv||(Wv=i)}(o.portal),function wde(i){gd||(gd=i)}(o.schemeComponent),function dde(i){_u||(_u=i)}(o.socket),o._setPopAuth(t),o._setBusinessId(t),yield Promise.all([o._setRouteCacheClear(),o._setSystemRouteHandling(),o._setBusinessAssets(t),o._loadPipeResources()]),yield o._loadFilterData()),r(!0)});return function(r){return s.apply(this,arguments)}}())})()}_init(e){var t=this;return new Promise(function(){var o=q(function*(s){return yield t._setDependencies(!0,e),yield t._setAncillary(e),yield t._configure(e),t.APP_GLOBAL.init.next(!0),t.unload.subscription||(t.unload.subscription=t.APP_GLOBAL._unload.subscribe(()=>{t.unload.trigger()})),s(!0)});return function(s){return o.apply(this,arguments)}}())}_setAncillary(e){var t=this;return new Promise(function(){var o=q(function*(s){return t.APP_GLOBAL.isTasks()&&(t.APP_GLOBAL.setTasks(),yield t._callAppTasks()),s(!0)});return function(s){return o.apply(this,arguments)}}())}_configure(e){var t=this;return new Promise(function(){var o=q(function*(s){return Y(e,["id","businesses","users","token"])&&!t.base.isAuthExpired()&&Bi&&(Y(zt,["id"])?yield Promise.all([t._setBusinessUserSettings(),t._setFilterAliases(),t._setRouteAliasMap(),t._setDefaultTabs()]):ut.init(t.name,"No Business Found")),s(!0)});return function(s){return o.apply(this,arguments)}}())}_callAppTasks(){var e=this;return new Promise(function(){var t=q(function*(o){return Y(zt,!0)&&De(e.tasks,!0)&&e.tasks.map(s=>{It(s)&&s()}),o(!0)});return function(o){return t.apply(this,arguments)}}())}_loadAppTheme(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){let s=Y(lo,["id"])?Lt(lo,["setting","theme"],null):null;s||(s=Ss("App.theme","default"));let r=Y(lo,["id"])?Lt(lo,["setting","theme_contrast"],null):null;return r||(r=Ss("App.themeContrast","light")),Xn("App.theme",s),Xn("App.themeContrast",r),e.APP_THEME.set(s,r),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_setPopAuth(e){rI({id:e.id,name:e.name,first_name:e.first_name,last_name:e.last_name,initials:e.initials,email:e.email,email_verified_at:e.email_verified_at,avatarLink:Lt(e,["profile","avatar_link"],null),username:e.username,created_at:e.created_at})}_setBusinessId(e){Xr(this.businessId)&&(this.businessId=0),Y(e.businesses,!0)&&(this.businessId||(this.businessId=String(rs("Business.last",0))),+this.businessId&&this.businessId in e.businesses||(this.businessId=this.base.getCurrentBusinessId()),this.businessId=+this.businessId&&this.businessId in e.businesses?+this.businessId:+e.business_fk&&e.business_fk in e.businesses?+e.business_fk:Y(e.businesses,!0)?+Object.keys(e.businesses)[0]:0)}_verifyAuthStorage(e,t=!1){var o=this;return new Promise(function(){var s=q(function*(r){let a=!0;if(!o.businessId)return ut.init(o.name,"Verification:Complete - No Business Id"),o.APP_GLOBAL.setVerified(),r(a);if(Y(sl,["created_at"])&&kt(sl.email_verified_at,!1)&&!o.verification.pending){ut.init(o.name,"Verification: In Progress"),o.verification.pending=!0;const A=Lt(o.base.getAuthBusinesses()[o.base.getCurrentBusinessId()],["apps",Bi]),D=["home","user","widget","widgets"];ut.init(o.name,"Current existing app:",{PopApp:Mr,PopHref:Bi,app:A}),Bi&&!D.includes(Bi)&&!Y(A,["id","menu"])&&(a=!1,window.console.log("could not find app for href",Bi)),!t&&o.businessId&&Lt(e,["businesses",o.businessId,"apps"])?ut.init(o.name,"Business has already been verified"):(yield o._showVerificationRoute(),e=yield o.credential.verify(o.businessId)),e?(o._setBusinessId(e),yield Promise.all([o._setBusinessAssets(e),o._loadAppTheme(),o._setAncillary(e),o._configure(e),o._setRouteAliases()]),o.verification.pending=!1,o.verification.subscription||(o.verification.subscription=o.APP_GLOBAL.verification.subscribe(()=>{o.verification.trigger(!0)})),o.APP_GLOBAL.isSocket()&&(_u.createSocket("global"),_u.listen()),yield o._fireVerifiedApp()):a=!1}else a=!1;return ut.init(o.name,"Verification: Complete",a),r(a)});return function(r){return s.apply(this,arguments)}}())}_showVerificationRoute(){var e=this;return new Promise(function(){var t=q(function*(o){fd(zt.name),e.router.navigate(["system/verification"],{skipLocationChange:!0}).catch(s=>{window.console.log(s)}).then(()=>o(!0))});return function(o){return t.apply(this,arguments)}}())}_setBusinessAssets(e){var t=this;return new Promise(function(){var o=q(function*(s){return+t.businessId&&Y(e,["id","businesses","users","token"])&&(t.base.setCurrentBusinessId(+t.businessId),function xde(i){i&&"object"==typeof i&&Object.keys(i).length>0&&(lo=JSON.parse(JSON.stringify(i)))}(Y(e.users,!0)&&t.businessId in e.users?e.users[t.businessId]:null),UB(Y(e.businesses,!0)&&t.businessId in e.businesses?e.businesses[t.businessId]:null),function yde(i){i&&"object"==typeof i&&Object.keys(i).length>0&&(Mr=JSON.parse(JSON.stringify(i)))}(Y(zt.apps,[Bi])?zt.apps[Bi]:null),yield t._setBusinessAppEntities()),s(!0)});return function(s){return o.apply(this,arguments)}}())}_setBusinessAppEntities(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){const s=e.base.getAuthDetails();if(Y(zt,["id","apps"])&&Y(zt.apps,!0)){const r=[],a=new Set(["library","home","global","widget"]);Object.keys(zt.apps).map(l=>{const c=zt.apps[l];s.businesses[zt.id].apps[c.name].visible=!0,c.visible=!0,c.hasReadAccess=!1,Y(c,!0)&&Y(c.entities,!0)&&Object.keys(c.entities).map(A=>{if(Y(c.entities[A],["id","name","internal_name"])){const D=c.entities[A];D.access={},Y(lo,["permissions"])&&Y(lo.permissions,!0)&&D.internal_name in lo.permissions&&(D.access=lo.permissions[D.internal_name]),D.access.can_read&&(c.hasReadAccess=!0),Qn.setEntityParams(D),eo.updateEntityAlias(D.id,D.alias)}}),e.APP_GLOBAL.isEntities()&&!c.hasReadAccess&&!a.has(c.name)&&r.push(c.name)}),De(r,!0)&&r.map(l=>{zt.apps[l].visible=!1,s.businesses[zt.id].apps[l].visible=!1}),e.base.setAuthDetails(s)}return o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_setBusinessUserSettings(){var e=this;return new Promise(function(){var t=q(function*(o){return Y(zt,["id"])&&(e.date.setCurrentBusinessUnitSettings(),ut.init(e.name,":BusinessUserSettings")),o(!0)});return function(o){return t.apply(this,arguments)}}())}_welcome(){return new Promise(function(){var t=q(function*(o){return Y(sl,["created_at"])&&(Date.now(),Ss("Login.time",0)),o(!0)});return function(o){return t.apply(this,arguments)}}())}_loadFilterData(){var e=this;return new Promise(function(){var t=q(function*(o){return e.APP_GLOBAL.isFilterBar()&&Y(zt,["id"])&&(Qn.checkAccess("client","can_read")?(yield e.cacFilter.setData(e.name),ut.init(e.name,":Filter Data Set")):xn.turnOffFilter()),o(!0)});return function(o){return t.apply(this,arguments)}}())}_loadPipeResources(){var e=this;return new Promise(function(){var t=q(function*(o){return Y(zt,["id"])&&(yield e.pipe.loadResources(),ut.init(e.name,":Pipe Resources Set")),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setFilterAliases(){var e=this;return new Promise(function(){var t=q(function*(o){return e.APP_GLOBAL.isFilterBar()&&e.APP_GLOBAL.isEntities()&&e.APP_GLOBAL.isAliases()&&e.cacFilter.setConfigAliases(),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setRouteAliasMap(){var e=this;return new Promise(function(){var t=q(function*(o){const s={};if(e.APP_GLOBAL.isEntities()&&e.APP_GLOBAL.isAliases()){const r=rs("Auth.details",{});+e.businessId&&Y(r,["businesses"])&&Y(r.businesses[e.businessId],["apps"])&&Y(r.businesses[e.businessId].apps,!0)&&Object.keys(r.businesses[e.businessId].apps).map(a=>{const l=r.businesses[e.businessId].apps[a];Y(l.entities,!0)&&Object.keys(l.entities).map(c=>{const A=l.entities[c];Y(l.entities[c],!0)&&Y(l.entities[c].alias,["plural"])&&(s[A.internal_name]={singular:Yl(l.entities[c].alias.name),plural:Yl(l.entities[c].alias.plural)})})})}return function kde(i){i&&"object"==typeof i&&(lp=i)}(s),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setRouteAliases(){var e=this;return new Promise(function(){var t=q(function*(o){return e.APP_GLOBAL.isEntities()&&e.APP_GLOBAL.isAliases()&&(e.router.config=Qv(e.router.config),e.router.config.reduce((s,r)=>(r.loadChildren&&r.data&&r.data.routeAliases&&e.router.events.pipe(ln(a=>a instanceof H2)).subscribe(a=>{Qv(a.route._loadedRoutes)}),s),[])),yield al(5),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setRouteCacheClear(){var e=this;return new Promise(function(){var t=q(function*(o){return e.router.config.find(r=>"system/cache/clear"===r.path)||(e.router.config=[...e.router.config,{path:"system/cache/clear",pathMatch:"full",canActivate:[Rke],component:Mke}]),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setSystemRouteHandling(){var e=this;return new Promise(function(){var t=q(function*(o){return e.router.config.find(l=>"system/route"===l.path)||(e.router.config=[...e.router.config,{path:"system/route",pathMatch:"full",component:Tke}]),e.router.config.find(l=>"system/error/:code"===l.path)||(e.router.config=[...e.router.config,{path:"system/error/:code",pathMatch:"full",canActivate:[JV],component:Ake}]),e.router.config.find(l=>"system/verification"===l.path)||(e.router.config=[...e.router.config,{path:"system/verification",pathMatch:"full",canActivate:[JV],component:Dke}]),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setDefaultTabs(){var e=this;return new Promise(function(){var t=q(function*(o){return e.APP_GLOBAL.isEntities()&&Qn.setEntityTabs("default",[bke,vke]),o(!0)});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(Le(ia),Le(Fke),Le(Ho),Le(fp),Le(Va),Le(AI),Le(UV),Le(ql),Le(Lke),Le(uy),Le(tg),Le(lf),Le(Wf),Le(__),Le(qI),Le(Cu),Le(Ji),Le(fm),Le(Nke),Le(II),Le(SI),Le(Bke),Le(Jn),Le("APP_INITIALIZER_TASKS"),Le("APP_GLOBAL"),Le("APP_GLOBAL_PARAMS"),Le("APP_THEME"),Le("env"))},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:[AI],imports:[Oke]}),i})(),QV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,Nm,Ol,Ic,kv,jl,Wh,ea]}),i})(),Yke=(()=>{class i{constructor(e,t,o){this.data=e,this.dialog=t,this.history=o}goBack(){this.history.goBack(),this.dialog.close()}}return i.\u0275fac=function(e){return new(e||i)(P(zs),P(Yo),P(tg))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-error"]],decls:4,vars:2,consts:[["mat-raised-button","",3,"click"]],template:function(e,t){1&e&&(x(0,"h1"),ee(1),C(),x(2,"button",0),ie("click",function(){return t.goBack()}),ee(3,"Go Back"),C()),2&e&&(_(1),fc("Error: ",t.data.code," - ",t.data.message,""))},dependencies:[kn],encapsulation:2}),i})(),ku=(()=>{class i{constructor(e){this.dialog=e}ngAfterViewInit(){setTimeout(()=>{this.loadErrorDialog()},500)}loadErrorDialog(){this.dialog.open(Yke,{data:{code:this.error.code,message:this.error.message}})}}return i.\u0275fac=function(e){return new(e||i)(P(Fn))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-errors"]],inputs:{error:"error"},decls:0,vars:0,template:function(e,t){}}),i})(),tA=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[ur]}),i})();function Xke(i,n){if(1&i&&(x(0,"div",9),ee(1),C()),2&i){const e=I(2);_(1),Je(e.config.inDialog.title)}}function qke(i,n){if(1&i){const e=Me();x(0,"button",10),ie("click",function(){return he(e),pe(I(2).onFormCancel())}),ee(1," Cancel "),C()}2&i&&g("disabled",I(2).dom.state.pending)}function Jke(i,n){if(1&i&&(x(0,"span"),ee(1),C()),2&i){const e=I(2);_(1),Je(e.config.inDialog.submit)}}function Qke(i,n){1&i&&(x(0,"div"),me(1,"mat-spinner",11),C())}function eIe(i,n){if(1&i&&(x(0,"div",15),ee(1),C()),2&i){const e=I(3);_(1),Je(e.dom.state.success)}}function tIe(i,n){1&i&&me(0,"div",16),2&i&&g("innerHTML",I(3).dom.error.message,yr)}function iIe(i,n){if(1&i&&(x(0,"div",12),$(1,eIe,2,1,"div",13),$(2,tIe,1,1,"div",14),C()),2&i){const e=I(2);g("@slideInOut",void 0),_(1),g("ngIf",e.dom.state.success),_(1),g("ngIf",e.dom.error.message)}}const nIe=function(i){return{"in-dialog-disabled":i}};function oIe(i,n){if(1&i){const e=Me();x(0,"div"),$(1,Xke,2,1,"div",1),x(2,"div",2)(3,"form",3),ie("keyup.enter",function(o){return he(e),pe(I().onEnterPress(o))}),x(4,"lib-group",4),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C()()(),x(5,"div",5),$(6,qke,2,1,"button",6),x(7,"button",7),ie("click",function(){return he(e),pe(I().onFormSubmit())}),$(8,Jke,2,1,"span",0),$(9,Qke,2,0,"div",0),C()(),$(10,iIe,3,3,"div",8),C()}if(2&i){const e=I();g("@slideInOut",void 0),_(1),g("ngIf",null!==e.config.inDialog.title),_(2),g("formGroup",e.ui.form)("className",e.dom.state.pending?"in-dialog-field-lock":""),_(1),g("ngClass",qe(11,nIe,e.dom.state.pending))("config",e.config),_(2),g("ngIf",e.config.inDialog.cancel),_(1),g("disabled",!e.dom.state.validated||e.dom.state.pending),_(1),g("ngIf",!e.dom.state.pending),_(1),g("ngIf",e.dom.state.pending),_(1),g("ngIf",e.dom.state.success||(null==e.dom.error?null:e.dom.error.message))}}let e5=(()=>{class i extends Yt{constructor(e,t,o){super(),this.el=e,this.dialog=t,this.config=o,this.events=new tt,this.http="POST",this.name="InDialogComponent",this.srv={events:Rt.get(ul),request:Rt.get(Cu),router:Rt.get(Ji)},this.asset={visible:0},this.ui={form:void 0},this.dom.configure=()=>new Promise(s=>{const r={};this.dom.state.validated=!1,this.config.inDialog.submit||(this.config.inDialog.submit="Submit"),this.config.fieldItems.map(a=>{a.config&&a.config.control&&(r[a.config.name]=a.config.control,this.asset.visible++)}),this.dom.setHeight(40*this.asset.visible,0),this.ui.form=new Xw(r),s(!0)}),this.dom.proceed=()=>new Promise(s=>{this._triggerFormValidation(),s(!0)})}ngOnInit(){super.ngOnInit()}onEnterPress(e){e.preventDefault(),e.stopPropagation(),this.dom.state.validated&&this.dom.setTimeout("submit-form",()=>this.onFormSubmit(),500)}onFormSubmit(){var e=this;return new Promise(function(){var t=q(function*(o){if(e.dom.state.validated&&!e.dom.state.pending){e._onSubmissionStart();const s=e.ui.form.value;("POST"===e.http?e.srv.request.doPost(e.config.inDialog.postUrl,s,null!==e.config.inDialog.postUrlVersion?e.config.inDialog.postUrlVersion:1):e.srv.request.doPatch(e.config.inDialog.postUrl,s,null!==e.config.inDialog.postUrlVersion?e.config.inDialog.postUrlVersion:1)).subscribe(function(){var a=q(function*(l){const c=e.config.inDialog.goToUrl;if(e.config.entity=l=l.data?l.data:l,yield e._onSubmissionSuccess(),e.dialog.close(e.config.entity),Ne(c,!0)){const A=bd(c,e.config.entity);e.srv.router.navigate([A]).catch(D=>{console.log(D)})}return o(!0)});return function(l){return a.apply(this,arguments)}}(),a=>(e._onSubmissionFail(),e._setErrorMessage(a),o(!1)))}});return function(o){return t.apply(this,arguments)}}())}onFormCancel(){this.dom.state.loaded=!1,this.dom.setTimeout("close-modal",()=>{this.config.entity=null,this.dialog.close(-1)},500)}onBubbleEvent(e){"onKeyUp"===e.name&&(this.dom.state.validated=!1,this.dom.setTimeout("trigger-validation",()=>{this._triggerFormValidation()},500)),(Ln(0,e)||"onBlur"===e.name)&&this.dom.setTimeout("trigger-validation",()=>{this._triggerFormValidation()},500),this.events.emit(e)}ngOnDestroy(){super.ngOnDestroy()}_triggerFormValidation(){this.dom.setTimeout("trigger-form-validation",()=>{this._validateForm().then(e=>{this.dom.state.validated=e})},50)}_validateForm(){return new Promise(e=>{this.dom.state.validated=!1,this.dom.setTimeout("trigger-form-validation",null),this.dom.setTimeout("validate-form",()=>{this.ui.form.updateValueAndValidity(),setTimeout(()=>(this.dom.state.validated=!0,e(this.ui.form.valid)),0)},0)})}_onSubmissionStart(){this.dom.state.pending=!0,this.dom.setTimeout("submit-form",null),this.dom.setTimeout("trigger-validation",null),this.dom.setTimeout("trigger-form-validation",null),this.dom.setTimeout("validate-form",null),this.dom.error.message="",this.dom.setTimeout("set-error",null)}_onSubmissionFail(){this.dom.state.pending=!1}_onSubmissionSuccess(){var e=this;return new Promise(function(){var t=q(function*(o){e.dom.state.pending=!1,e.dom.state.validated=!1,e.dom.state.success=null!==e.config.entity.message?e.config.entity.message:"Created";const s={source:e.name,method:"create",type:"entity",name:e.config.params.name,internal_name:e.config.params.internal_name,data:e.config.entity};return It(e.config.inDialog.callback)&&(yield e.config.inDialog.callback(e.core,s)),e.srv.events.sendEvent(s),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setErrorMessage(e){this.dom.setTimeout("set-err-msg",()=>{this.dom.state.pending=!1,this.dom.error.message=qn(e),this.ui.form.markAsPristine()},500)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Yo),P(zs))},i.\u0275cmp=Fe({type:i,selectors:[["lib-in-dialog"]],inputs:{http:"http"},outputs:{events:"events"},features:[Re],decls:1,vars:1,consts:[[4,"ngIf"],["class","in-dialog-title",4,"ngIf"],[1,"in-dialog-fields"],[3,"formGroup","className","keyup.enter"],[3,"ngClass","config","events"],[1,"in-dialog-buttons"],["class","in-dialog-cancel","mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","accent",1,"in-dialog-other",3,"disabled","click"],["class","in-dialog-message-layout",4,"ngIf"],[1,"in-dialog-title"],["mat-raised-button","",1,"in-dialog-cancel",3,"disabled","click"],["diameter","20"],[1,"in-dialog-message-layout"],["class","in-dialog-success",4,"ngIf"],["class","in-dialog-errors",3,"innerHTML",4,"ngIf"],[1,"in-dialog-success"],[1,"in-dialog-errors",3,"innerHTML"]],template:function(e,t){1&e&&$(0,oIe,11,13,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:["[_nghost-%COMP%]{position:relative;display:block;min-width:350px}[_nghost-%COMP%]   .in-dialog-title[_ngcontent-%COMP%]{font-weight:500;text-align:center;margin-bottom:10px}[_nghost-%COMP%]   .in-dialog-fields[_ngcontent-%COMP%]{position:relative;display:block;width:100%;margin-bottom:10px}[_nghost-%COMP%]   .in-dialog-fields[_ngcontent-%COMP%]   .in-dialog-field[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .in-dialog-fields[_ngcontent-%COMP%]   .in-dialog-field-lock[_ngcontent-%COMP%]{pointer-events:none!important}[_nghost-%COMP%]   .in-dialog-fields[_ngcontent-%COMP%]   .in-dialog-field-spinner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;margin-left:-22px;margin-top:-40px}[_nghost-%COMP%]   .in-dialog-buttons[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}[_nghost-%COMP%]   .in-dialog-buttons[_ngcontent-%COMP%]   .in-dialog-cancel[_ngcontent-%COMP%]{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-height:35px;min-width:140px}[_nghost-%COMP%]   .in-dialog-buttons[_ngcontent-%COMP%]   .in-dialog-other[_ngcontent-%COMP%]{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:10px;min-width:140px;min-height:35px}[_nghost-%COMP%]   .in-dialog-errors[_ngcontent-%COMP%]{color:var(--warn);text-align:center;word-break:break-word}[_nghost-%COMP%]   .in-dialog-success[_ngcontent-%COMP%]{color:var(--success);text-align:center;word-break:break-word}[_nghost-%COMP%]   .in-dialog-message-layout[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;min-height:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}[_nghost-%COMP%]   .in-dialog-disabled[_ngcontent-%COMP%]{pointer-events:none}"],data:{animation:[gp]}}),i})();const sIe=["container"];let t5=(()=>{class i extends Jo{constructor(e){super(),this.el=e,this.subscribers=[],this.name="GroupComponent",this.dom.configure=()=>new Promise(t=>{this.template.attach("container"),this.core.entity={id:0,name:null},this.config.fieldItemMap={};const o=[];this.config.fieldItems.map(s=>{this.core.entity[s.model.name]="control"in s.config?s.config.control.value:null}),this.config.fieldItems.map((s,r)=>{if(s&&Y(s.model,["name"])&&s.config&&s.component){this.config.fieldItemMap[s.model.name]=r,this.config.inDialog&&(s.config.bubble=!0);const a={type:s.component,inputs:{config:s.config,position:s.config.metadata.position?s.config.metadata.position:1,hidden:!!De(s.model.when,!0)&&!Vc(this.core,s.model.when,this.core),when:De(s.model.when,!0)?s.model.when:null}};o.push(a)}}),this.template.render(o,[],!0),this.dom.handler.bubble=(s,r)=>{if(Ln(0,r)&&r.config.name in this.core.entity){const a=isNaN(r.config.control.value)?r.config.control.value:+r.config.control.value;this.core.entity[r.config.name]=a,this.config.fieldItems.length>1&&(this._resetComponentListHidden(),this.dom.setTimeout("update-relations",()=>{this._triggerParentChildUpdates(r.config.name)},0))}(r.config.bubble||["patch","portal"].includes(r.name))&&this.events.emit(r)},this.config.getField=s=>s&&s in this.config.fieldItemMap?this.config.fieldItems[this.config.fieldItemMap[s]]:null,this.events.emit({source:"GroupComponent",type:"field_group",name:"init",id:this.config.id,group:this.config}),t(!0)}),this.dom.proceed=()=>new Promise(t=>(this.dom.setTimeout("parent-child",()=>{this._triggerParentChildUpdates("client_id")}),t(!0)))}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this.subscribers.map(function(e){e&&e.unsubscribe()}),super.ngOnDestroy()}_getRelationList(e,t=[]){let o;return e&&e in this.config.fieldItemMap&&(o=this.config.fieldItems[this.config.fieldItemMap[e]],Y(o,["config","model"])&&(t.push({name:o.config.name,autoFill:this._fieldHasAutoFill(e)}),this._fieldHasChild(e)&&this._getRelationList(this.config.fieldItems[this.config.fieldItemMap[e]].model.options.child,t))),t}_fieldHasChild(e){return!!(e in this.config.fieldItemMap&&this.config.fieldItems[this.config.fieldItemMap[e]].model&&this.config.fieldItems[this.config.fieldItemMap[e]].model.options&&this.config.fieldItems[this.config.fieldItemMap[e]].model.options.child)}_fieldHasAutoFill(e){return!!(e in this.config.fieldItemMap&&this.config.fieldItems[this.config.fieldItemMap[e]].model&&this.config.fieldItems[this.config.fieldItemMap[e]].model.options&&this.config.fieldItems[this.config.fieldItemMap[e]].model.autoFill)}_triggerParentChildUpdates(e){if(this._fieldHasChild(e)){let t,o,s,a,l,r=!1;this._getRelationList(e).some(A=>{if(A.autoFill)return r=!0,!0}),e&&e in this.config.fieldItemMap&&(o=this.config.fieldItems[this.config.fieldItemMap[e]].model.options.child,o&&o in this.config.fieldItemMap&&(s=this.config.fieldItems[this.config.fieldItemMap[o]],"select"===s.model.form&&(s.model.options.resource&&Y(this.config.metadata[s.model.options.resource],["data_values"])&&(l=this.config.metadata[s.model.options.resource].data_values),t=De(l,!0)?as(l,{prevent:[],parent:s.model.options.parent?{field:s.model.options.parent,value:this.core.entity[s.model.options.parent]}:null,empty:s.model.options.empty?s.model.options.empty:null}):[],a=r&&t.length?t[t.length-1].value:null,s.config.options.values=t,r=r&&t.length?t[0].value:null,"function"==typeof s.config.triggerOnChange&&s.config.triggerOnChange(a),this.dom.setTimeout(`clear-message-${o}`,()=>{"function"==typeof s.config.clearMessage&&s.config.clearMessage()},0))))}}_resetComponentListHidden(){let e;this.template.refs.filter(t=>Y(t.instance.config,!0)&&De(t.instance.when,!0)).map(t=>{e=t.instance.config.name,e&&e in this.config.fieldItemMap&&(t.instance.hidden=!Vc(this.core,t.instance.when,this.core))})}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-group"]],viewQuery:function(e,t){if(1&e&&ht(sIe,7,Ri),2&e){let o;Ke(o=Ye())&&(t.container=o.first)}},inputs:{config:"config"},features:[Re],decls:4,vars:0,consts:[[1,"field-group-container","sw-flex-column"],["container",""],[2,"width","100%","display","block","clear","both"]],template:function(e,t){1&e&&(x(0,"div",0),me(1,"template",null,1)(3,"div",2),C())},styles:[".field-group-container[_ngcontent-%COMP%]{position:relative;display:block;min-height:40px;padding-bottom:15px}"]}),i})(),n5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,ur,Ol,zc,ea,ly,ny]}),i})();function rIe(i,n){if(1&i){const e=Me();x(0,"lib-group",1),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C()}2&i&&g("config",I().config)}Tt(_V,[Gt,ai,ct,wr,pa,nu,Ac,wi,LL,Z1,Pn,Ts,MI],[]);let iA=(()=>{class i extends Yt{constructor(e){super(),this.el=e,this.close=new tt,this.name="PopFieldItemGroupComponent",this.srv={dialog:Rt.get(Fn)},this.dom.configure=()=>new Promise(t=>{t(!0)})}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){this.config.inDialog&&this.dom.setTimeout("load-modal",()=>{this._loadGroupInDialogBox()},0)}onBubbleEvent(e){this.events.emit(e)}ngOnDestroy(){super.ngOnDestroy()}_loadGroupInDialogBox(){const e=this.srv.dialog.open(e5,{data:this.config,disableClose:!0});e.componentInstance.http=this.config.http,e.componentInstance.debug=this.config.debug,e.componentInstance.events.subscribe(t=>{t.group=this.config,this.events.emit(t)}),e.afterClosed().subscribe(t=>{this.close.emit(t)})}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-field-item-group"]],inputs:{config:"config"},outputs:{close:"close"},features:[Re],decls:1,vars:1,consts:[[3,"config","events",4,"ngIf"],[3,"config","events"]],template:function(e,t){1&e&&$(0,rIe,1,1,"lib-group",0),2&e&&g("ngIf",t.config&&null===t.config.inDialog)},encapsulation:2}),i})(),nA=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,el,od,ur,ea,zc,n5]}),i})();Tt(iA,[ct,t5],[]),Tt(e5,[Gt,ct,mf,jh,ba,kn,gf,t5],[]);let pIe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[ur,ea,Gi]}),i})(),o5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[ur,Gi,el,od,Hl,ea,cy,tA,nA]}),i})();Tt(hV,[kn,Xl],[]);const yIe=["container"],s5=function(i,n){return{"pfs-preview-container-default":i,"pfs-preview-container-minimal":n}},r5=function(i,n){return{"pfs-slider-icon-default":i,"pfs-slider-icon-minimal":n}};function xIe(i,n){if(1&i){const e=Me();x(0,"div",6),ie("click",function(){return he(e),pe(I().onShowMapping())}),x(1,"i",7),ee(2),C()()}if(2&i){const e=I();g("ngClass",Ii(4,s5,!e.config.minimal,e.config.minimal))("matTooltip",e.config.mappingText),_(1),g("ngClass",Ii(7,r5,!e.config.minimal,e.config.minimal)),_(1),Je(e.config.mappingIcon)}}function CIe(i,n){if(1&i){const e=Me();x(0,"div",6),ie("click",function(){return he(e),pe(I().onPreviewClick())}),x(1,"i",7),ee(2),C()()}if(2&i){const e=I();g("ngClass",Ii(4,s5,!e.config.minimal,e.config.minimal))("matTooltip",e.config.previewText),_(1),g("ngClass",Ii(7,r5,!e.config.minimal,e.config.minimal)),_(1),Je(e.config.previewIcon)}}const wIe=function(i,n){return{"pfs-slider-icon-default pfs-slider-icon-top":i,"pfs-slider-icon-minimal pfs-slider-icon-top-minimal":n}};function kIe(i,n){if(1&i&&(x(0,"i",10),ee(1,"switch_right"),C()),2&i){const e=I(2);g("ngClass",Ii(1,wIe,!e.config.minimal,e.config.minimal))}}const IIe=function(i,n){return{"pfs-slider-icon-default pfs-slider-icon-bottom ":i,"pfs-slider-icon-minimal pfs-slider-icon-bottom-minimal":n}};function AIe(i,n){if(1&i&&(x(0,"i",10),ee(1,"switch_right"),C()),2&i){const e=I(2);g("ngClass",Ii(1,IIe,!e.config.minimal,e.config.minimal))}}const SIe=function(i,n){return{"pfs-slider-container-default":i,"pfs-slider-container-minimal":n}};function MIe(i,n){if(1&i){const e=Me();x(0,"div",8),ie("click",function(){return he(e),pe(I().onToggleSlider())}),$(1,kIe,2,4,"i",9),$(2,AIe,2,4,"i",9),C()}if(2&i){const e=I();g("ngClass",Ii(3,SIe,!e.config.minimal,e.config.minimal)),_(1),g("ngIf",e.dom.state.top),_(1),g("ngIf",!e.dom.state.top)}}let my=(()=>{class i extends Jo{constructor(e,t){var o;super(),o=this,this.el=e,this._domRepo=t,this.name="PopFieldSliderComponent",this.srv={},this.asset={},this.ui={input:new li({label:"Test Input",value:"Test Input"}),select:new Zi({label:"Select Field",value:"Select Field"})},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield o._setInitialConfig(),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){return r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.handler.bubble=function(){var s=q(function*(r,a){(P4(0,a)||Ln(0,a))&&(o.config[o.config.position+"Value"]=a.config.control.value),It(o.config.onEvent)&&(yield o.config.onEvent(o.core,a)),o.events.emit(a)});return function(r,a){return s.apply(this,arguments)}}()}onShowMapping(){var e=this;return q(function*(){It(e.config.onMapping)&&(yield e.config.onMapping(e.core,{source:e.name,type:"component",name:"onMapping",active:e.dom.state.top?"top":"bottom",top:e.config.top.inputs,bottom:e.config.bottom.inputs,config:e.config}))})()}onPreviewClick(){var e=this;return q(function*(){It(e.config.onPreview)&&(yield e.config.onPreview(e.core,{source:e.name,type:"component",name:"onPreview",active:e.dom.state.top?"top":"bottom",top:e.config.top.inputs,bottom:e.config.bottom.inputs,config:e.config}))})()}onToggleSlider(){var e=this;return q(function*(){e.dom.state.top=!e.dom.state.top,e.config.position=e.dom.state.top?"top":"bottom";const t={source:e.name,type:"component",name:"onSwitch",active:e.dom.state.top?"top":"bottom",top:e.config.top.inputs,bottom:e.config.bottom.inputs,config:e.config};It(e.config.onSwitch)&&(yield e.config.onSwitch(e.core,t)),e.events.emit(t),yield e._renderComponent(!0)})()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.template.attach("container"),e.dom.state.top="top"===e.config.position,e.id=e.config.id??cl(),Y(e.config.bottom)||(e.config.showSlider=!1),yield e._setConfigHooks(),yield e._renderComponent(),o(!0)});return function(o){return t.apply(this,arguments)}}())}_renderComponent(e=!1){var t=this;return q(function*(){return new Promise(function(){var o=q(function*(s){const r=t.dom.state.top?t.config.top??null:t.config.bottom??null;return r&&(t.template.render([r]),e?t.dom.setTimeout("reset-initial-value",()=>{const a="top"===t.config.position?t.config.topValue:t.config.bottomValue,l=Lt(t.config[t.config.position].inputs,["config"]);It(l.triggerOnChange)?l.triggerOnChange(a):l.control&&l.control.setValue(a)},0):t.dom.setTimeout("set-initial-value",()=>{const a="top"===t.config.position?t.config.topValue:t.config.bottomValue,l=Lt(t.config[t.config.position].inputs,["config"]);a&&(It(l.setValue)?l.setValue(a):l.control&&l.control.setValue(a))},0)),s(!0)});return function(s){return o.apply(this,arguments)}}())})()}_setConfigHooks(){var e=this;return new Promise(function(){var t=q(function*(o){return e.config.setPosition=s=>{e.config.position=s,e.dom.state.top="top"===e.config.position,e._renderComponent()},o(!0)});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-field-slider"]],viewQuery:function(e,t){if(1&e&&ht(yIe,7,Ri),2&e){let o;Ke(o=Ye())&&(t.container=o.first)}},inputs:{config:"config"},features:[Re],decls:8,vars:5,consts:[[1,"pfs-container","sw-flex-row","sw-field-item-container"],[1,"sw-flex-column","sw-flex-grow-lg","pfs-slider-content"],["container",""],["class","sw-flex-column pfs-preview-container sw-flex-column","matTooltipPosition","above","matTooltipShowDelay","2000",3,"ngClass","matTooltip","click",4,"ngIf"],[1,"sw-flex-column"],["class","sw-flex-column pfs-slider-container sw-flex-column","matTooltip","Switch Option","matTooltipPosition","above","matTooltipShowDelay","2000",3,"ngClass","click",4,"ngIf"],["matTooltipPosition","above","matTooltipShowDelay","2000",1,"sw-flex-column","pfs-preview-container","sw-flex-column",3,"ngClass","matTooltip","click"],[1,"material-icons","pfs-slider-icon","sw-pointer",3,"ngClass"],["matTooltip","Switch Option","matTooltipPosition","above","matTooltipShowDelay","2000",1,"sw-flex-column","pfs-slider-container","sw-flex-column",3,"ngClass","click"],["class","material-icons pfs-slider-icon sw-pointer sw-txt-xlg",3,"ngClass",4,"ngIf"],[1,"material-icons","pfs-slider-icon","sw-pointer","sw-txt-xlg",3,"ngClass"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1),me(2,"template",null,2),C(),$(4,xIe,3,10,"div",3),$(5,CIe,3,10,"div",3),me(6,"div",4),$(7,MIe,3,6,"div",5),C()),2&e&&(_(4),g("ngIf",t.config.mapping),_(1),g("ngIf",t.config.preview),_(1),et("width",5,"px"),_(1),g("ngIf",t.config.showSlider))},dependencies:[Gt,ct,Pn],styles:["[_nghost-%COMP%]{position:relative;width:100%}[_nghost-%COMP%]     .pfs-slider-content .sw-field-item-container{margin-top:0!important}[_nghost-%COMP%]     .pop-select-container{top:0!important;padding-bottom:1px!important}.pfs-container[_ngcontent-%COMP%]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;min-height:1px!important}.pfs-slider-content[_ngcontent-%COMP%]{min-height:40px}.pfs-preview-container[_ngcontent-%COMP%]{position:relative;border-radius:3px;border:1px solid var(--border);width:25px;margin-top:3px;margin-left:5px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--accent)}.pfs-preview-container-default[_ngcontent-%COMP%]{height:37px;width:30px}.pfs-preview-container-default[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{width:24px;height:24px}.pfs-preview-container-minimal[_ngcontent-%COMP%]{height:30px;width:24px}.pfs-preview-container-minimal[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{width:16px;height:12px}.pfs-slider-container[_ngcontent-%COMP%]{position:relative;border-radius:3px;border:1px solid var(--border);height:38px}.pfs-slider-container-default[_ngcontent-%COMP%]{height:38px;width:30px}.pfs-slider-container-minimal[_ngcontent-%COMP%]{height:30px;width:24px}.pfs-slider-icon[_ngcontent-%COMP%]{position:relative;color:var(--accent)}.pfs-slider-icon-default[_ngcontent-%COMP%]{font-size:24px}.pfs-slider-icon-minimal[_ngcontent-%COMP%]{font-size:16px}.pfs-slider-icon-top[_ngcontent-%COMP%]{position:relative;top:2px;-webkit-transform:rotate(90deg);transform:rotate(90deg);font-size:32px!important}.pfs-slider-icon-bottom[_ngcontent-%COMP%]{position:relative;top:4px;-webkit-transform:rotate(270deg);transform:rotate(270deg);font-size:32px!important}.pfs-slider-icon-top-minimal[_ngcontent-%COMP%]{position:relative;top:9px;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.pfs-slider-icon-bottom-minimal[_ngcontent-%COMP%]{position:relative;top:4px;left:1px;-webkit-transform:rotate(270deg);transform:rotate(270deg)}"]}),i})(),a5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,el,od,ur,ea,zc]}),i})();function PIe(i,n){if(1&i){const e=Me();x(0,"image-cropper",6),ie("imageLoaded",function(){return he(e),pe(I().onImageLoaded())})("imageCropped",function(o){return he(e),pe(I().onImageCropped(o))}),C()}if(2&i){const e=I();et("display",e.dom.state.showCropper?null:"none"),g("imageChangedEvent",e.ui.imageChangedEvent)("maintainAspectRatio",!0)("resizeToHeight",e.config.resizeHeight)("cropperMinWidth",e.config.resizeWidth)("aspectRatio",1)("format",e.config.format)}}let l5=(()=>{class i extends Yt{constructor(){var e;super(),e=this,this.name="UserImageCropperComponent",this.asset={selectedImage:void 0},this.ui={imageChangedEvent:void 0},this.dom.configure=()=>new Promise(function(){var t=q(function*(o){return e.dom.state.showCropper=!1,Y(e.config,!0)||(e.config={control:new vi,value:"",name:"file",facade:!0,ratio:"4 / 4",format:"png",resizeWidth:200,resizeHeight:200}),o(!0)});return function(o){return t.apply(this,arguments)}}())}onImageLoaded(){this.dom.state.showCropper=!0,this.log.info("Image-Loaded")}onFileUpload(e){const o=e.target.files;0===o.length||null==o[0].type.match(/image\/*/)||(this.asset.selectedImage=o[0],this.ui.imageChangedEvent=e)}onImageCropped(e){const t=e.base64,o=function tde(i){const n=i.split(","),e=n[0].replace("data:","").replace(";base64",""),t=atob(n[1]),o=new ArrayBuffer(t.length),s=new Uint8Array(o);for(let r=0;r<t.length;r+=1)s[r]=t.charCodeAt(r);return new Blob([o],{type:e})}(e.base64),s=new File([o],this.asset.selectedImage.name);this.config.control.setValue({base64:t,blob:o,file:s}),this.onBubbleEvent("onChange","Image Loaded")}onBubbleEvent(e,t,o={}){const s={type:"field",name:e,source:this.name,config:this.config};t&&(s.message=t),Object.keys(o).map(r=>{s[r]=o[r]}),this.events.emit(s)}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-image-cropper"]],inputs:{config:"config"},features:[Re],decls:7,vars:1,consts:[[1,"user-image-cropper-container"],[1,"sw-flex-row"],["type","file","name","upload-image","accept","image/*",3,"change"],["file",""],[1,"import-flex-row"],[3,"imageChangedEvent","maintainAspectRatio","resizeToHeight","cropperMinWidth","display","aspectRatio","format","imageLoaded","imageCropped",4,"ngIf"],[3,"imageChangedEvent","maintainAspectRatio","resizeToHeight","cropperMinWidth","aspectRatio","format","imageLoaded","imageCropped"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"input",2,3),ie("change",function(s){return t.onFileUpload(s)}),C()(),me(4,"mat-divider"),x(5,"div",4),$(6,PIe,1,8,"image-cropper",5),C()()),2&e&&(_(6),g("ngIf",t.dom.state.loaded&&t.config))},dependencies:[ct,Qce,Zr],styles:[".user-image-cropper-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-width:300px;min-height:300px;padding:var(--gap-s);border:1px solid var(--border);margin-top:var(--gap-sm)}[_nghost-%COMP%]     .import-flex-row{margin-top:var(--gap-s)}[_nghost-%COMP%]     mat-divider{margin-top:var(--gap-s)}"]}),i})(),c5=(()=>{class i extends Yt{constructor(e){super(),this.dialog=e,this.asset={fileData:void 0}}onChangeEvent(e){this.asset.fileData=e.config.control.value}onConfirmForm(){this.dom.setTimeout("dialog-confirm",()=>{this.dialog.close(this.asset.fileData)},0)}onCancelForm(){this.dom.setTimeout("dialog-close",()=>{this.dialog.close(null)},0)}}return i.\u0275fac=function(e){return new(e||i)(P(Yo))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-file-upload-modal"]],features:[Re],decls:11,vars:0,consts:[[1,"pop-select-modal-container","sw-field-item-container"],[1,"pop-select-modal-wrapper"],[1,"mat-h2","pop-select-modal-header"],[1,"pop-select-modal-content"],[3,"events"],[1,"pop-select-modal-actions","sw-mar-top-md"],["mat-raised-button","","cdkFocusInitial","",1,"pop-select-modal-btn",3,"click"],["mat-raised-button","",1,"pop-select-modal-btn",3,"click"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),ee(3,"Image cropper"),C(),x(4,"div",3)(5,"lib-pop-image-cropper",4),ie("events",function(s){return t.onChangeEvent(s)}),C()()(),x(6,"div",5)(7,"button",6),ie("click",function(){return t.onCancelForm()}),ee(8,"Cancel"),C(),x(9,"button",7),ie("click",function(){return t.onConfirmForm()}),ee(10,"Ok"),C()()())},styles:["[_nghost-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.pop-select-modal-container[_ngcontent-%COMP%]{-webkit-box-sizing:border-box;box-sizing:border-box}.pop-select-modal-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.pop-select-modal-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}.pop-select-modal-header[_ngcontent-%COMP%]{max-height:25px;font-size:20px}.pop-select-modal-content[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-y:auto;overflow-x:hidden}.pop-select-modal-actions[_ngcontent-%COMP%]{top:-10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row;flex-flow:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:0;max-height:40px;-webkit-box-sizing:border-box;box-sizing:border-box}.pop-select-modal-btn[_ngcontent-%COMP%]{min-width:120px;margin-left:var(--gap-s);margin-right:1px}.pop-select-clear-btn[_ngcontent-%COMP%]{-ms-flex-item-align:start;align-self:flex-start;min-width:80px;margin-left:1px;margin-right:var(--gap-s)}[_nghost-%COMP%]     .mat-dialog-container{padding:2px!important;border:1px solid currentColor!important}"]}),i})(),OIe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[VB,Gi,el,od,yk,Mk,Rb,ede,j1,ur,QV,zc,GI,cy,ea,tA,nA,n5,pIe,o5,ly,VB,tV,ny,a5]}),i})();Tt(c5,[kn,l5],[]);const RIe=["list"];function FIe(i,n){if(1&i){const e=Me();x(0,"lib-pop-table",4,5),ie("events",function(o){return he(e),pe(I().onTableEvent(o))}),C()}if(2&i){const e=I();g("core",e.core)("config",e.table.config)}}function LIe(i,n){1&i&&(x(0,"div",6),me(1,"lib-main-spinner"),C())}function NIe(i,n){1&i&&me(0,"lib-pop-errors",7),2&i&&g("error",I().dom.error)}const BIe=function(){return{"margin-top":"25px"}};let d5=(()=>{class i extends Yt{constructor(e,t,o,s){var r;super(),r=this,this.el=e,this.route=t,this._domRepo=o,this.APP_GLOBAL=s,this.dataFactory=null,this.name="PopEntityListComponent",this.table={data:[],buttons:[{id:"advanced_search",name:"Advanced Search",accessType:"can_read",requireSelected:!1},{id:"archive",name:"Archive",accessType:"can_create",requireSelected:!0},{id:"restore",name:"Activate",accessType:"can_create",requireSelected:!0},{id:"show_archived",name:"Show Archived",accessType:"can_read",requireSelected:!1},{id:"show_active",name:"Show Active",accessType:"can_read",requireSelected:!1},{id:"new",name:"New",accessType:"can_create",requireSelected:!1},{id:"delete",name:"Delete",accessType:"can_delete",requireSelected:!1}],interface:void 0,spinner:{diameter:0,strokeWidth:0},config:null},this.ui={actionModal:void 0},this.srv={action:Rt.get(ia),crud:Rt.get(ul),dialog:Rt.get(Fn),entity:Rt.get(ql),filter:Rt.get(fp),param:Rt.get(Qf),pipe:Rt.get(Wf),portal:Rt.get(qI),router:Rt.get(Ji),tab:void 0},this.asset={blueprint:void 0,blueprintData:{},cacheName:void 0,crudEventHandlerName:"PopEntityListComponent:crudEventHandler",fieldKeys:void 0,lazyLoadName:"lazy-load-fresh-data",schemeData:void 0,searchValueSessionPath:"",showArchivedSessionPath:"",tabMenuSessionPath:"",tableInterface:void 0,transformations:void 0},this.dom.configure=()=>new Promise(function(){var a=q(function*(l){return r.dom.state.useDataColumns=!1,yield r.APP_GLOBAL.isVerified(),yield r._setCoreConfig(),yield r._setInitialConfig(),yield Promise.all([r._transformRouteExtension(),r._setConfig(),r._setSessionSettings(),r._configureFilterBar(),r._setCrudHandler(),r._configureTable(),r._setHeight()]),l(!0)});return function(l){return a.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var a=q(function*(l){return r.dom.setTimeout("height-adjustment-check",q(function*(){yield r._setHeight()}),250),l(!0)});return function(l){return a.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var a=q(function*(l){return KB(null),l(!0)});return function(l){return a.apply(this,arguments)}}())}onResetTable(){this.dom.setTimeout("reset",()=>{this.dom.state.loading=!0;const e=+this.core.repo.model.table.filter.active?this.srv.filter.getHeight():25;this.dom.setHeightWithParent("sw-target-outlet",e,window.innerHeight-65).then(()=>{this.table.config&&"function"==typeof this.table.config.setLayout&&this.table.config.setLayout(this._getTableHeight())})},0)}onResetHeight(){var e=this;this.dom.setTimeout("on-reset-height",q(function*(){yield e._setHeight(),e.table.config&&"function"==typeof e.table.config.setHeight&&e.table.config.setHeight(e._getTableHeight())}))}onTableEvent(e){var t=this;if(this.log.event("onTableEvent",e),this.dom.setTimeout(this.asset.lazyLoadName,null),"table"===e.type){let o;switch(e&&Array.isArray(e.data)&&(o=e.data.map(s=>s.id).join(",")),e.name){case"search":Ne(this.asset.searchValueSessionPath)&&Xn(this.asset.searchValueSessionPath,e.data),""===e.data&&this._clearCacheDataStorage();break;case"row_clicked":this.onTableRowClicked(e.data);break;case"columnRouteClick":this.onTableColumnClicked(e.data);break;case"options_save":this.onSaveOptions(e.data);break;case"options_reset":this.onOptionsReset();break;case"new":this.onActionButtonClicked("new",e);break;case"show_archived":case"show_active":this.onShowArchivedButtonClicked();break;case"archive":this.onArchiveButtonClicked(o,!0);break;case"restore":this.onArchiveButtonClicked(o,!1);break;case"advanced_search":this.onViewAdvancedSearch();break;case"column_definitions":Y(e.data,!0)&&this.dom.setTimeout("build-columns",q(function*(){t._setFieldKeys(e.data);const s=yield t._getDefaultColumns();t.table.config.updateColumnDefinitions(s)}),0)}["search","ready"].includes(e.name)||this.dom.setTimeout(this.asset.lazyLoadName,null)}"context_menu"===e.type&&"portal"===e.name&&e.internal_name&&e.id&&this.onViewEntityPortal(e.internal_name,+e.id)}onViewAdvancedSearch(){var e=this;return q(function*(){if(!e.dom.state.blockModal&&0===e.srv.dialog.openDialogs.length){e.dom.state.blockModal=!0;const t=yield Nc.do(e.core,"advanced_search");window.console.log({result:t}),e.dom.state.blockModal=!1}})()}onTableRowClicked(e){"portal"===this.extension.linkBehavior?!this.dom.state.blockModal&&0===this.srv.dialog.openDialogs.length&&this.onViewEntityPortal(this.core.params.internal_name,+e.id):this.events.emit({source:this.name,type:"component",name:"table-row-clicked",data:e})}onTableColumnClicked(e){"portal"===this.extension.linkBehavior?!this.dom.state.blockModal&&0===this.srv.dialog.openDialogs.length&&(this.dom.state.blockModal=!0,e&&e.name&&e.row[e.name]&&+e.row[e.name+"_id"]&&this.onViewEntityPortal(e.row[e.name],+e.row[e.name+"_id"])):this.events.emit({source:this.name,type:"component",name:"table-column-clicked",data:{row:e.row,column:e.row[e.name]}})}onViewEntityPortal(e,t){!this.dom.state.blockModal&&0===this.srv.dialog.openDialogs.length&&(this.dom.state.blockModal=!0,e&&t&&this.srv.portal.view(e,t).then(o=>{(o||this.dom.state.refresh)&&(this.core.repo.clearAllCache("PopEntityListComponent:onViewEntityPortal"),this._configureTable().then(()=>!0)),this.dom.state.blockModal=!1}))}onSaveOptions(e){const t={settings:{columns:e.currentOptions.columnDefinitions,options:e.currentOptions}},o=Lt(this.core.preference,["table","id"],0);this.dom.setSubscriber("save-preferences",this.core.repo.savePreference(+o,"table",t).subscribe(s=>{this.srv.entity.updateBaseCoreConfig(this.core.params.internal_name,"preference:table",s),Lt(this.core,["preference"])&&(this.core.preference.table=s,this._setTablePreferenceSession(s))}))}onOptionsReset(){this.dom.setTimeout(this.asset.lazyLoadName,null),Y(this.core.preference,["table"])&&this.core.preference.table.id&&this.core.repo.deletePreference(this.core.preference.table.id,"table").then(e=>{this.core.preference.table=e||{},this._setTablePreferenceSession(this.core.preference.table),this.srv.entity.updateBaseCoreConfig(this.core.params.internal_name,"preference:table",this.core.preference.table)})}onArchiveButtonClicked(e,t){this.table.config.loading=!0,this.dom.setSubscriber("archive-entities",this.core.repo.archiveEntities(e,t).subscribe(()=>{this.table.config.loading=!1,this._clearCacheDataStorage(),this._triggerDataFetch(1),this.srv.crud.sendEvent({source:this.name,method:"archive",type:"entity",name:this.core.params.name,internal_name:this.core.params.internal_name,id:e,data:t})},o=>{this.table.config.loading=!1,this.dom.error.code=o.error.code,this.dom.error.message=o.error.message,this.dom.setTimeout("reset-selected-items",()=>{"function"==typeof this.table.config.clearSelected&&this.table.config.clearSelected()},0)}))}onShowArchivedButtonClicked(){this.dom.state.showArchived=!this.dom.state.showArchived,this.core.repo.clearCache("table"),this._configureTable().then(()=>!0),this.dom.setTimeout("reset-selected-items",()=>{"function"==typeof this.table.config.clearSelected&&this.table.config.clearSelected(),this.table.config.buttons=this._buildTableButtons(),Ne(this.asset.showArchivedSessionPath)&&Xn(this.asset.showArchivedSessionPath,this.dom.state.showArchived)},0)}onActionButtonClicked(e,t=null){var o=this;this.log.event("onActionButtonClicked:"+e,t),this.log.info("custom action ? ",{fx:this.extension.onCreate,callable:It(this.extension.onCreate),is_new:Y(t,["name"])&&"new"===t.name}),It(this.extension.onCreate)&&Y(t,["name"])&&"new"===t.name?this.dom.setTimeout("do-action",q(function*(){yield o.extension.onCreate(o.core,t,o.dom)}),0):Ne(e,!0)&&this.dom.setTimeout("do-action",q(function*(){yield o.srv.action.do(o.core,e,o.extension)}),0)}onActionModalClose(){this.ui.actionModal=null}_setCoreConfig(){var e=this;return new Promise(function(){var t=q(function*(o){e._setRouteExtension(),e.internal_name||(e.internal_name=e.srv.entity.getRouteInternalName(e.route,e.extension)),Y(e.core,!0)||(e.core=yield e.srv.entity.getCoreConfig(e.internal_name,0,e.dom.repo));const s=Ai(e.core,!0,`${e.name}:configureDom: - this.core`);return s&&(e.id=e.core.params.internal_name),o(s)});return function(o){return t.apply(this,arguments)}}())}_setConfig(){return new Promise(function(){var e=q(function*(t){return t(!0)});return function(t){return e.apply(this,arguments)}}())}_setCrudHandler(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.setSubscriber("entity",e.srv.crud.events.subscribe(s=>e._crudEventHandler(s))),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setHeight(){var e=this;return new Promise(function(){var t=q(function*(o){const r=e.dom.state.filter?e.srv.filter.getHeight():25,l=window.innerHeight-48-r;return e.dom.setHeight(l,25),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setSessionSettings(){var e=this;return new Promise(function(){var t=q(function*(o){return e.asset.tabMenuSessionPath=`Entity.${jt(e.core.params.internal_name)}.Menu`,e.asset.showArchivedSessionPath=`Business.${zt.id}.Entity.${jt(e.core.params.internal_name)}.Table.Main.showArchived`,e.asset.searchValueSessionPath=`Business.${zt.id}.Entity.${jt(e.core.params.internal_name)}.Table.Main.searchValue`,Xn(e.asset.tabMenuSessionPath,null),e.dom.state.showArchived=Ss(e.asset.showArchivedSessionPath,!1),o(!0)});return function(o){return t.apply(this,arguments)}}())}_fetchData(e=!1){var t=this;return new Promise(function(){var o=q(function*(s,r){e||t.dom.setTimeout(t.asset.lazyLoadName,null),Y(t.table,["config"])&&Y(t.table.config,["clearSelected"])&&"function"==typeof t.table.config.clearSelected&&t.table.config.clearSelected(),t.dataFactory?t.dataFactory(null,t.dom.state.showArchived?1:0).then(l=>(l=t._transformData(l),e&&t.table.config&&"function"==typeof t.table.config.updateData&&t.table.config.updateData(l),xn.clear(),s(l)),()=>{r([])}):t.core.repo.getEntities({archived:t.dom.state.showArchived?1:0}).then(l=>(l=t._transformData(l),e&&"function"==typeof t.table.config.updateData&&t.table.config.updateData(l),xn.clear(),s(l)),l=>{r(l)})});return function(s,r){return o.apply(this,arguments)}}())}_transformData(e){return this.core.repo.setCache("table","data",e,5),Y(this.asset.fieldKeys,!0)||this._setFieldKeys(e[0]),Y(this.asset.transformations,!0)||this._setFieldTableTransformations(),this._prepareTableData(e)}_setFieldKeys(e){this.asset.fieldKeys={};const t=Lt(this.core,["repo","model","decorator"],null);if(It(t)&&(e=t(this.core,e)),Y(e,!0)){const o=new Set(["string","number","boolean"]),s=Lt(this.core.repo,["model","table","blacklist"],{}),r=Lt(this.core.repo,["model","table","whitelist"],{}),a=Lt(this.core.repo,["model","table","appendlist"],{});Object.keys(e).map(l=>{l in s||(l in r&&!this.dom.state.useDataColumns||o.has(typeof e[l])||null===e[l]||Y(e[l],["id","name"])||Y(e[l],["value"])||Y(e[l],["address"])||Y(e[l],["number"])||Y(e[l],["city","region_name"])||Y(e[l],["first","last"]))&&(this.asset.fieldKeys[l]=1)}),Y(a,!0)&&Object.keys(a).map(l=>{this.asset.fieldKeys[l]=1})}}_setFieldTableTransformations(){this.asset.transformations={};const e=this.core.repo.model.field;Object.keys(this.asset.fieldKeys).map(t=>{const o=e[t];Y(o,["table","model"])&&o.model.name&&o.table.transformation&&(this.asset.transformations[o.model.name]=Ui({type:o.table.transformation.type,arg1:o.table.transformation.arg1?o.table.transformation.arg1:null,arg2:o.table.transformation.arg2?o.table.transformation.arg2:null,arg3:o.table.transformation.arg3?o.table.transformation.arg3:null}))})}_prepareTableData(e){this.log.info("_prepareTableData: this.asset.fieldKeys",this.asset.fieldKeys);const t=Lt(this.core,["repo","model","decorator"],null),o=Lt(this.core,["repo","model","filter"],null),s=Lt(this.core.repo,["model","table","appendlist"],{});return De(e,!0)?(o&&(e=e.filter(o)),e.sort(ko("id","desc")),e.map(r=>(t&&(r=t(this.core,r)),r=Object.keys(r).reduce((a,l)=>{if(l in this.asset.fieldKeys)if(Y(r[l],!0)){const c=r[l];a[l]=Y(c,["value"])?null!=c.value&&c.value?Ne(c.value)?jt(c.value):c.value:"--":Y(c,["address"])?null!=c.address&&c.address?c.address:"--":Y(c,["first","last"])?c.first&&c.last?ka(c,"name"):"--":Y(c,["number"])?null!=c.number?c.number:"--":Y(c,["city","region_name"])?c.city&&c.region_name?ka(c,"address"):"--":Y(c,["id","name"])&&null!=c.name&&c.name?c.name:"--"}else a[l]=r[l];return a},{}),Y(s,!0)&&Object.keys(s).map(a=>{r[a]=tn(s[a],r)}),this.srv.pipe.transformObjectValues(r,this.asset.transformations,this.core)))):e}_getTableData(e=!1){return new Promise(t=>{this.dom.delay.data&&clearTimeout(this.dom.delay.data),this.core.repo.getCache("table","data").then(o=>{if(De(o,!0))return this._triggerDataFetch(),t({data:o});{const s=this._getTableDataSession(this.dom.state.showArchived);if(De(s,!0))return this._triggerDataFetch(),t({data:s});this._fetchData(!1).then(r=>t({data:r}))}})})}_triggerDataFetch(e=7){this.dom.setTimeout(this.asset.lazyLoadName,()=>{this._fetchData(!0).catch(()=>!0)},1e3*e)}_crudEventHandler(e){switch(this.core.repo.clearCache("table",null,this.asset.crudEventHandlerName),e.method){case"create":case"delete":this.dom.state.refresh=!0,this.core.params.refresh=!0,this._clearCacheDataStorage(),this._triggerDataFetch(0);break;case"update":"entity"===e.type?"archive"===e.name&&this._configureTable(!0).then(()=>!0):"field"===e.type&&"patch"===e.name&&(this.dom.state.refresh=!0,this.core.params.refresh=!0);break;case"read":"dialog"===e.type&&"close"===e.name&&(this._clearCacheDataStorage(),this.core.repo.clearCache("table","data",this.asset.crudEventHandlerName),this._configureTable().then(()=>!0))}}_coreEventHandler(e){var t=this;switch(this.log.event("_coreEventHandler",e),e.name){case"reset":case"reset-table-structure":this.dom.setTimeout("reset-table-structure",q(function*(){if(Y(e.data,!0)){t._clearCacheDataStorage(),t.core.repo.clearCache("table","profile",t.asset.crudEventHandlerName),t.dom.state.useDataColumns=!0;let o=e.data.data;const s=e.data.scheme;t.asset.tableInterface=null,t.asset.blueprint=o[0],t._setFieldKeys(t.asset.blueprint),t._setFieldTableTransformations(),o=t._prepareTableData(o);const a={},c=s?.profile_details?.primary_display_id??"id";window.console.log({archived:98,created_at:100,display_name:5,email:5,external_fk:97,first:5,first_name:5,id:99,last:6,last_name:6,name:7,number:8,phone:6,scheme_id:5,scheme_name:5,description:101},{business_id:{name:"business_id",label:"Business Id",visible:!1,sort:10},created_at:{name:"created_at",label:"Created At",visible:!0,sort:14},display_name:{name:"display_name",label:"Display Name",visible:!0,sort:2},external_fk:{name:"external_fk",label:"External Fk",visible:!0,sort:11},id:{name:"id",label:"Id",visible:!0,sort:13},scheme_id:{name:"scheme_id",label:"Profile Scheme Id",visible:!1,sort:5},scheme_name:{name:"scheme_name",label:"Profile Scheme",visible:!0,sort:4}}),Lt(s,["config","table_columns"],[])?.filter(D=>D.is_visible).map((D,te)=>{let se=D.name.toLowerCase();"id"==se&&(se=c);const le=String(rn(D.name," ","_")).toLowerCase();a[le]={name:le,label:"id"==se?"Display Id":jt(rn(D.name,"_"," ")),visible:!0,sort:te+1}}),Y(a.scheme_name)&&(a.scheme_name.label=eo.transform("profile",{type:"entity",arg1:"alias",arg2:"singular"})+" Scheme"),Y(a.scheme_id)&&(a.scheme_id.label=eo.transform("profile",{type:"entity",arg1:"alias",arg2:"singular"})+" Scheme Id"),t.table&&t.table.config?(t.table.config.data=o,t.table.config.columnDefinitions=a,t.table&&It(t.table.config.reset)?t.table.config.reset():window.console.log("somthing went wrong table",t.table)):window.console.log("somthing went wrong table",t.table)}}),250)}this.log.event("_coreEventHandler",e)}_configureFilterBar(){var e=this;return new Promise(function(){var t=q(function*(o){return+e.core.repo.model.table.filter.active?(e.dom.state.filter=!0,e.srv.filter.setView(e.core.repo.model.table.filter.view),e.srv.filter.setActive(!0),e.dom.setSubscriber("filters",e.srv.filter.event.bubble.subscribe(s=>{e._filterEventHandler(s)})),o(!0)):(e.srv.filter.setActive(!1),e.dom.state.filter=!1,o(!0))});return function(o){return t.apply(this,arguments)}}())}_configureTable(e=!1,t=null){var o=this;return new Promise(function(){var s=q(function*(r){if(!o.table.config){const a=Y(t,["data"])&&De(t.data)?t:yield o._getTableData(e);return De(a.data,!0)&&(o.asset.blueprintData=a.data[0],o.asset.blueprint=a.data[0]),yield o._getTableInterface(),o.table.config=new yd({...o.asset.tableInterface,...a}),r(!0)}o.table.config.loading=!0,o._getTableData().then(function(){var a=q(function*(l){return De(l.data,!0)&&(o.asset.blueprintData=l.data[0],o.asset.blueprint=l.data[0]),o.table.config.buttons=o._buildTableButtons(),e&&"function"==typeof o.table.config.reset?o.table.config.reset(l.data):"function"==typeof o.table.config.updateData&&o.table.config.updateData(l.data),o.table.config.loading=!1,o.dom.state.refresh=!1,o.core.params.refresh=!1,r(!0)});return function(l){return a.apply(this,arguments)}}())});return function(r){return s.apply(this,arguments)}}())}_transformRouteExtension(){var e=this;return new Promise(function(){var t=q(function*(o){return Y(e.extension)||(e.extension={}),Ne(e.extension.goToUrl,!0)&&(e.extension.goToUrl=bd(e.extension.goToUrl,e.core.params,[":id"])),Y(e.extension.table,!0)&&e.extension.table.route&&(e.extension.table.route=bd(e.extension.table.route,e.core.params,[":id"])),Y(e.extension.table,!0)&&It(e.extension.table.dataFactory)&&(e.dataFactory=e.extension.table.dataFactory),o(!0)});return function(o){return t.apply(this,arguments)}}())}_getTableInterface(){var e=this;return new Promise(function(){var t=q(function*(o){if(Y(e.asset.tableInterface,!0))return o(!0);{yield e._getDefaultFieldKeys();const s=yield e._getDefaultColumns();let r;e.dom.state.useDataColumns||Y(e.core.preference,["table"])&&Y(e.core.preference.table.columns,!0)&&(r=e.core.preference.table.columns),r||(r=s);let a=e.core.params.app?e.core.params.app:Bi;a=a?`/${a}/`:"/",e.log.info("columnDefinitions",r);let l={id:e.core.params.internal_name,internal_name:e.core.params.internal_name,paginator:e.table.config?.paginator??!1,height:e._getTableHeight(),buttons:e._buildTableButtons(),route:`${a}${_d(e.core.params.internal_name)}/:id/general`,data:[],searchValue:Ss(e.asset.searchValueSessionPath,""),options:new $ge({defaultOptions:{columnDefinitions:s},...e.core.repo.model.table.permission}),columnDefinitions:r};const c=e.srv.entity.getEntityTable(e.core.params.internal_name).extension;return e.log.info("Configured table extension: ",c),Y(c,!0)&&(e.extension.table={...e.extension.table,...c}),e.extension.goToUrl&&(e.extension.goToUrl=tn(e.extension.goToUrl,e.core,!0)),e.extension.table&&e.extension.table.route&&(e.extension.table.route=tn(e.extension.table.route,e.core,!0)),e.extension.table&&kt(e.extension.table.settings,!1)&&(l.settings=e.extension.table.settings),e.extension.table&&kt(e.extension.table.columnSettings,!1)&&(l.columnSettings=e.extension.table.columnSettings),e.extension.linkBehavior&&(l.linkBehavior=e.extension.linkBehavior),kt(e.extension.route,!0)&&(l.route=e.extension.route),e.extension.table&&Object.keys(e.extension.table).length>0&&(l={...l,...e.extension.table}),Y(e.core.repo.model.table.customHeader)&&(l.customHeader=e.core.repo.model.table.customHeader),kt(e.core.repo.model.table.search)&&(l.search=e.core.repo.model.table.search),Y(e.core.preference,["table"])&&e.core.preference.table.options&&(l={...l,...e.core.preference.table.options}),e.asset.tableInterface=l,o(!0)}});return function(o){return t.apply(this,arguments)}}())}_buildTableButtons(){let e=[];return Y(this.core.repo.model.table.button,!0)&&(e=this.table.buttons.filter(t=>!("advanced_search"===t.id&&!this.core.repo.model.table.button.advanced_search||"archive"===t.id&&(!this.core.repo.model.table.button.archived||this.dom.state.showArchived)||!("restore"!==t.id||this.core.repo.model.table.button.archived&&this.dom.state.showArchived)||!("show_active"!==t.id||this.core.repo.model.table.button.archived&&this.dom.state.showArchived)||"show_archived"===t.id&&(!this.core.repo.model.table.button.archived||this.dom.state.showArchived)||"new"===t.id&&!this.core.repo.model.table.button.new||"delete"===t.id&&!this.core.repo.model.table.button.delete)&&(!t.accessType||this.srv.entity.checkAccess(this.core.params.internal_name,t.accessType)))),e}_filterEventHandler(e){if(this.log.event("_filterEventHandler",e),"filter"===e.type)switch(e.name){case"clear":case"apply":this.srv.entity.bustAllCache(),this.dom.setTimeout("reconfigure-table",()=>{this._configureTable().then(()=>!0)},0);break;case"init":case"state":"open"===e.model&&this.onResetHeight()}}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.asset.cacheName=rn(jt(Tn(e.core.params.internal_name))," ",""),kt(ZB,!1)||KB(e),e.dom.handler.core=(s,r)=>e._coreEventHandler(r),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setTablePreferenceSession(e){const t=rn(jt(Tn(this.core.params.internal_name))," ",""),o=`Entity.${zt.id}.${t}.preferences`,s=rl(o,{});s.table=e,Oi(o,btoa(JSON.stringify(s)))}_setTableDataSession(e,t){}_getTableDataSession(e){const t=rn(jt(Tn(this.core.params.internal_name))," ",""),r=rl(`Entity.${zt.id}.${t}.${e?"all":"active"}`,null);return De(r,!0)?r:null}_setRouteExtension(){this.extension||(this.extension={}),this.extension.table||(this.extension.table={}),this.extension.goToUrl||(this.extension.goToUrl=null),this.route.snapshot.data&&Object.keys(this.route.snapshot.data).length>0&&Object.keys(this.route.snapshot.data).map(e=>{this.extension[e]=this.route.snapshot.data[e]})}_getDefaultFieldKeys(){return new Promise(e=>{if(Y(this.asset.fieldKeys,!0))return e(!0);this.core.repo.getCache("table","fieldKeys").then(t=>(Y(t,!0)?this.asset.fieldKeys=t:this._setFieldKeys(this.asset.blueprint),e(!0)),()=>(this._setFieldKeys(this.asset.blueprint),e(!0)))})}_getDefaultColumns(){return new Promise(e=>{let t={};this.core.repo.getCache("table","columns").then(o=>{if(Y(o,!0))return e(o);{t={};const s=Ai(this.core.repo.model.field,!0,"Repo contained no field model")?this.core.repo.model.field:null;return Y(this.asset.fieldKeys,!0)&&Object.keys(this.asset.fieldKeys).map(r=>{if(r in s){const a=s[r];Y(a.model,["route"])&&(a.model.route=tn(a.model.route,this.core)),Y(a.table,!0)&&a.table.visible&&(t[r]={name:a.model.name,label:a.model.label,...a.table})}else t[r]={name:r,label:jt(rn(r,"_"," ")),visible:!0,sort:98}}),Y(t,!0)&&this.core.repo.setCache("table","columns",t,60),e(t)}})})}_getTableHeight(){let e=this.dom.height.inner;return this.srv.filter.isActive()&&(e-=20),e}_clearCacheDataStorage(){CI(this.core),xI(this.core.params.internal_name)}_setCustomFieldsData(e){return e.map(t=>({...t,phone:t.phone?.number??"--",email:t.email.address??"--",address:t.address?.city??"--"}))}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(kr),P(ii),P("APP_GLOBAL"))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-list"]],viewQuery:function(e,t){if(1&e&&ht(RIe,5),2&e){let o;Ke(o=Ye())&&(t.list=o.first)}},inputs:{internal_name:"internal_name",scheme_id:"scheme_id",extension:"extension",dataFactory:"dataFactory"},features:[Ct([ii]),Re],decls:4,vars:7,consts:[[1,"entity-list-container",3,"ngStyle","resize"],[3,"core","config","events",4,"ngIf"],["class","entity-list-spinner-box",4,"ngIf"],[3,"error",4,"ngIf"],[3,"core","config","events"],["list",""],[1,"entity-list-spinner-box"],[3,"error"]],template:function(e,t){1&e&&(x(0,"div",0),ie("resize",function(){return t.onResetTable()},0,Fd),$(1,FIe,2,2,"lib-pop-table",1),$(2,LIe,2,0,"div",2),C(),$(3,NIe,1,1,"lib-pop-errors",3)),2&e&&(et("height",t.dom.height.inner,"px"),g("ngStyle",!t.dom.state.filter&&ms(6,BIe)),_(1),g("ngIf",t.table.config),_(1),g("ngIf",t.dom.state.loader),_(1),g("ngIf",null==t.dom.error?null:t.dom.error.message))},styles:[".entity-list-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:auto;height:auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;margin:5px 25px 0}.entity-list-container[_ngcontent-%COMP%]   lib-pop-table[_ngcontent-%COMP%]{position:absolute;inset:0 0 10px}[_nghost-%COMP%]     tr{height:48px;max-height:48px}[_nghost-%COMP%]     th, [_nghost-%COMP%]     td{min-width:50px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;height:48px;max-height:48px}[_nghost-%COMP%]     th>.mat-sort-header-container{display:-webkit-box;display:-ms-flexbox;display:flex;min-width:50px}[_nghost-%COMP%]     .checkbox-column{min-width:25px!important;width:25px!important;padding:0 5px!important;text-align:center!important}[_nghost-%COMP%]     th[class*=active]>.mat-sort-header-container{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;text-align:center!important}[_nghost-%COMP%]     td[class*=active], [_nghost-%COMP%]     th[class*=active]{text-align:center!important;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}[_nghost-%COMP%]     th[class*=system]>.mat-sort-header-container{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;text-align:center!important}[_nghost-%COMP%]     td[class*=system], [_nghost-%COMP%]     th[class*=system]{text-align:center!important;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}[_nghost-%COMP%]     td[class*=-name], [_nghost-%COMP%]     th[class*=-name]{text-align:left!important;padding-left:20px!important;max-width:200px}[_nghost-%COMP%]     th[class*=-name] .mat-sort-header-container{padding-left:0!important;-webkit-box-pack:left!important;-ms-flex-pack:left!important;justify-content:left!important;max-width:500px}[_nghost-%COMP%]     td[class*=-first], [_nghost-%COMP%]     th[class*=-first]{text-align:left!important;padding-left:20px!important}[_nghost-%COMP%]     th[class*=-first] .mat-sort-header-container{min-width:50px!important;padding-left:0!important;-webkit-box-pack:left!important;-ms-flex-pack:left!important;justify-content:left!important}[_nghost-%COMP%]     td[class*=-last], [_nghost-%COMP%]     th[class*=-last]{text-align:left!important;padding-left:20px!important}[_nghost-%COMP%]     th[class*=-last] .mat-sort-header-container{padding-left:0!important;-webkit-box-pack:left!important;-ms-flex-pack:left!important;justify-content:left!important}[_nghost-%COMP%]     td[class*=-display], [_nghost-%COMP%]     th[class*=-display]{text-align:left!important;padding-left:20px!important}[_nghost-%COMP%]     th[class*=-display] .mat-sort-header-container{padding-left:0!important;-webkit-box-pack:left!important;-ms-flex-pack:left!important;justify-content:left!important}[_nghost-%COMP%]     td[class*=-description], [_nghost-%COMP%]     th[class*=-description]{text-align:left!important;padding-left:20px!important;max-width:500px}[_nghost-%COMP%]     th[class*=-description] .mat-sort-header-container{padding-left:0!important;-webkit-box-pack:left!important;-ms-flex-pack:left!important;justify-content:left!important;max-width:500px}[_nghost-%COMP%]     td[class*=email], [_nghost-%COMP%]     th[class*=email]{min-width:50px!important;text-align:left!important;padding-left:20px!important}[_nghost-%COMP%]     th[class*=email] .mat-sort-header-container{min-width:50px!important;padding-left:0!important;-webkit-box-pack:left!important;-ms-flex-pack:left!important;justify-content:left!important}.entity-list-spinner-box[_ngcontent-%COMP%]{height:75vh}"]}),i})();function VIe(i,n){1&i&&me(0,"mat-progress-bar",11)}function $Ie(i,n){if(1&i){const e=Me();x(0,"mat-icon",25),ie("click",function(){he(e);const o=I().$implicit;return pe(I(2).toggleApp(o))}),ee(1,"keyboard_arrow_right "),C()}}function HIe(i,n){if(1&i){const e=Me();x(0,"mat-icon",25),ie("click",function(){he(e);const o=I().$implicit;return pe(I(2).toggleApp(o))}),ee(1,"keyboard_arrow_down "),C()}}function zIe(i,n){if(1&i){const e=Me();x(0,"div",26)(1,"div",27)(2,"div",28),ee(3),C()(),me(4,"div",20),x(5,"div",21)(6,"lib-pop-checkbox",29),ie("events",function(o){return he(e),pe(I(3).handleInputEvents(o))}),C()(),x(7,"div",21)(8,"lib-pop-checkbox",29),ie("events",function(o){return he(e),pe(I(3).handleInputEvents(o))}),C()(),x(9,"div",21)(10,"lib-pop-checkbox",29),ie("events",function(o){return he(e),pe(I(3).handleInputEvents(o))}),C()(),x(11,"div",21)(12,"lib-pop-checkbox",29),ie("events",function(o){return he(e),pe(I(3).handleInputEvents(o))}),C()()()}if(2&i){const e=n.$implicit;_(3),Je(e.name),_(3),g("config",e.field.can_read),_(2),g("config",e.field.can_create),_(2),g("config",e.field.can_update),_(2),g("config",e.field.can_delete)}}const jIe=function(i){return{"sw-hidden":i}};function GIe(i,n){if(1&i){const e=Me();x(0,"mat-expansion-panel",14)(1,"mat-expansion-panel-header")(2,"div",15),ie("click",function(o){return o.stopPropagation()}),x(3,"div",16)(4,"div",17),ee(5),C(),x(6,"div",18),$(7,$Ie,2,0,"mat-icon",19),$(8,HIe,2,0,"mat-icon",19),C()(),me(9,"div",20),x(10,"div",21)(11,"mat-checkbox",22),ie("ngModelChange",function(o){return pe(he(e).$implicit.can_read.all=o)})("change",function(){const s=he(e).$implicit;return pe(I(2).checkAll(s,"can_read"))}),ee(12," View "),C()(),x(13,"div",21)(14,"mat-checkbox",22),ie("ngModelChange",function(o){return pe(he(e).$implicit.can_create.all=o)})("change",function(){const s=he(e).$implicit;return pe(I(2).checkAll(s,"can_create"))}),ee(15,"Create "),C()(),x(16,"div",21)(17,"mat-checkbox",22),ie("ngModelChange",function(o){return pe(he(e).$implicit.can_update.all=o)})("change",function(){const s=he(e).$implicit;return pe(I(2).checkAll(s,"can_update"))}),ee(18,"Edit "),C()(),x(19,"div",21)(20,"mat-checkbox",22),ie("ngModelChange",function(o){return pe(he(e).$implicit.can_delete.all=o)})("change",function(){const s=he(e).$implicit;return pe(I(2).checkAll(s,"can_delete"))}),ee(21,"Delete "),C()()()(),x(22,"div",23),$(23,zIe,13,5,"div",24),C()()}if(2&i){const e=n.$implicit;g("ngClass",qe(18,jIe,!e.entities.length))("expanded",e.expanded),_(5),Je(e.name),_(2),g("ngIf",!e.expanded),_(1),g("ngIf",e.expanded),_(3),g("ngModel",e.can_read.all)("indeterminate",e.can_read.indeterminate)("disabled",e.can_read.disabled),_(3),g("ngModel",e.can_create.all)("indeterminate",e.can_create.indeterminate)("disabled",e.can_create.disabled),_(3),g("ngModel",e.can_update.all)("indeterminate",e.can_update.indeterminate)("disabled",e.can_update.disabled),_(3),g("ngModel",e.can_delete.all)("indeterminate",e.can_delete.indeterminate)("disabled",e.can_delete.disabled),_(3),g("ngForOf",e.entities)}}function WIe(i,n){if(1&i&&(x(0,"mat-accordion",12),$(1,GIe,24,20,"mat-expansion-panel",13),C()),2&i){const e=I();g("displayMode","flat"),_(1),g("ngForOf",e.ui.access)}}let UIe=(()=>{class i extends Yt{extendServiceContainer(){this.srv.request=Rt.get(Cu)}constructor(e){super(),this.el=e,this.srv={},this.name="PopEntityAccessComponent",this.extendServiceContainer(),this.dom.configure=()=>new Promise(t=>{this.dom.state.expansion="compact",this.core.repo.getEntity(this.core.params.entityId,{select:"permissions"}).subscribe(o=>{const s=o.data;let r,a,l;this.ui.access=Kl(s.permissions,!0,`${this.name}:configure: - entity.permissions`)?Gs(s.permissions):[],this.ui.access.forEach(c=>{c.expanded=!1,r=!(!this.core.entity.system&&this.core.access.can_update&&0!==c.entities.length),c.can_read={all:!!c.entities.length,disabled:r,indeterminate:!!c.entities.length},c.can_create={all:!!c.entities.length,disabled:r,indeterminate:!!c.entities.length},c.can_update={all:!!c.entities.length,disabled:r,indeterminate:!!c.entities.length},c.can_delete={all:!!c.entities.length,disabled:r,indeterminate:!!c.entities.length},a={can_read:0,can_create:0,can_update:0,can_delete:0},l={can_read:0,can_create:0,can_update:0,can_delete:0},c.entities.forEach(A=>{A.field={},Object.keys(A.access).forEach(D=>{A.field[D]=new qr({align:"left",bubble:!0,value:+A.access[D],disabled:!(!this.core.entity.system&&A[D]),metadata:{app:c,entity:A,access:D}}),A[D]&&a[D]++,A.access[D]&&l[D]++,0==+A.access[D]&&D in c&&(c[D].all=!1)})}),Object.keys(a).forEach(A=>{!a[A]&&A in c&&(c[A].disabled=!0),c[A].all&&(c[A].indeterminate=!1),l[A]&&!c[A].all&&(c[A].indeterminate=!0),!l[A]&&!c[A].all&&(c[A].indeterminate=!1)})}),this.setExpansionState(this.dom.state.expansion),t(!0)},o=>{this.dom.error={code:o.error?o.error.code:o.status,message:o.error?o.error.message:o.statusText},t(!1)})})}ngOnInit(){super.ngOnInit()}checkAll(e,t){if(e&&t in e){let o=!0,s=!1;const r=[],a=+e[t].all;if(e.entities.length)if(o=1==+a,e.entities.forEach(l=>{!this.core.entity.system&&this.core.access.can_update&&l[t]?+l.field[t].control.value!==a&&(l.access[t]=a,l.field[t].control.setValue(a),l.field[t].message="",l.field[t].startPatch(),r.push(l.id)):+l.field[t].control.value!==a&&(s=!0,o=!a)}),r.length){const l={access:1,entity_fk:r.join()};l[t]=a,this.srv.request.doPatch(`${this.core.params.path}/${this.core.params.entityId}/entities/${1===l[t]?"add":"remove"}`,l,1).subscribe(A=>{e.entities.forEach(te=>{te.field[t]._patchSuccess()}),setTimeout(()=>{e[t].all=o,e[t].indeterminate=s});const D={source:this.name,type:"permissions",model:"entity",name:"patch",method:"update",success:!0,config:this.core,data:e,ids:r,access:t,value:l[t]};this.sessionChanges(D),this.log.repo.enabled("event",this.name)&&console.log(this.log.repo.message(`${this.name}:event`),this.log.repo.color("event"),D)},A=>{e.entities.forEach(D=>{D.patchFail(A.error&&A.error.message?A.error.message:A.message)}),setTimeout(()=>{e[t].all=o,e[t].indeterminate=s}),this.dom.error={code:A.error?A.error.code:A.status,message:A.error?A.error.message:A.statusText}})}else setTimeout(()=>{e[t].indeterminate=!0});else setTimeout(()=>{e[t].all=!1,e[t].indeterminate=!1})}}setExpansionState(e){switch(e&&(this.dom.state.expansion=e),this.dom.state.expansion){case"none":this.ui.access.forEach(function(t){t.expanded=!1});break;case"compact":this.ui.access.forEach(function(t){t.expanded=!!(t.can_read.indeterminate||t.can_update.indeterminate||t.can_create.indeterminate||t.can_delete.indeterminate)});break;case"full":this.ui.access.forEach(function(t){t.expanded=!0})}}handleInputEvents(e){if("field"===e.type)switch(this.log.repo.enabled()&&console.log(this.log.repo.message("PopEntityAccessComponent:event"),this.log.repo.color("event"),e),e.name){case"onChange":const t={access:1,entity_fk:e.config.metadata.entity.id};t[e.config.metadata.access]=+e.config.control.value;const o=1==+e.config.control.value?"add":"remove";e.config.startPatch(),this.srv.request.doPatch(`${this.core.params.path}/${this.core.params.entityId}/entities/${o}`,t,1).subscribe(()=>{e.config._patchSuccess(),this.checkAppAll(e.config.metadata.app,e.config.metadata.access,+e.config.control.value);const s={source:this.name,method:"update",model:"entity",type:"permissions",name:"patch",success:!0,config:this.core,data:e.config.metadata.app,ids:[e.config.metadata.entity.id],access:e.config.metadata.access,value:t[e.config.metadata.access]};setTimeout(()=>{this.sessionChanges(s)},0)},s=>{e.config.patchFail(s.error&&s.error.message?s.error.message:s.message)});break;case t:e.success&&this.checkAppAll(e.config.metadata.app,e.config.metadata.access,e.config.control.value)}}checkAppAll(e,t,o){let s=!1,r=!0;(o=+o)?e.entities.some(a=>{if(!a.field[t].control.value)return r=!1,s=!0,!0}):(r=!1,e.entities.some(a=>{if(a.field[t].control.value)return s=!0,!0})),setTimeout(()=>{e[t].all=r,e[t].indeterminate=s})}sessionChanges(e){let t,o,s,r;if("permissions"===e.type&&"patch"===e.name&&e.success&&e.config&&+e.config.params.id==+this.core.entity.id){if(this.log.repo.enabled("event",this.name)&&console.log(`${this.name} made an access permissions patch session`,this.log.repo.color("event"),e),this.core.entity.metadata&&this.core.entity.metadata.permissions){o=this.core.entity.metadata.permissions,t=e.data.id;const a=Kn(o,"id");if(t in a&&De(o[a[t]].entities,!0)){s=o[a[t]];const l=Kn(s.entities,"id");De(e.ids,!0)&&e.ids.map(c=>{c in l&&(r=s.entities[l[c]],r.access&&e.access in r.access&&(r.access[e.access]=e.value))})}}return!0}}toggleApp(e){e.expanded=!e.expanded}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-access"]],features:[Re],decls:18,vars:3,consts:[[1,"access-permissions-container"],[1,"sw-label-container"],["appearance","outline",1,"access-expansion-state-select"],[3,"ngModel","ngModelChange","selectionChange"],["value","none"],["value","compact"],["value","full"],[1,"access-filter-bar-loader"],["mode","indeterminate",4,"ngIf"],[1,"access-permissions-content"],["multi","true",3,"displayMode",4,"ngIf"],["mode","indeterminate"],["multi","true",3,"displayMode"],["hideToggle","true",3,"ngClass","expanded",4,"ngFor","ngForOf"],["hideToggle","true",3,"ngClass","expanded"],[1,"access-app-permission-header","pt-bg-1",3,"click"],[1,"access-app-title-container","mat-h2"],[1,"access-app-title"],[1,"access-app-toggle-container"],[3,"click",4,"ngIf"],[1,"access-spacer"],[1,"access-app-permission-container"],[3,"ngModel","indeterminate","disabled","ngModelChange","change"],[1,"mat-expansion-panel-body"],["class","access-app-entity-header",4,"ngFor","ngForOf"],[3,"click"],[1,"access-app-entity-header"],[1,"access-entity-title-container","mat-h2"],[1,"access-entity-title"],[3,"config","events"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1),ee(2," Access Permissions "),x(3,"mat-form-field",2)(4,"mat-label"),ee(5,"Expand"),C(),x(6,"mat-select",3),ie("ngModelChange",function(s){return t.dom.state.expansion=s})("selectionChange",function(){return t.setExpansionState()}),x(7,"mat-option",4),ee(8,"None"),C(),x(9,"mat-option",5),ee(10,"Compact"),C(),x(11,"mat-option",6),ee(12,"Full"),C()()()(),me(13,"mat-divider"),x(14,"div",7),$(15,VIe,1,0,"mat-progress-bar",8),C(),x(16,"div",9),$(17,WIe,2,2,"mat-accordion",10),C()()),2&e&&(_(6),g("ngModel",t.dom.state.expansion),_(9),g("ngIf",t.dom.state.loading),_(2),g("ngIf",t.ui.access))},styles:["[_nghost-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1;flex:1 1}.access-permissions-container[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1;flex:1 1;padding:0 20px}.access-permissions-content[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;height:calc(100vh - 235px);clear:both;overflow-y:scroll;overflow-x:hidden;padding-top:2px}.access-expansion-state-select[_ngcontent-%COMP%]{position:absolute;right:5px;top:0;max-width:200px}.access-app-permission-header[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;min-height:48px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-top:1px solid #ccc;border-bottom:1px solid #ccc}.access-app-title-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;height:48px;padding:0 0 0 2%;pointer-events:all;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:30%;max-width:30%;overflow:hidden}.access-spacer[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:48px;padding:0 1%}.access-app-title[_ngcontent-%COMP%]{font-size:18px;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.access-entity-title[_ngcontent-%COMP%]{font-size:16px;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.access-app-permission-container[_ngcontent-%COMP%]{min-width:16%}.access-app-toggle-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-left:10px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:48px}.access-app-entity-header[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;min-height:48px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid #ccc}.access-entity-title-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;height:48px;padding:0 0 0 3%;pointer-events:all;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:30%;max-width:30%}.access-filter-bar-loader[_ngcontent-%COMP%]{position:relative;display:block;width:100%;height:7px;clear:both}[_nghost-%COMP%]     .mat-expansion-panel:not([class*=mat-elevation-z]){-webkit-box-shadow:none!important;box-shadow:none!important}[_nghost-%COMP%]     mat-expansion-panel{margin-bottom:40px!important;border:1px solid #ccc}[_nghost-%COMP%]     .mat-expansion-panel-body{padding:0!important}[_nghost-%COMP%]     mat-expansion-panel-header{padding:0!important;max-height:48px!important}"]}),i})();function KIe(i,n){if(1&i){const e=Me();x(0,"div",1)(1,"mat-icon",2),ie("click",function(){return he(e),pe(I().callAction())}),ee(2),C()()}if(2&i){const e=I();_(1),Ei("matTooltip",e.tooltip),_(1),Je(e.action)}}let pl=(()=>{class i{constructor(e){this.env=e,this.events=new tt}ngOnInit(){this.action||(this.action="add"),this.tooltip=jt(this.action)}callAction(){this.events.emit({source:"PopEntityFieldActionBtnComponent",type:"field",name:this.action,field:this.field})}ngOnDestroy(){}}return i.\u0275fac=function(e){return new(e||i)(P("env"))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-field-btn"]],inputs:{field:"field",action:"action"},outputs:{events:"events"},decls:1,vars:1,consts:[["class","field-action-btn",4,"ngIf"],[1,"field-action-btn"],["matTooltipPosition","above",1,"sw-pointer",3,"matTooltip","click"]],template:function(e,t){1&e&&$(0,KIe,3,2,"div",0),2&e&&g("ngIf",t.field.uses_multiple_values)},dependencies:[ct,wi,Pn],styles:[".field-doAction-btn[_ngcontent-%COMP%]{background:var(--bg-1);border-radius:50%;width:14px;height:14px;mar-top:2px;color:var(--accent);border-width:1px;border-style:solid;border-color:var(--bg-3);-webkit-box-shadow:0 2px 5px 0 var(--darken18),0 2px 10px 0 var(--darken12)!important;box-shadow:0 2px 5px 0 var(--darken18),0 2px 10px 0 var(--darken12)!important}.field-doAction-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:-2px;left:1px;width:12px;height:12px;font-size:12px;line-height:16px}"]}),i})();const YIe=function(i){return{"sw-disabled":i}};let fy=(()=>{class i{constructor(){this.events=new tt}ngOnInit(){}onEdit(){this.dom.state.open=!0,this.field.state="template_edit",this.events.emit({source:"PopEntityFieldEditIconComponent",type:"field",name:"edit",field:this.field})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-field-edit-icon"]],inputs:{dom:"dom",field:"field"},outputs:{events:"events"},decls:2,vars:3,consts:[[1,"sw-pointer",3,"ngClass","click"]],template:function(e,t){1&e&&(x(0,"mat-icon",0),ie("click",function(){return t.onEdit()}),ee(1," edit\n"),C()),2&e&&g("ngClass",qe(1,YIe,t.dom.state.open))},dependencies:[Gt,wi]}),i})();const XIe=["container"];function qIe(i,n){}let JIe=(()=>{class i extends Jo{constructor(e,t,o){super(),this.el=e,this._domRepo=t,this._tabRepo=o,this.name="PopEntityTabColumnComponent",this.srv={tab:void 0},this.ui={tabId:void 0},this.dom.configure=()=>new Promise(s=>{this.core=Ai(this.core,!0,`${this.name}:: - this.core`)?this.core:null,this.position=+this.column.id,this.id=this.column.id,this.trait.bubble=!0,this.dom.handler.bubble=(a,l)=>{this.onBubbleEvent(l)};const r=this.srv.tab.getTab();return r&&r.id&&(this.ui.tabId=r.id),s(!0)}),this.dom.proceed=()=>new Promise(s=>(this.dom.setSubscriber("name-reset",this.column.reset.subscribe(r=>this._onColumnResetEvent(r))),this._determineHeight(),this.template.attach("container"),this._templateRender(),s(!0)))}ngOnInit(){super.ngOnInit()}onBubbleEvent(e){this.log.event("onBubbleEvent",e),(Ln(0,e)||"context_menu"===e.type)&&this.events.emit(e)}ngOnDestroy(){this._setScrollTop(),super.ngOnDestroy()}_onColumnResetEvent(e){e&&"boolean"==typeof e?(this.dom.delay.render&&clearTimeout(this.dom.delay.render),this.dom.delay.render=setTimeout(()=>{this._templateRender()},250)):"string"==typeof e&&"scrollTop"===e&&this._setScrollTop()}_determineHeight(){this.dom.state.hasHeader=!!this.column.header;const e=Lt(this.dom.repo,["position",String(this.column.id),"height"],650);this.dom.height.outer=+e,this.dom.height.inner=this.dom.height.outer-30}_templateRender(){const e=["core","position"];Y(this.column.extension,!0)&&(this.extension=this.column.extension,e.push("extension"));const t=De(this.column.components,!0)?this.column.components:[];this.template.render(t,e),this._applyScrollTop()}_applyScrollTop(){setTimeout(()=>{this.dom.session.scroll&&this.ui.tabId&&this.dom.session.scroll[this.ui.tabId]&&(this.el.nativeElement.parentElement.scrollTop=this.dom.session.scroll[this.ui.tabId])},0)}_setScrollTop(){this.dom.session.scroll||(this.dom.session.scroll={}),this.ui.tabId&&(this.dom.session.scroll[this.ui.tabId]=this.el.nativeElement.parentElement.scrollTop)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Qo))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-tab-column"]],viewQuery:function(e,t){if(1&e&&ht(XIe,7,Ri),2&e){let o;Ke(o=Ye())&&(t.container=o.first)}},inputs:{column:"column",extension:"extension"},features:[Re],decls:2,vars:0,consts:[["container",""]],template:function(e,t){1&e&&$(0,qIe,0,0,"ng-template",null,0,is)},encapsulation:2}),i})(),QIe=(()=>{class i extends Yt{constructor(e){super(),this.el=e,this.config={},this.name="EntitySchemeComponentContentComponent",this.dom.configure=()=>new Promise(t=>{t(!0)})}ngOnInit(){super.ngOnInit(),this.dom.configure().then(()=>{this.dom.register(),this.dom.ready()})}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-entity-scheme-component-content"]],inputs:{config:"config"},features:[Re],decls:2,vars:0,template:function(e,t){1&e&&(x(0,"p"),ee(1," profile-scheme-component-asset works!\n"),C())},styles:[".entity-scheme-asset-layout-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;border-top:1px solid var(--border);border-left:1px solid var(--border);border-bottom:1px solid var(--border);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}lib-entity-scheme-layout-section[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;-ms-flex-preferred-size:150px;flex-basis:150px;border-right:1px solid var(--border)}.entity-scheme-asset-layout-section[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}.entity-scheme-asset-list-content[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden}.entity-scheme-asset[_ngcontent-%COMP%]{-webkit-box-sizing:border-box;box-sizing:border-box;margin:10px;border:1px solid var(--border);background:var(--bg-3);font-size:12px}.entity-scheme-asset-menu[_ngcontent-%COMP%]{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:8px;right:5px;height:20px;background:transparent;opacity:.8;width:40px;padding-left:5px;z-index:2}.entity-scheme-asset-menu-icon[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;opacity:1!important;background:transparent;width:16px;color:var(--foreground-disabled);height:16px}.entity-scheme-asset-menu-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px}.entity-scheme-asset-handle[_ngcontent-%COMP%]{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:move;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.entity-scheme-asset-handle-disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:none}.entity-scheme-asset-field-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.entity-scheme-asset-layout-row[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:25px;font-size:14px;padding:0 10px 0 1px;top:5px;z-index:1}.entity-scheme-asset-layout-row-expanded[_ngcontent-%COMP%]{border-bottom:1px solid var(--border)}.entity-scheme-asset-layout-subrow[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;height:20px;color:var(--disabled);padding:0 10px 0 1px;font-size:10px;top:1px}.entity-scheme-asset-layout-content-row[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-height:30px}.entity-scheme-asset-item-row[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:30px;padding:0 10px;border-top:1px solid var(--border);z-index:1}.entity-scheme-asset-toggle-row[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;height:10px;margin-bottom:5px;overflow:hidden;z-index:3}.entity-scheme-asset-toggle-row[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{position:relative;top:2px;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:18px}.entity-scheme-primary[_ngcontent-%COMP%]{color:var(--primary-background)}.entity-scheme-required[_ngcontent-%COMP%]{color:var(--error);font-size:14px;line-height:0px;margin:0;width:10px;position:relative;top:18px;left:5px;z-index:2}.cdk-drag-preview[_ngcontent-%COMP%]{overflow:hidden;-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;height:35px}.cdk-drag-preview[_ngcontent-%COMP%]   .entity-scheme-asset-handle[_ngcontent-%COMP%]{-webkit-box-sizing:border-box;box-sizing:border-box}.cdk-drag-preview[_ngcontent-%COMP%]   .entity-scheme-asset-menu[_ngcontent-%COMP%]{display:none!important}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1),-webkit-transform .25s cubic-bezier(0,0,.2,1)}.entity-scheme-asset-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .entity-scheme-asset[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1),-webkit-transform .25s cubic-bezier(0,0,.2,1)}.entity-scheme-asset-layout-notes[_ngcontent-%COMP%]{padding-bottom:5px;font-size:14px}.entity-scheme-asset-layout-icon[_ngcontent-%COMP%]{font-size:14px;height:14px;width:14px;padding-left:5px}.entity-scheme-asset-layout-required[_ngcontent-%COMP%]{color:var(--error);font-size:14px;line-height:0px;margin:0;width:10px;position:relative;top:11px}.entity-scheme-asset-field-container[_ngcontent-%COMP%]{background:black}"]}),i})();function eAe(i,n){if(1&i&&(x(0,"mat-icon",4),ee(1),C()),2&i){const e=n.$implicit;Ei("matTooltip",e.label),_(1),Je(e.icon)}}const tAe=function(i){return{"sw-disabled":i}};function iAe(i,n){if(1&i&&(x(0,"div",1),ee(1),x(2,"div",2),$(3,eAe,2,2,"mat-icon",3),C()()),2&i){const e=n.$implicit;g("ngClass",qe(3,tAe,e.disabled)),_(1),Mt(" ",e.name," "),_(2),g("ngForOf",e.traits)}}let nAe=(()=>{class i extends Yt{constructor(e,t,o){var s;super(),s=this,this.el=e,this._schemeRepo=t,this._fieldRepo=o,this.config={},this.name="EntitySchemeFieldContentComponent",this.srv={scheme:void 0,field:void 0},this.asset={field:void 0,groupName:void 0,mapping:void 0,primary:void 0,traits:void 0,traitMap:{},entryTraitMap:{}},this.ui={entries:[],traits:[]},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return yield s._setInitialConfig(),yield s._setEntryTraitMap(),yield s._setEntries(),a(!0)});return function(a){return r.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){return new Promise(e=>(this.asset.field=this.config.asset,this.asset.groupName=(this.config.asset.field_group??this.config.asset.fieldgroup).name,this.asset.mapping=this.srv.scheme.getFieldMapping(+this.config.asset_id),this.asset.primary=this.srv.field.getSchemePrimary(this.core.entity),this.dom.state.isPrimary=+this.config.asset_id===this.asset.primary[this.asset.groupName],this.asset.traits=this.srv.field.getFieldTraits(this.asset.groupName).sort(ko("name")),this.asset.traitMap=Kn(this.asset.traits,"name"),e(!0)))}_setEntryTraitMap(){return new Promise(e=>(this.asset.entryTraitMap={},De(this.asset.traits,!0)&&Y(this.asset.mapping.trait_entry,!0)&&Object.keys(this.asset.mapping.trait_entry).map(t=>{const o=+this.asset.mapping.trait_entry[t];+o&&(De(this.asset.entryTraitMap[o])||(this.asset.entryTraitMap[o]=[]),this.asset.entryTraitMap[o].push(t))}),e(!0)))}_setEntries(){return new Promise(e=>(this.ui.entries=[],this.ui.entries.push(...this.asset.field.entries),Y(this.config,["asset"])&&De(this.ui.entries,!0)&&(this.ui.entries.map(t=>{t.disabled=De(this.asset.mapping.disabled_entries,!0)&&this.asset.mapping.disabled_entries.includes(+t.id),t.traits=this._getEntryTraits(t)}),this.ui.entries.sort(ko("sort_order"))),e(!0)))}_getEntryTraits(e){const t=[];return Y(e,["id"])&&De(this.asset.traits,!0)&&this.dom.state.isPrimary&&e.id in this.asset.entryTraitMap&&De(this.asset.entryTraitMap[e.id],!0)&&this.asset.entryTraitMap[e.id].map(o=>{if(o in this.asset.traitMap){const s=this.asset.traits[this.asset.traitMap[o]];Y(s,["icon","name"])&&(s.label||(s.label=jt(Tn(s.name))),t.push(s))}}),t}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(wu),P(Tr))},i.\u0275cmp=Fe({type:i,selectors:[["lib-entity-scheme-field-content"]],inputs:{config:"config"},features:[Re],decls:1,vars:1,consts:[["class","entity-scheme-asset-item-row",3,"ngClass",4,"ngFor","ngForOf"],[1,"entity-scheme-asset-item-row",3,"ngClass"],[1,"entity-scheme-asset-trait-container"],["class","entity-scheme-asset-trait-icon sw-pointer","matTooltipPosition","above",3,"matTooltip",4,"ngFor","ngForOf"],["matTooltipPosition","above",1,"entity-scheme-asset-trait-icon","sw-pointer",3,"matTooltip"]],template:function(e,t){1&e&&$(0,iAe,4,5,"div",0),2&e&&g("ngForOf",t.ui.entries)},dependencies:[Gt,ai,wi,Pn],styles:[".entity-scheme-asset-item-row[_ngcontent-%COMP%]{padding-left:var(--gap-m);-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}.entity-scheme-asset-trait-container[_ngcontent-%COMP%]{min-width:20px;padding-top:var(--gap-s);padding-right:var(--gap-xs)}.entity-scheme-asset-trait-icon[_ngcontent-%COMP%]{font-size:14px}"]}),i})();function oAe(i,n){1&i&&(x(0,"div",10),ee(1,"Container"),C())}function sAe(i,n){1&i&&(x(0,"i",23),ee(1," * "),C()),2&i&&g("matTooltip","required")}function rAe(i,n){1&i&&(x(0,"div",26)(1,"i",27),ee(2," star "),C()()),2&i&&(_(1),g("matTooltip","Primary"))}function aAe(i,n){if(1&i&&(x(0,"div",24),$(1,rAe,3,1,"div",25),C()),2&i){const e=I(2).$implicit;g("@fadeInOut","in"),_(1),g("ngIf",e.asset.primary)}}function lAe(i,n){if(1&i){const e=Me();x(0,"div",26)(1,"i",28),ie("click",function(){he(e);const o=I(3).$implicit,s=I(2);return pe(s.onRemoveChildFromLayout(s.section.position,o))}),ee(2," clear "),C()()}}function cAe(i,n){if(1&i){const e=Me();x(0,"div",24)(1,"div",26)(2,"i",28),ie("click",function(){he(e);const o=I(2).$implicit;return pe(I(2).onEditAsset(o))}),ee(3," edit "),C()(),$(4,lAe,3,0,"div",25),C()}if(2&i){const e=I(2).$implicit;g("@fadeInOut","in"),_(4),g("ngIf",!e.asset.primary)}}function dAe(i,n){1&i&&(x(0,"div"),ee(1,"Default Column"),C())}function uAe(i,n){if(1&i&&(x(0,"div"),ee(1),C()),2&i){const e=I(2).$implicit;_(1),Je(null==e.asset||null==e.asset.fieldgroup?null:e.asset.fieldgroup.label)}}function hAe(i,n){1&i&&(x(0,"div"),ee(1,"Component"),C())}function pAe(i,n){if(1&i&&me(0,"lib-entity-scheme-table-content",31),2&i){const e=I(3).$implicit;g("core",I(2).core)("config",e)}}function mAe(i,n){if(1&i&&me(0,"lib-entity-scheme-field-content",31),2&i){const e=I(3).$implicit;g("core",I(2).core)("config",e)}}function fAe(i,n){if(1&i&&me(0,"lib-entity-scheme-component-content",31),2&i){const e=I(3).$implicit;g("core",I(2).core)("config",e)}}const gAe=function(i){return{"entity-scheme-asset-layout-row-expanded":i}};function _Ae(i,n){if(1&i&&(x(0,"div",29),$(1,pAe,1,2,"lib-entity-scheme-table-content",30),$(2,mAe,1,2,"lib-entity-scheme-field-content",30),$(3,fAe,1,2,"lib-entity-scheme-component-content",30),C()),2&i){const e=I(2).$implicit,t=I(2);g("ngClass",qe(5,gAe,t.dom.session.expanded[e.id]))("ngSwitch",e.asset_type),_(1),g("ngSwitchCase","table"),_(1),g("ngSwitchCase","field"),_(1),g("ngSwitchCase","component")}}const u5=function(i){return{"sw-hidden":i}};function bAe(i,n){if(1&i){const e=Me();x(0,"div",32),ie("click",function(){he(e);const o=I(2).$implicit;return pe(I(2).onExpandAssetContent(o))}),x(1,"div",33),ee(2,"expand_more"),C(),x(3,"div",33),ee(4,"expand_less"),C()()}if(2&i){const e=I(2).$implicit,t=I(2);_(1),g("ngClass",qe(2,u5,t.dom.session.expanded[e.id])),_(2),g("ngClass",qe(4,u5,!t.dom.session.expanded[e.id]))}}const vAe=function(i){return{"entity-scheme-asset-field-container":!0,"sw-disabled":i}},yAe=function(i,n,e,t,o){return{id:i,asset_id:n,asset_type:e,position:t,compact:o}},xAe=function(i){return{"entity-scheme-asset-handle-disabled":i}};function CAe(i,n){if(1&i){const e=Me();x(0,"div",11),ie("mouseenter",function(){he(e);const o=I().$implicit;return pe(I(2).onShowAssetMenu(o))})("mouseleave",function(){he(e);const o=I().$implicit;return pe(I(2).onHideAssetMenu(o))})("cdkDragDrop",function(o){return he(e),pe(I(3).onAssetSortDrop(o))}),x(1,"div",12)(2,"div",13),$(3,sAe,2,1,"i",14),C(),x(4,"div",15)(5,"div",16)(6,"div",17),ee(7),C(),$(8,aAe,2,2,"div",18),$(9,cAe,5,2,"div",18),C(),x(10,"div",19),$(11,dAe,2,0,"div",20),$(12,uAe,2,1,"div",20),$(13,hAe,2,0,"div",20),C()()(),$(14,_Ae,4,7,"div",21),$(15,bAe,5,6,"div",22),C()}if(2&i){const e=I().$implicit,t=I(2);g("ngClass",qe(15,vAe,"table"===e.asset_type))("cdkDragData",sm(17,yAe,e.id,e.asset_id,e.asset_type,t.section.position,e.compact)),_(2),et("max-width",12,"px"),_(1),g("ngIf",e.asset.required),_(3),g("ngClass",qe(23,xAe,"table"===e.asset_type)),_(1),Mt(" ",e.name," "),_(1),g("ngIf",!e.menu),_(1),g("ngIf",e.menu),_(1),g("ngSwitch",e.asset_type),_(1),g("ngSwitchCase","table"),_(1),g("ngSwitchCase","field"),_(1),g("ngSwitchCase","component"),_(1),g("ngIf",t.dom.session.expanded[e.id]),_(1),g("ngIf",e.id&&e.asset&&e.asset.multiple&&e.asset.entries&&e.asset.entries.length>1)}}function wAe(i,n){if(1&i&&(x(0,"div"),$(1,oAe,2,0,"div",8),$(2,CAe,16,25,"div",9),C()),2&i){const e=n.$implicit;_(1),g("ngIf",e.container),_(1),g("ngIf",!e.container)}}function kAe(i,n){if(1&i){const e=Me();x(0,"div",1)(1,"mat-accordion",2)(2,"div",3),me(3,"lib-pop-input",4),C(),x(4,"div",5),ie("cdkDropListDropped",function(o){return he(e),pe(I().onAssetSortDrop(o))}),me(5,"div",6),$(6,wAe,3,2,"div",7),C()()()}if(2&i){const e=I();_(1),et("height",e.dom.height.outer,"px"),g("displayMode","flat"),_(2),g("config",e.ui.header),_(1),et("height",e.dom.height.inner,"px"),qp("id","column-",e.section.position,""),g("cdkDropListData",e.section.children)("cdkDropListEnterPredicate",e.section.predicate),Et("data-position",e.section.position)("data-start-index",e.section.startIndex)("data-id",e.section.id),_(2),g("ngForOf",e.section.assets)}}let h5=(()=>{class i extends Yt{constructor(e,t,o){var s;super(),s=this,this.el=e,this._domRepo=t,this._schemeRepo=o,this.section={},this.name="EntitySchemeLayoutSectionComponent",this.srv={scheme:void 0},this.ui={header:void 0,primaryIds:[]},this.dom.session.expanded={},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return s.core=Ai(s.core,!0,`${s.name}:configureDom: - this.core`)?s.core:null,s.id=s.section.position,s.ui.primaryIds=s.srv.scheme.ui.primaryIds,s._buildHeader(),yield s.dom.setWithComponentInnerHeight("PopEntityTabColumnComponent",s.section.position,75,700),a(!0)});return function(a){return r.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onAssetSortDrop(e){this.srv.scheme.onAssetSortDrop(e)}onEditAsset(e){var t=this;this.dom.setTimeout("edit-asset",q(function*(){yield t.srv.scheme.onEditAsset(e),t.dom.session.expanded[e.id]&&(t.onExpandAssetContent(e),t.dom.setTimeout("reset-asset",q(function*(){t.onExpandAssetContent(e)}),0))}),0)}onExpandAssetContent(e){e.id&&(this.dom.session.expanded[e.id]=!this.dom.session.expanded[e.id])}onHideAssetMenu(e){e.menu=!1}onShowAssetMenu(e){"table"!=e.asset_type&&(e.menu=!0)}onRemoveChildFromLayout(e,t){this.srv.scheme.onRemoveChildFromLayout(e,t).then(()=>{})}ngOnDestroy(){super.ngOnDestroy()}_buildHeader(){this.ui.header=new li({value:this.section.name,label:`Column ${this.section.position}`,pattern:"AlphaNumeric",maxlength:24,patch:{field:"name",path:`profile-schemes/${this.section.id}`}})}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(wu))},i.\u0275cmp=Fe({type:i,selectors:[["lib-entity-scheme-layout-section"]],inputs:{section:"section"},features:[Re],decls:1,vars:1,consts:[["class","entity-scheme-asset-layout-section",4,"ngIf"],[1,"entity-scheme-asset-layout-section"],["multi","true",1,"entity-scheme-asset-list",3,"displayMode"],[1,"entity-scheme-asset-layout-section-header"],[3,"config"],["cdkDropList","",1,"entity-scheme-asset-list-content",3,"id","cdkDropListData","cdkDropListEnterPredicate","cdkDropListDropped"],[1,"sw-mar-vrt-xs","sw-clear"],[4,"ngFor","ngForOf"],["class","entity-scheme-asset",4,"ngIf"],["class","entity-scheme-asset","cdkDrag","","cdkDragBoundary",".entity-scheme-asset-layout-container",3,"ngClass","cdkDragData","mouseenter","mouseleave","cdkDragDrop",4,"ngIf"],[1,"entity-scheme-asset"],["cdkDrag","","cdkDragBoundary",".entity-scheme-asset-layout-container",1,"entity-scheme-asset",3,"ngClass","cdkDragData","mouseenter","mouseleave","cdkDragDrop"],[1,"sw-flex-row"],[1,"sw-flex-column-break","sw-flex-column","sw-flex-start-center"],["class","sw-pointer entity-scheme-required",3,"matTooltip",4,"ngIf"],[1,"sw-flex-column-break","sw-flex-column"],[1,"entity-scheme-asset-layout-row"],["cdkDragHandle","",1,"entity-scheme-asset-handle",3,"ngClass"],["class","entity-scheme-asset-menu",4,"ngIf"],[1,"entity-scheme-asset-layout-subrow",3,"ngSwitch"],[4,"ngSwitchCase"],["class","entity-scheme-asset-layout-content-row",3,"ngClass","ngSwitch",4,"ngIf"],["class","entity-scheme-asset-toggle-row sw-pointer",3,"click",4,"ngIf"],[1,"sw-pointer","entity-scheme-required",3,"matTooltip"],[1,"entity-scheme-asset-menu"],["class","entity-scheme-asset-menu-icon",4,"ngIf"],[1,"entity-scheme-asset-menu-icon"],[1,"material-icons","sw-pointer","entity-scheme-primary",3,"matTooltip"],[1,"material-icons","sw-pointer",3,"click"],[1,"entity-scheme-asset-layout-content-row",3,"ngClass","ngSwitch"],[3,"core","config",4,"ngSwitchCase"],[3,"core","config"],[1,"entity-scheme-asset-toggle-row","sw-pointer",3,"click"],[1,"material-icons","sw-pointer",3,"ngClass"]],template:function(e,t){1&e&&$(0,kAe,7,13,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".entity-scheme-asset-layout-section-header[_ngcontent-%COMP%]{height:55px;padding:2px 5px;border-bottom:1px solid var(--border);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .entity-scheme-asset-layout-section-header[_ngcontent-%COMP%]     input{font-size:1.2em}[_nghost-%COMP%]   .entity-scheme-asset-layout-section-header[_ngcontent-%COMP%]     mat-label{position:relative;top:2px;font-size:1.2em}[_nghost-%COMP%]   .entity-scheme-asset-layout-section-header[_ngcontent-%COMP%]     .pop-input-container{margin:0!important;border:0!important}[_nghost-%COMP%]   .entity-scheme-asset-layout-section-header[_ngcontent-%COMP%]     .mat-form-field-outline{color:transparent;display:none}"],data:{animation:[oy,gp]}}),i})(),IAe=(()=>{class i extends Yt{constructor(e){super(),this.el=e,this.config={},this.name="EntitySchemeTableContentComponent",this.dom.configure=()=>new Promise(t=>t(!0))}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-entity-scheme-table-content"]],inputs:{config:"config"},features:[Re],decls:2,vars:0,template:function(e,t){1&e&&(x(0,"p"),ee(1," profile-scheme-table-asset works!\n"),C())}}),i})(),p5=(()=>{class i extends Yt{constructor(e){super(),this.el=e,this.name="FieldInputSettingComponent",this.dom.configure=()=>new Promise(t=>(this.ui.param=new li({label:this.config.label,name:this.config.name,value:kt(this.config.value)?this.config.value:this.config.defaultValue,readonly:this.config.readonly,patch:this.config.patch}),t(!0)))}ngOnInit(){super.ngOnInit()}onBubbleEvent(e){this.events.emit(e)}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(P($e))},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-asset-param"]],inputs:{config:"config"},features:[Re],decls:2,vars:1,consts:[[3,"config","events"],[1,"sw-mar-vrt-sm","sw-clear"]],template:function(e,t){1&e&&(x(0,"lib-pop-input",0),ie("events",function(s){return t.onBubbleEvent(s)}),C(),me(1,"div",1)),2&e&&g("config",t.ui.param)},encapsulation:2}),i})(),m5=(()=>{class i{constructor(e){this.changeDetectorRef=e,this.state={selected:0,system:!1,loaded:!1,loading:!1,error:{code:0,message:""}},this.subscriber={data:void 0},this.field={type:"",items:void 0,active:{}},this.active={item:void 0},this.models={},this.configs={}}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-asset-param"]],inputs:{config:"config"},decls:4,vars:1,consts:[[1,"field-builder-param-container"],[1,"field-builder-param-title-container","mat-h2"],[1,"field-builder-param-title"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),ee(3),C()()()),2&e&&(_(3),Je(t.config.name))},encapsulation:2}),i})(),f5=(()=>{class i{constructor(e){this.changeDetectorRef=e,this.events=new tt}ngOnInit(){this.param=new hp({label:this.config.label,name:this.config.name,layout:"row",value:this.config.value,patch:this.config.patch,options:this.config.options})}ngOnDestroy(){}}return i.\u0275fac=function(e){return new(e||i)(P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-radio-param"]],inputs:{config:"config"},outputs:{events:"events"},decls:2,vars:1,consts:[[3,"config","events"],[1,"sw-mar-vrt-sm","sw-clear"]],template:function(e,t){1&e&&(x(0,"lib-pop-radio",0),ie("events",function(s){return t.events.emit(s)}),C(),me(1,"div",1)),2&e&&g("config",t.param)},encapsulation:2}),i})(),g5=(()=>{class i{constructor(){this.events=new tt,this.state={selected:0,system:!1,loaded:!1,loading:!1,error:{code:0,message:""}},this.subscriber={data:void 0},this.field={type:"",items:void 0,active:{}},this.active={item:void 0},this.models={},this.configs={}}ngOnInit(){this.param=new Zi({label:this.config.label,name:this.config.name,value:this.config.value?this.config.value:this.config.default,options:{values:as(this.config.options.values)},patch:this.config.patch})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-select-setting"]],inputs:{config:"config"},outputs:{events:"events"},decls:2,vars:1,consts:[[3,"config","events"],[1,"sw-mar-vrt-sm","sw-clear"]],template:function(e,t){1&e&&(x(0,"lib-pop-select",0),ie("events",function(s){return t.events.emit(s)}),C(),me(1,"div",1)),2&e&&g("config",t.param)},encapsulation:2}),i})(),_5=(()=>{class i{constructor(e){this.changeDetectorRef=e,this.events=new tt}ngOnInit(){this.param=new uo({label:this.config.label,name:this.config.name,value:this.config.value,patch:this.config.patch})}}return i.\u0275fac=function(e){return new(e||i)(P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-switch-setting"]],inputs:{config:"config"},outputs:{events:"events"},decls:1,vars:1,consts:[[3,"config","events"]],template:function(e,t){1&e&&(x(0,"lib-pop-switch",0),ie("events",function(s){return t.events.emit(s)}),C()),2&e&&g("config",t.param)},encapsulation:2}),i})(),b5=(()=>{class i{constructor(e){this.changeDetectorRef=e,this.events=new tt}ngOnInit(){this.param=new Jr({label:this.config.label,name:this.config.name,value:this.config.value?this.config.value:this.config.default,height:70})}}return i.\u0275fac=function(e){return new(e||i)(P(Zt))},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-textarea-setting"]],inputs:{config:"config"},outputs:{events:"events"},decls:1,vars:1,consts:[[3,"config","events"]],template:function(e,t){1&e&&(x(0,"lib-pop-textarea",0),ie("events",function(s){return t.events.emit(s)}),C()),2&e&&g("config",t.param)},encapsulation:2}),i})();function AAe(i,n){if(1&i){const e=Me();x(0,"lib-pop-checkbox",35),ie("events",function(o){return he(e),pe(I(3).onItemStatusChange(o))}),C()}if(2&i){const e=I().$implicit;g("config",I(2).ui.activeConfigs[e.name])}}const SAe=function(i){return{"entity-scheme-asset-active-selection":i}};function MAe(i,n){if(1&i){const e=Me();x(0,"div",30),ie("click",function(){const s=he(e).$implicit;return pe(I(2).onActiveItemSelection(s))}),x(1,"div",31),ie("click",function(o){return o.stopPropagation()}),$(2,AAe,1,1,"lib-pop-checkbox",32),C(),x(3,"div",33),ee(4),C(),x(5,"div",10)(6,"div",34),ee(7,"X"),C()()()}if(2&i){const e=n.$implicit,t=I(2);g("ngClass",qe(4,SAe,(null==t.dom.active.item?null:t.dom.active.item.id)===e.id)),_(2),g("ngIf",t.ui.activeConfigs[e.name]),_(2),Je(e.name),_(2),Ei("matTooltip",e.display)}}const gy=function(i){return{"sw-hidden":i}};function PAe(i,n){if(1&i){const e=Me();x(0,"a",36),ie("click",function(){const s=he(e).$implicit;return pe(I(2).onActiveItemSettingSectionSelection(s))}),ee(1),C()}if(2&i){const e=n.$implicit,t=I(2);g("ngClass",qe(3,gy,!e.active))("active",t.dom.active.section===e.id),_(1),Mt(" ",e.name," ")}}function TAe(i,n){1&i&&me(0,"div",20)}const EAe=function(i){return{"sw-disabled":i}};function DAe(i,n){if(1&i){const e=Me();x(0,"div",37)(1,"div",21)(2,"i",38),ee(3,"drag_indicator"),C()(),x(4,"div",22)(5,"lib-pop-checkbox",35),ie("events",function(o){return he(e),pe(I(2).onSaveActiveItemOptions(o))}),C()(),x(6,"div",39),me(7,"lib-pop-input",40),C(),x(8,"div",41),me(9,"lib-pop-input",40),C(),me(10,"div",42),$(11,TAe,1,0,"div",43),C()}if(2&i){const e=n.$implicit,t=I(2);_(5),g("config",e.active),_(2),g("config",e.name),_(1),g("ngClass",qe(4,EAe,null==t.dom.active.item||null==t.dom.active.item.options?null:t.dom.active.item.options.enum)),_(1),g("config",e.value)}}function OAe(i,n){if(1&i){const e=Me();x(0,"div",1)(1,"div",2)(2,"div",3),ee(3,"Edit Field"),C()(),x(4,"div",4)(5,"div",5)(6,"h4"),ee(7),C()(),me(8,"div",6),C(),x(9,"div",7)(10,"div",8)(11,"div",9)(12,"div"),ee(13,"Attributes"),C(),x(14,"div",10)(15,"div",11),ee(16,"X"),C()()(),me(17,"mat-divider"),$(18,MAe,8,6,"div",12),C(),x(19,"div",8)(20,"div",9)(21,"div"),ee(22),C(),x(23,"div",13)(24,"div",11),ee(25,"X"),C()()(),me(26,"mat-divider"),x(27,"div",14)(28,"nav",15),$(29,PAe,2,5,"a",16),C()(),x(30,"div",17)(31,"div",18),Go(32,19),C(),x(33,"div",18)(34,"div",20)(35,"div",21),ee(36,"Sort"),C(),x(37,"div",22),ee(38,"Active"),C(),x(39,"div",23)(40,"label"),ee(41,"Name"),C()(),x(42,"div",23),ee(43,"Value"),C(),me(44,"div",24),C(),me(45,"mat-divider"),x(46,"div",25),ie("cdkDropListDropped",function(o){return he(e),pe(I().onActiveItemOptionSortDrop(o))}),$(47,DAe,12,6,"div",26),C()()()()(),x(48,"div",27)(49,"div",28)(50,"button",29),ie("click",function(){return he(e),pe(I().onModalClose())}),ee(51,"Close"),C()()()()}if(2&i){const e=I();et("height",e.dom.height.inner,"px"),_(7),Je(e.ui.field.name),_(8),Ei("matTooltip",e.ui.field.cf_type_name),_(3),g("ngForOf",e.ui.items),_(4),Mt("",null==e.dom.active.item?null:e.dom.active.item.name," Settings"),_(2),Ei("matTooltip",null==e.dom.active.item?null:e.dom.active.item.description),_(3),g("ngClass",qe(16,gy,!(null!=e.dom.active.item&&e.dom.active.item.options))),_(2),g("ngForOf",e.ui.sections),_(2),et("height",e.dom.height.content,"px"),g("ngClass",qe(18,gy,"params"!==e.dom.active.section)),_(2),et("height",e.dom.height.content,"px"),g("ngClass",qe(20,gy,"options"!==e.dom.active.section)),_(14),g("ngForOf",e.dom.active.options)}}let RAe=(()=>{class i extends Jo{extendServiceContainer(){this.srv.container=this._containerRepo,delete this._containerRepo}constructor(e,t,o,s){super(),this.el=e,this.dialogRef=t,this._containerRepo=o,this._domRepo=s,this.config={},this.name="PopEntityAssetFieldModalComponent",this.srv={container:void 0,field:Rt.get(Tr)},this.asset={defaultContentHeight:void 0,model:new Map,config:new Map,coreField:void 0,coreFields:void 0,coreFieldItems:void 0,params:void 0,map:{}},this.ui={activeConfigs:{},field:void 0,name:void 0,items:[],sections:[],map:{items:{}}},this.extendServiceContainer(),this.srv.container.onContainerCreated(r=>{this.template.attach(r),this._setActiveItemParamConfiguration()}),this.dom.configure=()=>new Promise(r=>{this.internal_name=function Nde(i,n=!1,e){const t=Ne(i,n);if(!t&&e)throw Y(ut)&&ut.enabled("error")&&window.console.log(ut.message("IsStringError: Fail"),ut.color("error"),{data:i,requireLength:n,name:e}),new Error(e);return t}(this.config.asset.fieldgroup.name,!0,`${this.name}:configureDom - internal_name`)?this.config.asset.fieldgroup.name:"";const a=.75*window.innerHeight-60;return this.dom.setHeight(a,50),this.dom.height.content=this.dom.height.inner-200,this.dom.active.items={},this.asset.defaultContentHeight=this.dom.height.content,this.asset.coreFields=Kl(this.core.resource.fields.data_values,!0,`${this.name}: - this.core.entity.resource.fields`)?bu(this.core.resource.fields.data_values,"name"):{},this.asset.params=this.srv.field.getViewParams(),this.asset.coreField=Ai(this.asset.coreFields[this.internal_name],!0,`${this.name}: - this.asset.coreFields[ this.internal_name ]`)?this.asset.coreFields[this.internal_name]:{},this.asset.coreFieldItems=Kl(this.asset.coreField.items,!0,`${this.name}: - this.asset.coreField.items`)?bu(this.asset.coreField.items,"name"):{},this.ui.field=this.config.asset,this.ui.sections=[],this.ui.name=new li({value:this.ui.field.name,readonly:!0}),this.ui.map.items={},(Kl(this.config.asset.items,!0,`${this.name}:configureDom: - this.config.asset.items`)?JSON.parse(JSON.stringify(this.config.asset.items)):[]).map((c,A)=>{c=Ui(c,{blacklist:["entries","object_name","depth_level","storage"]});const D=this.asset.coreFieldItems[c.name];D.rules=bu(D.itemrules,"name"),c.required=this.srv.field.getViewRequired(this.asset.coreField.name,c.name),c.required&&(c.active=1),+c.active&&(c.name=Tn(c.name),c.model={id:c.id,name:c.name,label:c.label},c.config={options:{values:c.options}},Y(c.view,["name"])&&(c.model.form=c.view.name),Y(c.rules,!0)&&(c.model={...c.model,...c.rules}),Y(c.settings,!0)&&(c.model={...c.model,...c.settings}),this.dom.active.items[c.name]=c.active,this.asset.model.set(c.name,c.model),this.asset.config.set(c.name,c.config),this.ui.activeConfigs[c.name]=new qr({id:c.id,name:"active",disabled:!!c.required,value:+c.active}),this.ui.items.push(c)),this.ui.map.items[c.name]=A}),this.ui.sections=[{id:"params",name:"Params",inputs:{},component:null,metadata:{},requireRefresh:!1,active:!0},{id:"options",name:"Options",inputs:{},component:null,metadata:{},requireRefresh:!1,active:!0}],this.ui.items[0]&&this.onActiveItemSelection(this.ui.items[0]),r(!0)})}ngOnInit(){super.ngOnInit()}onItemStatusChange(e){"field"===e.type&&"patch"===e.name&&e.success&&(this.log.event("onItemStatusChange",e),this.dom.active.items[e.config.id]=+e.config.control.value)}onActiveItemSelection(e){this.dom.active.item=e,this.dom.active.item.options&&this._setActiveItemOptionConfiguration(),this.dom.active.model=Ai(this.dom.active.item.model,!0,`${this.name}:onSelection - model`)?JSON.parse(JSON.stringify(this.dom.active.item.model)):{},this.onActiveItemSettingSectionSelection(this.dom.active.item.id&&this.dom.session[this.dom.active.item.id]?this.dom.session[this.dom.active.item.id]:this.ui.sections[0]),this._setActiveItemParamConfiguration()}onSaveActiveItemOptions(e){window.console.log("triggerSaveFieldOptions:stub",e)}onActiveItemSettingSectionSelection(e){this.dom.active.section=e.id,this.dom.session[this.dom.active.item.id]=e}onActiveItemOptionSortDrop(e){Pc(this.dom.active.options,e.previousIndex,e.currentIndex),this.onSaveActiveItemOptions({name:"onChange"})}onModalClose(){this.dialogRef.close(0)}ngOnDestroy(){this.template.destroy(),super.ngOnDestroy()}_setActiveItemParamConfiguration(){Y(this.dom.active.config,!0)&&Y(this.dom.active.params,!0)&&this._getParamConfigurationComponentList(this.dom.active.config,this.dom.active.params).then(e=>{this.template.render(e,[],!0)})}_getParamConfigurationComponentList(e,t){return new Promise(o=>{const s=[];let r,a;this.dom.active.model.form in this.asset.params&&Object.keys(t).map(l=>{l in this.asset.params[this.dom.active.model.form]&&(a={name:jt(Tn(l)),value:e[l],column:l,readonly:!!["api","column"].includes(l),patch:{field:l,path:`${e.api_path}/config`},...t[l]},a.patch.path="",r={type:this._determineParamSettingComponent(l),inputs:{config:a}},s.push(r))}),o(s)})}_determineParamSettingComponent(e){switch(e){case"label":default:return m5;case"display":case"api":case"column":case"sort_top":case"sort":case"helpText":return p5;case"select":case"mask":case"pattern":case"maxlength":case"transformation":return g5;case"hidden":case"visible":case"disabled":case"readonly":case"required":return _5;case"layout":return f5;case"metadata":return b5}}_setActiveItemOptionConfiguration(){this.dom.active.options=[],this.dom.active.item.options&&Array.isArray(this.dom.active.item.options.values)?this.dom.active.item.options.values.map((e,t)=>{e.sort=t,"boolean"!=typeof e.active&&(e.active=!0),"string"!=typeof e.name&&(e.name=""),"string"!=typeof e.value&&(e.value=""),this.dom.active.options.push({active:new qr({label:null,value:+e.active,bubble:!0}),name:new li({label:null,value:e.name,validators:[Xt.required],transformation:"title",bubble:!0,pattern:"AlphaNoSpaceOnlyDash",maxlength:12,readonly:!0}),value:new li({label:null,value:e.value||0,bubble:!0,pattern:"AlphaNumeric",transformation:"lower",maxlength:128,readonly:!0}),sort:new li({label:null,value:e.sort||0,bubble:!0})})}):this.onActiveItemSettingSectionSelection(this.ui.sections[0])}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Yo),P(WI),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-asset-field-modal"]],inputs:{config:"config"},features:[Ct([WI]),Re],decls:1,vars:1,consts:[["class","entity-scheme-asset-container",3,"height",4,"ngIf"],[1,"entity-scheme-asset-container"],[1,"entity-scheme-asset-header"],[1,"sw-label-container-sm"],[1,"entity-scheme-asset-row","sw-mar-top-md"],[1,"entity-scheme-asset-divider","sw-disabled"],[1,"entity-scheme-asset-divider"],[1,"entity-scheme-asset-content"],[1,"entity-scheme-asset-section-wrapper"],[1,"entity-scheme-asset-header","pt-02"],[1,"entity-scheme-asset-item-label-helper"],["matTooltipPosition","left",1,"sw-pop-icon","entity-scheme-asset-section-header-helper-icon",3,"matTooltip"],["class","entity-scheme-asset-item sw-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"entity-field-editor-item-label-helper"],[1,"entity-scheme-asset-setting-header",3,"ngClass"],["mat-tab-nav-bar",""],["mat-tab-link","",3,"ngClass","active","click",4,"ngFor","ngForOf"],[1,"entity-scheme-asset-setting-content","entity-scheme-asset-setting-active-config"],[1,"entity-scheme-asset-setting-content",3,"ngClass"],["libTemplateContainer",""],[1,"entity-scheme-asset-setting-options-headers"],[1,"entity-scheme-asset-setting-options-sort"],[1,"entity-scheme-asset-setting-options-active"],[1,"entity-scheme-asset-setting-options-input"],[1,"entity-scheme-asset-setting-options-icon"],["cdkDropList","",1,"entity-scheme-asset-setting-options-container",3,"cdkDropListDropped"],["class","entity-scheme-asset-setting-options-headers","cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary",".entity-scheme-asset-setting-options-container",4,"ngFor","ngForOf"],[1,"entity-scheme-asset-row","entity-scheme-asset-buttons"],[1,"in-dialog-other"],["mat-raised-button","",3,"click"],[1,"entity-scheme-asset-item","sw-pointer",3,"ngClass","click"],[1,"entity-scheme-asset-item-active-selector",3,"click"],[3,"config","events",4,"ngIf"],[1,"entity-scheme-asset-item-label-name"],["matTooltipPosition","left",1,"sw-pop-icon","entity-scheme-asset-item-helper-icon",3,"matTooltip"],[3,"config","events"],["mat-tab-link","",3,"ngClass","active","click"],["cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary",".entity-scheme-asset-setting-options-container",1,"entity-scheme-asset-setting-options-headers"],["cdkDragHandle","",1,"entity-scheme-asset-handle","material-icons"],[1,"entity-scheme-asset-setting-options-input","sw-mar-rgt-md"],[3,"config"],[1,"entity-scheme-asset-setting-options-input",3,"ngClass"],["matTooltip","Remove",1,"entity-scheme-asset-setting-options-icon"],["class","entity-scheme-asset-setting-options-headers",4,"cdkDragPreview"]],template:function(e,t){1&e&&$(0,OAe,52,22,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".entity-scheme-asset-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;min-width:700px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box}.entity-scheme-asset-content[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;height:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-sizing:border-box;box-sizing:border-box}.entity-scheme-asset-row[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;height:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;clear:both;-webkit-box-sizing:border-box;box-sizing:border-box}.entity-scheme-asset-divider[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;width:300px;margin:15px;-webkit-box-sizing:border-box;box-sizing:border-box}.entity-scheme-asset-section-wrapper[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;border:1px solid var(--border);width:300px;margin:15px;-webkit-box-sizing:border-box;box-sizing:border-box}.entity-scheme-asset-item[_ngcontent-%COMP%]:hover{background-color:var(--darken02)}.entity-scheme-asset-header[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;height:40px;padding:0 5px 0 15px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-size:1em;font-weight:700;clear:both;-webkit-box-sizing:border-box;box-sizing:border-box}.entity-scheme-asset-item[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;border-bottom:1px solid var(--border);-webkit-box-sizing:border-box;box-sizing:border-box;padding-left:5px;-moz-box-sizing:border-box}.entity-scheme-asset-item[_ngcontent-%COMP%]     .pop-checkbox-container{margin-top:0!important}.entity-scheme-asset-item-active-selector[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;width:15%;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.entity-scheme-asset-active-selection[_ngcontent-%COMP%]{padding-left:0!important;border-left-width:5px;border-left-style:solid;border-left-color:var(--primary)}.entity-scheme-asset-item-label-name[_ngcontent-%COMP%]{width:75%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:start;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.entity-scheme-asset-item-label-helper[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:10%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-height:40px}.entity-scheme-asset-item-helper-icon[_ngcontent-%COMP%]{margin-top:10px;margin-right:2px;width:20px;height:20px;font-size:.7em;z-index:2}.entity-scheme-asset-buttons[_ngcontent-%COMP%]{margin:0 15px 10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.entity-scheme-asset-buttons[_ngcontent-%COMP%]   .in-dialog-cancel[_ngcontent-%COMP%]{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.entity-scheme-asset-buttons[_ngcontent-%COMP%]   .in-dialog-other[_ngcontent-%COMP%]{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2;-webkit-box-flex:2;-ms-flex-positive:2;flex-grow:2;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-left:10px}.entity-scheme-asset-setting-wrapper[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;border:1px solid var(--border);border-bottom:none;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-box-sizing:border-box;overflow-x:hidden;overflow-y:scroll}.entity-scheme-asset-setting-header[_ngcontent-%COMP%]{position:relative}.entity-scheme-asset-setting-content[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:10px 15px 10px 10px;-webkit-box-sizing:border-box;box-sizing:border-box;min-height:100px;overflow-y:scroll;overflow-x:hidden}.entity-scheme-asset-setting-active-config[_ngcontent-%COMP%]{border-left-width:5px;border-left-style:solid;border-left-color:var(--primary)}.entity-scheme-asset-setting-options-headers[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;margin-top:2px;height:32px}.entity-scheme-asset-setting-options-sort[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:10%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.entity-scheme-asset-setting-options-active[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:75px;text-align:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.entity-scheme-asset-setting-options-input[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:30%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.entity-scheme-asset-setting-options-icon[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:50px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.entity-scheme-asset-setting-options-new[_ngcontent-%COMP%]{float:right}.entity-scheme-asset-setting-options-container[_ngcontent-%COMP%]{position:relative;width:100%;min-height:30px;padding:5px 0;-webkit-box-sizing:border-box;box-sizing:border-box}.entity-scheme-asset-handle[_ngcontent-%COMP%]{cursor:move}.entity-scheme-btm-border[_ngcontent-%COMP%]{border-bottom:1px solid var(--border)}[_nghost-%COMP%]     .entity-scheme-asset-setting-options-container .mat-form-field-infix{width:auto;padding:6px!important;margin-top:6px!important;border:0!important}[_nghost-%COMP%]     .entity-scheme-asset-setting-options-container .pop-input-container{margin:2px}[_nghost-%COMP%]     .entity-scheme-asset-setting-options-container .pop-input-feedback-container{margin-top:-4px}[_nghost-%COMP%]     .entity-scheme-asset-setting-reset-box{position:relative;display:block;margin:0;padding:0;width:100%}[_nghost-%COMP%]     .entity-scheme-asset-setting-reset-box .pop-input-container, [_nghost-%COMP%]     .entity-scheme-asset-setting-reset-box .pop-select-container, [_nghost-%COMP%]     .entity-scheme-asset-setting-box .pop-textarea-container{margin:2px 0}"]}),i})();function FAe(i,n){if(1&i){const e=Me();x(0,"i",3),ie("click",function(){return he(e),pe(I().revert())}),ee(1," undo "),C()}2&i&&g("matTooltip","Revert back to <"+I().param.revert+">")}let v5=(()=>{class i{constructor(){this.events=new tt}ngOnInit(){const e=[];this.config.required&&e.push(Xt.required),this.param=new li({revert:this.config.revert,name:this.config.name,label:this.config.label,value:this.config.value?this.config.value:this.config.defaultValue,required:this.config.required,readonly:this.config.readonly,validators:e,patch:this.config.patch,facade:this.config.facade,metadata:this.config.metadata?this.config.metadata:{}})}revert(){this.config.revert&&(this.param.control.setValue(this.config.revert),this.param.revert=null,It(this.param.triggerDirectPatch)&&(this.param.triggerDirectPatch(null),this.events.emit({source:"FieldInputParamComponent",type:"component",name:"revert",config:this.param})))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-input-param"]],inputs:{config:"config"},outputs:{events:"events"},decls:3,vars:2,consts:[[2,"position","relative"],[3,"config","events"],["style","position: absolute; right: 5px; top: 2px; z-index: 1; color:var(--primary);","class","material-icons sw-pointer",3,"matTooltip","click",4,"ngIf"],[1,"material-icons","sw-pointer",2,"position","absolute","right","5px","top","2px","z-index","1","color","var(--primary)",3,"matTooltip","click"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"lib-pop-input",1),ie("events",function(s){return t.events.emit(s)}),C(),$(2,FAe,2,1,"i",2),C()),2&e&&(_(1),g("config",t.param),_(1),g("ngIf",t.param.revert&&t.param.revert!==t.param.control.value))},encapsulation:2}),i})(),y5=(()=>{class i{ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-label-param"]],inputs:{config:"config"},decls:4,vars:1,consts:[[1,"field-builder-param-container"],[1,"field-builder-param-title-container","mat-h2"],[1,"field-builder-param-title"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),ee(3),C()()()),2&e&&(_(3),Je(t.config.name))},encapsulation:2}),i})();function LAe(i,n){if(1&i){const e=Me();x(0,"i",3),ie("click",function(){return he(e),pe(I().revert())}),ee(1," undo "),C()}2&i&&g("matTooltip","Revert back to <"+I().param.revert+">")}let x5=(()=>{class i{constructor(){this.events=new tt}ngOnInit(){const e={revert:this.config.revert,label:this.config.label,name:this.config.name,value:this.config.value?this.config.value:this.config.default_value,patch:this.config.patch,facade:this.config.facade,disabled:this.config.disabled,min:0,max:this.config.max??1e8,metadata:this.config.metadata?this.config.metadata:{}};"maxlength"===this.config.name&&this.config.max&&(e.helpText=`Limit: ${this.config.max}`),this.param=new zf(e)}revert(){this.config.revert&&(this.param.control.setValue(this.config.revert),this.param.revert=null,It(this.param.triggerDirectPatch)&&(this.param.triggerDirectPatch(null),this.events.emit({source:"FieldInputParamComponent",type:"component",name:"revert",config:this.param})))}ngOnDestroy(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-number-param"]],inputs:{config:"config"},outputs:{events:"events"},decls:3,vars:2,consts:[[2,"position","relative"],[3,"config","events"],["style","position: absolute; right: 8px; top: -2px; z-index: 1; color:var(--primary);","class","material-icons sw-pointer",3,"matTooltip","click",4,"ngIf"],[1,"material-icons","sw-pointer",2,"position","absolute","right","8px","top","-2px","z-index","1","color","var(--primary)",3,"matTooltip","click"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"lib-pop-number",1),ie("events",function(s){return t.events.emit(s)}),C(),$(2,LAe,2,1,"i",2),C()),2&e&&(_(1),g("config",t.param),_(1),g("ngIf",t.param.revert&&t.param.revert!==t.param.control.value))},encapsulation:2}),i})(),oA=(()=>{class i{constructor(){this.events=new tt}ngOnInit(){this.param=new hp({label:this.config.label?this.config.label:this.config.name,name:this.config.name,layout:"row",value:this.config.value?this.config.value:this.config.defaultValue,patch:this.config.patch,options:this.config.options,disabled:this.config.disabled,facade:this.config.facade,metadata:this.config.metadata?this.config.metadata:{}})}ngOnDestroy(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-radio-param"]],inputs:{config:"config"},outputs:{events:"events"},decls:1,vars:1,consts:[[3,"config","events"]],template:function(e,t){1&e&&(x(0,"lib-pop-radio",0),ie("events",function(s){return t.events.emit(s)}),C()),2&e&&g("config",t.param)},encapsulation:2}),i})();function NAe(i,n){if(1&i){const e=Me();x(0,"lib-pop-select",1),ie("events",function(o){return he(e),pe(I().events.emit(o))}),C()}2&i&&g("config",I().param)}let C5=(()=>{class i{constructor(){this.events=new tt,this.hidden=!1}ngOnInit(){Y(this.config,!0)&&(this.param=new Zi({label:this.config.label?this.config.label:this.config.name,name:this.config.name,value:this.config.value?this.config.value:this.config.defaultValue,helpText:this.config.helpText,disabled:this.config.disabled,options:{values:Y(this.config.options,["values"])?as(this.config.options.values):[]},facade:this.config.facade,patch:this.config.patch,metadata:this.config.metadata?this.config.metadata:{}})),this.hidden=0===this.param.options.values.length}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-select-param"]],hostVars:2,hostBindings:function(e,t){2&e&&St("sw-hidden",t.hidden)},inputs:{config:"config",hidden:"hidden"},outputs:{events:"events"},decls:1,vars:1,consts:[[3,"config","events",4,"ngIf"],[3,"config","events"]],template:function(e,t){1&e&&$(0,NAe,1,1,"lib-pop-select",0),2&e&&g("ngIf",t.param)},encapsulation:2}),i})(),BAe=(()=>{class i{constructor(){this.events=new tt,this.name="FieldSliderParamComponent"}ngOnInit(){this.config.value||(this.config.value=this.config.defaultValue),this.param=new K4({name:this.config.name,label:this.config.label,column:this.config.column,value:this.config.value?this.config.value:this.config.defaultValue,min:this.config.min?this.config.min:1,max:this.config.defaultValue,facade:this.config.facade,patch:this.config.patch,metadata:this.config.metadata?this.config.metadata:{}}),ut.init(this.name,"init",this)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-slider-param"]],inputs:{config:"config"},outputs:{events:"events"},decls:1,vars:1,consts:[[3,"config","events"]],template:function(e,t){1&e&&(x(0,"lib-pop-slider",0),ie("events",function(s){return t.events.emit(s)}),C()),2&e&&g("config",t.param)},encapsulation:2}),i})(),w5=(()=>{class i{constructor(){this.events=new tt}ngOnInit(){this.param=new Jr({name:this.config.name,label:this.config.label,column:this.config.column,value:kt(this.config.value)?this.config.value:this.config.defaultValue,height:70,facade:this.config.facade,patch:this.config.patch,metadata:this.config.metadata?this.config.metadata:{}})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-textarea-param"]],inputs:{config:"config"},outputs:{events:"events"},decls:1,vars:1,consts:[[3,"config","events"]],template:function(e,t){1&e&&(x(0,"lib-pop-textarea",0),ie("events",function(s){return t.events.emit(s)}),C()),2&e&&g("config",t.param)},encapsulation:2}),i})();class ml{constructor(n){if(this.bubble=!1,this.preview=!1,this.minimal=!1,this.previewIcon="description",this.previewText="Preview",this.mappingText="Mapping",this.mappingIcon="multiple_stop",this.position="top",this.topValue=null,this.mapping=!1,this.bottomValue=null,this.showSlider=!0,n)for(const e in n)this[e]=n[e]}}function VAe(i,n){1&i&&me(0,"lib-pop-input",13),2&i&&g("config",I(2).ui.displayName)}function $Ae(i,n){1&i&&me(0,"lib-pop-input",13),2&i&&g("config",I(2).ui.nickname)}function HAe(i,n){1&i&&me(0,"lib-pop-input",13),2&i&&g("config",I(2).ui.workHours)}function zAe(i,n){1&i&&me(0,"lib-pop-select",13),2&i&&g("config",I(2).ui.timeZone)}function jAe(i,n){1&i&&me(0,"lib-pop-input",13),2&i&&g("config",I(2).ui.emailName)}function GAe(i,n){1&i&&me(0,"lib-pop-input",13),2&i&&g("config",I(2).ui.emailAddress)}function WAe(i,n){1&i&&me(0,"lib-pop-field-slider",13),2&i&&g("config",I(2).ui.callPhoneSlider)}function UAe(i,n){1&i&&me(0,"lib-pop-field-slider",13),2&i&&g("config",I(2).ui.textPhoneSlider)}function ZAe(i,n){1&i&&me(0,"lib-pop-textarea",13),2&i&&g("config",I(2).ui.slogan)}function KAe(i,n){if(1&i){const e=Me();x(0,"div",14),ie("click",function(){return he(e),pe(I(2).onUploadImage())}),x(1,"span",15),ee(2,"No "),me(3,"br"),ee(4," Image"),C(),x(5,"span",16),ee(6,"Upload Image"),C()()}}function YAe(i,n){if(1&i&&(x(0,"div",17),me(1,"img",18),x(2,"span",19),ee(3),C()()),2&i){const e=I(2);_(1),g("src",e.ui.uploadedImageString,tr),_(2),Mt(" ",null==e.ui.uploadedFile?null:e.ui.uploadedFile.name,"")}}function XAe(i,n){if(1&i){const e=Me();x(0,"span",20),ie("click",function(){return he(e),pe(I(2).onDeleteImage())}),ee(1," delete "),C()}}function qAe(i,n){if(1&i&&(x(0,"div",1)(1,"div",2)(2,"div",3),$(3,VAe,1,1,"lib-pop-input",4),C(),me(4,"div",5),x(5,"div",3),$(6,$Ae,1,1,"lib-pop-input",4),C()(),x(7,"div",6)(8,"div",3),$(9,HAe,1,1,"lib-pop-input",4),C(),me(10,"div",5),x(11,"div",3),$(12,zAe,1,1,"lib-pop-select",4),C()(),x(13,"div",2)(14,"div",3),$(15,jAe,1,1,"lib-pop-input",4),C(),me(16,"div",5),x(17,"div",3),$(18,GAe,1,1,"lib-pop-input",4),C()(),x(19,"div",2)(20,"div",3),$(21,WAe,1,1,"lib-pop-field-slider",4),C(),me(22,"div",5),x(23,"div",3),$(24,UAe,1,1,"lib-pop-field-slider",4),C()(),x(25,"div",2)(26,"div",3),$(27,ZAe,1,1,"lib-pop-textarea",4),C(),me(28,"div",5),x(29,"div",3),me(30,"lib-pop-field-item-spacer",7),x(31,"div",8)(32,"div",9),$(33,KAe,7,0,"div",10),$(34,YAe,4,2,"div",11),x(35,"div",2),$(36,XAe,2,0,"span",12),C()()()()()()),2&i){const e=I();_(3),g("ngIf",e.ui.displayName),_(3),g("ngIf",e.ui.nickname),_(3),g("ngIf",e.ui.workHours),_(3),g("ngIf",e.ui.timeZone),_(3),g("ngIf",e.ui.emailName),_(3),g("ngIf",e.ui.emailAddress),_(3),g("ngIf",e.ui.callPhoneSlider),_(3),g("ngIf",e.ui.textPhoneSlider),_(3),g("ngIf",e.ui.slogan),_(6),g("ngIf",!e.ui.uploadedImageString),_(1),g("ngIf",e.ui.uploadedImageString),_(2),g("ngIf",e.ui.uploadedImageString)}}let k5=(()=>{class i extends Yt{constructor(e,t,o,s){var r;super(),r=this,this.el=e,this._domRepo=t,this._dialogRepo=o,this._fieldRepo=s,this.name="PopEntityCustomerSupportProfileComponent",this.entity_type="user",this.entity_id=0,this.scheme_id=0,this.callable_numbers=[],this.textable_numbers=[],this.ui={callPhoneDynamic:new Zi({label:"Call Phone (Dynamic)"}),callPhoneSlider:void 0,callPhoneStatic:void 0,callPhoneSwitch:void 0,displayName:void 0,emailAddress:void 0,emailName:void 0,nickname:void 0,overrideProfile:void 0,slogan:void 0,textPhoneDynamic:new Zi({label:"Text Phone (Dynamic)"}),textPhoneSlider:void 0,textPhoneStatic:void 0,textPhoneSwitch:void 0,uploadedFile:void 0,uploadedImageString:void 0,website:void 0,workHours:void 0,timeZone:void 0},this.srv={action:void 0},this.asset={schemeNumbers:[],time_zones:[]},this.dom.configure=()=>new Promise(function(){var a=q(function*(l){return r.srv.action=new ia(s,o),yield r._setInitialConfig(),l(!0)});return function(l){return a.apply(this,arguments)}}())}onUploadImage(){var e=this;return q(function*(){const t=yield e.srv.action.do(e.core,{name:"main_cs_image",width:"400px",header:"Change Profile Image",responseType:"store",facade:!0,component:{type:l5,inputs:{config:{control:new vi,value:"",name:"file",facade:!0,ratio:"4 / 4",format:"png",resizeWidth:300,resizeHeight:300}}},modified:!0});Y(t,!0)&&(e.ui.uploadedImageString=t.file.base64,e.ui.uploadedFile=t.file.file,e._onSubmitFile())})()}onImageChange(e){this.ui.uploadedFile=e.target.files[0],this._getBase64(this.ui.uploadedFile)}onDeleteImage(){this.ui.uploadedFile=null,this.ui.uploadedImageString=null,this.dom.setSubscriber("upload-avatar-file",gt.doPatch("customer-support-profiles",{cs_avatar:null,entity_type:this.entity_type,entity_id:this.entity_id,upsert:1}).subscribe(()=>{this.events.emit({source:this.name,type:"component",name:"file-delete",data:null})}))}onBubbleEvent(e){Ln(0,e)&&this.events.emit(e)}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return yield Promise.all([e._setSchemeNumbers(),e._setTimeZones()]),yield Promise.all([e._setDisplayNameConfig(),e._setNicknameConfig(),e._setSloganConfig(),e._setWorkHoursConfig(),e._setTimeZoneConfig(),e._setEmailNameConfig(),e._setEmailAddressConfig(),e._setTextPhoneSliderConfig(),e._setCallPhoneSliderConfig(),e._setWebsiteConfig(),e._setAvatarValue()]),o(!0)});return function(o){return t.apply(this,arguments)}}())}_onSubmitFile(){this.dom.setSubscriber("upload-avatar-file",gt.doPatch("customer-support-profiles",{cs_avatar_file:this.ui.uploadedImageString,entity_type:this.entity_type,entity_id:this.entity_id,upsert:1}).subscribe(t=>{this.events.emit({source:this.name,type:"component",name:"file-upload",data:t})}))}_setSchemeNumbers(){var e=this;return new Promise(function(){var t=q(function*(o){if(!De(e.dom.repo.asset.schemeNumbers)){const s=e.scheme_id?e.scheme_id:e.core.entity.scheme_id??e.core.entity.id;e.dom.repo.asset.schemeNumbers=s?yield en(gt.doGet("application/user/numbers-by-scheme",{scheme_id:s}),e.dom,"fetch-scheme-numbers"):[]}return e.asset.schemeNumbers=e.dom.repo.asset.schemeNumbers.map(s=>({value:s.id,name:s.name,is_voice:s.is_voice,is_text:s.is_text})),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setTimeZones(){var e=this;return new Promise(function(){var t=q(function*(o){const s=yield en(gt.doGet("records/model/timezone",{}),e.dom,"fetch-time-zones");return e.asset.time_zones=s.map(r=>({value:r.id,name:r.alias})),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setDisplayNameConfig(){var e=this;return q(function*(){const t="cs_display_name";e.ui.displayName=new li({name:t,label:jt(t,2),helpText:"Provide a full name for a business, person, specialist, or department",maxlength:32,value:e._getFieldValue(t),patch:e._getFieldPatch(t),hint:!0,onEvent:(o,s)=>new Promise(function(){var r=q(function*(a){return e.events.emit(s),a(!0)});return function(a){return r.apply(this,arguments)}}())})})()}_setNicknameConfig(){var e=this;return q(function*(){const t="cs_nickname";e.ui.nickname=new li({name:t,maxlength:12,helpText:"Provide an abbreviation or nickname",hint:!0,label:jt(t,2),value:e._getFieldValue(t),patch:e._getFieldPatch(t),onEvent:(o,s)=>new Promise(function(){var r=q(function*(a){return e.events.emit(s),a(!0)});return function(a){return r.apply(this,arguments)}}())})})()}_setSloganConfig(){var e=this;return q(function*(){const t="cs_slogan";e.ui.slogan=new Jr({name:t,label:jt(t,2),value:e._getFieldValue(t),patch:e._getFieldPatch(t),onEvent:(o,s)=>new Promise(function(){var r=q(function*(a){return e.events.emit(s),a(!0)});return function(a){return r.apply(this,arguments)}}()),height:64,bubble:!0})})()}_setWorkHoursConfig(){var e=this;return q(function*(){const t="cs_work_hours";e.ui.workHours=new li({name:t,label:jt(t,2),maxlength:128,hint:!0,value:e._getFieldValue(t),patch:e._getFieldPatch(t),onEvent:(o,s)=>new Promise(function(){var r=q(function*(a){return e.events.emit(s),a(!0)});return function(a){return r.apply(this,arguments)}}())})})()}_setTimeZoneConfig(){var e=this;return q(function*(){const t="cs_time_zone_id";e.ui.timeZone=new Zi({name:t,label:"CS Time Zone",options:{values:gi(e.asset.time_zones)},value:e._getFieldValue(t),patch:e._getFieldPatch(t),onEvent:(o,s)=>new Promise(function(){var r=q(function*(a){return e.events.emit(s),a(!0)});return function(a){return r.apply(this,arguments)}}())})})()}_setEmailNameConfig(){var e=this;return q(function*(){const t="cs_email_name";e.ui.emailName=new li({name:t,label:jt(t,2),value:e._getFieldValue(t),patch:e._getFieldPatch(t),onEvent:(o,s)=>new Promise(function(){var r=q(function*(a){return e.events.emit(s),a(!0)});return function(a){return r.apply(this,arguments)}}())})})()}_setEmailAddressConfig(){var e=this;return q(function*(){const t="cs_email_address";e.ui.emailAddress=new li({name:t,label:jt(t,2),value:e._getFieldValue(t),patch:e._getFieldPatch(t),validators:[Xt.email],onEvent:(o,s)=>new Promise(function(){var r=q(function*(a){return e.events.emit(s),a(!0)});return function(a){return r.apply(this,arguments)}}())})})()}_setWebsiteConfig(){var e=this;return q(function*(){const t="cs_website";e.ui.website=new li({name:t,label:jt(t,2),value:e._getFieldValue(t),patch:e._getFieldPatch(t),validators:[Xt.email],onEvent:(o,s)=>new Promise(function(){var r=q(function*(a){return e.events.emit(s),a(!0)});return function(a){return r.apply(this,arguments)}}())})})()}_setTextPhoneSliderConfig(){var e=this;return q(function*(){!De(e.callable_numbers,!0)&&De(e.asset.schemeNumbers,!0)&&(e.textable_numbers=e.asset.schemeNumbers.filter(t=>t.is_text)),e.ui.textPhoneStatic=new li({name:"cs_text_number",label:"CS Text Phone (Static)",mask:"(000) 000-0000",dropSpecial:!0,value:e._getFieldValue("cs_text_number"),patch:e._getFieldPatch("cs_text_number"),onEvent:(t,o)=>new Promise(function(){var s=q(function*(r){return e.events.emit(o),r(!0)});return function(r){return s.apply(this,arguments)}}())}),e.ui.textPhoneSwitch=new uo({name:"cs_use_text_number_dynamic",value:e._getFieldValue("cs_use_text_number_dynamic"),patch:e._getFieldPatch("cs_use_text_number_dynamic"),onEvent:(t,o)=>new Promise(function(){var s=q(function*(r){return e.events.emit(o),r(!0)});return function(r){return s.apply(this,arguments)}}())}),e.ui.textPhoneDynamic=new Zi({name:"cs_text_number_dynamic",label:"CS Text Phone (Dynamic)",value:e._getFieldValue("cs_text_number_dynamic"),patch:e._getFieldPatch("cs_text_number_dynamic"),options:{values:e.textable_numbers},onEvent:(t,o)=>new Promise(function(){var s=q(function*(r){return e.events.emit(o),r(!0)});return function(r){return s.apply(this,arguments)}}())}),e.ui.textPhoneSlider=new ml({showSlider:!0,preview:!1,mapping:!1,position:e.core.entity?.use_cs_text_number_dynamic?"top":"bottom",top:{type:an,inputs:{config:e.ui.textPhoneStatic}},bottom:{type:In,inputs:{config:e.ui.textPhoneDynamic}},onEvent:(t,o)=>new Promise(function(){var s=q(function*(r){return e.log.event("cs_text_number event",o),"cs_text_number"===o.config.name?e.ui.textPhoneSlider.topValue=o.config.control.value:e.ui.textPhoneSlider.bottomValue=o.config.control.value,e.events.emit(o),r(!0)});return function(r){return s.apply(this,arguments)}}()),onSwitch:(t,o)=>new Promise(s=>(e.ui.textPhoneSwitch.control.setValue("top"===o.active),e.dom.setTimeout("wait-for-el",q(function*(){yield en(gt.doPatch("customer-support-profiles",{entity_type:e.entity_type,entity_id:e.entity_id,cs_use_text_number_dynamic:+("bottom"===o.active)}),e.dom,"update-text-switch"),"top"===o.active?o.top.config&&It(o.top.config.setValue)&&o.top.config.setValue(e.ui.textPhoneSlider.topValue):o.bottom.config&&It(o.bottom.config.setValue)&&o.bottom.config.setValue(e.ui.textPhoneSlider.bottomValue)}),50),s(!0))),topValue:e.core.entity?.cs_text_number,bottomValue:e.core.entity?.cs_text_number_dynamic?+e.core.entity.cs_text_number_dynamic:null})})()}_setCallPhoneSliderConfig(){var e=this;return q(function*(){!De(e.callable_numbers,!0)&&De(e.asset.schemeNumbers,!0)&&(e.callable_numbers=e.asset.schemeNumbers.filter(t=>t.is_voice)),e.ui.callPhoneStatic=new li({name:"cs_call_number",label:"CS Call Phone (Static)",mask:"(000) 000-0000",dropSpecial:!0,value:e._getFieldValue("cs_call_number"),patch:e._getFieldPatch("cs_call_number"),onEvent:(t,o)=>new Promise(function(){var s=q(function*(r){return e.events.emit(o),r(!0)});return function(r){return s.apply(this,arguments)}}())}),e.ui.callPhoneSwitch=new uo({name:"cs_use_call_number_dynamic",value:e._getFieldValue("cs_use_call_number_dynamic"),patch:e._getFieldPatch("cs_use_call_number_dynamic"),onEvent:(t,o)=>new Promise(function(){var s=q(function*(r){return e.events.emit(o),r(!0)});return function(r){return s.apply(this,arguments)}}())}),e.ui.callPhoneDynamic=new Zi({name:"cs_call_number_dynamic",label:"CS Call Phone (Dynamic)",value:e._getFieldValue("cs_call_number_dynamic"),patch:e._getFieldPatch("cs_call_number_dynamic"),options:{values:e.callable_numbers},onEvent:(t,o)=>new Promise(function(){var s=q(function*(r){return e.events.emit(o),r(!0)});return function(r){return s.apply(this,arguments)}}())}),e.ui.callPhoneSlider=new ml({preview:!1,mapping:!1,showSlider:!0,top:{type:an,inputs:{config:e.ui.callPhoneStatic}},bottom:{type:In,inputs:{config:e.ui.callPhoneDynamic}},position:e.core.entity?.cs_use_call_number_dynamic?"bottom":"top",onEvent:(t,o)=>new Promise(function(){var s=q(function*(r){return e.log.event("cs_call_number event",o),"cs_call_number"===o.config.name?e.ui.callPhoneSlider.topValue=o.config.control.value:e.ui.callPhoneSlider.bottomValue=o.config.control.value,r(!0)});return function(r){return s.apply(this,arguments)}}()),onSwitch:(t,o)=>new Promise(s=>(e.dom.setTimeout("wait-for-el",q(function*(){yield en(gt.doPatch("customer-support-profiles",{entity_type:e.entity_type,entity_id:e.entity_id,cs_use_call_number_dynamic:+("bottom"===o.active)}),e.dom,"update-call-switch"),"top"===o.active?o.top.config&&It(o.top.config.setValue)&&o.top.config.setValue(e.ui.callPhoneSlider.topValue):o.bottom.config&&It(o.bottom.config.setValue)&&o.bottom.config.setValue(e.ui.callPhoneSlider.bottomValue),e.events.emit(o)}),50),s(!0))),topValue:e.core.entity?.cs_call_number,bottomValue:e.core.entity?.cs_call_number_dynamic?+e.core.entity.cs_call_number_dynamic:null})})()}_setAvatarValue(){"cs_avatar"in this.core.entity&&(this.ui.uploadedImageString=this.core.entity.cs_avatar)}_getBase64(e){const t=new FileReader;t.readAsDataURL(e),t.onload=()=>{this.ui.uploadedImageString=t.result}}_getFieldPatch(e){return{field:e,path:"customer-support-profiles",metadata:{entity_type:this.entity_type,entity_id:this.entity_id,upsert:1},after:(t,o)=>{const s=o.config.name;s in this.core.entity&&(this.core.entity[s]=o.config.control.value)}}}_getFieldValue(e){return e in this.core.entity?this.core.entity[e]:null}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Fn),P(hr))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-customer-support-profile"]],inputs:{entity_type:"entity_type",entity_id:"entity_id",scheme_id:"scheme_id",callable_numbers:"callable_numbers",textable_numbers:"textable_numbers"},features:[Re],decls:1,vars:1,consts:[["class","csp-container sw-field-item-container",4,"ngIf"],[1,"csp-container","sw-field-item-container"],[1,"sw-flex-row"],[1,"sw-flex-column-md"],[3,"config",4,"ngIf"],[1,"sw-flex-column-xs","sw-width-10"],[1,"sw-flex-row","csp-timezone-wrapper"],["height","3"],[1,"csp-image-upload","sw-field-item-container"],[1,"sw-flex-row","csp-image-container"],["class","sw-flex-row csp-no-image-wrapper",3,"click",4,"ngIf"],["class","sw-flex-row csp-no-image-wrapper",4,"ngIf"],["class","material-icons sw-pointer",3,"click",4,"ngIf"],[3,"config"],[1,"sw-flex-row","csp-no-image-wrapper",3,"click"],[1,"csp-no-image-wrapper-text","sw-accent"],[1,"mat-expansion-panel-content"],[1,"sw-flex-row","csp-no-image-wrapper"],["alt","profile_pic",1,"csp-no-image-wrapper-text",3,"src"],[1,"mat-expansion-panel-content",2,"word-break","break-all"],[1,"material-icons","sw-pointer",3,"click"]],template:function(e,t){1&e&&$(0,qAe,37,12,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".csp-no-image-wrapper-text[_ngcontent-%COMP%]{min-width:80px;height:80px;border-radius:50%;border:1px solid var(--border);color:var(--disabled);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.csp-no-image-wrapper[_ngcontent-%COMP%]{-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--gap-xs)}.csp-image-container[_ngcontent-%COMP%]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.csp-image-upload[_ngcontent-%COMP%]{position:relative;clear:both;border:1px solid var(--border);border-radius:3px;-webkit-box-sizing:border-box;box-sizing:border-box;padding:5px}.csp-timezone-wrapper[_ngcontent-%COMP%]{-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}[_nghost-%COMP%]     input[type=file]{width:77%;height:82px;position:absolute;top:0;opacity:0;cursor:pointer}[_nghost-%COMP%]     .sw-field-item-container{margin:var(--field-margin-s)}"]}),i})();function JAe(i,n){1&i&&me(0,"mat-progress-bar",31)}function QAe(i,n){1&i&&me(0,"lib-pop-field-slider",39),2&i&&g("config",I(3).ui.internalValueSlider)}function eSe(i,n){1&i&&me(0,"lib-pop-input",40),2&i&&g("config",I(3).ui.createExternalNameConfig)}const bp=function(i){return{"sw-disabled":i}};function tSe(i,n){if(1&i){const e=Me();x(0,"div",32)(1,"div",13),$(2,QAe,1,1,"lib-pop-field-slider",33),C(),x(3,"div",17)(4,"mat-icon",18),ee(5,"sync_alt"),C()(),x(6,"div",19),$(7,eSe,1,1,"lib-pop-input",34),C(),x(8,"div",17)(9,"button",35),ie("click",function(){return he(e),pe(I(2).onAddMapping())}),x(10,"i",36),ee(11," done "),C()()(),x(12,"div",17)(13,"button",37),ie("click",function(){return he(e),pe(I(2).onCancelEditMapping())}),x(14,"i",38),ee(15," clear "),C()()()()}if(2&i){const e=I(2);_(2),g("ngIf",e.ui.internalValueSlider),_(5),g("ngIf",e.ui.createExternalNameConfig),_(2),g("ngClass",qe(3,bp,!e.isCreateMappingValid()))}}function iSe(i,n){1&i&&me(0,"div",41)}function nSe(i,n){if(1&i){const e=Me();x(0,"button",53),ie("click",function(){he(e);const o=I().$implicit;return pe(I(2).onEditMapping(o))}),ee(1,"Review"),C()}if(2&i){const e=I(3);g("ngClass",qe(1,bp,e.dom.state.edit||e.dom.state.create||e.dom.state.pending))}}const oSe=function(i,n,e){return{"sw-primary":i,"sw-disabled":n,"sw-accent":e}};function sSe(i,n){if(1&i){const e=Me();x(0,"mat-icon",54),ie("click",function(){he(e);const o=I().$implicit;return pe(I(2).onEditMapping(o))}),ee(1," edit "),C()}if(2&i){const e=I().$implicit,t=I(2);g("ngClass",fs(1,oSe,(null==t.dom.active||null==t.dom.active.mapping?null:t.dom.active.mapping.id)===e.id,t.dom.state.edit||t.dom.state.create,!t.dom.state.edit&&!t.dom.state.create))}}const rSe=function(i){return{"efm-active-row":i}},aSe=function(i,n){return{"sw-disabled":i,"sw-accent":n}};function lSe(i,n){if(1&i){const e=Me();x(0,"div",42)(1,"div",43)(2,"div",13)(3,"div",44)(4,"div",45),ee(5),C(),x(6,"label"),ee(7),C()()(),x(8,"div",46)(9,"mat-icon",47),ee(10,"sync_alt"),C()(),x(11,"div",19)(12,"label"),ee(13),C()(),x(14,"div",48),$(15,nSe,2,3,"button",49),$(16,sSe,2,5,"mat-icon",50),C(),x(17,"div",51)(18,"mat-icon",52),ie("click",function(){const s=he(e).$implicit;return pe(I(2).onRemoveMapping(s.id))}),ee(19,"remove "),C()()()()}if(2&i){const e=n.$implicit,t=I(2);_(1),g("ngClass",qe(12,rSe,(null==t.dom.active||null==t.dom.active.mapping?null:t.dom.active.mapping.id)===e.id)),_(3),g("matTooltip",e.helpText)("matTooltipPosition","above"),_(1),Mt(" ",e.helpText[0]," "),_(2),Je(e.display_name),_(6),Je(e.external_name),_(1),g("ngClass",qe(14,bp,t.dom.state.pending)),_(1),g("ngIf",e.needs_review),_(1),g("ngIf",!e.needs_review),_(1),g("ngClass",qe(16,bp,t.dom.state.pending)),_(1),g("matTooltip","Remove")("ngClass",Ii(18,aSe,t.dom.state.edit||t.dom.state.create,!t.dom.state.edit&&!t.dom.state.create))}}function cSe(i,n){if(1&i){const e=Me();x(0,"button",55),ie("click",function(){return he(e),pe(I(2).onClearMappings())}),ee(1,"Clear All"),C()}if(2&i){const e=I(2);g("ngClass",qe(1,bp,e.dom.state.edit||e.dom.state.create||e.dom.state.pending))}}const I5=function(i){return{"sw-hidden":i}},A5=function(i){return{"sw-txt-bold sw-accent":i}},dSe=function(i){return{"efm-draggable-content-disabled":i}};function uSe(i,n){if(1&i){const e=Me();x(0,"div",1),me(1,"div",2),x(2,"div",3),$(3,JAe,1,0,"mat-progress-bar",4),C(),x(4,"div",5)(5,"div",6)(6,"label",7),ee(7),C(),x(8,"small",8),ee(9),C()(),x(10,"div",9)(11,"button",10),ie("click",function(){return he(e),pe(I().onCreateMapping())}),ee(12,"New"),C()(),me(13,"lib-pop-field-item-error",11),C(),x(14,"div",12)(15,"div",13)(16,"div",14)(17,"label",15),ee(18,"Internal Value"),C(),x(19,"i",16),ie("click",function(){return he(e),pe(I().onSortByValue("internal"))}),ee(20,"sort"),C()()(),x(21,"div",17)(22,"mat-icon",18),ee(23,"sync_alt"),C()(),x(24,"div",19)(25,"div",14)(26,"label",15),ee(27,"External Name"),C(),x(28,"i",16),ie("click",function(){return he(e),pe(I().onSortByValue("external"))}),ee(29,"sort"),C()()(),me(30,"div",17)(31,"div",17),C(),$(32,tSe,16,5,"div",20),x(33,"div",21),ie("cdkDropListDropped",function(o){return he(e),pe(I().onChangeSort(o))}),$(34,iSe,1,0,"div",22),$(35,lSe,20,21,"div",23),C(),x(36,"div",24)(37,"div",25)(38,"div",14)(39,"div",26),ee(40,"D"),C(),ee(41," Dynamic "),C()(),x(42,"div",27)(43,"div",14)(44,"div",26),ee(45,"S"),C(),ee(46," Static "),C()(),me(47,"div",28),x(48,"div",29)(49,"div",14),$(50,cSe,2,3,"button",30),C()()()()}if(2&i){const e=I();_(1),g("ngClass",qe(17,I5,!e.dom.state.settings)),_(2),g("ngIf",e.dom.state.pending||e.dom.state.loader),_(4),Mt("",e.ui.action.name," Field Mapping"),_(2),Mt("Map our variables with third-party code",null==e.dom.active?null:e.dom.active.mappingId,""),_(2),g("ngClass",qe(19,bp,e.dom.state.edit||e.dom.state.create||e.dom.state.pending)),_(2),g("hidden",!e.config.message)("message",e.config.message),_(1),g("ngClass",qe(21,I5,e.dom.state.edit||e.dom.state.create)),_(5),g("ngClass",qe(23,A5,"internal"===e.config.sort)),_(9),g("ngClass",qe(25,A5,"external"===e.config.sort)),_(4),g("ngIf",e.dom.state.edit||e.dom.state.create),_(1),et("min-height",e.config.height,"px"),g("ngClass",qe(27,dSe,e.dom.state.edit||e.dom.state.create)),_(1),g("ngIf",e.dom.state.edit||e.dom.state.create),_(1),g("ngForOf",e.ui.mappings),_(15),g("ngIf",e.ui.mappings.length)}}let sA=(()=>{class i extends Yt{onEscapeHandler(e){(this.dom.state.create||this.dom.state.edit)&&this.onCancelEditMapping()}constructor(e,t,o,s){var r;super(),r=this,this.el=e,this._domRepo=t,this._dialogRepo=o,this._fieldRepo=s,this.name="PopEntityExternalFieldMappingsComponent",this.srv={action:void 0},this.asset={actions:[],mappings:[],sortMappingsFx:(a,l)=>{const c=Vi(this.core.entity.options.sort[`mapping_${a}`],!1)?this.core.entity.options.sort[`mapping_${a}`]:99,A=Vi(this.core.entity.options.sort[`mapping_${l}`],!1)?this.core.entity.options.sort[`mapping_${l}`]:99;return c>A?1:c<A?-1:0},scopeVariables:[],scopeVariableMap:{},externalNameMap:{}},this.ui={action:void 0,createExternalNameConfig:void 0,createScopeVariableConfig:void 0,createStaticValueConfig:void 0,createUseScopePathConfig:void 0,internalValueSlider:void 0,mappings:[]},this.srv.action=new ia(s,o),this.dom.configure=()=>new Promise(function(){var a=q(function*(l){return r.asset.actions=yield en(gt.doGet("records/model/actions"),r.dom,"fetch-actions-api"),r.asset.mappings=yield en(gt.doGet("entity-external-field-mappings",{entity_type:r.config.entity_type,entity_id:r.config.entity_id,action_id:r.config.action_id,scheme_id:r.config.scheme_id}),r.dom,"fetch-actions-api"),l(!0)});return function(l){return a.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var a=q(function*(l){return yield r._setInitialConfig(),yield r._setScopeVariables(),yield r._setAssignedAction(),yield r._setCreateMappingConfigs(),yield r._setExistingMappingConfigs(),l(!0)});return function(l){return a.apply(this,arguments)}}())}onChangeSort(e){Pc(this.ui.mappings,e.previousIndex,e.currentIndex),this._setSortOrder()}onClearMappings(){var e=this;return q(function*(){yield e.srv.action.confirm(e.core,{body:"Do you want to delete all existing mappings?",header:"Confirmation",width:"350px",proceed:(t,o)=>new Promise(function(){var s=q(function*(r){return e.log.info("after",{core:t,event:o}),e.dom.state.pending=!0,yield e._clearAllMappings(),e.dom.state.pending=!1,r(!0)});return function(r){return s.apply(this,arguments)}}())})})()}onEditMapping(e){this.dom.state.edit=!0,this.dom.state.create=!1,this.dom.active.mapping=e,this.dom.setTimeout("on-edit-mapping",()=>{this.ui.createExternalNameConfig.setValue(e.external_name);const t=this.ui.internalValueSlider.top.inputs.config,o=this.ui.internalValueSlider.bottom.inputs.config;It(t.setValue)?t.setValue(e.scheme_scope_path):t.control.setValue(e.scheme_scope_path),It(o.setValue)?o.setValue(e.internal_value??null):o.control.setValue(e.internal_value??null),this.ui.internalValueSlider.topValue=e.scheme_scope_path,this.ui.internalValueSlider.bottomValue=e.internal_value,this.ui.internalValueSlider.setPosition(+e.use_scheme_scope_path?"top":"bottom"),this.ui.createUseScopePathConfig.control.setValue(+e.use_scheme_scope_path)},50)}onCreateMapping(){this.dom.state.create=!0,this.dom.state.edit=!1,this.dom.active.mapping=null,this.dom.setTimeout("on-create-new",()=>{this.ui.createExternalNameConfig.setValue(null),this.ui.createScopeVariableConfig.setValue(null)})}onCancelEditMapping(){this.dom.state.edit=!1,this.dom.state.create=!1,this.dom.active.mapping=null,this.ui.createUseScopePathConfig.control.setValue(1)}onSortByValue(e){this.config.sort=e,this.ui.mappings.sort(ko("internal"===this.config.sort?"name":"external_name"))}onShowSettings(){this.config.setDefaultMappings(["var_1","var_2","var_3","from_email"])}onRemoveMapping(e){var t=this;this.dom.state.pending=!0,this.dom.setSubscriber("on-remove-mapping",gt.doDelete(`entity-external-field-mappings/${e}`,{archived:-1},1,!1).subscribe(q(function*(){yield t._resetExistingMappings(),t.dom.state.pending=!1}),o=>{this.dom.state.pending=!1,this.dom.setError(o,!1)}))}onChangeMappingField(e){this.dom.active.mappingId=e;const t=this.dom.session.config[e];this.dom.active.mappingId=e,this.dom.active.fieldId=this.dom.session.fieldId[e],this.dom.active.session=t,this.dom.session.fieldMappingConfig.triggerOpen(),this.dom.setTimeout("set-active-item",()=>{+this.dom.session.fieldId[e]&&this.dom.session.fieldMappingConfig.list&&("function"===this.dom.session.fieldMappingConfig.list.setDisabled&&this.dom.session.fieldMappingConfig.list.setDisabled(this.dom.session.disabledIds),"function"==typeof this.dom.session.fieldMappingConfig.list.setActive&&this.dom.session.fieldMappingConfig.list.setActive(this.dom.session.fieldId[e]),"function"===this.dom.session.fieldMappingConfig.list.focusSearch&&this.dom.session.fieldMappingConfig.list.focusSearch())},100)}onAddMapping(){var e=this;if(!this.dom.state.pending&&this.isCreateMappingValid()){this.dom.state.pending=!0,this.config.message=null;const t={entity_type:this.config.entity_type,entity_id:this.config.entity_id,action_id:this.config.action_id,scheme_id:this.config.scheme_id,mapping:{external_name:this.ui.createExternalNameConfig.control.value,use_scheme_scope_path:this.ui.createUseScopePathConfig.control.value,internal_value:this.ui.createStaticValueConfig.control.value,scheme_scope_path:this.ui.createScopeVariableConfig.control.value,needs_review:0}},o=this.dom.active?.mapping?.id?gt.doPatch(`entity-external-field-mappings/${this.dom.active.mapping.id}`,t):gt.doPost("entity-external-field-mappings",t);this.dom.setSubscriber("create-update-mapping",o.subscribe(q(function*(){e.dom.active.mapping=null,yield e._resetExistingMappings(),e.dom.state.edit&&e.onCancelEditMapping(),e.ui.createExternalNameConfig.setValue(null);const s=e.ui.internalValueSlider.top.inputs.config,r=e.ui.internalValueSlider.bottom.inputs.config;It(s.setValue)?s.setValue(null):s.control.setValue(null),e.dom.setTimeout("mark-as-pristine",()=>{s.control.markAsPristine(),r.control.markAsPristine()},0),e.ui.internalValueSlider.topValue=null,e.ui.internalValueSlider.bottomValue=null,It(r.setValue)?r.setValue(null):r.control.setValue(null),e.dom.state.pending=!1}),s=>{if(this.dom.active.mapping){const r=gi(this.dom.active.mapping);this.dom.active.mapping=null,this.onEditMapping(r)}this.dom.setError(s,!0),this.dom.state.pending=!1}))}}isCreateMappingValid(){return this.ui.createUseScopePathConfig.control.value?this.ui.createScopeVariableConfig.control.value&&this.ui.createExternalNameConfig.control.value:this.ui.createStaticValueConfig.control.value&&this.ui.createExternalNameConfig.control.value}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.state.settings=!1,yield e._setConfigHooks(),o(!0)});return function(o){return t.apply(this,arguments)}}())}_clearAllMappings(){var e=this;return new Promise(function(){var t=q(function*(o){const s=[];return e.asset.mappings.map(r=>{s.push(en(gt.doDelete(`entity-external-field-mappings/${r.id}`,{archived:-1},1,!1),e.dom,`delete-mapping-${r.id}`))}),yield Promise.all(s),yield e._resetExistingMappings(),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setConfigHooks(){var e=this;return new Promise(function(){var t=q(function*(o){return e.config.setDefaultMappings=s=>{const r=s.filter(a=>!(a in e.asset.externalNameMap));if(De(r,!0)){e.dom.state.pending=!0;const a=[];r.map(c=>{a.push({external_name:String(c).trim(),internal_value:String(Tn(String(c).trim())).toLowerCase(),use_scheme_scope_path:0,needs_review:1})}),e.dom.setSubscriber("set-default-mappings-api",gt.doPost("entity-external-field-mappings",{entity_type:e.config.entity_type,entity_id:e.config.entity_id,action_id:e.config.action_id,scheme_id:e.config.scheme_id,mappings:a}).subscribe(q(function*(){yield e._resetExistingMappings(),e.dom.state.pending=!1}),c=>{e.dom.setError(c,!0),e.dom.state.pending=!1}))}},e.config.clearAllMappings=q(function*(){e.dom.state.pending=!0,yield e._clearAllMappings(),e.dom.state.pending=!1}),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setCreateMappingConfigs(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.createExternalNameConfig=new li({label:"External Name",pattern:"AlphaNumericUnderscore",bubble:!0,minimal:!0,maxlength:64,facade:!0,patch:{field:"",path:""},onEnter:(s,r)=>new Promise(function(){var a=q(function*(l){return e.isCreateMappingValid()&&e.onAddMapping(),l(!0)});return function(l){return a.apply(this,arguments)}}())}),e.ui.createUseScopePathConfig=new uo({label:"Use Scheme Scope Path",bubble:!0,facade:!0,value:!0,patch:{field:"use_scheme_scope_path",path:""}}),e.ui.createScopeVariableConfig=new pp({label:"Internal Value ( Dynamic )",position:"float",createTag:!1,minimal:!0,name:"scheme_scope_path",options:{values:gi(e.asset.scopeVariables)},facade:!0,patch:{field:"",path:""},onEvent:(s,r)=>new Promise(function(){var a=q(function*(l){if(Ln(0,r)){if(!e.ui.createExternalNameConfig.control.value){const c=String(r.config.control.value).split(":")[1];if(c){const A=String(c).split(".");"external_fk"===A[0]&&(A[0]="id"),"name"===A[0]&&A.reverse();const D=A.join("_");Ne(D,!0)&&e.ui.createExternalNameConfig.setValue(D)}}e.dom.setTimeout("trigger-on-focus",()=>{e.ui.createExternalNameConfig.triggerFocus()},0)}return l(!0)});return function(l){return a.apply(this,arguments)}}())}),e.ui.createStaticValueConfig=new li({label:"Internal Value ( Static )",pattern:"Url",bubble:!0,name:"internal_value",minimal:!0,maxlength:64,facade:!0,patch:{field:"",path:""},onEnter:(s,r)=>new Promise(function(){var a=q(function*(l){return e.dom.setTimeout("trigger-on-focus",()=>{e.ui.createExternalNameConfig.triggerFocus()},0),l(!0)});return function(l){return a.apply(this,arguments)}}())}),e.ui.internalValueSlider=new ml({position:"top",minimal:!0,top:{type:Yf,inputs:{config:e.ui.createScopeVariableConfig}},bottom:{type:an,inputs:{config:e.ui.createStaticValueConfig}},onEvent:(s,r)=>new Promise(function(){var a=q(function*(l){return e.log.event("event",r),"internal_value"===r.config.name?e.ui.internalValueSlider.bottomValue=r.config.control.value:e.ui.internalValueSlider.topValue=r.config.control.value,l(!0)});return function(l){return a.apply(this,arguments)}}()),onSwitch:(s,r)=>new Promise(function(){var a=q(function*(l){return e.ui.createUseScopePathConfig.control.setValue("top"===r.active),e.dom.setTimeout("wait-for-el",()=>{"top"===r.active?r.top.config&&It(r.top.config.setValue)&&r.top.config.setValue(e.ui.internalValueSlider.topValue):r.bottom.config&&It(r.bottom.config.setValue)&&r.bottom.config.setValue(e.ui.internalValueSlider.bottomValue)},50),l(!0)});return function(l){return a.apply(this,arguments)}}()),bottomValue:null,topValue:null}),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setSortOrder(){}_setScopeVariables(){var e=this;return new Promise(function(){var t=q(function*(o){return De(e.config.scope_variables,!0)&&(e.scopeVariables=gi(e.config.scope_variables)),e.asset.scopeVariables=e.scopeVariables.map(s=>({name:s.name,value:s.path})),e.asset.scopeVariableMap=Kn(e.scopeVariables,"path"),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setAssignedAction(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.action=e.asset.actions.find(s=>s.id===e.config.action_id),o(!0)});return function(o){return t.apply(this,arguments)}}())}_resetExistingMappings(){var e=this;return new Promise(function(){var t=q(function*(o){return e.asset.mappings=yield en(gt.doGet("entity-external-field-mappings",{entity_type:e.config.entity_type,entity_id:e.config.entity_id,action_id:e.config.action_id,scheme_id:e.config.scheme_id}),e.dom,"fetch-actions-api"),yield e._setExistingMappingConfigs(),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setExistingMappingConfigs(){var e=this;return new Promise(function(){var t=q(function*(o){e.asset.externalNameMap={};const s=e.asset.mappings.map(r=>(r.scheme_scope_path||(r.use_scheme_scope_path=0),r.name=r.scheme_scope_path&&r.scheme_scope_path in e.asset.scopeVariableMap?e.scopeVariables[e.asset.scopeVariableMap[r.scheme_scope_path]].name:r.internal_value,r.display_name=+r.use_scheme_scope_path&&r.scheme_scope_path&&r.scheme_scope_path in e.asset.scopeVariableMap?e.scopeVariables[e.asset.scopeVariableMap[r.scheme_scope_path]].name:r.internal_value,r.helpText=+r.use_scheme_scope_path?"Dynamic":"Static",e.asset.externalNameMap[r.external_name]=1,r)).sort(ko("internal"===e.config.sort?"name":"external_name"));return e.ui.mappings=s,o(!0)});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Fn),P(hr))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-external-field-mappings"]],hostBindings:function(e,t){1&e&&ie("keydown.escape",function(s){return t.onEscapeHandler(s)},0,xr)},inputs:{config:"config",scopeVariables:"scopeVariables"},features:[Re],decls:1,vars:1,consts:[["class","efm-container",4,"ngIf"],[1,"efm-container"],["cdkDrag","","cdkDragRootElement",".efm-settings-overlay","cdkDragBoundary",".pop-entity-tab-container",1,"efm-settings-overlay",3,"ngClass"],[1,"efm-loader"],["mode","indeterminate",4,"ngIf"],[1,"sw-relative","sw-flex-row","sw-pad-btm-sm"],[1,"sw-flex-column","sw-flex-column-lg","sw-pad-lft-sm"],[1,"sw-header-3"],[1,"sw-txt-muted"],[1,"sw-flex-column","sw-flex-column-xs"],["mat-raised-button","","color","accent",1,"sw-abs-top-rgt","sw-btn-txt-sm",3,"ngClass","click"],[1,"efm-error","sw-absolute","sw-pull-up-sm","sw-rgt-md","sw-mar-rgt-sm",3,"hidden","message"],[1,"efm-header-row",3,"ngClass"],[1,"sw-flex-column","efm-left-column"],[1,"sw-flex-row"],[1,"sw-txt-xlg","sw-txt-bold"],[1,"material-icons","sw-mar-lft-sm","sw-txt-md","sw-pointer","sw-mar-top-xs",3,"ngClass","click"],[1,"sw-flex-column","efm-icon-container"],[1,"sw-relative","sw-txt-lg","sw-top-sm",2,"width","20px","height","20px"],[1,"sw-flex-column","efm-right-column"],["class","efm-header-add-row",4,"ngIf"],["cdkDropList","",1,"efm-draggable-content",3,"ngClass","cdkDropListDropped"],["class","efm-overlay",4,"ngIf"],["class","sw-flex-column sw-relative","cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary",".efm-draggable-content",4,"ngFor","ngForOf"],[1,"sw-flex-row","sw-box-row","sw-flex-start-center","sw-pad-hrz-md"],[1,"sw-flex-column","sw-mar-rgt-md"],[1,"sw-relative","sw-brd-circle","sw-box-17","sw-txt-tiny","sw-mar-rgt-sm"],[1,"sw-flex-column"],[1,"sw-flex-column","sw-flex-grow-sm"],[1,"sw-flex-column","sw-flex-end"],["class","sw-btn-txt-sm","mat-raised-button","",3,"ngClass","click",4,"ngIf"],["mode","indeterminate"],[1,"efm-header-add-row"],["class","sw-relative sw-top-1",3,"config",4,"ngIf"],["class","sw-relative sw-pull-up-xs sw-flex-box",3,"config",4,"ngIf"],["type","button","mat-raised-button","","color","accent",1,"sw-width-20","sw-height-30","sw-pad-xs",3,"ngClass","click"],["matTooltip","Submit","matTooltipShowDelay","750",1,"sw-relative","material-icons","sw-btn-txt-sm"],["type","button","mat-raised-button","",1,"sw-width-20","sw-height-30","sw-pad-xs",3,"click"],["matTooltip","Cancel","matTooltipShowDelay","750",1,"sw-relative","material-icons","sw-btn-txt-sm"],[1,"sw-relative","sw-top-1",3,"config"],[1,"sw-relative","sw-pull-up-xs","sw-flex-box",3,"config"],[1,"efm-overlay"],["cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary",".efm-draggable-content",1,"sw-flex-column","sw-relative"],[1,"efm-draggable-row",3,"ngClass"],[1,"sw-flex-row","sw-flex-center"],[1,"sw-relative","sw-brd-circle","sw-box-17","sw-txt-tiny","sw-pull-lft-sm",3,"matTooltip","matTooltipPosition"],[1,"sw-flex-column","efm-icon-container","sw-flex-center"],[1,"sw-relative","sw-txt-md","sw-top-sm",2,"width","20px","height","20px"],[1,"sw-flex-column","efm-icon-container","sw-relative","sw-width-100",3,"ngClass"],["class","sw-btn-txt-sm mat-raised-button sw-rgt-lg","color","accent",3,"ngClass","click",4,"ngIf"],["class","sw-txt-sm sw-pad-top-sm","style","width: 20px; height: 20px",3,"ngClass","click",4,"ngIf"],[1,"sw-flex-column","efm-icon-container",3,"ngClass"],["matTooltipShowDelay","750",1,"sw-relative","sw-txt-sm","sw-mar-top-xs","sw-mar-lft-md","sw-pull-lft-sm","sw-top-sm",3,"matTooltip","ngClass","click"],["color","accent",1,"sw-btn-txt-sm","mat-raised-button","sw-rgt-lg",3,"ngClass","click"],[1,"sw-txt-sm","sw-pad-top-sm",2,"width","20px","height","20px",3,"ngClass","click"],["mat-raised-button","",1,"sw-btn-txt-sm",3,"ngClass","click"]],template:function(e,t){1&e&&$(0,uSe,51,29,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".efm-container[_ngcontent-%COMP%]{min-width:750px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid var(--border);border-radius:3px}.efm-settings-overlay[_ngcontent-%COMP%]{border:1px solid var(--border);position:absolute;background:var(--background-base);height:400px;width:400px;z-index:999;right:-450px}.efm-draggable-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;max-height:20px!important;padding:5px!important;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:var(--background-item-menu)}.efm-overlay[_ngcontent-%COMP%]{z-index:999;position:absolute;inset:0;background:var(--darken18);pointer-events:none!important;opacity:.4}.efm-active-row[_ngcontent-%COMP%]{background-color:var(--darken18)!important}.efm-draggable-content[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-y:auto;overflow-x:hidden;max-height:800px;border-bottom:1px solid var(--border)}.efm-draggable-content-disabled[_ngcontent-%COMP%]{opacity:.2;pointer-events:none!important}.efm-header-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-top:none;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:30px!important;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:.9em;border-top:1px solid var(--border);border-bottom:1px solid var(--border)}.efm-header-add-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-top:none;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:45px!important;-webkit-box-sizing:border-box;box-sizing:border-box;border-top:1px solid var(--border);border-bottom:1px solid var(--border);padding-right:3px;background:var(--background-item-menu)}.efm-draggable-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-bottom:1px solid var(--border);-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:var(--bg-3);min-height:35px!important;-webkit-box-sizing:border-box;box-sizing:border-box}.efm-column-spacer[_ngcontent-%COMP%]{max-width:10px}.efm-drag-column[_ngcontent-%COMP%]{width:5%}.efm-left-column[_ngcontent-%COMP%]{width:50%;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;padding-right:15px;padding-left:5px}.efm-right-column[_ngcontent-%COMP%]{width:40%;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;padding-left:15px;font-size:.9em;text-align:center}.efm-left-heading[_ngcontent-%COMP%]{width:46%;margin-left:8px}.efm-right-heading[_ngcontent-%COMP%]{width:43%}.efm-icon-cursor[_ngcontent-%COMP%]{cursor:pointer}.efm-add-button-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin:0 1px 10px 0}.efm-icon-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:30px}.efm-draggable-handle[_ngcontent-%COMP%]{width:25px;text-align:right}.efm-draggable-handle[_ngcontent-%COMP%]:hover{cursor:grabbing;cursor:-webkit-grabbing;cursor:-moz-grabbing}.efm-draggable-row.cdk-drop-list-dragging[_ngcontent-%COMP%]{background:pink}.efm-loader[_ngcontent-%COMP%]{position:relative;display:block;width:100%;height:2px;overflow:hidden;clear:both;margin-bottom:2px}.cdk-preview[_ngcontent-%COMP%]{height:30px;overflow:hidden}  .efm-container .sw-field-item-container{margin:0!important;min-height:0!important}  .cdk-drag-preview .sw-field-item-container{margin:0!important;min-height:0!important}.cdk-drag-preview[_ngcontent-%COMP%]{border-top:1px solid var(--border);display:-webkit-box;display:-ms-flexbox;display:flex;margin:0!important}"]}),i})();function hSe(i,n){if(1&i){const e=Me();x(0,"div",9)(1,"div",10)(2,"lib-pop-input",11),ie("events",function(o){return he(e),pe(I(3).onEntryDisplayChange(0,o))}),C()(),me(3,"div",10),C()}if(2&i){const e=I().$implicit;_(2),g("config",e.display),_(1),et("max-width",100,"px")}}const rA=function(i){return{"sw-disabled":i}};function pSe(i,n){if(1&i&&(x(0,"div",7),$(1,hSe,4,3,"div",8),C()),2&i){const e=n.$implicit,t=I(2);g("ngClass",qe(2,rA,t.dom.state.pending)),_(1),g("ngIf",e&&e.display)}}function mSe(i,n){if(1&i){const e=Me();x(0,"i",18),ie("click",function(){return he(e),pe(I(3).onAddEntryValue())}),ee(1," add "),C()}if(2&i){const e=I(3);g("ngClass",qe(1,rA,e.dom.state.pending))}}const _y=function(i){return{"sw-hidden":i}};function fSe(i,n){if(1&i){const e=Me();x(0,"div",9)(1,"div",21)(2,"div"),ee(3),C()(),x(4,"div",22)(5,"i",23),ee(6," drag_handle "),C()(),x(7,"div",10)(8,"lib-pop-input",11),ie("events",function(o){he(e);const s=I().index;return pe(I(3).onEntryDisplayChange(s,o))}),C()(),x(9,"div",15)(10,"lib-pop-switch",24),ie("events",function(o){he(e);const s=I().index;return pe(I(3).onEntryActiveChange(s,o))}),C()(),x(11,"div",15)(12,"i",25),ie("click",function(){he(e);const o=I().$implicit;return pe(I(3).onRemoveEntryValue(o))}),ee(13," remove "),C()()()}if(2&i){const e=I().$implicit,t=I(3);_(1),et("max-width",30,"px"),g("ngClass",qe(15,_y,!t.dom.state.hasMultipleEntries)),_(2),Mt("",e.increment,"."),_(1),et("max-width",50,"px"),g("ngClass",qe(17,_y,!t.dom.state.hasMultipleEntries||t.dom.state.hasScheme)),_(4),g("config",e.display),_(1),et("max-width",75,"px"),_(1),g("ngClass",qe(19,_y,!t.dom.state.hasMultipleEntries))("config",e.active),_(1),et("max-width",30,"px"),_(1),g("ngClass",qe(21,_y,!t.dom.state.hasMultipleEntries||t.dom.state.hasScheme))}}function gSe(i,n){if(1&i&&(x(0,"div",19),$(1,fSe,14,23,"div",8),me(2,"mat-divider",20),C()),2&i){const e=n.$implicit;_(1),g("ngIf",e&&e.display)}}function _Se(i,n){if(1&i){const e=Me();x(0,"div",12),ie("cdkDropListDropped",function(o){return he(e),pe(I(2).onOptionSortDrop(o))}),x(1,"div",13)(2,"div",14)(3,"label"),ee(4,"Entries"),C()(),me(5,"div",10)(6,"div",15),x(7,"div",15),$(8,mSe,2,3,"i",16),C()(),$(9,gSe,3,1,"div",17),C()}if(2&i){const e=I(2);g("ngClass",qe(7,rA,e.dom.state.pending)),_(6),et("max-width",75,"px"),_(1),et("max-width",30,"px"),_(1),g("ngIf",!e.dom.state.hasScheme),_(1),g("ngForOf",e.ui.entries)}}function bSe(i,n){if(1&i&&(x(0,"div",30)(1,"label",31),ee(2),C()()),2&i){const e=n.$implicit;_(2),Je(e.label)}}function vSe(i,n){if(1&i&&(x(0,"div",28),$(1,bSe,3,1,"div",29),C()),2&i){const e=I(3);_(1),g("ngForOf",e.field.trait)}}const S5=function(i,n,e){return{"sw-hidden":i,"sw-disabled":n,"sw-pointer":e}};function ySe(i,n){if(1&i){const e=Me();x(0,"div",30)(1,"div",35)(2,"mat-icon",36),ie("click",function(){const s=he(e).$implicit,r=I().index;return pe(I(4).onEntryTraitChange(r,s))}),ee(3," radio_button_unchecked "),C(),x(4,"mat-icon",37),ie("click",function(){const s=he(e).$implicit,r=I().index;return pe(I(4).onEntryTraitChange(r,s))}),ee(5," radio_button_checked "),C()()()}if(2&i){const e=n.$implicit;_(2),g("ngClass",fs(2,S5,e.selected,e.disabled,!e.disabled)),_(2),g("ngClass",fs(6,S5,!e.selected,e.disabled,!e.disabled))}}function xSe(i,n){if(1&i&&(x(0,"div",34),$(1,ySe,6,10,"div",29),C()),2&i){const e=n.$implicit;_(1),g("ngForOf",e.traits)}}function CSe(i,n){if(1&i&&(x(0,"div",32),$(1,xSe,2,1,"div",33),C()),2&i){const e=I(3);_(1),g("ngForOf",e.ui.entries)}}function wSe(i,n){if(1&i&&(x(0,"div",3),$(1,vSe,2,1,"div",26),$(2,CSe,2,1,"div",27),C()),2&i){const e=I(2);_(1),g("ngIf",e.field.uses_multiple_values),_(1),g("ngIf",e.field.uses_multiple_values)}}function kSe(i,n){if(1&i&&(x(0,"div",1)(1,"div",2)(2,"div",3),$(3,pSe,2,4,"div",4),$(4,_Se,10,9,"div",5),C(),$(5,wSe,3,2,"div",6),C()()),2&i){const e=I();_(3),g("ngIf",!e.field.uses_multiple_values&&e.ui.entries[0]),_(1),g("ngIf",e.field.uses_multiple_values),_(1),g("ngIf",e.dom.state.isPrimary)}}let ISe=(()=>{class i extends Yt{constructor(e,t,o,s){var r;super(),r=this,this.el=e,this._domRepo=t,this._fieldRepo=o,this._tabRepo=s,this.scheme=null,this.name="PopEntityFieldEntriesComponent",this.srv={action:Rt.get(ia),dialog:Rt.get(Fn),field:void 0,request:Rt.get(Cu),tab:Rt.get(Qo)},this.asset={basePath:void 0,entries:[],entriesMap:{},schemeFieldStorage:void 0,type:void 0,typeOption:void 0},this.ui={label:void 0,minMax:void 0,editLabel:void 0,uniqueLabel:void 0,customLabel:void 0,entries:[],map:{},entryLimit:4},this.dom.configure=()=>new Promise(a=>(this.core=Ai(this.core,!0,`${this.name}:configureDom: - this.core`)?this.core:null,this.field||(this.field=Ai(this.core,["entity"],"Invalid Core")&&Ai(this.core.entity,["id","cf_type_name"],"Invalid Field")?this.core.entity:null),this.asset.type=this.field.cf_type_name,this.asset.typeOption=this.srv.field.getDefaultLabelTypeOptions(),this.asset.basePath=`fields/${this.field.id}/entries`,this._setCustomTraits(),this.ui.entries=Kl(this.core.entity.entries,!1,"Invalid Field Entries")?this.core.entity.entries:null,this.dom.session.controls=new Map,this._buildCustomSettings(),a(!0))),this.dom.proceed=()=>new Promise(function(){var a=q(function*(l){return Y(r.scheme,["config"])||(r.dom.state.hasScheme=!1,r.dom.state.isPrimary=!1),yield r._showEntries(),l(!0)});return function(l){return a.apply(this,arguments)}}())}ngOnInit(){super.ngOnInit()}onOptionSortDrop(e){var t=this;Pc(this.ui.entries,e.previousIndex,e.currentIndex),this.dom.setTimeout("update-sort-order",q(function*(){const o=[];t.ui.entries.map((s,r)=>{o.push(gt.doPatch(`${t.asset.basePath}/${s.id}`,{sort_order:r,orphaned:-1},1,!1));const a=t.field.entries.find(l=>+l.id==+s.id);Y(a,!0)&&(a.sort_order=r),s.increment=r+1}),o.length>0&&(t.srv.tab.showAsLoading(!0),t.dom.setSubscriber("update-sort-order",Ar(o).subscribe(()=>{t.srv.field.triggerFieldPreviewUpdate(),t.srv.tab.showAsLoading(!1)},s=>{t.dom.setError(s,!0),t.srv.tab.showAsLoading(!1)})))}),0)}onEntryTypeChange(e,t){if(Ln(0,t)){const o=this.ui.entries[e],s=this.field.entries[e],r=this.dom.session.controls.get(e);s&&r&&(s.type=o.type.control.value,this._updateEntryTypeSession(r.type,s),this.dom.session.controls.set(e,r),this.setDomSession(e,r)),setTimeout(()=>{this.srv.field.triggerFieldPreviewUpdate()},0)}}onEntryDisplayChange(e,t){if(0===e&&this.ui.label.control.setValue(t.config.control.value,{emitEvent:!1}),Ln(0,t)){const o=this.field.entries[e],s=this.dom.session.controls.get(e);o&&s&&(o.name=t.config.control.value,this._updateEntryDisplaySession(s.display,o),this.dom.session.controls.set(e,s),this.setDomSession(e,s))}setTimeout(()=>{this.srv.field.triggerFieldPreviewUpdate()},0)}onEntryActiveChange(e,t){if(!Y(this.scheme,["id"])){const o=this.field.entries[e];o&&(t.config.control.value?(o.orphaned=!1,o.orphaned_at=null):(o.orphaned=!0,o.orphaned_at=wo.toIso(new Date))),setTimeout(()=>{this._handleMultipleEntries(),this.srv.field.triggerFieldPreviewUpdate()},0),this.log.info("onEntryActiveChange",t)}}onEntryTraitChange(e,t){var o=this;this.dom.setTimeout(`entry-trait-${e}`,q(function*(){o.ui.entries.map((s,r)=>{const a=s.traits.find(l=>l.name===t.name);Y(a,!0)&&(a.selected=+r==+e)}),o.log.info("onEntryTraitChange")}))}_handleMultipleEntries(){this.log.info("_handleMultipleEntries"),this.dom.session.multipleActiveEntries=this._isMultipleActiveEntries(),this.dom.session.multipleActiveEntries?this._enableActiveEntries():this._disableActiveEntries()}onAddEntryValue(){var e=this;this.dom.setTimeout("add-entry",q(function*(){const t={name:"entry",header:"Add Entry",facade:!0,fields:{name:{form:"input",pattern:"Default",name:"name",hint:!0,label:"Name",required:!0,layout:"vertical",bubble:!1,noInitialValue:!0,maxlength:32,prevent:e.ui.entries.map(s=>Lt(s,["display","control","value"],"Undefined"))}},bubbleAll:!0,blockEntity:!0},o=yield e.srv.action.do(e.core,t);Y(o,["name"])&&(yield e._addEntry(o.name))}),0)}_addEntry(e){return new Promise(t=>{this.srv.tab.showAsLoading(!0),this.dom.state.pending=!0;const o=this.field.entries.filter(l=>"custom"!==l.type).length,s=o+1,r=this.dom.session.controls.get(o);e||(e=r?r.display.value:jt(`${this.field.name?this.field.name:this.asset.type} ${s}`)),this._makeApiRequests([this.srv.request.doPost(`${this.asset.basePath}`,{name:e,type:this.asset.typeOption.defaultValue,orphaned_at:null,sort_order:o},1,!1),this.srv.request.doPatch(`fields/${this.field.id}`,{multiple_min:s,multiple_max:s},1,!1)]).then(()=>{this._setEntrySessionControls(this.field.entries.filter(l=>"custom"!==l.type)).then(l=>{this._setEntries(l).then(()=>{this.dom.state.pending=!1,setTimeout(()=>(this.field.multiple_values_min=s,this.field.multiple_values_max=s,this.ui.minMax.minConfig.max=this.field.entries.length,this.ui.minMax.minConfig.min=this.field.entries.length,this.ui.minMax.minConfig.control.setValue(this.field.entries.length),this.ui.minMax.maxConfig.max=this.field.entries.length,this.ui.minMax.maxConfig.min=this.field.entries.length,this.ui.minMax.maxConfig.control.setValue(this.field.entries.length),this.srv.field.triggerFieldPreviewUpdate(),this.srv.tab.showAsLoading(!1),t(!0)),0)})})},l=>(this.dom.setError(l,!0),this.srv.tab.showAsLoading(!1),t(!1)))})}_collectNewEntryName(){var e=this;const o={header:"Add New Field Entry",name:"campaign",fields:{client_id:{form:"select",name:"client_id",label:"Client",bubble:!0,disabled:!1,required:!0,options:{resource:"clients",child:"account_id"}}},submitText:"Submit",postUrl:null,blockEntity:!0};this.dom.setTimeout("collect-name",q(function*(){const s=yield e.srv.action.do(e.core,o);e.log.info("setCampaign",s),e.srv.tab.showAsLoading(!1)}),0)}onRemoveEntryValue(e){e&&e.id&&this.srv.dialog.open(KI,{width:"500px",data:{option:null,body:`Deleting ${e.display.control.value} will result in any collected values on this entry being permanently removed.<br><br>Do you wish to continue?`,align:"left"}}).afterClosed().subscribe(t=>{if(t&&t.confirmed){this.dom.state.pending=!0;const o=this.field.entries.length-1;this.srv.request.doDelete(`${this.asset.basePath}/${e.id}`),this._makeApiRequests([this.srv.request.doDelete(`${this.asset.basePath}/${e.id}`),this.srv.request.doPatch(`fields/${this.field.id}`,{multiple_min:o,multiple_max:o},1,!1)]).then(()=>{this._setEntrySessionControls(this.field.entries.filter(s=>"custom"!==s.type)).then(s=>{this._setEntries(s).then(()=>{this.dom.state.pending=!1,setTimeout(()=>{this.field.multiple_values_min=o,this.field.multiple_values_max=o,this.ui.minMax.minConfig.max=this.field.entries.length,this.ui.minMax.minConfig.min=this.field.entries.length,this.ui.minMax.minConfig.control.setValue(this.field.entries.length),this.ui.minMax.maxConfig.max=this.field.entries.length,this.ui.minMax.maxConfig.min=this.field.entries.length,this.ui.minMax.maxConfig.control.setValue(this.field.entries.length),this.srv.field.triggerFieldPreviewUpdate()},0)})})})}})}onChangeMinMaxSetting(e){Ln(0,e)&&this.srv.field.triggerFieldPreviewUpdate()}ngOnDestroy(){super.ngOnDestroy()}_setCustomTraits(){this.field.trait.map(e=>{e.label||(e.label=jt(Tn(e.name)))})}_buildCustomSettings(){this.ui.minMax=new h4({bubble:!0,helpText:"Set the minimum values that this field should have, the maximum amount of values will be the total entries defined.",label:"Entry Values",minRequired:!0,maxRequired:!0,minValue:this.field.entries.length,maxValue:this.field.entries.length,min:this.field.entries.length,max:this.field.entries.length,limit:10,minLabel:"Minimum",maxLabel:"Maximum",maxColumn:"multiple_max",minColumn:"multiple_min",maxReadonly:!0,patch:{field:"n/a",path:`fields/${this.field.id}`,after:(s,r)=>{const a=r.config.control.value;Object.keys(a).map(l=>{this.field[l]=a[l]})}}}),this.ui.label=new li({label:"Label",value:De(this.field.entries,!0)?this.field.entries[0].name:"",facade:!1,maxlength:24,patch:{field:"name",path:`fields/${this.field.id}/entries/${this.field.entries[0].id}`,after:(s,r)=>{this.onEntryDisplayChange(0,r)}}});const e=this.field.custom_setting&&Y(this.field.custom_setting.edit_label,!0)?this.field.custom_setting.edit_label:null;e&&(this.ui.editLabel=new uo({name:"edit_label",helpText:e.helpText,label:e.label,labelPosition:"after",value:e.value,metadata:{setting:e},facade:!0,patch:{field:"value",path:"",after:(s,r)=>{this.srv.field.storeCustomSetting(this.core,r).then(a=>{Ne(a)?this.ui.editLabel.message=a:this.srv.field.triggerFieldPreviewUpdate()})}}}));const t=this.field.custom_setting&&Y(this.field.custom_setting.custom_label,!0)?this.field.custom_setting.custom_label:null;t&&(this.ui.customLabel=new qr({name:"custom_label",facade:!0,helpText:t.helpText,label:t.label,labelPosition:"after",value:t.value,metadata:{setting:t},patch:{field:"value",path:"",after:(s,r)=>{this.srv.field.storeCustomSetting(this.core,r).then(a=>{Ne(a)?this.ui.customLabel.message=a:this._onCustomLabelChange(this.ui.customLabel.control.value).then(()=>{this.srv.field.triggerFieldPreviewUpdate()})})}}}));const o=this.field.custom_setting&&Y(this.field.custom_setting.unique_label,!0)?this.field.custom_setting.unique_label:null;o&&(this.ui.uniqueLabel=new qr({name:"unique_label",facade:!0,helpText:o.helpText,label:o.label,labelPosition:"after",value:o.value,metadata:{setting:o},patch:{field:"value",path:"",after:(s,r)=>{this.srv.field.storeCustomSetting(this.core,r).then(a=>{Ne(a)?this.ui.uniqueLabel.message=a:this.srv.field.triggerFieldPreviewUpdate()})}}}))}_onCustomLabelChange(e){return new Promise(t=>{if(this.dom.state.pending=!0,!e){const o=[];return this.field.entries.filter(s=>"custom"!==s.type||(o.push(this.srv.request.doDelete(`${this.asset.basePath}/${s.id}`,null,1,!1)),!1)),o.length>0&&this._makeApiRequests(o).then(()=>{this._setEntrySessionControls(this.field.entries.filter(s=>"custom"!==s.type)).then(s=>{this._setEntries(s).then(()=>{this.dom.state.pending=!1,setTimeout(()=>{this.srv.field.triggerFieldPreviewUpdate()},0)})})}),t(!0)}{let o=!1;this.field.entries.map(s=>{"custom"==s.type&&(o=!0)}),o?setTimeout(()=>(this.dom.state.pending=!1,this.srv.field.triggerFieldPreviewUpdate(),t(!0)),0):this._makeApiRequests([this.srv.request.doPost(`${this.asset.basePath}`,{name:"Custom",type:"custom"},1,!1)]).then(()=>{this._setEntrySessionControls(this.field.entries.filter(r=>"custom"!==r.type)).then(r=>{this._setEntries(r).then(()=>{this.dom.state.pending=!1,setTimeout(()=>(this.srv.field.triggerFieldPreviewUpdate(),t(!0)),0)})})})}})}_showEntries(){var e=this;return new Promise(function(){var t=q(function*(o){e._setValueEntries().then(s=>{e._setEntrySessionControls(s).then(r=>{e._setEntries(r).then(()=>(e.dom.state.pending=!1,o(!0)))})})});return function(o){return t.apply(this,arguments)}}())}_setValueEntries(){return new Promise(e=>e([...Gs(this.field.entries).filter(s=>"custom"!==s.type)]))}_makeApiRequests(e){return new Promise(t=>{Ar(e).subscribe(()=>{this.srv.request.doGet(this.asset.basePath).subscribe(o=>{this.field.entries=De(o=o.data?o.data:o,!0)?o:[],this.core.entity.entries=JSON.parse(JSON.stringify(this.field.entries)),t(o)})},o=>{ut.error(this.name,"_makeApiRequests",qn(o)),t([])})})}_setEntrySessionControls(e){return new Promise(t=>{let o=0;return e.map(s=>{if("custom"!==s.type){kt(s.orphaned)||(s.orphaned=kt(s.orphaned_at,!1));const r=this.dom.session.controls.has(o)?this.dom.session.controls.get(o):{id:s?s.id:null,type:this._getEntryTypeConfig(s),display:this._getEntryDisplayConfig(s),active:this._getEntryActiveConfig(s),increment:o+1};this._updateSessionControl(o,r,s),o++}}),t(e)})}_updateSessionControl(e,t,o=null){return t.increment=e+1,t.id=o?o.id:null,this._updateEntryTypeSession(t.type,o),this._updateEntryDisplaySession(t.display,o),this.dom.session.controls.set(e,t),this.setDomSession(e,t),t}_updateEntryTypeSession(e,t=null){}_updateEntryDisplaySession(e,t=null){}_updateEntryActiveSession(e,t=null){}setDomSession(e,t){const o=Lt(this.dom.repo,["components",this.name,this.id+"","session"]);Y(o,["controls"])&&o.controls.set(e,t)}_setEntries(e){var t=this;return new Promise(function(){var o=q(function*(s){return t.ui.entries=[],t.asset.entries=De(e,!0)?e.filter(r=>"custom"!==r.type):[],t.asset.entriesMap=Kn(t.asset.entries,"id"),t.dom.state.hasMultipleEntries=t.asset.entries.length>1,yield t._checkFieldEntryTraits(),s(!0)});return function(s){return o.apply(this,arguments)}}())}_getEntryTypeConfig(e){let t=!1,o=this.asset.type in this.asset.typeOption?this.asset.typeOption[this.asset.type].options:[];return De(o,!0)||(o=[{value:"n/a",name:"N/A"}],t=!0),new Zi({label:"Type",options:{values:o},disabled:t,patch:{field:"type",path:e&&e.id?`${this.asset.basePath}/${e.id}`:null}})}_getSessionEntryTraits(e){return[]}_checkFieldEntryTraits(){var e=this;return new Promise(function(){var t=q(function*(o){if(!e.dom.state.isPrimary||!De(e.field.trait,!0))return e.dom.session.controls&&(e.ui.entries=[],e.asset.entries.map((s,r)=>{const a=e.dom.session.controls.get(r);(!e.scheme||!s.orphaned_at)&&e.ui.entries.push(a)}),e._handleMultipleEntries()),o(!0);{let s=!1;const r=e.asset.schemeFieldStorage.disabled_entries,a=De(e.asset.entries,!0)?e.asset.entries.find(l=>!r.includes(l.id)&&!l.orphaned_at):null;if(Y(a,["id"])){const l=e.asset.schemeFieldStorage.trait_entry;e.field.trait.map(c=>{(Xr(l[c.name])||!(l[c.name]in e.asset.entriesMap)||r.includes(+l[c.name]))&&(l[c.name]=a.id,s=!0)})}if(e.dom.session.controls)return e.ui.entries=[],e.asset.entries.map((l,c)=>{const A=e.dom.session.controls.get(c);e.dom.state.isPrimary&&(A.traits=e._getSessionEntryTraits(l)),(!e.scheme||!l.orphaned_at)&&e.ui.entries.push(A)}),e._handleMultipleEntries(),o(!0)}});return function(o){return t.apply(this,arguments)}}())}_getEntryActiveConfig(e){var t=this;let o=!e.orphaned;return Y(this.scheme,!0)&&this.asset.schemeFieldStorage.disabled_entries.includes(e.id)&&(o=!1),new uo({label:"",value:o,empty:"ConvertEmptyToNull",tooltip:"Toggle Visibility",facade:!0,metadata:{entry:e},patch:{field:"orphaned_at",path:"",duration:0,displayIndicator:!1,after:(s=q(function*(r,a){t.srv.tab.showAsLoading(!0),Y(t.scheme,["id"])?(a.config.control.value?t.asset.schemeFieldStorage.disabled_entries.splice(t.asset.schemeFieldStorage.disabled_entries.indexOf(+e.id),1):t.asset.schemeFieldStorage.disabled_entries.push(+e.id),yield t._checkFieldEntryTraits(),t.srv.tab.showAsLoading(!1)):t.dom.setTimeout(`update-orphaned-at-${e.id}`,gt.doPatch(`${t.asset.basePath}/${e.id}`,{orphaned:!a.config.control.value||null},1,!1).subscribe(c=>{c=wa(c),t.log.info("_getEntryActiveConfig",c),t.srv.tab.showAsLoading(!1)},c=>{t.dom.setError(c,!0),t.srv.tab.showAsLoading(!1)}))}),function(a,l){return s.apply(this,arguments)})}});var s}_getEntryDisplayConfig(e){return new li({label:"Entry Name",value:e&&e.name?e.name:"",disabled:!!this.dom.state.hasScheme,patch:{field:"name",path:e&&e.id?`${this.asset.basePath}/${e.id}`:null,metadata:{}},maxlength:20})}_isMultipleActiveEntries(){let e=0;return this.ui.entries.map(t=>{Lt(t,["active","control","value"],!1)&&e++}),this.log.info("_isMultipleActiveEntries",e),e>1}_disableActiveEntries(){this.log.info("_disableActiveEntries"),this.ui.entries.map(e=>{Lt(e,["active","control","value"],!1)&&(e.active.disabled=!0,e.active.control.disable())})}_enableActiveEntries(){this.log.info("_enableActiveEntries"),this.ui.entries.map(e=>{Lt(e,["active","control","value"],!1)&&(e.active.disabled=!1,e.active.control.enable())})}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Tr),P(Qo))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-field-entries"]],inputs:{field:"field",scheme:"scheme"},features:[Re],decls:1,vars:1,consts:[["class","entity-field-value-container",4,"ngIf"],[1,"entity-field-value-container"],[1,"sw-flex-row"],[1,"sw-flex-column","sw-flex-item-md"],["class","entity-field-value-content",3,"ngClass",4,"ngIf"],["id","entity-field-scroll-container","class","entity-field-value-content sw-flex-item-md","cdkDropList","",3,"ngClass","cdkDropListDropped",4,"ngIf"],["class","sw-flex-column sw-flex-item-md",4,"ngIf"],[1,"entity-field-value-content",3,"ngClass"],["class","entity-field-value-row",4,"ngIf"],[1,"entity-field-value-row"],[1,"sw-flex-item-sm","sw-flex-grow-xs"],[1,"sw-flex-item-full",3,"config","events"],["id","entity-field-scroll-container","cdkDropList","",1,"entity-field-value-content","sw-flex-item-md",3,"ngClass","cdkDropListDropped"],[1,"sw-flex-row","sw-flex-item-full","sw-flex-between-center","field-entries-section-label"],[1,"sw-flex-item-sm","sw-flex-start-center"],[1,"sw-flex-item-sm","sw-flex-grow-xs","sw-flex-center"],["class","material-icons sw-pointer sw-hover","matTooltip","Add Field Entry",3,"ngClass","click",4,"ngIf"],["class","field-entries-item","cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary","#entity-field-scroll-container",4,"ngFor","ngForOf"],["matTooltip","Add Field Entry",1,"material-icons","sw-pointer","sw-hover",3,"ngClass","click"],["cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary","#entity-field-scroll-container",1,"field-entries-item"],[1,"entity-field-entry-clear"],[1,"sw-flex-item-xs","entity-field-value-icon","sw-flex-center",3,"ngClass"],[1,"field-entries-sort",3,"ngClass"],["title","Sort","cdkDragHandle","",1,"material-icons"],[1,"sw-flex-item-full",3,"ngClass","config","events"],["matTooltip","Remove",1,"material-icons","sw-pointer","sw-hover",3,"ngClass","click"],["class","entity-field-value-radio-header sw-flex-item-md",4,"ngIf"],["style","padding-top: 3px",4,"ngIf"],[1,"entity-field-value-radio-header","sw-flex-item-md"],["class","sw-flex-item-sm entity-field-trait",4,"ngFor","ngForOf"],[1,"sw-flex-item-sm","entity-field-trait"],[1,"entity-field-label"],[2,"padding-top","3px"],["class","entity-field-value-row sw-flex-space-around-center",4,"ngFor","ngForOf"],[1,"entity-field-value-row","sw-flex-space-around-center"],[1,"entity-field-trait-radio"],[3,"ngClass","click"],[1,"entity-field-trait-checked",3,"ngClass","click"]],template:function(e,t){1&e&&$(0,kSe,6,3,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:["[_nghost-%COMP%]{width:100%}.entity-field-value-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:5px}.entity-field-value-content[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;min-height:30px;margin-bottom:5px;padding-top:var(--gap-s);padding-bottom:var(--gap-s)}.entity-field-value-radio-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;width:100%;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;max-height:40px;font-size:12px}.entity-field-value-radio-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;width:100%;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;height:50px;max-height:53px;font-size:12px}.entity-field-value-icon[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:35px;width:35px;font-size:.9em;padding-top:0}.entity-field-value-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3em}.entity-field-value-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:50px;margin-top:1px}#entity-field-scroll-container[_ngcontent-%COMP%]{min-height:auto!important}.entity-field-entry-clear[_ngcontent-%COMP%]{margin:0!important;height:0!important;border:0!important}.field-entries-section-label[_ngcontent-%COMP%], .field-entries-section-radio[_ngcontent-%COMP%]{min-height:30px}.entity-field-value-label[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center}.field-entries-sort[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:10%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:move}.entity-field-trait[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-width:130px;text-align:center;min-height:25px}.entity-field-label[_ngcontent-%COMP%]{position:relative;bottom:-5px}[_nghost-%COMP%]     .entity-field-trait-checked.mat-icon{color:var(--background-focused-button)!important}[_nghost-%COMP%]     .entity-field-value-row .sw-field-item-container{margin:0!important}[_nghost-%COMP%]     .cdk-drag-preview .sw-field-item-container{margin:0!important}"]}),i})();function ASe(i,n){1&i&&me(0,"lib-pop-textarea",1),2&i&&g("config",I(2).ui.validationSyntax)}function SSe(i,n){1&i&&me(0,"lib-pop-textarea",1),2&i&&g("config",I(2).ui.validationDescription)}function MSe(i,n){1&i&&me(0,"lib-pop-label",1),2&i&&g("config",I(2).ui.validationStructure)}function PSe(i,n){1&i&&me(0,"lib-pop-input",1),2&i&&g("config",I(2).ui.validationValue)}function TSe(i,n){if(1&i&&(x(0,"div"),me(1,"lib-pop-select-modal",1),$(2,ASe,1,1,"lib-pop-textarea",2),$(3,SSe,1,1,"lib-pop-textarea",2),$(4,MSe,1,1,"lib-pop-label",2),$(5,PSe,1,1,"lib-pop-input",2),C()),2&i){const e=I();_(1),g("config",e.ui.validations),_(1),g("ngIf",e.ui.validationSyntax),_(1),g("ngIf",e.ui.validationDescription),_(1),g("ngIf",e.ui.validationStructure),_(1),g("ngIf",e.ui.validationValue)}}let M5=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this._domRepo=t,this.name="PopEntityFieldItemValidationModalComponent",this.srv={},this.asset={validations:[]},this.ui={validations:void 0,validationValue:void 0,validationDescription:void 0,validationSyntax:void 0,validationStructure:void 0},this.active={validation:void 0},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield o._setInitialConfig(),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){return r(!0)});return function(r){return s.apply(this,arguments)}}())}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.asset.validations=Lt(e.core,["resource","field_validations","data_values"],[]).map(s=>(s.typeName=jt(Tn(s.type)),s.status=+s.grouped?"Overrides others of this type":"Works with others of this type",s)),e.ui.validations=new x4({label:"Validations",header:"Validations",clearValue:!0,list:new _I({name:"toppings",multiple:!1,height:370,options:{values:as(e.asset.validations,{group:"typeName",groupKey:"typeName",preserveKeys:["status"]})},checkboxPosition:"after",levelGap:15}),facade:!0,patch:{field:"test",path:"test",duration:750,json:!1,after:(s,r)=>{e._setActiveValidation(e.asset.validations.find(a=>+a.id==+r.config.control.value))}}}),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setActiveValidation(e){if(Y(e,["id","internal_name"])){this.active.validation=e,this.ui.validationDescription=new Jr({label:"Description",value:this.active.validation.description,readonly:!0});let t="",o="",s="";Y(this.active.validation.value)?("singleton"===this.active.validation.value_structure?(o=Object.keys(this.active.validation.value)[0],s=""):(o=Object.keys(this.active.validation.value)[0],s=this.active.validation.value[Object.keys(this.active.validation.value)[0]]),o===s&&(s=""),":value"===s&&(s="value"),t=Ne(s,!0)?`${o}:${s}`:o):t=this.active.validation.value,this.ui.validationSyntax=new Jr({label:"Validator",readonly:!0,value:t});let r=String(this.active.validation.value_structure).split(":")[1];if((!r||"value"===r)&&(r=this.active.validation.format),this.ui.validationStructure=new p4({label:"Value Structure",value:this.active.validation.value_structure}),this.active.validation.fixed)this.ui.validationValue=null;else{let a=null;switch(r){case"int":a="Numeric";break;case"date":a="Date";break;default:a=null}this.ui.validationValue=new li({label:"Value",name:"value",pattern:a,facade:!0,patch:{field:"",path:"",duration:0,json:!1,after:(l,c)=>{this.events.emit({source:this.name,type:"component",name:"modal-validation-value-set",value:c.config.control.value})}}})}this.events.emit({source:this.name,type:"component",name:"modal-validation-set",data:this.active.validation})}}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-field-item-validation-modal"]],inputs:{result:"result"},features:[Re],decls:1,vars:1,consts:[[4,"ngIf"],[3,"config"],[3,"config",4,"ngIf"]],template:function(e,t){1&e&&$(0,TSe,6,5,"div",0),2&e&&g("ngIf",t.dom.state.loaded)}}),i})();function ESe(i,n){if(1&i&&(x(0,"div",12)(1,"div",8),ee(2),C(),me(3,"lib-pop-input",13),C()),2&i){const e=I().$implicit;_(2),Mt(" ",e.description," "),_(1),g("config",e.valueConfig)}}const P5=function(i){return{"sw-hidden":i}};function DSe(i,n){if(1&i){const e=Me();x(0,"div",5)(1,"div",6)(2,"div",7),ee(3),C(),x(4,"div",8),ee(5),C(),x(6,"div",9)(7,"i",10),ie("click",function(){const s=he(e).$implicit;return pe(I().removeFieldItemValidation(s))}),ee(8," remove "),C()()(),$(9,ESe,4,2,"div",11),C()}if(2&i){const e=n.$implicit,t=I();_(3),Mt(" ",e.name," "),_(2),Mt(" ",e.fixed?e.description:""," "),_(2),g("ngClass",qe(4,P5,t.dom.state.isScheme)),_(2),g("ngIf",e.valueConfig)}}let T5=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this._domRepo=t,this.name="PopEntityFieldItemValidationsComponent",this.scheme=null,this.srv={},this.asset={validations:[]},this.ui={validations:[]},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield o._setInitialConfig(),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){return r(!0)});return function(r){return s.apply(this,arguments)}}())}onAddFieldItemValidation(){var e=this;return new Promise(function(){var t=q(function*(o){const s={validation:null,value:null},r={header:"Add Validation",name:"validation",component:{type:M5,inputs:{core:e.core,fieldItem:e.fieldItem,result:s}},onEvent:(l,c)=>new Promise(function(){var A=q(function*(D){return"modal-validation-set"===c.name&&(s.validation=c.data,c.action.modified=!!s.validation.fixed),"modal-validation-value-set"===c.name&&(c.action.modified=!!c.value,s.value=c.value),D(!0)});return function(D){return A.apply(this,arguments)}}()),http:"POST",submitText:"Submit",postUrl:`/fields/${e.core.entity.id}/items/${e.fieldItem.id}/validations`,facade:!0,responseType:"boolean",blockEntity:!0};if(+(yield Nc.do(e.core,r))>0){if(e.fieldItem.validations=yield en(gt.doPost(`fields/${e.core.entity.id}/items/${e.fieldItem.id}/validations`,{cf_validation_id:s.validation.id,value:s.value},1,!1),e.dom,"add-field-item-validation"),["min","max","required"].includes(s.validation.internal_name)&&s.value){const l={model:{}};l.model[s.validation.internal_name]=s.value,yield en(gt.doPatch(`fields/${e.core.entity.id}/items/${e.fieldItem.id}`,l,1,!1),e.dom,"attach-validator-to-model")}yield e._setAssignedValidations()}return o(!0)});return function(o){return t.apply(this,arguments)}}())}removeFieldItemValidation(e){var t=this;return new Promise(function(){var o=q(function*(s){const r=t.ui.validations.findIndex(a=>+a.id==+e.id);if(+r>-1){t.ui.validations.splice(r,1);const a=yield en(gt.doDelete(`fields/${t.core.entity.id}/items/${t.fieldItem.id}/validations/${e.pivot_id}`,{},1,!1),t.dom,"remove-field-item-validation");if(t.fieldItem.validations=a,Y(t.fieldItem.model)&&e.internal_name in t.fieldItem.model){const l={model:{}};l.model[e.internal_name]=null,yield en(gt.doPatch(`fields/${t.core.entity.id}/items/${t.fieldItem.id}`,l,1,!1),t.dom,"attach-validator-to-model")}yield t._setAssignedValidations()}return s(!0)});return function(s){return o.apply(this,arguments)}}())}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.state.isScheme=Y(e.scheme,["id"]),e.asset.validations=Lt(e.core,["resource","field_validations","data_values"],[]).map(s=>(s.typeName=jt(Tn(s.type)),s)),yield e._setAssignedValidations(),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setAssignedValidations(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.validations=e.fieldItem.validations.map(s=>{const r=e.asset.validations.find(a=>+a.id==+s.cf_validation_id);return{id:r.id,name:r.name,internal_name:r.internal_name,description:r.description,fixed:r.fixed,grouped:r.grouped,value:s.value,value_structure:r.value_structure,pivot_id:s.id,valueConfig:r.fixed?null:new li({label:rn(r.value_structure,"string:",""),name:"value",minimal:!0,disabled:e.dom.state.isScheme,value:s.value?s.value:null,patch:{field:"value",path:`fields/${e.core.entity.id}/items/${e.fieldItem.id}/validations/${s.id}`}})}}),o(!0)});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-field-item-validations"]],inputs:{fieldItem:"fieldItem",scheme:"scheme"},features:[Re],decls:8,vars:4,consts:[[1,"fiv-container","sw-flex-column"],[1,"sw-flex-row","fiv-header"],[1,"fiv-header-icon"],["matTooltip","Add",1,"material-icons","fiv-options-new","sw-pointer","sw-hover",3,"ngClass","click"],["class","sw-flex-column fiv-validation-item",4,"ngFor","ngForOf"],[1,"sw-flex-column","fiv-validation-item"],[1,"sw-flex-row"],[1,"sw-flex-column","fiv-row-name"],[1,"sw-flex-column","fiv-row-description"],[1,"sw-flex-column","fiv-row-icon"],["matTooltip","Remove",1,"material-icons","field-builder-item-options-new","sw-pointer","sw-hover",3,"ngClass","click"],["class","sw-flex-row fiv-input-container",4,"ngIf"],[1,"sw-flex-row","fiv-input-container"],[2,"width","50%",3,"config"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"div"),ee(3,"Custom Api Validations"),C(),x(4,"div",2)(5,"i",3),ie("click",function(){return t.onAddFieldItemValidation()}),ee(6,"add "),C()()(),$(7,DSe,10,6,"div",4),C()),2&e&&(_(5),g("ngClass",qe(2,P5,t.dom.state.isScheme)),_(2),g("ngForOf",t.ui.validations))},styles:[".fiv-container[_ngcontent-%COMP%]{border-left:1px solid var(--border);border-right:1px solid var(--border);margin-top:20px}.fiv-header[_ngcontent-%COMP%]{height:40px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;border-top:1px solid var(--border);border-bottom:1px solid var(--border);padding:0 5px}.fiv-options-new[_ngcontent-%COMP%]{color:var(--accent);margin-right:10px}.fiv-headers[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;margin-top:2px;height:32px;border-bottom:1px solid var(--border)}.fiv-validation-item[_ngcontent-%COMP%]{border-bottom:1px solid var(--border)}.fiv-header-name[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:40%;padding:5px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;font-weight:700}.fiv-header-column[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:25%;padding:5px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;font-weight:700}.fiv-header-icon[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:5%;padding:5px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;font-weight:700;margin-right:15px}.fiv-row-name[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;padding:5px;width:35%;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.fiv-row-column[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;padding:5px;width:25%;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.fiv-row-description[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;padding:5px;width:55%;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;font-size:.7em}.fiv-input-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 2px;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.fiv-input-container[_ngcontent-%COMP%]   .sw-field-item-container[_ngcontent-%COMP%]{min-width:200px}.fiv-row-icon[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;padding:5px;width:5%;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}[_nghost-%COMP%]     .fiv-input-container .pop-input-container{margin:0 5px 5px 0;min-height:20px}"]}),i})();const OSe=["container"],RSe=function(){return{value:"Reset",size:24,text:12,color:"default",bubble:!0,event:"reset-source"}};function FSe(i,n){if(1&i){const e=Me();x(0,"lib-pop-button",21),ie("events",function(){return he(e),pe(I(2).onOptionSourceReset())}),C()}2&i&&g("config",ms(1,RSe))}function LSe(i,n){1&i&&me(0,"mat-divider")}function NSe(i,n){1&i&&me(0,"mat-progress-bar",22)}function BSe(i,n){1&i&&me(0,"div",9)}const ig=function(i){return{"sw-hidden":i}};function VSe(i,n){if(1&i){const e=Me();x(0,"div",23)(1,"div",24)(2,"i",25),ee(3," drag_indicator "),C()(),x(4,"div",26)(5,"lib-pop-checkbox",21),ie("events",function(o){return he(e),pe(I(2).triggerSaveFieldOptions(o))}),C()(),x(6,"div",12)(7,"lib-pop-input",21),ie("events",function(o){return he(e),pe(I(2).triggerSaveFieldOptions(o))}),C()(),x(8,"div",14)(9,"lib-pop-input",21),ie("events",function(o){return he(e),pe(I(2).triggerSaveFieldOptions(o))}),C()(),x(10,"div",27)(11,"i",28),ie("click",function(){const s=he(e).index;return pe(I(2).removeFieldItemOption(s))}),ee(12," remove "),C()(),$(13,BSe,1,0,"div",29),C()}if(2&i){const e=n.$implicit,t=I(2);_(1),g("ngClass",qe(6,ig,null==t.dom.active.item?null:t.dom.active.item.options.fixed)),_(3),g("ngClass",qe(8,ig,null==t.dom.active.item?null:t.dom.active.item.options.fixed)),_(1),g("config",e.active),_(2),g("config",e.name),_(2),g("config",e.value),_(1),g("ngClass",qe(10,ig,null==t.dom.active.item?null:t.dom.active.item.options.enum))}}function $Se(i,n){if(1&i){const e=Me();x(0,"div",5)(1,"div",6)(2,"label"),ee(3,"Options"),C(),$(4,FSe,1,2,"lib-pop-button",7),C(),$(5,LSe,1,0,"mat-divider",8),x(6,"div",9)(7,"div",10),ee(8,"Sort"),C(),x(9,"div",11),ee(10,"Active"),C(),x(11,"div",12)(12,"label"),ee(13,"Name"),C(),x(14,"mat-icon",13),ie("click",function(){return he(e),pe(I().onSortOptionsByName())}),ee(15,"sort"),C()(),x(16,"div",14),ee(17,"Value"),C(),x(18,"div",15)(19,"i",16),ie("click",function(){return he(e),pe(I().addFieldItemOption())}),ee(20," add "),C()()(),me(21,"mat-divider"),x(22,"div",17),$(23,NSe,1,0,"mat-progress-bar",18),C(),x(24,"div",19),ie("cdkDropListDropped",function(o){return he(e),pe(I().onOptionSortDrop(o))}),$(25,VSe,14,12,"div",20),C()()}if(2&i){const e=I();et("max-height",e.dom.height.inner,"px"),_(4),g("ngIf",e.dom.state.isOptionSource),_(1),g("ngIf",e.dom.state.showOptions),_(13),g("ngClass",qe(7,ig,null==e.dom.active.item?null:e.dom.active.item.options.enum)),_(5),g("ngIf",e.dom.state.saving),_(2),g("ngForOf",e.dom.active.options)}}let E5=(()=>{class i extends Jo{constructor(e,t,o){super(),this.el=e,this._domRepo=t,this._fieldRepo=o,this.scheme=null,this.name="PopEntityFieldItemParamsComponent",this.asset={field:void 0,masks:[],patterns:[],viewParams:void 0,viewOptions:void 0,viewTemplate:void 0},this.srv={entity:Rt.get(ql),field:void 0,request:Rt.get(Cu)},this.dom.configure=()=>new Promise(s=>(this.core=Ai(this.core,!0,`${this.name}:configureDom: - this.core`)?this.core:null,this.field=Ai(this.core.entity,!0,"")?this.core.entity:null,this._setHeight(),this.asset.masks=Lt(this.core,["resource","field_item_masks","data_values"],[]),this.asset.patterns=Lt(this.core,["resource","field_item_patterns","data_values"],[]),this.template.attach("container"),this.dom.handler.core=(r,a)=>this.coreEventHandler(a),this.dom.handler.bubble=(r,a)=>this.onBubbleEvent(a),this.dom.state.showOptions=!1,this.asset.viewParams=this.srv.field.getViewParams(),this.asset.viewOptions=this.srv.field.getViewOptions(),s(!0)))}ngOnInit(){super.ngOnInit()}onBubbleEvent(e){if(ut.event(this.name,"onBubbleEvent",e),"field"===e.type&&"patch"===e.name&&e.success){if(kt(e.config.name)){const o=e.config.control.value;"active"===e.config.name?this.dom.active.item.active=+o:Y(e.config.metadata,["session"])&&(De(e.config.metadata.session)?e.config.metadata.session.map(s=>{Y(s)&&(s[e.config.name]=o)}):Y(e.config.metadata.session)&&(e.config.metadata.session[e.config.name]=o))}this.dom.setTimeout("update-preview",()=>{this.core.channel.next({source:this.name,type:"component",name:"update",target:"PopEntityFieldPreviewComponent"})},250)}}setActiveFieldItem(){var e=this;return q(function*(){e.dom.active.item&&(Y(e.scheme,["id"])&&!e.dom.active.schemeItem&&(e.dom.active.schemeItem=yield en(gt.doGet(`schemes/${e.scheme.id}/fields/${e.field.id}/items/${e.dom.active.item.id}`,{auto_create:1},1,!1),e.dom,"fetch-scheme-item")),e._setFieldItemParams())})()}setLabelSettings(){this.dom.active.item=null,this.dom.state.showOptions=!1,this._configureLabelList().then(e=>{this.template.render(e,[],!0)})}addFieldItemOption(){this.dom.active.options.push({active:new qr({label:null,value:1,bubble:!0}),name:new li({label:null,value:"",pattern:"AlphaNumeric",bubble:!0,maxlength:128,minimal:!0}),value:new li({label:null,value:"",pattern:"AlphaNumericNoSpace",bubble:!0,maxlength:128,minimal:!0}),sort:new li({label:null,minimal:!0,value:this.dom.active.options.length,bubble:!0})})}onSortOptionsByName(){this.dom.active.options.sort(function(e,t){const o=e.name.control.value,s=t.name.control.value;return o<s?-1:o>s?1:0}),this.saveFieldItemOptions()}removeFieldItemOption(e){e in this.dom.active.options&&(this.dom.active.options.splice(e,1),this.dom.active.options.map((t,o)=>{t.sort.control.setValue(o)})),this.triggerSaveFieldOptions({name:"onChange"})}triggerSaveFieldOptions(e){e&&("onKeyUp"===e.name||"onChange"===e.name)&&(this.dom.delay.saveFieldOptions&&clearTimeout(this.dom.delay.saveFieldOptions),this.dom.delay.saveFieldOptions=setTimeout(()=>{this.saveFieldItemOptions()},500))}onOptionSourceReset(){const e=this.dom.active.item;De(e.source,!0)&&(e.options.values=[],e.source.map((t,o)=>{e.options.values.push({active:t.active?+t.active:1,name:t.name?t.name:t.label?t.label:"Item "+(o+1),value:t.id?t.id:t.value?t.value:o+1,sort:o})}),this._setFieldItemOptions(),this.triggerSaveFieldOptions({name:"onChange"}))}saveFieldItemOptions(){this.dom.state.saving=!0;const t=JSON.parse(JSON.stringify(this.dom.active.item.options));let o;t.values=[],this.dom.active.options.map((l,c)=>{o={},Object.keys(l).map(A=>{o[A]=l[A].control.value}),o.active=+o.active,o.sort=+c,t.values.push(o)}),this.dom.setSubscriber("options-api-call",this.srv.request.doPatch(`/fields/${this.core.entity.id}/items/${this.dom.active.item.id}`,{options:t},1,null).subscribe(()=>{this.dom.active.item.options.values=t.values,this.dom.state.saving=!1,this.core.channel.next({source:this.name,type:"component",name:"update",target:"PopEntityFieldPreviewComponent"}),this.dom.subscriber.api&&this.dom.subscriber.api.unsubscribe()},()=>{this.dom.state.saving=!1}))}onOptionSortDrop(e){Pc(this.dom.active.options,e.previousIndex,e.currentIndex),this.triggerSaveFieldOptions({name:"onChange"})}ngOnDestroy(){this.template.destroy(),super.ngOnDestroy()}coreEventHandler(e){this.log.event("coreEventHandler",e),"component"===e.type?"PopEntityFieldItemsComponent"===e.source&&("active-item"===e.name?this.dom.setTimeout("reset-view",()=>{this.dom.loading(),this.dom.active.schemeItem=null,this.dom.active.item=Y(this.scheme,["id"])?gi(e.data):e.data,this.setActiveFieldItem(),setTimeout(()=>{this.dom.ready()},0)},100):"label-settings"===e.name&&(this.dom.delay.reset&&clearTimeout(this.dom.delay.reset),this.dom.delay.reset=setTimeout(()=>{this.dom.loading(),this.setLabelSettings(),setTimeout(()=>{this.dom.ready()},0)},100))):Ln(0,e)&&this._setHeight()}_setFieldItemParams(){Y(this.dom.active.item,!0)&&this._configureParamList().then(e=>{this.template.render(e,[],!0)})}_configureParamList(){var e=this;return new Promise(t=>{const o=[],s=this.dom.active.item;s&&!Y(s.model)&&(s.model={});const r=this.dom.active.schemeItem;r&&!Y(r.model)&&(r.model={});const a=s.cf_item_view_html_form,l=s.rules.sort(ko("name")).map(le=>Ui(le)),c=this.asset.viewParams[a],A=s.custom_setting,D=Y(this.scheme,["id"]);if(this.log.config("activeItem",{item:s,schemeItem:r,rules:l,allowed:c,settings:A,view:a}),"value"!==this.dom.active.item.internal_name){const le=s.name;let ke=le,Pe=null;if(D){Pe=le;const at=r.name;at&&(ke=at)}const ze={type:this._getParamComponent("display"),inputs:{config:{revert:Pe,value:ke,label:"Name",name:"name",readonly:!1,required:!0,metadata:{session:s,revert:Pe},facade:D,patch:{field:"name",path:D?`scheme/${this.scheme.id}/fields/${this.core.entity.id}/items/${s.id}`:`fields/${this.core.entity.id}/items/${s.id}`,duration:750,after:D?function(){var at=q(function*(it,_t){const Nt=_t.config.metadata.session,_i=_t.config.metadata.revert;Nt.name=_t.config.control.value,_i&&Nt.name&&(_t.config.revert=_i)});return function(it,_t){return at.apply(this,arguments)}}():null}}}};o.push(ze)}if(!["ssn"].includes(this.field.cf_type_name)&&De(s.available_views,!0,2)){const le={type:this._getParamComponent("view"),inputs:{config:new hp({value:s.cf_item_view_id,label:"View",name:"cf_item_view_id",disabled:D,options:{defaultValue:2,values:s.available_views.map(ke=>({value:ke.id,name:jt(ke.html_form)}))},metadata:{session:s},patch:{field:"cf_item_view_id",path:`fields/${this.core.entity.id}/items/${s.id}`,after:(ke=q(function*(Pe,ze){e.dom.active.item.view=D4(ze.response.view),e.dom.active.item.cf_item_view_html_form=e.dom.active.item.view.name,e.dom.active.item.cf_item_view_id=e.dom.active.item.view.id,e.core.channel.next({source:e.name,type:"component",name:"update",target:"PopEntityFieldPreviewComponent"}),e.setActiveFieldItem()}),function(ze,at){return ke.apply(this,arguments)})}})}};o.push(le)}var ke;if(!this.field.uses_multiple_values){const le=s.model.helpText;let ke=le,Pe=null;D&&(Pe=le,ke=r.model.helpText??le);const ze={type:this._getParamComponent("helpText"),inputs:{config:new li({value:ke,defaultValue:"",revert:Pe,label:"Helper Text",name:"helpText",readonly:!1,metadata:{session:s,revert:Pe},patch:{field:"helpText",jsonColumn:"model",path:D?`schemes/${this.scheme.id}/fields/${this.core.entity.id}/items/${s.id}`:`fields/${this.core.entity.id}/items/${s.id}`,after:(at,it)=>{const _t=it.config.metadata.session,Nt=it.config.metadata.revert;_t.model.helpText=it.config.control.value,Nt&&_t.model.helpText!==Nt&&(it.config.revert=Nt)}}})}};o.push(ze)}const te=Lt(s,["model","readonly"],null),se={type:this._getParamComponent("readonly"),inputs:{config:{value:te,defaultValue:"",label:"Readonly",name:"readonly",labelPosition:"before",readonly:!1,disabled:D&&te,metadata:{session:s},patch:{field:"readonly",jsonColumn:"model",metadata:{upsert:1},path:D?`schemes/${this.scheme.id}/fields/${this.core.entity.id}/items/${s.id}`:`fields/${this.core.entity.id}/items/${s.id}`,after:(le,ke)=>{const Pe=ke.config.metadata.session;Y(Pe.model)||(Pe.model={}),Pe.model.readonly=ke.config.control.value}}}}};if(o.push(se),["input","email","address","name"].includes(this.field.cf_type_name)){if("input"===s.cf_item_view_html_form||"textarea"===s.cf_item_view_html_form){let le=255;const ke=s.model.maxlength;let Pe=null,ze=ke;if(D){le=ke,Pe=ke;const Nt=r.model.maxlength;Nt&&(ze=Nt)}const at={type:this._getParamComponent("maxlength"),inputs:{config:{value:ze,defaultValue:"",revert:Pe,label:"Maxlength (Frontend Only)",name:"maxlength",labelPosition:"before",helpText:"Maxlength Limit: "+le,max:D&&le?le:null,readonly:!1,metadata:{session:s,revert:Pe},patch:{field:"maxlength",jsonColumn:"model",path:`fields/${this.core.entity.id}/items/${s.id}`,after:(Nt,_i)=>{const An=_i.config.metadata.session;An.model.maxlength=_i.config.control.value;const Oo=_i.config.metadata.revert;Oo&&An.model.maxlength!==Oo&&(_i.config.revert=Oo)}}}}};o.push(at);const it=[{id:"toTitleCase",name:"Title Case",status:"Example Text"},{id:"toUpperCase",name:"Upper Case",status:"EXAMPLE TEXT"},{id:"toLowerCase",name:"Lower Case",status:"example text"},{id:"toCurrency",name:"Currency",status:"$0.00"}],_t={type:In,inputs:{config:new Zi({value:Lt(s,["model","transformation"],null),defaultValue:"",label:"Transformation (Frontend Only)",name:"transformation",helpText:"Perform a data transformation on the captured data.",options:{empty:{value:null,name:"--- select one ---"},values:as(it,{preserveKeys:["status"]})},disabled:D,metadata:{session:s},patch:{field:"transformation",jsonColumn:"model",path:`fields/${this.core.entity.id}/items/${s.id}`,after:(Nt,_i)=>{const An=_i.config.metadata.session;Y(An.model)||(An.model={}),An.model.transformation=_i.config.control.value}}})}};["ssn"].includes(this.field.cf_type_name)||o.push(_t)}if("number"===s.cf_item_view_html_form){const le={type:this._getParamComponent("min"),inputs:{config:{value:Lt(s,["model","min"],0),defaultValue:"",label:"Min Value",name:"min",labelPosition:"before",max:null,readonly:!1,disabled:D,metadata:{session:s},patch:{field:"min",jsonColumn:"model",path:D?`schemes/${this.scheme.id}/fields/${this.core.entity.id}/items/${s.id}`:`fields/${this.core.entity.id}/items/${s.id}`,after:(Pe,ze)=>{ze.config.metadata.session.model.min=ze.config.control.value}}}}};o.push(le);const ke={type:this._getParamComponent("max"),inputs:{config:{value:Lt(s,["model","max"],null),defaultValue:"",label:"Max Value",name:"max",labelPosition:"before",max:null,readonly:!1,disabled:D,metadata:{session:s},patch:{field:"max",jsonColumn:"model",path:`fields/${this.core.entity.id}/items/${s.id}`,after:(Pe,ze)=>{ze.config.metadata.session.model.max=ze.config.control.value}}}}};o.push(ke)}if("input"===s.cf_item_view_html_form||"textarea"===s.cf_item_view_html_form){const le={type:In,inputs:{config:new Zi({value:s.cf_item_pattern_id,label:"Pattern (Frontend Only)",name:"cf_item_pattern_id",readonly:!1,disabled:D,helpText:"Setting a mask will override this behavior",options:{empty:{value:null,name:"--- select one ---"},values:as(this.asset.patterns)},metadata:{session:s},patch:{field:"cf_item_pattern_id",path:`fields/${this.core.entity.id}/items/${s.id}`,after:(ke,Pe)=>{const ze=Pe.config.metadata.session;ze.cf_item_pattern=this.asset.patterns.find(at=>+at.id==+Pe.config.control.value),ze.cf_item_pattern_id=+Pe.config.control.value}}})}};o.push(le)}}["ssn"].includes(this.field.cf_type_name)||o.push({type:T5,inputs:{core:this.core,fieldItem:s,scheme:this.scheme}}),Y(A,!0)&&Object.keys(A).map(le=>{const ke=A[le];"model"!==ke.type&&o.push(this.srv.field.getCustomSettingComponent(this.core,this.core.entity,ke,this.scheme))}),t(o)})}_configureLabelList(){return new Promise(e=>{e([])})}_setSchemeCfItem(){return new Promise(e=>{e([])})}_setHeight(){this.dom.overhead=125,this.dom.setHeight(699,this.dom.overhead)}_getParamComponent(e){switch(e){case"label":default:return y5;case"display":case"api":case"sort_top":case"regex":case"sort":case"helpText":return v5;case"select":case"mask":case"pattern":case"validation":case"transformation":return C5;case"hidden":case"visible":case"disabled":case"readonly":case"required":return hI;case"layout":case"view":return oA;case"minlength":case"maxlength":case"max":case"min":return x5;case"metadata":return w5}}_setFieldItemOptions(){this.dom.state.showOptions=!1;const e=this.dom.active.item,t=e.view?e.view.html_form:e.cf_item_view_html_form;t||ut.warn(this.name,"_setFieldItemOptions: Invalid Field Item Form",e),this.dom.active.options=[],t&&t in this.asset.viewOptions&&(De(e.source,!0)&&(e.options||(e.options={}),e.options.enum=!0,this.dom.state.isOptionSource=!0),!Y(e.options,["values"])&&!e.source&&(e.options=this.asset.viewOptions[t]),Y(e.options,["values"])&&Array.isArray(e.options.values)&&(e.options.values.map((o,s)=>{o.name=o.name?String(o.name):"Item "+(s+1),o.value=String(o.id?o.id:o.value?o.value:s+1),o.sort=s,"boolean"!=typeof o.active&&(o.active=!0),this.dom.active.options.push({active:new qr({label:null,value:+o.active,bubble:!0}),name:new li({label:null,value:o.name,transformation:"title",bubble:!this.dom.state.isOptionSource,pattern:"AlphaNumeric",validators:[Xt.required],maxlength:32,readonly:!!this.dom.state.isOptionSource}),value:new li({label:null,value:o.value,bubble:!e.options.enum,validators:[Xt.required],pattern:"AlphaNumericNoSpace",transformation:"lower",maxlength:32,readonly:!!e.options.enum}),sort:new li({label:null,value:o.sort||0,bubble:!0})})}),this.dom.state.showOptions=!0))}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Tr))},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-builder-items-params"]],viewQuery:function(e,t){if(1&e&&ht(OSe,7,Ri),2&e){let o;Ke(o=Ye())&&(t.container=o.first)}},inputs:{field:"field",scheme:"scheme"},features:[Re],decls:6,vars:8,consts:[[1,"entity-field-item-settings-container",3,"ngClass"],[1,"entity-field-editor-section-wrapper"],[1,"field-builder-config-content"],["container",""],["class","field-builder-options-content",3,"maxHeight",4,"ngIf"],[1,"field-builder-options-content"],[1,"field-builder-source-header"],[3,"config","events",4,"ngIf"],[4,"ngIf"],[1,"field-builder-item-options-headers"],[1,"field-builder-item-options-sort"],[1,"field-builder-item-options-active"],[1,"field-builder-item-name-input","field-builder-mar-rgt"],["matTooltip","Sort By Name",1,"field-builder-sort-icon","sw-pointer",3,"click"],[1,"field-builder-item-value-input"],[1,"field-builder-item-options-icon",3,"ngClass"],["matTooltip","Add",1,"material-icons","field-builder-item-options-new","sw-pointer","sw-hover",3,"click"],[1,"field-builder-item-options-loader"],["mode","indeterminate",4,"ngIf"],["cdkDropList","",1,"field-builder-item-options-container",3,"cdkDropListDropped"],["class","field-builder-item-options-headers","cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary",".field-builder-item-options-container",4,"ngFor","ngForOf"],[3,"config","events"],["mode","indeterminate"],["cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary",".field-builder-item-options-container",1,"field-builder-item-options-headers"],[1,"field-builder-item-options-sort",3,"ngClass"],["cdkDragHandle","",1,"material-icons"],[1,"field-builder-item-options-active",3,"ngClass"],["matTooltip","Remove",1,"field-builder-item-options-icon",3,"ngClass"],[1,"material-icons","field-builder-item-options-new","sw-pointer","sw-hover",3,"click"],["class","field-builder-item-options-headers",4,"cdkDragPreview"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),Go(3,null,3),$(5,$Se,26,9,"div",4),C()()()),2&e&&(et("height",t.dom.height.outer,"px"),g("ngClass",qe(6,ig,!t.dom.state.loaded)),_(2),et("height",t.dom.height.outer,"px"),_(3),g("ngIf",t.dom.state.showOptions))},styles:[".entity-field-editor-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.entity-field-editor-header-section[_ngcontent-%COMP%]{position:relative;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;height:30px;clear:both}.entity-field-editor-container[_ngcontent-%COMP%]{min-height:100px;position:relative}.entity-field-editor-border[_ngcontent-%COMP%]{border:1px solid var(--border)}.entity-field-editor-section-header[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;height:40px;padding:0 5px 0 10px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-size:1em;font-weight:700;clear:both;-webkit-box-sizing:border-box;box-sizing:border-box;background:var(--darken02)}.entity-field-editor-section-header-helper-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:1em;z-index:2}.entity-field-editor-active-selection[_ngcontent-%COMP%]{padding-left:0!important;border-left-width:5px;border-left-style:none;border-left-color:var(--primary)}.entity-field-editor-active-config[_ngcontent-%COMP%]{border-left-width:5px;border-left-style:solid;border-left-color:var(--primary)}.entity-field-item-settings-container[_ngcontent-%COMP%]{min-height:100px;position:relative;border:1px solid var(--border);border-left:none;min-width:200px}.field-builder-config-row[_ngcontent-%COMP%]{position:relative;height:30px;max-height:30px;min-width:200px;font-size:20px;line-height:20px;-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin:4px 0 4px 10px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;clear:both}.field-builder-config-content[_ngcontent-%COMP%]{padding:5px 15px 10px;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;overflow-y:scroll;overflow-x:hidden}.field-builder-options-content[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box}.field-builder-source-header[_ngcontent-%COMP%]{position:relative;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box;height:35px;margin-top:10px;clear:both}.field-builder-item-options-new[_ngcontent-%COMP%]{float:right}.field-builder-item-options-headers[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;margin-top:2px;height:32px}.field-builder-item-options-active[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:55px;text-align:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.field-builder-item-options-loader[_ngcontent-%COMP%]{position:relative;display:block;width:100%;height:2px;clear:both;overflow:hidden;margin-bottom:2px}.field-builder-item-options-input[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:25%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.field-builder-item-options-input[_ngcontent-%COMP%]   lib-pop-input[_ngcontent-%COMP%]{width:100%}.field-builder-item-name-input[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:40%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.field-builder-item-name-input[_ngcontent-%COMP%]   lib-pop-input[_ngcontent-%COMP%]{width:100%}.field-builder-item-value-input[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:20%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.field-builder-item-value-input[_ngcontent-%COMP%]   lib-pop-input[_ngcontent-%COMP%]{width:100%}.field-builder-item-options-container[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:8px 0;-webkit-box-sizing:border-box;box-sizing:border-box}.field-builder-item-options-sort[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:10%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.field-builder-item-options-sort[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:var(--gap-xs)}.field-builder-sort-icon[_ngcontent-%COMP%]{position:absolute;font-size:var(--text-sm);left:45px;top:3px;color:var(--accent)}.field-builder-item-options-icon[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.field-builder-preview-content[_ngcontent-%COMP%]{position:relative;margin-top:5px;padding:5px}.field-builder-state-selector-wrapper[_ngcontent-%COMP%]{position:absolute;right:5px;top:-5px;width:50%;height:30px;font-size:12px}.field-builder-mar-rgt[_ngcontent-%COMP%]{position:relative;margin-right:5px}[_nghost-%COMP%]     .field-builder-param-container{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;margin-bottom:4px}[_nghost-%COMP%]     .field-builder-param-title-container{display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 0 0 2%;pointer-events:all;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:30%;max-width:30%;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-box-sizing:border-box}[_nghost-%COMP%]     .field-builder-param-title{font-size:16px;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]     .field-builder-param-config-container{display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 5%;pointer-events:all;width:70%;max-width:70%;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-box-sizing:border-box;overflow-y:scroll;overflow-x:hidden}[_nghost-%COMP%]     .field-builder-param-reset-box{position:relative;display:block;margin:0;padding:0;width:100%}[_nghost-%COMP%]     .field-builder-param-reset-box .pop-input-container, [_nghost-%COMP%]     .field-builder-param-reset-box .pop-select-container, [_nghost-%COMP%]     .field-builder-param-reset-box .pop-textarea-container{margin:2px 0}[_nghost-%COMP%]     .field-builder-param-spacer-xs{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:5px;padding:0 1%}[_nghost-%COMP%]     .field-builder-param-spacer-sm{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:10px;padding:0 1%}[_nghost-%COMP%]     .field-builder-param-spacer-md{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:20px;padding:0 1%}[_nghost-%COMP%]     .field-builder-param-spacer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:30px;padding:0 1%}[_nghost-%COMP%]     .field-builder-item-options-container .mat-form-field-infix{width:auto;padding:6px 0!important;margin-top:6px!important;border:0!important;font-size:.8em}[_nghost-%COMP%]     .field-builder-item-options-active .pop-checkbox-container{margin:2px;min-height:0;height:20px;margin-top:var(--gap-xs)}[_nghost-%COMP%]     .field-builder-item-options-container .pop-input-container{margin:5px 2px 0;min-height:20px}[_nghost-%COMP%]     .field-builder-item-options-container .pop-input-feedback-container{margin-top:-4px}.cdk-drag-preview[_ngcontent-%COMP%]{-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:4px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.6;background:rgba(0,0,0,.1)}.cdk-drag-animating[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1),-webkit-transform .25s cubic-bezier(0,0,.2,1)}.field-builder-settings-header[_ngcontent-%COMP%]{padding-top:3px;position:relative;height:35px}[_nghost-%COMP%]     .mat-mdc-tab-link{height:35px;padding:5px;min-width:100px}"]}),i})();function HSe(i,n){if(1&i){const e=Me();x(0,"lib-pop-checkbox",9),ie("events",function(o){return he(e),pe(I(3).onItemActiveChange(o))}),C()}if(2&i){const e=I().$implicit;g("config",I(2).dom.active.items[e.id])}}const zSe=function(i){return{"entity-field-editor-active-selection":i}};function jSe(i,n){if(1&i){const e=Me();x(0,"div")(1,"div",4),ie("click",function(){const s=he(e).$implicit;return pe(I(2).onActiveItemSelection(s))}),x(2,"div",5),ie("click",function(o){return o.stopPropagation()}),$(3,HSe,1,1,"lib-pop-checkbox",6),C(),x(4,"div",7),ee(5),C(),me(6,"div",8),C()()}if(2&i){const e=n.$implicit,t=I(2);_(1),g("ngClass",qe(3,zSe,(null==t.dom.active.item?null:t.dom.active.item.id)===e.id)),_(2),g("ngIf",t.dom.active.items[e.id]),_(2),Je(e.display_name)}}function GSe(i,n){if(1&i&&(x(0,"div",1),$(1,jSe,7,5,"div",2),me(2,"div",3),C()),2&i){const e=I();et("height",e.dom.height.outer,"px"),_(1),g("ngForOf",e.ui.items)}}let aA=(()=>{class i extends Yt{constructor(e,t,o){var s;super(),s=this,this.el=e,this._domRepo=t,this._fieldRepo=o,this.scheme=null,this.name="PopEntityFieldItemsComponent",this.srv={field:void 0},this.asset={},this.ui={field:void 0,coreItems:void 0,items:void 0,fieldItemHelper:"",map:{},customSetting:{}},this.dom.configure=()=>new Promise(function(){var r=q(function*(a){return yield s._setInitialConfig(),s._buildCustomSettings(),s._buildActiveItems(),s._selectDefaultItem(),a(!0)});return function(a){return r.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(r=>(this.dom.active.labelSettings?(this.onActiveLabelSelection(),setTimeout(()=>{this.onActiveLabelSelection()})):Y(this.dom.active.item,["id"])?(this.onActiveItemSelection(this.dom.active.item),setTimeout(()=>{this.onActiveItemSelection(this.dom.active.item)})):(this.onActiveLabelSelection(),setTimeout(()=>{this.onActiveLabelSelection()})),r(!0)))}ngOnInit(){super.ngOnInit()}onItemActiveChange(e){"field"===e.type&&"patch"===e.name&&e.success&&(this.log.repo.enabled("event",this.name)&&window.console.log(this.log.repo.message(`${this.name}:itemActiveHandler`),this.log.repo.color("event"),e),this.dom.repo.ui.activeItems[e.config.id]=+e.config.control.value,this.core.channel.next({source:this.name,target:"PopEntityFieldPreviewComponent",type:"component",name:"update"}))}onEditLabelChange(e){window.console.log("onCustomSettingChange",e)}onActiveItemSelection(e){if(this.log.info("onActiveItemSelection",e),!this.dom.state.saving&&Y(e,["id"])){this.dom.active.labelSettings=!1,this.dom.active.item=e;const t={type:"component",name:"active-item",source:this.name,target:"PopEntityFieldItemParamsComponent",data:e};this.dom.store("active"),this.core.channel.emit(t)}}onActiveLabelSelection(){this.log.info("onActiveLabelSelection"),this.dom.active.item=null,this.dom.active.labelSettings=!0,this.core.channel.emit({type:"component",name:"label-settings",source:this.name,target:"PopEntityFieldItemParamsComponent",data:{}}),this.dom.store("active")}ngOnDestroy(){super.ngOnDestroy()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.core=Ai(e.core,["entity"],`${e.name}:configureDom: - this.core`)?e.core:null,e._setHeight(),e.dom.handler.core=(s,r)=>e._coreEventHandler(r),e.dom.active.items={},e.ui.fieldItemHelper=`Select which attributes will be part of this ${e.field.cf_type_name} field. Click on a field to edit individual field item settings.`,e.ui.items=Kl(e.core.entity.items,!0,`${e.name}:: - this.core.entity.items`)?e.core.entity.items.map(s=>Ui(s)):null,e.scheme&&(e.ui.items=e.ui.items.filter(s=>+s.is_active)),e.ui.map.items=Kn(e.ui.items,"name"),o(!0)});return function(o){return t.apply(this,arguments)}}())}_selectDefaultItem(){this.ui.items[0]&&(this.onActiveItemSelection(this.ui.items[0]),this.dom.active.item&&this.dom.setTimeout("select-default-item",()=>{this.onActiveItemSelection(this.ui.items[0]),this.core.channel.next({source:this.name,target:"PopEntityFieldPreviewComponent",type:"component",name:"update"})},50))}_coreEventHandler(e){this.log.event("_coreEventHandler",e)}_getCfTypeItems(){var e=this;return new Promise(function(){var t=q(function*(o){const s=`FieldGroup${jt(e.core.entity.cf_type_name)}Items`,r=`App.${zt.id}.Resource.${s}`,a=rl(r);if(De(a,!0))return o(a);e.dom.setSubscriber("fetch-field-group-items",gt.doGet(`field-types/${e.core.entity.cf_type_id}`,{with:"items"},1,!1).subscribe(l=>(l=wa(l),Oi(r,btoa(JSON.stringify(l.items))),o(l.items)),()=>o([])))});return function(o){return t.apply(this,arguments)}}())}_buildActiveItems(){this.dom.repo.ui.activeItems={};const e=Y(this.scheme,!0);this.ui.items.map(t=>{if(Y(t,["id","internal_name"])){t.display_name=jt(t.internal_name);let o="value"===t.internal_name||this.srv.field.getViewRequired(this.field.cf_type_name,t.internal_name);t.traits.is_required&&(o=1);let s=+t.is_active;if(e){const r=this.field.items.find(a=>+a.id==+t.id);r&&0==+r.is_active&&(s=0)}o&&(s=1),this.dom.active.items[t.id]=new qr({id:t.id,name:"active",align:"left",disabled:!(this.core.access.can_update&&!o),value:s,facade:!1,patch:o?null:{field:"is_active",metadata:{upsert:1},path:e?`schemes/${this.scheme.id}/fields/${t.cf_id}/items/${t.id}`:`fields/${t.cf_id}/items/${t.id}`,displayIndicator:!0,after:e?function(){var r=q(function*(a,l){});return function(a,l){return r.apply(this,arguments)}}():null}}),this.dom.repo.ui.activeItems[t.id]=+s}})}_buildCustomSettings(){if(this.field.custom_setting&&Y(this.field.custom_setting,["edit_label"])){const e=this.field.custom_setting.edit_label;this.ui.customSetting.edit_label=new qr({id:e.id,align:"left",name:"edit_label",disabled:!0,value:!0,metadata:{setting:e},facade:!0,patch:{field:"",path:"",after:(t,o)=>{this.dom.state.saving=!0,Y(this.scheme,!0)||this.srv.field.storeCustomSetting(t,o).then(s=>{Ne(s,!0)&&(this.ui.customSetting.edit_label.message=s),this.dom.setTimeout("allow-save",()=>{this.dom.state.saving=!1},500)})}}})}}_setHeight(){this.dom.overhead=135,this.dom.setHeight(700,this.dom.overhead)}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Tr))},i.\u0275cmp=Fe({type:i,selectors:[["lib-field-builder-items"]],inputs:{field:"field",scheme:"scheme"},features:[Re],decls:1,vars:1,consts:[["class","entity-field-items-container",3,"height",4,"ngIf"],[1,"entity-field-items-container"],[4,"ngFor","ngForOf"],[1,"entity-field-editor-item-filler"],[1,"entity-field-editor-item","sw-pointer",3,"ngClass","click"],[1,"entity-field-editor-item-active-selector",3,"click"],[3,"config","events",4,"ngIf"],[1,"editor-field-editor-item-label-name"],[1,"entityId-field-editor-item-label-helper"],[3,"config","events"]],template:function(e,t){1&e&&$(0,GSe,3,3,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".entity-field-editor-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.entity-field-editor-header-section[_ngcontent-%COMP%]{position:relative;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;height:30px;clear:both}.entity-field-editor-container[_ngcontent-%COMP%]{min-height:100px;position:relative}.entity-field-editor-border[_ngcontent-%COMP%]{border:1px solid var(--border)}.entity-field-editor-section-header[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;height:40px;padding:0 5px 0 10px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-size:1em;font-weight:700;clear:both;-webkit-box-sizing:border-box;box-sizing:border-box;background:var(--darken02)}.entity-field-editor-section-header-helper-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:1em;z-index:2}.entity-field-editor-active-selection[_ngcontent-%COMP%]{padding-left:0!important;border-left-width:5px;border-left-style:none;border-left-color:var(--primary)}.entity-field-editor-active-config[_ngcontent-%COMP%]{border-left-width:5px;border-left-style:solid;border-left-color:var(--primary)}.entity-field-items-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-width:200px;overflow-x:hidden;overflow-y:auto;border-left:1px solid var(--border);border-bottom:1px solid var(--border)}.entity-field-editor-item[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-box-sizing:border-box;border:1px solid transparent;border-right-color:var(--border);border-bottom:none;height:40px}.entity-field-editor-item-filler[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;border-right:1px solid var(--border)}.entity-field-editor-item[_ngcontent-%COMP%]:hover{background-color:var(--darken02)}.entity-field-editor-item-active-selector[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;width:50px;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding-left:var(--gap-sm)}.editor-field-editor-item-label-name[_ngcontent-%COMP%]{width:75%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.entity-field-editor-item-label-helper[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:10%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-height:40px}.entity-field-editor-item-helper-icon[_ngcontent-%COMP%]{margin-top:10px;margin-right:2px;width:20px;height:20px;font-size:.7em;z-index:2}.entity-field-editor-active-selection[_ngcontent-%COMP%]{border:1px solid var(--border)!important;border-right-color:transparent!important;border-left-color:transparent!important}[_nghost-%COMP%]     .pop-checkbox-container{margin-top:0!important}"]}),i})();function WSe(i,n){if(1&i){const e=Me();x(0,"div",2)(1,"div",3)(2,"div",4),ee(3),C(),x(4,"div",5)(5,"lib-pop-select",6),ie("events",function(o){const r=he(e).index;return pe(I().onEntryTypeChange(r,o))}),C()()(),x(6,"div",3)(7,"div",7)(8,"lib-pop-input",6),ie("events",function(o){const r=he(e).index;return pe(I().onEntryDisplayChange(r,o))}),C()()()()}if(2&i){const e=n.$implicit;_(2),et("max-width",30,"px"),_(1),Mt("",e.increment,"."),_(2),g("config",e.type),_(3),g("config",e.display)}}const USe=function(i){return{"sw-disabled":i}};let ZSe=(()=>{class i extends Yt{constructor(e,t,o){super(),this.el=e,this._domRepo=t,this._fieldRepo=o,this.name="PopEntityFieldValuesComponent",this.srv={field:void 0},this.asset={basePath:void 0,field:void 0,type:void 0,typeOption:void 0},this.dom.configure=()=>new Promise(s=>(this.dom.handler.core=(r,a)=>this._coreEventHandler(a),this.asset.field=Ai(this.core,!0,"Invalid Core")&&Ai(this.core.entity,["id","cf_type_name"],"Invalid Field")?this.core.entity:null,this.asset.type=this.asset.field.cf_type_name,this.asset.typeOption=this.srv.field.getDefaultLabelTypeOptions(),this.asset.basePath=`fields/${this.asset.field.id}/entries`,this.ui.asset={entries:[]},this.dom.session.controls=new Map,s(!0))),this.dom.proceed=()=>new Promise(s=>(this.dom.setTimeout("show-entries",()=>{this._showEntries()},0),s(!0)))}onEntryTypeChange(e,t){if(Ln(0,t)){const o=this.ui.entries[e],s=this.asset.field.entries[e],r=this.dom.session.controls.get(e);s&&r&&(s.type=o.type.control.value,this._updateEntryTypeSession(r.type,s),this.dom.session.controls.set(e,r),this.setDomSession(e,r)),setTimeout(()=>{this._triggerFieldPreviewUpdate()},0)}}onEntryDisplayChange(e,t){if(Ln(0,t)){const o=this.ui.entries[e],s=this.asset.field.entries[e],r=this.dom.session.controls.get(e);s&&r&&(s.name=o.display.control.value,this._updateEntryDisplaySession(r.display,s),this.dom.session.controls.set(e,r),this.setDomSession(e,r))}setTimeout(()=>{this._triggerFieldPreviewUpdate()},0)}_coreEventHandler(e){this.log.info("_coreEventHandler",e),Ln(0,e)&&"PopMinMaxComponent"===e.source&&this.dom.setTimeout("show-entries",()=>{this._showEntries()},250)}_showEntries(){this.dom.state.pending=!0,this._setValueEntries().then(e=>{this._setEntrySessionControls(e).then(()=>{this._setEntries().then(()=>{this.dom.state.pending=!1,setTimeout(()=>{this._triggerFieldPreviewUpdate()},0)})})})}_setValueEntries(){return new Promise(e=>{const t=JSON.parse(JSON.stringify(this.asset.field.entries)),o=t.splice(this.asset.field.multiple_values_min);let s=0;const r=[];for(;s<this.asset.field.multiple_values_min;)(s in t?t[s]:null)||r.push(s),s++;const a=[];if(o.map(l=>{a.push(gt.doDelete(`${this.asset.basePath}/${l.id}`))}),r.map(l=>{const c=this.dom.session.controls.get(l);a.push(gt.doPost(`${this.asset.basePath}`,{name:c?c.display.value:null,type:c?c.type.value:this.asset.type in this.asset.typeOption?this.asset.typeOption[this.asset.type].defaultValue:"n/a"},1,!1))}),!a.length)return e(t);this._makeApiRequests(a).then(l=>e(l))})}_makeApiRequests(e){return new Promise(t=>{Ar(e).subscribe(()=>{gt.doGet(this.asset.basePath).subscribe(o=>{this.asset.field.entries=De(o=o.data?o.data:o,!0)?o:[],this.core.entity.entries=JSON.parse(JSON.stringify(this.asset.field.entries)),t(o)})},o=>{ut.error(this.name,"_makeApiRequests",qn(o)),t([])})})}_setEntrySessionControls(e){return new Promise(t=>{let o=0;for(;o<this.asset.field.multiple_values_min;){const s=o in e?e[o]:null,r=this.dom.session.controls.has(o)?this.dom.session.controls.get(o):{id:s?s.id:null,type:this._getTypeConfig(),display:this._getDisplayConfig(),increment:o+1};this._updateSessionControl(o,r,s),o++}return t(!0)})}_updateSessionControl(e,t,o=null){return t.increment=e+1,t.id=o?o.id:null,this._updateEntryTypeSession(t.type,o),this._updateEntryDisplaySession(t.display,o),this.dom.session.controls.set(e,t),this.setDomSession(e,t),t}_updateEntryTypeSession(e,t=null){e.value=t?t.type:this.asset.type in this.asset.typeOption?this.asset.typeOption[this.asset.type].defaultValue:"n/a",e.control.setValue(e.value,{emitEvent:!1}),e.patch.path=t?`${this.asset.basePath}/${t.id}`:null}_updateEntryDisplaySession(e,t=null){e.value=t?t.name:"",e.control.setValue(e.value,{emitEvent:!1}),e.patch.path=t?`${this.asset.basePath}/${t.id}`:null}setDomSession(e,t){const o=Lt(this.dom.repo,["components",this.name,this.id+"","session"]);Y(o,["controls"])&&o.controls.set(e,t)}_setEntries(){return new Promise(e=>{if(this.ui.entries=[],this.dom.session.controls){let t=0;for(;t<this.asset.field.multiple_values_min;)this.ui.entries.push(this.dom.session.controls.get(t)),t++}return e(!0)})}_getTypeConfig(){let e=!1,t=this.asset.type in this.asset.typeOption?this.asset.typeOption[this.asset.type].options:[];return De(t,!0)||(t=[{value:"n/a",name:"N/A"}],e=!0),new Zi({label:"Type",options:{values:t},disabled:e,patch:{field:"type",path:null}})}_getDisplayConfig(){return new li({label:"Display Name",patch:{field:"name",path:null}})}_triggerFieldPreviewUpdate(){this.core.channel.next({source:this.name,target:"PopEntityFieldPreviewComponent",type:"component",name:"update"})}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Tr))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-field-values"]],features:[Re],decls:3,vars:10,consts:[[1,"entity-field-values-container",3,"ngClass"],["class","entity-field-values-row",4,"ngFor","ngForOf"],[1,"entity-field-values-row"],[1,"entity-field-values-row","sw-flex-item-sm","sw-flex-grow-xs"],[1,"entity-field-values-section","sw-flex-column-break","sw-flex-item-xs","sw-flex-start-center"],[1,"entity-field-values-section","sw-flex-column-break","sw-flex-item-sm","sw-flex-grow-xs"],[1,"sw-flex-item-full",3,"config","events"],[1,"entity-field-values-section","sw-flex-column-break","sw-flex-item-sm","sw-flex-grow-xs","sw-mar-lft-md"]],template:function(e,t){1&e&&(me(0,"mat-divider"),x(1,"div",0),$(2,WSe,9,5,"div",1),C()),2&e&&(et("width",100,"%")("margin-top",5,"px")("margin-bottom",5,"px"),_(1),g("ngClass",qe(8,USe,t.dom.state.pending)),_(1),g("ngForOf",t.ui.entries))},styles:["[_nghost-%COMP%]{width:100%}.entity-field-values-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;max-height:245px;overflow-x:hidden;overflow-y:auto}.entity-field-values-row[_ngcontent-%COMP%]{height:60px;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.entity-field-values-section[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;height:60px}"]}),i})();const KSe=["container"];function YSe(i,n){1&i&&me(0,"mat-progress-bar",26)}function XSe(i,n){1&i&&(x(0,"label",27),ee(1,"SHOW ALL"),C())}const lA=function(i){return{"sw-disabled":i}};function qSe(i,n){if(1&i&&me(0,"lib-pop-switch",28),2&i){const e=I();g("ngClass",qe(2,lA,e.dom.state.pending))("config",e.ui.showAll)}}function JSe(i,n){1&i&&me(0,"lib-pop-search-input",31),2&i&&g("config",I(2).ui.search)}function QSe(i,n){if(1&i&&(x(0,"div",29),$(1,JSe,1,1,"lib-pop-search-input",30),C()),2&i){const e=I();_(1),g("ngIf",e.ui.search)}}function eMe(i,n){if(1&i&&(x(0,"mat-icon",34),ee(1),C()),2&i){const e=I(2);_(1),Je("asc"===e.ui.sort.order?"arrow_downward":"arrow_upward")}}function tMe(i,n){if(1&i){const e=Me();x(0,"div",32),ie("click",function(){const s=he(e).$implicit;return pe(I().onSortEntities(s.key))}),ee(1),$(2,eMe,2,1,"mat-icon",33),C()}if(2&i){const e=n.$implicit,t=I();let o;et("width",null!==(o=e.widthPercent)&&void 0!==o?o:t.dom.width.inner,"%"),_(1),Mt(" ",e.label," "),_(1),g("ngIf",!t.config.sortOrder&&t.ui.sort.col===e.key)}}function iMe(i,n){1&i&&(x(0,"div",35),ee(1,"Sort"),C()),2&i&&et("width",50,"px")}function nMe(i,n){if(1&i&&(x(0,"div",40)(1,"div",41),ee(2),C()()),2&i){const e=n.$implicit,t=I().$implicit,o=I(2);let s;et("width",null!==(s=e.widthPercent)&&void 0!==s?s:o.dom.width.inner,"%"),_(1),g("matTooltip","description"===e.key?t[e.key]:""),_(1),Je(t[e.key])}}const D5=function(i,n,e){return{"sw-disabled":i,"sw-pointer":n,"pem-entity-row-archived":e}};function oMe(i,n){if(1&i){const e=Me();x(0,"div",38),ie("click",function(){const s=he(e).$implicit;return pe(I(2).onSelectEntity(s))}),$(1,nMe,3,4,"div",39),C()}if(2&i){const e=n.$implicit,t=I(2);St("pem-entity-row-active",(null==t.active||null==t.active.entity?null:t.active.entity.id)===e.id),g("ngClass",fs(4,D5,t.dom.state.pending,!t.dom.state.pending,e.archived)),_(1),g("ngForOf",t.config.columns)}}function sMe(i,n){if(1&i&&(x(0,"cdk-virtual-scroll-viewport",36),$(1,oMe,2,8,"div",37),C()),2&i){const e=I();et("height",e.dom.height.scroll,"px"),Ei("minBufferPx",e.dom.height.scroll),Ei("maxBufferPx",e.dom.height.buffer),_(1),g("cdkVirtualForOf",e.ui.entities)}}function rMe(i,n){if(1&i&&(x(0,"div",40)(1,"div",41),ee(2),C()()),2&i){const e=n.$implicit,t=I().$implicit,o=I(2);let s;et("width",null!==(s=e.widthPercent)&&void 0!==s?s:o.dom.width.inner,"%"),_(1),g("matTooltip","description"===e.key?t[e.key]:""),_(1),Je(t[e.key])}}const aMe=function(i){return{"sw-transparent sw-disabled":i}};function lMe(i,n){if(1&i){const e=Me();x(0,"div",44),ie("click",function(){const s=he(e).$implicit;return pe(I(2).onSelectEntity(s))}),$(1,rMe,3,4,"div",39),x(2,"div",45)(3,"i",46),ie("click",function(o){return o.stopPropagation()}),ee(4," drag_handle "),C()()()}if(2&i){const e=n.$implicit,t=I(2);St("pem-entity-row-active",(null==t.active||null==t.active.entity?null:t.active.entity.id)===e.id),g("ngClass",fs(7,D5,t.dom.state.pending,!t.dom.state.pending,e.archived)),_(1),g("ngForOf",t.config.columns),_(1),et("width",50,"px"),_(1),g("ngClass",qe(11,aMe,t.dom.state.sorting))}}function cMe(i,n){if(1&i){const e=Me();x(0,"div",42),ie("cdkDropListDropped",function(o){return he(e),pe(I().onSortEntityDrop(o))}),$(1,lMe,5,13,"div",43),C()}if(2&i){const e=I();_(1),g("ngForOf",e.ui.entities)}}function dMe(i,n){if(1&i){const e=Me();x(0,"button",47),ie("click",function(){return he(e),pe(I().active.entity=null)}),ee(1,"Close"),C()}if(2&i){const e=I();et("margin-top",2,"px"),g("ngClass",qe(3,lA,e.dom.state.pending))}}function uMe(i,n){}const ng=function(i){return{"sw-hidden":i}},hMe=function(i){return{"pem-entity-header-adjustment":i}},pMe=function(i,n){return{"pem-content-right-compact":i,"pem-content-right-default":n}};let cA=(()=>{class i extends Jo{constructor(e,t,o,s){var r;super(),r=this,this.el=e,this._paramsRepo=t,this._dialogRepo=o,this._fieldRepo=s,this.name="PopEntityManagerComponent",this.srv={params:void 0,action:void 0},this.ui={entity:[],entities:[],showAll:void 0,archiveBtn:void 0,restoreBtn:void 0,search:void 0,sort:{order:"asc",col:"name"}},this.asset={entities:[],filter:{column:{},predicate:void 0,search:void 0},routes:void 0},this.active={entity:void 0},this.dom.configure=()=>new Promise(function(){var a=q(function*(l){return r.srv.action=new ia(s,o),yield r._setInitialConfig(),l(!0)});return function(l){return a.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var a=q(function*(l){return yield r._setInitialEntity(),l(!0)});return function(l){return a.apply(this,arguments)}}()),this.dom.handler.bubble=(a,l)=>new Promise(function(){var c=q(function*(A){if(r.log.info("this.dom.handler.bubble",{event:l,update:Ln(0,l)}),Ln(0,l)){r.dom.state.pending=!0;let D=vd(l.config.patch.path,r.core.params);D=vI(D,a.entity);const te={};let se={};if(Ne(l.config.patch.jsonColumn,!0)?(window.console.log("event.config.patch",l.config.patch.jsonColumn),te[l.config.patch.jsonColumn]={},se=te[l.config.patch.jsonColumn]):se=te,l.config.patch&&l.config.patch.metadata)for(const ke in l.config.patch.metadata)se[ke]=l.config.patch.metadata[ke];se[l.config.patch.field??l.config.name]=l.config.control.value;const le=r.config.queryParams??{};if(le.extra="related",Ne(D,!0)){let ke=l.config.patch.attempted?l.response:yield gt.awaitObject(`update-entity-${a.entity.id}`,gt.doPatch(D,se,1,!1),r.dom);(!Y(ke,["id"])||It(r.config.viewDataFactory))&&(ke=yield r.config.viewDataFactory?r.config.viewDataFactory(r.core.entity.id,-1):gt.awaitObject("fetch-entity-row",r.core.repo.getEntity(r.core.entity.id,le),r.dom)),r.core.repo.setCache("entity",String(ke.id),ke,5),r.log.info("Entity Updated",ke),yield r._updateEntityRecord(ke),r.config.resetViewOnUpdated&&(De(r.config.resetViewOnUpdateKeys,!0)?r.config.resetViewOnUpdateKeys.includes(l.config.name)&&(yield r._renderEntityDetails()):yield r._renderEntityDetails())}else r.active.entity=co(r.active.entity,te)}return It(r.config.onEvent)&&(yield r.config.onEvent(r.core,l)),r.dom.state.pending=!1,r.onBubbleEvent(l),A(!0)});return function(A){return c.apply(this,arguments)}}())}onSelectEntity(e){var t=this;return q(function*(){if(t.log.info("onSelectEntity",e),Y(e,!0)&&t.active.entity!==e){t.dom.state.pending=!0;const o=t.asset.entities.find(r=>+r.id==+e.id);t.config.activeId=o.id,t.core.params.entityId=o.id;const s=t.config.queryParams??{};s.extra="related",t.core.repo.clearCache("entity",String(o.id)),t.core.entity=yield t.config.viewDataFactory?t.config.viewDataFactory(o.id,-1):gt.awaitObject("fetch-entity-row",t.core.repo.getEntity(o.id,s),t.dom),t.active.entity=o,It(t.config.onSelect)&&(yield t.config.onSelect(t.core,{source:t.name,type:"component",name:"on-select",config:t.config})),yield t._renderEntityDetails(),t.dom.state.pending=!1}})()}onSortEntityDrop(e){var t=this;return q(function*(){t.dom.state.sorting=!0;const o={};Pc(t.ui.entities,e.previousIndex,e.currentIndex);let s="item";if(Y(t.config.sortStrategy))if(s=t.config.sortStrategy.entityPrefix?t.config.sortStrategy.entityPrefix:"item","entity"===t.config.sortStrategy.level)if(It(t.config.sortStrategy.onSort)){const r={},a=e.currentIndex>e.previousIndex?e.previousIndex:e.currentIndex;t.ui.entities.map((l,c)=>{c>=a&&(r[l.id]=c)}),yield t.config.sortStrategy.onSort(t.core,{source:t.name,type:"component",name:"entity-sort",data:r}),t.dom.state.sorting=!1}else{const r=[],a=t.config.sortStrategy.entityKey??"sort";let l=t.config.sortStrategy.entityPath??t.core.repo.routes.patch.entity.path;l=vd(l,t.core.params);const c=e.currentIndex>e.previousIndex?e.previousIndex:e.currentIndex;t.ui.entities.map((A,D)=>{if(D>=c){const te=vI(l,A),se=Y(t.config.sortStrategy.metadata,!0)?gi(t.config.sortStrategy.metadata):{};se[a]=D,r.push(gt.doPatch(te,se,1,!1))}}),De(r,!0)&&(yield Ar(r).subscribe(()=>{t.dom.state.sorting=!1}))}else t.ui.entities.map((r,a)=>{o[`${s}_${r.id}`]=a}),It(t.config.sortStrategy.onSort)&&(yield t.config.sortStrategy.onSort(t.core,{source:t.name,type:"component",name:"parent-sort",data:o})),t.dom.state.sorting=!1;else{t.ui.entities.map((a,l)=>{o[`${s}_${a.id}`]=l});const r={source:t.name,type:"component",name:"sort",data:o};It(t.config.onEvent)&&(yield t.config.onSort(t.core,r)),t.events.emit(r),t.dom.state.sorting=!1}})()}onAddEntity(){var e=this;return q(function*(){e.log.info("onAddEntity"),e.core.entity=null;const t=Y(e.config.createFields,!0)?gi(e.config.createFields):e.config.createComponent?null:{name:{form:"input",name:"name",label:"Name",required:!0,maxlength:64,noInitialValue:!0}},o={name:"add-entity",header:e.config.createHeader??`Add New ${e.core.repo.getDisplayName("singular")}`,fields:{...t},component:e.config.createComponent??null,layout:"vertical",blockEntity:!0,facade:!0,responseType:"store"};let s=yield e.srv.action.do(e.core,o);Y(s,!0)&&(Y(e.config.createMetadata,!0)&&(s={...s,...e.config.createMetadata}),yield It(e.config.onCreate)?e.config.onCreate(e.core,{source:e.name,type:"component",name:"on-create",data:s}):en(gt.doPost(e.core.params.path,s,1,!1),e.dom,"create-new-entity"),e.log.info("onAddEntity:complete"),yield e._resetEntityList(e.dom.state.showAll?-1:0))})()}onRemoveEntity(){var e=this;return q(function*(){if(!e.dom.state.pending){e.dom.state.pending=!0;const t={source:e.name,type:"component",name:"onRemove",data:e.active.entity};It(e.config.onRemove)&&(yield e.config.onRemove(e.core,t)),e.events.emit(t),yield e._resetEntityList(e.dom.state.showAll?-1:0),e.active.entity=null}})()}onArchiveEntity(){var e=this;return q(function*(){const t=yield gt.awaitObject("archive-entity",e.core.repo.archiveEntity(e.active.entity.id,!0),e.dom);e.active.entity=t,e.dom.state.showAll||(e.active.entity=null),yield e._resetEntityList(e.dom.state.showAll?-1:0),e.log.info("onArchiveEntity",{result:t,entity:e.active.entity})})()}onRestoreEntity(){var e=this;return q(function*(){const t=yield gt.awaitObject("archive-entity",e.core.repo.archiveEntity(e.active.entity.id,!1),e.dom);e.active.entity=t,yield e._resetEntityList(e.dom.state.showAll?-1:0),e.log.info("onRestoreEntity",{result:t,entity:e.active.entity})})()}onBubbleEvent(e){this.events.emit(e)}onApplySearchValue(e){this.dom.setTimeout("apply-search",()=>{this.ui.entities=Ne(e,!0)||Vi(e)?this.asset.entities.filter(t=>ll(this._setUiStructure(t),e)).map(t=>this._setUiStructure(t)):this.asset.entities.map(t=>this._setUiStructure(t)),this.onBubbleEvent({source:this.name,type:"component",name:"search",data:e})},250)}onSortEntities(e){if(!this.config.sortOrder){const t="asc"===this.ui.sort.order?"desc":"asc";this.ui.sort={order:t,col:e},this.dom.state.sorting=!0,this.ui.entities=this.ui.entities.sort(ko(e,t)),this.dom.setTimeout("update-sort-order",()=>{this.dom.state.sorting=!1},0)}}onTrackByForVirtualScroll(e,t){return t?t.id:null}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.id=e.internal_name,e.template.attach(e.container),e.dom.state.showAll=!!kt(e.config.showAll,!1)&&e.config.showAll,e.config.compact&&(e.config.rightRatio=100),yield Promise.all([e._setConfigHooks(),e._setContainerHeights(),e._setColumnWidths(),e._setCoreConfig(),e._setArchiveBtnConfig(),e._setRestoreBtnConfig(),e._setSearchConfig()]),yield e._setShowAllConfig(),yield e._resetEntityList(+e.dom.state.showAll?-1:0),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setConfigHooks(){var e=this;return q(function*(){e.config.updateName=t=>{e.dom.setTimeout("update-params-name",()=>{e.config.params.name=t})}})()}_updateEntityRecord(e){var t=this;return q(function*(){t.core.entity&&+t.core.entity.id==+e.id&&(t.core.entity=co(t.core.entity,e)),t.active.entity&&+t.active.entity.id==+e.id&&(t.active.entity=co(t.active.entity,e));const o=t.asset.entities.findIndex(r=>+r.id==+e.id);o>=0&&(t.asset.entities[o]=co(t.asset.entities[o],e));const s=t.asset.entities.findIndex(r=>+r.id==+e.id);s>=0&&(t.ui.entities[s]=t._setUiStructure(e)),It(t.config.onUpdate)&&(yield t.config.onUpdate(t.core,{source:t.name,type:"component",name:"update-entity",data:e}))})()}_setCoreConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.config.internal_name&&e.srv.params.hasParams(e.internal_name)?(e.core=yield Qn.getCoreConfig(e.config.internal_name),e.config.header||(e.config.header=e.core.params.name)):Y(e.config.params)&&(e.srv.params.hasParams(e.config.params.internal_name)?(e.log.info("Registered entity params: ",e.config.params),e.core=yield Qn.getCoreConfig(e.config.params.internal_name)):(e.srv.params.setEntityParams(e.config.params),e.core=yield Qn.getCoreConfig(e.config.params.internal_name))),e.config.params&&e.config.params.path&&(e.core.params.path=e.config.params.path),e.log.info("_setCoreConfig",e.core),Y(e.core,["repo"])&&(e.asset.routes=Gs(e.core.repo.routes),Y(e.config.routes,!0)&&(e.asset.routes=co(e.asset.routes,e.config.routes))),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setShowAllConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.showAll=new uo({value:e.dom.state.showAll,facade:!0,patch:{field:"",path:"",after:(s,r)=>new Promise(function(){var a=q(function*(l){return e.dom.state.showAll=1==+r.config.control.value,yield e._resetEntityList(e.dom.state.showAll?-1:0),l(!0)});return function(l){return a.apply(this,arguments)}}())}}),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setSearchConfig(){var e=this;return q(function*(){e.ui.search=new Yv({label:"Search",noInitialValue:!0,value:e.dom.session.searchValue,bubble:!0,onEvent:(t,o)=>new Promise(function(){var s=q(function*(r){return"onKeyUp"===o.name&&e.onApplySearchValue(String(o.value)),r(!0)});return function(r){return s.apply(this,arguments)}}())})})()}_renderEntityDetails(){var e=this;return new Promise(function(){var t=q(function*(o){let s=[];if(e.config.status&&s.push({type:py,inputs:{core:e.core,cacheRedirect:!1,blockSession:!0,stretch:!0,system:e.core.entity.system??!1,delete:e.config.remove??null,after:()=>new Promise(function(){var r=q(function*(a){return e.config.remove?yield e.onRemoveEntity():(e.dom.state.showAll||(e.active.entity=null),yield e._resetEntityList(e.dom.state.showAll?-1:0)),a(!0)});return function(a){return r.apply(this,arguments)}}())}}),De(e.config.components,!0)&&e.config.components.map(r=>{if("fielditem"===r.groupType){const a=e.core.entity[r.inputs.config.name];r.inputs.config.value=a,It(r.inputs.config.setValue)?r.inputs.config.setValue(a):r.inputs.config.control.setValue(a)}s.push("component",r)}),It(e.config.setDynamicComponents)){const r=yield e.config.setDynamicComponents(e.core,{source:e.name,name:"dynamic-components",type:"component"});De(r)&&r.map(a=>{a.ancillary=!0,e.log.info("dynamicComponent",a),s.push(a)})}return It(e.config.componentDataSetter)&&(s=e.config.componentDataSetter(e.core,s)),e.template.render(s),e._triggerResetConditions(),o(!0)});return function(o){return t.apply(this,arguments)}}())}_triggerResetConditions(){this.dom.setTimeout("trigger-reset-conditions",()=>{this._resetWhenConditions()},0)}_resetWhenConditions(){this.template&&De(this.template.refs,!0)&&this.template.refs.filter(e=>Y(e,["instance"])&&De(e.instance.when,!0)).map(e=>{e&&Y(e.instance)&&(e.instance.hidden=!Vc(this.core,e.instance.when,this.core))})}_setArchiveBtnConfig(){var e=this;return q(function*(){e.ui.archiveBtn=new Ms({value:"Archive",icon:"archive",size:25,text:14,radius:5,bubble:!0})})()}_setRestoreBtnConfig(){var e=this;return q(function*(){e.ui.restoreBtn=new Ms({value:"Restore",icon:"unarchive",size:25,text:14,radius:5,bubble:!0})})()}_resetEntityList(e){var t=this;return new Promise(function(){var o=q(function*(s){return t.dom.state.pending=!0,yield t._getEntities(e),yield t._setEntityList(),yield t._setInitialEntity(),t.dom.state.pending=!1,s(!0)});return function(s){return o.apply(this,arguments)}}())}_getEntities(e){var t=this;return new Promise(function(){var o=q(function*(s){const r=Y(t.config.queryParams)?gi(t.config.queryParams):{};return r.archived=e,t.asset.entities=yield t.config.dataFactory?t.config.dataFactory(null,t.dom.state.showAll?-1:0):t.core.repo.getEntities(r),t.asset.entities.sort(ko(t.config.sortKey??"name","asc")),s(!0)});return function(s){return o.apply(this,arguments)}}())}_setEntityList(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.entities=e.asset.entities.map(s=>e._setUiStructure(s)),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setUiStructure(e){const t={};return this.config.columns.map(o=>{t[o.key]=e[o.key]??""}),t.archived=!!e.archived,Xr(t.id)&&(t.id=e.id),t}_setContainerHeights(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.setHeight(e.config.height??800,80),e.dom.height.scroll=e.dom.height.inner-(e.config.search?100:50),e.dom.height.buffer=1.5*e.dom.height.scroll,o(!0)});return function(o){return t.apply(this,arguments)}}())}_setColumnWidths(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.width.inner=Math.floor(100/e.config.columns.length),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setInitialEntity(){var e=this;return new Promise(function(){var t=q(function*(o){if(e.config.autoLoad&&!Y(e.active.entity)&&De(e.ui.entities,!0))yield e.onSelectEntity(e.ui.entities[0]);else if(e.config.value){const s=e.ui.entities.find(r=>r.id===e.config.value);Y(s,["id"])&&(yield e.onSelectEntity(s))}return o(!0)});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(Qf),P(Fn),P(hr))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-manager"]],viewQuery:function(e,t){if(1&e&&ht(KSe,7,Ri),2&e){let o;Ke(o=Ye())&&(t.container=o.first)}},inputs:{config:"config"},features:[Re],decls:32,vars:49,consts:[[1,"pem-container"],[1,"pem-header",3,"ngClass"],[1,"pem-loader"],["mode","indeterminate",4,"ngIf"],[1,"sw-header-3"],[1,"pem-button-container",3,"ngClass"],["class","pem-header-label sw-header-7",4,"ngIf"],[3,"ngClass","config",4,"ngIf"],["mat-raised-button","","color","accent",1,"pem-add-btn",3,"ngClass","click"],[1,"pem-wrapper"],[1,"pem-wrapper-left",3,"ngClass"],[1,"pem-sub-header-left"],["class","pem-search-container sw-flex-row",4,"ngIf"],[1,"sw-flex-row",3,"ngClass"],["class","pem-entity-header sw-pointer",3,"width","click",4,"ngFor","ngForOf"],["class","pem-entity-header sw-pointer sw-flex-center",3,"width",4,"ngIf"],[1,"pem-content-left"],["class","pem-content-viewport","itemSize","35",3,"height","minBufferPx","maxBufferPx",4,"ngIf"],["class","pem-content-sort","cdkDropList","",3,"cdkDropListDropped",4,"ngIf"],[1,"pem-wrapper-right",3,"ngClass"],[1,"pem-sub-header-right",3,"ngClass"],[1,"pem-close-icon","sw-pop-icon","sw-pointer",3,"matTooltip","click"],[1,"pem-sub-header-title","sw-header-3"],["class","pem-remove-btn","mat-raised-button","",3,"marginTop","ngClass","click",4,"ngIf"],[1,"pem-content-right",3,"ngClass"],["container",""],["mode","indeterminate"],[1,"pem-header-label","sw-header-7"],[3,"ngClass","config"],[1,"pem-search-container","sw-flex-row"],[3,"config",4,"ngIf"],[3,"config"],[1,"pem-entity-header","sw-pointer",3,"click"],["class","pem-sort-icon",4,"ngIf"],[1,"pem-sort-icon"],[1,"pem-entity-header","sw-pointer","sw-flex-center"],["itemSize","35",1,"pem-content-viewport",3,"minBufferPx","maxBufferPx"],["class","pem-entity-row",3,"pem-entity-row-active","ngClass","click",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"pem-entity-row",3,"ngClass","click"],["class","pem-entity-column",3,"width",4,"ngFor","ngForOf"],[1,"pem-entity-column"],[1,"pem-entity-column-value","pop-text-ellipsis",3,"matTooltip"],["cdkDropList","",1,"pem-content-sort",3,"cdkDropListDropped"],["class","pem-entity-row","cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary",".pem-content-sort",3,"pem-entity-row-active","ngClass","click",4,"ngFor","ngForOf"],["cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary",".pem-content-sort",1,"pem-entity-row",3,"ngClass","click"],[1,"pem-entity-column","sw-flex-center","sw-pointer"],["title","Sort","cdkDragHandle","",1,"material-icons",3,"ngClass","click"],["mat-raised-button","",1,"pem-remove-btn",3,"ngClass","click"]],template:function(e,t){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),$(3,YSe,1,0,"mat-progress-bar",3),C(),x(4,"div",4),ee(5),C(),x(6,"div",5),$(7,XSe,2,0,"label",6),$(8,qSe,1,4,"lib-pop-switch",7),x(9,"button",8),ie("click",function(){return t.onAddEntity()}),ee(10,"ADD"),C()()(),me(11,"div"),x(12,"div",9)(13,"div",10)(14,"div",11),$(15,QSe,2,1,"div",12),x(16,"div",13),$(17,tMe,3,4,"div",14),$(18,iMe,2,2,"div",15),C()(),x(19,"div",16),$(20,sMe,2,5,"cdk-virtual-scroll-viewport",17),$(21,cMe,2,1,"div",18),C()(),x(22,"div",19)(23,"div",20)(24,"i",21),ie("click",function(){return t.active.entity=null}),ee(25,"H"),C(),x(26,"div",22),ee(27),C(),$(28,dMe,2,5,"button",23),C(),x(29,"div",24),$(30,uMe,0,0,"ng-template",null,25,is),C()()()()),2&e&&(et("height",null==t.config?null:t.config.height,"px")("max-width",null==t.config?null:t.config.width,"px"),_(1),g("ngClass",qe(32,ng,(null==t.config?null:t.config.compact)&&t.active.entity)),_(2),g("ngIf",t.dom.state.pending),_(2),Je(t.config.header),_(1),g("ngClass",qe(34,ng,t.config.compact&&t.active.entity)),_(1),g("ngIf",t.config.showAllToggle),_(1),g("ngIf",t.config.showAllToggle&&t.ui.showAll),_(1),et("margin-top",2,"px"),g("ngClass",qe(36,lA,t.dom.state.pending)),_(4),et("width",t.config.leftRatio,"%"),g("ngClass",qe(38,ng,(null==t.config?null:t.config.compact)&&t.active.entity)),_(2),g("ngIf",t.config.search),_(1),g("ngClass",qe(40,hMe,t.config.search)),_(1),g("ngForOf",t.config.columns),_(1),g("ngIf",t.config.sortOrder),_(2),g("ngIf",!t.config.sortOrder&&!t.dom.state.sorting),_(1),g("ngIf",t.config.sortOrder),_(1),et("width",t.config.rightRatio,"%"),g("ngClass",qe(42,ng,!t.active.entity)),_(1),g("ngClass",qe(44,ng,t.config.disableViewHeader)),_(1),g("matTooltip","Close"),_(3),Je(null==t.active.entity?null:t.active.entity.name),_(1),g("ngIf",!(null!=t.config&&t.config.disableCloseBtn||null!=t.config&&t.config.compact)),_(1),et("height",t.dom.height.inner,"px"),g("ngClass",Ii(46,pMe,null==t.config?null:t.config.compact,!(null!=t.config&&t.config.compact))))},styles:[".pem-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;border:1px solid var(--border);-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.pem-header[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;border-bottom:1px solid var(--border);height:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--gap-xs)}.pem-loader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:1px}.pem-header-label[_ngcontent-%COMP%]{position:relative;top:2px;min-width:75px;text-align:right;margin-right:var(--gap-xs)}.pem-header-new[_ngcontent-%COMP%]{color:var(--accent);width:20px;height:20px}.pem-sub-header-left[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;border-bottom:1px solid var(--border);font-weight:600;margin-bottom:2px}.pem-sub-header-right[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;min-height:28px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--gap-xs) 0;padding-top:10px;padding-bottom:8px;border-bottom:1px solid var(--border)}.pem-sub-header-title[_ngcontent-%COMP%]{padding-top:15px;padding-left:20px}.pem-sub-header[_ngcontent-%COMP%]:first-child{border-right:1px solid var(--border)}.pem-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;min-height:40px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;border-top:1px solid var(--border)}.pem-wrapper-left[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:50%;min-height:40px;border-right:1px solid var(--border);-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.pem-wrapper-right[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;min-height:40px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box}.pem-content-left[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.pem-content-right[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;-webkit-box-sizing:border-box;box-sizing:border-box}.pem-content-right-default[_ngcontent-%COMP%]{padding:15px!important}.pem-content-right-compact[_ngcontent-%COMP%]{padding:10px!important}.pem-entity-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;min-height:35px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:var(--gap-xxs) var(--gap-xs)}.pem-entity-header-adjustment[_ngcontent-%COMP%]{padding:0 var(--gap-xxxs)}.pem-search-container[_ngcontent-%COMP%]{padding:var(--gap-xs);border-bottom:1px solid var(--border)}[_nghost-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}.pem-entity-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:35px;padding:var(--gap-xxxs);border-bottom:1px solid var(--border)}.pem-entity-row-active[_ngcontent-%COMP%]{background:var(--background-2)!important}.pem-entity-row-archived[_ngcontent-%COMP%]{opacity:.5!important}.pem-entity-column[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;height:35px;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.pem-entity-column-value[_ngcontent-%COMP%]{padding:var(--gap-xs)}.pem-content-sort[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.pem-button-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pem-add-btn[_ngcontent-%COMP%]{margin-left:var(--gap-m)}.pem-remove-btn[_ngcontent-%COMP%]{position:absolute;top:15px;right:10px;line-height:14px!important;font-size:12px!important;padding:2px!important;height:25px!important}.pem-remove-icon[_ngcontent-%COMP%]{color:var(--accent)}.pem-close-icon[_ngcontent-%COMP%]{position:absolute;top:8px;left:5px;font-size:.6em;color:var(--accent)}.drag[_ngcontent-%COMP%]{cursor:move}[_nghost-%COMP%]     .pop-text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.pem-sort-icon[_ngcontent-%COMP%]{width:14px;height:14px;font-size:14px}[_nghost-%COMP%]     .cdk-drag-preview{background:var(--accent)!important}.cdk-drag-preview[_ngcontent-%COMP%]{background:var(--background-2)!important}[_nghost-%COMP%]     .cdk-drag-placeholder{opacity:.6;background:var(--background-2)!important}"],data:{animation:[oy]}}),i})();class O5{constructor(n){this.archive=!0,this.autoLoad=!1,this.columns=[],this.components=[],this.destroy=!1,this.disableCloseBtn=!1,this.leftRatio=50,this.resetViewOnUpdateKeys=[],this.resetViewOnUpdated=!1,this.rightRatio=50,this.search=!0,this.showAll=!1,this.showAllToggle=!0,this.sortKey="name",this.sortable=!1,this.status=!0,this.width=800;for(const e in n)this[e]=n[e];De(this.columns,!0)||(this.columns=[{key:"name",label:"Name"},{key:"id",label:"ID",widthPercent:5}])}}function mMe(i,n){1&i&&me(0,"div",7)}function fMe(i,n){if(1&i){const e=Me();x(0,"lib-pop-switch",4),ie("events",function(o){return he(e),pe(I(3).onBubbleEvent(o))}),C()}2&i&&g("config",I(3).ui.csOverride)}function gMe(i,n){if(1&i&&(x(0,"div",3),$(1,fMe,1,1,"lib-pop-switch",8),C()),2&i){const e=I(2);_(1),g("ngIf",(null==e.ui.csEnabled||null==e.ui.csEnabled.control?null:e.ui.csEnabled.control.value)&&e.ui.csOverride)}}function _Me(i,n){if(1&i){const e=Me();x(0,"div",3)(1,"lib-pop-select",4),ie("events",function(o){return he(e),pe(I(2).onBubbleEvent(o))}),C()()}if(2&i){const e=I(2);_(1),g("config",e.ui.relatedType)}}function bMe(i,n){1&i&&me(0,"div",7)}function vMe(i,n){if(1&i){const e=Me();x(0,"div",3)(1,"lib-pop-select",4),ie("events",function(o){return he(e),pe(I(2).onBubbleEvent(o))}),C()()}if(2&i){const e=I(2);_(1),g("config",e.ui.relatedRole)}}function yMe(i,n){if(1&i){const e=Me();x(0,"div",1)(1,"div",2)(2,"div",3)(3,"lib-pop-input",4),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C()(),$(4,mMe,1,0,"div",5),$(5,gMe,2,1,"div",6),C(),x(6,"div",2),$(7,_Me,2,1,"div",6),$(8,bMe,1,0,"div",5),$(9,vMe,2,1,"div",6),C()()}if(2&i){const e=I();_(3),g("config",e.ui.name),_(1),g("ngIf",e.ui.allowCsOverride),_(1),g("ngIf",e.ui.allowCsOverride),_(2),g("ngIf",e.ui.relatedType),_(1),g("ngIf",e.ui.relatedRole),_(1),g("ngIf",e.ui.relatedRole)}}let dA=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this._domRepo=t,this.entity_type="profile",this.name="PopEntityRelationTypeComponent",this.srv={},this.asset={roles:[]},this.ui={allowCsOverride:!1,name:void 0,description:void 0,relation:void 0,relatedType:void 0,relatedRole:void 0,csEnabled:void 0,csOverride:void 0},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield o._setCoreResources(),yield o._setInitialConfig(),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){return r(!0)});return function(r){return s.apply(this,arguments)}}())}onBubbleEvent(e){var t=this;return q(function*(){t.events.emit(e),t.dom.state.facade&&t.events.emit({source:t.name,type:"component",name:"validate-form",value:t._checkValidForm()})})()}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.id=e.core.entity?.id??cl(),e.ui.allowCsOverride=1==+e.core.entity?.related_type_cs_override_allowed,e.asset.roles=Lt(e.core,["resource","roles","data_values"],[]),e.dom.state.facade=!e.core?.entity?.id,e.ui.name=new li({name:"name",label:"Name",disabled:e.core.entity?.system,value:e.core.entity?.name??null,validators:[Xt.required],bubble:!0,maxlength:32,hint:!0,pattern:"Default",facade:e.dom.state.facade,patch:e._getFieldPatch("name")}),e.ui.description=new Jr({name:"description",label:"Description",value:e.core.entity?.description??null,maxlength:255,hint:!0,pattern:"Default",facade:e.dom.state.facade,patch:e._getFieldPatch("description")}),e.ui.relation=new Zi({name:"relation",label:"Relation Type",value:e.core.entity?.relation??null,required:!0,validators:[Xt.required],facade:e.dom.state.facade,options:{values:[{value:"hasMany",name:"Has Many"},{value:"hasOne",name:"Has One"}]},patch:e._getFieldPatch("relation")}),Y(e.core.entity,["related_type"])&&(e.ui.relatedType=new Zi({name:"related_type",label:"Related Type",required:!0,value:e.core.entity?.related_type??null,validators:[Xt.required],disabled:+e.core?.entity?.id>0,helpText:"This type reflects the type of entity that should be used to assign to this relation.",facade:e.dom.state.facade,options:{defaultValue:"user",values:[{value:"affiliate",name:"Affiliate"},{value:"customer",name:"Customer"},{value:"profile",name:jt(eo.transform("profile",{type:"entity",arg1:"alias",arg2:"singular"}))},{value:"user",name:"User"}]},patch:e._getFieldPatch("related_type")})),Y(e.core.entity,["related_type"])&&"user"===e.core.entity.related_type&&(e.ui.relatedRole=new Zi({name:"related_type_role_id",label:"Related Role",helpText:"A user will be required to have this role assigned before showing up in the available list to assign this relation.",required:!0,value:e.core.entity?.related_type_role_id??null,validators:[Xt.required],facade:e.dom.state.facade,options:{values:gi(e.asset.roles)},patch:e._getFieldPatch("related_type_role_id")}),e.ui.csEnabled=new uo({name:"customer_support_enabled",label:"CS Enabled",helpText:"Attach Customer Support Profile.",value:e.core.entity?.customer_support_enabled??null,facade:e.dom.state.facade,patch:e._getFieldPatch("customer_support_enabled")}),e.ui.csOverride=new uo({name:"related_type_cs_override",label:"CS Override",helpText:"Override with User's Customer Support Profile.",value:e.core.entity?.related_type_cs_override?+e.core.entity.related_type_cs_override:null,facade:e.dom.state.facade,patch:e._getFieldPatch("related_type_cs_override")})),o(!0)});return function(o){return t.apply(this,arguments)}}())}_getFieldPatch(e){return{field:e,path:`entity-relation-types/${this.core?.entity?.id}`,displayIndicator:!1,after:(t,o)=>{this.core.entity=o.response}}}_checkValidForm(){return this.ui.relatedType.control.value&&this.ui.name.control.value}_setCoreResources(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){return yield Promise.all([e.core.repo.injectResource(e.core,{name:"roles",defaultValue:null,api_path:"/roles",api_params:{selectby:"value,name",aliasby:["id","value"]},api_cache:0}),e.core.repo.injectResource(e.core,{name:"relation_types",defaultValue:null,api_path:"/entity-relation-types",api_params:{entity_type:e.entity_type,selectby:"value,name",aliasby:["id","value"]},api_cache:0})]),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-relation-type"]],inputs:{entity_type:"entity_type"},features:[Re],decls:1,vars:1,consts:[["class","entity-relation-container",4,"ngIf"],[1,"entity-relation-container"],[1,"sw-flex-row"],[1,"sw-flex-column-md"],[3,"config","events"],["class","sw-flex-column-xs sw-width-10",4,"ngIf"],["class","sw-flex-column-md",4,"ngIf"],[1,"sw-flex-column-xs","sw-width-10"],[3,"config","events",4,"ngIf"]],template:function(e,t){1&e&&$(0,yMe,10,6,"div",0),2&e&&g("ngIf",t.dom.state.loaded)}}),i})();function xMe(i,n){1&i&&me(0,"lib-pop-entity-manager",2),2&i&&g("config",I().ui.manager)}let R5=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this._domRepo=t,this.name="PopEntityRelationTypeComponent",this.entity_relation_group_id=0,this.entity_type="profile",this.compact=!1,this.width=1e3,this.height=645,this.header="",this.srv={},this.asset={},this.ui={manager:void 0},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield o._setResources(),yield o._setInitialConfig(),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){return r(!0)});return function(r){return s.apply(this,arguments)}}())}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return yield Promise.all([e._setManagerConfig()]),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setResources(){var e=this;return new Promise(function(){var t=q(function*(o){return Y(e.group,["id","name"])||(e.group=yield en(gt.doGet(`entity-relation-groups/${e.entity_relation_group_id}`,{entity_type:e.entity_type}),e.dom,"fetch-relation-group")),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setManagerConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.manager=new O5({params:{internal_name:"entity_relation_type",path:"/entity-relation-types",name:"Types",access:{can_create:!0,can_read:!0,can_update:!0,can_delete:!0,can_destroy:!0}},header:e.header??e.group.name,width:e.width,sortKey:"sort_order",createHeader:"Create Type",remove:!0,search:!1,compact:e.compact,createComponent:{type:dA},onCreate:(s,r)=>new Promise(function(){var a=q(function*(l){window.console.log("core",e.core);const c=r.data;c.entity_relation_group_id=e.entity_relation_group_id,c.scheme_id=e.core.entity.scheme_id??e.core.entity.id;const A=yield en(gt.doPost("entity-relation-types",c),e.dom,"create-relation-type");return e.log.info("Created Type",A),l(!0)});return function(l){return a.apply(this,arguments)}}()),onRemove:(s,r)=>new Promise(function(){var a=q(function*(l){const c=s.entity.id;if(c){const A=yield en(gt.doDelete(`entity-relation-types/${c}`,{}),e.dom,"delete-relation-type");e.log.info("Deleted Type",A)}return l(!0)});return function(l){return a.apply(this,arguments)}}()),queryParams:{extra:"related",entity_type:e.entity_type,entity_relation_group_id:e.entity_relation_group_id,sortby:"sort_order"},showAll:!1,showAllToggle:!1,sortOrder:!0,sortStrategy:{level:"entity",entityPath:"/entity-relation-types/:id",entityKey:"sort_order"},rightRatio:80,resetViewOnUpdated:!0,resetViewOnUpdateKeys:["customer_support_enabled"],onSelect:(s,r)=>new Promise(function(){var a=q(function*(l){return e.log.info("Type selected",{core:s,event:r}),l(!0)});return function(l){return a.apply(this,arguments)}}()),setDynamicComponents:(s=q(function*(r,a){return new Promise(function(){var l=q(function*(c){return c([{type:dA,inputs:{core:r}},{type:k5,inputs:{core:r,entity_type:"entity_relation_type",entity_id:r.entity.id,when:[[["entity.customer_support_enabled"],["entity.related_type","user"]]]}}])});return function(c){return l.apply(this,arguments)}}())}),function(a,l){return s.apply(this,arguments)}),height:e.height}),o(!0);var s});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-relation-group"]],inputs:{entity_relation_group_id:"entity_relation_group_id",entity_type:"entity_type",group:"group",compact:"compact",width:"width",height:"height",header:"header",core:"core"},features:[Re],decls:2,vars:1,consts:[[1,"perg-container"],[3,"config",4,"ngIf"],[3,"config"]],template:function(e,t){1&e&&(x(0,"div",0),$(1,xMe,1,1,"lib-pop-entity-manager",1),C()),2&e&&(_(1),g("ngIf",t.ui.manager))},styles:[".perg-container[_ngcontent-%COMP%]{width:800px}"]}),i})();function CMe(i,n){if(1&i&&(x(0,"div",1),me(1,"lib-pop-entity-manager",2),C()),2&i){const e=I();_(1),g("config",e.config.groups)}}let wMe=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this._domRepo=t,this.name="PopEntityRelationsComponent",this.srv={},this.asset={},this.ui={},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield o._setInitialConfig(),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){return r(!0)});return function(r){return s.apply(this,arguments)}}())}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return yield e._setManagerConfig(),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setManagerConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.config.groups=new O5({params:{internal_name:"entity_relation_group",path:"/entity-relation-groups",name:"Entity Relation Groups",access:{can_create:!0,can_read:!0,can_update:!0,can_delete:!0,can_destroy:!0}},header:"Relation Groups",queryParams:{extra:"related",entity_type:e.config.entity_type},sortOrder:!0,sortStrategy:{level:"entity",entityPath:"/entity-relation-groups/:id",entityKey:"sort_order",metadata:{entity_type:e.config.entity_type}},width:800,remove:!0,status:!0,showAll:!1,showAllToggle:!1,leftRatio:40,rightRatio:60,createHeader:"Add Group",createFields:{name:{form:"input",required:!0,name:"name",label:"Name",bubble:!0,disabled:!1,hint:!0,maxlength:32,noInitialValue:!0}},createMetadata:{scheme_id:e.config.scheme_id,entity_type:e.config.entity_type},columns:[{key:"name",label:"Name"},{key:"id",label:"ID",widthPercent:5}],disableViewHeader:!1,onSelect:(s,r)=>new Promise(function(){var a=q(function*(l){return l(!0)});return function(l){return a.apply(this,arguments)}}()),setDynamicComponents:(s=q(function*(r,a){return new Promise(function(){var l=q(function*(c){return c([{type:an,inputs:{core:r,config:new li({name:"name",label:"Name",required:!0,maxlength:64,value:r.entity.name,hint:!0,pattern:"Default",disabled:1===r.entity.system,patch:{field:"name",path:`entity-relation-types/${r.entity.id}`,metadata:{entity_type:e.config.entity_type}}})}},{type:Kf,inputs:{height:7}},{type:R5,inputs:{core:r,group:r.entity,entity_relation_group_id:r.entity.id,entity_type:r.entity.entity_type,header:"Types",compact:!0,width:448,height:545}}])});return function(c){return l.apply(this,arguments)}}())}),function(a,l){return s.apply(this,arguments)}),onRemove:(s,r)=>new Promise(function(){var a=q(function*(l){return yield en(gt.doDelete(`/entity-relation-groups/${s.entity.id}`,{entity_type:e.config.entity_type}),e.dom,"delete-relation-group"),l(!0)});return function(l){return a.apply(this,arguments)}}()),height:800}),o(!0);var s});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-relations"]],inputs:{config:"config"},features:[Re],decls:1,vars:1,consts:[["class","per-container",4,"ngIf"],[1,"per-container"],[3,"config"]],template:function(e,t){1&e&&$(0,CMe,2,1,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".per-container[_ngcontent-%COMP%]{width:1000px}"]}),i})();function kMe(i,n){if(1&i){const e=Me();x(0,"lib-pop-table",5,6),ie("events",function(o){return he(e),pe(I(2).onTableEvent(o))}),C()}if(2&i){const e=I(2);g("core",e.core)("config",e.table.config)}}function IMe(i,n){if(1&i&&(x(0,"div",3),$(1,kMe,2,2,"lib-pop-table",4),C()),2&i){const e=I();et("height",e.dom.height.inner,"px"),_(1),g("ngIf",e.table.config)}}function AMe(i,n){if(1&i){const e=Me();x(0,"lib-pop-field-item-group",7),ie("close",function(){return he(e),pe(I().onActionModalClose())}),C()}2&i&&g("config",I().ui.actionModal)}function SMe(i,n){1&i&&me(0,"lib-pop-errors",8),2&i&&g("error",I().dom.error)}let MMe=(()=>{class i extends d5{constructor(e,t,o,s,r){super(e,t,o,r),this.el=e,this.route=t,this._domRepo=o,this._tabRepo=s,this.APP_GLOBAL=r,this.name="PopEntityTabListComponent",this.dom.unload=()=>new Promise(()=>(this.parent&&this.core.repo.clearCache("table",this.parent,this.name),!0))}_setCoreConfig(){var e=this;return new Promise(function(){var t=q(function*(o){e.srv.entity.getCoreConfig(e.internal_name,0).then(s=>(e.core=s,e.parent&&e.core.repo.clearCache("table",e.parent,e.name),e.id=`${e.parent??"sub"}_${e.core.params.internal_name}`,e.log.info("_setCore: initial",s),o(!0)),()=>o(!1))});return function(o){return t.apply(this,arguments)}}())}_setConfig(){var e=this;return new Promise(function(){var t=q(function*(o){if(e.parent&&!e.parentId&&(e.parentId=e.srv.entity.getRouteParentId(e.route)),e.internal_name||(e.internal_name=e.srv.entity.getRouteInternalName(e.route)),"client"===e.parent)e.extension.client_id=+e.parentId;else if("account"===e.parent){const s=e.srv.tab.getCore().entity;e.extension.client_id=+s.client_id,e.extension.account_id=+s.id}return o(!0)});return function(o){return t.apply(this,arguments)}}())}_setSessionSettings(){var e=this;return new Promise(function(){var t=q(function*(o){return e.parent&&(e.asset.tabMenuSessionPath=`Entity.${jt(e.core.params.internal_name)}.Menu`,e.asset.showArchivedSessionPath=`Business.${zt.id}.Entity.${jt(e.parent)}.Table.${jt(e.internal_name)}.showArchived`,e.asset.searchValueSessionPath=`Business.${zt.id}.Entity.${jt(e.parent)}.Table.${jt(e.internal_name)}.searchValue`,e.dom.state.showArchived=Ss(e.asset.showArchivedSessionPath,!1)),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setHeight(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.setHeight(window.innerHeight-200,50),o(!0)});return function(o){return t.apply(this,arguments)}}())}_fetchData(e=!1){var t=this;return e||this.dom.setTimeout("lazy-load-fresh-data",null),new Promise(function(){var o=q(function*(s,r){if(t.dataFactory)t.dataFactory(t.parentId,t.dom.state.showArchived?1:0).then(a=>{a=t._transformData(a),e&&t.table.config&&"function"==typeof t.table.config.updateData&&t.table.config.updateData(a),xn.clear(),s(a)},()=>{r([])});else{let a={};Y(t.core.repo.routes.get.entity.params,!0)&&(a=co(gi(a),t.core.repo.routes.get.entity.params)),t.parent&&t.parentId&&(a[`${t.parent}_id`]=t.parentId),t.core.repo.getEntities({archived:t.dom.state.showArchived?1:0,...a}).then(l=>{l=t._transformData(l),e&&t.table.config&&"function"==typeof t.table.config.updateData&&t.table.config.updateData(l),xn.clear(),s(l)},()=>{r([])})}});return function(s,r){return o.apply(this,arguments)}}())}_transformData(e){return Y(this.asset.fieldKeys,!0)||this._setFieldKeys(e[0]),Y(this.asset.transformations,!0)||this._setFieldTableTransformations(),e=this._prepareTableData(e),this.parent&&this.core.repo.setCache("table",this.parent,e,5),e}_getTableData(e=!1){return new Promise(t=>{this.dom.delay.data&&clearTimeout(this.dom.delay.data),this.parent?this.core.repo.getCache("table",this.parent).then(o=>{if(De(o,!0))return this._triggerDataFetch(0),t({data:o});this._fetchData(!1).then(s=>t({data:s}))}):this._fetchData(!1).then(o=>t({data:o}))})}_configureFilterBar(){var e=this;return new Promise(function(){var t=q(function*(o){return e.srv.filter.setActive(!1),o(!0)});return function(o){return t.apply(this,arguments)}}())}_configureTable(e=!1){var t=this;return new Promise(function(){var o=q(function*(s){return t.table.config?(t.table.config.loading=!0,t._getTableData().then(r=>{De(r.data,!0)&&(t.asset.blueprint=r.data[0]),t.table.config.buttons=t._buildTableButtons(),e?t.table.config.reset(r.data):t.table.config.updateData(r.data),t.table.config.loading=!1,t.dom.state.refresh=!1,t.core.params.refresh=!1})):t._getTableData(e).then(r=>{De(r.data,!0)&&(t.asset.blueprint=r.data[0]),t._getTableInterface().then(()=>{t.asset.tableInterface.paginator=!1,t.table.config=new yd({...t.asset.tableInterface,...r})})}),s(!0)});return function(s){return o.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(kr),P(ii),P(Qo),P("APP_GLOBAL"))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-tab-list"]],inputs:{internal_name:"internal_name",parentId:"parentId",parent:"parent",param:"param",extension:"extension"},features:[Re],decls:3,vars:3,consts:[["class","entity-tab-list-container",3,"height",4,"ngIf"],[3,"config","close",4,"ngIf"],[3,"error",4,"ngIf"],[1,"entity-tab-list-container"],[3,"core","config","events",4,"ngIf"],[3,"core","config","events"],["list",""],[3,"config","close"],[3,"error"]],template:function(e,t){1&e&&($(0,IMe,2,3,"div",0),$(1,AMe,1,1,"lib-pop-field-item-group",1),$(2,SMe,1,1,"lib-pop-errors",2)),2&e&&(g("ngIf",t.dom.state.loaded),_(1),g("ngIf",t.ui.actionModal),_(1),g("ngIf",null==t.dom.error?null:t.dom.error.message))},styles:[".entity-tab-list-container[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:auto;height:auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box}.entity-tab-list-container[_ngcontent-%COMP%]   lib-pop-table[_ngcontent-%COMP%]{position:absolute;inset:0 0 10px}[_nghost-%COMP%]     tr{height:48px;max-height:48px}[_nghost-%COMP%]     th, [_nghost-%COMP%]     td{min-width:50px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;height:48px;max-height:48px}[_nghost-%COMP%]     th>.mat-sort-header-container{display:-webkit-box;display:-ms-flexbox;display:flex;min-width:50px}[_nghost-%COMP%]     .pop-table-button-control{margin-top:6px!important}[_nghost-%COMP%]     .checkbox-column{min-width:25px!important;width:25px!important;padding:0 5px!important;text-align:center!important}[_nghost-%COMP%]     td[class*=fk],   th[class*=fk]{text-align:center!important;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}[_nghost-%COMP%]     th[class*=fk]>.mat-sort-header-container{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;text-align:center!important}[_nghost-%COMP%]     td[class*=id], [_nghost-%COMP%]     th[class*=id]{text-align:center!important;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}[_nghost-%COMP%]     th[class*=active]>.mat-sort-header-container{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;text-align:center!important}[_nghost-%COMP%]     td[class*=active], [_nghost-%COMP%]     th[class*=active]{text-align:center!important;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}[_nghost-%COMP%]     th[class*=system]>.mat-sort-header-container{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;text-align:center!important}[_nghost-%COMP%]     td[class*=system], [_nghost-%COMP%]     th[class*=system]{text-align:center!important;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}[_nghost-%COMP%]     th[class*=id]>.mat-sort-header-container{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;text-align:center!important}[_nghost-%COMP%]     td[class*=-name], [_nghost-%COMP%]     th[class*=-name]{text-align:left!important;padding-left:20px!important;max-width:200px}[_nghost-%COMP%]     th[class*=-name] .mat-sort-header-container{padding-left:0!important;-webkit-box-pack:left!important;-ms-flex-pack:left!important;justify-content:left!important;max-width:500px}[_nghost-%COMP%]     td[class*=-first], [_nghost-%COMP%]     th[class*=-first]{text-align:left!important;padding-left:20px!important}[_nghost-%COMP%]     th[class*=-first] .mat-sort-header-container{min-width:50px!important;padding-left:0!important;-webkit-box-pack:left!important;-ms-flex-pack:left!important;justify-content:left!important}[_nghost-%COMP%]     td[class*=-last], [_nghost-%COMP%]     th[class*=-last]{text-align:left!important;padding-left:20px!important}[_nghost-%COMP%]     th[class*=-last] .mat-sort-header-container{padding-left:0!important;-webkit-box-pack:left!important;-ms-flex-pack:left!important;justify-content:left!important}[_nghost-%COMP%]     td[class*=-display], [_nghost-%COMP%]     th[class*=-display]{text-align:left!important;padding-left:20px!important}[_nghost-%COMP%]     th[class*=-display] .mat-sort-header-container{padding-left:0!important;-webkit-box-pack:left!important;-ms-flex-pack:left!important;justify-content:left!important}[_nghost-%COMP%]     td[class*=-description], [_nghost-%COMP%]     th[class*=-description]{text-align:left!important;padding-left:20px!important;max-width:500px}[_nghost-%COMP%]     th[class*=-description] .mat-sort-header-container{padding-left:0!important;-webkit-box-pack:left!important;-ms-flex-pack:left!important;justify-content:left!important;max-width:500px}[_nghost-%COMP%]     td[class*=email], [_nghost-%COMP%]     th[class*=email]{min-width:50px!important;text-align:left!important;padding-left:20px!important}[_nghost-%COMP%]     th[class*=email] .mat-sort-header-container{min-width:50px!important;padding-left:0!important;-webkit-box-pack:left!important;-ms-flex-pack:left!important;justify-content:left!important}"]}),i})();function PMe(i,n){if(1&i&&(x(0,"div",1)(1,"div",2)(2,"div",3),ee(3),C(),x(4,"div",4),ee(5,"Content"),C()(),x(6,"div",5),me(7,"lib-pop-entity-external-field-mappings",6),C()()),2&i){const e=I();_(1),et("width",60,"%"),_(2),Mt("Subject: ",null==e.template?null:e.template.subject,""),_(1),g("innerHTML",null==e.template?null:e.template.html_content,yr),_(2),et("width",40,"%"),_(1),g("scopeVariables",e.scope_variables)("core",e.core)("config",e.ui.externalFieldManager)}}let F5=(()=>{class i extends Yt{constructor(e,t){var o;super(),o=this,this.el=e,this._domRepo=t,this.name="EmailActionTemplateComponent",this.clearMappings=!1,this.srv={},this.asset={variables:[]},this.ui={externalFieldManager:void 0},this.dom.configure=()=>new Promise(function(){var s=q(function*(r){return yield o._setInitialConfig(),r(!0)});return function(r){return s.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var s=q(function*(r){return o.dom.setTimeout("set-default-variables",q(function*(){De(o.asset.variables,!0)&&It(o.ui.externalFieldManager.setDefaultMappings)&&(o.clearMappings&&It(o.ui.externalFieldManager.clearAllMappings)&&(yield o.ui.externalFieldManager.clearAllMappings()),o.ui.externalFieldManager.setDefaultMappings(o.asset.variables))}),1e3),r(!0)});return function(r){return s.apply(this,arguments)}}())}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.asset.variables=e._getTemplateVariables(e.template.plain_content),yield e._setFieldMappingsConfig(),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setFieldMappingsConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.externalFieldManager=new HV({entity_type:"email_action_configuration",entity_id:e.core.entity.id,scheme_id:e.core.entity.scheme_id,action_id:12,height:700}),o(!0)});return function(o){return t.apply(this,arguments)}}())}_getTemplateVariables(e){let t=[];const o=/{{(.*?)}}/g;let s;for(;null!=(s=o.exec(e));){let r=s[1];if(String(r).includes("equals")){const a=String(r).split(" ");3===a.length&&Ne(a[1],!0)&&t.push(String(a[1]).trim())}else String(r).includes(" ")||String(r).includes("/")||String(r).includes("#")||"else"==String(r)||(r=rn(r,"this.",""),t.push(String(r.trim())))}return t=vu(t),t}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii))},i.\u0275cmp=Fe({type:i,selectors:[["app-email-action-template"]],inputs:{template:"template",scope_variables:"scope_variables",clearMappings:"clearMappings"},features:[Re],decls:1,vars:1,consts:[["class","pseac-template-container sw-flex-row",4,"ngIf"],[1,"pseac-template-container","sw-flex-row"],[1,"sw-flex-column"],[1,"sw-flex-row","sw-box-row"],[1,"sw-flex-row","sw-pad-rgt-md",2,"max-height","925px","overflow-y","auto","color","black",3,"innerHTML"],[1,"sw-flex-column","sw-box","sw-pad"],[3,"scopeVariables","core","config"]],template:function(e,t){1&e&&$(0,PMe,8,9,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".pseac-template-container[_ngcontent-%COMP%]{position:relative;height:900px;width:1400px;-webkit-box-sizing:border-box;box-sizing:border-box;padding:15px}"]}),i})();function TMe(i,n){if(1&i){const e=Me();x(0,"lib-pop-textarea",4),ie("events",function(o){return he(e),pe(I(2).onBubbleEvent(o))}),C()}2&i&&g("config",I(2).ui.description)}function EMe(i,n){if(1&i){const e=Me();x(0,"lib-pop-select",4),ie("events",function(o){return he(e),pe(I(2).onBubbleEvent(o))}),C()}2&i&&g("config",I(2).ui.name)}function DMe(i,n){if(1&i){const e=Me();x(0,"lib-pop-input",4),ie("events",function(o){return he(e),pe(I(2).onBubbleEvent(o))}),C()}if(2&i){const e=I(2);et("margin-width",400,"px"),g("config",e.ui.sendFromNameConfig)}}function OMe(i,n){if(1&i){const e=Me();x(0,"div",1)(1,"div",2),$(2,TMe,1,1,"lib-pop-textarea",3),C(),x(3,"lib-pop-select-filter",4),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C(),$(4,EMe,1,1,"lib-pop-select",3),$(5,DMe,1,3,"lib-pop-input",5),x(6,"lib-pop-field-slider",4),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C(),x(7,"lib-pop-field-slider",4),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C(),x(8,"lib-pop-field-slider",4),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C(),x(9,"lib-pop-field-slider",4),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C(),x(10,"lib-pop-field-slider",4),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C()()}if(2&i){const e=I();_(2),g("ngIf",e.ui.description),_(1),g("config",e.ui.emailProvider),_(1),g("ngIf",e.ui.name),_(1),g("ngIf",!e.ui.form.uses_send_from_setting),_(1),g("config",e.ui.fromSlider),_(1),g("config",e.ui.toSlider),_(1),g("config",e.ui.ccSlider),_(1),g("config",e.ui.bccSlider),_(1),g("config",e.ui.templateSlider)}}let RMe=(()=>{class i extends Yt{constructor(e,t,o,s){var r;super(),r=this,this.el=e,this._domRepo=t,this._dialogRepo=o,this._fieldRepo=s,this.name="PopEntityEmailActionComponent",this.excludedFields=[],this.srv={action:void 0},this.asset={template:void 0,templateVariables:[],templateInitialized:!1,clearTemplateMappings:!1},this.ui={form:{},name:void 0,description:void 0,emailProvider:void 0,sendFromSetting:void 0,sendFromNameConfig:void 0,toSlider:void 0,fromSlider:void 0,ccSlider:void 0,bccSlider:void 0,templateSlider:void 0},this.dom.configure=()=>new Promise(function(){var a=q(function*(l){return r.srv.action=new ia(s,o),yield r._setCoreResources(),yield r._setInitialConfig(),l(!0)});return function(l){return a.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var a=q(function*(l){return r.dom.setTimeout("reset-template-reset-trigger",()=>{r.asset.templateInitialized=!0},500),l(!0)});return function(l){return a.apply(this,arguments)}}())}onBubbleEvent(e){this.log.event("onBubbleEvent",e),this.events.emit(e)}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.state.template=!1,yield e._setScopeVariables(),yield Promise.all([e._setDetailsConfig(),e._setEmailProviderConfig(),e._setEmailSendFromConfig(),e._setFromSliderConfig(),e._setToSliderConfig(),e._setCcSliderConfig(),e._setBccSliderConfig(),e._setTemplateSliderConfig()]),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setDetailsConfig(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){return e.excludedFields.includes("name")||(e.ui.name=new Zi({name:"name",label:"Type",value:e.core.entity.name,patch:e._getPatch("name"),required:!0,bubble:!0,disabled:!1,options:{values:[{value:"Transactional",name:"Transactional"},{value:"Marketing",name:"Marketing"},{value:"Trigger",name:"Trigger"},{value:"Reactivation",name:"Reactivation"},{value:"Content",name:"Content"},{value:"Cold",name:"Cold"}]}})),e.excludedFields.includes("description")||(e.ui.description=new Jr({name:"description",label:"Description",value:e.core.entity.description,hint:!0,maxlength:255,patch:e._getPatch("description")})),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_setScopeVariables(){var e=this;return new Promise(function(){var t=q(function*(o){return De(e.scope_variables)||(e.scope_variables=[]),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setEmailProviderConfig(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){return e.ui.form.bu_agency_configuration_id=e.core.entity.bu_agency_configuration_id,e.ui.emailProvider=new pp({name:"bu_agency_configuration_id",label:"Email Provider",options:{values:e.email_providers??[]},value:e.core.entity.bu_agency_configuration_id,disabled:!0,facade:!1,patch:{field:"bu_agency_configuration_id",path:`email-action-configurations/${e.core.entity.id}`,before:(s,r)=>new Promise(function(){var a=q(function*(l){return l(!0)});return function(l){return a.apply(this,arguments)}}()),after:(s,r)=>{const a=r.config.name;e.ui.form[a]=r.config.control.value,a in e.core.entity&&(e.core.entity[a]=r.config.control.value)}}}),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_setEmailSendFromConfig(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){return e.ui.form.email_send_from_setting_id=e.core.entity.email_send_from_setting_id,e.ui.sendFromSetting=new pp({name:"email_send_from_setting_id",label:"Send From Setting",options:{values:e.email_send_from_settings??[]},value:e.core.entity.email_send_from_setting_id,disabled:!1,patch:e._getPatch("email_send_from_setting_id")}),e.ui.form.from_name=e.core.entity.from_name,e.ui.sendFromNameConfig=new li({name:"from_name",label:"From Name (Custom Name)",value:e.core.entity.from_name,helpText:"Provide a custom name to use as who sent the email.",disabled:!1,maxlength:64,validators:[Xt.required,Xt.maxLength(64)],patch:e._getPatch("from_name")}),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_setFromSliderConfig(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){const s=e.core.entity.uses_send_from_setting,r=e.core.entity.email_send_from_setting_id,a=e.core.entity.from;return e.ui.form.uses_send_from_setting=e.core.entity.uses_send_from_setting,e.ui.form.email_send_from_setting_id=e.core.entity.email_send_from_setting_id,e.ui.fromSlider=new ml({id:"email_from",position:s?"top":"bottom",top:{type:In,inputs:{config:new Zi({form:"select",required:!0,name:"email_send_from_setting_id",label:"From Email (Email Send From Setting)",bubble:!0,disabled:!1,noInitialValue:!0,options:{values:gi(e.email_send_from_settings)},helpText:"Choose a Send From Setting  that will be used to determine the from address for this email",validators:[Xt.required],value:e.core.entity.send_from_setting_id,patch:e._getPatch("email_send_from_setting_id")})}},onSwitch:(l,c)=>new Promise(function(){var A=q(function*(D){const te="top"===c.active?1:0;return e.ui.form.uses_send_from_setting=te,yield en(gt.doPatch(`email-action-configurations/${e.core.entity.id}`,{uses_send_from_setting:te}),e.dom,"update-send-from-condition"),D(!0)});return function(D){return A.apply(this,arguments)}}()),topValue:r,bottom:{type:an,inputs:{config:new li({label:"From Address (Custom Email)",name:"from",helpText:"Provide a custom email address to send this email from.",pattern:"Email",required:!0,value:a,validators:[Xt.email,Xt.required],patch:e._getPatch("from")})}},bottomValue:a}),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_setToSliderConfig(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){const s=e.core.entity.to_uses_scheme_scope_path?1:0;e.ui.form.to_uses_scheme_scope_path=s;const r=e.scope_variables.filter(a=>String(a.attribute).toLowerCase().includes("external_email")).map(a=>({name:a.name,value:a.path}));return e.ui.toSlider=new ml({id:"email_to",position:s?"top":"bottom",top:{type:In,inputs:{config:new Zi({label:"To Email (Variable)",name:"to_scheme_scope_path",helpText:"Select a scope path variable that will be used to determine where to send this email",validators:[Xt.required],value:e.core.entity.to_scheme_scope_path,options:{values:r},patch:e._getPatch("to_scheme_scope_path")})}},onSwitch:(a,l)=>new Promise(function(){var c=q(function*(A){const D="top"===l.active?1:0;return e.ui.form.to_uses_scheme_scope_path=D,yield en(gt.doPatch(`email-action-configurations/${e.core.entity.id}`,{to_uses_scheme_scope_path:D}),e.dom,"update-to-scope-variable-condition"),A(!0)});return function(A){return c.apply(this,arguments)}}()),topValue:e.core.entity.to_scheme_scope_path,bottom:{type:qf,inputs:{config:new Xf({label:"To Email (Custom)",helpText:"Provide a custom email address to send this email to.",pattern:"Email",name:"to",maxlength:50,max:5,value:e.core.entity.to,validators:[Xt.email,Xt.maxLength(50)],patch:e._getPatch("to")})}},bottomValue:e.core.entity.to}),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_setCcSliderConfig(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){const s=e.core.entity.cc_uses_scheme_scope_path?1:0;e.ui.form.cc_uses_scheme_scope_path=s;const r=e.scope_variables.filter(a=>String(a.attribute).toLowerCase().includes("internal_email")).map(a=>({name:a.name,value:a.path}));return e.ui.ccSlider=new ml({id:"email_cc",position:s?"top":"bottom",top:{type:In,inputs:{config:new Zi({label:"CC (Variable)",helpText:"Select a scope path variable that will be used to determine a CC for this email",validators:[Xt.required],name:"cc_scheme_scope_path",value:e.core.entity.cc_scheme_scope_path,options:{values:r},patch:{field:"cc_scheme_scope_path",path:`email-action-configurations/${e.core.entity.id}`,after:(a,l)=>{const c=l.config.name;e.ui.form[c]=l.config.control.value,c in e.core.entity&&(e.ui.form[c]=l.config.control.value,e.core.entity[c]=l.config.control.value)}}})}},topValue:s?e.core.entity.cc:De(r,!0)?r[0].value:null,onSwitch:(a,l)=>new Promise(function(){var c=q(function*(A){const D="top"===l.active?1:0;return e.ui.form.cc_uses_scheme_scope_path=D,yield en(gt.doPatch(`email-action-configurations/${e.core.entity.id}`,{cc_uses_scheme_scope_path:D,cc:null}),e.dom,"update-cc-scope-variable-condition"),A(!0)});return function(A){return c.apply(this,arguments)}}()),bottom:{type:qf,inputs:{config:new Xf({label:"CC (Custom Email)",helpText:"Provide a custom email address to CC on this email.",pattern:"Email",name:"cc",value:e.core.entity.cc,maxlength:50,max:5,validators:[Xt.email,Xt.maxLength(50)],patch:{field:"cc",path:`email-action-configurations/${e.core.entity.id}`,after:(a,l)=>{const c=l.config.name;e.ui.form[c]=l.config.control.value,c in e.core.entity&&(e.ui.form[c]=l.config.control.value,e.core.entity[c]=l.config.control.value)}}})}},bottomValue:s?null:e.core.entity.cc}),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_setBccSliderConfig(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){const s=+e.core.entity.bcc_uses_scheme_scope_path?1:0;e.ui.form.bcc_uses_scheme_scope_path=s;const r=e.scope_variables.filter(a=>String(a.attribute).toLowerCase().includes("internal_email")).map(a=>({name:a.name,value:a.path}));return e.ui.bccSlider=new ml({id:"email_bcc",position:s?"top":"bottom",top:{type:In,inputs:{config:new Zi({label:"BCC (Variable)",helpText:"Select a scope path variable that will be used to determine a BCC for this email",name:"bcc_scheme_scope_path",validators:[Xt.required],value:e.core.entity.bcc_scheme_scope_path,options:{values:r},patch:e._getPatch("bcc_scheme_scope_path")})}},onSwitch:(a,l)=>new Promise(function(){var c=q(function*(A){const D="top"===l.active?1:0;return e.ui.form.bcc_uses_scheme_scope_path=D,yield en(gt.doPatch(`email-action-configurations/${e.core.entity.id}`,{bcc_uses_scheme_scope_path:D,bcc:null}),e.dom,"update-bcc-scope-variable-condition"),A(!0)});return function(A){return c.apply(this,arguments)}}()),topValue:e.core.entity.bcc_scheme_scope_path,bottom:{type:qf,inputs:{config:new Xf({label:"BCC (Custom Email)",name:"bcc",helpText:"Provide a custom email address to CC on this email.",required:!1,maxlength:50,max:5,value:e.core.entity.bcc,validators:[Xt.email,Xt.maxLength(50)],facade:!1,bubble:!0,patch:{field:"bcc",path:`email-action-configurations/${e.core.entity.id}`,after:(a,l)=>{const c=l.config.name;e.ui.form[c]=l.config.control.value,c in e.core.entity&&(e.ui.form[c]=l.config.control.value,e.core.entity[c]=l.config.control.value)}}})}},bottomValue:e.core.entity.bcc}),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_setTemplateSliderConfig(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){if(!e.excludedFields.includes("template")){const s=e.core.entity.uses_template_fk?1:0;e.events.emit({source:e.name,type:"component",name:"show-variables",value:!s});const r=De(e.core.entity.agency_templates,!0)?e.core.entity.agency_templates.map(a=>({name:a.name,value:a.id,status:"Agency"})).sort(ko("name")):[];e.ui.form.uses_template_fk=s,e.ui.form.template_fk=e.core.entity.template_fk,e.ui.templateSlider=new ml({id:"email_template",position:s?"top":"bottom",top:{type:In,inputs:{config:new Zi({label:"Template (Email Provider)",helpText:"Select Template Id to use with this email",name:"template_fk",validators:[Xt.required],value:e.core.entity.template_fk,options:{values:r},patch:e._getPatch("template_fk")})}},mappingText:"Field Variables",previewText:"Configure Template",preview:1==+s,topValue:s?e.core.entity.template_fk:De(r,!0)?r[0].value:null,onEvent:(a,l)=>new Promise(function(){var c=q(function*(A){return Ln(0,l)&&"template_fk"===l.config.name&&e.asset.templateInitialized&&(e.asset.template=null,e.asset.clearTemplateMappings=!0,e.ui.templateSlider.onPreview(a,l)),A(!0)});return function(A){return c.apply(this,arguments)}}()),onSwitch:(a,l)=>new Promise(function(){var c=q(function*(A){e.asset.templateInitialized=!1;const D="top"===l.active?1:0;return l.config.preview=D,l.config.mapping=!1,e.asset.templateInitialized=!1,e.ui.form.uses_template_fk=D,yield en(gt.doPatch(`email-action-configurations/${e.core.entity.id}`,{uses_template_fk:D}),e.dom,"update-template-condition"),e.events.emit({source:e.name,type:"component",name:"show-variables",value:!D}),e.dom.setTimeout("reset-template-reset-trigger",()=>{e.asset.templateInitialized=!0},500),A(!0)});return function(A){return c.apply(this,arguments)}}()),onPreview:(a,l)=>new Promise(function(){var c=q(function*(A){return e.asset.template||(e.asset.template=yield en(gt.doGet(`email-action-configurations/${e.core.entity.id}/template`,{}),e.dom,"update-template-condition")),yield e.srv.action.do(e.core,{name:"template",header:"Configure Template",disableMenu:!0,component:{type:F5,inputs:{template:e.asset.template,scope_variables:e.scope_variables,clearMappings:e.asset.clearTemplateMappings}},facade:!0,ignoreOnEnter:!0,blockEnter:!0},{width:"1650px"}),e.asset.clearTemplateMappings=!1,A(!0)});return function(A){return c.apply(this,arguments)}}()),onMapping:(a,l)=>new Promise(function(){var c=q(function*(A){return yield e.srv.action.do(e.core,{name:"field_mapping",header:"Field Mappings"}),A(!0)});return function(A){return c.apply(this,arguments)}}()),bottom:{type:Aa,inputs:{config:new Jr({label:"Template (Custom Template)",name:"template",helpText:"Provide a custom template to use as content for this email.",height:200,maxlength:2048,hint:!0,value:e.core.entity.template,validators:[Xt.required],patch:e._getPatch("template")})}},bottomValue:e.core.entity.template})}return o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_getPatch(e){return{field:e??"",path:`email-action-configurations/${this.core.entity.id}`,after:(t,o)=>{const s=o.config.name;this.ui.form[s]=o.config.control.value,s in this.core.entity&&(this.ui.form[s]=o.config.control.value,this.core.entity[s]=o.config.control.value)}}}_setCoreResources(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){return e.email_providers||(e.email_providers=yield en(gt.doGet("agency-configurations",{action_id:12,selectby:"value,name",aliasby:["id","value"]}),e.dom,"fetch-agency-configurations")),e.email_send_from_settings||(e.email_send_from_settings=yield en(gt.doGet("email-send-from-settings",{scheme_id:e.scheme_id??e.core.entity.id,selectby:"value,name",aliasby:["id","value"],archived:0}),e.dom,"fetch-send-from-settings")),yield Promise.all([]),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Fn),P(hr))},i.\u0275cmp=Fe({type:i,selectors:[["app-pop-entity-email-action"]],inputs:{excludedFields:"excludedFields",scope_variables:"scope_variables",email_providers:"email_providers",email_send_from_settings:"email_send_from_settings",scheme_id:"scheme_id"},features:[Re],decls:1,vars:1,consts:[["class","pseac-container sw-flex-column",4,"ngIf"],[1,"pseac-container","sw-flex-column"],[1,"pseac-details-container","sw-flex-column"],[3,"config","events",4,"ngIf"],[3,"config","events"],[3,"config","marginWidth","events",4,"ngIf"]],template:function(e,t){1&e&&$(0,OMe,11,9,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".pseac-details-container[_ngcontent-%COMP%]{margin-bottom:var(--sm)}"]}),i})();const L5=function(i){return{"sw-disabled":i}};function FMe(i,n){if(1&i){const e=Me();x(0,"div",9)(1,"div",10)(2,"div",11)(3,"i",12),ee(4," drag_indicator "),C(),x(5,"span"),ee(6),C()()(),x(7,"div",13)(8,"div",14)(9,"lib-pop-select",2),ie("events",function(o){return he(e),pe(I(2).onBubbleEvent(o))}),C()(),x(10,"div",15)(11,"lib-pop-select",2),ie("events",function(o){return he(e),pe(I(2).onBubbleEvent(o))}),C()()(),x(12,"div",10)(13,"i",16),ie("click",function(){const s=he(e).index;return pe(I(2).onRemoveStep(s))}),ee(14,"remove"),C()()()}if(2&i){const e=n.$implicit,t=I(2);_(3),g("ngClass",qe(5,L5,t.dom.state.pending)),_(3),Mt("",e.position,". "),_(3),g("config",e.name),_(2),g("config",e.address),_(2),g("ngClass",qe(7,L5,t.dom.state.pending))}}function LMe(i,n){if(1&i){const e=Me();x(0,"div",1)(1,"lib-pop-input",2),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C(),x(2,"p"),ee(3,"This email will send from first valid email it can find using these steps:"),C(),me(4,"hr"),x(5,"div",3)(6,"label"),ee(7," Steps "),me(8,"lib-pop-field-item-helper",4),C(),x(9,"button",5),ie("click",function(){return he(e),pe(I().onAddStep())}),ee(10,"Add"),C()(),x(11,"div",6),ie("cdkDropListDropped",function(o){return he(e),pe(I().onStepSortDrop(o))}),$(12,FMe,15,9,"div",7),C(),me(13,"hr"),x(14,"label"),ee(15,"Default / Fallback "),me(16,"lib-pop-field-item-helper",4),C(),me(17,"lib-pop-field-item-spacer",8),x(18,"lib-pop-input",2),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C(),me(19,"lib-pop-field-item-spacer",8),x(20,"lib-pop-input",2),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C()()}if(2&i){const e=I();_(1),g("config",e.ui.name),_(7),g("helpText","Add a step if you want to use dynamic scope variables to determine the name and address to send from. If a valid address is found in the step, the address value will be used as the from name if the from name could not be resolved."),_(1),g("disabled",e.dom.state.pending),_(3),g("ngForOf",e.ui.steps),_(4),g("helpText","Set these fields if you want fallback values or if you know the specific values you want to send from."),_(2),g("config",e.ui.defaultFromName),_(2),g("config",e.ui.defaultFromAddress)}}let NMe=(()=>{class i extends Yt{constructor(e,t,o,s){var r;super(),r=this,this.el=e,this._domRepo=t,this._dialogRepo=o,this._fieldRepo=s,this.scope_variables=[],this.name="EmailSendFromSettingComponent",this.srv={action:void 0,dialog:void 0,field:void 0},this.asset={nameValues:[],addressValues:[],usedAddressPathMap:{},usedNamePathMap:{}},this.ui={name:void 0,description:void 0,steps:[],defaultFromAddress:void 0,defaultFromName:void 0},this.srv.action=new ia(s,o),this.dom.configure=()=>new Promise(function(){var a=q(function*(l){return yield r._setInitialConfig(),l(!0)});return function(l){return a.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var a=q(function*(l){return l(!0)});return function(l){return a.apply(this,arguments)}}())}onRemoveStep(e){var t=this;this.log.info("onRemoveStep",{index:e}),this.dom.setTimeout("remove-setting-step",q(function*(){if(!t.dom.state.pending&&e in t.core.entity.steps){t.dom.state.pending=!0;const o=t.core.entity.steps[e];Y(o,["id"])&&(t.core.entity.steps=yield en(gt.doDelete(`email-send-from-settings/${t.core.entity.id}/steps/${o.id}`,{}),t.dom,"delete-step-api"),yield t._setStepConfigs(),t.dom.state.pending=!1,t.onBubbleEvent({source:t.name,type:"component",name:"stepRemoved",data:o}))}}),0)}onAddStep(){var e=this;this.dom.setTimeout("add-setting-step",q(function*(){if(!e.dom.state.pending){e.log.info("onAddStep");const t=e.asset.addressValues.filter(s=>!(s.value in e.asset.usedAddressPathMap)),o=yield e.srv.action.do(e.core,{name:"add_setting_step",header:"Add Step",fields:{from_name:{form:"select-filter",name:"name_scheme_scope_path",label:"From Name",position:"float",required:!0,bubble:!0,options:{values:e.asset.nameValues}},from_address:{form:"select-filter",name:"address_scheme_scope_path",label:"From Address",position:"float",required:!0,bubble:!0,options:{values:t}}},layout:"vertical",facade:!0,responseType:"form"});Y(o,!0)&&(o.sort_order=e.core.entity.steps.length,e.core.entity.steps=yield en(gt.doPost(`email-send-from-settings/${e.core.entity.id}/steps`,o,1,!1),e.dom,"add-new-step"),yield e._setStepConfigs(),e.onBubbleEvent({source:e.name,type:"component",name:"stepAdded",response:o}))}}),0)}onStepSortDrop(e){var t=this;return q(function*(){t.dom.state.pending=!0,Pc(t.ui.steps,e.previousIndex,e.currentIndex);const o=[];t.ui.steps.map((s,r)=>{s.position=r+1,o.push(en(gt.doPatch(`email-send-from-settings/${t.core.entity.id}/steps/${s.id}`,{sort_order:r}),t.dom,`update-set-sort-order-${s.id}`))}),yield Promise.all(o),t.dom.state.pending=!1})()}onBubbleEvent(e){this.log.event("onBubbleEvent",e),this.events.emit(e)}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){const s=["entity_relation_type","customer_support_department","customer_support_profile"];e.asset.nameValues=e.scope_variables.filter(a=>s.includes(a.type)&&"name"===String(a.attribute).toLowerCase()).map(a=>({name:a.name,value:a.path,helpText:a.description})).sort(ko("name"));const r=["entity_relation_type","customer_support_department","customer_support_profile"];e.asset.addressValues=e.scope_variables.filter(a=>r.includes(a.type)&&String(a.attribute).includes("internal_email")).map(a=>({name:a.name,value:a.path,helpText:a.description})).sort(ko("name")),yield Promise.all([e._setNameConfig(),e._setDescriptionConfig(),e._setDefaultConfig(),e._setStepConfigs()]),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setNameConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.name=new li({name:"name",label:"From Email Setting Name",value:e.core.entity.name,maxlength:32,bubble:!0,hint:!0,required:!0,patch:{field:"name",path:`email-send-from-settings/${e.core.entity.id}`,after:(s,r)=>{e.core.entity.name=r.config.control.value}}}),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setDescriptionConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.description=new Jr({name:"description",label:"Notes",maxlength:255,hint:!0}),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setDefaultConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.defaultFromName=new li({name:"default_name",label:"Default From Name",pattern:"AlphaNumeric",bubble:!0,hint:!0,helpText:"If set, this will be the fallback Send from Name attached to the email",maxlength:64}),e.ui.defaultFromAddress=new li({name:"default_address",label:"Default From Address",helpText:"If set, this will be the fallback Send from Address attached to the email",pattern:"Email",bubble:!0,hint:!0,validators:[Xt.email],maxlength:255}),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setStepConfigs(){var e=this;return new Promise(function(){var t=q(function*(o){return e.ui.steps=[],e.asset.usedAddressPathMap=Kn(e.core.entity.steps,"address_scheme_scope_path"),e.asset.usedNamePathMap=Kn(e.core.entity.steps,"name_scheme_scope_path"),e.core.entity.steps.map((s,r)=>{const a=e.asset.nameValues.find(c=>c.value===s.name_scheme_scope_path),l=e.asset.addressValues.find(c=>c.value===s.address_scheme_scope_path);e.ui.steps.push({id:s.id,position:r+1,name:new Zi({form:"select-filter",value:s.name_scheme_scope_path,name:"name_scheme_scope_path",label:"From Name",helpText:a?.helpText,position:"float",required:!0,bubble:!0,minimal:!1,options:{values:gi(e.asset.nameValues)},patch:{field:"name_scheme_scope_path",path:`email-send-from-settings/${e.core.entity.id}/steps/${s.id}`}}),address:new Zi({form:"select-filter",name:"address_scheme_scope_path",value:s.address_scheme_scope_path,label:"From Address",helpText:l?.helpText,position:"float",required:!0,disabled:!0,bubble:!0,minimal:!1,options:{values:gi(e.asset.addressValues)},patch:{field:"address_scheme_scope_path",path:`email-send-from-settings/${e.core.entity.id}/steps/${s.id}`}})})}),e.ui.defaultFromName=new li({name:"default_name",label:"Default From Name",pattern:"AlphaNumeric",value:e.core.entity.default_name,helpText:"If set, this will be the fallback Send from Name attached to the email",maxlength:64,bubble:!0,transformation:"ConvertEmptyToNull",patch:{field:"default_name",path:`email-send-from-settings/${e.core.entity.id}`,after:(s,r)=>{e.core.entity.default_name=r.config.control.value}}}),e.ui.defaultFromAddress=new li({name:"default_address",label:"Default From Address",value:e.core.entity.default_address,helpText:"If set, this will be the fallback Send from Address attached to the email",pattern:"Email",bubble:!0,validators:[Xt.email],maxlength:32,patch:{field:"default_address",path:`email-send-from-settings/${e.core.entity.id}`,after:(s,r)=>{e.core.entity.default_address=r.config.control.value}}}),o(!0)});return function(o){return t.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Fn),P(hr))},i.\u0275cmp=Fe({type:i,selectors:[["lib-email-send-from-setting"]],inputs:{setting:"setting",scope_variables:"scope_variables"},features:[Re],decls:1,vars:1,consts:[["class","esfs-container",4,"ngIf"],[1,"esfs-container"],[3,"config","events"],[1,"sw-flex-row","sw-flex-full-item","sw-relative","sw-flex-between-center"],[3,"helpText"],["color","accent","mat-raised-button","",1,"sw-pointer","esfs-add-btn",3,"disabled","click"],["cdkDropList","",1,"sw-flex-column","esfs-step-container",3,"cdkDropListDropped"],["class","sw-flex-row sw-flex-item-full esfs-step-row sw-mar-top-sm","cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary",".esfs-step-container",4,"ngFor","ngForOf"],["height","5"],["cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary",".esfs-step-container",1,"sw-flex-row","sw-flex-item-full","esfs-step-row","sw-mar-top-sm"],[1,"sw-flex-column","sw-flex-center",2,"width","8%"],[1,"sw-flex-row"],["cdkDragHandle","",1,"material-icons","esfs-drag-handle",3,"ngClass"],[1,"sw-flex-column",2,"width","84%"],[1,"sw-flex-row","sw-flex-item-full"],[1,"sw-flex-row","sw-flex-item-full","sw-mar-top-xs"],["matTooltip","Remove Step","matTooltipShowDelay","1000","matTooltipPosition","left",1,"material-icons","sw-pointer",3,"ngClass","click"]],template:function(e,t){1&e&&$(0,LMe,21,7,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".esfs-step-container[_ngcontent-%COMP%]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:10px 0}.esfs-step-container[_ngcontent-%COMP%]   .sw-flex-row[_ngcontent-%COMP%]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.esfs-step-row[_ngcontent-%COMP%]{margin-bottom:5px}.esfs-drag-handle[_ngcontent-%COMP%]{position:relative;top:-3px;cursor:move}.esfs-drag-handle[_ngcontent-%COMP%]:hover{opacity:.8}.esfs-add-btn[_ngcontent-%COMP%]{position:absolute;right:0;line-height:14px!important;font-size:12px!important;padding:2px!important}[_nghost-%COMP%]     lib-pop-field-item-helper{font-size:.7em;top:2px;position:relative}[_nghost-%COMP%]     .sw-field-item-container{margin-top:0!important}[_nghost-%COMP%]     lib-pop-select{width:100%}[_nghost-%COMP%]     .pop-select-container{margin:0!important}.cdk-drag-preview[_ngcontent-%COMP%]{display:none}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.6;background:rgba(0,0,0,.1);padding-bottom:3px}.cdk-drag-animating[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1),-webkit-transform .25s cubic-bezier(0,0,.2,1)}"]}),i})();function BMe(i,n){if(1&i){const e=Me();x(0,"lib-pop-select",3),ie("events",function(o){return he(e),pe(I(2).onBubbleEvent(o))}),C()}2&i&&g("config",I(2).ui.name)}function VMe(i,n){if(1&i){const e=Me();x(0,"lib-pop-textarea",3),ie("events",function(o){return he(e),pe(I(2).onBubbleEvent(o))}),C()}2&i&&g("config",I(2).ui.description)}function $Me(i,n){if(1&i){const e=Me();x(0,"div",1),$(1,BMe,1,1,"lib-pop-select",2),$(2,VMe,1,1,"lib-pop-textarea",2),x(3,"lib-pop-field-slider",3),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C(),x(4,"lib-pop-field-slider",3),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C(),x(5,"lib-pop-field-slider",3),ie("events",function(o){return he(e),pe(I().onBubbleEvent(o))}),C()()}if(2&i){const e=I();_(1),g("ngIf",e.ui.name),_(1),g("ngIf",e.ui.description),_(1),g("config",e.ui.fromSlider),_(1),g("config",e.ui.toSlider),_(1),g("config",e.ui.templateSlider)}}let HMe=(()=>{class i extends Yt{constructor(e,t,o,s){var r;super(),r=this,this.el=e,this._domRepo=t,this._dialogRepo=o,this._fieldRepo=s,this.name="PopEntityTextActionComponent",this.excludedFields=[],this.srv={action:void 0},this.asset={template:void 0,templateVariables:[],templateInitialized:!1,clearTemplateMappings:!1},this.ui={form:{},name:void 0,description:void 0,textProvider:void 0,sendFromSetting:void 0,sendFromNameConfig:void 0,toSlider:void 0,fromSlider:void 0,ccSlider:void 0,bccSlider:void 0,templateSlider:void 0},this.dom.configure=()=>new Promise(function(){var a=q(function*(l){return r.srv.action=new ia(s,o),yield r._setCoreResources(),yield r._setInitialConfig(),l(!0)});return function(l){return a.apply(this,arguments)}}()),this.dom.proceed=()=>new Promise(function(){var a=q(function*(l){return r.dom.setTimeout("reset-template-reset-trigger",()=>{r.asset.templateInitialized=!0},500),l(!0)});return function(l){return a.apply(this,arguments)}}())}onBubbleEvent(e){this.log.event("onBubbleEvent",e),this.events.emit(e)}_setInitialConfig(){var e=this;return new Promise(function(){var t=q(function*(o){return e.dom.state.template=!1,yield Promise.all([e._setDetailsConfig(),e._setTextProviderConfig(),e._setFromSliderConfig(),e._setToSliderConfig(),e._setTemplateSliderConfig()]),o(!0)});return function(o){return t.apply(this,arguments)}}())}_setDetailsConfig(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){return e.excludedFields.includes("name")||(e.ui.name=new Zi({name:"name",label:"Type",value:e.core.entity.name,patch:e._getPatch("name"),required:!0,bubble:!0,disabled:!1,options:{values:[{value:"Transactional",name:"Transactional"},{value:"Marketing",name:"Marketing"},{value:"Trigger",name:"Trigger"},{value:"Reactivation",name:"Reactivation"},{value:"Content",name:"Content"},{value:"Cold",name:"Cold"}]}})),e.excludedFields.includes("description")||(e.ui.description=new Jr({name:"description",label:"Description",value:e.core.entity.description,hint:!0,maxlength:255,patch:e._getPatch("description")})),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_setTextProviderConfig(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){return e.ui.form.bu_agency_configuration_id=e.core.entity.bu_agency_configuration_id,e.ui.textProvider=new pp({name:"bu_agency_configuration_id",label:"Text Provider",options:{values:e.text_providers??[]},value:e.core.entity.bu_agency_configuration_id,disabled:!0,facade:!1,patch:{field:"bu_agency_configuration_id",path:`text-action-configurations/${e.core.entity.id}`,before:(s,r)=>new Promise(function(){var a=q(function*(l){return l(!0)});return function(l){return a.apply(this,arguments)}}()),after:(s,r)=>{const a=r.config.name;e.ui.form[a]=r.config.control.value,a in e.core.entity&&(e.core.entity[a]=r.config.control.value)}}}),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_setFromSliderConfig(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){const s=!e.core.entity.from_uses_scheme_scope_path,r=e.core.entity.from_phone_number_id,a=e.core.entity.from_scheme_scope_path;e.ui.form.from_uses_scheme_scope_path=e.core.entity.from_uses_scheme_scope_path,e.ui.form.from_phone_number_id=e.core.entity.from_phone_number_id;const l=e.scope_variables.filter(c=>String(c.attribute).toLowerCase().includes("internal_text")).map(c=>({name:c.name,value:c.path}));return e.ui.fromSlider=new ml({id:"text_from",position:s?"top":"bottom",top:{type:In,inputs:{config:new Zi({form:"select",required:!0,name:"from_phone_number_id",label:"Send From Number (Internal Number)",bubble:!0,disabled:!1,noInitialValue:!0,options:{values:gi(e.phone_numbers)},helpText:"Choose a phone number to send this text from.",validators:[Xt.required],value:e.core.entity.from_phone_number_id,patch:e._getPatch("from_phone_number_id")})}},onSwitch:(c,A)=>new Promise(function(){var D=q(function*(te){const se="top"===A.active?1:0;return e.ui.form.from_uses_scheme_scope_path=!se,yield en(gt.doPatch(`text-action-configurations/${e.core.entity.id}`,{from_uses_scheme_scope_path:!se}),e.dom,"update-send-from-condition"),te(!0)});return function(te){return D.apply(this,arguments)}}()),topValue:r,bottom:{type:In,inputs:{config:new Zi({label:"Send From Number (Variable)",name:"from_scheme_scope_path",helpText:"Select a scope path variable that will be used to determine the number to send the text.",validators:[Xt.required],value:e.core.entity.from_scheme_scope_path,options:{values:l},patch:e._getPatch("from_scheme_scope_path")})}},bottomValue:a}),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_setToSliderConfig(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){const s=e.core.entity.to_uses_scheme_scope_path?1:0;e.ui.form.to_uses_scheme_scope_path=s;const r=e.scope_variables.filter(a=>String(a.attribute).toLowerCase().includes("external_phone")||String(a.attribute).toLowerCase().includes("external_text")).map(a=>({name:a.name,value:a.path}));return e.ui.toSlider=new ml({id:"text_to",position:s?"top":"bottom",top:{type:In,inputs:{config:new Zi({label:"To Phone Number (Variable)",name:"to_scheme_scope_path",helpText:"Select a scope path variable that will be used to determine where to send this text.",validators:[Xt.required],value:e.core.entity.to_scheme_scope_path,options:{values:r},patch:e._getPatch("to_scheme_scope_path")})}},onSwitch:(a,l)=>new Promise(function(){var c=q(function*(A){const D="top"===l.active?1:0;return e.ui.form.to_uses_scheme_scope_path=D,yield en(gt.doPatch(`text-action-configurations/${e.core.entity.id}`,{to_uses_scheme_scope_path:D}),e.dom,"update-to-scope-variable-condition"),A(!0)});return function(A){return c.apply(this,arguments)}}()),topValue:e.core.entity.to_scheme_scope_path,bottom:{type:qf,inputs:{config:new Xf({label:"To Phone Number (Custom)",helpText:"Provide a custom phone number to send this text to.",mask:"(000) 000-0000",name:"to",max:5,value:e.core.entity.to,patch:e._getPatch("to")})}},bottomValue:e.core.entity.to}),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_setTemplateSliderConfig(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){if(!e.excludedFields.includes("template")){const s=e.core.entity.uses_scheme_text_template?1:0;e.events.emit({source:e.name,type:"component",name:"show-variables",value:!s});const r=e.text_templates.map(a=>({name:a.name,value:a.id}));e.ui.form.uses_scheme_text_template=s,e.ui.form.scheme_text_template_id=e.core.entity.scheme_text_template_id,e.ui.form.template=e.core.entity.template,e.ui.templateSlider=new ml({id:"text_template",position:s?"top":"bottom",top:{type:In,inputs:{config:new Zi({label:"Scheme Text Template",helpText:"Select Template Id to use with this text.",name:"scheme_text_template_id",validators:[Xt.required],value:e.core.entity.scheme_text_template_id,options:{values:r},patch:e._getPatch("scheme_text_template_id")})}},mappingText:"Scope Path Variables",preview:1==+s,topValue:s?e.core.entity.scheme_text_template_id:De(r,!0)?r[0].value:null,onEvent:(a,l)=>new Promise(function(){var c=q(function*(A){return e.log.info("text_template",{core:a,event:l}),A(!0)});return function(A){return c.apply(this,arguments)}}()),onSwitch:(a,l)=>new Promise(function(){var c=q(function*(A){e.asset.templateInitialized=!1;const D="top"===l.active?1:0;return l.config.preview=D,l.config.mapping=!1,e.asset.templateInitialized=!1,e.ui.form.uses_scheme_text_template=D,yield en(gt.doPatch(`text-action-configurations/${e.core.entity.id}`,{uses_scheme_text_template:D}),e.dom,"update-template-condition"),e.events.emit({source:e.name,type:"component",name:"show-variables",value:!D}),e.dom.setTimeout("reset-template-reset-trigger",()=>{e.asset.templateInitialized=!0},500),A(!0)});return function(A){return c.apply(this,arguments)}}()),onPreview:(a,l)=>new Promise(function(){var c=q(function*(A){if(e.log.info("onPreview",{_core:a,_event:l}),e.core.entity.scheme_text_template_id){const D=e.text_templates.find(te=>+te.id==+e.core.entity.scheme_text_template_id);D&&(yield e.srv.action.do(e.core,{name:"show-text-template",header:D.name,disableMenu:!0,component:{type:Aa,inputs:{config:new Jr({label:"",height:400,readonly:!0,value:D.template})}},facade:!0,ignoreOnEnter:!0,blockEnter:!0},{width:"400"}))}return A(!0)});return function(A){return c.apply(this,arguments)}}()),onMapping:(a,l)=>new Promise(function(){var c=q(function*(A){return e.log.info("onMapping",{_core:a,_event:l}),A(!0)});return function(A){return c.apply(this,arguments)}}()),bottom:{type:Aa,inputs:{config:new Jr({label:"Template (Custom Template)",name:"template",helpText:"Provide a custom template to use as content for this text.",height:200,maxlength:255,hint:!0,value:e.core.entity.template,validators:[Xt.required],bubble:!0,onEvent:(a,l)=>new Promise(function(){var c=q(function*(A){return l.config.control.value&&(!e._isValidDynamicTextTemplate(l.config.control.value)||!e._isValidVariablePath(l.config.control.value))&&(l.config.message="Invalid Template Variable"),A(!0)});return function(A){return c.apply(this,arguments)}}()),patch:{field:"template",path:`text-action-configurations/${e.core.entity.id}`,before:(a,l)=>new Promise(function(){var c=q(function*(A){return!l.config.control.value||e._isValidDynamicTextTemplate(l.config.control.value)&&e._isValidVariablePath(l.config.control.value)?A(!0):(l.config.message="Invalid Template Variable",A(!1))});return function(A){return c.apply(this,arguments)}}()),after:(a,l)=>{const c=l.config.name,A=l.config.control.value;e.ui.form[c]=A,c in e.core.entity&&(e.ui.form[c]=A,e.core.entity[c]=A),A&&(e._isValidDynamicTextTemplate(l.config.control.value)&&e._isValidVariablePath(l.config.control.value)?e.onBubbleEvent(l):l.config.message="Invalid Template Variable")}}})}},bottomValue:e.core.entity.template})}return o(!0)});return function(o){return t.apply(this,arguments)}}())})()}_getPatch(e){return{field:e??"",path:`text-action-configurations/${this.core.entity.id}`,after:(t,o)=>{const s=o.config.name;this.ui.form[s]=o.config.control.value,s in this.core.entity&&(this.ui.form[s]=o.config.control.value,this.core.entity[s]=o.config.control.value)}}}_isValidDynamicTextTemplate(e){const t=[];for(let o=0;o<e.length;o++)if("{{"===e.substring(o,o+2))t.push(e[o]),o++;else if("}}"===e.substring(o,o+2)){if(0===t.length)return!1;t.pop(),o++}else if("{"===e[o]||"}"===e[o])return!1;return 0===t.length}_isValidVariablePath(e){let t=!0;const o=[],s=/{{(.*?)}}/g;let r;for(;null!=(r=s.exec(e));)o.push(r[0]);const a=new Set([...this.scope_variables.map(l=>`{{${l.path}}}`)]);if(De(o,!0))for(const l of o)if(!a.has(l)){t=!1;break}return t}_setCoreResources(){var e=this;return q(function*(){return new Promise(function(){var t=q(function*(o){if(e.text_providers||(e.text_providers=yield en(gt.doGet("agency-configurations",{action_id:10,selectby:"value,name",aliasby:["id","value"]}),e.dom,"fetch-agency-configurations")),!e.scope_variables||!e.text_templates){const s=yield en(gt.doGet(`schemes/${e.scheme_id}`,{is_text:1,extra:"scope_variables,text_templates",archived:0}),e.dom,"fetch-scope-variables");e.scope_variables=s.scope_variables,e.text_templates=s.text_templates}return e.phone_numbers||(e.phone_numbers=yield en(gt.doGet("phone-numbers",{is_text:1,extra:"texting_connection",extractby:[["texting_connection","bu_agency_configuration_id"]],where:["bu_agency_configuration_id","<>",null],selectby:"value,name",aliasby:["id","value"],archived:0}),e.dom,"fetch-phone-numbers")),e.time_zones||(e.time_zones=yield en(gt.doGet("records/model/timezone",{selectby:"value,name",aliasby:["id","value"]}),e.dom,"fetch-phone-numbers")),o(!0)});return function(o){return t.apply(this,arguments)}}())})()}}return i.\u0275fac=function(e){return new(e||i)(P($e),P(ii),P(Fn),P(hr))},i.\u0275cmp=Fe({type:i,selectors:[["lib-pop-entity-text-action"]],inputs:{excludedFields:"excludedFields",scope_variables:"scope_variables",text_providers:"text_providers",text_templates:"text_templates",phone_numbers:"phone_numbers",time_zones:"time_zones",scheme_id:"scheme_id"},features:[Re],decls:1,vars:1,consts:[["class","peta-container sw-flex-column",4,"ngIf"],[1,"peta-container","sw-flex-column"],[3,"config","events",4,"ngIf"],[3,"config","events"]],template:function(e,t){1&e&&$(0,$Me,6,5,"div",0),2&e&&g("ngIf",t.dom.state.loaded)},styles:[".peta-details-container[_ngcontent-%COMP%]{margin-bottom:var(--sm)}"]}),i})(),zMe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Gi,Nm,Ul,rd,Ol,Hl,el,od,ur,Vk,tA,zc,nA,ea,cy,QV,oq,ly,o5,a5,tf,yk]}),i})();Tt(h5,[Gt,ai,ct,wr,pa,z1,Pn,Tc,Zl,Ec,an,QIe,nAe,IAe],[]),Tt(v5,[ct,Pn,an],[]),Tt(p5,[an],[]),Tt(x5,[ct,Pn,ay],[]),Tt(oA,[Zf],[]),Tt(f5,[Zf],[]),Tt(C5,[ct,In],[]),Tt(g5,[In],[]),Tt(BAe,[xfe],[]),Tt(hI,[Ws],[]),Tt(_5,[Ws],[]),Tt(w5,[Aa],[]),Tt(b5,[Aa],[]),Tt(ZV,[ct,Pr,an,In,H4,Ts],[]),Tt(UIe,[Gt,ai,ct,ks,js,$o,Gl,Ib,ad,z1,$1,H1,wi,Zr,ws,K1,Hc],[]),Tt(kV,[Gt,ai,ct,Zr,ws,Pr,an,In,pl,fy],[]),Tt(KV,[ct,wi,ws,pv,mv,wf,Xl,ya],[]),Tt(RAe,[Gt,ai,ct,kn,Zr,Sf,Mf,Pn,Tc,Zl,Ec,Bk,an,Hc],[]),Tt(BV,[ct,wi,ws,ku,Xl],[]),Tt(MV,[ai,ct,Hc,pl],[]),Tt(k5,[ct,Kf,an,In,Aa,my],[]),Tt(RV,[ai,ct,V4,pl],[]),Tt(vV,[ai,ct,Y4],[]),Tt(yV,[ai,ct,Pr,an,pl],[]),Tt(sA,[Gt,ai,ct,kn,wi,ws,Pn,Tc,Zl,hl,an,my],[]),Tt(GV,[ct,Kf,Ws,eg,py],[]),Tt(WV,[ct,hy],[]),Tt(ISe,[Gt,ai,ct,wi,Zr,Pn,Tc,Zl,Ec,an,Ws],[]),Tt(E5,[Gt,ai,ct,wi,Zr,ws,Pn,Tc,Zl,Ec,Bk,Pr,an,Hc],[]),Tt(M5,[ct,an,LI,Aa,EI],[]),Tt(T5,[Gt,ai,ct,Pn,an],[]),Tt(aA,[Gt,ai,ct,Hc],[]),Tt(aA,[Gt,ai,ct,Hc],[]),Tt(JI,[Gt,ct,E5,aA],[]),Tt(ZSe,[Gt,ai,Zr,an,In],[]),Tt(YV,[Gt,ct,wi,ws,ku,Xl,ya],[]),Tt(IV,[ai,ct,wr,pa,an,ay,Aa,pl],[]),Tt(d5,[ct,vh,ku,Ts,Xl],[]),Tt(cA,[Gt,ai,ct,kn,wi,ws,Pn,Tc,Zl,Ec,Ws,NI,DR,FR,Eb],[]),Tt(bV,[Gt,ai,ct,Pr,an,pl,fy],[]),Tt(xV,[Gt,ai,ct,wi,Zr,Pr,an,In,Hc,fy],[]),Tt(NV,[ct,kn,Xl],[]),Tt(SV,[ai,ct,Zf,pl],[]),Tt(R5,[ct,cA],[]),Tt(dA,[ct,an,In,Ws],[]),Tt(wMe,[ct,cA],[]),Tt($V,[ai,wi,aB,h5],[]),Tt(VV,[Gt,ai,ct,wr,pa,ks,nu,Ac,Wr,$s,$o,Gl,z1,$1,H1,wi,Pr,Hc],[]),Tt(jV,[ct,Ts,hy],[]),Tt(zV,[ct,sA,eg],[]),Tt(QI,[Gt,ct,kn,wi,Zr,an,Ws,Ts],[]),Tt(AV,[ai,ct,wr,pa,In,Zf,pl],[]),Tt(EV,[ai,ct,sy,pl],[]),Tt(OV,[Gt,ai,ct,Zr,Pr,an,fy],[]),Tt(py,[Gt,ct,Pn,ku,Pr,Ws],[]),Tt(PV,[ai,ct,Ws,pl],[]),Tt(hy,[Gt,ai,ct,ws,ku,JIe],[]),Tt(MMe,[ct,ku,iA,Xl],[]),Tt(XI,[ct,ku,iA,Ts],[]),Tt(DV,[ai,ct,Aa,pl],[]),Tt(qV,[ct,wi,ws,pv,mv,wf,Xl,ya],[]),Tt(XV,[ct,Pr,an,In,H4,Ts],[]),Tt(RMe,[ct,an,In,Yf,Aa,my],[]),Tt(F5,[ct,sA],[]),Tt(NMe,[Gt,ai,ct,kn,Pn,Tc,Zl,Ec,Ia,Kf,an,In],[]),Tt(HMe,[ct,In,Aa,my],[]);let N5=(()=>{class i{constructor(){this.toppingList=[{value:"tomato",name:"Tomato"},{value:"onions",name:"Onions"},{value:"olives",name:"Olives"},{value:"extra_cheese",name:"Extra cheese"},{value:"mushrooms",name:"Mushroom"},{value:"sausage",name:"Sausage"},{value:"pepperoni",name:"Pepperoni"},{value:"bacon",name:"Bacon",disabled:!0},{value:"cheddar",name:"Cheddar"},{value:"swiss",name:"Swiss"},{value:"provolone",name:"Provolone"}],this.inputBasic=new li({label:"Full Name",hintText:"Hint Text",hint:!0,required:!0}),this.basic2=new Zi({value:"onions",disabled:!1,label:"Basic Single Select",createTag:!0,createNewActions:["edit"],options:{values:this.toppingList}})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["app-sub"]],decls:4,vars:2,consts:[[3,"config"]],template:function(e,t){1&e&&(x(0,"p"),ee(1,"sub works!"),C(),me(2,"lib-pop-input",0)(3,"lib-pop-select",0)),2&e&&(_(2),g("config",t.inputBasic),_(1),g("config",t.basic2))},dependencies:[an,In]}),i})(),uA=(()=>{class i{constructor(){this.inputBasic=new li({label:"Full Name",hintText:"Hint Text",hint:!0,required:!0}),this.roles=[{id:"1",name:"Administrator"},{id:"2",name:"Supervisor"},{id:"3",name:"Client",group:"test"},{id:"4",name:"Manager"},{id:"5",name:"Agent"},{id:"6",name:"Campaign Manager"},{id:"7",name:"Agent Manger"}],this.config=new d4({options:{values:as(this.roles,{disabled:[2,3]})},assigned:[],display:"Roles",displayTitle:!0,displayHelper:!0,displayCircleID:!1,helpText:"You have no roles.",assignAll:!1,removeAll:!1,assignedLabel:"Roles",optionsLabel:"Available",route:"modules-overview",facade:!0,patch:{path:"",field:"role_fk",metadata:{roles:1}},filter:!0,height:600})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["app-hello-world"]],decls:4,vars:1,consts:[[3,"config"]],template:function(e,t){1&e&&(x(0,"p"),ee(1,"hello-world works!"),C(),me(2,"lib-pop-input",0)(3,"app-sub")),2&e&&(_(2),g("config",t.inputBasic))},dependencies:[an,N5],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),i})();const jMe=[{path:"hello",component:uA}];let GMe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({imports:[Ol.forRoot(jMe),Ol]}),i})(),WMe=(()=>{class i{constructor(){this.title="angular-web-component"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Fe({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&me(0,"router-outlet")},dependencies:[Am]}),i})();const by={schedule(i,n){const e=setTimeout(i,n);return()=>clearTimeout(e)},scheduleBeforeRender(i){if(typeof window>"u")return by.schedule(i,0);if(typeof window.requestAnimationFrame>"u")return by.schedule(i,16);const n=window.requestAnimationFrame(i);return()=>window.cancelAnimationFrame(n)}};let hA;function ePe(i,n,e){let t=e;return function ZMe(i){return!!i&&i.nodeType===Node.ELEMENT_NODE}(i)&&n.some((o,s)=>!("*"===o||!function YMe(i,n){if(!hA){const e=Element.prototype;hA=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return i.nodeType===Node.ELEMENT_NODE&&hA.call(i,n)}(i,o)||(t=s,0))),t}class iPe{constructor(n,e){this.componentFactory=e.get(Va).resolveComponentFactory(n)}create(n){return new nPe(this.componentFactory,n)}}class nPe{constructor(n,e){this.componentFactory=n,this.injector=e,this.eventEmitters=new MR(1),this.events=this.eventEmitters.pipe(Po(t=>Yi(...t))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:t})=>t)),this.ngZone=this.injector.get(Bt),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(n){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(n)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=by.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(n){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(n):this.componentRef.instance[n])}setInputValue(n,e){this.runInZone(()=>{null!==this.componentRef?function XMe(i,n){return i===n||i!=i&&n!=n}(e,this.getInputValue(n))&&(void 0!==e||!this.unchangedInputs.has(n))||(this.recordInputChange(n,e),this.unchangedInputs.delete(n),this.hasInputChanges=!0,this.componentRef.instance[n]=e,this.scheduleDetectChanges()):this.initialInputValues.set(n,e)})}initializeComponent(n){const e=Jn.create({providers:[],parent:this.injector}),t=function QMe(i,n){const e=i.childNodes,t=n.map(()=>[]);let o=-1;n.some((s,r)=>"*"===s&&(o=r,!0));for(let s=0,r=e.length;s<r;++s){const a=e[s],l=ePe(a,n,o);-1!==l&&t[l].push(a)}return t}(n,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,t,n),this.viewChangeDetectorRef=this.componentRef.injector.get(Zt),this.implementsOnChanges=function KMe(i){return"function"==typeof i}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(Vd).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:n})=>{this.initialInputValues.has(n)&&this.setInputValue(n,this.initialInputValues.get(n))}),this.initialInputValues.clear()}initializeOutputs(n){const e=this.componentFactory.outputs.map(({propName:t,templateName:o})=>n.instance[t].pipe(we(r=>({name:o,value:r}))));this.eventEmitters.next(e)}callNgOnChanges(n){if(!this.implementsOnChanges||null===this.inputChanges)return;const e=this.inputChanges;this.inputChanges=null,n.instance.ngOnChanges(e)}markViewForCheck(n){this.hasInputChanges&&(this.hasInputChanges=!1,n.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=by.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(n,e){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const t=this.inputChanges[n];if(t)return void(t.currentValue=e);const o=this.unchangedInputs.has(n),s=o?void 0:this.getInputValue(n);this.inputChanges[n]=new oS(s,e,o)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(n){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(n):n()}}class oPe extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function B5(i){return new mt(3e3,!1)}function $Pe(){return typeof window<"u"&&typeof window.document<"u"}function pA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function xd(i){switch(i.length){case 0:return new Jm;case 1:return i[0];default:return new IR(i)}}function V5(i,n,e,t,o=new Map,s=new Map){const r=[],a=[];let l=-1,c=null;if(t.forEach(A=>{const D=A.get("offset"),te=D==l,se=te&&c||new Map;A.forEach((le,ke)=>{let Pe=ke,ze=le;if("offset"!==ke)switch(Pe=n.normalizePropertyName(Pe,r),ze){case Ow:ze=o.get(ke);break;case kc:ze=s.get(ke);break;default:ze=n.normalizeStyleValue(ke,Pe,ze,r)}se.set(Pe,ze)}),te||a.push(se),c=se,l=D}),r.length)throw function MPe(i){return new mt(3502,!1)}();return a}function mA(i,n,e,t){switch(n){case"start":i.onStart(()=>t(e&&fA(e,"start",i)));break;case"done":i.onDone(()=>t(e&&fA(e,"done",i)));break;case"destroy":i.onDestroy(()=>t(e&&fA(e,"destroy",i)))}}function fA(i,n,e){const s=gA(i.element,i.triggerName,i.fromState,i.toState,n||i.phaseName,e.totalTime??i.totalTime,!!e.disabled),r=i._data;return null!=r&&(s._data=r),s}function gA(i,n,e,t,o="",s=0,r){return{element:i,triggerName:n,fromState:e,toState:t,phaseName:o,totalTime:s,disabled:!!r}}function na(i,n,e){let t=i.get(n);return t||i.set(n,t=e),t}function $5(i){const n=i.indexOf(":");return[i.substring(1,n),i.slice(n+1)]}let _A=(i,n)=>!1,H5=(i,n,e)=>[],z5=null;function bA(i){const n=i.parentNode||i.host;return n===z5?null:n}(pA()||typeof Element<"u")&&($Pe()?(z5=(()=>document.documentElement)(),_A=(i,n)=>{for(;n;){if(n===i)return!0;n=bA(n)}return!1}):_A=(i,n)=>i.contains(n),H5=(i,n,e)=>{if(e)return Array.from(i.querySelectorAll(n));const t=i.querySelector(n);return t?[t]:[]});let Iu=null,j5=!1;const G5=_A,W5=H5;let U5=(()=>{class i{validateStyleProperty(e){return function zPe(i){Iu||(Iu=function jPe(){return typeof document<"u"?document.body:null}()||{},j5=!!Iu.style&&"WebkitAppearance"in Iu.style);let n=!0;return Iu.style&&!function HPe(i){return"ebkit"==i.substring(1,6)}(i)&&(n=i in Iu.style,!n&&j5&&(n="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Iu.style)),n}(e)}matchesElement(e,t){return!1}containsElement(e,t){return G5(e,t)}getParentElement(e){return bA(e)}query(e,t,o){return W5(e,t,o)}computeStyle(e,t,o){return o||""}animate(e,t,o,s,r,a=[],l){return new Jm(o,s)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),vA=(()=>{class i{}return i.NOOP=new U5,i})();const GPe=1e3,yA="ng-enter",vy="ng-leave",yy="ng-trigger",xy=".ng-trigger",K5="ng-animating",xA=".ng-animating";function jc(i){if("number"==typeof i)return i;const n=i.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:CA(parseFloat(n[1]),n[2])}function CA(i,n){return"s"===n?i*GPe:i}function Cy(i,n,e){return i.hasOwnProperty("duration")?i:function UPe(i,n,e){let o,s=0,r="";if("string"==typeof i){const a=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(B5()),{duration:0,delay:0,easing:""};o=CA(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=CA(parseFloat(l),a[4]));const c=a[5];c&&(r=c)}else o=i;if(!e){let a=!1,l=n.length;o<0&&(n.push(function rPe(){return new mt(3100,!1)}()),a=!0),s<0&&(n.push(function aPe(){return new mt(3101,!1)}()),a=!0),a&&n.splice(l,0,B5())}return{duration:o,delay:s,easing:r}}(i,n,e)}function og(i,n={}){return Object.keys(i).forEach(e=>{n[e]=i[e]}),n}function Y5(i){const n=new Map;return Object.keys(i).forEach(e=>{n.set(e,i[e])}),n}function Cd(i,n=new Map,e){if(e)for(let[t,o]of e)n.set(t,o);for(let[t,o]of i)n.set(t,o);return n}function q5(i,n,e){return e?n+":"+e+";":""}function J5(i){let n="";for(let e=0;e<i.style.length;e++){const t=i.style.item(e);n+=q5(0,t,i.style.getPropertyValue(t))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=q5(0,XPe(e),i.style[e]));i.setAttribute("style",n)}function Jl(i,n,e){i.style&&(n.forEach((t,o)=>{const s=kA(o);e&&!e.has(o)&&e.set(o,i.style[s]),i.style[s]=t}),pA()&&J5(i))}function Au(i,n){i.style&&(n.forEach((e,t)=>{const o=kA(t);i.style[o]=""}),pA()&&J5(i))}function sg(i){return Array.isArray(i)?1==i.length?i[0]:wR(i):i}const wA=new RegExp("{{\\s*(.+?)\\s*}}","g");function Q5(i){let n=[];if("string"==typeof i){let e;for(;e=wA.exec(i);)n.push(e[1]);wA.lastIndex=0}return n}function rg(i,n,e){const t=i.toString(),o=t.replace(wA,(s,r)=>{let a=n[r];return null==a&&(e.push(function cPe(i){return new mt(3003,!1)}()),a=""),a.toString()});return o==t?i:o}function wy(i){const n=[];let e=i.next();for(;!e.done;)n.push(e.value),e=i.next();return n}const YPe=/-+([a-z0-9])/g;function kA(i){return i.replace(YPe,(...n)=>n[1].toUpperCase())}function XPe(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function oa(i,n,e){switch(n.type){case 7:return i.visitTrigger(n,e);case 0:return i.visitState(n,e);case 1:return i.visitTransition(n,e);case 2:return i.visitSequence(n,e);case 3:return i.visitGroup(n,e);case 4:return i.visitAnimate(n,e);case 5:return i.visitKeyframes(n,e);case 6:return i.visitStyle(n,e);case 8:return i.visitReference(n,e);case 9:return i.visitAnimateChild(n,e);case 10:return i.visitAnimateRef(n,e);case 11:return i.visitQuery(n,e);case 12:return i.visitStagger(n,e);default:throw function dPe(i){return new mt(3004,!1)}()}}function e$(i,n){return window.getComputedStyle(i)[n]}const Ay="*";function iTe(i,n){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(t=>function nTe(i,n,e){if(":"==i[0]){const l=function oTe(i,n){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return n.push(function kPe(i){return new mt(3016,!1)}()),"* => *"}}(i,e);if("function"==typeof l)return void n.push(l);i=l}const t=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==t||t.length<4)return e.push(function wPe(i){return new mt(3015,!1)}()),n;const o=t[1],s=t[2],r=t[3];n.push(t$(o,r));"<"==s[0]&&!(o==Ay&&r==Ay)&&n.push(t$(r,o))}(t,e,n)):e.push(i),e}const Sy=new Set(["true","1"]),My=new Set(["false","0"]);function t$(i,n){const e=Sy.has(i)||My.has(i),t=Sy.has(n)||My.has(n);return(o,s)=>{let r=i==Ay||i==o,a=n==Ay||n==s;return!r&&e&&"boolean"==typeof o&&(r=o?Sy.has(i):My.has(i)),!a&&t&&"boolean"==typeof s&&(a=s?Sy.has(n):My.has(n)),r&&a}}const sTe=new RegExp("s*:selfs*,?","g");function IA(i,n,e,t){return new rTe(i).build(n,e,t)}class rTe{constructor(n){this._driver=n}build(n,e,t){const o=new cTe(e);return this._resetContextStyleTimingState(o),oa(this,sg(n),o)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let t=e.queryCount=0,o=e.depCount=0;const s=[],r=[];return"@"==n.name.charAt(0)&&e.errors.push(function hPe(){return new mt(3006,!1)}()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(A=>{l.name=A,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);t+=l.queryCount,o+=l.depCount,r.push(l)}else e.errors.push(function pPe(){return new mt(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:r,queryCount:t,depCount:o,options:null}}visitState(n,e){const t=this.visitStyle(n.styles,e),o=n.options&&n.options.params||null;if(t.containsDynamicStyles){const s=new Set,r=o||{};t.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Q5(l).forEach(c=>{r.hasOwnProperty(c)||s.add(c)})})}),s.size&&(wy(s.values()),e.errors.push(function mPe(i,n){return new mt(3008,!1)}()))}return{type:0,name:n.name,style:t,options:o?{params:o}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const t=oa(this,sg(n.animation),e);return{type:1,matchers:iTe(n.expr,e.errors),animation:t,queryCount:e.queryCount,depCount:e.depCount,options:Su(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(t=>oa(this,t,e)),options:Su(n.options)}}visitGroup(n,e){const t=e.currentTime;let o=0;const s=n.steps.map(r=>{e.currentTime=t;const a=oa(this,r,e);return o=Math.max(o,e.currentTime),a});return e.currentTime=o,{type:3,steps:s,options:Su(n.options)}}visitAnimate(n,e){const t=function uTe(i,n){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return AA(Cy(i,n).duration,0,"");const e=i;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=AA(0,0,"");return s.dynamic=!0,s.strValue=e,s}const o=Cy(e,n);return AA(o.duration,o.delay,o.easing)}(n.timings,e.errors);e.currentAnimateTimings=t;let o,s=n.styles?n.styles:ei({});if(5==s.type)o=this.visitKeyframes(s,e);else{let r=n.styles,a=!1;if(!r){a=!0;const c={};t.easing&&(c.easing=t.easing),r=ei(c)}e.currentTime+=t.duration+t.delay;const l=this.visitStyle(r,e);l.isEmptyStep=a,o=l}return e.currentAnimateTimings=null,{type:4,timings:t,style:o,options:null}}visitStyle(n,e){const t=this._makeStyleAst(n,e);return this._validateStyleAst(t,e),t}_makeStyleAst(n,e){const t=[],o=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of o)"string"==typeof a?a===kc?t.push(a):e.errors.push(new mt(3002,!1)):t.push(Y5(a));let s=!1,r=null;return t.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(r=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:t,easing:r,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,e){const t=e.currentAnimateTimings;let o=e.currentTime,s=e.currentTime;t&&s>0&&(s-=t.duration+t.delay),n.styles.forEach(r=>{"string"!=typeof r&&r.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),A=c.get(l);let D=!0;A&&(s!=o&&s>=A.startTime&&o<=A.endTime&&(e.errors.push(function gPe(i,n,e,t,o){return new mt(3010,!1)}()),D=!1),s=A.startTime),D&&c.set(l,{startTime:s,endTime:o}),e.options&&function KPe(i,n,e){const t=n.params||{},o=Q5(i);o.length&&o.forEach(s=>{t.hasOwnProperty(s)||e.push(function lPe(i){return new mt(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(n,e){const t={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function _Pe(){return new mt(3011,!1)}()),t;let s=0;const r=[];let a=!1,l=!1,c=0;const A=n.steps.map(ze=>{const at=this._makeStyleAst(ze,e);let it=null!=at.offset?at.offset:function dTe(i){if("string"==typeof i)return null;let n=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const e=i;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(at.styles),_t=0;return null!=it&&(s++,_t=at.offset=it),l=l||_t<0||_t>1,a=a||_t<c,c=_t,r.push(_t),at});l&&e.errors.push(function bPe(){return new mt(3012,!1)}()),a&&e.errors.push(function vPe(){return new mt(3200,!1)}());const D=n.steps.length;let te=0;s>0&&s<D?e.errors.push(function yPe(){return new mt(3202,!1)}()):0==s&&(te=1/(D-1));const se=D-1,le=e.currentTime,ke=e.currentAnimateTimings,Pe=ke.duration;return A.forEach((ze,at)=>{const it=te>0?at==se?1:te*at:r[at],_t=it*Pe;e.currentTime=le+ke.delay+_t,ke.duration=_t,this._validateStyleAst(ze,e),ze.offset=it,t.styles.push(ze)}),t}visitReference(n,e){return{type:8,animation:oa(this,sg(n.animation),e),options:Su(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:Su(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:Su(n.options)}}visitQuery(n,e){const t=e.currentQuerySelector,o=n.options||{};e.queryCount++,e.currentQuery=n;const[s,r]=function aTe(i){const n=!!i.split(/\s*,\s*/).find(e=>":self"==e);return n&&(i=i.replace(sTe,"")),i=i.replace(/@\*/g,xy).replace(/@\w+/g,e=>xy+"-"+e.slice(1)).replace(/:animating/g,xA),[i,n]}(n.selector);e.currentQuerySelector=t.length?t+" "+s:s,na(e.collectedStyles,e.currentQuerySelector,new Map);const a=oa(this,sg(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:11,selector:s,limit:o.limit||0,optional:!!o.optional,includeSelf:r,animation:a,originalSelector:n.selector,options:Su(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function xPe(){return new mt(3013,!1)}());const t="full"===n.timings?{duration:0,delay:0,easing:"full"}:Cy(n.timings,e.errors,!0);return{type:12,animation:oa(this,sg(n.animation),e),timings:t,options:null}}}class cTe{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Su(i){return i?(i=og(i)).params&&(i.params=function lTe(i){return i?og(i):null}(i.params)):i={},i}function AA(i,n,e){return{duration:i,delay:n,easing:e}}function SA(i,n,e,t,o,s,r=null,a=!1){return{type:1,element:i,keyframes:n,preStyleProps:e,postStyleProps:t,duration:o,delay:s,totalTime:o+s,easing:r,subTimeline:a}}class Py{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let t=this._map.get(n);t||this._map.set(n,t=[]),t.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const mTe=new RegExp(":enter","g"),gTe=new RegExp(":leave","g");function MA(i,n,e,t,o,s=new Map,r=new Map,a,l,c=[]){return(new _Te).buildKeyframes(i,n,e,t,o,s,r,a,l,c)}class _Te{buildKeyframes(n,e,t,o,s,r,a,l,c,A=[]){c=c||new Py;const D=new PA(n,e,c,o,s,A,[]);D.options=l;const te=l.delay?jc(l.delay):0;D.currentTimeline.delayNextStep(te),D.currentTimeline.setStyles([r],null,D.errors,l),oa(this,t,D);const se=D.timelines.filter(le=>le.containsAnimation());if(se.length&&a.size){let le;for(let ke=se.length-1;ke>=0;ke--){const Pe=se[ke];if(Pe.element===e){le=Pe;break}}le&&!le.allowOnlyTimelineStyles()&&le.setStyles([a],null,D.errors,l)}return se.length?se.map(le=>le.buildKeyframes()):[SA(e,[],[],[],0,te,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const t=e.subInstructions.get(e.element);if(t){const o=e.createSubContext(n.options),s=e.currentTimeline.currentTime,r=this._visitSubInstructions(t,o,o.options);s!=r&&e.transformIntoNewTimeline(r)}e.previousNode=n}visitAnimateRef(n,e){const t=e.createSubContext(n.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,t),this.visitReference(n.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,t){for(const o of n){const s=o?.delay;if(s){const r="number"==typeof s?s:jc(rg(s,o?.params??{},e.errors));t.delayNextStep(r)}}}_visitSubInstructions(n,e,t){let s=e.currentTimeline.currentTime;const r=null!=t.duration?jc(t.duration):null,a=null!=t.delay?jc(t.delay):null;return 0!==r&&n.forEach(l=>{const c=e.appendInstructionToTimeline(l,r,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(n,e){e.updateOptions(n.options,!0),oa(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const t=e.subContextCount;let o=e;const s=n.options;if(s&&(s.params||s.delay)&&(o=e.createSubContext(s),o.transformIntoNewTimeline(),null!=s.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Ty);const r=jc(s.delay);o.delayNextStep(r)}n.steps.length&&(n.steps.forEach(r=>oa(this,r,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>t&&o.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const t=[];let o=e.currentTimeline.currentTime;const s=n.options&&n.options.delay?jc(n.options.delay):0;n.steps.forEach(r=>{const a=e.createSubContext(n.options);s&&a.delayNextStep(s),oa(this,r,a),o=Math.max(o,a.currentTimeline.currentTime),t.push(a.currentTimeline)}),t.forEach(r=>e.currentTimeline.mergeTimelineCollectedStyles(r)),e.transformIntoNewTimeline(o),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const t=n.strValue;return Cy(e.params?rg(t,e.params,e.errors):t,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const t=e.currentAnimateTimings=this._visitTiming(n.timings,e),o=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),o.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(t.duration),this.visitStyle(s,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const t=e.currentTimeline,o=e.currentAnimateTimings;!o&&t.hasCurrentStyleProperties()&&t.forwardFrame();const s=o&&o.easing||n.easing;n.isEmptyStep?t.applyEmptyStep(s):t.setStyles(n.styles,s,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const t=e.currentAnimateTimings,o=e.currentTimeline.duration,s=t.duration,a=e.createSubContext().currentTimeline;a.easing=t.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(o+s),e.previousNode=n}visitQuery(n,e){const t=e.currentTimeline.currentTime,o=n.options||{},s=o.delay?jc(o.delay):0;s&&(6===e.previousNode.type||0==t&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ty);let r=t;const a=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,A)=>{e.currentQueryIndex=A;const D=e.createSubContext(n.options,c);s&&D.delayNextStep(s),c===e.element&&(l=D.currentTimeline),oa(this,n.animation,D),D.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(r),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const t=e.parentContext,o=e.currentTimeline,s=n.timings,r=Math.abs(s.duration),a=r*(e.currentQueryTotal-1);let l=r*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=t.currentStaggerTime}const A=e.currentTimeline;l&&A.delayNextStep(l);const D=A.currentTime;oa(this,n.animation,e),e.previousNode=n,t.currentStaggerTime=o.currentTime-D+(o.startTime-t.currentTimeline.startTime)}}const Ty={};class PA{constructor(n,e,t,o,s,r,a,l){this._driver=n,this.element=e,this.subInstructions=t,this._enterClassName=o,this._leaveClassName=s,this.errors=r,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ty,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Ey(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const t=n;let o=this.options;null!=t.duration&&(o.duration=jc(t.duration)),null!=t.delay&&(o.delay=jc(t.delay));const s=t.params;if(s){let r=o.params;r||(r=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!r.hasOwnProperty(a))&&(r[a]=rg(s[a],r,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const t=n.params={};Object.keys(e).forEach(o=>{t[o]=e[o]})}}return n}createSubContext(n=null,e,t){const o=e||this.element,s=new PA(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,t||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=Ty,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,t){const o={duration:e??n.duration,delay:this.currentTimeline.currentTime+(t??0)+n.delay,easing:""},s=new bTe(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,o,n.stretchStartingKeyframe);return this.timelines.push(s),o}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,t,o,s,r){let a=[];if(o&&a.push(this.element),n.length>0){n=(n=n.replace(mTe,"."+this._enterClassName)).replace(gTe,"."+this._leaveClassName);let c=this._driver.query(this.element,n,1!=t);0!==t&&(c=t<0?c.slice(c.length+t,c.length):c.slice(0,t)),a.push(...c)}return!s&&0==a.length&&r.push(function CPe(i){return new mt(3014,!1)}()),a}}class Ey{constructor(n,e,t,o){this._driver=n,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new Ey(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||kc),this._currentKeyframe.set(e,kc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,t,o){e&&this._previousKeyframe.set("easing",e);const s=o&&o.params||{},r=function vTe(i,n){const e=new Map;let t;return i.forEach(o=>{if("*"===o){t=t||n.keys();for(let s of t)e.set(s,kc)}else Cd(o,e)}),e}(n,this._globalTimelineStyles);for(let[a,l]of r){const c=rg(l,s,t);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??kc),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,t)=>{const o=this._styleSummary.get(t);(!o||e.time>o.time)&&this._updateStyle(t,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,t=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((a,l)=>{const c=Cd(a,new Map,this._backFill);c.forEach((A,D)=>{A===Ow?n.add(D):A===kc&&e.add(D)}),t||c.set("offset",l/this.duration),o.push(c)});const s=n.size?wy(n.values()):[],r=e.size?wy(e.values()):[];if(t){const a=o[0],l=new Map(a);a.set("offset",0),l.set("offset",1),o=[a,l]}return SA(this.element,o,s,r,this.duration,this.startTime,this.easing,!1)}}class bTe extends Ey{constructor(n,e,t,o,s,r,a=!1){super(n,e,r.delay),this.keyframes=t,this.preStyleProps=o,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:t,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],r=t+e,a=e/r,l=Cd(n[0]);l.set("offset",0),s.push(l);const c=Cd(n[0]);c.set("offset",o$(a)),s.push(c);const A=n.length-1;for(let D=1;D<=A;D++){let te=Cd(n[D]);const se=te.get("offset");te.set("offset",o$((e+se*t)/r)),s.push(te)}t=r,e=0,o="",n=s}return SA(this.element,n,this.preStyleProps,this.postStyleProps,t,e,o,!0)}}function o$(i,n=3){const e=Math.pow(10,n-1);return Math.round(i*e)/e}class TA{}const yTe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class xTe extends TA{normalizePropertyName(n,e){return kA(n)}normalizeStyleValue(n,e,t,o){let s="";const r=t.toString().trim();if(yTe.has(e)&&0!==t&&"0"!==t)if("number"==typeof t)s="px";else{const a=t.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&o.push(function uPe(i,n){return new mt(3005,!1)}())}return r+s}}function s$(i,n,e,t,o,s,r,a,l,c,A,D,te){return{type:0,element:i,triggerName:n,isRemovalTransition:o,fromState:e,fromStyles:s,toState:t,toStyles:r,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:A,totalTime:D,errors:te}}const EA={};class r${constructor(n,e,t){this._triggerName=n,this.ast=e,this._stateStyles=t}match(n,e,t,o){return function CTe(i,n,e,t,o){return i.some(s=>s(n,e,t,o))}(this.ast.matchers,n,e,t,o)}buildStyles(n,e,t){let o=this._stateStyles.get("*");return void 0!==n&&(o=this._stateStyles.get(n?.toString())||o),o?o.buildStyles(e,t):new Map}build(n,e,t,o,s,r,a,l,c,A){const D=[],te=this.ast.options&&this.ast.options.params||EA,le=this.buildStyles(t,a&&a.params||EA,D),ke=l&&l.params||EA,Pe=this.buildStyles(o,ke,D),ze=new Set,at=new Map,it=new Map,_t="void"===o,Nt={params:wTe(ke,te),delay:this.ast.options?.delay},_i=A?[]:MA(n,e,this.ast.animation,s,r,le,Pe,Nt,c,D);let An=0;if(_i.forEach(Es=>{An=Math.max(Es.duration+Es.delay,An)}),D.length)return s$(e,this._triggerName,t,o,_t,le,Pe,[],[],at,it,An,D);_i.forEach(Es=>{const zo=Es.element,Us=na(at,zo,new Set);Es.preStyleProps.forEach(Er=>Us.add(Er));const sa=na(it,zo,new Set);Es.postStyleProps.forEach(Er=>sa.add(Er)),zo!==e&&ze.add(zo)});const Oo=wy(ze.values());return s$(e,this._triggerName,t,o,_t,le,Pe,_i,Oo,at,it,An)}}function wTe(i,n){const e=og(n);for(const t in i)i.hasOwnProperty(t)&&null!=i[t]&&(e[t]=i[t]);return e}class kTe{constructor(n,e,t){this.styles=n,this.defaultParams=e,this.normalizer=t}buildStyles(n,e){const t=new Map,o=og(this.defaultParams);return Object.keys(n).forEach(s=>{const r=n[s];null!==r&&(o[s]=r)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((r,a)=>{r&&(r=rg(r,o,e));const l=this.normalizer.normalizePropertyName(a,e);r=this.normalizer.normalizeStyleValue(a,l,r,e),t.set(a,r)})}),t}}class ATe{constructor(n,e,t){this.name=n,this.ast=e,this._normalizer=t,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new kTe(o.style,o.options&&o.options.params||{},t))}),a$(this.states,"true","1"),a$(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new r$(n,o,this.states))}),this.fallbackTransition=function STe(i,n,e){return new r$(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(r,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,t,o){return this.transitionFactories.find(r=>r.match(n,e,t,o))||null}matchStyles(n,e,t){return this.fallbackTransition.buildStyles(n,e,t)}}function a$(i,n,e){i.has(n)?i.has(e)||i.set(e,i.get(n)):i.has(e)&&i.set(n,i.get(e))}const MTe=new Py;class PTe{constructor(n,e,t){this.bodyNode=n,this._driver=e,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const t=[],o=[],s=IA(this._driver,e,t,o);if(t.length)throw function PPe(i){return new mt(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,e,t){const o=n.element,s=V5(0,this._normalizer,0,n.keyframes,e,t);return this._driver.animate(o,s,n.duration,n.delay,n.easing,[],!0)}create(n,e,t={}){const o=[],s=this._animations.get(n);let r;const a=new Map;if(s?(r=MA(this._driver,e,s,yA,vy,new Map,new Map,t,MTe,o),r.forEach(A=>{const D=na(a,A.element,new Map);A.postStyleProps.forEach(te=>D.set(te,null))})):(o.push(function TPe(){return new mt(3300,!1)}()),r=[]),o.length)throw function EPe(i){return new mt(3504,!1)}();a.forEach((A,D)=>{A.forEach((te,se)=>{A.set(se,this._driver.computeStyle(D,se,kc))})});const c=xd(r.map(A=>{const D=a.get(A.element);return this._buildPlayer(A,new Map,D)}));return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const t=this.players.indexOf(e);t>=0&&this.players.splice(t,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function DPe(i){return new mt(3301,!1)}();return e}listen(n,e,t,o){const s=gA(e,"","","");return mA(this._getPlayer(n),t,s,o),()=>{}}command(n,e,t,o){if("register"==t)return void this.register(n,o[0]);if("create"==t)return void this.create(n,e,o[0]||{});const s=this._getPlayer(n);switch(t){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(n)}}}const l$="ng-animate-queued",DA="ng-animate-disabled",RTe=[],c$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},FTe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ma="__ng_removed";class OA{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const t=n&&n.hasOwnProperty("value");if(this.value=function VTe(i){return i??null}(t?n.value:n),t){const s=og(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const t=this.options.params;Object.keys(e).forEach(o=>{null==t[o]&&(t[o]=e[o])})}}}const ag="void",RA=new OA(ag);class LTe{constructor(n,e,t){this.id=n,this.hostElement=e,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Pa(e,this._hostClassName)}listen(n,e,t,o){if(!this._triggers.has(e))throw function OPe(i,n){return new mt(3302,!1)}();if(null==t||0==t.length)throw function RPe(i){return new mt(3303,!1)}();if(!function $Te(i){return"start"==i||"done"==i}(t))throw function FPe(i,n){return new mt(3400,!1)}();const s=na(this._elementListeners,n,[]),r={name:e,phase:t,callback:o};s.push(r);const a=na(this._engine.statesByElement,n,new Map);return a.has(e)||(Pa(n,yy),Pa(n,yy+"-"+e),a.set(e,RA)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(r);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function LPe(i){return new mt(3401,!1)}();return e}trigger(n,e,t,o=!0){const s=this._getTrigger(e),r=new FA(this.id,e,n);let a=this._engine.statesByElement.get(n);a||(Pa(n,yy),Pa(n,yy+"-"+e),this._engine.statesByElement.set(n,a=new Map));let l=a.get(e);const c=new OA(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=RA),c.value!==ag&&l.value===c.value){if(!function jTe(i,n){const e=Object.keys(i),t=Object.keys(n);if(e.length!=t.length)return!1;for(let o=0;o<e.length;o++){const s=e[o];if(!n.hasOwnProperty(s)||i[s]!==n[s])return!1}return!0}(l.params,c.params)){const ke=[],Pe=s.matchStyles(l.value,l.params,ke),ze=s.matchStyles(c.value,c.params,ke);ke.length?this._engine.reportError(ke):this._engine.afterFlush(()=>{Au(n,Pe),Jl(n,ze)})}return}const te=na(this._engine.playersByElement,n,[]);te.forEach(ke=>{ke.namespaceId==this.id&&ke.triggerName==e&&ke.queued&&ke.destroy()});let se=s.matchTransition(l.value,c.value,n,c.params),le=!1;if(!se){if(!o)return;se=s.fallbackTransition,le=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:se,fromState:l,toState:c,player:r,isFallbackTransition:le}),le||(Pa(n,l$),r.onStart(()=>{vp(n,l$)})),r.onDone(()=>{let ke=this.players.indexOf(r);ke>=0&&this.players.splice(ke,1);const Pe=this._engine.playersByElement.get(n);if(Pe){let ze=Pe.indexOf(r);ze>=0&&Pe.splice(ze,1)}}),this.players.push(r),te.push(r),r}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(o=>o.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const t=this._engine.driver.query(n,xy,!0);t.forEach(o=>{if(o[Ma])return;const s=this._engine.fetchNamespacesByElement(o);s.size?s.forEach(r=>r.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(n,e,t,o){const s=this._engine.statesByElement.get(n),r=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(r.set(c,l.value),this._triggers.has(c)){const A=this.trigger(n,c,ag,o);A&&a.push(A)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,r),t&&xd(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),t=this._engine.statesByElement.get(n);if(e&&t){const o=new Set;e.forEach(s=>{const r=s.name;if(o.has(r))return;o.add(r);const l=this._triggers.get(r).fallbackTransition,c=t.get(r)||RA,A=new OA(ag),D=new FA(this.id,r,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:r,transition:l,fromState:c,toState:A,player:D,isFallbackTransition:!0})})}}removeNode(n,e){const t=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let o=!1;if(t.totalAnimations){const s=t.players.length?t.playersByQueriedElement.get(n):[];if(s&&s.length)o=!0;else{let r=n;for(;r=r.parentNode;)if(t.statesByElement.get(r)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(n),o)t.markElementAsRemoved(this.id,n,!1,e);else{const s=n[Ma];(!s||s===c$)&&(t.afterFlush(()=>this.clearElementCache(n)),t.destroyInnerAnimations(n),t._onRemovalComplete(n,e))}}insertNode(n,e){Pa(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(t=>{const o=t.player;if(o.destroyed)return;const s=t.element,r=this._elementListeners.get(s);r&&r.forEach(a=>{if(a.name==t.triggerName){const l=gA(s,t.triggerName,t.fromState.value,t.toState.value);l._data=n,mA(t.player,a.phase,l,a.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(t)}),this._queue=[],e.sort((t,o)=>{const s=t.transition.ast.depCount,r=o.transition.ast.depCount;return 0==s||0==r?s-r:this._engine.driver.containsElement(t.element,o.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(t=>t.element===n)||e,e}}class NTe{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,t){this.bodyNode=n,this.driver=e,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&n.push(t)})}),n}createNamespace(n,e){const t=new LTe(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[n]=t}_balanceNamespaceList(n,e){const t=this._namespaceList,o=this.namespacesByHostElement;if(t.length-1>=0){let r=!1,a=this.driver.getParentElement(e);for(;a;){const l=o.get(a);if(l){const c=t.indexOf(l);t.splice(c+1,0,n),r=!0;break}a=this.driver.getParentElement(a)}r||t.unshift(n)}else t.push(n);return o.set(e,n),n}register(n,e){let t=this._namespaceLookup[n];return t||(t=this.createNamespace(n,e)),t}registerTrigger(n,e,t){let o=this._namespaceLookup[n];o&&o.register(e,t)&&this.totalAnimations++}destroy(n,e){if(!n)return;const t=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(t.hostElement),delete this._namespaceLookup[n];const o=this._namespaceList.indexOf(t);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>t.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,t=this.statesByElement.get(n);if(t)for(let o of t.values())if(o.namespaceId){const s=this._fetchNamespace(o.namespaceId);s&&e.add(s)}return e}trigger(n,e,t,o){if(Dy(e)){const s=this._fetchNamespace(n);if(s)return s.trigger(e,t,o),!0}return!1}insertNode(n,e,t,o){if(!Dy(e))return;const s=e[Ma];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const r=this.collectedLeaveElements.indexOf(e);r>=0&&this.collectedLeaveElements.splice(r,1)}if(n){const r=this._fetchNamespace(n);r&&r.insertNode(e,t)}o&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Pa(n,DA)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),vp(n,DA))}removeNode(n,e,t,o){if(Dy(e)){const s=n?this._fetchNamespace(n):null;if(s?s.removeNode(e,o):this.markElementAsRemoved(n,e,!1,o),t){const r=this.namespacesByHostElement.get(e);r&&r.id!==n&&r.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(n,e,t,o,s){this.collectedLeaveElements.push(e),e[Ma]={namespaceId:n,setForRemoval:o,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,e,t,o,s){return Dy(e)?this._fetchNamespace(n).listen(e,t,o,s):()=>{}}_buildInstruction(n,e,t,o,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,t,o,n.fromState.options,n.toState.options,e,s)}destroyInnerAnimations(n){let e=this.driver.query(n,xy,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,xA,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return xd(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Ma];if(e&&e.setForRemoval){if(n[Ma]=c$,e.namespaceId){this.destroyInnerAnimations(n);const t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(DA)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,o)=>this._balanceNamespaceList(t,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++)Pa(this.collectedEnterElements[t],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const t=[];try{e=this._flushAnimations(t,n)}finally{for(let o=0;o<t.length;o++)t[o]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++)this.processLeaveNode(this.collectedLeaveElements[t]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?xd(e).onDone(()=>{t.forEach(o=>o())}):t.forEach(o=>o())}}reportError(n){throw function NPe(i){return new mt(3402,!1)}()}_flushAnimations(n,e){const t=new Py,o=[],s=new Map,r=[],a=new Map,l=new Map,c=new Map,A=new Set;this.disabledNodes.forEach(oi=>{A.add(oi);const mi=this.driver.query(oi,".ng-animate-queued",!0);for(let yi=0;yi<mi.length;yi++)A.add(mi[yi])});const D=this.bodyNode,te=Array.from(this.statesByElement.keys()),se=h$(te,this.collectedEnterElements),le=new Map;let ke=0;se.forEach((oi,mi)=>{const yi=yA+ke++;le.set(mi,yi),oi.forEach(nn=>Pa(nn,yi))});const Pe=[],ze=new Set,at=new Set;for(let oi=0;oi<this.collectedLeaveElements.length;oi++){const mi=this.collectedLeaveElements[oi],yi=mi[Ma];yi&&yi.setForRemoval&&(Pe.push(mi),ze.add(mi),yi.hasAnimation?this.driver.query(mi,".ng-star-inserted",!0).forEach(nn=>ze.add(nn)):at.add(mi))}const it=new Map,_t=h$(te,Array.from(ze));_t.forEach((oi,mi)=>{const yi=vy+ke++;it.set(mi,yi),oi.forEach(nn=>Pa(nn,yi))}),n.push(()=>{se.forEach((oi,mi)=>{const yi=le.get(mi);oi.forEach(nn=>vp(nn,yi))}),_t.forEach((oi,mi)=>{const yi=it.get(mi);oi.forEach(nn=>vp(nn,yi))}),Pe.forEach(oi=>{this.processLeaveNode(oi)})});const Nt=[],_i=[];for(let oi=this._namespaceList.length-1;oi>=0;oi--)this._namespaceList[oi].drainQueuedTransitions(e).forEach(yi=>{const nn=yi.player,io=yi.element;if(Nt.push(nn),this.collectedEnterElements.length){const Ks=io[Ma];if(Ks&&Ks.setForMove){if(Ks.previousTriggersValues&&Ks.previousTriggersValues.has(yi.triggerName)){const Mu=Ks.previousTriggersValues.get(yi.triggerName),Ta=this.statesByElement.get(yi.element);if(Ta&&Ta.has(yi.triggerName)){const Fy=Ta.get(yi.triggerName);Fy.value=Mu,Ta.set(yi.triggerName,Fy)}}return void nn.destroy()}}const Ql=!D||!this.driver.containsElement(D,io),ra=it.get(io),wd=le.get(io),Ao=this._buildInstruction(yi,t,wd,ra,Ql);if(Ao.errors&&Ao.errors.length)return void _i.push(Ao);if(Ql)return nn.onStart(()=>Au(io,Ao.fromStyles)),nn.onDestroy(()=>Jl(io,Ao.toStyles)),void o.push(nn);if(yi.isFallbackTransition)return nn.onStart(()=>Au(io,Ao.fromStyles)),nn.onDestroy(()=>Jl(io,Ao.toStyles)),void o.push(nn);const x$=[];Ao.timelines.forEach(Ks=>{Ks.stretchStartingKeyframe=!0,this.disabledNodes.has(Ks.element)||x$.push(Ks)}),Ao.timelines=x$,t.append(io,Ao.timelines),r.push({instruction:Ao,player:nn,element:io}),Ao.queriedElements.forEach(Ks=>na(a,Ks,[]).push(nn)),Ao.preStyleProps.forEach((Ks,Mu)=>{if(Ks.size){let Ta=l.get(Mu);Ta||l.set(Mu,Ta=new Set),Ks.forEach((Fy,BA)=>Ta.add(BA))}}),Ao.postStyleProps.forEach((Ks,Mu)=>{let Ta=c.get(Mu);Ta||c.set(Mu,Ta=new Set),Ks.forEach((Fy,BA)=>Ta.add(BA))})});if(_i.length){const oi=[];_i.forEach(mi=>{oi.push(function BPe(i,n){return new mt(3505,!1)}())}),Nt.forEach(mi=>mi.destroy()),this.reportError(oi)}const An=new Map,Oo=new Map;r.forEach(oi=>{const mi=oi.element;t.has(mi)&&(Oo.set(mi,mi),this._beforeAnimationBuild(oi.player.namespaceId,oi.instruction,An))}),o.forEach(oi=>{const mi=oi.element;this._getPreviousPlayers(mi,!1,oi.namespaceId,oi.triggerName,null).forEach(nn=>{na(An,mi,[]).push(nn),nn.destroy()})});const Es=Pe.filter(oi=>m$(oi,l,c)),zo=new Map;u$(zo,this.driver,at,c,kc).forEach(oi=>{m$(oi,l,c)&&Es.push(oi)});const sa=new Map;se.forEach((oi,mi)=>{u$(sa,this.driver,new Set(oi),l,Ow)}),Es.forEach(oi=>{const mi=zo.get(oi),yi=sa.get(oi);zo.set(oi,new Map([...Array.from(mi?.entries()??[]),...Array.from(yi?.entries()??[])]))});const Er=[],Zs=[],lg={};r.forEach(oi=>{const{element:mi,player:yi,instruction:nn}=oi;if(t.has(mi)){if(A.has(mi))return yi.onDestroy(()=>Jl(mi,nn.toStyles)),yi.disabled=!0,yi.overrideTotalTime(nn.totalTime),void o.push(yi);let io=lg;if(Oo.size>1){let ra=mi;const wd=[];for(;ra=ra.parentNode;){const Ao=Oo.get(ra);if(Ao){io=Ao;break}wd.push(ra)}wd.forEach(Ao=>Oo.set(Ao,io))}const Ql=this._buildAnimation(yi.namespaceId,nn,An,s,sa,zo);if(yi.setRealPlayer(Ql),io===lg)Er.push(yi);else{const ra=this.playersByElement.get(io);ra&&ra.length&&(yi.parentPlayer=xd(ra)),o.push(yi)}}else Au(mi,nn.fromStyles),yi.onDestroy(()=>Jl(mi,nn.toStyles)),Zs.push(yi),A.has(mi)&&o.push(yi)}),Zs.forEach(oi=>{const mi=s.get(oi.element);if(mi&&mi.length){const yi=xd(mi);oi.setRealPlayer(yi)}}),o.forEach(oi=>{oi.parentPlayer?oi.syncPlayerEvents(oi.parentPlayer):oi.destroy()});for(let oi=0;oi<Pe.length;oi++){const mi=Pe[oi],yi=mi[Ma];if(vp(mi,vy),yi&&yi.hasAnimation)continue;let nn=[];if(a.size){let Ql=a.get(mi);Ql&&Ql.length&&nn.push(...Ql);let ra=this.driver.query(mi,xA,!0);for(let wd=0;wd<ra.length;wd++){let Ao=a.get(ra[wd]);Ao&&Ao.length&&nn.push(...Ao)}}const io=nn.filter(Ql=>!Ql.destroyed);io.length?HTe(this,mi,io):this.processLeaveNode(mi)}return Pe.length=0,Er.forEach(oi=>{this.players.push(oi),oi.onDone(()=>{oi.destroy();const mi=this.players.indexOf(oi);this.players.splice(mi,1)}),oi.play()}),Er}elementContainsData(n,e){let t=!1;const o=e[Ma];return o&&o.setForRemoval&&(t=!0),this.playersByElement.has(e)&&(t=!0),this.playersByQueriedElement.has(e)&&(t=!0),this.statesByElement.has(e)&&(t=!0),this._fetchNamespace(n).elementContainsData(e)||t}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,t,o,s){let r=[];if(e){const a=this.playersByQueriedElement.get(n);a&&(r=a)}else{const a=this.playersByElement.get(n);if(a){const l=!s||s==ag;a.forEach(c=>{c.queued||!l&&c.triggerName!=o||r.push(c)})}}return(t||o)&&(r=r.filter(a=>!(t&&t!=a.namespaceId||o&&o!=a.triggerName))),r}_beforeAnimationBuild(n,e,t){const s=e.element,r=e.isRemovalTransition?void 0:n,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,A=c!==s,D=na(t,c,[]);this._getPreviousPlayers(c,A,r,a,e.toState).forEach(se=>{const le=se.getRealPlayer();le.beforeDestroy&&le.beforeDestroy(),se.destroy(),D.push(se)})}Au(s,e.fromStyles)}_buildAnimation(n,e,t,o,s,r){const a=e.triggerName,l=e.element,c=[],A=new Set,D=new Set,te=e.timelines.map(le=>{const ke=le.element;A.add(ke);const Pe=ke[Ma];if(Pe&&Pe.removedBeforeQueried)return new Jm(le.duration,le.delay);const ze=ke!==l,at=function zTe(i){const n=[];return p$(i,n),n}((t.get(ke)||RTe).map(An=>An.getRealPlayer())).filter(An=>!!An.element&&An.element===ke),it=s.get(ke),_t=r.get(ke),Nt=V5(0,this._normalizer,0,le.keyframes,it,_t),_i=this._buildPlayer(le,Nt,at);if(le.subTimeline&&o&&D.add(ke),ze){const An=new FA(n,a,ke);An.setRealPlayer(_i),c.push(An)}return _i});c.forEach(le=>{na(this.playersByQueriedElement,le.element,[]).push(le),le.onDone(()=>function BTe(i,n,e){let t=i.get(n);if(t){if(t.length){const o=t.indexOf(e);t.splice(o,1)}0==t.length&&i.delete(n)}return t}(this.playersByQueriedElement,le.element,le))}),A.forEach(le=>Pa(le,K5));const se=xd(te);return se.onDestroy(()=>{A.forEach(le=>vp(le,K5)),Jl(l,e.toStyles)}),D.forEach(le=>{na(o,le,[]).push(se)}),se}_buildPlayer(n,e,t){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,t):new Jm(n.duration,n.delay)}}class FA{constructor(n,e,t){this.namespaceId=n,this.triggerName=e,this.element=t,this._player=new Jm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,t)=>{e.forEach(o=>mA(n,t,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){na(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function Dy(i){return i&&1===i.nodeType}function d$(i,n){const e=i.style.display;return i.style.display=n??"none",e}function u$(i,n,e,t,o){const s=[];e.forEach(l=>s.push(d$(l)));const r=[];t.forEach((l,c)=>{const A=new Map;l.forEach(D=>{const te=n.computeStyle(c,D,o);A.set(D,te),(!te||0==te.length)&&(c[Ma]=FTe,r.push(c))}),i.set(c,A)});let a=0;return e.forEach(l=>d$(l,s[a++])),r}function h$(i,n){const e=new Map;if(i.forEach(a=>e.set(a,[])),0==n.length)return e;const t=1,o=new Set(n),s=new Map;function r(a){if(!a)return t;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:o.has(c)?t:r(c),s.set(a,l),l}return n.forEach(a=>{const l=r(a);l!==t&&e.get(l).push(a)}),e}function Pa(i,n){i.classList?.add(n)}function vp(i,n){i.classList?.remove(n)}function HTe(i,n,e){xd(e).onDone(()=>i.processLeaveNode(n))}function p$(i,n){for(let e=0;e<i.length;e++){const t=i[e];t instanceof IR?p$(t.players,n):n.push(t)}}function m$(i,n,e){const t=e.get(i);if(!t)return!1;let o=n.get(i);return o?t.forEach(s=>o.add(s)):n.set(i,t),e.delete(i),!0}class Oy{constructor(n,e,t){this.bodyNode=n,this._driver=e,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new NTe(n,e,t),this._timelineEngine=new PTe(n,e,t),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(n,e,t,o,s){const r=n+"-"+o;let a=this._triggerCache[r];if(!a){const l=[],c=[],A=IA(this._driver,s,l,c);if(l.length)throw function SPe(i,n){return new mt(3404,!1)}();a=function ITe(i,n,e){return new ATe(i,n,e)}(o,A,this._normalizer),this._triggerCache[r]=a}this._transitionEngine.registerTrigger(e,o,a)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,t,o){this._transitionEngine.insertNode(n,e,t,o)}onRemove(n,e,t,o){this._transitionEngine.removeNode(n,e,o||!1,t)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,t,o){if("@"==t.charAt(0)){const[s,r]=$5(t);this._timelineEngine.command(s,e,r,o)}else this._transitionEngine.trigger(n,e,t,o)}listen(n,e,t,o,s){if("@"==t.charAt(0)){const[r,a]=$5(t);return this._timelineEngine.listen(r,e,a,s)}return this._transitionEngine.listen(n,e,t,o,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let WTe=(()=>{class i{constructor(e,t,o){this._element=e,this._startStyles=t,this._endStyles=o,this._state=0;let s=i.initialStylesByElement.get(e);s||i.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Jl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Jl(this._element,this._initialStyles),this._endStyles&&(Jl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Au(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Au(this._element,this._endStyles),this._endStyles=null),Jl(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function LA(i){let n=null;return i.forEach((e,t)=>{(function UTe(i){return"display"===i||"position"===i})(t)&&(n=n||new Map,n.set(t,e))}),n}class f${constructor(n,e,t,o){this.element=n,this.keyframes=e,this.options=t,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(t=>{e.push(Object.fromEntries(t))}),e}_triggerWebAnimation(n,e,t){return n.animate(this._convertKeyframesToObject(e),t)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,o)=>{"offset"!==o&&n.set(o,this._finished?t:e$(this.element,o))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ZTe{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return G5(n,e)}getParentElement(n){return bA(n)}query(n,e,t){return W5(n,e,t)}computeStyle(n,e,t){return window.getComputedStyle(n)[e]}animate(n,e,t,o,s,r=[]){const l={duration:t,delay:o,fill:0==o?"both":"forwards"};s&&(l.easing=s);const c=new Map,A=r.filter(se=>se instanceof f$);(function qPe(i,n){return 0===i||0===n})(t,o)&&A.forEach(se=>{se.currentSnapshot.forEach((le,ke)=>c.set(ke,le))});let D=function ZPe(i){return i.length?i[0]instanceof Map?i:i.map(n=>Y5(n)):[]}(e).map(se=>Cd(se));D=function JPe(i,n,e){if(e.size&&n.length){let t=n[0],o=[];if(e.forEach((s,r)=>{t.has(r)||o.push(r),t.set(r,s)}),o.length)for(let s=1;s<n.length;s++){let r=n[s];o.forEach(a=>r.set(a,e$(i,a)))}}return n}(n,D,c);const te=function GTe(i,n){let e=null,t=null;return Array.isArray(n)&&n.length?(e=LA(n[0]),n.length>1&&(t=LA(n[n.length-1]))):n instanceof Map&&(e=LA(n)),e||t?new WTe(i,e,t):null}(n,D);return new f$(n,D,l,te)}}let KTe=(()=>{class i extends CR{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:Ra.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?wR(e):e;return g$(this._renderer,null,t,"register",[o]),new YTe(t,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(Le(Gp),Le(pi))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();class YTe extends fq{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new XTe(this._id,n,e||{},this._renderer)}}class XTe{constructor(n,e,t,o){this.id=n,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",t)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return g$(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function g$(i,n,e,t,o){return i.setProperty(n,`@@${e}:${t}`,o)}const _$="@.disabled";let qTe=(()=>{class i{constructor(e,t,o){this.delegate=e,this.engine=t,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(s,r)=>{const a=r?.parentNode(s);a&&r.removeChild(a,s)}}createRenderer(e,t){const s=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let A=this._rendererCache.get(s);return A||(A=new b$("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,A)),A}const r=t.id,a=t.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=A=>{Array.isArray(A)?A.forEach(l):this.engine.registerTrigger(r,a,e,A.name,A)};return t.data.animation.forEach(l),new JTe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,o){e>=0&&e<this._microtaskId?this._zone.run(()=>t(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[r,a]=s;r(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(Le(Gp),Le(Oy),Le(Bt))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();class b${constructor(n,e,t,o){this.namespaceId=n,this.delegate=e,this.engine=t,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,t,o=!0){this.delegate.insertBefore(n,e,t),this.engine.onInsert(this.namespaceId,e,n,o)}removeChild(n,e,t){this.engine.onRemove(this.namespaceId,e,this.delegate,t)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,t,o){this.delegate.setAttribute(n,e,t,o)}removeAttribute(n,e,t){this.delegate.removeAttribute(n,e,t)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,t,o){this.delegate.setStyle(n,e,t,o)}removeStyle(n,e,t){this.delegate.removeStyle(n,e,t)}setProperty(n,e,t){"@"==e.charAt(0)&&e==_$?this.disableAnimations(n,!!t):this.delegate.setProperty(n,e,t)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,t){return this.delegate.listen(n,e,t)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class JTe extends b${constructor(n,e,t,o,s){super(e,t,o,s),this.factory=n,this.namespaceId=e}setProperty(n,e,t){"@"==e.charAt(0)?"."==e.charAt(1)&&e==_$?this.disableAnimations(n,t=void 0===t||!!t):this.engine.process(this.namespaceId,n,e.slice(1),t):this.delegate.setProperty(n,e,t)}listen(n,e,t){if("@"==e.charAt(0)){const o=function QTe(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(n);let s=e.slice(1),r="";return"@"!=s.charAt(0)&&([s,r]=function eEe(i){const n=i.indexOf(".");return[i.substring(0,n),i.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,o,s,r,a=>{this.factory.scheduleListenerCallback(a._data||-1,t,a)})}return this.delegate.listen(n,e,t)}}let tEe=(()=>{class i extends Oy{constructor(e,t,o,s){super(e.body,t,o)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(Le(pi),Le(vA),Le(TA),Le(Vd))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})();const v$=[{provide:CR,useClass:KTe},{provide:TA,useFactory:function iEe(){return new xTe}},{provide:Oy,useClass:tEe},{provide:Gp,useFactory:function nEe(i,n,e){return new qTe(i,n,e)},deps:[O_,Oy,Bt]}],NA=[{provide:vA,useFactory:()=>new ZTe},{provide:yn,useValue:"BrowserAnimations"},...v$],y$=[{provide:vA,useClass:U5},{provide:yn,useValue:"NoopAnimations"},...v$];let oEe=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?y$:NA}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Ot({type:i}),i.\u0275inj=Dt({providers:NA,imports:[d2]}),i})();const sEe={production:!1,apiBaseUrl:"https://api.popcx.com",socketUrl:"socket.popcx.com",baseHref:"/library/",username:"athul",password:"Secret@2020",legacyUrl:"https://dev.plusoneportal.com",legacyLoginRedirect:!1,debug:!0,debugLevel:1,debugComponents:"FieldsCustomSearchComponent",debugTypes:["warn"],entities:!0,aliases:!1,pipes:!0,filter:!1,security:!1,permissions:!0};let rEe=(()=>{class i{constructor(e){this.injector=e;const t=function sPe(i,n){const e=function JMe(i,n){return n.get(Va).resolveComponentFactory(i).inputs}(i,n.injector),t=n.strategyFactory||new iPe(i,n.injector),o=function qMe(i){const n={};return i.forEach(({propName:e,templateName:t})=>{n[function UMe(i){return i.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}(t)]=e}),n}(e);class s extends oPe{get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=t.create(this.injector||n.injector);e.forEach(({propName:l})=>{if(!this.hasOwnProperty(l))return;const c=this[l];delete this[l],a.setInputValue(l,c)})}return this._ngElementStrategy}constructor(a){super(),this.injector=a}attributeChangedCallback(a,l,c,A){this.ngElementStrategy.setInputValue(o[a],c)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const l=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(l)})}}return s.observedAttributes=Object.keys(o),e.forEach(({propName:r})=>{Object.defineProperty(s.prototype,r,{get(){return this.ngElementStrategy.getInputValue(r)},set(a){this.ngElementStrategy.setInputValue(r,a)},configurable:!0,enumerable:!0})}),s}(uA,{injector:this.injector});customElements.define("hello-world",t)}ngDoBootstrap(){}}return i.\u0275fac=function(e){return new(e||i)(Le(Jn))},i.\u0275mod=Ot({type:i,bootstrap:[WMe,uA,N5]}),i.\u0275inj=Dt({imports:[d2,GMe,oEe,rd,el,od,OIe,zc,zMe,ur,Xve.forRoot(sEe),jke.forRoot([],{entities:!0,filter:!0,pipes:!0,aliases:!0,redirect:!1,permissions:!0,socket:!0})]}),i})();LU().bootstrapModule(rEe).catch(i=>console.error(i))},623:yp=>{self,yp.exports=function(){return ec={897:function(je,M,ue){"use strict";ue.d(M,{x:function(){return ye}});var Ae=ue(2602),z=ue(9791),oe=ue(7907);function be(ce){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(J){return typeof J}:function(J){return J&&"function"==typeof Symbol&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J})(ce)}function fe(ce,J){for(var O=0;O<J.length;O++){var T=J[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(ce,(j=function(N,F){if("object"!==be(N)||null===N)return N;var v=N[Symbol.toPrimitive];if(void 0===v)return String(N);if("object"!==be(v=v.call(N,"string")))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}(j=T.key),"symbol"===be(j)?j:String(j)),T)}var j}var ye=function(){function ce(j,v){if(!(this instanceof ce))throw new TypeError("Cannot call a class as a function");this.dom={};var F=this,p=this.dom,b=((this.anchor=void 0,this.items=j,this.eventListeners={},this.selection=void 0,this.onClose=v?v.close:void 0,this.limitHeight=!!v&&v.limitHeight,v=document.createElement("div")).className="jsoneditor-contextmenu-root",p.root=v,document.createElement("div"));(b.className="jsoneditor-contextmenu",p.menu=b,v.appendChild(b),v=document.createElement("ul")).className="jsoneditor-menu",b.appendChild(v),p.list=v,p.items=[],((b=document.createElement("button")).type="button",p.focusButton=b,p=document.createElement("li")).style.overflow="hidden",p.style.height="0",p.appendChild(b),v.appendChild(p),function u(h,d,f){f.forEach(function(k){var m,y,S,V,E,w;"separator"===k.type?((E=document.createElement("div")).className="jsoneditor-separator",(y=document.createElement("li")).appendChild(E),h.appendChild(y)):(m={},E=document.createElement("li"),h.appendChild(E),(y=document.createElement("button")).type="button",y.className=k.className,m.button=y,k.title&&(y.title=k.title),k.click&&(y.onclick=function(B){B.preventDefault(),F.hide(),k.click()}),E.appendChild(y),k.submenu?((V=document.createElement("div")).className="jsoneditor-icon",y.appendChild(V),(V=document.createElement("div")).className="jsoneditor-text"+(k.click?"":" jsoneditor-right-margin"),V.appendChild(document.createTextNode(k.text)),y.appendChild(V),(S=k.click?(y.className+=" jsoneditor-default",(V=document.createElement("button")).type="button",(m.buttonExpand=V).className="jsoneditor-expand",(w=document.createElement("div")).className="jsoneditor-expand",V.appendChild(w),E.appendChild(V),k.submenuTitle&&(V.title=k.submenuTitle),V):((w=document.createElement("div")).className="jsoneditor-expand",y.appendChild(w),y)).onclick=function(B){B.preventDefault(),F._onExpandItem(m),S.focus()},m.subItems=V=[],w=document.createElement("ul"),(m.ul=w).className="jsoneditor-menu",w.style.height="0",E.appendChild(w),u(w,V,k.submenu)):((E=document.createElement("div")).className="jsoneditor-icon",y.appendChild(E),(w=document.createElement("div")).className="jsoneditor-text",w.appendChild(document.createTextNode((0,oe.Iu)(k.text))),y.appendChild(w)),d.push(m))})}(v,this.dom.items,j),this.maxHeight=0,j.forEach(function(u){u=24*(j.length+(u.submenu?u.submenu.length:0)),F.maxHeight=Math.max(F.maxHeight,u)})}var J,O;return J=ce,(O=[{key:"_getVisibleButtons",value:function(){var j=[],N=this;return this.dom.items.forEach(function(F){j.push(F.button),F.buttonExpand&&j.push(F.buttonExpand),F.subItems&&F===N.expandedItem&&F.subItems.forEach(function(v){j.push(v.button),v.buttonExpand&&j.push(v.buttonExpand)})}),j}},{key:"show",value:function(j,d,F){this.hide();var v=!0,p=j.parentNode,b=j.getBoundingClientRect(),u=(p=p.getBoundingClientRect(),d.getBoundingClientRect()),h=this;this.dom.absoluteAnchor=(0,Ae.w)(j,d,function(){h.hide()}),b.bottom+this.maxHeight<u.bottom||b.top-this.maxHeight>u.top&&(v=!1),d=F?0:b.top-p.top,v?(F=j.offsetHeight,this.dom.menu.style.left="0",this.dom.menu.style.top=d+F+"px",this.dom.menu.style.bottom=""):(this.dom.menu.style.left="0",this.dom.menu.style.top="",this.dom.menu.style.bottom="0px"),this.limitHeight&&(this.dom.list.style.maxHeight=(p=v?u.bottom-b.bottom-10:b.top-u.top-10)+"px",this.dom.list.style.overflowY="auto"),this.dom.absoluteAnchor.appendChild(this.dom.root),this.selection=(0,z.getSelection)(),this.anchor=j,setTimeout(function(){h.dom.focusButton.focus()},0),ce.visibleMenu&&ce.visibleMenu.hide(),ce.visibleMenu=this}},{key:"hide",value:function(){this.dom.absoluteAnchor&&(this.dom.absoluteAnchor.destroy(),delete this.dom.absoluteAnchor),this.dom.root.parentNode&&(this.dom.root.parentNode.removeChild(this.dom.root),this.onClose)&&this.onClose(),ce.visibleMenu===this&&(ce.visibleMenu=void 0)}},{key:"_onExpandItem",value:function(j){var N,F=this,v=j===this.expandedItem,b=this.expandedItem;b&&(b.ul.style.height="0",b.ul.style.padding="",setTimeout(function(){F.expandedItem!==b&&(b.ul.style.display="",z.removeClassName)(b.ul.parentNode,"jsoneditor-selected")},300),this.expandedItem=void 0),v||((N=j.ul).style.display="block",setTimeout(function(){if(F.expandedItem===j){for(var p=0,u=0;u<N.childNodes.length;u++)p+=N.childNodes[u].clientHeight;N.style.height=p+"px",N.style.padding="5px 10px"}},0),(0,z.addClassName)(N.parentNode,"jsoneditor-selected"),this.expandedItem=j)}},{key:"_onKeyDown",value:function(j){var N,F,v,b,p=j.target,u=j.which,h=!1;27===u?(this.selection&&(0,z.setSelection)(this.selection),this.anchor&&this.anchor.focus(),this.hide(),h=!0):9===u?j.shiftKey?0===(F=(N=this._getVisibleButtons()).indexOf(p))&&(N[N.length-1].focus(),h=!0):(F=(N=this._getVisibleButtons()).indexOf(p))===N.length-1&&(N[0].focus(),h=!0):37===u?("jsoneditor-expand"===p.className&&(F=(N=this._getVisibleButtons()).indexOf(p),v=N[F-1])&&v.focus(),h=!0):38===u?(F=(N=this._getVisibleButtons()).indexOf(p),(v=(v=(v=N[F-1])&&"jsoneditor-expand"===v.className?N[F-2]:v)||N[N.length-1])&&v.focus(),h=!0):39===u?(F=(N=this._getVisibleButtons()).indexOf(p),(b=N[F+1])&&"jsoneditor-expand"===b.className&&b.focus(),h=!0):40===u&&(F=(N=this._getVisibleButtons()).indexOf(p),(b=(b=(b=N[F+1])&&"jsoneditor-expand"===b.className?N[F+2]:b)||N[0])&&(b.focus(),h=!0),h=!0),h&&(j.stopPropagation(),j.preventDefault())}}])&&fe(J.prototype,O),Object.defineProperty(J,"prototype",{writable:!1}),ce}();ye.visibleMenu=void 0},6436:function(je,M,ue){"use strict";function Ae(be){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(fe){return typeof fe}:function(fe){return fe&&"function"==typeof Symbol&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe})(be)}function z(be,fe){for(var ye=0;ye<fe.length;ye++){var ce=fe[ye];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(be,(J=function(O,T){if("object"!==Ae(O)||null===O)return O;var j=O[Symbol.toPrimitive];if(void 0===j)return String(O);if("object"!==Ae(j=j.call(O,"string")))return j;throw new TypeError("@@toPrimitive must return a primitive value.")}(J=ce.key),"symbol"===Ae(J)?J:String(J)),ce)}var J}ue.d(M,{Q:function(){return oe}});var oe=function(){function be(O){if(!(this instanceof be))throw new TypeError("Cannot call a class as a function");var T;this.errorTableVisible=O.errorTableVisible,this.onToggleVisibility=O.onToggleVisibility,this.onFocusLine=O.onFocusLine||function(){},this.onChangeHeight=O.onChangeHeight,this.dom={},((O=document.createElement("div")).className="jsoneditor-validation-errors-container",this.dom.validationErrorsContainer=O,T=document.createElement("div")).style.display="none",T.className="jsoneditor-additional-errors fadein",T.textContent="Scroll for more \u25bf",this.dom.additionalErrorsIndication=T,O.appendChild(T),((O=document.createElement("span")).className="jsoneditor-validation-error-icon",O.style.display="none",this.dom.validationErrorIcon=O,T=document.createElement("span")).className="jsoneditor-validation-error-count",T.style.display="none",this.dom.validationErrorCount=T,this.dom.parseErrorIndication=document.createElement("span"),this.dom.parseErrorIndication.className="jsoneditor-parse-error-icon",this.dom.parseErrorIndication.style.display="none"}var fe,ye;return fe=be,(ye=[{key:"getErrorTable",value:function(){return this.dom.validationErrorsContainer}},{key:"getErrorCounter",value:function(){return this.dom.validationErrorCount}},{key:"getWarningIcon",value:function(){return this.dom.validationErrorIcon}},{key:"getErrorIcon",value:function(){return this.dom.parseErrorIndication}},{key:"toggleTableVisibility",value:function(){this.errorTableVisible=!this.errorTableVisible,this.onToggleVisibility(this.errorTableVisible)}},{key:"setErrors",value:function(J,O){var T,j,N=this,F=(this.dom.validationErrors&&(this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors),this.dom.validationErrors=null,this.dom.additionalErrorsIndication.style.display="none"),this.errorTableVisible&&0<J.length?((F=document.createElement("div")).className="jsoneditor-validation-errors",(j=document.createElement("table")).className="jsoneditor-text-errors",F.appendChild(j),T=document.createElement("tbody"),j.appendChild(T),J.forEach(function(v){isNaN(v.line)?v.dataPath&&(p=O.find(function(d){return d.path===v.dataPath}))&&(b=p.line+1):b=v.line;var b,h,p=document.createElement("tr"),u=(p.className=isNaN(b)?"":"jump-to-line",p.className+="error"===v.type?" parse-error":" validation-error",document.createElement("td"));((h=document.createElement("button")).className="jsoneditor-schema-error",u.appendChild(h),p.appendChild(u),h=document.createElement("td")).style="white-space: nowrap;",h.textContent=isNaN(b)?"":"Ln "+b,p.appendChild(h),"string"==typeof v?((u=document.createElement("td")).colSpan=2,(h=document.createElement("pre")).appendChild(document.createTextNode(v)),u.appendChild(h),p.appendChild(u)):((h=document.createElement("td")).appendChild(document.createTextNode(v.dataPath||"")),p.appendChild(h),u=document.createElement("td"),(h=document.createElement("pre")).appendChild(document.createTextNode(v.message.replace(/<br>/gi,"\n"))),u.appendChild(h),p.appendChild(u)),p.onclick=function(){N.onFocusLine(b)},T.appendChild(p)}),this.dom.validationErrors=F,this.dom.validationErrorsContainer.appendChild(F),this.dom.additionalErrorsIndication.title=J.length+" errors total",this.dom.validationErrorsContainer.clientHeight<this.dom.validationErrorsContainer.scrollHeight?(this.dom.additionalErrorsIndication.style.display="block",this.dom.validationErrorsContainer.onscroll=function(){N.dom.additionalErrorsIndication.style.display=0<N.dom.validationErrorsContainer.clientHeight&&0===N.dom.validationErrorsContainer.scrollTop?"block":"none"}):this.dom.validationErrorsContainer.onscroll=void 0,this.onChangeHeight(j=this.dom.validationErrorsContainer.clientHeight+(this.dom.statusBar?this.dom.statusBar.clientHeight:0))):this.onChangeHeight(0),J.filter(function(v){return"error"!==v.type}).length);0<F?(this.dom.validationErrorCount.style.display="inline",this.dom.validationErrorCount.innerText=F,this.dom.validationErrorCount.onclick=this.toggleTableVisibility.bind(this),this.dom.validationErrorIcon.style.display="inline",this.dom.validationErrorIcon.title=F+" schema validation error(s) found",this.dom.validationErrorIcon.onclick=this.toggleTableVisibility.bind(this)):(this.dom.validationErrorCount.style.display="none",this.dom.validationErrorIcon.style.display="none"),J.some(function(v){return"error"===v.type})?(j=J[0].line,this.dom.parseErrorIndication.style.display="block",this.dom.parseErrorIndication.title=isNaN(j)?"parse error - check that the json is valid":"parse error on line "+j,this.dom.parseErrorIndication.onclick=this.toggleTableVisibility.bind(this)):this.dom.parseErrorIndication.style.display="none"}}])&&z(fe.prototype,ye),Object.defineProperty(fe,"prototype",{writable:!1}),be}()},2474:function(je,M,ue){"use strict";function Ae(be){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(fe){return typeof fe}:function(fe){return fe&&"function"==typeof Symbol&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe})(be)}function z(be,fe){for(var ye=0;ye<fe.length;ye++){var ce=fe[ye];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(be,(J=function(O,T){if("object"!==Ae(O)||null===O)return O;var j=O[Symbol.toPrimitive];if(void 0===j)return String(O);if("object"!==Ae(j=j.call(O,"string")))return j;throw new TypeError("@@toPrimitive must return a primitive value.")}(J=ce.key),"symbol"===Ae(J)?J:String(J)),ce)}var J}ue.d(M,{R:function(){return oe}});var oe=function(){function be(J){if(!(this instanceof be))throw new TypeError("Cannot call a class as a function");if(this.target=J.target||null,!this.target)throw new Error('FocusTracker constructor called without a "target" to track.');this.onFocus="function"==typeof J.onFocus?J.onFocus:null,this.onBlur="function"==typeof J.onBlur?J.onBlur:null,this._onClick=this._onEvent.bind(this),this._onKeyUp=function(O){9!==O.which&&9!==O.keyCode||this._onEvent(O)}.bind(this),this._onBlur=this._onEvent.bind(this),this.focusFlag=!1,this.firstEventFlag=!0,(this.onFocus||this.onBlur)&&(document.addEventListener("click",this._onClick),document.addEventListener("keyup",this._onKeyUp),document.addEventListener("blur",this._onBlur))}var fe,ye;return fe=be,(ye=[{key:"destroy",value:function(){document.removeEventListener("click",this._onClick),document.removeEventListener("keyup",this._onKeyUp),document.removeEventListener("blur",this._onBlur),this._onEvent({target:document.body})}},{key:"_onEvent",value:function(J){(J=(J=J.target)===this.target||!(!this.target.contains(J)&&!this.target.contains(document.activeElement)))?this.focusFlag||(this.onFocus&&this.onFocus({type:"focus",target:this.target}),this.focusFlag=!0):(this.focusFlag||this.firstEventFlag)&&(this.onBlur&&this.onBlur({type:"blur",target:this.target}),this.focusFlag=!1,this.firstEventFlag)&&(this.firstEventFlag=!1)}}])&&z(fe.prototype,ye),Object.defineProperty(fe,"prototype",{writable:!1}),be}()},3161:function(je,M,ue){"use strict";var Ae=ue(8170),z=ue(8037),oe=ue(8038).treeModeMixins,be=ue(8458).textModeMixins,fe=ue(341).previewModeMixins,ye=(j=ue(9791)).clear,ce=j.extend,J=j.getInnerText,O=j.getInternetExplorerVersion,T=j.parse,j=ue(2744).tryRequireAjv,N=ue(2558).showTransformModal,F=ue(6210).showSortModal,v=j();function b(p,u,h){if(!(this instanceof b))throw new Error('JSONEditor constructor called without "new".');var d=O();if(-1!==d&&d<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");u&&(u.error&&(console.warn('Option "error" has been renamed to "onError"'),u.onError=u.error,delete u.error),u.change&&(console.warn('Option "change" has been renamed to "onChange"'),u.onChange=u.change,delete u.change),u.editable&&(console.warn('Option "editable" has been renamed to "onEditable"'),u.onEditable=u.editable,delete u.editable),u.onChangeJSON&&("text"===u.mode||"code"===u.mode||u.modes&&(-1!==u.modes.indexOf("text")||-1!==u.modes.indexOf("code")))&&console.warn('Option "onChangeJSON" is not applicable to modes "text" and "code". Use "onChangeText" or "onChange" instead.'),u)&&Object.keys(u).forEach(function(f){-1===b.VALID_OPTIONS.indexOf(f)&&console.warn('Unknown option "'+f+'". This option will be ignored')}),arguments.length&&this._create(p,u,h)}typeof Promise>"u"&&console.error("Promise undefined. Please load a Promise polyfill in the browser in order to use JSONEditor"),b.modes={},b.prototype.DEBOUNCE_INTERVAL=150,b.VALID_OPTIONS=["ajv","schema","schemaRefs","templates","ace","theme","autocomplete","onChange","onChangeJSON","onChangeText","onExpand","onEditable","onError","onEvent","onModeChange","onNodeName","onValidate","onCreateMenu","onSelectionChange","onTextSelectionChange","onClassName","onFocus","onBlur","colorPicker","onColorPicker","timestampTag","timestampFormat","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys","navigationBar","statusBar","mainMenuBar","languages","language","enableSort","enableTransform","limitDragging","maxVisibleChilds","onValidationError","modalAnchor","popupAnchor","createQuery","executeQuery","queryDescription","allowSchemaSuggestions"],b.prototype._create=function(p,u,h){this.container=p,this.options=u||{},this.json=h||{},this.setMode(p=this.options.mode||this.options.modes&&this.options.modes[0]||"tree")},b.prototype.destroy=function(){},b.prototype.set=function(p){this.json=p},b.prototype.get=function(){return this.json},b.prototype.setText=function(p){this.json=T(p)},b.prototype.getText=function(){return JSON.stringify(this.json)},b.prototype.setName=function(p){this.options||(this.options={}),this.options.name=p},b.prototype.getName=function(){return this.options&&this.options.name},b.prototype.setMode=function(p){if(p!==this.options.mode||!this.create){var u=this.container,h=ce({},this.options),d=h.mode,f=(h.mode=p,b.modes[p]);if(!f)throw new Error('Unknown mode "'+h.mode+'"');var k="text"===f.data,m=this.getName(),y=this[k?"getText":"get"]();if(this.destroy(),ye(this),ce(this,f.mixin),this.create(u,h),this.setName(m),this[k?"setText":"set"](y),"function"==typeof f.load)try{f.load.call(this)}catch(S){console.error(S)}if("function"==typeof h.onModeChange&&p!==d)try{h.onModeChange(p,d)}catch(S){console.error(S)}}},b.prototype.getMode=function(){return this.options.mode},b.prototype._onError=function(p){this.options&&"function"==typeof this.options.onError?this.options.onError(p):window.alert(p.toString())},b.prototype.setSchema=function(p,u){if(p){var h;try{this.options.ajv?h=this.options.ajv:((h=v({allErrors:!0,verbose:!0,schemaId:"auto",$data:!0})).addMetaSchema(ue(7171)),h.addMetaSchema(ue(6273)))}catch{console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}if(h){if(u){for(var d in u)h.removeSchema(d),u[d]&&h.addSchema(u[d],d);this.options.schemaRefs=u}this.validateSchema=h.compile(p),this.options.schema=p,this.options.schemaRefs=u,this.validate()}}else this.validateSchema=null,this.options.schema=null,this.options.schemaRefs=null,this.validate();this.refresh(),"function"==typeof this._onSchemaChange&&this._onSchemaChange(p,u)},b.prototype.validate=function(){},b.prototype.refresh=function(){},(b.registerMode=function(p){var u;if(Array.isArray(p))for(f=0;f<p.length;f++)b.registerMode(p[f]);else{if(!("mode"in p))throw new Error('Property "mode" missing');if(!("mixin"in p))throw new Error('Property "mixin" missing');if(!("data"in p))throw new Error('Property "data" missing');var h=p.mode;if(h in b.modes)throw new Error('Mode "'+h+'" already registered');if("function"!=typeof p.mixin.create)throw new Error('Required function "create" missing on mixin');for(var d=["setMode","registerMode","modes"],f=0;f<d.length;f++)if((u=d[f])in p.mixin)throw new Error('Reserved property "'+u+'" not allowed in mixin');b.modes[h]=p}})(oe),b.registerMode(be),b.registerMode(fe),b.ace=Ae,b.Ajv=v,b.VanillaPicker=z,b.showTransformModal=N,b.showSortModal=F,b.getInnerText=J,je.exports=b.default=b},6617:function(je,M,ue){"use strict";ue.d(M,{x:function(){return fe}});var Ae=ue(897),z=ue(7907);function oe(ye){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(ye)}function be(ye,ce){for(var J=0;J<ce.length;J++){var O=ce[J];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(ye,(T=function(j,N){if("object"!==oe(j)||null===j)return j;var F=j[Symbol.toPrimitive];if(void 0===F)return String(j);if("object"!==oe(F=F.call(j,"string")))return F;throw new TypeError("@@toPrimitive must return a primitive value.")}(T=O.key),"symbol"===oe(T)?T:String(T)),O)}var T}var fe=function(){function ye(T,j,N,F){if(!(this instanceof ye))throw new TypeError("Cannot call a class as a function");for(var v={code:{text:(0,z.Iu)("modeCodeText"),title:(0,z.Iu)("modeCodeTitle"),click:function(){F("code")}},form:{text:(0,z.Iu)("modeFormText"),title:(0,z.Iu)("modeFormTitle"),click:function(){F("form")}},text:{text:(0,z.Iu)("modeTextText"),title:(0,z.Iu)("modeTextTitle"),click:function(){F("text")}},tree:{text:(0,z.Iu)("modeTreeText"),title:(0,z.Iu)("modeTreeTitle"),click:function(){F("tree")}},view:{text:(0,z.Iu)("modeViewText"),title:(0,z.Iu)("modeViewTitle"),click:function(){F("view")}},preview:{text:(0,z.Iu)("modePreviewText"),title:(0,z.Iu)("modePreviewTitle"),click:function(){F("preview")}}},b=[],p=0;p<j.length;p++){var u=j[p],h=v[u];if(!h)throw new Error('Unknown mode "'+u+'"');h.className="jsoneditor-type-modes"+(N===u?" jsoneditor-selected":""),b.push(h)}if(!(f=v[N]))throw new Error('Unknown mode "'+N+'"');var f=f.text,d=document.createElement("button");(d.type="button",d.className="jsoneditor-modes jsoneditor-separator",d.textContent=f+" \u25be",d.title=(0,z.Iu)("modeEditorTitle"),d.onclick=function(){new Ae.x(b).show(d,T)},f=document.createElement("div")).className="jsoneditor-modes",f.style.position="relative",f.appendChild(d),T.appendChild(f),this.dom={container:T,box:d,frame:f}}var ce,J;return ce=ye,(J=[{key:"focus",value:function(){this.dom.box.focus()}},{key:"destroy",value:function(){this.dom&&this.dom.frame&&this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom=null}}])&&be(ce.prototype,J),Object.defineProperty(ce,"prototype",{writable:!1}),ye}()},8170:function(je,M,ue){var Ae;if(window.ace)Ae=window.ace;else try{Ae=ue(6225),ue(4091),ue(3330),ue(4317);var z=ue(7923);Ae.config.setModuleUrl("ace/mode/json_worker",z)}catch{}je.exports=Ae},4864:function(){window.ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],function(je,M,ue){M.isDark=!1,M.cssClass="ace-jsoneditor",M.cssText='.ace-jsoneditor .ace_gutter {\nbackground: #ebebeb;\ncolor: #333\n}\n\n.ace-jsoneditor.ace_editor {\nline-height: 1.3;\nbackground-color: #fff;\n}\n.ace-jsoneditor .ace_print-margin {\nwidth: 1px;\nbackground: #e8e8e8\n}\n.ace-jsoneditor .ace_scroller {\nbackground-color: #FFFFFF\n}\n.ace-jsoneditor .ace_text-layer {\ncolor: gray\n}\n.ace-jsoneditor .ace_variable {\ncolor: #1a1a1a\n}\n.ace-jsoneditor .ace_cursor {\nborder-left: 2px solid #000000\n}\n.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\nborder-left: 0px;\nborder-bottom: 1px solid #000000\n}\n.ace-jsoneditor .ace_marker-layer .ace_selection {\nbackground: lightgray\n}\n.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\nbox-shadow: 0 0 3px 0px #FFFFFF;\nborder-radius: 2px\n}\n.ace-jsoneditor .ace_marker-layer .ace_step {\nbackground: rgb(255, 255, 0)\n}\n.ace-jsoneditor .ace_marker-layer .ace_bracket {\nmargin: -1px 0 0 -1px;\nborder: 1px solid #BFBFBF\n}\n.ace-jsoneditor .ace_marker-layer .ace_active-line {\nbackground: #FFFBD1\n}\n.ace-jsoneditor .ace_gutter-active-line {\nbackground-color : #dcdcdc\n}\n.ace-jsoneditor .ace_marker-layer .ace_selected-word {\nborder: 1px solid lightgray\n}\n.ace-jsoneditor .ace_invisible {\ncolor: #BFBFBF\n}\n.ace-jsoneditor .ace_keyword,\n.ace-jsoneditor .ace_meta,\n.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\ncolor: #AF956F\n}\n.ace-jsoneditor .ace_keyword.ace_operator {\ncolor: #484848\n}\n.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\ncolor: #96DC5F\n}\n.ace-jsoneditor .ace_constant.ace_language {\ncolor: darkorange\n}\n.ace-jsoneditor .ace_constant.ace_numeric {\ncolor: red\n}\n.ace-jsoneditor .ace_constant.ace_character.ace_entity {\ncolor: #BF78CC\n}\n.ace-jsoneditor .ace_invalid {\ncolor: #FFFFFF;\nbackground-color: #FF002A;\n}\n.ace-jsoneditor .ace_fold {\nbackground-color: #AF956F;\nborder-color: #000000\n}\n.ace-jsoneditor .ace_storage,\n.ace-jsoneditor .ace_support.ace_class,\n.ace-jsoneditor .ace_support.ace_function,\n.ace-jsoneditor .ace_support.ace_other,\n.ace-jsoneditor .ace_support.ace_type {\ncolor: #C52727\n}\n.ace-jsoneditor .ace_string {\ncolor: green\n}\n.ace-jsoneditor .ace_comment {\ncolor: #BCC8BA\n}\n.ace-jsoneditor .ace_entity.ace_name.ace_tag,\n.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\ncolor: #606060\n}\n.ace-jsoneditor .ace_markup.ace_underline {\ntext-decoration: underline\n}\n.ace-jsoneditor .ace_indent-guide {\nbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y\n}',je("../lib/dom").importCssString(M.cssText,M.cssClass)})},6589:function(je,M){var ue;(ue={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(Ae,z,oe,be,fe,ye,ce){var J=ye.length-1;switch(fe){case 1:this.$=Ae.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(Ae);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=ye[J-1];case 13:this.$={};break;case 14:case 19:this.$=ye[J-1];break;case 15:this.$=[ye[J-2],ye[J]];break;case 16:this.$={},this.$[ye[J][0]]=ye[J][1];break;case 17:this.$=ye[J-2],ye[J-2][ye[J][0]]=ye[J][1];break;case 18:this.$=[];break;case 20:this.$=[ye[J]];break;case 21:this.$=ye[J-2],ye[J-2].push(ye[J])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(Ae,z){throw new Error(Ae)},parse:function(Ae){var z=this,oe=[0],be=[null],fe=[],ye=this.table,ce="",J=0,O=0,T=0,j=(this.lexer.setInput(Ae),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={}),this.lexer.yylloc);function N(){var S=z.lexer.lex()||1;return"number"!=typeof S&&z.symbols_[S]||S}fe.push(j),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var F,v,b,p,u,h,d,f,m={};;){if(void 0===(p=this.defaultActions[b=oe[oe.length-1]]||(null==F&&(F=N()),ye[b]&&ye[b][F]))||!p.length||!p[0]){if(!T){for(u in f=[],ye[b])this.terminals_[u]&&2<u&&f.push("'"+this.terminals_[u]+"'");var y="";y=this.lexer.showPosition?"Parse error on line "+(J+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+f.join(", ")+", got '"+this.terminals_[F]+"'":"Parse error on line "+(J+1)+": Unexpected "+(1==F?"end of input":"'"+(this.terminals_[F]||F)+"'"),this.parseError(y,{text:this.lexer.match,token:this.terminals_[F]||F,line:this.lexer.yylineno,loc:j,expected:f})}if(3==T){if(1==F)throw new Error(y||"Parsing halted.");O=this.lexer.yyleng,ce=this.lexer.yytext,J=this.lexer.yylineno,j=this.lexer.yylloc,F=N()}for(;!(2..toString()in ye[b]);){if(0==b)throw new Error(y||"Parsing halted.");oe.length=oe.length-2*1,be.length=be.length-1,fe.length=fe.length-1,b=oe[oe.length-1]}v=F,F=2,p=ye[b=oe[oe.length-1]]&&ye[b][2],T=3}if(p[0]instanceof Array&&1<p.length)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+F);switch(p[0]){case 1:oe.push(F),be.push(this.lexer.yytext),fe.push(this.lexer.yylloc),oe.push(p[1]),F=null,v?(F=v,v=null):(O=this.lexer.yyleng,ce=this.lexer.yytext,J=this.lexer.yylineno,j=this.lexer.yylloc,0<T&&T--);break;case 2:if(m.$=be[be.length-(h=this.productions_[p[1]][1])],m._$={first_line:fe[fe.length-(h||1)].first_line,last_line:fe[fe.length-1].last_line,first_column:fe[fe.length-(h||1)].first_column,last_column:fe[fe.length-1].last_column},void 0!==(d=this.performAction.call(m,ce,O,J,this.yy,p[1],be,fe)))return d;h&&(oe=oe.slice(0,-1*h*2),be=be.slice(0,-1*h),fe=fe.slice(0,-1*h)),oe.push(this.productions_[p[1]][0]),be.push(m.$),fe.push(m._$),oe.push(d=ye[oe[oe.length-2]][oe[oe.length-1]]);break;case 3:return!0}}return!0}}).lexer={EOF:1,parseError:function(Ae,z){if(!this.yy.parseError)throw new Error(Ae);this.yy.parseError(Ae,z)},setInput:function(Ae){return this._input=Ae,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var Ae=this._input[0];return this.yytext+=Ae,this.yyleng++,this.match+=Ae,this.matched+=Ae,Ae.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),Ae},unput:function(Ae){return this._input=Ae+this._input,this},more:function(){return this._more=!0,this},less:function(Ae){this._input=this.match.slice(Ae)+this._input},pastInput:function(){var Ae=this.matched.substr(0,this.matched.length-this.match.length);return(20<Ae.length?"...":"")+Ae.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ae=this.match;return Ae.length<20&&(Ae+=this._input.substr(0,20-Ae.length)),(Ae.substr(0,20)+(20<Ae.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ae=this.pastInput(),z=new Array(Ae.length+1).join("-");return Ae+this.upcomingInput()+"\n"+z+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Ae,z,oe,be,fe=this._currentRules(),ye=0;ye<fe.length&&(!(z=this._input.match(this.rules[fe[ye]]))||Ae&&!(z[0].length>Ae[0].length)||(Ae=z,oe=ye,this.options.flex));ye++);return Ae?((be=Ae[0].match(/\n.*/g))&&(this.yylineno+=be.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:be?be[be.length-1].length-1:this.yylloc.last_column+Ae[0].length},this.yytext+=Ae[0],this.match+=Ae[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(Ae[0].length),this.matched+=Ae[0],be=this.performAction.call(this,this.yy,this,fe[oe],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),be||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ae=this.next();return void 0!==Ae?Ae:this.lex()},begin:function(Ae){this.conditionStack.push(Ae)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(Ae){this.begin(Ae)},options:{},performAction:function(Ae,z,oe,be){switch(oe){case 0:break;case 1:return 6;case 2:return z.yytext=z.yytext.substr(1,z.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}},M.parser=ue,M.parse=ue.parse.bind(ue)},3879:function(je){"use strict";function M(){}M.prototype={on:function(J,O){this._events=this._events||{},this._events[J]=this._events[J]||[],this._events[J].push(O)},off:function(J,O){this._events=this._events||{},J in this._events&&this._events[J].splice(this._events[J].indexOf(O),1)},emit:function(J){if(this._events=this._events||{},J in this._events)for(var O=0;O<this._events[J].length;O++)this._events[J][O].apply(this,Array.prototype.slice.call(arguments,1))}},M.mixin=function(J){for(var O=["on","off","emit"],T=0;T<O.length;T++)"function"==typeof J?J.prototype[O[T]]=M.prototype[O[T]]:J[O[T]]=M.prototype[O[T]];return J};var ue={escapeRegExp:function(J){var O=/[\\^$.*+?()[\]{}|]/g,T=new RegExp(O.source);return J&&T.test(J)?J.replace(O,"\\$&"):J},extend:function(J,O){for(var T in O){var j;O.hasOwnProperty(T)&&((j=O[T])&&"[object Object]"===Object.prototype.toString.call(j)?(J[T]=J[T]||{},ue.extend(J[T],j)):J[T]=j)}return J},each:function(J,O,T){if("[object Object]"===Object.prototype.toString.call(J))for(var j in J)Object.prototype.hasOwnProperty.call(J,j)&&O.call(T,j,J[j],J);else for(var N=0,F=J.length;N<F;N++)O.call(T,N,J[N],J)},createElement:function(J,O){var T,j=document.createElement(J);if(O&&"[object Object]"===Object.prototype.toString.call(O))for(T in O)T in j?j[T]=O[T]:"html"===T?j.innerHTML=O[T]:j.setAttribute(T,O[T]);return j},hasClass:function(J,O){if(J)return J.classList?J.classList.contains(O):!!J.className&&!!J.className.match(new RegExp("(\\s|^)"+O+"(\\s|$)"))},addClass:function(J,O){ue.hasClass(J,O)||(J.classList?J.classList.add(O):J.className=J.className.trim()+" "+O)},removeClass:function(J,O){ue.hasClass(J,O)&&(J.classList?J.classList.remove(O):J.className=J.className.replace(new RegExp("(^|\\s)"+O.split(" ").join("|")+"(\\s|$)","gi")," "))},closest:function(J,O){return J&&J!==document.body&&(O(J)?J:ue.closest(J.parentNode,O))},isInt:function(J){return"number"==typeof J&&isFinite(J)&&Math.floor(J)===J},debounce:function(J,O,T){var j;return function(){var N=this,F=arguments,v=T&&!j;clearTimeout(j),j=setTimeout(function(){j=null,T||J.apply(N,F)},O),v&&J.apply(N,F)}},rect:function(j,F){var T=window,N=(j=j.getBoundingClientRect(),F?T.pageXOffset:0);return{bottom:j.bottom+(F=F?T.pageYOffset:0),height:j.height,left:j.left+N,right:j.right+N,top:j.top+F,width:j.width}},includes:function(J,O){return-1<J.indexOf(O)},startsWith:function(J,O){return J.substr(0,O.length)===O},truncate:function(J){for(;J.firstChild;)J.removeChild(J.firstChild)}};function Ae(J,O){return J.hasOwnProperty(O)&&(!0===J[O]||J[O].length)}function z(J,O,T){J.parentNode?J.parentNode.parentNode||O.appendChild(J.parentNode):O.appendChild(J),ue.removeClass(J,"excluded"),T||(J.textContent=J.textContent)}function oe(){var J,O;this.items.length&&(J=document.createDocumentFragment(),this.config.pagination?(O=this.pages.slice(0,this.pageIndex),ue.each(O,function(T,j){ue.each(j,function(N,F){z(F,J,this.customOption)},this)},this)):ue.each(this.items,function(T,j){z(j,J,this.customOption)},this),J.childElementCount&&(ue.removeClass(this.items[this.navIndex],"active"),this.navIndex=(J.querySelector(".selectr-option.selected")||J.querySelector(".selectr-option")).idx,ue.addClass(this.items[this.navIndex],"active")),this.tree.appendChild(J))}function be(J,O){O=O||J;var T={class:"selectr-option",role:"treeitem","aria-selected":!1};return this.customOption?T.html=this.config.renderOption(O):T.textContent=J.textContent,(O=ue.createElement("li",T)).idx=J.idx,this.items.push(O),J.defaultSelected&&this.defaultSelected.push(J.idx),J.disabled&&(O.disabled=!0,ue.addClass(O,"disabled")),O}function fe(){var J,O=this.tree;O.scrollHeight-O.offsetHeight<=O.scrollTop&&this.pageIndex<this.pages.length&&(J=document.createDocumentFragment(),ue.each(this.pages[this.pageIndex],function(j,N){z(N,J,this.customOption)},this),O.appendChild(J),this.pageIndex++,this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length}))}function ye(){(this.config.searchable||this.config.taggable)&&(this.input.value=null,this.searching=!1,this.config.searchable&&ue.removeClass(this.inputContainer,"active"),ue.hasClass(this.container,"notice")&&(ue.removeClass(this.container,"notice"),ue.addClass(this.container,"open"),this.input.focus()),ue.each(this.items,function(J,O){ue.removeClass(O,"excluded"),this.customOption||(O.textContent=O.textContent)},this))}function ce(J,O){if(!J)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");if("string"==typeof(this.el=J)&&(this.el=document.querySelector(J)),null===this.el)throw new Error("The element you passed to Selectr can not be found.");if("select"!==this.el.nodeName.toLowerCase())throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(O)}ce.prototype.render=function(J){var O;this.rendered||((this.el.selectr=this).config=ue.extend({defaultSelected:!0,width:"auto",disabled:!1,disabledMobile:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,nativeKeyboard:!1,placeholder:"Select an option...",taggable:!1,tagPlaceholder:"Enter a tag...",messages:{noResults:"No results.",noOptions:"No options available.",maxSelections:"A maximum of {max} items can be selected.",tagDuplicate:"That tag is already in use.",searchPlaceholder:"Search options..."}},J),this.originalType=this.el.type,this.originalIndex=this.el.tabIndex,this.defaultSelected=[],this.originalOptionCount=this.el.options.length,(this.config.multiple||this.config.taggable)&&(this.el.multiple=!0),this.disabled=Ae(this.config,"disabled"),this.opened=!1,this.config.taggable&&(this.config.searchable=!1),this.navigating=!1,this.mobileDevice=!1,!this.config.disabledMobile&&/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&(this.mobileDevice=!0),this.customOption=this.config.hasOwnProperty("renderOption")&&"function"==typeof this.config.renderOption,this.customSelected=this.config.hasOwnProperty("renderSelection")&&"function"==typeof this.config.renderSelection,this.supportsEventPassiveOption=this.detectEventPassiveOption(),M.mixin(this),function(){this.requiresPagination=this.config.pagination&&0<this.config.pagination,Ae(this.config,"width")&&(ue.isInt(this.config.width)?this.width=this.config.width+"px":"auto"===this.config.width?this.width="100%":ue.includes(this.config.width,"%")&&(this.width=this.config.width)),this.container=ue.createElement("div",{class:"selectr-container"}),this.config.customClass&&ue.addClass(this.container,this.config.customClass),ue.addClass(this.container,this.mobileDevice?"selectr-mobile":"selectr-desktop"),this.el.tabIndex=-1,ue.addClass(this.el,this.config.nativeDropdown||this.mobileDevice?"selectr-visible":"selectr-hidden"),this.selected=ue.createElement("div",{class:"selectr-selected",disabled:this.disabled,tabIndex:0,"aria-expanded":!1}),this.label=ue.createElement(this.el.multiple?"ul":"span",{class:"selectr-label"});var T=ue.createElement("div",{class:"selectr-options-container"});if(this.tree=ue.createElement("ul",{class:"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1}),this.notice=ue.createElement("div",{class:"selectr-notice"}),this.el.setAttribute("aria-hidden",!0),this.disabled&&(this.el.disabled=!0),this.el.multiple?(ue.addClass(this.label,"selectr-tags"),ue.addClass(this.container,"multiple"),this.tags=[],this.selectedValues=this.config.defaultSelected?this.getSelectedProperties("value"):[],this.selectedIndexes=this.getSelectedProperties("idx")):(this.selectedValue=null,this.selectedIndex=-1),this.selected.appendChild(this.label),this.config.clearable&&(this.selectClear=ue.createElement("button",{class:"selectr-clear",type:"button"}),this.container.appendChild(this.selectClear),ue.addClass(this.container,"clearable")),this.config.taggable){var j=ue.createElement("li",{class:"input-tag"});if(this.input=ue.createElement("input",{class:"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),j.appendChild(this.input),this.label.appendChild(j),ue.addClass(this.container,"taggable"),this.tagSeperators=[","],this.config.tagSeperators){this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators);for(var N=[],F=0;F<this.tagSeperators.length;F++)N.push(ue.escapeRegExp(this.tagSeperators[F]));this.tagSeperatorsRegex=new RegExp(N.join("|"),"i")}else this.tagSeperatorsRegex=new RegExp(",","i")}this.config.searchable&&(this.input=ue.createElement("input",{class:"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search",placeholder:this.config.messages.searchPlaceholder}),this.inputClear=ue.createElement("button",{class:"selectr-input-clear",type:"button"}),this.inputContainer=ue.createElement("div",{class:"selectr-input-container"}),this.inputContainer.appendChild(this.input),this.inputContainer.appendChild(this.inputClear),T.appendChild(this.inputContainer)),T.appendChild(this.notice),T.appendChild(this.tree),this.items=[],this.options=[],this.el.options.length&&(this.options=[].slice.call(this.el.options));var v,b,p,u=!1,h=0;this.el.children.length&&ue.each(this.el.children,function(f,k){"OPTGROUP"===k.nodeName?(u=ue.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+k.label+"</li>"}),ue.each(k.children,function(m,y){y.idx=h,u.appendChild(be.call(this,y,u)),h++},this)):(k.idx=h,be.call(this,k),h++)},this),this.config.data&&Array.isArray(this.config.data)&&(v=!(this.data=[]),u=!1,h=0,ue.each(this.config.data,function(f,k){Ae(k,"children")?(v=ue.createElement("optgroup",{label:k.text}),u=ue.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+k.text+"</li>"}),ue.each(k.children,function(m,y){(b=new Option(y.text,y.value,!1,y.hasOwnProperty("selected")&&!0===y.selected)).disabled=Ae(y,"disabled"),this.options.push(b),v.appendChild(b),b.idx=h,u.appendChild(be.call(this,b,y)),this.data[h]=y,h++},this),this.el.appendChild(v)):((b=new Option(k.text,k.value,!1,k.hasOwnProperty("selected")&&!0===k.selected)).disabled=Ae(k,"disabled"),this.options.push(b),b.idx=h,be.call(this,b,k),this.data[h]=k,h++)},this)),this.setSelected(!0);for(var d=this.navIndex=0;d<this.items.length;d++)if(!ue.hasClass(p=this.items[d],"disabled")){ue.addClass(p,"active"),this.navIndex=d;break}this.requiresPagination&&(this.pageIndex=1,this.paginate()),this.container.appendChild(this.selected),this.container.appendChild(T),this.placeEl=ue.createElement("div",{class:"selectr-placeholder"}),this.setPlaceholder(),this.selected.appendChild(this.placeEl),this.disabled&&this.disable(),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el)}.call(this),this.bindEvents(),this.update(),this.optsRect=ue.rect(this.tree),this.rendered=!0,this.el.multiple||(this.el.selectedIndex=this.selectedIndex),O=this,setTimeout(function(){O.emit("selectr.init")},20))},ce.prototype.getSelected=function(){return this.el.querySelectorAll("option:checked")},ce.prototype.getSelectedProperties=function(J){var O=this.getSelected();return[].slice.call(O).map(function(T){return T[J]}).filter(function(T){return null!=T})},ce.prototype.detectEventPassiveOption=function(){var J=!1;try{var O=Object.defineProperty({},"passive",{get:function(){J=!0}});window.addEventListener("test",null,O)}catch{}return J},ce.prototype.bindEvents=function(){var J,O=this;this.events={},this.events.dismiss=function(T){this.container.contains(T=T.target)||!this.opened&&!ue.hasClass(this.container,"notice")||this.close()}.bind(this),this.events.navigate=function(T){if(T=T||window.event,this.items.length&&this.opened&&ue.includes([13,38,40],T.which)){if(T.preventDefault(),13===T.which)return!(this.noResults||this.config.taggable&&0<this.input.value.length)&&this.change(this.navIndex);var j,N=this.items[this.navIndex],F=this.navIndex;switch(T.which){case 38:(j=0)<this.navIndex&&this.navIndex--;break;case 40:this.navIndex<this.items.length-(j=1)&&this.navIndex++}for(this.navigating=!0;ue.hasClass(this.items[this.navIndex],"disabled")||ue.hasClass(this.items[this.navIndex],"excluded");){if(!(0<this.navIndex&&this.navIndex<this.items.length-1)){this.navIndex=F;break}if(j?this.navIndex++:this.navIndex--,this.searching){if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}}}T=ue.rect(this.items[this.navIndex]),j?(0===this.navIndex?this.tree.scrollTop=0:T.top+T.height>this.optsRect.top+this.optsRect.height&&(this.tree.scrollTop=this.tree.scrollTop+(T.top+T.height-(this.optsRect.top+this.optsRect.height))),this.navIndex===this.tree.childElementCount-1&&this.requiresPagination&&fe.call(this)):0===this.navIndex?this.tree.scrollTop=0:T.top-this.optsRect.top<0&&(this.tree.scrollTop=this.tree.scrollTop+(T.top-this.optsRect.top)),N&&ue.removeClass(N,"active"),ue.addClass(this.items[this.navIndex],"active")}else this.navigating=!1}.bind(this),this.events.reset=this.reset.bind(this),(this.config.nativeDropdown||this.mobileDevice)&&(this.container.addEventListener("touchstart",function(T){T.changedTouches[0].target===O.el&&O.toggle()},!!this.supportsEventPassiveOption&&{passive:!0}),this.container.addEventListener("click",function(T){T.target===O.el&&O.toggle()}),this.el.addEventListener("change",function(T){T.__selfTriggered||(O.el.multiple?(T=O.getSelectedProperties("idx"),T=function(j,N){for(var F,v=[],b=j.slice(0),p=0;p<N.length;p++)-1<(F=b.indexOf(N[p]))?b.splice(F,1):v.push(N[p]);return[v,b]}(O.selectedIndexes,T),ue.each(T[0],function(j,N){O.select(N)},O),ue.each(T[1],function(j,N){O.deselect(N)},O)):-1<O.el.selectedIndex&&O.select(O.el.selectedIndex))})),this.config.nativeDropdown&&this.container.addEventListener("keydown",function(T){"Enter"===T.key&&O.selected===document.activeElement&&(O.toggle(),setTimeout(function(){O.el.focus()},200))}),this.selected.addEventListener("click",function(T){O.disabled||O.toggle(),T.preventDefault()}),this.config.nativeKeyboard&&(J="",this.selected.addEventListener("keydown",function(T){var j;O.disabled||O.selected!==document.activeElement||T.altKey||T.ctrlKey||T.metaKey||(" "===T.key||!O.opened&&-1<["Enter","ArrowUp","ArrowDown"].indexOf(T.key)?(O.toggle(),T.preventDefault(),T.stopPropagation()):T.key.length<=2&&String[String.fromCodePoint?"fromCodePoint":"fromCharCode"](T.key[String.codePointAt?"codePointAt":"charCodeAt"](0))===T.key&&(O.config.multiple?(O.open(),O.config.searchable&&(O.input.value=T.key,O.input.focus(),O.search(null,!0))):((j=O.search(J+=T.key,!0))&&j.length&&(O.clear(),O.setValue(j[0].value)),setTimeout(function(){J=""},1e3)),T.preventDefault(),T.stopPropagation()))}),this.container.addEventListener("keyup",function(T){O.opened&&"Escape"===T.key&&(O.close(),T.stopPropagation(),O.selected.focus())})),this.label.addEventListener("click",function(T){ue.hasClass(T.target,"selectr-tag-remove")&&O.deselect(T.target.parentNode.idx)}),this.selectClear&&this.selectClear.addEventListener("click",this.clear.bind(this)),this.tree.addEventListener("mousedown",function(T){T.preventDefault()}),this.tree.addEventListener("click",function(T){var j=ue.closest(T.target,function(N){return N&&ue.hasClass(N,"selectr-option")});j&&!ue.hasClass(j,"disabled")&&(ue.hasClass(j,"selected")?(O.el.multiple||!O.el.multiple&&O.config.allowDeselect)&&O.deselect(j.idx):O.select(j.idx),O.opened&&!O.el.multiple)&&O.close(),T.preventDefault(),T.stopPropagation()}),this.tree.addEventListener("mouseover",function(T){!ue.hasClass(T.target,"selectr-option")||ue.hasClass(T.target,"disabled")||(ue.removeClass(O.items[O.navIndex],"active"),ue.addClass(T.target,"active"),O.navIndex=[].slice.call(O.items).indexOf(T.target))}),this.config.searchable&&(this.input.addEventListener("focus",function(T){O.searching=!0}),this.input.addEventListener("blur",function(T){O.searching=!1}),this.input.addEventListener("keyup",function(T){O.search(),O.config.taggable||(this.value.length?ue.addClass(this.parentNode,"active"):ue.removeClass(this.parentNode,"active"))}),this.inputClear.addEventListener("click",function(T){O.input.value=null,ye.call(O),O.tree.childElementCount||oe.call(O)})),this.config.taggable&&this.input.addEventListener("keyup",function(T){var j,N;O.search(),O.config.taggable&&this.value.length&&(j=this.value.trim()).length&&(13===T.which||O.tagSeperatorsRegex.test(j))&&(T=j.replace(O.tagSeperatorsRegex,""),(N=(T=(T=ue.escapeRegExp(T)).trim()).length?O.add({value:T,textContent:T,selected:!0},!0):N)?(O.close(),ye.call(O)):(this.value="",O.setMessage(O.config.messages.tagDuplicate)))}),this.update=ue.debounce(function(){O.opened&&O.config.closeOnScroll&&O.close(),O.width&&(O.container.style.width=O.width),O.invert()},50),this.requiresPagination&&(this.paginateItems=ue.debounce(function(){fe.call(this)},50),this.tree.addEventListener("scroll",this.paginateItems.bind(this))),document.addEventListener("click",this.events.dismiss),window.addEventListener("keydown",this.events.navigate),window.addEventListener("resize",this.update),window.addEventListener("scroll",this.update),this.on("selectr.destroy",function(){document.removeEventListener("click",this.events.dismiss),window.removeEventListener("keydown",this.events.navigate),window.removeEventListener("resize",this.update),window.removeEventListener("scroll",this.update)}),this.el.form&&(this.el.form.addEventListener("reset",this.events.reset),this.on("selectr.destroy",function(){this.el.form.removeEventListener("reset",this.events.reset)}))},ce.prototype.setSelected=function(J){var O;this.config.data||this.el.multiple||!this.el.options.length||(0!==this.el.selectedIndex||this.el.options[0].defaultSelected||this.config.defaultSelected||(this.el.selectedIndex=-1),this.selectedIndex=this.el.selectedIndex,-1<this.selectedIndex&&this.select(this.selectedIndex)),this.config.multiple&&"select-one"===this.originalType&&!this.config.data&&this.el.options[0].selected&&!this.el.options[0].defaultSelected&&(this.el.options[0].selected=!1),ue.each(this.options,function(T,j){j.selected&&j.defaultSelected&&this.select(j.idx)},this),this.config.selectedValue&&this.setValue(this.config.selectedValue),this.config.data&&(!this.el.multiple&&this.config.defaultSelected&&this.el.selectedIndex<0&&0<this.config.data.length&&this.select(0),O=0,ue.each(this.config.data,function(T,j){Ae(j,"children")?ue.each(j.children,function(N,F){F.hasOwnProperty("selected")&&!0===F.selected&&this.select(O),O++},this):(j.hasOwnProperty("selected")&&!0===j.selected&&this.select(O),O++)},this))},ce.prototype.destroy=function(){this.rendered&&(this.emit("selectr.destroy"),"select-one"===this.originalType&&(this.el.multiple=!1),this.config.data&&(this.el.innerHTML=""),ue.removeClass(this.el,"selectr-hidden"),this.container.parentNode.replaceChild(this.el,this.container),this.rendered=!1,delete this.el.selectr)},ce.prototype.change=function(J){var T=this.options[J];T.disabled||(T.selected&&ue.hasClass(this.items[J],"selected")?this.deselect(J):this.select(J),this.opened&&!this.el.multiple&&this.close())},ce.prototype.select=function(J){var O=this.items[J],T=[].slice.call(this.el.options),j=this.options[J];if(this.el.multiple){if(ue.includes(this.selectedIndexes,J))return!1;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections)return this.setMessage(this.config.messages.maxSelections.replace("{max}",this.config.maxSelections),!0),!1;this.selectedValues.push(j.value),this.selectedIndexes.push(J),function(F){var v,b=this,p=document.createDocumentFragment(),u=this.options[F.idx],h=this.data?this.data[F.idx]:u,d={class:"selectr-tag"};this.customSelected?d.html=this.config.renderSelection(h):d.textContent=u.textContent,h=ue.createElement("li",d),d=ue.createElement("button",{class:"selectr-tag-remove",type:"button"}),h.appendChild(d),h.idx=F.idx,h.tag=u.value,this.tags.push(h),this.config.sortSelected?(d=this.tags.slice(),v=function(f,k){f.replace(/(\d+)|(\D+)/g,function(m,y,S){k.push([y||1/0,S||""])})},d.sort(function(f,k){var m,y,S=[],V=[];for(!0===b.config.sortSelected?(m=f.tag,y=k.tag):"text"===b.config.sortSelected&&(m=f.textContent,y=k.textContent),v(m,S),v(y,V);S.length&&V.length;){var w=S.shift(),E=V.shift();if(w=w[0]-E[0]||w[1].localeCompare(E[1]))return w}return S.length-V.length}),ue.each(d,function(f,k){p.appendChild(k)}),this.label.innerHTML=""):p.appendChild(h),this.config.taggable?this.label.insertBefore(p,this.input.parentNode):this.label.appendChild(p)}.call(this,O)}else{var N=this.data?this.data[J]:j;this.customSelected?this.label.innerHTML=this.config.renderSelection(N):this.label.textContent=j.textContent,this.selectedValue=j.value,this.selectedIndex=J,ue.each(this.options,function(F,v){var b=this.items[F];F!==J&&(b&&ue.removeClass(b,"selected"),v.selected=!1,v.removeAttribute("selected"))},this)}ue.includes(T,j)||this.el.add(j),O.setAttribute("aria-selected",!0),ue.addClass(O,"selected"),ue.addClass(this.container,"has-selected"),j.selected=!0,j.setAttribute("selected",""),this.emit("selectr.change",j),this.emit("selectr.select",j),"createEvent"in document?((N=document.createEvent("HTMLEvents")).initEvent("change",!0,!0),N.__selfTriggered=!0,this.el.dispatchEvent(N)):this.el.fireEvent("onchange")},ce.prototype.deselect=function(J,O){var T=this.items[J],j=this.options[J];if(this.el.multiple){var N=this.selectedIndexes.indexOf(J);this.selectedIndexes.splice(N,1),N=this.selectedValues.indexOf(j.value),this.selectedValues.splice(N,1),function(F){var v=!1;ue.each(this.tags,function(b,p){p.idx===F.idx&&(v=p)},this),v&&(this.label.removeChild(v),this.tags.splice(this.tags.indexOf(v),1))}.call(this,T),this.tags.length||ue.removeClass(this.container,"has-selected")}else{if(!O&&!this.config.clearable&&!this.config.allowDeselect)return!1;this.label.innerHTML="",this.selectedValue=null,this.el.selectedIndex=this.selectedIndex=-1,ue.removeClass(this.container,"has-selected")}this.items[J].setAttribute("aria-selected",!1),ue.removeClass(this.items[J],"selected"),j.selected=!1,j.removeAttribute("selected"),this.emit("selectr.change",null),this.emit("selectr.deselect",j),"createEvent"in document?((N=document.createEvent("HTMLEvents")).initEvent("change",!0,!0),N.__selfTriggered=!0,this.el.dispatchEvent(N)):this.el.fireEvent("onchange")},ce.prototype.setValue=function(J){var O=Array.isArray(J);if(O||(J=J.toString().trim()),!this.el.multiple&&O)return!1;ue.each(this.options,function(T,j){(O&&-1<J.indexOf(j.value)||j.value===J)&&this.change(j.idx)},this)},ce.prototype.getValue=function(J,O){var T,j;return this.el.multiple?J?this.selectedIndexes.length&&(j={values:[]},ue.each(this.selectedIndexes,function(N,F){j.values[N]={value:(F=this.options[F]).value,text:F.textContent}},this)):j=this.selectedValues.slice():j=J?{value:(T=this.options[this.selectedIndex]).value,text:T.textContent}:this.selectedValue,j=J&&O?JSON.stringify(j):j},ce.prototype.add=function(J,O){if(J){if(this.data=this.data||[],this.items=this.items||[],this.options=this.options||[],Array.isArray(J))ue.each(J,function(N,F){this.add(F,O)},this);else if("[object Object]"===Object.prototype.toString.call(J)){if(O){var T=!1;if(ue.each(this.options,function(N,F){F.value.toLowerCase()===J.value.toLowerCase()&&(T=!0)}),T)return!1}var j=ue.createElement("option",J);return this.data.push(J),this.mobileDevice&&this.el.add(j),this.options.push(j),j.idx=0<this.options.length?this.options.length-1:0,be.call(this,j),J.selected&&this.select(j.idx),this.setPlaceholder(),j}return this.config.pagination&&this.paginate(),!0}},ce.prototype.remove=function(J){var O,T=[];Array.isArray(J)?ue.each(J,function(j,N){ue.isInt(N)?T.push(this.getOptionByIndex(N)):"string"==typeof N&&T.push(this.getOptionByValue(N))},this):ue.isInt(J)?T.push(this.getOptionByIndex(J)):"string"==typeof J&&T.push(this.getOptionByValue(J)),T.length&&(ue.each(T,function(j,N){O=N.idx,this.el.remove(N),this.options.splice(O,1),(N=this.items[O].parentNode)&&N.removeChild(this.items[O]),this.items.splice(O,1),ue.each(this.options,function(F,v){v.idx=F,this.items[F].idx=F},this)},this),this.setPlaceholder(),this.config.pagination)&&this.paginate()},ce.prototype.removeAll=function(){this.clear(!0),ue.each(this.el.options,function(J,O){this.el.remove(O)},this),ue.truncate(this.tree),this.items=[],this.options=[],this.data=[],this.navIndex=0,this.requiresPagination&&(this.requiresPagination=!1,this.pageIndex=1,this.pages=[]),this.setPlaceholder()},ce.prototype.search=function(J,O){var T,j,N,F,v;if(!this.navigating)return T=!1,J||(J=this.input.value,T=!0,this.removeMessage(),ue.truncate(this.tree)),j=[],N=document.createDocumentFragment(),0<(J=J.trim().toLowerCase()).length?(F=O?ue.startsWith:ue.includes,ue.each(this.options,function(b,p){var u,h,d,f,k=this.items[p.idx];F(p.textContent.trim().toLowerCase(),J)&&!p.disabled?(j.push({text:p.textContent,value:p.value}),T&&(z(k,N,this.customOption),ue.removeClass(k,"excluded"),!this.customOption)&&(u=J,d=p.textContent,f=(u=new RegExp(u,"ig")).exec(d))&&(p.innerHTML="",(h=document.createElement("span")).classList.add("selectr-match"),h.textContent=f[0],p.appendChild(document.createTextNode(d.substring(0,f.index))),p.appendChild(h),p.appendChild(document.createTextNode(d.substring(u.lastIndex))))):T&&ue.addClass(k,"excluded")},this),T&&(N.childElementCount?(O=this.items[this.navIndex],v=N.querySelector(".selectr-option:not(.excluded)"),this.noResults=!1,ue.removeClass(O,"active"),this.navIndex=v.idx,ue.addClass(v,"active")):this.config.taggable||(this.noResults=!0,this.setMessage(this.config.messages.noResults)),this.tree.appendChild(N))):oe.call(this),j},ce.prototype.toggle=function(){this.disabled||(this.opened?this.close():this.open())},ce.prototype.open=function(){var J=this;if(!this.options.length)return!1;this.opened||this.emit("selectr.open"),this.opened=!0,this.mobileDevice||this.config.nativeDropdown?(ue.addClass(this.container,"native-open"),this.config.data&&ue.each(this.options,function(O,T){this.el.add(T)},this)):(ue.addClass(this.container,"open"),oe.call(this),this.invert(),this.tree.scrollTop=0,ue.removeClass(this.container,"notice"),this.selected.setAttribute("aria-expanded",!0),this.tree.setAttribute("aria-hidden",!1),this.tree.setAttribute("aria-expanded",!0),this.config.searchable&&!this.config.taggable&&setTimeout(function(){J.input.focus(),J.input.tabIndex=0},10))},ce.prototype.close=function(){var J;this.opened&&this.emit("selectr.close"),this.opened=!1,this.navigating=!1,this.mobileDevice||this.config.nativeDropdown?ue.removeClass(this.container,"native-open"):(J=ue.hasClass(this.container,"notice"),this.config.searchable&&!J&&(this.input.blur(),this.input.tabIndex=-1,this.searching=!1),J&&(ue.removeClass(this.container,"notice"),this.notice.textContent=""),ue.removeClass(this.container,"open"),ue.removeClass(this.container,"native-open"),this.selected.setAttribute("aria-expanded",!1),this.tree.setAttribute("aria-hidden",!0),this.tree.setAttribute("aria-expanded",!1),ue.truncate(this.tree),ye.call(this))},ce.prototype.enable=function(){this.disabled=!1,this.el.disabled=!1,this.selected.tabIndex=this.originalIndex,this.el.multiple&&ue.each(this.tags,function(J,O){O.lastElementChild.tabIndex=0}),ue.removeClass(this.container,"selectr-disabled")},ce.prototype.disable=function(J){J||(this.el.disabled=!0),this.selected.tabIndex=-1,this.el.multiple&&ue.each(this.tags,function(O,T){T.lastElementChild.tabIndex=-1}),this.disabled=!0,ue.addClass(this.container,"selectr-disabled")},ce.prototype.reset=function(){this.disabled||(this.clear(),this.setSelected(!0),ue.each(this.defaultSelected,function(J,O){this.select(O)},this),this.emit("selectr.reset"))},ce.prototype.clear=function(J,O){var T;this.el.multiple?this.selectedIndexes.length&&(T=this.selectedIndexes.slice(),O?this.deselect(T.slice(-1)[0]):ue.each(T,function(j,N){this.deselect(N)},this)):-1<this.selectedIndex&&this.deselect(this.selectedIndex,J),this.emit("selectr.clear")},ce.prototype.serialise=function(J){var O=[];return ue.each(this.options,function(T,j){var N={value:j.value,text:j.textContent};j.selected&&(N.selected=!0),j.disabled&&(N.disabled=!0),O[T]=N}),J?JSON.stringify(O):O},ce.prototype.serialize=function(J){return this.serialise(J)},ce.prototype.setPlaceholder=function(J){J=J||this.config.placeholder||this.el.getAttribute("placeholder"),this.options.length||(J=this.config.messages.noOptions),this.placeEl.innerHTML=J},ce.prototype.paginate=function(){var J;if(this.items.length)return(J=this).pages=this.items.map(function(O,T){return T%J.config.pagination==0?J.items.slice(T,T+J.config.pagination):null}).filter(function(O){return O}),this.pages},ce.prototype.setMessage=function(J,O){O&&this.close(),ue.addClass(this.container,"notice"),this.notice.textContent=J},ce.prototype.removeMessage=function(){ue.removeClass(this.container,"notice"),this.notice.innerHTML=""},ce.prototype.invert=function(){var J=ue.rect(this.selected),T=window.innerHeight;J.top+J.height+this.tree.parentNode.offsetHeight>T?(ue.addClass(this.container,"inverted"),this.isInverted=!0):(ue.removeClass(this.container,"inverted"),this.isInverted=!1),this.optsRect=ue.rect(this.tree)},ce.prototype.getOptionByIndex=function(J){return this.options[J]},ce.prototype.getOptionByValue=function(J){for(var O=!1,T=0,j=this.options.length;T<j;T++)if(this.options[T].value.trim()===J.toString().trim()){O=this.options[T];break}return O},je.exports=ce},4188:function(je,M,ue){"use strict";ue.d(M,{EX:function(){return z},WF:function(){return oe},oW:function(){return be},qD:function(){return Ae}});var Ae=document.body,z=10485760,oe=2e4,be=2147483648},2602:function(je,M,ue){"use strict";ue.d(M,{w:function(){return z}});var Ae=ue(9791);function z(oe,be,fe){var ye,ce=3<arguments.length&&void 0!==arguments[3]&&arguments[3],J="function"==typeof(T=oe).getRootNode?T.getRootNode():window,O={},T=oe.getBoundingClientRect(),j=be.getBoundingClientRect(),N=document.createElement("div");function F(){if(N&&N.parentNode){for(var b in N.parentNode.removeChild(N),O)p=b,Object.prototype.hasOwnProperty.call(O,p)&&((p=O[b])&&(0,Ae.removeEventListener)(J,b,p),delete O[b]);"function"==typeof fe&&fe(oe)}var p}function v(b){(b=b.target)===N||(0,Ae.isChildOf)(b,N)||F()}return N.className="jsoneditor-anchor",N.style.position="absolute",N.style.left=T.left-j.left+"px",N.style.top=T.top-j.top+"px",N.style.width=T.width-2+"px",N.style.height=T.height-2+"px",N.style.boxSizing="border-box",be.appendChild(N),O.mousedown=(0,Ae.addEventListener)(J,"mousedown",v),O.mousewheel=(0,Ae.addEventListener)(J,"mousewheel",v),ce&&(ye=null,N.onmouseover=function(){clearTimeout(ye),ye=null},N.onmouseout=function(){ye=ye||setTimeout(F,200)}),N.destroy=F,N}},7923:function(je){je.exports="data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyICYmIGVyci5kYXRhLAogICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgbGluZTogbGluZSwgCiAgICAgICAgY29sOiBjb2wsCiAgICAgICAgc3RhY2s6IGVyciAmJiBlcnIuc3RhY2sKICAgIH19KTsKfTsKCndpbmRvdy5ub3JtYWxpemVNb2R1bGUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlTmFtZSkgewogICAgLy8gbm9ybWFsaXplIHBsdWdpbiByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZigiISIpICE9PSAtMSkgewogICAgICAgIHZhciBjaHVua3MgPSBtb2R1bGVOYW1lLnNwbGl0KCIhIik7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsIGNodW5rc1swXSkgKyAiISIgKyB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMV0pOwogICAgfQogICAgLy8gbm9ybWFsaXplIHJlbGF0aXZlIHJlcXVpcmVzCiAgICBpZiAobW9kdWxlTmFtZS5jaGFyQXQoMCkgPT0gIi4iKSB7CiAgICAgICAgdmFyIGJhc2UgPSBwYXJlbnRJZC5zcGxpdCgiLyIpLnNsaWNlKDAsIC0xKS5qb2luKCIvIik7CiAgICAgICAgbW9kdWxlTmFtZSA9IChiYXNlID8gYmFzZSArICIvIiA6ICIiKSArIG1vZHVsZU5hbWU7CiAgICAgICAgCiAgICAgICAgd2hpbGUgKG1vZHVsZU5hbWUuaW5kZXhPZigiLiIpICE9PSAtMSAmJiBwcmV2aW91cyAhPSBtb2R1bGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IG1vZHVsZU5hbWU7CiAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL15cLlwvLywgIiIpLnJlcGxhY2UoL1wvXC5cLy8sICIvIikucmVwbGFjZSgvW15cL10rXC9cLlwuXC8vLCAiIik7CiAgICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gbW9kdWxlTmFtZTsKfTsKCndpbmRvdy5yZXF1aXJlID0gZnVuY3Rpb24gcmVxdWlyZShwYXJlbnRJZCwgaWQpIHsKICAgIGlmICghaWQpIHsKICAgICAgICBpZCA9IHBhcmVudElkOwogICAgICAgIHBhcmVudElkID0gbnVsbDsKICAgIH0KICAgIGlmICghaWQuY2hhckF0KQogICAgICAgIHRocm93IG5ldyBFcnJvcigid29ya2VyLmpzIHJlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzIik7CgogICAgaWQgPSB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBpZCk7CgogICAgdmFyIG1vZHVsZSA9IHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdOwogICAgaWYgKG1vZHVsZSkgewogICAgICAgIGlmICghbW9kdWxlLmluaXRpYWxpemVkKSB7CiAgICAgICAgICAgIG1vZHVsZS5pbml0aWFsaXplZCA9IHRydWU7CiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICB9CiAgIAogICAgaWYgKCF3aW5kb3cucmVxdWlyZS50bG5zKQogICAgICAgIHJldHVybiBjb25zb2xlLmxvZygidW5hYmxlIHRvIGxvYWQgIiArIGlkKTsKICAgIAogICAgdmFyIHBhdGggPSByZXNvbHZlTW9kdWxlSWQoaWQsIHdpbmRvdy5yZXF1aXJlLnRsbnMpOwogICAgaWYgKHBhdGguc2xpY2UoLTMpICE9ICIuanMiKSBwYXRoICs9ICIuanMiOwogICAgCiAgICB3aW5kb3cucmVxdWlyZS5pZCA9IGlkOwogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7fTsgLy8gcHJldmVudCBpbmZpbml0ZSBsb29wIG9uIGJyb2tlbiBtb2R1bGVzCiAgICBpbXBvcnRTY3JpcHRzKHBhdGgpOwogICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKHBhcmVudElkLCBpZCk7Cn07CmZ1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCwgcGF0aHMpIHsKICAgIHZhciB0ZXN0UGF0aCA9IGlkLCB0YWlsID0gIiI7CiAgICB3aGlsZSAodGVzdFBhdGgpIHsKICAgICAgICB2YXIgYWxpYXMgPSBwYXRoc1t0ZXN0UGF0aF07CiAgICAgICAgaWYgKHR5cGVvZiBhbGlhcyA9PSAic3RyaW5nIikgewogICAgICAgICAgICByZXR1cm4gYWxpYXMgKyB0YWlsOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMpIHsKICAgICAgICAgICAgcmV0dXJuICBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cLyokLywgIi8iKSArICh0YWlsIHx8IGFsaWFzLm1haW4gfHwgYWxpYXMubmFtZSk7CiAgICAgICAgfSBlbHNlIGlmIChhbGlhcyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgICB2YXIgaSA9IHRlc3RQYXRoLmxhc3RJbmRleE9mKCIvIik7CiAgICAgICAgaWYgKGkgPT09IC0xKSBicmVhazsKICAgICAgICB0YWlsID0gdGVzdFBhdGguc3Vic3RyKGkpICsgdGFpbDsKICAgICAgICB0ZXN0UGF0aCA9IHRlc3RQYXRoLnNsaWNlKDAsIGkpOwogICAgfQogICAgcmV0dXJuIGlkOwp9CndpbmRvdy5yZXF1aXJlLm1vZHVsZXMgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9OwoKd2luZG93LmRlZmluZSA9IGZ1bmN0aW9uKGlkLCBkZXBzLCBmYWN0b3J5KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgZmFjdG9yeSA9IGRlcHM7CiAgICAgICAgaWYgKHR5cGVvZiBpZCAhPSAic3RyaW5nIikgewogICAgICAgICAgICBkZXBzID0gaWQ7CiAgICAgICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICAgICAgfQogICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICBmYWN0b3J5ID0gaWQ7CiAgICAgICAgZGVwcyA9IFtdOwogICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICB9CiAgICAKICAgIGlmICh0eXBlb2YgZmFjdG9yeSAhPSAiZnVuY3Rpb24iKSB7CiAgICAgICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgICAgIGV4cG9ydHM6IGZhY3RvcnksCiAgICAgICAgICAgIGluaXRpYWxpemVkOiB0cnVlCiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKCFkZXBzLmxlbmd0aCkKICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBkZXBlbmRlbmNpZXMsIHdlIGluamVjdCAicmVxdWlyZSIsICJleHBvcnRzIiBhbmQKICAgICAgICAvLyAibW9kdWxlIiBhcyBkZXBlbmRlbmNpZXMsIHRvIHByb3ZpZGUgQ29tbW9uSlMgY29tcGF0aWJpbGl0eS4KICAgICAgICBkZXBzID0gWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAibW9kdWxlIl07CgogICAgdmFyIHJlcSA9IGZ1bmN0aW9uKGNoaWxkSWQpIHsKICAgICAgICByZXR1cm4gd2luZG93LnJlcXVpcmUoaWQsIGNoaWxkSWQpOwogICAgfTsKCiAgICB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXSA9IHsKICAgICAgICBleHBvcnRzOiB7fSwKICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG1vZHVsZSA9IHRoaXM7CiAgICAgICAgICAgIHZhciByZXR1cm5FeHBvcnRzID0gZmFjdG9yeS5hcHBseSh0aGlzLCBkZXBzLnNsaWNlKDAsIGZhY3RvcnkubGVuZ3RoKS5tYXAoZnVuY3Rpb24oZGVwKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlcCkgewogICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kICJtb2R1bGUiIGFyZW4ndCBhY3R1YWwKICAgICAgICAgICAgICAgICAgICAvLyBkZXBlbmRlbmNpZXMsIHdlIG11c3QgaGFuZGxlIHRoZW0gc2VwZXJhdGVseS4KICAgICAgICAgICAgICAgICAgICBjYXNlICJyZXF1aXJlIjogcmV0dXJuIHJlcTsKICAgICAgICAgICAgICAgICAgICBjYXNlICJleHBvcnRzIjogcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIm1vZHVsZSI6ICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIC8vIEJ1dCBmb3IgYWxsIG90aGVyIGRlcGVuZGVuY2llcywgd2UgY2FuIGp1c3QgZ28gYWhlYWQgYW5kCiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZSB0aGVtLgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICByZXR1cm4gcmVxKGRlcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgaWYgKHJldHVybkV4cG9ydHMpCiAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHJldHVybkV4cG9ydHM7CiAgICAgICAgICAgIHJldHVybiBtb2R1bGU7CiAgICAgICAgfQogICAgfTsKfTsKd2luZG93LmRlZmluZS5hbWQgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHRoaXMucmVxdWlyZS50bG5zW2ldID0gdG9wTGV2ZWxOYW1lc3BhY2VzW2ldOwp9OwoKd2luZG93LmluaXRTZW5kZXIgPSBmdW5jdGlvbiBpbml0U2VuZGVyKCkgewoKICAgIHZhciBFdmVudEVtaXR0ZXIgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwogICAgdmFyIG9vcCA9IHdpbmRvdy5yZXF1aXJlKCJhY2UvbGliL29vcCIpOwogICAgCiAgICB2YXIgU2VuZGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIAogICAgKGZ1bmN0aW9uKCkgewogICAgICAgIAogICAgICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFja0lkKSB7CiAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJjYWxsIiwKICAgICAgICAgICAgICAgIGlkOiBjYWxsYmFja0lkLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgCiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24obmFtZSwgZGF0YSkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXZlbnQiLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICAKICAgIH0pLmNhbGwoU2VuZGVyLnByb3RvdHlwZSk7CiAgICAKICAgIHJldHVybiBuZXcgU2VuZGVyKCk7Cn07Cgp2YXIgbWFpbiA9IHdpbmRvdy5tYWluID0gbnVsbDsKdmFyIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSBudWxsOwoKd2luZG93Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciBtc2cgPSBlLmRhdGE7CiAgICBpZiAobXNnLmV2ZW50ICYmIHNlbmRlcikgewogICAgICAgIHNlbmRlci5fc2lnbmFsKG1zZy5ldmVudCwgbXNnLmRhdGEpOwogICAgfQogICAgZWxzZSBpZiAobXNnLmNvbW1hbmQpIHsKICAgICAgICBpZiAobWFpblttc2cuY29tbWFuZF0pCiAgICAgICAgICAgIG1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sIG1zZy5hcmdzKTsKICAgICAgICBlbHNlIGlmICh3aW5kb3dbbXNnLmNvbW1hbmRdKQogICAgICAgICAgICB3aW5kb3dbbXNnLmNvbW1hbmRdLmFwcGx5KHdpbmRvdywgbXNnLmFyZ3MpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbW1hbmQ6IiArIG1zZy5jb21tYW5kKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5pbml0KSB7CiAgICAgICAgd2luZG93LmluaXRCYXNlVXJscyhtc2cudGxucyk7CiAgICAgICAgc2VuZGVyID0gd2luZG93LnNlbmRlciA9IHdpbmRvdy5pbml0U2VuZGVyKCk7CiAgICAgICAgdmFyIGNsYXp6ID0gdGhpcy5yZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbiAoY3Rvciwgc3VwZXJDdG9yKSB7CiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7CiAgICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICAgICAgdmFsdWU6IGN0b3IsCiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgfQogICAgfSk7Cn07CmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbiAob2JqLCBtaXhpbikgewogICAgZm9yICh2YXIga2V5IGluIG1peGluKSB7CiAgICAgICAgb2JqW2tleV0gPSBtaXhpbltrZXldOwogICAgfQogICAgcmV0dXJuIG9iajsKfTsKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbiAocHJvdG8sIG1peGluKSB7CiAgICBleHBvcnRzLm1peGluKHByb3RvLCBtaXhpbik7Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCkgewogICAgY29uc29sZS5sb2coIkludmFsaWQgRGVsdGE6IiwgZGVsdGEpOwogICAgdGhyb3cgIkludmFsaWQgRGVsdGE6ICIgKyBlcnJvclRleHQ7Cn0KZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyA+PSAwICYmIHBvc2l0aW9uLnJvdyA8IGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQpmdW5jdGlvbiB2YWxpZGF0ZURlbHRhKGRvY0xpbmVzLCBkZWx0YSkgewogICAgaWYgKGRlbHRhLmFjdGlvbiAhPSAiaW5zZXJ0IiAmJiBkZWx0YS5hY3Rpb24gIT0gInJlbW92ZSIpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuYWN0aW9uIG11c3QgYmUgJ2luc2VydCcgb3IgJ3JlbW92ZSciKTsKICAgIGlmICghKGRlbHRhLmxpbmVzIGluc3RhbmNlb2YgQXJyYXkpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmxpbmVzIG11c3QgYmUgYW4gQXJyYXkiKTsKICAgIGlmICghZGVsdGEuc3RhcnQgfHwgIWRlbHRhLmVuZCkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CmV4cG9ydHMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKHJvdywgZW5kUm93IC0gcm93ICsgMSwgbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfTsKdmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwpFdmVudEVtaXR0ZXIuX2VtaXQgPQogICAgRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZSkgewogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwgKHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB7fSk7CiAgICAgICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgICAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGggJiYgIWRlZmF1bHRIYW5kbGVyKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgICAgICBlID0ge307CiAgICAgICAgaWYgKCFlLnR5cGUpCiAgICAgICAgICAgIGUudHlwZSA9IGV2ZW50TmFtZTsKICAgICAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgICAgICBpZiAoIWUucHJldmVudERlZmF1bHQpCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoZGVmYXVsdEhhbmRsZXIgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCkKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwogICAgfTsKRXZlbnRFbWl0dGVyLl9zaWduYWwgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiBuZXdDYWxsYmFjaygpIHsKICAgICAgICBfc2VsZi5vZmYoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICBjYWxsYmFjayA9IHJlc29sdmU7CiAgICAgICAgfSk7CiAgICB9Cn07CkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0geyBfZGlzYWJsZWRfOiB7fSB9OwogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSA9PSBjYWxsYmFjaykgewogICAgICAgIGlmIChkaXNhYmxlZCkKICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsIGRpc2FibGVkLnBvcCgpKTsKICAgIH0KICAgIGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwpFdmVudEVtaXR0ZXIub24gPQogICAgRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICAgICAgdGhpcy5fZXZlbnRSZWdpc3RyeSA9IHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge307CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICAgICAgbGlzdGVuZXJzW2NhcHR1cmluZyA/ICJ1bnNoaWZ0IiA6ICJwdXNoIl0oY2FsbGJhY2spOwogICAgICAgIHJldHVybiBjYWxsYmFjazsKICAgIH07CkV2ZW50RW1pdHRlci5vZmYgPQogICAgRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KICAgICAgICBFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwogICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKQogICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfTsKRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKQogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkKICAgICAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZGVmYXVsdEhhbmRsZXJzKQogICAgICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwpleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBjb21wYXJlUG9pbnRzID0gZnVuY3Rpb24gKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CnZhciBSYW5nZSA9IGZ1bmN0aW9uIChzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgZW5kQ29sdW1uKSB7CiAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgIHJvdzogc3RhcnRSb3csCiAgICAgICAgY29sdW1uOiBzdGFydENvbHVtbgogICAgfTsKICAgIHRoaXMuZW5kID0gewogICAgICAgIHJvdzogZW5kUm93LAogICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICB9Owp9OwooZnVuY3Rpb24gKCkgewogICAgdGhpcy5pc0VxdWFsID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgiUmFuZ2U6IFsiICsgdGhpcy5zdGFydC5yb3cgKyAiLyIgKyB0aGlzLnN0YXJ0LmNvbHVtbiArCiAgICAgICAgICAgICJdIC0+IFsiICsgdGhpcy5lbmQucm93ICsgIi8iICsgdGhpcy5lbmQuY29sdW1uICsgIl0iKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMDsKICAgIH07CiAgICB0aGlzLmNvbXBhcmVSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAsIGVuZCA9IHJhbmdlLmVuZCwgc3RhcnQgPSByYW5nZS5zdGFydDsKICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoZW5kLnJvdywgZW5kLmNvbHVtbik7CiAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoY21wID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlUG9pbnQgPSBmdW5jdGlvbiAocCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocC5yb3csIHAuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlUG9pbnQocmFuZ2Uuc3RhcnQpID09IDAgJiYgdGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKSA9PSAwOwogICAgfTsKICAgIHRoaXMuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIHRoaXMuaXNFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuaXNTdGFydCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuc2V0U3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5zZXRFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSByb3cuY29sdW1uOwogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3cucm93OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSBjb2x1bW47CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuaW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc0VuZChyb3csIGNvbHVtbikgfHwgdGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlRW5kID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuY29tcGFyZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICghdGhpcy5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgIGlmIChyb3cgPT09IHRoaXMuc3RhcnQucm93KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uIDwgdGhpcy5zdGFydC5jb2x1bW4gPyAtMSA6IChjb2x1bW4gPiB0aGlzLmVuZC5jb2x1bW4gPyAxIDogMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuc3RhcnQucm93KQogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgaWYgKHJvdyA+IHRoaXMuZW5kLnJvdykKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09PSByb3cpCiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPj0gdGhpcy5zdGFydC5jb2x1bW4gPyAwIDogLTE7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uIDw9IHRoaXMuZW5kLmNvbHVtbiA/IDAgOiAxOwogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIHRoaXMuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY29tcGFyZUVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlSW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jbGlwUm93cyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiBmaXJzdFJvdywgY29sdW1uOiAwIH07CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogZmlyc3RSb3csIGNvbHVtbjogMCB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5leHRlbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB2YXIgY21wID0gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICBpZiAoY21wID09IDApCiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIGVsc2UgaWYgKGNtcCA9PSAtMSkKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHZhciBlbmQgPSB7IHJvdzogcm93LCBjb2x1bW46IGNvbHVtbiB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5pc0VtcHR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgPT09IHRoaXMuZW5kLnJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PT0gdGhpcy5lbmQuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgIT09IHRoaXMuZW5kLnJvdyk7CiAgICB9OwogICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5jb2xsYXBzZVJvd3MgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLmNvbHVtbiA9PSAwKQogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LCAwLCBNYXRoLm1heCh0aGlzLnN0YXJ0LnJvdywgdGhpcy5lbmQucm93IC0gMSksIDApOwogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgdGhpcy5lbmQucm93LCAwKTsKICAgIH07CiAgICB0aGlzLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbiAoc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzY3JlZW5Qb3NTdGFydC5yb3csIHNjcmVlblBvc1N0YXJ0LmNvbHVtbiwgc2NyZWVuUG9zRW5kLnJvdywgc2NyZWVuUG9zRW5kLmNvbHVtbik7CiAgICB9OwogICAgdGhpcy5tb3ZlQnkgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0LnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gKz0gY29sdW1uOwogICAgICAgIHRoaXMuZW5kLnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5lbmQuY29sdW1uICs9IGNvbHVtbjsKICAgIH07Cn0pLmNhbGwoUmFuZ2UucHJvdG90eXBlKTsKUmFuZ2UuZnJvbVBvaW50cyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7ClJhbmdlLmNvbXBhcmVQb2ludHMgPSBmdW5jdGlvbiAocDEsIHAyKSB7CiAgICByZXR1cm4gcDEucm93IC0gcDIucm93IHx8IHAxLmNvbHVtbiAtIHAyLmNvbHVtbjsKfTsKZXhwb3J0cy5SYW5nZSA9IFJhbmdlOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvYW5jaG9yIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuL2xpYi9vb3AiKTsKdmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXI7CnZhciBBbmNob3IgPSBleHBvcnRzLkFuY2hvciA9IGZ1bmN0aW9uIChkb2MsIHJvdywgY29sdW1uKSB7CiAgICB0aGlzLiRvbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTsKICAgIHRoaXMuYXR0YWNoKGRvYyk7CiAgICBpZiAodHlwZW9mIGNvbHVtbiA9PSAidW5kZWZpbmVkIikKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdy5yb3csIHJvdy5jb2x1bW4pOwogICAgZWxzZQogICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LCBjb2x1bW4pOwp9OwooZnVuY3Rpb24gKCkgewogICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpOwogICAgdGhpcy5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQ7CiAgICB9OwogICAgdGhpcy4kaW5zZXJ0UmlnaHQgPSBmYWxzZTsKICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID09IGRlbHRhLmVuZC5yb3cgJiYgZGVsdGEuc3RhcnQucm93ICE9IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA+IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIHBvaW50ID0gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHsgcm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbiB9LCB0aGlzLiRpbnNlcnRSaWdodCk7CiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3csIHBvaW50LmNvbHVtbiwgdHJ1ZSk7CiAgICB9OwogICAgZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLCBwb2ludDIsIGVxdWFsUG9pbnRzSW5PcmRlcikgewogICAgICAgIHZhciBiQ29sSXNBZnRlciA9IGVxdWFsUG9pbnRzSW5PcmRlciA/IHBvaW50MS5jb2x1bW4gPD0gcG9pbnQyLmNvbHVtbiA6IHBvaW50MS5jb2x1bW4gPCBwb2ludDIuY29sdW1uOwogICAgICAgIHJldHVybiAocG9pbnQxLnJvdyA8IHBvaW50Mi5yb3cpIHx8IChwb2ludDEucm93ID09IHBvaW50Mi5yb3cgJiYgYkNvbElzQWZ0ZXIpOwogICAgfQogICAgZnVuY3Rpb24gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHBvaW50LCBtb3ZlSWZFcXVhbCkgewogICAgICAgIHZhciBkZWx0YUlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiOwogICAgICAgIHZhciBkZWx0YVJvd1NoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5yb3cgLSBkZWx0YS5zdGFydC5yb3cpOwogICAgICAgIHZhciBkZWx0YUNvbFNoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5jb2x1bW4gLSBkZWx0YS5zdGFydC5jb2x1bW4pOwogICAgICAgIHZhciBkZWx0YVN0YXJ0ID0gZGVsdGEuc3RhcnQ7CiAgICAgICAgdmFyIGRlbHRhRW5kID0gZGVsdGFJc0luc2VydCA/IGRlbHRhU3RhcnQgOiBkZWx0YS5lbmQ7IC8vIENvbGxhcHNlIGluc2VydCByYW5nZS4KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIocG9pbnQsIGRlbHRhU3RhcnQsIG1vdmVJZkVxdWFsKSkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcm93OiBwb2ludC5yb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbgogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIoZGVsdGFFbmQsIHBvaW50LCAhbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByb3c6IHBvaW50LnJvdyArIGRlbHRhUm93U2hpZnQsCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbiArIChwb2ludC5yb3cgPT0gZGVsdGFFbmQucm93ID8gZGVsdGFDb2xTaGlmdCA6IDApCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJvdzogZGVsdGFTdGFydC5yb3csCiAgICAgICAgICAgIGNvbHVtbjogZGVsdGFTdGFydC5jb2x1bW4KICAgICAgICB9OwogICAgfQogICAgdGhpcy5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbiwgbm9DbGlwKSB7CiAgICAgICAgdmFyIHBvczsKICAgICAgICBpZiAobm9DbGlwKSB7CiAgICAgICAgICAgIHBvcyA9IHsKICAgICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvcyA9IHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5yb3cgPT0gcG9zLnJvdyAmJiB0aGlzLmNvbHVtbiA9PSBwb3MuY29sdW1uKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIG9sZCA9IHsKICAgICAgICAgICAgcm93OiB0aGlzLnJvdywKICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbgogICAgICAgIH07CiAgICAgICAgdGhpcy5yb3cgPSBwb3Mucm93OwogICAgICAgIHRoaXMuY29sdW1uID0gcG9zLmNvbHVtbjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZSIsIHsKICAgICAgICAgICAgb2xkOiBvbGQsCiAgICAgICAgICAgIHZhbHVlOiBwb3MKICAgICAgICB9KTsKICAgIH07CiAgICB0aGlzLmRldGFjaCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9mZigiY2hhbmdlIiwgdGhpcy4kb25DaGFuZ2UpOwogICAgfTsKICAgIHRoaXMuYXR0YWNoID0gZnVuY3Rpb24gKGRvYykgewogICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBwb3MgPSB7fTsKICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcG9zLnJvdyA9IDA7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zLnJvdyA9IHJvdzsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpOwogICAgICAgIH0KICAgICAgICBpZiAoY29sdW1uIDwgMCkKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IDA7CiAgICAgICAgcmV0dXJuIHBvczsKICAgIH07Cn0pLmNhbGwoQW5jaG9yLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKdmFyIERvY3VtZW50ID0gZnVuY3Rpb24gKHRleHRPckxpbmVzKSB7CiAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICBpZiAodGV4dE9yTGluZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgfQogICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0T3JMaW5lcykpIHsKICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiAwLCBjb2x1bW46IDAgfSwgdGV4dE9yTGluZXMpOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0T3JMaW5lcyk7CiAgICB9Cn07CihmdW5jdGlvbiAoKSB7CiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgbGVuID0gdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsIDAsIGxlbiwgdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSk7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0IHx8ICIiKTsKICAgIH07CiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgdGhpcy5jcmVhdGVBbmNob3IgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gbmV3IEFuY2hvcih0aGlzLCByb3csIGNvbHVtbik7CiAgICB9OwogICAgaWYgKCJhYWEiLnNwbGl0KC9hLykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kc3BsaXQgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cclxufFxyL2csICJcbiIpLnNwbGl0KCJcbiIpOwogICAgICAgIH07CiAgICB9CiAgICBlbHNlIHsKICAgICAgICB0aGlzLiRzcGxpdCA9IGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgICAgIHJldHVybiB0ZXh0LnNwbGl0KC9cclxufFxyfFxuLyk7CiAgICAgICAgfTsKICAgIH0KICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goL14uKj8oXHJcbnxccnxcbikvbSk7CiAgICAgICAgdGhpcy4kYXV0b05ld0xpbmUgPSBtYXRjaCA/IG1hdGNoWzFdIDogIlxuIjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHN3aXRjaCAodGhpcy4kbmV3TGluZU1vZGUpIHsKICAgICAgICAgICAgY2FzZSAid2luZG93cyI6CiAgICAgICAgICAgICAgICByZXR1cm4gIlxyXG4iOwogICAgICAgICAgICBjYXNlICJ1bml4IjoKICAgICAgICAgICAgICAgIHJldHVybiAiXG4iOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lIHx8ICJcbiI7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gIiI7CiAgICB0aGlzLiRuZXdMaW5lTW9kZSA9ICJhdXRvIjsKICAgIHRoaXMuc2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbiAobmV3TGluZU1vZGUpIHsKICAgICAgICBpZiAodGhpcy4kbmV3TGluZU1vZGUgPT09IG5ld0xpbmVNb2RlKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdGhpcy4kbmV3TGluZU1vZGUgPSBuZXdMaW5lTW9kZTsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbmV3TGluZU1vZGU7CiAgICB9OwogICAgdGhpcy5pc05ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lID0gZnVuY3Rpb24gKHJvdykgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lc1tyb3ddIHx8ICIiOwogICAgfTsKICAgIHRoaXMuZ2V0TGluZXMgPSBmdW5jdGlvbiAoZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csIGxhc3RSb3cgKyAxKTsKICAgIH07CiAgICB0aGlzLmdldEFsbExpbmVzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIHRoaXMuZ2V0TGVuZ3RoID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5sZW5ndGg7CiAgICB9OwogICAgdGhpcy5nZXRUZXh0UmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTsKICAgIH07CiAgICB0aGlzLmdldExpbmVzRm9yUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5lbmQucm93KTsKICAgICAgICAgICAgbGluZXNbMF0gPSAobGluZXNbMF0gfHwgIiIpLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4pOwogICAgICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIDE7CiAgICAgICAgICAgIGlmIChyYW5nZS5lbmQucm93IC0gcmFuZ2Uuc3RhcnQucm93ID09IGwpCiAgICAgICAgICAgICAgICBsaW5lc1tsXSA9IGxpbmVzW2xdLnN1YnN0cmluZygwLCByYW5nZS5lbmQuY29sdW1uKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxpbmVzOwogICAgfTsKICAgIHRoaXMuaW5zZXJ0TGluZXMgPSBmdW5jdGlvbiAocm93LCBsaW5lcykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24gKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQucmVtb3ZlTGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSByZW1vdmVGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlRnVsbExpbmVzKGZpcnN0Um93LCBsYXN0Um93KTsKICAgIH07CiAgICB0aGlzLmluc2VydE5ld0xpbmUgPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5pbnNlcnROZXdMaW5lIGlzIGRlcHJlY2F0ZWQuIFVzZSBpbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgWycnLCAnJ10pIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsiIiwgIiJdKTsKICAgIH07CiAgICB0aGlzLmluc2VydCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIGlmICh0aGlzLmdldExlbmd0aCgpIDw9IDEpCiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIHRoaXMuJHNwbGl0KHRleHQpKTsKICAgIH07CiAgICB0aGlzLmluc2VydEluTGluZSA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMucG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uICsgdGV4dC5sZW5ndGgpOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogImluc2VydCIsCiAgICAgICAgICAgIGxpbmVzOiBbdGV4dF0KICAgICAgICB9LCB0cnVlKTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMuY2xpcHBlZFBvcyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcm93ID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAocm93ID49IGxlbmd0aCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGggLSAxOwogICAgICAgICAgICBjb2x1bW4gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHJvdyk7CiAgICAgICAgaWYgKGNvbHVtbiA9PSB1bmRlZmluZWQpCiAgICAgICAgICAgIGNvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIGNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KGNvbHVtbiwgMCksIGxpbmUubGVuZ3RoKTsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLmNsb25lUG9zID0gZnVuY3Rpb24gKHBvcykgewogICAgICAgIHJldHVybiB7IHJvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1uIH07CiAgICB9OwogICAgdGhpcy5wb3MgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgICBpZiAocG9zaXRpb24ucm93ID49IGxlbmd0aCkgewogICAgICAgICAgICBwb3NpdGlvbi5yb3cgPSBNYXRoLm1heCgwLCBsZW5ndGggLSAxKTsKICAgICAgICAgICAgcG9zaXRpb24uY29sdW1uID0gdGhpcy5nZXRMaW5lKGxlbmd0aCAtIDEpLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICB0aGlzLmluc2VydEZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChyb3csIGxpbmVzKSB7CiAgICAgICAgcm93ID0gTWF0aC5taW4oTWF0aC5tYXgocm93LCAwKSwgdGhpcy5nZXRMZW5ndGgoKSk7CiAgICAgICAgdmFyIGNvbHVtbiA9IDA7CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoWyIiXSk7CiAgICAgICAgICAgIGNvbHVtbiA9IDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IFsiIl0uY29uY2F0KGxpbmVzKTsKICAgICAgICAgICAgcm93LS07CiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoOwogICAgICAgIH0KICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0sIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBsaW5lcykgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHsKICAgICAgICAgICAgcm93OiBzdGFydC5yb3cgKyBsaW5lcy5sZW5ndGggLSAxLAogICAgICAgICAgICBjb2x1bW46IChsaW5lcy5sZW5ndGggPT0gMSA/IHN0YXJ0LmNvbHVtbiA6IDApICsgbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoCiAgICAgICAgfTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJpbnNlcnQiLAogICAgICAgICAgICBsaW5lczogbGluZXMKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UoeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3Moc3RhcnQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlSW5MaW5lID0gZnVuY3Rpb24gKHJvdywgc3RhcnRDb2x1bW4sIGVuZENvbHVtbikgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgZW5kQ29sdW1uKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCB9KQogICAgICAgIH0sIHRydWUpOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGZpcnN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlyc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgbGFzdFJvdyA9IE1hdGgubWluKE1hdGgubWF4KDAsIGxhc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgdmFyIGRlbGV0ZUZpcnN0TmV3TGluZSA9IGxhc3RSb3cgPT0gdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgZmlyc3RSb3cgPiAwOwogICAgICAgIHZhciBkZWxldGVMYXN0TmV3TGluZSA9IGxhc3RSb3cgPCB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB2YXIgc3RhcnRSb3cgPSAoZGVsZXRlRmlyc3ROZXdMaW5lID8gZmlyc3RSb3cgLSAxIDogZmlyc3RSb3cpOwogICAgICAgIHZhciBzdGFydENvbCA9IChkZWxldGVGaXJzdE5ld0xpbmUgPyB0aGlzLmdldExpbmUoc3RhcnRSb3cpLmxlbmd0aCA6IDApOwogICAgICAgIHZhciBlbmRSb3cgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyBsYXN0Um93ICsgMSA6IGxhc3RSb3cpOwogICAgICAgIHZhciBlbmRDb2wgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyAwIDogdGhpcy5nZXRMaW5lKGVuZFJvdykubGVuZ3RoKTsKICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sLCBlbmRSb3csIGVuZENvbCk7CiAgICAgICAgdmFyIGRlbGV0ZWRMaW5lcyA9IHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0LAogICAgICAgICAgICBlbmQ6IHJhbmdlLmVuZCwKICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgbGluZXM6IHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZGVsZXRlZExpbmVzOwogICAgfTsKICAgIHRoaXMucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgcm93ID49IDApIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3csIHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aCksCiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIDEsIDApLAogICAgICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgICAgIGxpbmVzOiBbIiIsICIiXQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5yZXBsYWNlID0gZnVuY3Rpb24gKHJhbmdlLCB0ZXh0KSB7CiAgICAgICAgaWYgKCEocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkpCiAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKTsKICAgICAgICBpZiAodGV4dC5sZW5ndGggPT09IDAgJiYgcmFuZ2UuaXNFbXB0eSgpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgaWYgKHRleHQgPT0gdGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2UuZW5kOwogICAgICAgIHRoaXMucmVtb3ZlKHJhbmdlKTsKICAgICAgICB2YXIgZW5kOwogICAgICAgIGlmICh0ZXh0KSB7CiAgICAgICAgICAgIGVuZCA9IHRoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LCB0ZXh0KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGVuZCA9IHJhbmdlLnN0YXJ0OwogICAgICAgIH0KICAgICAgICByZXR1cm4gZW5kOwogICAgfTsKICAgIHRoaXMuYXBwbHlEZWx0YXMgPSBmdW5jdGlvbiAoZGVsdGFzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24gKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGkgPSBkZWx0YXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgdGhpcy5yZXZlcnREZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLmFwcGx5RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgICAgICB2YXIgaXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gImluc2VydCI7CiAgICAgICAgaWYgKGlzSW5zZXJ0ID8gZGVsdGEubGluZXMubGVuZ3RoIDw9IDEgJiYgIWRlbHRhLmxpbmVzWzBdCiAgICAgICAgICAgIDogIVJhbmdlLmNvbXBhcmVQb2ludHMoZGVsdGEuc3RhcnQsIGRlbHRhLmVuZCkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaXNJbnNlcnQgJiYgZGVsdGEubGluZXMubGVuZ3RoID4gMjAwMDApIHsKICAgICAgICAgICAgdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEoZGVsdGEsIDIwMDAwKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGFwcGx5RGVsdGEodGhpcy4kbGluZXMsIGRlbHRhLCBkb05vdFZhbGlkYXRlKTsKICAgICAgICAgICAgdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLCBkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNhZmVBcHBseURlbHRhID0gZnVuY3Rpb24gKGRlbHRhKSB7CiAgICAgICAgdmFyIGRvY0xlbmd0aCA9IHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgICAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmIGRlbHRhLnN0YXJ0LnJvdyA8IGRvY0xlbmd0aCAmJiBkZWx0YS5lbmQucm93IDwgZG9jTGVuZ3RoCiAgICAgICAgICAgIHx8IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiAmJiBkZWx0YS5zdGFydC5yb3cgPD0gZG9jTGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhID0gZnVuY3Rpb24gKGRlbHRhLCBNQVgpIHsKICAgICAgICB2YXIgbGluZXMgPSBkZWx0YS5saW5lczsKICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIE1BWCArIDE7CiAgICAgICAgdmFyIHJvdyA9IGRlbHRhLnN0YXJ0LnJvdzsKICAgICAgICB2YXIgY29sdW1uID0gZGVsdGEuc3RhcnQuY29sdW1uOwogICAgICAgIGZvciAodmFyIGZyb20gPSAwLCB0byA9IDA7IGZyb20gPCBsOyBmcm9tID0gdG8pIHsKICAgICAgICAgICAgdG8gKz0gTUFYIC0gMTsKICAgICAgICAgICAgdmFyIGNodW5rID0gbGluZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgICAgICAgICBjaHVuay5wdXNoKCIiKTsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3cgKyBmcm9tLCBjb2x1bW4pLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyB0bywgY29sdW1uID0gMCksCiAgICAgICAgICAgICAgICBhY3Rpb246IGRlbHRhLmFjdGlvbiwKICAgICAgICAgICAgICAgIGxpbmVzOiBjaHVuawogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZGVsdGEubGluZXMgPSBsaW5lcy5zbGljZShmcm9tKTsKICAgICAgICBkZWx0YS5zdGFydC5yb3cgPSByb3cgKyBmcm9tOwogICAgICAgIGRlbHRhLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEsIHRydWUpOwogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICB0aGlzLiRzYWZlQXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmNsb25lUG9zKGRlbHRhLnN0YXJ0KSwKICAgICAgICAgICAgZW5kOiB0aGlzLmNsb25lUG9zKGRlbHRhLmVuZCksCiAgICAgICAgICAgIGFjdGlvbjogKGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiA/ICJyZW1vdmUiIDogImluc2VydCIpLAogICAgICAgICAgICBsaW5lczogZGVsdGEubGluZXMuc2xpY2UoKQogICAgICAgIH0pOwogICAgfTsKICAgIHRoaXMuaW5kZXhUb1Bvc2l0aW9uID0gZnVuY3Rpb24gKGluZGV4LCBzdGFydFJvdykgewogICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTsKICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRSb3cgfHwgMCwgbCA9IGxpbmVzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICBpbmRleCAtPSBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoOwogICAgICAgICAgICBpZiAoaW5kZXggPCAwKQogICAgICAgICAgICAgICAgcmV0dXJuIHsgcm93OiBpLCBjb2x1bW46IGluZGV4ICsgbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aCB9OwogICAgICAgIH0KICAgICAgICByZXR1cm4geyByb3c6IGwgLSAxLCBjb2x1bW46IGluZGV4ICsgbGluZXNbbCAtIDFdLmxlbmd0aCArIG5ld2xpbmVMZW5ndGggfTsKICAgIH07CiAgICB0aGlzLnBvc2l0aW9uVG9JbmRleCA9IGZ1bmN0aW9uIChwb3MsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKHBvcy5yb3csIGxpbmVzLmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDA7IGkgPCByb3c7ICsraSkKICAgICAgICAgICAgaW5kZXggKz0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKICAgICAgICByZXR1cm4gaW5kZXggKyBwb3MuY29sdW1uOwogICAgfTsKfSkuY2FsbChEb2N1bWVudC5wcm90b3R5cGUpOwpleHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvbGFuZyIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpleHBvcnRzLmxhc3QgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGFbYS5sZW5ndGggLSAxXTsKfTsKZXhwb3J0cy5zdHJpbmdSZXZlcnNlID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpOwp9OwpleHBvcnRzLnN0cmluZ1JlcGVhdCA9IGZ1bmN0aW9uIChzdHJpbmcsIGNvdW50KSB7CiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICB3aGlsZSAoY291bnQgPiAwKSB7CiAgICAgICAgaWYgKGNvdW50ICYgMSkKICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZzsKICAgICAgICBpZiAoY291bnQgPj49IDEpCiAgICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0Owp9Owp2YXIgdHJpbUJlZ2luUmVnZXhwID0gL15cc1xzKi87CnZhciB0cmltRW5kUmVnZXhwID0gL1xzXHMqJC87CmV4cG9ydHMuc3RyaW5nVHJpbUxlZnQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLCAnJyk7Cn07CmV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsICcnKTsKfTsKZXhwb3J0cy5jb3B5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgdmFyIGNvcHkgPSB7fTsKICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBjb3B5W2tleV0gPSBvYmpba2V5XTsKICAgIH0KICAgIHJldHVybiBjb3B5Owp9OwpleHBvcnRzLmNvcHlBcnJheSA9IGZ1bmN0aW9uIChhcnJheSkgewogICAgdmFyIGNvcHkgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgaWYgKGFycmF5W2ldICYmIHR5cGVvZiBhcnJheVtpXSA9PSAib2JqZWN0IikKICAgICAgICAgICAgY29weVtpXSA9IHRoaXMuY29weU9iamVjdChhcnJheVtpXSk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBjb3B5W2ldID0gYXJyYXlbaV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5kZWVwQ29weSA9IGZ1bmN0aW9uIGRlZXBDb3B5KG9iaikgewogICAgaWYgKHR5cGVvZiBvYmogIT09ICJvYmplY3QiIHx8ICFvYmopCiAgICAgICAgcmV0dXJuIG9iajsKICAgIHZhciBjb3B5OwogICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgewogICAgICAgIGNvcHkgPSBbXTsKICAgICAgICBmb3IgKHZhciBrZXkgPSAwOyBrZXkgPCBvYmoubGVuZ3RoOyBrZXkrKykgewogICAgICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjb3B5OwogICAgfQogICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopICE9PSAiW29iamVjdCBPYmplY3RdIikKICAgICAgICByZXR1cm4gb2JqOwogICAgY29weSA9IHt9OwogICAgZm9yICh2YXIga2V5IGluIG9iaikKICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5hcnJheVRvTWFwID0gZnVuY3Rpb24gKGFycikgewogICAgdmFyIG1hcCA9IHt9OwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBtYXBbYXJyW2ldXSA9IDE7CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmNyZWF0ZU1hcCA9IGZ1bmN0aW9uIChwcm9wcykgewogICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBmb3IgKHZhciBpIGluIHByb3BzKSB7CiAgICAgICAgbWFwW2ldID0gcHJvcHNbaV07CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmFycmF5UmVtb3ZlID0gZnVuY3Rpb24gKGFycmF5LCB2YWx1ZSkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodmFsdWUgPT09IGFycmF5W2ldKSB7CiAgICAgICAgICAgIGFycmF5LnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICB9Cn07CmV4cG9ydHMuZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7Cn07CmV4cG9ydHMuZXNjYXBlSFRNTCA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIHJldHVybiAoIiIgKyBzdHIpLnJlcGxhY2UoLyYvZywgIiYjMzg7IikucmVwbGFjZSgvIi9nLCAiJiMzNDsiKS5yZXBsYWNlKC8nL2csICImIzM5OyIpLnJlcGxhY2UoLzwvZywgIiYjNjA7Iik7Cn07CmV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzID0gZnVuY3Rpb24gKHN0cmluZywgcmVnRXhwKSB7CiAgICB2YXIgbWF0Y2hlcyA9IFtdOwogICAgc3RyaW5nLnJlcGxhY2UocmVnRXhwLCBmdW5jdGlvbiAoc3RyKSB7CiAgICAgICAgbWF0Y2hlcy5wdXNoKHsKICAgICAgICAgICAgb2Zmc2V0OiBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDJdLAogICAgICAgICAgICBsZW5ndGg6IHN0ci5sZW5ndGgKICAgICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIG1hdGNoZXM7Cn07CmV4cG9ydHMuZGVmZXJyZWRDYWxsID0gZnVuY3Rpb24gKGZjbikgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIGRlZmVycmVkID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBkZWZlcnJlZC5jYW5jZWwoKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgMCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLnNjaGVkdWxlID0gZGVmZXJyZWQ7CiAgICBkZWZlcnJlZC5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgZGVmZXJyZWQuaXNQZW5kaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CiAgICByZXR1cm4gZGVmZXJyZWQ7Cn07CmV4cG9ydHMuZGVsYXllZENhbGwgPSBmdW5jdGlvbiAoZmNuLCBkZWZhdWx0VGltZW91dCkgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIF9zZWxmID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBpZiAodGltZXIgPT0gbnVsbCkKICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTsKICAgIH07CiAgICBfc2VsZi5kZWxheSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKICAgIF9zZWxmLnNjaGVkdWxlID0gX3NlbGY7CiAgICBfc2VsZi5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgX3NlbGYuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgfTsKICAgIF9zZWxmLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGltZXI7CiAgICB9OwogICAgcmV0dXJuIF9zZWxmOwp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2Uvd29ya2VyL21pcnJvciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgRG9jdW1lbnQgPSByZXF1aXJlKCIuLi9kb2N1bWVudCIpLkRvY3VtZW50Owp2YXIgbGFuZyA9IHJlcXVpcmUoIi4uL2xpYi9sYW5nIik7CiAgICAKdmFyIE1pcnJvciA9IGV4cG9ydHMuTWlycm9yID0gZnVuY3Rpb24oc2VuZGVyKSB7CiAgICB0aGlzLnNlbmRlciA9IHNlbmRlcjsKICAgIHZhciBkb2MgPSB0aGlzLmRvYyA9IG5ldyBEb2N1bWVudCgiIik7CiAgICAKICAgIHZhciBkZWZlcnJlZFVwZGF0ZSA9IHRoaXMuZGVmZXJyZWRVcGRhdGUgPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSk7CiAgICAKICAgIHZhciBfc2VsZiA9IHRoaXM7CiAgICBzZW5kZXIub24oImNoYW5nZSIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTsKICAgICAgICBpZiAoZGF0YVswXS5zdGFydCkgewogICAgICAgICAgICBkb2MuYXBwbHlEZWx0YXMoZGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgICAgICAgICAgICB2YXIgZCwgZXJyOyAKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpIHsKICAgICAgICAgICAgICAgICAgICBkID0ge2FjdGlvbjogImluc2VydCIsIHN0YXJ0OiBkYXRhW2ldLCBsaW5lczogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZCA9IHthY3Rpb246ICJyZW1vdmUiLCBzdGFydDogZGF0YVtpXSwgZW5kOiBkYXRhW2krMV19OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoKGQuYWN0aW9uID09ICJpbnNlcnQiID8gZC5zdGFydCA6IGQuZW5kKS5yb3cgPj0gZG9jLiRsaW5lcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoIkludmFsaWQgZGVsdGEiKTsKICAgICAgICAgICAgICAgICAgICBlcnIuZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogX3NlbGYuJHBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzTGVuZ3RoOiBkb2MuJGxpbmVzLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGQuc3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZC5lbmQKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRocm93IGVycjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkb2MuYXBwbHlEZWx0YShkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoX3NlbGYuJHRpbWVvdXQpCiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCk7CiAgICAgICAgX3NlbGYub25VcGRhdGUoKTsKICAgIH0pOwp9OwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICB0aGlzLiR0aW1lb3V0ID0gNTAwOwogICAgCiAgICB0aGlzLnNldFRpbWVvdXQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgdGhpcy4kdGltZW91dCA9IHRpbWVvdXQ7CiAgICB9OwogICAgCiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB0aGlzLmRvYy5zZXRWYWx1ZSh2YWx1ZSk7CiAgICAgICAgdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSh0aGlzLiR0aW1lb3V0KTsKICAgIH07CiAgICAKICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7CiAgICAgICAgdGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSwgY2FsbGJhY2tJZCk7CiAgICB9OwogICAgCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgCiAgICB0aGlzLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkVXBkYXRlLmlzUGVuZGluZygpOwogICAgfTsKICAgIAp9KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKICAgIHZhciBhdCwgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBjaCwgICAgIC8vIFRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGVzY2FwZWUgPSB7CiAgICAgICAgICAgICciJzogICciJywKICAgICAgICAgICAgJ1xcJzogJ1xcJywKICAgICAgICAgICAgJy8nOiAgJy8nLAogICAgICAgICAgICBiOiAgICAnXGInLAogICAgICAgICAgICBmOiAgICAnXGYnLAogICAgICAgICAgICBuOiAgICAnXG4nLAogICAgICAgICAgICByOiAgICAnXHInLAogICAgICAgICAgICB0OiAgICAnXHQnCiAgICAgICAgfSwKICAgICAgICB0ZXh0LAoKICAgICAgICBlcnJvciA9IGZ1bmN0aW9uIChtKSB7CgogICAgICAgICAgICB0aHJvdyB7CiAgICAgICAgICAgICAgICBuYW1lOiAgICAnU3ludGF4RXJyb3InLAogICAgICAgICAgICAgICAgbWVzc2FnZTogbSwKICAgICAgICAgICAgICAgIGF0OiAgICAgIGF0LAogICAgICAgICAgICAgICAgdGV4dDogICAgdGV4dAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIG5leHQgPSBmdW5jdGlvbiAoYykgewoKICAgICAgICAgICAgaWYgKGMgJiYgYyAhPT0gY2gpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJFeHBlY3RlZCAnIiArIGMgKyAiJyBpbnN0ZWFkIG9mICciICsgY2ggKyAiJyIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjaCA9IHRleHQuY2hhckF0KGF0KTsKICAgICAgICAgICAgYXQgKz0gMTsKICAgICAgICAgICAgcmV0dXJuIGNoOwogICAgICAgIH0sCgogICAgICAgIG51bWJlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBudW1iZXIsCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJzsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnLSc7CiAgICAgICAgICAgICAgICBuZXh0KCctJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICcuJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9ICcuJzsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkgJiYgY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBudW1iZXIgPSArc3RyaW5nOwogICAgICAgICAgICBpZiAoaXNOYU4obnVtYmVyKSkgewogICAgICAgICAgICAgICAgZXJyb3IoIkJhZCBudW1iZXIiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgaGV4LAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLAogICAgICAgICAgICAgICAgdWZmZmY7CgogICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFwnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAndScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGhleCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gdWZmZmYgKiAxNiArIGhleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXNjYXBlZVtjaF0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZXNjYXBlZVtjaF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gIlxuIiB8fCBjaCA9PSAiXHIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBzdHJpbmciKTsKICAgICAgICB9LAoKICAgICAgICB3aGl0ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHdvcmQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICAgICAgbmV4dCgndCcpOwogICAgICAgICAgICAgICAgbmV4dCgncicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGNhc2UgJ2YnOgogICAgICAgICAgICAgICAgbmV4dCgnZicpOwogICAgICAgICAgICAgICAgbmV4dCgnYScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgncycpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgICAgIG5leHQoJ24nKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJVbmV4cGVjdGVkICciICsgY2ggKyAiJyIpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlLCAgLy8gUGxhY2UgaG9sZGVyIGZvciB0aGUgdmFsdWUgZnVuY3Rpb24uCgogICAgICAgIGFycmF5ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgICAgICBpZiAoY2ggPT09ICdbJykgewogICAgICAgICAgICAgICAgbmV4dCgnWycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsgICAvLyBlbXB0eSBhcnJheQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSgpKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIGFycmF5Iik7CiAgICAgICAgfSwKCiAgICAgICAgb2JqZWN0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGtleSwKICAgICAgICAgICAgICAgIG9iamVjdCA9IHt9OwoKICAgICAgICAgICAgaWYgKGNoID09PSAneycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ3snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OyAgIC8vIGVtcHR5IG9iamVjdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gc3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBuZXh0KCc6Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignRHVwbGljYXRlIGtleSAiJyArIGtleSArICciJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBvYmplY3QiKTsKICAgICAgICB9OwoKICAgIHZhbHVlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICB3aGl0ZSgpOwogICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICBjYXNlICd7JzoKICAgICAgICAgICAgcmV0dXJuIG9iamVjdCgpOwogICAgICAgIGNhc2UgJ1snOgogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICBjYXNlICciJzoKICAgICAgICAgICAgcmV0dXJuIHN0cmluZygpOwogICAgICAgIGNhc2UgJy0nOgogICAgICAgICAgICByZXR1cm4gbnVtYmVyKCk7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCByZXZpdmVyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgdGV4dCA9IHNvdXJjZTsKICAgICAgICBhdCA9IDA7CiAgICAgICAgY2ggPSAnICc7CiAgICAgICAgcmVzdWx0ID0gdmFsdWUoKTsKICAgICAgICB3aGl0ZSgpOwogICAgICAgIGlmIChjaCkgewogICAgICAgICAgICBlcnJvcigiU3ludGF4IGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiB3YWxrKGhvbGRlciwga2V5KSB7CiAgICAgICAgICAgIHZhciBrLCB2LCB2YWx1ZSA9IGhvbGRlcltrZXldOwogICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgZm9yIChrIGluIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tdID0gdjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7CiAgICAgICAgfSh7Jyc6IHJlc3VsdH0sICcnKSA6IHJlc3VsdDsKICAgIH07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl93b3JrZXIiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4uL2xpYi9vb3AiKTsKdmFyIE1pcnJvciA9IHJlcXVpcmUoIi4uL3dvcmtlci9taXJyb3IiKS5NaXJyb3I7CnZhciBwYXJzZSA9IHJlcXVpcmUoIi4vanNvbi9qc29uX3BhcnNlIik7Cgp2YXIgSnNvbldvcmtlciA9IGV4cG9ydHMuSnNvbldvcmtlciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgTWlycm9yLmNhbGwodGhpcywgc2VuZGVyKTsKICAgIHRoaXMuc2V0VGltZW91dCgyMDApOwp9OwoKb29wLmluaGVyaXRzKEpzb25Xb3JrZXIsIE1pcnJvcik7CgooZnVuY3Rpb24oKSB7CgogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZG9jLmdldFZhbHVlKCk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSkKICAgICAgICAgICAgICAgIHBhcnNlKHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmRvYy5pbmRleFRvUG9zaXRpb24oZS5hdC0xKTsKICAgICAgICAgICAgZXJyb3JzLnB1c2goewogICAgICAgICAgICAgICAgcm93OiBwb3Mucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb3MuY29sdW1uLAogICAgICAgICAgICAgICAgdGV4dDogZS5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZW5kZXIuZW1pdCgiYW5ub3RhdGUiLCBlcnJvcnMpOwogICAgfTsKCn0pLmNhbGwoSnNvbldvcmtlci5wcm90b3R5cGUpOwoKfSk7Cg=="},7907:function(je,M,ue){"use strict";ue.d(M,{Iu:function(){return J},cC:function(){return ce},m0:function(){return ye}}),ue(4987);var Ae={en:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",appendSubmenuTitle:"Select the type of the field to be appended",appendTitleAuto:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascending",ascendingTitle:"Sort the childs of this ${type} in ascending order",actionsMenu:"Click to open the actions menu (Ctrl+M)",cannotParseFieldError:"Cannot parse field into JSON",cannotParseValueError:"Cannot parse value into JSON",collapseAll:"Collapse all fields",compactTitle:"Compact JSON data, remove all whitespaces (Ctrl+Shift+I)",descending:"Descending",descendingTitle:"Sort the childs of this ${type} in descending order",drag:"Drag to move this field (Alt+Shift+Arrows)",duplicateKey:"duplicate key",duplicateText:"Duplicate",duplicateTitle:"Duplicate selected fields (Ctrl+D)",duplicateField:"Duplicate this field (Ctrl+D)",duplicateFieldError:"Duplicate field name",empty:"empty",expandAll:"Expand all fields",expandTitle:"Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs.",formatTitle:"Format JSON data, with proper indentation and line feeds (Ctrl+I)",insert:"Insert",insertTitle:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",insertSub:"Select the type of the field to be inserted",object:"Object",ok:"Ok",redo:"Redo (Ctrl+Shift+Z)",removeText:"Remove",removeTitle:"Remove selected fields (Ctrl+Del)",removeField:"Remove this field (Ctrl+Del)",repairTitle:"Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",searchTitle:"Search fields and values",searchNextResultTitle:"Next result (Enter)",searchPreviousResultTitle:"Previous result (Shift + Enter)",selectNode:"Select a node...",showAll:"show all",showMore:"show more",showMoreStatus:"displaying ${visibleChilds} of ${totalChilds} items.",sort:"Sort",sortTitle:"Sort the childs of this ${type}",sortTitleShort:"Sort contents",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"String",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",extract:"Extract",extractTitle:"Extract this ${type}",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Type",typeTitle:"Change the type of this field",openUrl:"Ctrl+Click or Ctrl+Enter to open url in new window",undo:"Undo last action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Field type "object". An object contains an unordered set of key/value pairs.',arrayType:'Field type "array". An array contains an ordered collection of values.',stringType:'Field type "string". Field type is not determined from the value, but always returned as string.',modeEditorTitle:"Switch Editor Mode",modeCodeText:"Code",modeCodeTitle:"Switch to code highlighter",modeFormText:"Form",modeFormTitle:"Switch to form editor",modeTextText:"Text",modeTextTitle:"Switch to plain text editor",modeTreeText:"Tree",modeTreeTitle:"Switch to tree editor",modeViewText:"View",modeViewTitle:"Switch to tree view",modePreviewText:"Preview",modePreviewTitle:"Switch to preview mode",examples:"Examples",default:"Default",containsInvalidProperties:"Contains invalid properties",containsInvalidItems:"Contains invalid items"},es:{array:"Matriz",auto:"Auto",appendText:"Agregar",appendTitle:"Agregue un nuevo campo con el tipo 'auto' despu\xe9s de este campo (Ctrl + Shift + Ins)",appendSubmenuTitle:"Seleccione el tipo de campo que se agregar\xe1",appendTitleAuto:"Agregue un nuevo campo con el tipo 'auto' (Ctrl + Shift + Ins)",ascending:"Ascendente",ascendingTitle:"Ordene los elementos secundarios de este ${type} en orden ascendente",actionsMenu:"Haga clic para abrir el men\xfa de acciones (Ctrl + M)",cannotParseFieldError:"No se puede parsear el campo en JSON",cannotParseValueError:"No se puede parsear el valor en JSON",collapseAll:"Contraer todos los campos",compactTitle:"Compactar datos JSON, eliminar todos los espacios en blanco (Ctrl + Shift + I)",descending:"Descendente",descendingTitle:"Ordene los hijos de este ${type} en orden descendente",drag:"Arrastre para mover este campo (Alt + May\xfas + Flechas)",duplicateKey:"llave duplicada",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos seleccionados (Ctrl + D)",duplicateField:"Duplicar este campo (Ctrl + D)",duplicateFieldError:"Nombre de campo duplicado",empty:"vacio",expandAll:"Expandir todos los campos",expandTitle:"Haga clic para expandir/contraer este campo (Ctrl + E). \n  Ctrl+Clic para expandir/contraer incluyendo todos los ni\xf1os.",formatTitle:"Formatee los datos JSON, con la sangr\xeda y los avances de l\xednea adecuados (Ctrl + I)",insert:"Insertar",insertTitle:"Inserte un nuevo campo con el tipo 'auto' antes de este campo (Ctrl + Ins)",insertSub:"Seleccione el tipo de campo a insertar",object:"Objeto",ok:"Ok",redo:"Rehacer (Ctrl+May\xfas+Z)",removeText:"Eliminar",removeTitle:"Eliminar campos seleccionados (Ctrl+Supr)",removeField:"Eliminar este campo (Ctrl+Supr)",repairTitle:"Reparar JSON: corrija comillas y caracteres de escape, elimine comentarios y notaci\xf3n JSONP, convierta objetos JavaScript en JSON.",searchTitle:"Campos de b\xfasqueda y valores",searchNextResultTitle:"Siguiente resultado (Entrar)",searchPreviousResultTitle:"Resultado anterior (Shift + Enter)",selectNode:"Seleccione un nodo...",showAll:"mostrar todo",showMore:"mostrar m\xe1s",showMoreStatus:"mostrando ${visibleChilds} de ${totalChilds} elementos.",sort:"Ordenar",sortTitle:"Ordene los hijos de este ${type}",sortTitleShort:"Ordenar contenidos",sortFieldLabel:"Campo:",sortDirectionLabel:"Direcci\xf3n:",sortFieldTitle:"Seleccione el campo anidado por el cual ordenar la matriz u objeto",sortAscending:"Ascendente",sortAscendingTitle:"Ordenar el campo seleccionado en orden ascendente",sortDescending:"Descendente",sortDescendingTitle:"Ordenar por el campo seleccionado, en orden descendente",string:"Texto",transform:"Transformar",transformTitle:"Filtrar, ordenar o transformar los hijos de este ${type}",transformTitleShort:"Filtrar, ordenar o transformar contenidos",extract:"Extraer",extractTitle:"Extrae este ${type}",transformQueryTitle:"Ingrese una consulta JMESPath",transformWizardLabel:"Wizard",transformWizardFilter:"Filtro",transformWizardSortBy:"Ordenar por",transformWizardSelectFields:"Seleccione un campo",transformQueryLabel:"Consulta",transformPreviewLabel:"Vista Previa",type:"Tipo",typeTitle:"Cambiar el tipo de campo",openUrl:"Ctrl+Click o Ctrl+Enter para abrir la URL en una nueva ventana",undo:"Deshacer la \xfaltima acci\xf3n (Ctrl+Z)",validationCannotMove:"No se puede mover un campo a un hijo de s\xed mismo.",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Tipo de campo "objeto".  Un objeto contiene un conjunto desordenado de pares clave/valor.',arrayType:'Tipo de campo "matriz".  Una matriz contiene una colecci\xf3n ordenada de valores.',stringType:'Tipo de campo "cadena".  El tipo de campo no se determina a partir del valor,  pero siempre se devuelve como una cadena.',modeEditorTitle:"Cambiar modo de editor",modeCodeText:"Codigo",modeCodeTitle:"Cambiar al resaltador de c\xf3digo",modeFormText:"Formulario",modeFormTitle:"Cambiar al editor de formularios",modeTextText:"Texto",modeTextTitle:"Cambiar al editor de texto sin formato",modeTreeText:"Arbol",modeTreeTitle:"Cambiar al editor de \xe1rbol",modeViewText:"Vista",modeViewTitle:"Cambiar a la vista de \xe1rbol",modePreviewText:"Vista Previa",modePreviewTitle:"Cambiar al modo de vista previa",examples:"Ejemplos",default:"Predeterminado",containsInvalidProperties:"Contiene propiedades no validas",containsInvalidItems:"Contiene items no validos"},"zh-CN":{array:"\u6570\u7ec4",auto:"\u81ea\u52a8",appendText:"\u8ffd\u52a0",appendTitle:"\u5728\u6b64\u5b57\u6bb5\u540e\u8ffd\u52a0\u4e00\u4e2a\u7c7b\u578b\u4e3a\u201cauto\u201d\u7684\u65b0\u5b57\u6bb5 (Ctrl+Shift+Ins)",appendSubmenuTitle:"\u9009\u62e9\u8981\u8ffd\u52a0\u7684\u5b57\u6bb5\u7c7b\u578b",appendTitleAuto:"\u8ffd\u52a0\u7c7b\u578b\u4e3a\u201cauto\u201d\u7684\u65b0\u5b57\u6bb5 (Ctrl+Shift+Ins)",ascending:"\u5347\u5e8f",ascendingTitle:"\u5347\u5e8f\u6392\u5217${type}\u7684\u5b50\u8282\u70b9",actionsMenu:"\u70b9\u51fb\u6253\u5f00\u52a8\u4f5c\u83dc\u5355(Ctrl+M)",cannotParseFieldError:"\u65e0\u6cd5\u5c06\u5b57\u6bb5\u89e3\u6790\u4e3aJSON",cannotParseValueError:"\u65e0\u6cd5\u5c06\u503c\u89e3\u6790\u4e3aJSON",collapseAll:"\u7f29\u8fdb\u6240\u6709\u5b57\u6bb5",compactTitle:"\u538b\u7f29JSON\u6570\u636e\uff0c\u5220\u9664\u6240\u6709\u7a7a\u683c (Ctrl+Shift+I)",descending:"\u964d\u5e8f",descendingTitle:"\u964d\u5e8f\u6392\u5217${type}\u7684\u5b50\u8282\u70b9",drag:"\u62d6\u62fd\u79fb\u52a8\u8be5\u8282\u70b9(Alt+Shift+Arrows)",duplicateKey:"\u91cd\u590d\u952e",duplicateText:"\u590d\u5236",duplicateTitle:"\u590d\u5236\u9009\u4e2d\u5b57\u6bb5(Ctrl+D)",duplicateField:"\u590d\u5236\u8be5\u5b57\u6bb5(Ctrl+D)",duplicateFieldError:"\u91cd\u590d\u7684\u5b57\u6bb5\u540d\u79f0",empty:"\u6e05\u7a7a",expandAll:"\u5c55\u5f00\u6240\u6709\u5b57\u6bb5",expandTitle:"\u70b9\u51fb \u5c55\u5f00/\u6536\u7f29 \u8be5\u5b57\u6bb5(Ctrl+E). \nCtrl+Click \u5c55\u5f00/\u6536\u7f29 \u5305\u542b\u6240\u6709\u5b50\u8282\u70b9.",formatTitle:"\u4f7f\u7528\u9002\u5f53\u7684\u7f29\u8fdb\u548c\u6362\u884c\u7b26\u683c\u5f0f\u5316JSON\u6570\u636e (Ctrl+I)",insert:"\u63d2\u5165",insertTitle:"\u5728\u6b64\u5b57\u6bb5\u524d\u63d2\u5165\u7c7b\u578b\u4e3a\u201cauto\u201d\u7684\u65b0\u5b57\u6bb5 (Ctrl+Ins)",insertSub:"\u9009\u62e9\u8981\u63d2\u5165\u7684\u5b57\u6bb5\u7c7b\u578b",object:"\u5bf9\u8c61",ok:"Ok",redo:"\u91cd\u505a (Ctrl+Shift+Z)",removeText:"\u79fb\u9664",removeTitle:"\u79fb\u9664\u9009\u4e2d\u5b57\u6bb5 (Ctrl+Del)",removeField:"\u79fb\u9664\u8be5\u5b57\u6bb5 (Ctrl+Del)",repairTitle:"\u4fee\u590dJSON\uff1a\u4fee\u590d\u5f15\u53f7\u548c\u8f6c\u4e49\u7b26\uff0c\u5220\u9664\u6ce8\u91ca\u548cJSONP\u8868\u793a\u6cd5\uff0c\u5c06JavaScript\u5bf9\u8c61\u8f6c\u6362\u4e3aJSON\u3002",selectNode:"\u9009\u62e9\u4e00\u4e2a\u8282\u70b9...",showAll:"\u5c55\u793a\u5168\u90e8",showMore:"\u5c55\u793a\u66f4\u591a",showMoreStatus:"\u663e\u793a${totalChilds}\u7684${visibleChilds}\u9879\u76ee.",sort:"\u6392\u5e8f",sortTitle:"\u6392\u5e8f${type}\u7684\u5b50\u8282\u70b9",sortTitleShort:"\u5185\u5bb9\u6392\u5e8f",sortFieldLabel:"\u5b57\u6bb5\uff1a",sortDirectionLabel:"\u65b9\u5411\uff1a",sortFieldTitle:"\u9009\u62e9\u7528\u4e8e\u5bf9\u6570\u7ec4\u6216\u5bf9\u8c61\u6392\u5e8f\u7684\u5d4c\u5957\u5b57\u6bb5",sortAscending:"\u5347\u5e8f\u6392\u5e8f",sortAscendingTitle:"\u6309\u7167\u8be5\u5b57\u6bb5\u5347\u5e8f\u6392\u5e8f",sortDescending:"\u964d\u5e8f\u6392\u5e8f",sortDescendingTitle:"\u6309\u7167\u8be5\u5b57\u6bb5\u964d\u5e8f\u6392\u5e8f",string:"\u5b57\u7b26\u4e32",transform:"\u53d8\u6362",transformTitle:"\u7b5b\u9009\uff0c\u6392\u5e8f\uff0c\u6216\u8005\u8f6c\u6362${type}\u7684\u5b50\u8282\u70b9",transformTitleShort:"\u7b5b\u9009\uff0c\u6392\u5e8f\uff0c\u6216\u8005\u8f6c\u6362\u5185\u5bb9",extract:"\u63d0\u53d6",extractTitle:"\u63d0\u53d6\u8fd9\u4e2a ${type}",transformQueryTitle:"\u8f93\u5165JMESPath\u67e5\u8be2",transformWizardLabel:"\u5411\u5bfc",transformWizardFilter:"\u7b5b\u9009",transformWizardSortBy:"\u6392\u5e8f",transformWizardSelectFields:"\u9009\u62e9\u5b57\u6bb5",transformQueryLabel:"\u67e5\u8be2",transformPreviewLabel:"\u9884\u89c8",type:"\u7c7b\u578b",typeTitle:"\u66f4\u6539\u5b57\u6bb5\u7c7b\u578b",openUrl:"Ctrl+Click \u6216\u8005 Ctrl+Enter \u5728\u65b0\u7a97\u53e3\u6253\u5f00\u94fe\u63a5",undo:"\u64a4\u9500\u4e0a\u6b21\u52a8\u4f5c (Ctrl+Z)",validationCannotMove:"\u65e0\u6cd5\u5c06\u5b57\u6bb5\u79fb\u5165\u5176\u5b50\u8282\u70b9",autoType:'\u5b57\u6bb5\u7c7b\u578b "auto". \u5b57\u6bb5\u7c7b\u578b\u7531\u503c\u81ea\u52a8\u786e\u5b9a \u53ef\u4ee5\u4e3a string\uff0cnumber\uff0cboolean\uff0c\u6216\u8005 null.',objectType:'\u5b57\u6bb5\u7c7b\u578b "object". \u5bf9\u8c61\u5305\u542b\u4e00\u7ec4\u65e0\u5e8f\u7684\u952e/\u503c\u5bf9.',arrayType:'\u5b57\u6bb5\u7c7b\u578b "array". \u6570\u7ec4\u5305\u542b\u503c\u7684\u6709\u5e8f\u96c6\u5408.',stringType:'\u5b57\u6bb5\u7c7b\u578b "string". \u5b57\u6bb5\u7c7b\u578b\u7531\u503c\u81ea\u52a8\u786e\u5b9a\uff0c\u4f46\u59cb\u7ec8\u4f5c\u4e3a\u5b57\u7b26\u4e32\u8fd4\u56de.',modeCodeText:"\u4ee3\u7801",modeCodeTitle:"\u5207\u6362\u81f3\u4ee3\u7801\u9ad8\u4eae",modeFormText:"\u8868\u5355",modeFormTitle:"\u5207\u6362\u81f3\u8868\u5355\u7f16\u8f91",modeTextText:"\u6587\u672c",modeTextTitle:"\u5207\u6362\u81f3\u6587\u672c\u7f16\u8f91",modeTreeText:"\u6811",modeTreeTitle:"\u5207\u6362\u81f3\u6811\u7f16\u8f91",modeViewText:"\u89c6\u56fe",modeViewTitle:"\u5207\u6362\u81f3\u6811\u89c6\u56fe",modePreviewText:"\u9884\u89c8",modePreviewTitle:"\u5207\u6362\u81f3\u9884\u89c8\u6a21\u5f0f",examples:"\u4f8b\u5b50",default:"\u7f3a\u7701",containsInvalidProperties:"\u5305\u542b\u65e0\u6548\u7684\u5c5e\u6027",containsInvalidItems:"\u5305\u542b\u65e0\u6548\u9879\u76ee"},"pt-BR":{array:"Lista",auto:"Automatico",appendText:"Adicionar",appendTitle:"Adicionar novo campo com tipo 'auto' depois deste campo (Ctrl+Shift+Ins)",appendSubmenuTitle:"Selecione o tipo do campo a ser adicionado",appendTitleAuto:"Adicionar novo campo com tipo 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendente",ascendingTitle:"Organizar filhor do tipo ${type} em crescente",actionsMenu:"Clique para abrir o menu de a\xe7\xf5es (Ctrl+M)",cannotParseFieldError:"N\xe3o \xe9 poss\xedvel analisar o campo no JSON",cannotParseValueError:"N\xe3o \xe9 poss\xedvel analisar o valor em JSON",collapseAll:"Fechar todos campos",compactTitle:"Dados JSON compactos, remova todos os espa\xe7os em branco (Ctrl+Shift+I)",descending:"Descendente",descendingTitle:"Organizar o filhos do tipo ${type} em decrescente",duplicateKey:"chave duplicada",drag:"Arraste para mover este campo (Alt+Shift+Arrows)",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos selecionados (Ctrl+D)",duplicateField:"Duplicar este campo (Ctrl+D)",duplicateFieldError:"Nome do campo duplicado",empty:"vazio",expandAll:"Expandir todos campos",expandTitle:"Clique para expandir/encolher este campo (Ctrl+E). \nCtrl+Click para expandir/encolher incluindo todos os filhos.",formatTitle:"Formate dados JSON, com recuo e feeds de linha adequados (Ctrl+I)",insert:"Inserir",insertTitle:"Inserir um novo campo do tipo 'auto' antes deste campo (Ctrl+Ins)",insertSub:"Selecionar o tipo de campo a ser inserido",object:"Objeto",ok:"Ok",redo:"Refazer (Ctrl+Shift+Z)",removeText:"Remover",removeTitle:"Remover campos selecionados (Ctrl+Del)",removeField:"Remover este campo (Ctrl+Del)",repairTitle:"Repare JSON: corrija aspas e caracteres de escape, remova coment\xe1rios e nota\xe7\xe3o JSONP, transforme objetos JavaScript em JSON.",selectNode:"Selecione um n\xf3dulo...",showAll:"mostrar todos",showMore:"mostrar mais",showMoreStatus:"exibindo ${visibleChilds} de ${totalChilds} itens.",sort:"Organizar",sortTitle:"Organizar os filhos deste ${type}",sortTitleShort:"Organizar os filhos",sortFieldLabel:"Campo:",sortDirectionLabel:"Dire\xe7\xe3o:",sortFieldTitle:"Selecione um campo filho pelo qual ordenar o array ou objeto",sortAscending:"Ascendente",sortAscendingTitle:"Ordenar o campo selecionado por ordem ascendente",sortDescending:"Descendente",sortDescendingTitle:"Ordenar o campo selecionado por ordem descendente",string:"Texto",transform:"Transformar",transformTitle:"Filtrar, ordenar ou transformar os filhos deste ${type}",transformTitleShort:"Filtrar, ordenar ou transformar conte\xfados",transformQueryTitle:"Insira uma express\xe3o JMESPath",transformWizardLabel:"Assistente",transformWizardFilter:"Filtro",transformWizardSortBy:"Ordenar por",transformWizardSelectFields:"Selecionar campos",transformQueryLabel:"Express\xe3o",transformPreviewLabel:"Visualizar",type:"Tipo",typeTitle:"Mudar o tipo deste campo",openUrl:"Ctrl+Click ou Ctrl+Enter para abrir link em nova janela",undo:"Desfazer \xfaltimo a\xe7\xe3o (Ctrl+Z)",validationCannotMove:"N\xe3o pode mover um campo como filho dele mesmo",autoType:'Campo do tipo "auto". O tipo do campo \xe9 determinao automaticamente a partir do seu valor e pode ser texto, n\xfamero, verdade/falso ou nulo.',objectType:'Campo do tipo "objeto". Um objeto cont\xe9m uma lista de pares com chave e valor.',arrayType:'Campo do tipo "lista". Uma lista contem uma cole\xe7\xe3o de valores ordenados.',stringType:'Campo do tipo "string". Campo do tipo nao \xe9 determinado atrav\xe9s do seu valor, mas sempre retornara um texto.',examples:"Exemplos",default:"Revelia",containsInvalidProperties:"Cont\xe9m propriedades inv\xe1lidas",containsInvalidItems:"Cont\xe9m itens inv\xe1lidos"},tr:{array:"Dizin",auto:"Otomatik",appendText:"Ekle",appendTitle:"Bu alan\u0131n alt\u0131na 'otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",appendSubmenuTitle:"Eklenecek alan\u0131n tipini se\xe7",appendTitleAuto:"'Otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",ascending:"Artan",ascendingTitle:"${type}'\u0131n alt tiplerini artan d\xfczende s\u0131rala",actionsMenu:"Aksiyon men\xfcs\xfcn\xfc a\xe7mak i\xe7in t\u0131klay\u0131n (Ctrl+M)",collapseAll:"T\xfcm alanlar\u0131 kapat",descending:"Azalan",descendingTitle:"${type}'\u0131n alt tiplerini azalan d\xfczende s\u0131rala",drag:"Bu alan\u0131 ta\u015f\u0131mak i\xe7in s\xfcr\xfckleyin (Alt+Shift+Arrows)",duplicateKey:"Var olan anahtar",duplicateText:"A\u015fa\u011f\u0131ya kopyala",duplicateTitle:"Se\xe7ili alanlardan bir daha olu\u015ftur (Ctrl+D)",duplicateField:"Bu alandan bir daha olu\u015ftur (Ctrl+D)",duplicateFieldError:"Duplicate field name",cannotParseFieldError:"Alan JSON'a ayr\u0131\u015ft\u0131r\u0131lam\u0131yor",cannotParseValueError:"JSON'a de\u011fer ayr\u0131\u015ft\u0131r\u0131lam\u0131yor",empty:"bo\u015f",expandAll:"T\xfcm alanlar\u0131 a\xe7",expandTitle:"Bu alan\u0131 a\xe7mak/kapatmak i\xe7in t\u0131kla (Ctrl+E). \nAlt alanlarda dahil t\xfcm alanlar\u0131 a\xe7mak i\xe7in Ctrl+Click ",insert:"Ekle",insertTitle:"Bu alan\u0131n \xfcst\xfcne 'otomatik' tipinde yeni bir alan ekle (Ctrl+Ins)",insertSub:"Araya eklenecek alan\u0131n tipini se\xe7",object:"Nesne",ok:"Tamam",redo:"Yeniden yap (Ctrl+Shift+Z)",removeText:"Kald\u0131r",removeTitle:"Se\xe7ilen alanlar\u0131 kald\u0131r (Ctrl+Del)",removeField:"Bu alan\u0131 kald\u0131r (Ctrl+Del)",selectNode:"Bir nesne se\xe7...",showAll:"t\xfcm\xfcn\xfc g\xf6ster",showMore:"daha fazla g\xf6ster",showMoreStatus:"${totalChilds} alan\u0131n ${visibleChilds} alt alanlar\u0131 g\xf6steriliyor",sort:"S\u0131rala",sortTitle:"${type}'\u0131n alt alanlar\u0131n\u0131 s\u0131rala",sortTitleShort:"\u0130\xe7erikleri s\u0131rala",sortFieldLabel:"Alan:",sortDirectionLabel:"Y\xf6n:",sortFieldTitle:"Diziyi veya nesneyi s\u0131ralamak i\xe7in i\xe7 i\xe7e ge\xe7mi\u015f alan\u0131 se\xe7in",sortAscending:"Artan",sortAscendingTitle:"Se\xe7ili alan\u0131 artan d\xfczende s\u0131rala",sortDescending:"Azalan",sortDescendingTitle:"Se\xe7ili alan\u0131 azalan d\xfczende s\u0131rala",string:"Karakter Dizisi",transform:"D\xf6n\xfc\u015ft\xfcr",transformTitle:"${type}'\u0131n alt alanlar\u0131n\u0131 filtrele, s\u0131rala veya d\xf6n\xfc\u015ft\xfcr",transformTitleShort:"\u0130\xe7erikleri filterele, s\u0131rala veya d\xf6n\xfc\u015ft\xfcr",transformQueryTitle:"JMESPath sorgusu gir",transformWizardLabel:"Sihirbaz",transformWizardFilter:"Filtre",transformWizardSortBy:"S\u0131rala",transformWizardSelectFields:"Alanlar\u0131 se\xe7",transformQueryLabel:"Sorgu",transformPreviewLabel:"\xd6nizleme",type:"Tip",typeTitle:"Bu alan\u0131n tipini de\u011fi\u015ftir",openUrl:"URL'i yeni bir pencerede a\xe7mak i\xe7in Ctrl+Click veya Ctrl+Enter",undo:"Son de\u011fi\u015fikli\u011fi geri al (Ctrl+Z)",validationCannotMove:"Alt alan olarak ta\u015f\u0131nam\u0131yor",autoType:'Alan tipi "otomatik". Alan t\xfcr\xfc otomatik olarak de\u011ferden belirlenirve bir dize, say\u0131, boolean veya null olabilir.',objectType:'Alan tipi "nesne". Bir nesne, s\u0131ralanmam\u0131\u015f bir anahtar / de\u011fer \xe7ifti k\xfcmesi i\xe7erir.',arrayType:'Alan tipi "dizi". Bir dizi, d\xfczenli de\u011ferler koleksiyonu i\xe7erir.',stringType:'Alan tipi "karakter dizisi". Alan t\xfcr\xfc de\u011ferden belirlenmez,ancak her zaman karakter dizisi olarak d\xf6nd\xfcr\xfcl\xfcr.',modeCodeText:"Kod",modeCodeTitle:"Kod vurgulay\u0131c\u0131ya ge\xe7",modeFormText:"Form",modeFormTitle:"Form d\xfczenleyiciye ge\xe7",modeTextText:"Metin",modeTextTitle:"D\xfcz metin d\xfczenleyiciye ge\xe7",modeTreeText:"A\u011fa\xe7",modeTreeTitle:"A\u011fa\xe7 d\xfczenleyiciye ge\xe7",modeViewText:"G\xf6r\xfcn\xfcm",modeViewTitle:"A\u011fa\xe7 g\xf6r\xfcn\xfcm\xfcne ge\xe7",examples:"\xd6rnekler",default:"Varsay\u0131lan",containsInvalidProperties:"Ge\xe7ersiz \xf6zellikler i\xe7eriyor",containsInvalidItems:"Ge\xe7ersiz \xf6\u011feler i\xe7eriyor"},ja:{array:"\u914d\u5217",auto:"\u30aa\u30fc\u30c8",appendText:"\u8ffd\u52a0",appendTitle:'\u6b21\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b"\u30aa\u30fc\u30c8"\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0 (Ctrl+Shift+Ins)',appendSubmenuTitle:"\u8ffd\u52a0\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",appendTitleAuto:'"\u30aa\u30fc\u30c8"\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0 (Ctrl+Shift+Ins)',ascending:"\u6607\u9806",ascendingTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u6607\u9806\u306b\u4e26\u3079\u66ff\u3048",actionsMenu:"\u30af\u30ea\u30c3\u30af\u3057\u3066\u30a2\u30af\u30b7\u30e7\u30f3\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304f (Ctrl+M)",collapseAll:"\u3059\u3079\u3066\u3092\u6298\u308a\u305f\u305f\u3080",descending:"\u964d\u9806",descendingTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u964d\u9806\u306b\u4e26\u3079\u66ff\u3048",drag:"\u30c9\u30e9\u30c3\u30b0\u3057\u3066\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u79fb\u52d5 (Alt+Shift+Arrows)",duplicateKey:"\u8907\u88fd\u30ad\u30fc",duplicateText:"\u8907\u88fd",duplicateTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8907\u88fd (Ctrl+D)",duplicateField:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8907\u88fd (Ctrl+D)",duplicateFieldError:"\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u304c\u91cd\u8907\u3057\u3066\u3044\u307e\u3059",cannotParseFieldError:"JSON\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u89e3\u6790\u3067\u304d\u307e\u305b\u3093",cannotParseValueError:"JSON\u306e\u5024\u3092\u89e3\u6790\u3067\u304d\u307e\u305b\u3093",empty:"\u7a7a",expandAll:"\u3059\u3079\u3066\u3092\u5c55\u958b",expandTitle:"\u30af\u30ea\u30c3\u30af\u3057\u3066\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u5c55\u958b/\u6298\u308a\u305f\u305f\u3080 (Ctrl+E). \nCtrl+Click \u3067\u3059\u3079\u3066\u306e\u5b50\u8981\u7d20\u3092\u5c55\u958b/\u6298\u308a\u305f\u305f\u3080",insert:"\u633f\u5165",insertTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u524d\u306b\u65b0\u3057\u3044\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u633f\u5165 (Ctrl+Ins)",insertSub:"\u633f\u5165\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u3092\u9078\u629e",object:"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8",ok:"\u5b9f\u884c",redo:"\u3084\u308a\u76f4\u3059 (Ctrl+Shift+Z)",removeText:"\u524a\u9664",removeTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u524a\u9664 (Ctrl+Del)",removeField:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u524a\u9664 (Ctrl+Del)",selectNode:"\u30ce\u30fc\u30c9\u3092\u9078\u629e...",showAll:"\u3059\u3079\u3066\u3092\u8868\u793a",showMore:"\u3082\u3063\u3068\u898b\u308b",showMoreStatus:"${totalChilds}\u500b\u306e\u30a2\u30a4\u30c6\u30e0\u306e\u3046\u3061 ${visibleChilds}\u500b\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002",sort:"\u4e26\u3079\u66ff\u3048",sortTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u4e26\u3079\u66ff\u3048",sortTitleShort:"\u4e26\u3079\u66ff\u3048",sortFieldLabel:"\u30d5\u30a3\u30fc\u30eb\u30c9:",sortDirectionLabel:"\u9806\u5e8f:",sortFieldTitle:"\u914d\u5217\u307e\u305f\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4e26\u3073\u66ff\u3048\u308b\u305f\u3081\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u9078\u629e",sortAscending:"\u6607\u9806",sortAscendingTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6607\u9806\u306b\u4e26\u3073\u66ff\u3048",sortDescending:"\u964d\u9806",sortDescendingTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u964d\u9806\u306b\u4e26\u3073\u66ff\u3048",string:"\u6587\u5b57\u5217",transform:"\u5909\u63db",transformTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u30d5\u30a3\u30eb\u30bf\u30fc\u30fb\u4e26\u3073\u66ff\u3048\u30fb\u5909\u63db\u3059\u308b",transformTitleShort:"\u5185\u5bb9\u3092\u30d5\u30a3\u30eb\u30bf\u30fc\u30fb\u4e26\u3073\u66ff\u3048\u30fb\u5909\u63db\u3059\u308b",extract:"\u62bd\u51fa",extractTitle:"${type}\u3092\u62bd\u51fa",transformQueryTitle:"JMESPath\u30af\u30a8\u30ea\u3092\u5165\u529b",transformWizardLabel:"\u30a6\u30a3\u30b6\u30fc\u30c9",transformWizardFilter:"\u30d5\u30a3\u30eb\u30bf\u30fc",transformWizardSortBy:"\u4e26\u3073\u66ff\u3048",transformWizardSelectFields:"\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u9078\u629e",transformQueryLabel:"\u30af\u30a8\u30ea",transformPreviewLabel:"\u30d7\u30ec\u30d3\u30e5\u30fc",type:"\u578b",typeTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u3092\u5909\u66f4",openUrl:"Ctrl+Click \u307e\u305f\u306f Ctrl+Enter \u3067 \u65b0\u898f\u30a6\u30a3\u30f3\u30c9\u30a6\u3067URL\u3092\u958b\u304f",undo:"\u5143\u306b\u623b\u3059 (Ctrl+Z)",validationCannotMove:"\u5b50\u8981\u7d20\u306b\u79fb\u52d5\u3067\u304d\u307e\u305b\u3093 ",autoType:"\u30aa\u30fc\u30c8\uff1a \u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u306f\u5024\u304b\u3089\u81ea\u52d5\u7684\u306b\u6c7a\u5b9a\u3055\u308c\u307e\u3059\u3002 (\u6587\u5b57\u5217\u30fb\u6570\u5024\u30fb\u30d6\u30fc\u30eb\u30fbnull)",objectType:"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff1a \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u9806\u5e8f\u304c\u6c7a\u307e\u3063\u3066\u3044\u306a\u3044\u30ad\u30fc\u3068\u5024\u306e\u30da\u30a2\u7d44\u307f\u5408\u308f\u305b\u3067\u3059\u3002",arrayType:"\u914d\u5217\uff1a \u914d\u5217\u306f\u9806\u5e8f\u304c\u6c7a\u307e\u3063\u3066\u3044\u308b\u5024\u306e\u96c6\u5408\u4f53\u3067\u3059\u3002",stringType:"\u6587\u5b57\u5217\uff1a \u30d5\u30a3\u30fc\u30eb\u30c9\u578b\u306f\u5024\u304b\u3089\u6c7a\u5b9a\u3055\u308c\u307e\u305b\u3093\u304c\u3001\u5e38\u306b\u6587\u5b57\u5217\u3068\u3057\u3066\u8fd4\u3055\u308c\u307e\u3059\u3002",modeCodeText:"\u30b3\u30fc\u30c9\u30e2\u30fc\u30c9",modeCodeTitle:"\u30cf\u30a4\u30e9\u30a4\u30c8\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeFormText:"\u30d5\u30a9\u30fc\u30e0\u30e2\u30fc\u30c9",modeFormTitle:"\u30d5\u30a9\u30fc\u30e0\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeTextText:"\u30c6\u30ad\u30b9\u30c8\u30e2\u30fc\u30c9",modeTextTitle:"\u30c6\u30ad\u30b9\u30c8\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeTreeText:"\u30c4\u30ea\u30fc\u30e2\u30fc\u30c9",modeTreeTitle:"\u30c4\u30ea\u30fc\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeViewText:"\u30d3\u30e5\u30fc\u30e2\u30fc\u30c9",modeViewTitle:"\u30d3\u30e5\u30fc\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modePreviewText:"\u30d7\u30ec\u30d3\u30e5\u30fc",modePreviewTitle:"\u30d7\u30ec\u30d3\u30e5\u30fc\u306b\u5207\u308a\u66ff\u3048",examples:"\u4f8b",default:"\u30c7\u30d5\u30a9\u30eb\u30c8",containsInvalidProperties:"\u7121\u52b9\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059",containsInvalidItems:"\u7121\u52b9\u306a\u30a2\u30a4\u30c6\u30e0\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059"},"fr-FR":{array:"Liste",auto:"Auto",appendText:"Ajouter",appendTitle:"Ajouter un champ de type 'auto' apr\xe8s ce champ (Ctrl+Shift+Ins)",appendSubmenuTitle:"S\xe9lectionner le type du champ \xe0 ajouter",appendTitleAuto:"Ajouter un champ de type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendant",ascendingTitle:"Trier les enfants de ce ${type} par ordre ascendant",actionsMenu:"Ouvrir le menu des actions (Ctrl+M)",collapseAll:"Regrouper",descending:"Descendant",descendingTitle:"Trier les enfants de ce ${type} par ordre descendant",drag:"D\xe9placer (Alt+Shift+Arrows)",duplicateKey:"Dupliquer la cl\xe9",duplicateText:"Dupliquer",duplicateTitle:"Dupliquer les champs s\xe9lectionn\xe9s (Ctrl+D)",duplicateField:"Dupliquer ce champ (Ctrl+D)",duplicateFieldError:"Dupliquer le nom de champ",cannotParseFieldError:"Champ impossible \xe0 parser en JSON",cannotParseValueError:"Valeur impossible \xe0 parser en JSON",empty:"vide",expandAll:"\xc9tendre",expandTitle:"\xc9tendre/regrouper ce champ (Ctrl+E). \nCtrl+Click pour \xe9tendre/regrouper avec tous les champs.",insert:"Ins\xe9rer",insertTitle:"Ins\xe9rer un champ de type 'auto' avant ce champ (Ctrl+Ins)",insertSub:"S\xe9lectionner le type de champ \xe0 ins\xe9rer",object:"Objet",ok:"Ok",redo:"Rejouer (Ctrl+Shift+Z)",removeText:"Supprimer",removeTitle:"Supprimer les champs s\xe9lectionn\xe9s (Ctrl+Del)",removeField:"Supprimer ce champ (Ctrl+Del)",searchTitle:"Rechercher champs et valeurs",searchNextResultTitle:"R\xe9sultat suivant (Enter)",searchPreviousResultTitle:"R\xe9sultat pr\xe9c\xe9dent (Shift + Enter)",selectNode:"S\xe9lectionner un n\u0153ud...",showAll:"voir tout",showMore:"voir plus",showMoreStatus:"${visibleChilds} \xe9l\xe9ments affich\xe9s de ${totalChilds}.",sort:"Trier",sortTitle:"Trier les champs de ce ${type}",sortTitleShort:"Trier",sortFieldLabel:"Champ:",sortDirectionLabel:"Direction:",sortFieldTitle:"S\xe9lectionner les champs permettant de trier les listes et objet",sortAscending:"Ascendant",sortAscendingTitle:"Trier les champs s\xe9lectionn\xe9s par ordre ascendant",sortDescending:"Descendant",sortDescendingTitle:"Trier les champs s\xe9lectionn\xe9s par ordre descendant",string:"Cha\xeene",transform:"Transformer",transformTitle:"Filtrer, trier, or transformer les enfants de ce ${type}",transformTitleShort:"Filtrer, trier ou transformer le contenu",extract:"Extraire",extractTitle:"Extraire ce ${type}",transformQueryTitle:"Saisir une requ\xeate JMESPath",transformWizardLabel:"Assistant",transformWizardFilter:"Filtrer",transformWizardSortBy:"Trier par",transformWizardSelectFields:"S\xe9lectionner les champs",transformQueryLabel:"Requ\xeate",transformPreviewLabel:"Pr\xe9visualisation",type:"Type",typeTitle:"Changer le type de ce champ",openUrl:"Ctrl+Click ou Ctrl+Enter pour ouvrir l'url dans une autre fen\xeatre",undo:"Annuler la derni\xe8re action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Champe de type "auto". Ce type de champ est automatiquement d\xe9termin\xe9 en fonction de la valeur et peut \xeatre de type "cha\xeene", "nombre", "bool\xe9en" ou null.',objectType:'Champ de type "objet". Un objet contient un ensemble non ordonn\xe9 de paires cl\xe9/valeur.',arrayType:'Champ de type "liste". Une liste contient une collection ordonn\xe9e de valeurs.',stringType:'Champ de type "cha\xeene". Ce type de champ n\'est pas d\xe9termin\xe9 en fonction de la valeur, mais retourne syst\xe9matiquement une cha\xeene de caract\xe8res.',modeEditorTitle:"Changer mode d'\xe9dition",modeCodeText:"Code",modeCodeTitle:"Activer surlignage code",modeFormText:"Formulaire",modeFormTitle:"Activer formulaire",modeTextText:"Texte",modeTextTitle:"Activer \xe9diteur texte",modeTreeText:"Arbre",modeTreeTitle:"Activer \xe9diteur arbre",modeViewText:"Lecture seule",modeViewTitle:"Activer vue arbre",modePreviewText:"Pr\xe9visualisation",modePreviewTitle:"Activer mode pr\xe9visualiser",examples:"Exemples",default:"D\xe9faut",containsInvalidProperties:"Contient des propri\xe9t\xe9s non valides",containsInvalidItems:"Contient des \xe9l\xe9ments invalides"},de:{array:"Auflistung",auto:"Auto",appendText:"anh\xe4ngen",appendTitle:"F\xfcgen Sie nach diesem Feld ein neues Feld mit dem Typ 'auto' ein (Strg+Umschalt+Ein)",appendSubmenuTitle:"W\xe4hlen Sie den Typ des neuen Feldes",appendTitleAuto:"Ein neues Feld vom Typ 'auto' hinzuf\xfcgen (Strg+Umschalt+Ein)",ascending:"Aufsteigend",ascendingTitle:"Sortieren Sie die Elemente dieses ${type} in aufsteigender Reihenfolge",actionsMenu:"Klicken Sie zum \xd6ffnen des Aktionsmen\xfcs (Strg+M)",cannotParseFieldError:"Feld kann nicht in JSON geparst werden",cannotParseValueError:"Wert kann nicht in JSON geparst werden",collapseAll:"Alle Felder zuklappen",compactTitle:"JSON-Daten verdichten, alle Leerzeichen entfernen (Strg+Umschalt+\\)",descending:"Absteigend",descendingTitle:"Sortieren Sie die Elemente dieses ${type} in absteigender Reihenfolge",drag:"Ziehen, um dieses Feld zu verschieben (Alt+Umschalt+Pfeile)",duplicateKey:"Doppelter Schl\xfcssel",duplicateText:"Duplikat",duplicateTitle:"Ausgew\xe4hlte Felder duplizieren (Strg+D)",duplicateField:"Dieses Feld duplizieren (Strg+D)",duplicateFieldError:"Doppelter Feldname",empty:"leer",expandAll:"Alle Felder anzeigen",expandTitle:"Klicken Sie, um dieses Feld zu erweitern/zu kollabieren (Strg+E). \nStrg+Klicken Sie, um dieses Feld einschlie\xdflich aller Elemente zu erweitern/zu kollabieren.",formatTitle:"JSON-Daten mit korrekter Einr\xfcckung und Zeilenvorsch\xfcben formatieren (Strg+\\)",insert:"einf\xfcgen",insertTitle:"F\xfcgen Sie vor diesem Feld ein neues Feld mit dem Typ 'auto' ein (Strg+Einfg)",insertSub:"W\xe4hlen Sie den Typ des neuen Feldes",object:"Objekt",ok:"Ok",redo:"Wiederholen (Strg+Umschalt+Z)",removeText:"entfernen",removeTitle:"Ausgew\xe4hlte Felder entfernen (Strg+Entf)",removeField:"Dieses Feld entfernen (Strg+Entf)",repairTitle:"JSON reparieren: Anf\xfchrungszeichen und Escape-Zeichen korrigieren, Kommentare und JSONP-Notation entfernen, JavaScript-Objekte in JSON umwandeln.",searchTitle:"Suchfelder und Werte",searchNextResultTitle:"N\xe4chstes Ergebnis (Enter)",searchPreviousResultTitle:"Vorheriges Ergebnis (Umschalt + Eingabe)",selectNode:"W\xe4hlen Sie einen Knoten aus...",showAll:"alle anzeigen",showMore:"mehr anzeigen",showMoreStatus:"Anzeige von ${visibleChilds} von ${totalChilds}-Elementen.",sort:"Sortieren",sortTitle:"Sortieren Sie die Elemente dieses ${type}",sortTitleShort:"Inhalt sortieren",sortFieldLabel:"Feld:",sortDirectionLabel:"Richtung:",sortFieldTitle:"W\xe4hlen Sie das verschachtelte Feld, nach dem das Array oder Objekt sortiert werden soll.",sortAscending:"Aufsteigend",sortAscendingTitle:"Sortieren Sie das ausgew\xe4hlte Feld in aufsteigender Reihenfolge",sortDescending:"Absteigend",sortDescendingTitle:"Sortieren Sie das ausgew\xe4hlte Feld in absteigender Reihenfolge",string:"Zeichenfolge",transform:"Verwandeln",transformTitle:"Die Elemente dieses ${type} filtern, sortieren oder transformieren",transformTitleShort:"Inhalte filtern, sortieren oder transformieren",extract:"Auszug",extractTitle:"Extrahieren Sie diesen ${type}",transformQueryTitle:"Eine JMESPath-Abfrage eingeben",transformWizardLabel:"Zauberer",transformWizardFilter:"Filter",transformWizardSortBy:"Sortieren nach",transformWizardSelectFields:"Felder ausw\xe4hlen",transformQueryLabel:"Anfrage",transformPreviewLabel:"Vorschau",type:"Geben Sie  ein.",typeTitle:"\xc4ndern Sie den Typ dieses Feldes",openUrl:"Strg+Klicken oder Strg+Eingabe, um die URL in einem neuen Fenster zu \xf6ffnen",undo:"Letzte Aktion r\xfcckg\xe4ngig machen (Strg+Z)",validationCannotMove:"Kann ein Feld nicht in ein Kind seiner selbst verschieben",autoType:'Feldtyp "auto". Der Feldtyp wird automatisch aus dem Wert bestimmt und kann ein String, eine Zahl, boolesch oder null sein.',objectType:'Feldtyp "Objekt". Ein Objekt enth\xe4lt eine ungeordnete Menge von Schl\xfcssel/Wert-Paaren.',arrayType:'Feldtyp "Array". Ein Array enth\xe4lt eine geordnete Sammlung von Werten.',stringType:'Feldtyp "Zeichenfolge". Der Feldtyp wird nicht aus dem Wert bestimmt, sondern immer als Zeichenfolge zur\xfcckgegeben.',modeEditorTitle:"Editor-Modus umschalten",modeCodeText:"Code",modeCodeTitle:"Umschalten auf Code-Highlighter",modeFormText:"Formular",modeFormTitle:"Zum Formular-Editor wechseln",modeTextText:"Text",modeTextTitle:"Zum Editor f\xfcr einfachen Text wechseln",modeTreeText:"Baum",modeTreeTitle:"Zum Baum-Editor wechseln",modeViewText:"Siehe",modeViewTitle:"Zur Baumansicht wechseln",modePreviewText:"Vorschau",modePreviewTitle:"In den Vorschau-Modus wechseln",examples:"Beispiele",default:"Standardm\xe4\xdfig",containsInvalidProperties:"Enth\xe4lt ung\xfcltige Eigenschaften",containsInvalidItems:"Enth\xe4lt ung\xfcltige Elemente"},ru:{array:"\u041c\u0430\u0441\u0441\u0438\u0432",auto:"\u0410\u0432\u0442\u043e",appendText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",appendTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0441 \u0442\u0438\u043f\u043e\u043c '\u0430\u0432\u0442\u043e' \u043f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f (Ctrl+Shift+Ins)",appendSubmenuTitle:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0438\u043f \u043f\u043e\u043b\u044f \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f",appendTitleAuto:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0441 \u0442\u0438\u043f\u043e\u043c '\u0430\u0432\u0442\u043e' (Ctrl+Shift+Ins)",ascending:"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",ascendingTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c ${type} \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",actionsMenu:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u043c\u0435\u043d\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 (Ctrl+M)",cannotParseFieldError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435 \u0432 JSON",cannotParseValueError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 JSON",collapseAll:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432\u0441\u0435",compactTitle:"\u041c\u0438\u043d\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f JSON (Ctrl+Shift+I)",descending:"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",descendingTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c ${type} \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",drag:"\u041f\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f (Alt+Shift+Arrows)",duplicateKey:"\u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0449\u0438\u0439\u0441\u044f \u043a\u043b\u044e\u0447",duplicateText:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c",duplicateTitle:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0439 (Ctrl+D)",duplicateField:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435 (Ctrl+D)",duplicateFieldError:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044f",empty:"\u043f\u0443\u0441\u0442\u043e\u0439",expandAll:"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432\u0441\u0435",expandTitle:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u044f/\u0441\u043a\u0440\u044b\u0442\u0438\u044f \u043f\u043e\u043b\u044f (Ctrl+E)\n\u0438\u043b\u0438 Ctrl+Click \u0434\u043b\u044f \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u044f/\u0441\u043a\u0440\u044b\u0442\u0438\u044f \u0432\u0441\u0435\u0445 \u043f\u043e\u0442\u043e\u043c\u043a\u043e\u0432.",formatTitle:"\u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 JSON (Ctrl+I)",insert:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c",insertTitle:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0441 \u0442\u0438\u043f\u043e\u043c '\u0430\u0432\u0442\u043e' \u043f\u0435\u0440\u0435\u0434 \u044d\u0442\u0438\u043c \u043f\u043e\u043b\u0435\u043c (Ctrl+Ins)",insertSub:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0438\u043f \u043f\u043e\u043b\u044f \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438",object:"\u041e\u0431\u044a\u0435\u043a\u0442",ok:"\u041e\u041a",redo:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c (Ctrl+Shift+Z)",removeText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",removeTitle:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044f (Ctrl+Del)",removeField:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u0435 (Ctrl+Del)",repairTitle:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 JSON: \u0438\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u0432\u044b\u0447\u043a\u0438 \u0438 escape-\u0441\u0438\u043c\u0432\u043e\u043b\u044b, \u0443\u0434\u0430\u043b\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u0438 \u043d\u043e\u0442\u0430\u0446\u0438\u044e JSONP, \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u0443\u0439\u0442\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b JavaScript \u0432 JSON.",searchTitle:"\u041f\u043e\u0438\u0441\u043a",searchNextResultTitle:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 (Enter)",searchPreviousResultTitle:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 (Shift + Enter)",selectNode:"\u0412\u044b\u0431\u043e\u0440 \u0443\u0437\u043b\u0430...",showAll:"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435",showMore:"\u0431\u043e\u043b\u044c\u0448\u0435",showMoreStatus:"${visibleChilds} \u0438\u0437 ${totalChilds}",sort:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430",sortTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e\u0442\u043e\u043c\u043a\u043e\u0432 \u0442\u0438\u043f\u0430 ${type}",sortTitleShort:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e",sortFieldLabel:"\u041f\u043e\u043b\u0435:",sortDirectionLabel:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435:",sortFieldTitle:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0434\u043b\u044f \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438 \u043c\u0430\u0441\u0441\u0438\u0432\u0430 \u0438\u043b\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u0430",sortAscending:"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",sortAscendingTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u044f \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",sortDescending:"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",sortDescendingTitle:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u044f \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",string:"\u0421\u0442\u0440\u043e\u043a\u0430",transform:"\u041c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f",transformTitle:"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f, \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0438\u043b\u0438 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0438\u043f\u0430 ${type}",transformTitleShort:"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f, \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0438\u043b\u0438 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445",extract:"\u0418\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0435",extractTitle:"\u0418\u0437\u0432\u043b\u0435\u0447\u044c \u0442\u0438\u043f ${type}",transformQueryTitle:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 JMESpath \u0437\u0430\u043f\u0440\u043e\u0441",transformWizardLabel:"\u041c\u0430\u0441\u0442\u0435\u0440",transformWizardFilter:"\u0424\u0438\u043b\u044c\u0442\u0440",transformWizardSortBy:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430",transformWizardSelectFields:"\u041f\u043e\u043b\u044f",transformQueryLabel:"\u0417\u0430\u043f\u0440\u043e\u0441",transformPreviewLabel:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",type:"\u0422\u0438\u043f",typeTitle:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0438\u043f \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f",openUrl:"Ctrl+Click \u0438\u043b\u0438 Ctrl+Enter \u0434\u043b\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f url \u0432 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435",undo:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c (Ctrl+Z)",validationCannotMove:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u043e \u0432 \u043f\u043e\u0442\u043e\u043c\u043a\u0430",autoType:"\u0422\u0438\u043f \u043f\u043e\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e \u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439, \u0447\u0438\u0441\u043b\u043e\u043c, \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 null.",objectType:"\u041e\u0431\u044a\u0435\u043a\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u0443\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u043f\u0430\u0440 \u043a\u043b\u044e\u0447/\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435.",arrayType:"\u041c\u0430\u0441\u0441\u0438\u0432 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0443\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439.",stringType:"\u0422\u0438\u043f \u043f\u043e\u043b\u044f \u043d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0438\u0437 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u043d\u043e \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u0441\u0442\u0440\u043e\u043a\u0430.",modeEditorTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0440\u0435\u0436\u0438\u043c\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430",modeCodeText:"\u041a\u043e\u0434",modeCodeTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430 \u043a\u043e\u0434\u0430",modeFormText:"\u0424\u043e\u0440\u043c\u0430",modeFormTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u0444\u043e\u0440\u043c\u044b",modeTextText:"\u0422\u0435\u043a\u0441\u0442",modeTextTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430 \u0442\u0435\u043a\u0441\u0442\u0430",modeTreeText:"\u0414\u0435\u0440\u0435\u0432\u043e",modeTreeTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430 \u0434\u0435\u0440\u0435\u0432\u0430",modeViewText:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u0435\u0440\u0435\u0432\u0430",modeViewTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0434\u0435\u0440\u0435\u0432\u0430",modePreviewText:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",modePreviewTitle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430",examples:"\u041f\u0440\u0438\u043c\u0435\u0440\u044b",default:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e",containsInvalidProperties:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",containsInvalidItems:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"},ko:{array:"\ubc30\uc5f4",auto:"\uc790\ub3d9",appendText:"\ucd94\uac00",appendTitle:'\uc120\ud0dd\ud55c \uc694\uc18c \uc544\ub798\uc5d0 "\uc790\ub3d9" \uc694\uc18c\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4. (Ctrl + Shift + Ins)',appendSubmenuTitle:"\ucd94\uac00\ud560 \uc694\uc18c\uc758 \uc720\ud615\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",appendTitleAuto:'"\uc790\ub3d9" \uc694\uc18c\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4. (Ctrl + Shift + Ins)',ascending:"\uc624\ub984\ucc28\uc21c",ascendingTitle:"\uc120\ud0dd\ud55c ${type}\uc758 \ud558\uc704 \uc694\uc18c\ub97c \uc624\ub984\ucc28\uc21c \uc815\ub82c\ud569\ub2c8\ub2e4.",actionsMenu:"\uba54\ub274 \uc5f4\uae30 (Ctrl + M)",cannotParseFieldError:"JSON\uc758 \uc694\uc18c\ub97c \ud574\uc11d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",cannotParseValueError:"JSON\uc758 \uac12\uc744 \ud574\uc11d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",collapseAll:"\ubaa8\ub450 \uc811\uae30",compactTitle:"\ubaa8\ub4e0 \uacf5\ubc31\uc744 \uc81c\uac70\ud558\uc5ec JSON \ub370\uc774\ud130\ub97c \uc791\uac8c \ub9cc\ub4ed\ub2c8\ub2e4. (Ctrl + Shift + I)",descending:"\ub0b4\ub9bc\ucc28\uc21c",descendingTitle:"\uc120\ud0dd\ud55c ${type}\uc758 \ud558\uc704 \uc694\uc18c\ub97c \ub0b4\ub9bc\ucc28\uc21c\uc73c\ub85c \uc815\ub82c",drag:"\ub4dc\ub798\uadf8\ud558\uc5ec \uc694\uc18c\ub97c \uc774\ub3d9\ud569\ub2c8\ub2e4. (Alt + Shift + Arrows)",duplicateKey:"\ubcf5\uc81c\ud0a4",duplicateText:"\ubcf5\uc81c",duplicateTitle:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \ubcf5\uc81c\ud569\ub2c8\ub2e4. (Ctrl + D)",duplicateField:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \ubcf5\uc81c\ud569\ub2c8\ub2e4. (Ctrl + D)",duplicateFieldError:"\uc694\uc18c \uc774\ub984\uc774 \uc911\ubcf5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",empty:"\ube44\uc5b4\uc788\uc74c",expandAll:"\ubaa8\ub450 \uc5f4\uae30",expandTitle:"\ud074\ub9ad\ud558\uc5ec \uc694\uc18c\ub97c \uc5f4\uac70\ub098 \ub2eb\uc2b5\ub2c8\ub2e4. (Ctrl + E) \nCtrl + Click\uc73c\ub85c \ubaa8\ub4e0 \ud558\uc704 \uc694\uc18c\ub97c \uc5f4\uac70\ub098 \ub2eb\uc2b5\ub2c8\ub2e4.",formatTitle:"\uc801\uc808\ud55c \ub4e4\uc5ec\uc4f0\uae30 \ubc0f \uc904\ubc14\uafc8\uc73c\ub85c JSON \ub370\uc774\ud130\ub97c \uc815\ud615\ud654\ud569\ub2c8\ub2e4. (Ctrl + I)",insert:"\uc0bd\uc785",insertTitle:"\uc120\ud0dd\ud55c \uc694\uc18c \uc704\uc5d0 \uc0c8\uc694\uc18c\ub97c \uc0bd\uc785\ud569\ub2c8\ub2e4. (Ctrl + Ins)",insertSub:"\uc0bd\uc785\ud560 \uc694\uc18c\uc758 \uc720\ud615\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",object:"\uac1d\uccb4",ok:"\ud655\uc778",redo:"\ub2e4\uc2dc \uc2e4\ud589 (Ctrl + Shift + Z)",removeText:"\uc0ad\uc81c",removeTitle:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \uc0ad\uc81c\ud569\ub2c8\ub2e4. (Ctrl + Del)",removeField:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \uc0ad\uc81c\ud569\ub2c8\ub2e4. (Ctrl + Del)",repairTitle:"JSON \uad50\uc815: JSON \ub0b4\uc758 \uc8fc\uc11d\uacfc JSONP \ud45c\uae30\ubc95\uc744 \uc9c0\uc6b0\uace0 \ub530\uc634\ud45c\uc640 \uc774\uc2a4\ucf00\uc774\ud504 \ubb38\uc790\ub97c \uc218\uc815\ud569\ub2c8\ub2e4.",searchTitle:"\uc694\uc18c \ub610\ub294 \uac12 \ucc3e\uae30",searchNextResultTitle:"\ub2e4\uc74c\uc73c\ub85c \ucc3e\uae30 (Enter)",searchPreviousResultTitle:"\uc774\uc804\uc73c\ub85c \ucc3e\uae30 (Shift + Enter)",selectNode:"\uc694\uc18c\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694...",showAll:"\ubaa8\ub450\ubcf4\uae30",showMore:"\ub354\ubcf4\uae30",showMoreStatus:"${totalChilds} \uac1c\uc758 \ud56d\ubaa9 \uc911 ${visibleChilds} \uac1c\ub97c \ud45c\uc2dc\ud569\ub2c8\ub2e4.",sort:"\uc815\ub82c",sortTitle:"\uc120\ud0dd\ud55c ${type}\uc758 \ud558\uc704 \uc694\uc18c\ub97c \uc815\ub82c\ud569\ub2c8\ub2e4.",sortTitleShort:"\uc815\ub82c",sortFieldLabel:"\uc694\uc18c:",sortDirectionLabel:"\uc21c\uc11c:",sortFieldTitle:"\ubc30\uc5f4\uc774\ub098 \uac1d\uccb4\ub97c \uc815\ub82c\ud558\ub294 \uc694\uc18c\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",sortAscending:"\uc624\ub984\ucc28\uc21c",sortAscendingTitle:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \uc624\ub984\ucc28\uc21c\uc73c\ub85c \uc815\ub82c\ud569\ub2c8\ub2e4.",sortDescending:"\ub0b4\ub9bc\ucc28\uc21c",sortDescendingTitle:"\uc120\ud0dd\ud55c \uc694\uc18c\ub97c \ub0b4\ub9bc\ucc28\uc21c\uc73c\ub85c \uc815\ub82c\ud569\ub2c8\ub2e4.",string:"\ubb38\uc790",transform:"\ubcc0\ud658",transformTitle:"\uc120\ud0dd\ud55c ${type}\uc758 \ud558\uc704 \uc694\uc18c\ub97c \ud544\ud130\ud558\uac70\ub098 \uc815\ub82c \ub610\ub294 \ubcc0\ud658\ud569\ub2c8\ub2e4.",transformTitleShort:"\ub0b4\uc6a9\uc744 \ud544\ud130\ud558\uac70\ub098 \uc815\ub82c \ub610\ub294 \ubcc0\ud658\ud569\ub2c8\ub2e4.",extract:"\ucd94\ucd9c",extractTitle:"\uc120\ud0dd\ud55c ${type}\uc758 \uac12\uc744 \ucd5c\uc0c1\uc704\uc5d0 \uc704\uce58\uc2dc\ud0b5\ub2c8\ub2e4.",transformQueryTitle:"JMESPath \ucffc\ub9ac\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",transformWizardLabel:"\ub9c8\ubc95\uc0ac",transformWizardFilter:"\ud544\ud130",transformWizardSortBy:"\uc815\ub82c",transformWizardSelectFields:"\uc694\uc18c\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",transformQueryLabel:"\ucffc\ub9ac",transformPreviewLabel:"\ubbf8\ub9ac\ubcf4\uae30",type:"\uc720\ud615",typeTitle:"\uc120\ud0dd\ud55c \uc694\uc18c\uc758 \uc720\ud615\uc744 \ubcc0\uacbd\ud569\ub2c8\ub2e4.",openUrl:"Ctrl + Click \ub610\ub294 Ctrl + Enter\ub85c \uc0c8 \ucc3d\uc5d0\uc11c URL \uc5f4\uae30",undo:"\uc2e4\ud589 \ucde8\uc18c (Ctrl + Z)",validationCannotMove:"\ud558\uc704 \uc694\uc18c\ub85c \uc774\ub3d9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",autoType:"\uc790\ub3d9: \uc694\uc18c\uc758 \ud615\uc2dd\uc774 \uac12\uc758 \uc720\ud615\uc73c\ub85c \uacb0\uc815\ub429\ub2c8\ub2e4. \ubb38\uc790, \uc22b\uc790, \ubd80\uc6b8, \ub610\ub294 null\ub9cc \ud5c8\uc6a9\ub429\ub2c8\ub2e4.",objectType:"\uac1d\uccb4: \uc21c\uc11c\ub300\ub85c \ub098\uc5f4\ub418\uc9c0 \uc54a\uc740 \uc774\ub984/\uac12 \uc30d\uc73c\ub85c \uc774\ub8e8\uc5b4\uc9c4 \uc9d1\ud569\uc785\ub2c8\ub2e4.",arrayType:"\ubc30\uc5f4: \uc21c\uc11c\ub300\ub85c \ub098\uc5f4\ub41c \uac12\uc758 \uc9d1\ud569\uc785\ub2c8\ub2e4.",stringType:"\ubb38\uc790: \uc694\uc18c\uc758 \uc720\ud615\uc774 \uac12\uc5d0\uc11c \uacb0\uc815\ub418\uc9c0 \uc54a\uc9c0\ub9cc \ud56d\uc0c1 \ubb38\uc790\ub85c \ubc18\ud658\ub429\ub2c8\ub2e4.",modeEditorTitle:"\ud3b8\uc9d1\uae30 \uc720\ud615 \ubcc0\uacbd",modeCodeText:"\ucf54\ub4dc",modeCodeTitle:"\ud615\uc2dd \uad50\uc815\uc744 \ub3c4\uc640\uc8fc\ub294 \uae30\ub2a5\uc774 \ud3ec\ud568\ub41c \ubb38\uc790 \ud3b8\uc9d1\uae30",modeFormText:"\uc785\ub825 \uc591\uc2dd",modeFormTitle:"\uc815\ud574\uc9c4 \uc694\uc18c\uc5d0 \uac12\uc744 \uc785\ub825\ud558\ub294 \ud3b8\uc9d1\uae30",modeTextText:"\ubb38\uc790",modeTextTitle:"\ub2e8\uc21c \ubb38\uc790 \ud3b8\uc9d1\uae30",modeTreeText:"\ud2b8\ub9ac",modeTreeTitle:"\ud2b8\ub9ac \uad6c\uc870\ub85c \ud45c\uc2dc\ub418\ub294 \ud3b8\uc9d1\uae30",modeViewText:"\ubcf4\uae30",modeViewTitle:"\uc77d\uae30\uc804\uc6a9 \ud2b8\ub9ac \uad6c\uc870\ub85c JSON\uc744 \ud45c\uc2dc",modePreviewText:"\ubbf8\ub9ac\ubcf4\uae30",modePreviewTitle:"\uc77d\uae30\uc804\uc6a9 \ubb38\uc790\ub85c JSON\uc744 \ud45c\uc2dc",examples:"\uc608\uc81c",default:"\uae30\ubcf8\uac12",containsInvalidProperties:"\uc798\ubabb\ub41c \uc18d\uc131\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.",containsInvalidItems:"\uc798\ubabb\ub41c \ud56d\ubaa9\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4"}},z=Object.keys(Ae),oe="en",be=typeof navigator<"u"?navigator.language||navigator.userLanguage:void 0,fe=z.find(function(O){return O===be})||oe;function ye(O){var T;O&&((T=z.find(function(j){return j===O}))?fe=T:console.error("Language not found"))}function ce(O){if(O)for(var T in O)!function(j){z.find(function(N){return N===j})||z.push(j),Ae[j]=Object.assign({},Ae[oe],Ae[j],O[j])}(T)}function J(O,T,j){var N=Ae[j=j||fe][O]||Ae[oe][O]||O;if(T)for(var F in T)N=N.replace("${"+F+"}",T[F]);return N}},6056:function(je,Ae,ue){"use strict";ue.d(Ae,{J:function(){return fe},r:function(){return be}}),Ae=ue(5156);var z=ue.n(Ae),oe=ue(9791);function be(ye,j){var J,O=j.sort,T=j.filter,N=(j=j.projection,"");return T?(J="@"!==T.field?["0"].concat((0,oe.parsePath)("."+T.field)):["0"],J="string"==typeof(0,oe.get)(ye,J)?T.value:(0,oe.parseString)(T.value),N+="[? "+T.field+" "+T.relation+" `"+JSON.stringify(J)+"`]"):N+=Array.isArray(ye)?"[*]":"@",O&&(N+="desc"===O.direction?" | reverse(sort_by(@, &"+O.field+"))":" | sort_by(@, &"+O.field+")"),j&&("]"!==N[N.length-1]&&(N+=" | [*]"),1===j.fields.length?N+="."+j.fields[0]:1<j.fields.length&&(N+=".{"+j.fields.map(function(F){var v=F.split(".");return v[v.length-1]+": "+F}).join(", ")+"}")),N}function fe(ye,ce){return z().search(ye,ce)}},4987:function(){function je(M){void 0===M||"remove"in M||Object.defineProperty(M,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){void 0!==this.parentNode&&this.parentNode.removeChild(this)}})}typeof Element<"u"&&(void 0!==window.Element&&je(window.Element.prototype),void 0!==window.CharacterData&&je(window.CharacterData.prototype),void 0!==window.DocumentType)&&je(window.DocumentType.prototype),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(M){for(var ue=0;ue<this.length;ue++)if(M.call(this,this[ue],ue,this))return ue;return-1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(M){return this[M=this.findIndex(M)]},configurable:!0,writable:!0}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})},341:function(je,b,v){"use strict";v.r(b),v.d(b,{previewModeMixins:function(){return p}});var Ae=v(1262),z=v(4188),oe=v(6436),be=v(2474);function fe(u){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(u)}function ye(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,(k=function(m,y){if("object"!==fe(m)||null===m)return m;var S=m[Symbol.toPrimitive];if(void 0===S)return String(m);if("object"!==fe(S=S.call(m,"string")))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}(k=f.key),"symbol"===fe(k)?k:String(k)),f)}var k}var ce=function(){function u(k,m,y){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.onChange=k,this.calculateItemSize=m||function(){return 1},this.limit=y,this.items=[],this.index=-1}var h,d;return h=u,(d=[{key:"add",value:function(k){for(;this._calculateHistorySize()>this.limit&&1<this.items.length;)this.items.shift(),this.index--;this.items=this.items.slice(0,this.index+1),this.items.push(k),this.index++,this.onChange()}},{key:"_calculateHistorySize",value:function(){var k=this.calculateItemSize,m=0;return this.items.forEach(function(y){m+=k(y)}),m}},{key:"undo",value:function(){if(this.canUndo())return this.index--,this.onChange(),this.items[this.index]}},{key:"redo",value:function(){if(this.canRedo())return this.index++,this.onChange(),this.items[this.index]}},{key:"canUndo",value:function(){return 0<this.index}},{key:"canRedo",value:function(){return this.index<this.items.length-1}},{key:"clear",value:function(){this.items=[],this.index=-1,this.onChange()}}])&&ye(h.prototype,d),Object.defineProperty(h,"prototype",{writable:!1}),u}(),J=v(7907),O=v(6056),T=v(6617),j=v(6210),N=v(2558),F=(b=v(8458),v(9791)),p=(v=b.textModeMixins[0].mixin,b={create:function(f){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=(void 0===h.statusBar&&(h.statusBar=!0),h.mainMenuBar=!1!==h.mainMenuBar,h.enableSort=!1!==h.enableSort,h.enableTransform=!1!==h.enableTransform,h.createQuery=h.createQuery||O.r,h.executeQuery=h.executeQuery||O.J,this.indentation="number"==typeof(this.options=h).indentation?Number(h.indentation):2,(0,J.cC)(this.options.languages),(0,J.m0)(this.options.language),this.mode="preview",this);this.container=f,this.dom={},this.json=void 0,this.text="",this._debouncedValidate=(0,F.debounce)(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=f.clientWidth,this.height=f.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-preview",this.frame.onclick=function(k){k.preventDefault()},this.frameFocusTracker=new be.R(f={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null}),this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.dom.busy=document.createElement("div"),this.dom.busy.className="jsoneditor-busy",this.dom.busyContent=document.createElement("span"),this.dom.busyContent.textContent="busy...",this.dom.busy.appendChild(this.dom.busyContent),this.content.appendChild(this.dom.busy),this.dom.previewContent=document.createElement("pre"),this.dom.previewContent.className="jsoneditor-preview",this.dom.previewText=document.createTextNode(""),this.dom.previewContent.appendChild(this.dom.previewText),this.content.appendChild(this.dom.previewContent),this.options.mainMenuBar&&((0,F.addClassName)(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),(f=document.createElement("button")).type="button",f.className="jsoneditor-format",f.title=(0,J.Iu)("formatTitle"),this.menu.appendChild(f),f.onclick=function(){d.executeWithBusyMessage(function(){try{d.format()}catch(k){d._onError(k)}},"formatting...")},(f=document.createElement("button")).type="button",f.className="jsoneditor-compact",f.title=(0,J.Iu)("compactTitle"),this.menu.appendChild(f),f.onclick=function(){d.executeWithBusyMessage(function(){try{d.compact()}catch(k){d._onError(k)}},"compacting...")},this.options.enableSort&&((f=document.createElement("button")).type="button",f.className="jsoneditor-sort",f.title=(0,J.Iu)("sortTitleShort"),f.onclick=function(){d._showSortModal()},this.menu.appendChild(f)),this.options.enableTransform&&((f=document.createElement("button")).type="button",f.title=(0,J.Iu)("transformTitleShort"),f.className="jsoneditor-transform",f.onclick=function(){d._showTransformModal()},this.dom.transform=f,this.menu.appendChild(f)),(f=document.createElement("button")).type="button",f.className="jsoneditor-repair",f.title=(0,J.Iu)("repairTitle"),this.menu.appendChild(f),!(f.onclick=function(){void 0===d.json&&d.executeWithBusyMessage(function(){try{d.repair()}catch(k){d._onError(k)}},"repairing...")})!==this.options.history&&(this.history=new ce(function(){d.dom.undo.disabled=!d.history.canUndo(),d.dom.redo.disabled=!d.history.canRedo()},function(k){return 2*k.text.length},z.oW),(f=document.createElement("button")).type="button",f.className="jsoneditor-undo jsoneditor-separator",f.title=(0,J.Iu)("undo"),f.onclick=function(){var k=d.history.undo();k&&d._applyHistory(k)},this.menu.appendChild(f),this.dom.undo=f,(f=document.createElement("button")).type="button",f.className="jsoneditor-redo",f.title=(0,J.Iu)("redo"),f.onclick=function(){var k=d.history.redo();k&&d._applyHistory(k)},this.menu.appendChild(f),this.dom.redo=f,this.history.onChange()),this.options)&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new T.x(this.menu,this.options.modes,this.options.mode,function(k){try{d.setMode(k),d.modeSwitcher.focus()}catch(m){d._onError(m)}})),this.errorTable=new oe.Q({errorTableVisible:!0,onToggleVisibility:function(){d.validate()},onFocusLine:null,onChangeHeight:function(k){d.content.style.marginBottom=-(k=k+(d.dom.statusBar?d.dom.statusBar.clientHeight:0)+1)+"px",d.content.style.paddingBottom=k+"px"}}),this.frame.appendChild(this.content),this.frame.appendChild(this.errorTable.getErrorTable()),this.container.appendChild(this.frame),h.statusBar&&((0,F.addClassName)(this.content,"has-status-bar"),f=document.createElement("div"),(this.dom.statusBar=f).className="jsoneditor-statusbar",this.frame.appendChild(f),this.dom.fileSizeInfo=document.createElement("span"),this.dom.fileSizeInfo.className="jsoneditor-size-info",this.dom.fileSizeInfo.innerText="",f.appendChild(this.dom.fileSizeInfo),this.dom.arrayInfo=document.createElement("span"),this.dom.arrayInfo.className="jsoneditor-size-info",this.dom.arrayInfo.innerText="",f.appendChild(this.dom.arrayInfo),f.appendChild(this.errorTable.getErrorCounter()),f.appendChild(this.errorTable.getWarningIcon()),f.appendChild(this.errorTable.getErrorIcon())),this._renderPreview(),this.setSchema(this.options.schema,this.options.schemaRefs)},_renderPreview:function(){var u=this.getText();this.dom.previewText.nodeValue=(0,F.limitCharacters)(u,z.WF),this.dom.fileSizeInfo&&(this.dom.fileSizeInfo.innerText="Size: "+(0,F.formatSize)(u.length)),this.dom.arrayInfo&&(this.dom.arrayInfo.innerText=Array.isArray(this.json)?"Array: "+this.json.length+" items":"")},_onChange:function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(u){console.error("Error in onChange callback: ",u)}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(u){console.error("Error in onChangeJSON callback: ",u)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(u){console.error("Error in onChangeText callback: ",u)}}},b._showSortModal=function(){var u=this;this.executeWithBusyMessage(function(){var h=u.options.modalAnchor||z.qD,d=u.get();u._renderPreview(),(0,j.showSortModal)(h,d,function(f){u.executeWithBusyMessage(function(){var k,m,y;k=d,m=f,Array.isArray(k)&&(y=(0,F.sort)(k,m.path,m.direction),u.sortedBy=m,u._setAndFireOnChange(y)),(0,F.isObject)(k)&&(y=(0,F.sortObjectKeys)(k,m.direction),u.sortedBy=m,u._setAndFireOnChange(y))},"sorting...")},u.sortedBy)},"parsing...")},b._showTransformModal=function(){var u=this;this.executeWithBusyMessage(function(){var h=(k=u.options).createQuery,d=k.executeQuery,f=k.modalAnchor,k=k.queryDescription,m=u.get();u._renderPreview(),(0,N.showTransformModal)({container:f||z.qD,json:m,queryDescription:k,createQuery:h,executeQuery:d,onTransform:function(y){u.executeWithBusyMessage(function(){var S=d(m,y);u._setAndFireOnChange(S)},"transforming...")}})},"parsing...")},b.destroy=function(){this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this._debouncedValidate=null,this.history&&(this.history.clear(),this.history=null),this.frameFocusTracker.destroy()},b.compact=function(){var u=this.get(),h=JSON.stringify(u);this._setTextAndFireOnChange(h,u)},b.format=function(){var u=this.get(),h=JSON.stringify(u,null,this.indentation);this._setTextAndFireOnChange(h,u)},b.repair=function(){var u=this.getText();try{var h=(0,Ae.K)(u);this._setTextAndFireOnChange(h)}catch{}},b.focus=function(){this.dom.transform.focus()},b.set=function(u){this.history&&this.history.clear(),this._set(u)},b.update=function(u){this._set(u)},b._set=function(u){this.text=void 0,this.json=u,this._renderPreview(),this._pushHistory(),this._debouncedValidate()},b._setAndFireOnChange=function(u){this._set(u),this._onChange()},b.get=function(){var u;return void 0===this.json&&(u=this.getText(),this.json=(0,F.parse)(u)),this.json},b.getText=function(){return void 0===this.text&&(this.text=JSON.stringify(this.json,null,this.indentation),!0===this.options.escapeUnicode)&&(this.text=(0,F.escapeUnicodeChars)(this.text)),this.text},b.setText=function(u){this.history&&this.history.clear(),this._setText(u)},b.updateText=function(u){this.getText()!==u&&this._setText(u)},b._setText=function(u,h){var d;this.text=!0===this.options.escapeUnicode?(0,F.escapeUnicodeChars)(u):u,this.json=h,this._renderPreview(),void 0===this.json?(d=this).executeWithBusyMessage(function(){try{d.json=d.get(),d._renderPreview(),d._pushHistory()}catch{}},"parsing..."):this._pushHistory(),this._debouncedValidate()},b._setTextAndFireOnChange=function(u,h){this._setText(u,h),this._onChange()},b._applyHistory=function(u){this.json=u.json,this.text=u.text,this._renderPreview(),this._debouncedValidate()},b._pushHistory=function(){this.history&&this.history.add({text:this.text,json:this.json})},b.executeWithBusyMessage=function(u,h){var d;this.getText().length>z.EX?((0,F.addClassName)((d=this).frame,"busy"),d.dom.busyContent.innerText=h,setTimeout(function(){u(),(0,F.removeClassName)(d.frame,"busy"),d.dom.busyContent.innerText=""},100)):u()},b.validate=v.validate,b._renderErrors=v._renderErrors,[{mode:"preview",mixin:b,data:"json"}])},6210:function(je,Ae,ue){"use strict";ue.r(Ae),ue.d(Ae,{showSortModal:function(){return fe}}),Ae=ue(483);var z=ue.n(Ae),oe=ue(7907),be=ue(9791);function fe(ye,F,J,O){var T=Array.isArray(F)?(0,be.getChildPaths)(F):[""],j=O&&O.path&&(0,be.contains)(T,O.path)?O.path:T[0],N=O&&O.direction||"asc";F='<div class="pico-modal-contents"><div class="pico-modal-header">'+(0,oe.Iu)("sort")+"</div><form><table><tbody><tr>  <td>"+(0,oe.Iu)("sortFieldLabel")+' </td>  <td class="jsoneditor-modal-input">  <div class="jsoneditor-select-wrapper">    <select id="field" title="'+(0,oe.Iu)("sortFieldTitle")+'">    </select>  </div>  </td></tr><tr>  <td>'+(0,oe.Iu)("sortDirectionLabel")+' </td>  <td class="jsoneditor-modal-input">  <div id="direction" class="jsoneditor-button-group"><input type="button" value="'+(0,oe.Iu)("sortAscending")+'" title="'+(0,oe.Iu)("sortAscendingTitle")+'" data-value="asc" class="jsoneditor-button-first jsoneditor-button-asc"/><input type="button" value="'+(0,oe.Iu)("sortDescending")+'" title="'+(0,oe.Iu)("sortDescendingTitle")+'" data-value="desc" class="jsoneditor-button-last jsoneditor-button-desc"/>  </div>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+(0,oe.Iu)("ok")+'" /></td></tr></tbody></table></form></div>',z()({parent:ye,content:F,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-sort"}).afterCreate(function(v){var b=v.modalElem().querySelector("form"),p=v.modalElem().querySelector("#ok"),u=v.modalElem().querySelector("#field"),h=v.modalElem().querySelector("#direction");function d(f){h.value=f,h.className="jsoneditor-button-group jsoneditor-button-group-value-"+h.value}T.forEach(function(f){var k,m=document.createElement("option");m.text=""===(k=f)?"@":"."===k[0]?k.slice(1):k,m.value=f,u.appendChild(m)}),u.value=j||T[0],d(N||"asc"),h.onclick=function(f){d(f.target.getAttribute("data-value"))},p.onclick=function(f){f.preventDefault(),f.stopPropagation(),v.close(),J({path:u.value,direction:h.value})},b&&(b.onsubmit=p.onclick)}).afterClose(function(v){v.destroy()}).show()}},2558:function(je,z,ue){"use strict";ue.r(z),ue.d(z,{showTransformModal:function(){return j}}),z=ue(483);var Ae=ue.n(z),oe=(z=ue(3879),ue.n(z)),be=ue(7907);function fe(N){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(N)}function ye(N,F,v,b){if("boolean"==typeof N||N instanceof Boolean||null===N||"number"==typeof N||N instanceof Number||"string"==typeof N||N instanceof String||N instanceof Date)return JSON.stringify(N);if(Array.isArray(N)){for(var p=N,u=F,h=v,d=b,f=u?h+u:void 0,k=u?"[\n":"[",m=0;m<p.length;m++){var y=p[m];if(u&&(k+=f),k+=void 0!==y&&"function"!=typeof y?ye(y,u,f,d):"null",m<p.length-1&&(k+=u?",\n":","),k.length>d)return k+"..."}return k+(u?"\n"+h+"]":"]")}if(N&&"object"===fe(N)){var S,V=N,E=F,w=(h=v,b),B=E?h+E:void 0,K=!0,U=E?"{\n":"{";if("function"==typeof V.toJSON)return ye(V.toJSON(),E,h,w);for(S in V)if(Object.prototype.hasOwnProperty.call(V,S)&&(K?K=!1:U+=E?",\n":",",(U=(U+=E?B+'"'+S+'": ':'"'+S+'":')+ye(V[S],E,B,w)).length>w))return U+"...";return U+(E?"\n"+h+"}":"}")}}function ce(N,F){for(var v="";0<F--;)v+=N;return v}var J=ue(9791),O=ue(4188),T='Enter a <a href="http://jmespath.org" target="_blank">JMESPath</a> query to filter, sort, or transform the JSON data.<br/>To learn JMESPath, go to <a href="http://jmespath.org/tutorial.html" target="_blank">the interactive tutorial</a>.';function j(f){var F=f.container,v=f.json,b=void 0===(b=f.queryDescription)?T:b,p=f.createQuery,u=f.executeQuery,h=f.onTransform,d=v;f='<label class="pico-modal-contents"><div class="pico-modal-header">'+(0,be.Iu)("transform")+"</div><p>"+b+'</p><div class="jsoneditor-jmespath-label">'+(0,be.Iu)("transformWizardLabel")+' </div><div id="wizard" class="jsoneditor-jmespath-block jsoneditor-jmespath-wizard">  <table class="jsoneditor-jmespath-wizard-table">    <tbody>      <tr>        <th>'+(0,be.Iu)("transformWizardFilter")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-filter-field" >            <select id="filterField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-relation" >            <select id="filterRelation">              <option value="==">==</option>              <option value="!=">!=</option>              <option value="<">&lt;</option>              <option value="<=">&lt;=</option>              <option value=">">&gt;</option>              <option value=">=">&gt;=</option>            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-value" >            <input type="text" class="value" placeholder="value..." id="filterValue" />          </div>        </td>      </tr>      <tr>        <th>'+(0,be.Iu)("transformWizardSortBy")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-sort-field">            <select id="sortField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-sort-order" >            <select id="sortOrder">              <option value="asc">Ascending</option>              <option value="desc">Descending</option>            </select>          </div>        </td>      </tr>      <tr id="selectFieldsPart">        <th>'+(0,be.Iu)("transformWizardSelectFields")+'</th>        <td class="jsoneditor-jmespath-filter">          <select class="jsoneditor-jmespath-select-fields" id="selectFields" multiple></select>        </td>      </tr>    </tbody>  </table></div><div class="jsoneditor-jmespath-label">'+(0,be.Iu)("transformQueryLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="query"             rows="4"             autocomplete="off"             autocorrect="off"             autocapitalize="off"             spellcheck="false"            title="'+(0,be.Iu)("transformQueryTitle")+'">[*]</textarea></div><div class="jsoneditor-jmespath-label">'+(0,be.Iu)("transformPreviewLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="preview"       class="jsoneditor-transform-preview"      readonly> </textarea></div><div class="jsoneditor-jmespath-block jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+(0,be.Iu)("ok")+'" autofocus /></div></div>',Ae()({parent:F,content:f,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-transform",focus:!1}).afterCreate(function(k){var m=k.modalElem(),re=m.querySelector("#wizard"),y=m.querySelector("#ok"),S=m.querySelector("#filterField"),V=m.querySelector("#filterRelation"),E=m.querySelector("#filterValue"),w=m.querySelector("#sortField"),B=m.querySelector("#sortOrder"),K=m.querySelector("#selectFields"),U=m.querySelector("#query"),W=m.querySelector("#preview");Array.isArray(d)||(re.style.fontStyle="italic",re.textContent="(wizard not available for objects, only for arrays)"),(0,J.getChildPaths)(v).forEach(function(Ge){var Ie;Ge=ae(Ge),((Ie=document.createElement("option")).text=Ge,Ie.value=Ge,S.appendChild(Ie),Ie=document.createElement("option")).text=Ge,Ie.value=Ge,w.appendChild(Ie)}),0<(re=(0,J.getChildPaths)(v,!0).filter(function(we){return""!==we})).length?re.forEach(function(Ge){Ge=ae(Ge);var Ie=document.createElement("option");Ie.text=Ge,Ie.value=Ge,K.appendChild(Ie)}):(re=m.querySelector("#selectFieldsPart"))&&(re.style.display="none"),re=new(oe())(S,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."});var H=new(oe())(V,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"compare..."}),L=new(oe())(w,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),R=new(oe())(B,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"order..."}),Q=new(oe())(K,{multiple:!0,clearable:!0,defaultSelected:!1,placeholder:"select fields..."});function ae(we){return""===we?"@":"."===we[0]?we.slice(1):we}re.on("selectr.change",Se),H.on("selectr.change",Se),E.oninput=Se,L.on("selectr.change",Se),R.on("selectr.change",Se),Q.on("selectr.change",Se),m.querySelector(".pico-modal-contents").onclick=function(we){"A"!==we.target.nodeName&&we.preventDefault()};var ve=(0,J.debounce)(function(){try{var we=u(d,U.value);W.className="jsoneditor-transform-preview",W.value=(Ge=we,Ze=O.WF,"number"==typeof(Ie=2)?10<Ie?X=ce(" ",10):1<=Ie&&(X=ce(" ",Ie)):"string"==typeof Ie&&""!==Ie&&(X=Ie),(Ie=ye(Ge,X,"",Ze)).length>Ze?(Ge=Ie,("number"==typeof(X=Ze)?Ge.slice(0,X):Ge)+"..."):Ie),y.disabled=!1}catch(de){W.className="jsoneditor-transform-preview jsoneditor-error",W.value=de.toString(),y.disabled=!0}var Ge,Ie,Ze,X},300);function xe(we,Ge){try{U.value=p(we,Ge),y.disabled=!1,ve()}catch(Ie){we='Error: an error happened when executing "createQuery": '+(Ie.message||Ie.toString()),U.value="",y.disabled=!0,W.className="jsoneditor-transform-preview jsoneditor-error",W.value=we}}function Se(){var we={};if(S.value&&V.value&&E.value&&(we.filter={field:S.value,relation:V.value,value:E.value}),w.value&&B.value&&(we.sort={field:w.value,direction:B.value}),K.value){for(var Ie=[],Ze=0;Ze<K.options.length;Ze++)K.options[Ze].selected&&Ie.push(K.options[Ze].value);we.projection={fields:Ie}}xe(v,we)}U.oninput=ve,y.onclick=function(we){we.preventDefault(),we.stopPropagation(),k.close(),h(U.value)},xe(v,{}),setTimeout(function(){U.select(),U.focus(),U.selectionStart=3,U.selectionEnd=3})}).afterClose(function(k){k.destroy()}).show()}},8458:function(je,h,ue){"use strict";ue.r(h),ue.d(h,{textModeMixins:function(){return k}});var Ae=ue(1262),z=(h=ue(8170),ue.n(h)),oe=ue(4188),be=ue(6436),fe=ue(2474),ye=ue(7907),ce=ue(6056),J=ue(6617),O=ue(6210),T=ue(2558),j=ue(9125),N=ue(7026),F=ue(9791);function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(m)}function b(m,y){for(var S=0;S<y.length;S++){var V=y[S];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(m,(E=function(w,B){if("object"!==v(w)||null===w)return w;var K=w[Symbol.toPrimitive];if(void 0===K)return String(w);if("object"!==v(K=K.call(w,"string")))return K;throw new TypeError("@@toPrimitive must return a primitive value.")}(E=V.key),"symbol"===v(E)?E:String(E)),V)}var E}var p=function(){function m(E,w){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.schema=E,this.schemaRefs=w||{},this.suggestions={},this.suggestionsRefs={},this._buildSuggestions()}var y,S;return y=m,(S=[{key:"_buildSuggestions",value:function(){for(var E in this._handleSchemaEntry("",this.schema,this.suggestions),this.schemaRefs)this.suggestionsRefs[E]={},this._handleSchemaEntry("",this.schemaRefs[E],this.suggestionsRefs[E])}},{key:"_handleRef",value:function(E,w,B){B[E]=B[E]||{},B[E].refs=B[E].refs||[],B[E].refs=(0,F.uniqueMergeArrays)(B[E].refs,[w])}},{key:"_handleSchemaEntry",value:function(E,w,B){if(w)if(w.$ref)this._handleRef(E,w.$ref,B);else{var K=this._checkOfConditon(w);if(K)this._handleOfCondition(E,w[K],B);else switch(w.type){case"object":this._handleObject(E,w,B);break;case"string":case"number":case"integer":this._handlePrimitive(E,w,B);break;case"boolean":this._handleBoolean(E,w,B);break;case"array":this._handleArray(E,w,B)}}else console.error("SchemaTextCompleter: schema node is missing for path",E)}},{key:"_handleObject",value:function(E,w,B){var K,U=this;(0,F.isObject)(w.properties)&&(K=Object.keys(w.properties),B[E]=B[E]||{},B[E].props=B[E].props||[],B[E].props=(0,F.uniqueMergeArrays)(B[E].props,K),K.forEach(function(W){(0,F.asyncExec)(function(){U._handleSchemaEntry("".concat(E,"/").concat(W),w.properties[W],B)})}))}},{key:"_handlePrimitive",value:function(E,w,B){B[E]=B[E]||{},(0,F.isArray)(w.examples)&&(B[E].examples=B[E].examples||[],B[E].examples=(0,F.uniqueMergeArrays)(B[E].examples,w.examples)),(0,F.isArray)(w.enum)&&(B[E].enum=B[E].enum||[],B[E].enum=(0,F.uniqueMergeArrays)(B[E].enum,w.enum))}},{key:"_handleBoolean",value:function(E,w,B){B[E]||(B[E]={bool:[!0,!1]})}},{key:"_handleArray",value:function(E,w,B){var K=this;w.items&&(0,F.asyncExec)(function(){K._handleSchemaEntry("".concat(E,"/\\d+"),w.items,B)})}},{key:"_handleOfCondition",value:function(E,w,B){var K=this;w&&w.length&&w.forEach(function(U){(0,F.asyncExec)(function(){K._handleSchemaEntry(E,U,B)})})}},{key:"_checkOfConditon",value:function(E){if(E)return E.oneOf?"oneOf":E.anyOf?"anyOf":E.allOf?"allOf":void 0}},{key:"getCompletions",value:function(E,w,B,K,U){var W=this;try{var re=N.parse(w.getValue()).pointers||{};Object.keys(re).forEach(function(L){(0,F.asyncExec)(function(){var Q,ae;(null==(ae=re[L].key)?void 0:ae.line)===B.row&&B.column>=re[L].key.column&&B.column<=re[L].keyEnd.column&&(Q=L.slice(0,L.lastIndexOf("/"))),(Q=(null==(ae=re[L].value)?void 0:ae.line)===B.row&&(null==(ae=re[L].value)?void 0:ae.line)===(null==(ae=re[L].valueEnd)?void 0:ae.line)&&B.column>=re[L].value.column&&B.column<=re[L].valueEnd.column?L:Q)&&(ae=function R(ve,xe,Se){var we,Ge=Object.keys(xe).reduce(function(de,ge){return new RegExp("^".concat(Se).concat(ge)).test(ve)&&(!de||de.length<ge.length)?ge:de});if("string"==typeof Ge){if(null!=(we=xe[Ge])&&null!=(we=we.refs)&&we.length){var Ie,Ze={};for(Ie in xe[Ge].refs){var X=xe[Ge].refs[Ie];W.suggestionsRefs[X]&&(null!=(X=R(ve,W.suggestionsRefs[X],"".concat(Se).concat(Ge)))&&X.enum&&(Ze.enum=(0,F.uniqueMergeArrays)(Ze.enum,X.enum)),null!=X&&X.examples&&(Ze.examples=(0,F.uniqueMergeArrays)(Ze.examples,X.examples)),null!=X&&X.bool&&(Ze.bool=(0,F.uniqueMergeArrays)(Ze.bool,X.bool)),null!=X)&&X.props&&(Ze.props=(0,F.uniqueMergeArrays)(Ze.props,X.props))}return Ze}if(new RegExp("^".concat(Se).concat(Ge,"$")).test(ve))return console.log("SchemaTextCompleter: Text suggestion match",{path:ve,schemaPath:"".concat(Se).concat(Ge),suggestions:xe[Ge]}),xe[Ge]}}(Q,W.suggestions,""),function(L){function R(ve){var xe,Se={props:"property",enum:"enum",bool:"boolean",examples:"examples"};L&&null!=(xe=L[ve])&&xe.length&&(Q=Q.concat(L[ve].map(function(we){return{caption:we+"",meta:"schema [".concat(Se[ve],"]"),score:ae++,value:we+""}})))}var Q=[],ae=0;R("props"),R("enum"),R("bool"),R("examples"),Q.length&&U(null,Q)}(ae))})})}catch{}}}])&&b(y.prototype,S),Object.defineProperty(y,"prototype",{writable:!1}),m}();function u(m){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(m)}var d="ace/theme/jsoneditor";function f(){try{this.format()}catch{}}(h={}).create=function(U){var y,S,V,E=this,w=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},B=(void 0===w.statusBar&&(w.statusBar=!0),w.mainMenuBar=!1!==w.mainMenuBar,w.enableSort=!1!==w.enableSort,w.enableTransform=!1!==w.enableTransform,w.createQuery=w.createQuery||ce.r,w.executeQuery=w.executeQuery||ce.J,w.showErrorTable=w.showErrorTable||["text","preview"],this.indentation="number"==typeof(this.options=w).indentation?Number(w.indentation):2,(0,ye.cC)(this.options.languages),(0,ye.m0)(this.options.language),w.ace||z()),K=(this.mode="code"===w.mode?"code":"text","code"===this.mode&&void 0===B&&(this.mode="text",console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")),this.theme=w.theme||d,this.theme===d&&B&&(0,j.O)(),w.onTextSelectionChange&&this.onTextSelectionChange(w.onTextSelectionChange),this);this.container=U,this.dom={},this.aceEditor=void 0,this.textarea=void 0,this.validateSchema=null,this.annotations=[],this.lastSchemaErrors=void 0,this._debouncedValidate=(0,F.debounce)(this._validateAndCatch.bind(this),this.DEBOUNCE_INTERVAL),this.width=U.clientWidth,this.height=U.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.frame.onclick=function(W){W.preventDefault()},this.frame.onkeydown=function(W){K._onKeyDown(W)},this.frameFocusTracker=new fe.R(U={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null}),this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.options.mainMenuBar&&((0,F.addClassName)(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),(U=document.createElement("button")).type="button",U.className="jsoneditor-format",U.title=(0,ye.Iu)("formatTitle"),this.menu.appendChild(U),U.onclick=function(){try{K.format(),K._onChange()}catch(W){K._onError(W)}},(U=document.createElement("button")).type="button",U.className="jsoneditor-compact",U.title=(0,ye.Iu)("compactTitle"),this.menu.appendChild(U),U.onclick=function(){try{K.compact(),K._onChange()}catch(W){K._onError(W)}},this.options.enableSort&&((U=document.createElement("button")).type="button",U.className="jsoneditor-sort",U.title=(0,ye.Iu)("sortTitleShort"),U.onclick=function(){K._showSortModal()},this.menu.appendChild(U)),this.options.enableTransform&&((U=document.createElement("button")).type="button",U.title=(0,ye.Iu)("transformTitleShort"),U.className="jsoneditor-transform",U.onclick=function(){K._showTransformModal()},this.menu.appendChild(U)),(U=document.createElement("button")).type="button",U.className="jsoneditor-repair",U.title=(0,ye.Iu)("repairTitle"),this.menu.appendChild(U),U.onclick=function(){try{K.repair(),K._onChange()}catch(W){K._onError(W)}},"code"===this.mode&&((U=document.createElement("button")).type="button",U.className="jsoneditor-undo jsoneditor-separator",U.title=(0,ye.Iu)("undo"),U.onclick=function(){E.aceEditor.getSession().getUndoManager().undo()},this.menu.appendChild(U),this.dom.undo=U,(U=document.createElement("button")).type="button",U.className="jsoneditor-redo",U.title=(0,ye.Iu)("redo"),U.onclick=function(){E.aceEditor.getSession().getUndoManager().redo()},this.menu.appendChild(U),this.dom.redo=U),this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new J.x(this.menu,this.options.modes,this.options.mode,function(W){try{K.setMode(W),K.modeSwitcher.focus()}catch(re){K._onError(re)}})),"code"===this.mode)&&((y=document.createElement("a")).appendChild(document.createTextNode("powered by ace")),y.href="https://ace.c9.io/",y.target="_blank",y.className="jsoneditor-poweredBy",y.onclick=function(){window.open(y.href,y.target,"noreferrer")},this.menu.appendChild(y)),U=this.options.onEditable&&u("function"===this.options.onEditable)&&!this.options.onEditable({}),this.frame.appendChild(this.content),this.container.appendChild(this.frame),"code"===this.mode?(this.editorDom=document.createElement("div"),this.editorDom.style.height="100%",this.editorDom.style.width="100%",this.content.appendChild(this.editorDom),V=(B=B.edit(this.editorDom)).getSession(),B.$blockScrolling=1/0,B.setTheme(this.theme),B.setOptions({readOnly:U}),B.setShowPrintMargin(!1),B.setFontSize("14px"),V.setMode("ace/mode/json"),V.setTabSize(this.indentation),V.setUseSoftTabs(!0),V.setUseWrapMode(!0),S=V.setAnnotations,V.setAnnotations=function(W){S.call(this,W&&W.length?W:K.annotations)},B.commands.bindKey("Ctrl-L",null),B.commands.bindKey("Command-L",null),B.commands.bindKey("Ctrl-\\",null),B.commands.bindKey("Command-\\",null),B.commands.bindKey("Ctrl-Shift-\\",null),B.commands.bindKey("Command-Shift-\\",null),(this.aceEditor=B).on("change",this._onChange.bind(this)),B.on("changeSelection",this._onSelect.bind(this))):((V=document.createElement("textarea")).className="jsoneditor-text",V.spellcheck=!1,this.content.appendChild(V),this.textarea=V,this.textarea.readOnly=U,null===this.textarea.oninput?this.textarea.oninput=this._onChange.bind(this):this.textarea.onchange=this._onChange.bind(this),V.onselect=this._onSelect.bind(this),V.onmousedown=this._onMouseDown.bind(this),V.onblur=this._onBlur.bind(this)),this._updateHistoryButtons(),this.errorTable=new be.Q({errorTableVisible:Array.isArray(this.options.showErrorTable)?this.options.showErrorTable.includes(this.mode):!0===this.options.showErrorTable,onToggleVisibility:function(){K._validateAndCatch()},onFocusLine:function(W){K.isFocused=!0,isNaN(W)||K.setTextSelection({row:W,column:1},{row:W,column:1e3})},onChangeHeight:function(W){K.content.style.marginBottom=-(W=W+(K.dom.statusBar?K.dom.statusBar.clientHeight:0)+1)+"px",K.content.style.paddingBottom=W+"px"}}),this.frame.appendChild(this.errorTable.getErrorTable()),w.statusBar&&((0,F.addClassName)(this.content,"has-status-bar"),this.curserInfoElements={},B=document.createElement("div"),(this.dom.statusBar=B).className="jsoneditor-statusbar",this.frame.appendChild(B),(U=document.createElement("span")).className="jsoneditor-curserinfo-label",U.innerText="Ln:",(V=document.createElement("span")).className="jsoneditor-curserinfo-val",V.innerText="1",B.appendChild(U),B.appendChild(V),(w=document.createElement("span")).className="jsoneditor-curserinfo-label",w.innerText="Col:",(U=document.createElement("span")).className="jsoneditor-curserinfo-val",U.innerText="1",B.appendChild(w),B.appendChild(U),this.curserInfoElements.colVal=U,this.curserInfoElements.lnVal=V,(w=document.createElement("span")).className="jsoneditor-curserinfo-label",w.innerText="characters selected",w.style.display="none",(U=document.createElement("span")).className="jsoneditor-curserinfo-count",U.innerText="0",U.style.display="none",this.curserInfoElements.countLabel=w,this.curserInfoElements.countVal=U,B.appendChild(U),B.appendChild(w),B.appendChild(this.errorTable.getErrorCounter()),B.appendChild(this.errorTable.getWarningIcon()),B.appendChild(this.errorTable.getErrorIcon())),this.setSchema(this.options.schema,this.options.schemaRefs)},h._onSchemaChange=function(m,y){this.aceEditor&&(this.options.allowSchemaSuggestions&&m?(this.aceEditor.setOption("enableBasicAutocompletion",[new p(m,y)]),this.aceEditor.setOption("enableLiveAutocompletion",!0)):(this.aceEditor.setOption("enableBasicAutocompletion",void 0),this.aceEditor.setOption("enableLiveAutocompletion",!1)))},h._onChange=function(){var m=this;if(!this.onChangeDisabled){if(setTimeout(function(){m._updateHistoryButtons&&m._updateHistoryButtons()}),this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(y){console.error("Error in onChange callback: ",y)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(y){console.error("Error in onChangeText callback: ",y)}}},h._updateHistoryButtons=function(){var m;this.aceEditor&&this.dom.undo&&this.dom.redo&&(m=this.aceEditor.getSession().getUndoManager())&&m.hasUndo&&m.hasRedo&&(this.dom.undo.disabled=!m.hasUndo(),this.dom.redo.disabled=!m.hasRedo())},h._showSortModal=function(){try{var m=this,y=this.options.modalAnchor||oe.qD,S=this.get();(0,O.showSortModal)(y,S,function(V){var E;Array.isArray(S)&&(E=(0,F.sort)(S,V.path,V.direction),m.sortedBy=V,m.update(E)),(0,F.isObject)(S)&&(E=(0,F.sortObjectKeys)(S,V.direction),m.sortedBy=V,m.update(E))},m.sortedBy)}catch(V){this._onError(V)}},h._showTransformModal=function(){var m=this;try{var y=this.options,S=y.modalAnchor,V=y.createQuery,E=y.executeQuery,w=y.queryDescription,B=this.get();(0,T.showTransformModal)({container:S||oe.qD,json:B,queryDescription:w,createQuery:V,executeQuery:E,onTransform:function(K){K=E(B,K),m.update(K)}})}catch(K){this._onError(K)}},h._onSelect=function(){this._updateCursorInfo(),this._emitSelectionChange()},h._onKeyDown=function(m){var y=!1;73===(m.which||m.keyCode)&&m.ctrlKey&&(m.shiftKey?this.compact():this.format(),this._onChange(),y=!0),y&&(m.preventDefault(),m.stopPropagation()),this._updateCursorInfo(),this._emitSelectionChange()},h._onMouseDown=function(){this._updateCursorInfo(),this._emitSelectionChange()},h._onBlur=function(){var m=this;setTimeout(function(){m.isFocused||(m._updateCursorInfo(),m._emitSelectionChange()),m.isFocused=!1})},h._updateCursorInfo=function(){var m,y,S,V,E,w=this;function B(){w.curserInfoElements.countVal.innerText!==E&&(w.curserInfoElements.countVal.innerText=E,w.curserInfoElements.countVal.style.display=E?"inline":"none",w.curserInfoElements.countLabel.style.display=E?"inline":"none"),w.curserInfoElements.lnVal.innerText=S,w.curserInfoElements.colVal.innerText=V}this.textarea?setTimeout(function(){var K=(0,F.getInputSelection)(w.textarea);K.startIndex!==K.endIndex&&(E=K.endIndex-K.startIndex),V=(E&&w.cursorInfo&&w.cursorInfo.line===K.end.row&&w.cursorInfo.column===K.end.column?(S=K.start.row,K.start):(S=K.end.row,K.end)).column,w.cursorInfo={line:S,column:V,count:E},w.options.statusBar&&B()},0):this.aceEditor&&this.curserInfoElements&&(m=this.aceEditor.getCursorPosition(),y=this.aceEditor.getSelectedText(),w.cursorInfo={line:S=m.row+1,column:V=m.column+1,count:E=y.length},this.options.statusBar)&&B()},h._emitSelectionChange=function(){var m;this._selectionChangedHandler&&(m=this.getTextSelection(),this._selectionChangedHandler(m.start,m.end,m.text))},h._refreshAnnotations=function(){var m,y=this.aceEditor&&this.aceEditor.getSession();y&&(m=y.getAnnotations().filter(function(S){return"error"===S.type}),y.setAnnotations(m))},h.destroy=function(){this.aceEditor&&(this.aceEditor.destroy(),this.aceEditor=null),this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.textarea=null,this._debouncedValidate=null,this.frameFocusTracker.destroy()},h.compact=function(){var m=this.get();m=JSON.stringify(m),this.updateText(m)},h.format=function(){var m=this.get();m=JSON.stringify(m,null,this.indentation),this.updateText(m)},h.repair=function(){var m=this.getText();try{var y=(0,Ae.K)(m);this.updateText(y)}catch{}},h.focus=function(){this.textarea&&this.textarea.focus(),this.aceEditor&&this.aceEditor.focus()},h.resize=function(){this.aceEditor&&this.aceEditor.resize(!1)},h.set=function(m){this.setText(JSON.stringify(m,null,this.indentation))},h.update=function(m){this.updateText(JSON.stringify(m,null,this.indentation))},h.get=function(){var m=this.getText();return(0,F.parse)(m)},h.getText=function(){return this.textarea?this.textarea.value:this.aceEditor?this.aceEditor.getValue():""},h._setText=function(E,y){var S,V=this;E=!0===this.options.escapeUnicode?(0,F.escapeUnicodeChars)(E):E,this.textarea&&(this.textarea.value=E),this.aceEditor&&(this.onChangeDisabled=!0,this.aceEditor.setValue(E,-1),this.onChangeDisabled=!1,y&&(S=this,setTimeout(function(){S.aceEditor&&S.aceEditor.session.getUndoManager().reset()})),setTimeout(function(){V._updateHistoryButtons&&V._updateHistoryButtons()})),this._debouncedValidate()},h.setText=function(m){this._setText(m,!0)},h.updateText=function(m){this.getText()!==m&&this._setText(m,!1)},h.validate=function(){var m,y=this,S=[],V=[];try{var E=this.get(),w=(this.validateSchema&&!this.validateSchema(E)&&(S=this.validateSchema.errors.map(function(K){return K.type="validation",(0,F.improveSchemaError)(K)})),this.validationSequence=(this.validationSequence||0)+1,this),B=this.validationSequence;return function(K,U){if(!U)return Promise.resolve([]);try{var W=U(K);return((0,F.isPromise)(W)?W:Promise.resolve(W)).then(function(re){return Array.isArray(re)?re.filter(function(H){var L=(0,F.isValidValidationError)(H);return L||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',H),L}).map(function(H){return{dataPath:(0,F.stringifyPath)(H.path),message:H.message,type:"customValidation"}}):[]})}catch(re){return Promise.reject(re)}}(E,this.options.onValidate).then(function(K){return B===w.validationSequence&&(K=S.concat(V).concat(K),w._renderErrors(K),"function"==typeof y.options.onValidationError&&(0,F.isValidationErrorChanged)(K,y.lastSchemaErrors)&&y.options.onValidationError.call(y,K),y.lastSchemaErrors=K),y.lastSchemaErrors})}catch(K){return this.getText()&&((E=/\w*line\s*(\d+)\w*/g.exec(K.message))&&(m=+E[1]),V=[{type:"error",message:K.message.replace(/\n/g,"<br>"),line:m}]),this._renderErrors(V),"function"==typeof this.options.onValidationError&&(0,F.isValidationErrorChanged)(V,this.lastSchemaErrors)&&this.options.onValidationError.call(this,V),this.lastSchemaErrors=V,Promise.resolve(this.lastSchemaErrors)}},h._validateAndCatch=function(){this.validate().catch(function(m){console.error("Error running validation:",m)})},h._renderErrors=function(m){var S=this.getText(),y=[];m.reduce(function(V,E){return"string"==typeof E.dataPath&&-1===V.indexOf(E.dataPath)&&V.push(E.dataPath),V},y),S=(0,F.getPositionForPath)(S,y),this.aceEditor&&(this.annotations=S.map(function(V){var E=m.filter(function(B){return B.dataPath===V.path}),w=E.map(function(B){return B.message}).join("\n");return w?{row:V.line,column:V.column,text:"Schema validation error"+(1!==E.length?"s":"")+": \n"+w,type:"warning",source:"jsoneditor"}:{}}),this._refreshAnnotations()),this.errorTable.setErrors(m,S),this.aceEditor&&this.aceEditor.resize(!1)},h.getTextSelection=function(){var m,y,S,V={};return this.textarea?(S=(0,F.getInputSelection)(this.textarea),this.cursorInfo&&this.cursorInfo.line===S.end.row&&this.cursorInfo.column===S.end.column?(V.start=S.end,V.end=S.start):V=S,{start:V.start,end:V.end,text:this.textarea.value.substring(S.startIndex,S.endIndex)}):this.aceEditor?(S=this.aceEditor.getSelection(),m=this.aceEditor.getSelectedText(),y=S.getRange(),(S=S.getSelectionLead()).row===y.end.row&&S.column===y.end.column?V=y:(V.start=y.end,V.end=y.start),{start:{row:V.start.row+1,column:V.start.column+1},end:{row:V.end.row+1,column:V.end.column+1},text:m}):void 0},h.onTextSelectionChange=function(m){"function"==typeof m&&(this._selectionChangedHandler=(0,F.debounce)(m,this.DEBOUNCE_INTERVAL))},h.setTextSelection=function(m,y){var S,V,E;m&&y&&(this.textarea?(S=(0,F.getIndexForPosition)(this.textarea,m.row,m.column),E=(0,F.getIndexForPosition)(this.textarea,y.row,y.column),-1<S&&-1<E&&(this.textarea.setSelectionRange?(this.textarea.focus(),this.textarea.setSelectionRange(S,E)):this.textarea.createTextRange&&((V=this.textarea.createTextRange()).collapse(!0),V.moveEnd("character",E),V.moveStart("character",S),V.select()),E=(this.textarea.value.match(/\n/g)||[]).length+1,this.textarea.scrollTop=(V=m.row*(S=this.textarea.scrollHeight/E))>this.textarea.clientHeight?V-this.textarea.clientHeight/2:0)):this.aceEditor&&(this.aceEditor.selection.setRange(E={start:{row:m.row-1,column:m.column-1},end:{row:y.row-1,column:y.column-1}}),this.aceEditor.scrollToLine(m.row-1,!0)))};var k=[{mode:"text",mixin:h,data:"text",load:f},{mode:"code",mixin:h,data:"text",load:f}]},8038:function(je,we,Ie){"use strict";Ie.r(we),Ie.d(we,{treeModeMixins:function(){return Ze}});var Ae={start:function(X,de,ge){return 0===de.indexOf(X)},contain:function(X,de,ge){return-1<de.indexOf(X)}},z=Ie(897),oe=Ie(2474);function be(X){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(X)}function fe(X,de){for(var ge=0;ge<de.length;ge++){var Ce=de[ge];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(X,(G=function(Z,ne){if("object"!==be(Z)||null===Z)return Z;var _e=Z[Symbol.toPrimitive];if(void 0===_e)return String(Z);if("object"!==be(_e=_e.call(Z,"string")))return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}(G=Ce.key),"symbol"===be(G)?G:String(G)),Ce)}var G}var ye=function(){function X(){if(!(this instanceof X))throw new TypeError("Cannot call a class as a function");this.locked=!1}var de,ge;return de=X,(ge=[{key:"highlight",value:function(G){this.locked||(this.node!==G&&(this.node&&this.node.setHighlight(!1),this.node=G,this.node.setHighlight(!0)),this._cancelUnhighlight())}},{key:"unhighlight",value:function(){var G;this.locked||(G=this).node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout(function(){G.node.setHighlight(!1),G.node=void 0,G.unhighlightTimer=void 0},0))}},{key:"_cancelUnhighlight",value:function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=void 0)}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}}])&&fe(de.prototype,ge),Object.defineProperty(de,"prototype",{writable:!1}),X}(),ce=Ie(7907),J=Ie(6056),O=Ie(6617),T=(we=Ie(233),Ie.n(we)),j=Ie(2602),N=Ie(9791),F=Ie(6210),v=Ie(2558),b=Ie(4188);function p(X){return function(de){if(Array.isArray(de))return f(de)}(X)||function(de){if(typeof Symbol<"u"&&null!=de[Symbol.iterator]||null!=de["@@iterator"])return Array.from(de)}(X)||d(X)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(X,de){return function(ge){if(Array.isArray(ge))return ge}(X)||function(ge,Ce){var G=null==ge?null:typeof Symbol<"u"&&ge[Symbol.iterator]||ge["@@iterator"];if(null!=G){var Z,ne,_e,Ee,Qe=[],ft=!0,yt=!1;try{if(_e=(G=G.call(ge)).next,0===Ce){if(Object(G)!==G)return;ft=!1}else for(;!(ft=(Z=_e.call(G)).done)&&(Qe.push(Z.value),Qe.length!==Ce);ft=!0);}catch(Wt){yt=!0,ne=Wt}finally{try{if(!ft&&null!=G.return&&(Ee=G.return(),Object(Ee)!==Ee))return}finally{if(yt)throw ne}}return Qe}}(X,de)||d(X,de)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(X,de){var ge,Ce,G,Z,ne=typeof Symbol<"u"&&X[Symbol.iterator]||X["@@iterator"];if(ne)return Ce=!(ge=!0),{s:function(){ne=ne.call(X)},n:function(){var _e=ne.next();return ge=_e.done,_e},e:function(_e){Ce=!0,G=_e},f:function(){try{ge||null==ne.return||ne.return()}finally{if(Ce)throw G}}};if(Array.isArray(X)||(ne=d(X))||de&&X&&"number"==typeof X.length)return ne&&(X=ne),Z=0,{s:de=function(){},n:function(){return Z>=X.length?{done:!0}:{done:!1,value:X[Z++]}},e:function(_e){throw _e},f:de};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(X,de){var ge;if(X)return"string"==typeof X?f(X,de):"Map"===(ge="Object"===(ge=Object.prototype.toString.call(X).slice(8,-1))&&X.constructor?X.constructor.name:ge)||"Set"===ge?Array.from(X):"Arguments"===ge||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge)?f(X,de):void 0}function f(X,de){(null==de||de>X.length)&&(de=X.length);for(var ge=0,Ce=new Array(de);ge<de;ge++)Ce[ge]=X[ge];return Ce}function k(X){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(X)}function m(X,de){for(var ge=0;ge<de.length;ge++){var Ce=de[ge];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(X,(G=function(Z,ne){if("object"!==k(Z)||null===Z)return Z;var _e=Z[Symbol.toPrimitive];if(void 0===_e)return String(Z);if("object"!==k(_e=_e.call(Z,"string")))return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}(G=Ce.key),"symbol"===k(G)?G:String(G)),Ce)}var G}var y=function(){function X(G,Z){if(!(this instanceof X))throw new TypeError("Cannot call a class as a function");this.editor=G,this.dom={},this.expanded=!1,Z&&Z instanceof Object?(this.setField(Z.field,Z.fieldEditable),"value"in Z&&this.setValue(Z.value,Z.type),"internalValue"in Z&&this.setInternalValue(Z.internalValue)):(this.setField(""),this.setValue(null)),this._debouncedOnChangeValue=(0,N.debounce)(this._onChangeValue.bind(this),X.prototype.DEBOUNCE_INTERVAL),this._debouncedOnChangeField=(0,N.debounce)(this._onChangeField.bind(this),X.prototype.DEBOUNCE_INTERVAL),this.visibleChilds=this.getMaxVisibleChilds()}var de,ge;return de=X,(ge=[{key:"getMaxVisibleChilds",value:function(){return this.editor&&this.editor.options&&this.editor.options.maxVisibleChilds?this.editor.options.maxVisibleChilds:S}},{key:"_updateEditability",value:function(){var G,Z;this.editable={field:!0,value:!0},this.editor&&(this.editable.field="tree"===this.editor.options.mode,this.editable.value="view"!==this.editor.options.mode,"tree"!==this.editor.options.mode&&"form"!==this.editor.options.mode||"function"!=typeof this.editor.options.onEditable||(G=this.getValue.bind(this),"boolean"==typeof(Z=this.editor.options.onEditable({field:this.field,get value(){return G()},path:this.getPath()}))?(this.editable.field=Z,this.editable.value=Z):"object"===k(Z)&&null!==Z?("boolean"==typeof Z.field&&(this.editable.field=Z.field),"boolean"==typeof Z.value&&(this.editable.value=Z.value)):(console.error("Invalid return value for function onEditable.","Actual value:",Z,".","Either a boolean or object { field: boolean, value: boolean } expected."),this.editable.field=!1,this.editable.value=!1)))}},{key:"getPath",value:function(){for(var G=this,Z=[];G;){var ne=G.getName();void 0!==ne&&Z.unshift(ne),G=G.parent}return Z}},{key:"getInternalPath",value:function(){for(var G=this,Z=[];G;)G.parent&&Z.unshift(G.getIndex()),G=G.parent;return Z}},{key:"getName",value:function(){return this.parent?"array"!==this.parent.type?this.field:this.index:void 0}},{key:"findNodeByPath",value:function(G){if(G){if(0===G.length)return this;if(G.length&&this.childs&&this.childs.length)for(var Z=0;Z<this.childs.length;++Z)if(""+G[0]==""+this.childs[Z].getName())return this.childs[Z].findNodeByPath(G.slice(1))}}},{key:"findNodeByInternalPath",value:function(G){if(G){for(var _e=this,Z=0;Z<G.length&&_e;Z++)_e=_e.childs[G[Z]];return _e}}},{key:"serialize",value:function(){return{value:this.getValue(),path:this.getPath()}}},{key:"findNode",value:function(G){for(var Z=(0,N.parsePath)(G),ne=this;ne&&0<Z.length;)!function(){var _e=Z.shift();if("number"==typeof _e){if("array"!==ne.type)throw new Error("Cannot get child node at index "+_e+": node is no array");ne=ne.childs[_e]}else{if("object"!==ne.type)throw new Error("Cannot get child node "+_e+": node is no object");ne=ne.childs.filter(function(Ee){return Ee.field===_e})[0]}}();return ne}},{key:"findParents",value:function(){for(var G=[],Z=this.parent;Z;)G.unshift(Z),Z=Z.parent;return G}},{key:"setError",value:function(G,Z){this.error=G,this.errorChild=Z,this.dom&&this.dom.tr&&this.updateError()}},{key:"updateError",value:function(){var G=this,Z=this.fieldError||this.valueError||this.error,ne=this.dom.tdError;if(Z&&this.dom&&this.dom.tr){(0,N.addClassName)(this.dom.tr,"jsoneditor-validation-error"),ne||(ne=document.createElement("td"),this.dom.tdError=ne,this.dom.tdValue.parentNode.appendChild(ne));var _e=document.createElement("button"),Ee=(_e.type="button",_e.className="jsoneditor-button jsoneditor-schema-error",function(){G.dom.popupAnchor&&G.dom.popupAnchor.destroy()}),Qe=function(){delete G.dom.popupAnchor},ft=function(qt){var Vt=G.editor.frame;G.dom.popupAnchor=(0,j.w)(_e,G.editor.getPopupAnchor(),Qe,qt),qt=_e.getBoundingClientRect(),Vt=120<Vt.getBoundingClientRect().width-qt.x?"jsoneditor-above":"jsoneditor-left",(qt=document.createElement("div")).className="jsoneditor-popover "+Vt,qt.appendChild(document.createTextNode(Z.message)),G.dom.popupAnchor.appendChild(qt)},yt=(_e.onmouseover=function(){G.dom.popupAnchor||ft(!0)},_e.onfocus=function(){Ee(),ft(!1)},_e.onblur=function(){Ee()},this.errorChild);for(yt&&(_e.onclick=function(){yt.findParents().forEach(function(Wt){Wt.expand(!1)}),yt.scrollTo(function(){yt.focus()})});ne.firstChild;)ne.removeChild(ne.firstChild);ne.appendChild(_e)}else this.dom.tr&&(0,N.removeClassName)(this.dom.tr,"jsoneditor-validation-error"),ne&&(this.dom.tdError.parentNode.removeChild(this.dom.tdError),delete this.dom.tdError)}},{key:"getIndex",value:function(){var G;return this.parent?-1!==(G=this.parent.childs.indexOf(this))?G:null:-1}},{key:"setParent",value:function(G){this.parent=G}},{key:"setField",value:function(G,Z){this.field=G,this.previousField=G,this.fieldEditable=!0===Z}},{key:"getField",value:function(){return void 0===this.field&&this._getDomField(),this.field}},{key:"setValue",value:function(G,Z){var ne,_e,Ee,Qe,ft,yt,Wt=this.childs;if(this.type=this._getType(G),Z&&Z!==this.type){if("string"!==Z||"auto"!==this.type)throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+Z+'"');this.type=Z}if("array"===this.type){for(this.childs||(this.childs=[]),ne=0;ne<G.length;ne++)void 0===(ft=G[ne])||ft instanceof Function||(ne<this.childs.length?((Ee=this.childs[ne]).fieldEditable=!1,Ee.index=ne,Ee.setValue(ft)):(Ee=new X(this.editor,{value:ft}),Qe=ne<this.getMaxVisibleChilds(),this.appendChild(Ee,Qe,!1)));for(_e=this.childs.length;_e>=G.length;_e--)this.removeChild(this.childs[_e],!1)}else if("object"===this.type){for(this.childs||(this.childs=[]),_e=this.childs.length-1;0<=_e;_e--)w(G,this.childs[_e].field)||this.removeChild(this.childs[_e],!1);for(var Vt in ne=0,G)w(G,Vt)&&(void 0===(ft=G[Vt])||ft instanceof Function||((yt=this.findChildByProperty(Vt))?(yt.setField(Vt,!0),yt.setValue(ft)):(yt=new X(this.editor,{field:Vt,value:ft}),Vt=ne<this.getMaxVisibleChilds(),this.appendChild(yt,Vt,!1))),ne++);!(this.value="")===this.editor.options.sortObjectKeys&&this.sort([],"asc",!1)}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=G;Array.isArray(Wt)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value}},{key:"setInternalValue",value:function(G){var Z,ne,_e,Ee,Qe,ft=this.childs;if(this.type=G.type,"array"===G.type){for(this.childs||(this.childs=[]),Ee=0;Ee<G.childs.length;Ee++)void 0===(Z=G.childs[Ee])||Z instanceof Function||(Ee<this.childs.length?((ne=this.childs[Ee]).fieldEditable=!1,ne.index=Ee,ne.setInternalValue(Z)):(ne=new X(this.editor,{internalValue:Z}),_e=Ee<this.getMaxVisibleChilds(),this.appendChild(ne,_e,!1)));for(Qe=this.childs.length;Qe>=G.childs.length;Qe--)this.removeChild(this.childs[Qe],!1)}else if("object"===G.type){for(this.childs||(this.childs=[]),Ee=0;Ee<G.childs.length;Ee++)void 0===(Z=G.childs[Ee])||Z instanceof Function||(Ee<this.childs.length?(delete(ne=this.childs[Ee]).index,ne.setField(Z.field,!0),ne.setInternalValue(Z.value)):(ne=new X(this.editor,{field:Z.field,internalValue:Z.value}),_e=Ee<this.getMaxVisibleChilds(),this.appendChild(ne,_e,!1)));for(Qe=this.childs.length;Qe>=G.childs.length;Qe--)this.removeChild(this.childs[Qe],!1)}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=G.value;Array.isArray(ft)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value}},{key:"recreateDom",value:function(){var G;this.dom&&this.dom.tr&&this.dom.tr.parentNode?(G=this._detachFromDom(),this.clearDom(),this._attachToDom(G)):this.clearDom()}},{key:"getValue",value:function(){var G,Z;return"array"===this.type?(G=[],this.childs.forEach(function(ne){G.push(ne.getValue())}),G):"object"===this.type?(Z={},this.childs.forEach(function(ne){Z[ne.getField()]=ne.getValue()}),Z):(void 0===this.value&&this._getDomValue(),this.value)}},{key:"getInternalValue",value:function(){return"array"===this.type?{type:this.type,childs:this.childs.map(function(G){return G.getInternalValue()})}:"object"===this.type?{type:this.type,childs:this.childs.map(function(G){return{field:G.getField(),value:G.getInternalValue()}})}:(void 0===this.value&&this._getDomValue(),{type:this.type,value:this.value})}},{key:"getLevel",value:function(){return this.parent?this.parent.getLevel()+1:0}},{key:"getNodePath",value:function(){var G=this.parent?this.parent.getNodePath():[];return G.push(this),G}},{key:"clone",value:function(){var G,Z;return(G=new X(this.editor)).type=this.type,G.field=this.field,G.fieldInnerText=this.fieldInnerText,G.fieldEditable=this.fieldEditable,G.previousField=this.previousField,G.value=this.value,G.valueInnerText=this.valueInnerText,G.previousValue=this.previousValue,G.expanded=this.expanded,G.visibleChilds=this.visibleChilds,this.childs?(Z=[],this.childs.forEach(function(ne){(ne=ne.clone()).setParent(G),Z.push(ne)}),G.childs=Z):G.childs=void 0,G}},{key:"expand",value:function(G){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-expanded"),this.showChilds(),!1!==G&&this.childs.forEach(function(Z){Z.expand(G)}),this.updateDom({recurse:!1}))}},{key:"collapse",value:function(G){this.childs&&(this.hideChilds(),!1!==G&&this.childs.forEach(function(Z){Z.collapse(G)}),this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-collapsed"),this.expanded=!1,this.updateDom({recurse:!1}))}},{key:"showChilds",value:function(){if((G=this.childs)&&this.expanded){var G,Z=(G=this.dom.tr)?G.parentNode:void 0;if(Z){for(var ne=this.getAppendDom(),_e=(ne.parentNode||((Ee=G.nextSibling)?Z.insertBefore(ne,Ee):Z.appendChild(ne)),Math.min(this.childs.length,this.visibleChilds)),Ee=this._getNextTr(),Qe=0;Qe<_e;Qe++){var ft=this.childs[Qe];ft.getDom().parentNode||Z.insertBefore(ft.getDom(),Ee),ft.showChilds()}G=this.getShowMoreDom(),Ee=this._getNextTr(),G.parentNode||Z.insertBefore(G,Ee),this.showMore.updateDom()}}}},{key:"_getNextTr",value:function(){return this.showMore&&this.showMore.getDom().parentNode?this.showMore.getDom():this.append&&this.append.getDom().parentNode?this.append.getDom():void 0}},{key:"hide",value:function(G){var Z=this.dom.tr,ne=Z?Z.parentNode:void 0;ne&&ne.removeChild(Z),this.dom.popupAnchor&&this.dom.popupAnchor.destroy(),this.hideChilds(G)}},{key:"hideChilds",value:function(G){var Z;this.childs&&this.expanded&&((Z=this.getAppendDom()).parentNode&&Z.parentNode.removeChild(Z),this.childs.forEach(function(ne){ne.hide()}),(Z=this.getShowMoreDom()).parentNode&&Z.parentNode.removeChild(Z),G&&!G.resetVisibleChilds||(this.visibleChilds=this.getMaxVisibleChilds()))}},{key:"_updateCssClassName",value:function(){var G,Z;this.dom.field&&this.editor&&this.editor.options&&"function"==typeof this.editor.options.onClassName&&this.dom.tree&&((0,N.removeAllClassNames)(this.dom.tree),G=this.getValue.bind(this),Z=this.editor.options.onClassName({path:this.getPath(),field:this.field,get value(){return G()}})||"",(0,N.addClassName)(this.dom.tree,"jsoneditor-values "+Z))}},{key:"recursivelyUpdateCssClassesOnNodes",value:function(){if(this._updateCssClassName(),Array.isArray(this.childs))for(var G=0;G<this.childs.length;G++)this.childs[G].recursivelyUpdateCssClassesOnNodes()}},{key:"expandTo",value:function(){for(var G=this.parent;G;)G.expanded||G.expand(),G=G.parent}},{key:"appendChild",value:function(G,Z,ne){var _e,Ee;this._hasChilds()&&(G.setParent(this),G.fieldEditable="object"===this.type,"array"===this.type&&(G.index=this.childs.length),"object"===this.type&&void 0===G.field&&G.setField(""),this.childs.push(G),this.expanded&&!1!==Z&&(Z=G.getDom(),Ee=(_e=this._getNextTr())?_e.parentNode:void 0,_e&&Ee&&Ee.insertBefore(Z,_e),G.showChilds(),this.visibleChilds++),!1!==ne)&&(this.updateDom({updateIndexes:!0}),G.updateDom({recurse:!0}))}},{key:"moveBefore",value:function(G,Z,ne){var _e,Ee;this._hasChilds()&&((_e=this.dom.tr?this.dom.tr.parentNode:void 0)&&((Ee=document.createElement("tr")).style.height=_e.clientHeight+"px",_e.appendChild(Ee)),G.parent&&G.parent.removeChild(G),Z instanceof B||!Z?this.childs.length+1>this.visibleChilds?this.insertBefore(G,this.childs[this.visibleChilds-1],ne):this.appendChild(G,!0,ne):this.insertBefore(G,Z,ne),_e)&&Ee&&_e.removeChild(Ee)}},{key:"insertBefore",value:function(G,Z,ne){if(this._hasChilds()){if(this.visibleChilds++,"object"===this.type&&void 0===G.field&&G.setField(""),Z===this.append)G.setParent(this),G.fieldEditable="object"===this.type,this.childs.push(G);else{var _e=this.childs.indexOf(Z);if(-1===_e)throw new Error("Node not found");G.setParent(this),G.fieldEditable="object"===this.type,this.childs.splice(_e,0,G)}var Ee;this.expanded&&(_e=G.getDom(),Ee=(Z=Z.getDom())?Z.parentNode:void 0,Z&&Ee&&Ee.insertBefore(_e,Z),G.showChilds(),this.showChilds()),!1!==ne&&(this.updateDom({updateIndexes:!0}),G.updateDom({recurse:!0}))}}},{key:"insertAfter",value:function(G,Z){this._hasChilds()&&(Z=this.childs.indexOf(Z),(Z=this.childs[Z+1])?this.insertBefore(G,Z):this.appendChild(G))}},{key:"search",value:function(G,Z){Array.isArray(Z)||(Z=[]);var ne=G?G.toLowerCase():void 0;return delete this.searchField,delete this.searchValue,void 0!==this.field&&Z.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.field).toLowerCase().indexOf(ne)&&(this.searchField=!0,Z.push({node:this,elem:"field"})),this._updateDomField()),this._hasChilds()?this.childs&&this.childs.forEach(function(_e){_e.search(G,Z)}):void 0!==this.value&&Z.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.value).toLowerCase().indexOf(ne)&&(this.searchValue=!0,Z.push({node:this,elem:"value"})),this._updateDomValue()),Z}},{key:"scrollTo",value:function(G){this.expandPathToNode(),this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,G)}},{key:"expandPathToNode",value:function(){for(var G=this;G&&G.parent;){for(var Z="array"===G.parent.type?G.index:G.parent.childs.indexOf(G);G.parent.visibleChilds<Z+1;)G.parent.visibleChilds+=this.getMaxVisibleChilds();G.parent.expand(!1),G=G.parent}}},{key:"focus",value:function(G){if(X.focusElement=G,this.dom.tr&&this.dom.tr.parentNode){var Z=this.dom;switch(G){case"drag":(Z.drag||Z.menu).focus();break;case"menu":Z.menu.focus();break;case"expand":this._hasChilds()?Z.expand.focus():Z.field&&this.fieldEditable?(Z.field.focus(),(0,N.selectContentEditable)(Z.field)):Z.value&&!this._hasChilds()?(Z.value.focus(),(0,N.selectContentEditable)(Z.value)):Z.menu.focus();break;case"field":Z.field&&this.fieldEditable?(Z.field.focus(),(0,N.selectContentEditable)(Z.field)):Z.value&&!this._hasChilds()?(Z.value.focus(),(0,N.selectContentEditable)(Z.value)):(this._hasChilds()?Z.expand:Z.menu).focus();break;default:Z.select?Z.select.focus():Z.value&&!this._hasChilds()?(Z.value.focus(),(0,N.selectContentEditable)(Z.value)):Z.field&&this.fieldEditable?(Z.field.focus(),(0,N.selectContentEditable)(Z.field)):(this._hasChilds()?Z.expand:Z.menu).focus()}}}},{key:"containsNode",value:function(G){if(this===G)return!0;var Z=this.childs;if(Z)for(var ne=0,_e=Z.length;ne<_e;ne++)if(Z[ne].containsNode(G))return!0;return!1}},{key:"removeChild",value:function(G,Z){if(this.childs){var ne=this.childs.indexOf(G);if(-1!==ne)return ne<this.visibleChilds&&this.expanded&&this.visibleChilds--,G.hide(),delete G.searchField,delete G.searchValue,(G=this.childs.splice(ne,1)[0]).parent=null,!1!==Z&&this.updateDom({updateIndexes:!0}),G}}},{key:"_remove",value:function(G){this.removeChild(G)}},{key:"changeType",value:function(G){var Z,ne=this.type;ne!==G&&("string"!==G&&"auto"!==G||"string"!==ne&&"auto"!==ne?(Z=this._detachFromDom(),this.clearDom(),"object"===(this.type=G)?(this.childs||(this.childs=[]),this.childs.forEach(function(_e){_e.clearDom(),delete _e.index,_e.fieldEditable=!0,void 0===_e.field&&(_e.field="")}),"string"!==ne&&"auto"!==ne||(this.expanded=!0)):"array"===G?(this.childs||(this.childs=[]),this.childs.forEach(function(_e,Ee){_e.clearDom(),_e.fieldEditable=!1,_e.index=Ee}),"string"!==ne&&"auto"!==ne||(this.expanded=!0)):this.expanded=!1,this._attachToDom(Z)):this.type=G,"auto"!==G&&"string"!==G||(this.value="string"===G?String(this.value):(0,N.parseString)(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0}))}},{key:"deepEqual",value:function(G){var Z;if("array"===this.type){if(!Array.isArray(G)||this.childs.length!==G.length)return!1;for(Z=0;Z<this.childs.length;Z++)if(!this.childs[Z].deepEqual(G[Z]))return!1}else if("object"===this.type){if("object"!==k(G)||!G)return!1;var ne=Object.keys(G);if(this.childs.length!==ne.length)return!1;for(Z=0;Z<ne.length;Z++){var _e=this.childs[Z];if(_e.field!==ne[Z]||!_e.deepEqual(G[_e.field]))return!1}}else if(this.value!==G)return!1;return!0}},{key:"_getDomValue",value:function(){if(this._clearValueError(),this.dom.value&&"array"!==this.type&&"object"!==this.type&&(this.valueInnerText=(0,N.getInnerText)(this.dom.value),""===this.valueInnerText)&&""!==this.dom.value.innerHTML&&(this.dom.value.textContent=""),void 0!==this.valueInnerText)try{var G,Z;(Z="string"===this.type?this._unescapeHTML(this.valueInnerText):(G=this._unescapeHTML(this.valueInnerText),(0,N.parseString)(G)))!==this.value&&(this.value=Z,this._debouncedOnChangeValue())}catch{this._setValueError((0,ce.Iu)("cannotParseValueError"))}}},{key:"_setValueError",value:function(G){this.valueError={message:G},this.updateError()}},{key:"_clearValueError",value:function(){this.valueError&&(this.valueError=null,this.updateError())}},{key:"_setFieldError",value:function(G){this.fieldError={message:G},this.updateError()}},{key:"_clearFieldError",value:function(){this.fieldError&&(this.fieldError=null,this.updateError())}},{key:"_onChangeValue",value:function(){var G,Z=this.editor.getDomSelection(),ne=(Z.range&&(ne=(0,N.textDiff)(String(this.value),String(this.previousValue)),Z.range.startOffset=ne.start,Z.range.endOffset=ne.end),this.editor.getDomSelection());ne.range&&(G=(0,N.textDiff)(String(this.previousValue),String(this.value)),ne.range.startOffset=G.start,ne.range.endOffset=G.end),this.editor._onAction("editValue",{path:this.getInternalPath(),oldValue:this.previousValue,newValue:this.value,oldSelection:Z,newSelection:ne}),this.previousValue=this.value}},{key:"_onChangeField",value:function(){var G=this.editor.getDomSelection(),Z=this.previousField||"",ne=(G.range&&(ne=(0,N.textDiff)(this.field,Z),G.range.startOffset=ne.start,G.range.endOffset=ne.end),this.editor.getDomSelection());ne.range&&(Z=(0,N.textDiff)(Z,this.field),ne.range.startOffset=Z.start,ne.range.endOffset=Z.end),this.editor._onAction("editField",{parentPath:this.parent.getInternalPath(),index:this.getIndex(),oldValue:this.previousField,newValue:this.field,oldSelection:G,newSelection:ne}),this.previousField=this.field}},{key:"_updateDomValue",value:function(){var G=this.dom.value;if(G){var Z=["jsoneditor-value"],ne=this.value,_e="auto"===this.type?(0,N.getType)(ne):this.type,Ee="string"===_e&&(0,N.isUrl)(ne);if(Z.push("jsoneditor-"+_e),Ee&&Z.push("jsoneditor-url"),""===String(this.value)&&"array"!==this.type&&"object"!==this.type&&Z.push("jsoneditor-empty"),this.searchValueActive&&Z.push("jsoneditor-highlight-active"),this.searchValue&&Z.push("jsoneditor-highlight"),G.className=Z.join(" "),G.title="array"===_e||"object"===_e?this.type+" containing "+(Z=this.childs?this.childs.length:0)+" items":Ee&&this.editable.value?(0,ce.Iu)("openUrl"):"","boolean"===_e&&this.editable.value?(this.dom.checkbox||(this.dom.checkbox=document.createElement("input"),this.dom.checkbox.type="checkbox",this.dom.tdCheckbox=document.createElement("td"),this.dom.tdCheckbox.className="jsoneditor-tree",this.dom.tdCheckbox.appendChild(this.dom.checkbox),this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)),this.dom.checkbox.checked=this.value):this.dom.tdCheckbox&&(this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox),delete this.dom.tdCheckbox,delete this.dom.checkbox),this.enum&&this.editable.value?(this.dom.select||(this.dom.select=document.createElement("select"),this.id=this.field+"_"+(new Date).getUTCMilliseconds(),this.dom.select.id=this.id,this.dom.select.name=this.dom.select.id,(Z=document.createElement("option")).value="",Z.textContent="--",this.dom.select.appendChild(Z),this._updateEnumOptions(),this.dom.tdSelect=document.createElement("td"),this.dom.tdSelect.className="jsoneditor-tree",this.dom.tdSelect.appendChild(this.dom.select),this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)),this.dom.select.value=-1!==this.enum.indexOf(this.value)?this.value:"",!this.schema||w(this.schema,"oneOf")||w(this.schema,"anyOf")||w(this.schema,"allOf")?delete this.valueFieldHTML:(this.valueFieldHTML=this.dom.tdValue.innerHTML,this.dom.tdValue.style.visibility="hidden",this.dom.tdValue.textContent="")):this.dom.tdSelect&&(this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect),delete this.dom.tdSelect,delete this.dom.select,this.dom.tdValue.innerHTML=this.valueFieldHTML,this.dom.tdValue.style.visibility="",delete this.valueFieldHTML,this.dom.tdValue.appendChild(this.dom.value)),this.editor.options.colorPicker&&"string"==typeof ne&&(0,N.isValidColor)(ne)?(this.dom.color||(this.dom.color=document.createElement("div"),this.dom.color.className="jsoneditor-color",this.dom.tdColor=document.createElement("td"),this.dom.tdColor.className="jsoneditor-tree",this.dom.tdColor.appendChild(this.dom.color),this.dom.tdValue.parentNode.insertBefore(this.dom.tdColor,this.dom.tdValue)),(0,N.addClassName)(this.dom.value,"jsoneditor-color-value"),(this.editable.value?N.removeClassName:N.addClassName)(this.dom.color,"jsoneditor-color-readonly"),this.dom.color.style.backgroundColor=ne):this._deleteDomColor(),this._showTimestampTag()){if(this.dom.date||(this.dom.date=document.createElement("div"),this.dom.date.className="jsoneditor-date",this.dom.value.parentNode.appendChild(this.dom.date)),Ee=null,Ee="function"==typeof this.editor.options.timestampFormat?this.editor.options.timestampFormat({field:this.field,value:this.value,path:this.getPath()}):Ee){for(;this.dom.date.firstChild;)this.dom.date.removeChild(this.dom.date.firstChild);this.dom.date.appendChild(document.createTextNode(Ee))}else this.dom.date.textContent=new Date(ne).toISOString();this.dom.date.title=new Date(ne).toString()}else this.dom.date&&(this.dom.date.parentNode.removeChild(this.dom.date),delete this.dom.date);(0,N.stripFormatting)(G),this._updateDomDefault()}}},{key:"_updateEnumOptions",value:function(){if(this.enum&&this.dom.select){this.dom.select.innerHTML="";for(var G=0;G<this.enum.length;G++){var Z=document.createElement("option");Z.value=this.enum[G],Z.textContent=this.enum[G],this.dom.select.appendChild(Z)}}}},{key:"_deleteDomColor",value:function(){this.dom.color&&(this.dom.tdColor.parentNode.removeChild(this.dom.tdColor),delete this.dom.tdColor,delete this.dom.color,(0,N.removeClassName)(this.dom.value,"jsoneditor-color-value"))}},{key:"_updateDomField",value:function(){var G,Z=this.dom.field;Z&&((G=(0,N.makeFieldTooltip)(this.schema,this.editor.options.language))&&(Z.title=G),(""===String(this.field)&&this.parent&&"array"!==this.parent.type?N.addClassName:N.removeClassName)(Z,"jsoneditor-empty"),(this.searchFieldActive?N.addClassName:N.removeClassName)(Z,"jsoneditor-highlight-active"),(this.searchField?N.addClassName:N.removeClassName)(Z,"jsoneditor-highlight"),(0,N.stripFormatting)(Z))}},{key:"_getDomField",value:function(G){if(this._clearFieldError(),this.dom.field&&this.fieldEditable&&(this.fieldInnerText=(0,N.getInnerText)(this.dom.field),""===this.fieldInnerText)&&""!==this.dom.field.innerHTML&&(this.dom.field.textContent=""),void 0!==this.fieldInnerText)try{var Z=this._unescapeHTML(this.fieldInnerText),ne=this.parent.getFieldNames(this);-1!==ne.indexOf(Z)?G?(Z=(0,N.findUniqueName)(Z,ne))!==this.field&&(this.field=Z,this._debouncedOnChangeField()):this._setFieldError((0,ce.Iu)("duplicateFieldError")):Z!==this.field&&(this.field=Z,this._debouncedOnChangeField())}catch{this._setFieldError((0,ce.Iu)("cannotParseFieldError"))}}},{key:"_updateDomDefault",value:function(){var G;this.schema&&void 0!==this.schema.default&&!this._hasChilds()&&(G=this.dom.select||this.dom.value)&&(this.value===this.schema.default?(G.title=(0,ce.Iu)("default"),(0,N.addClassName)(G,"jsoneditor-is-default"),N.removeClassName):(G.removeAttribute("title"),(0,N.removeClassName)(G,"jsoneditor-is-default"),N.addClassName))(G,"jsoneditor-is-not-default")}},{key:"_showTimestampTag",value:function(){var G,Z;return"number"==typeof this.value&&("function"==typeof(G=this.editor.options.timestampTag)?"boolean"==typeof(Z=G({field:this.field,value:this.value,path:this.getPath()}))?Z:(0,N.isTimestamp)(this.field,this.value):!0===G&&(0,N.isTimestamp)(this.field,this.value))}},{key:"clearDom",value:function(){this.dom={}}},{key:"getDom",value:function(){var G,Z,ne=this.dom;return ne.tr||(this._updateEditability(),ne.tr=document.createElement("tr"),"tree"===(ne.tr.node=this).editor.options.mode&&(Z=document.createElement("td"),this.editable.field&&this.parent&&((G=document.createElement("button")).type="button",(ne.drag=G).className="jsoneditor-button jsoneditor-dragarea",G.title=(0,ce.Iu)("drag"),Z.appendChild(G)),ne.tr.appendChild(Z),G=document.createElement("td"),(Z=document.createElement("button")).type="button",(ne.menu=Z).className="jsoneditor-button jsoneditor-contextmenu-button",Z.title=(0,ce.Iu)("actionsMenu"),G.appendChild(ne.menu),ne.tr.appendChild(G)),Z=document.createElement("td"),ne.tr.appendChild(Z),ne.tree=this._createDomTree(),Z.appendChild(ne.tree),this.updateDom({updateIndexes:!0})),ne.tr}},{key:"isVisible",value:function(){return this.dom&&this.dom.tr&&this.dom.tr.parentNode||!1}},{key:"isDescendantOf",value:function(G){for(var Z=this.parent;Z;){if(Z===G)return!0;Z=Z.parent}return!1}},{key:"_createDomField",value:function(){return document.createElement("div")}},{key:"setHighlight",value:function(G){this.dom.tr&&((G?N.addClassName:N.removeClassName)(this.dom.tr,"jsoneditor-highlight"),this.append&&this.append.setHighlight(G),this.childs)&&this.childs.forEach(function(Z){Z.setHighlight(G)})}},{key:"setSelected",value:function(G,Z){this.selected=G,this.dom.tr&&((G?N.addClassName:N.removeClassName)(this.dom.tr,"jsoneditor-selected"),(Z?N.addClassName:N.removeClassName)(this.dom.tr,"jsoneditor-first"),this.append&&this.append.setSelected(G),this.showMore&&this.showMore.setSelected(G),this.childs)&&this.childs.forEach(function(ne){ne.setSelected(G)})}},{key:"updateValue",value:function(G){this.value=G,this.previousValue=G,this.valueError=void 0,this.updateDom()}},{key:"updateField",value:function(G){this.field=G,this.previousField=G,this.fieldError=void 0,this.updateDom()}},{key:"updateDom",value:function(G){var Z,ne;(ne=this.dom.tree)&&(ne.style.marginLeft=24*this.getLevel()+"px"),(ne=this.dom.field)&&(this.fieldEditable?(ne.contentEditable=this.editable.field,ne.spellcheck=!1,ne.className="jsoneditor-field"):(ne.contentEditable=!1,ne.className="jsoneditor-readonly"),Z=void 0!==this.index?this.index:void 0!==this.field?this.field:(Z=this.editor.options.schema?X._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):void 0)&&Z.title?Z.title:this._hasChilds()?this.type:"",Z=this._escapeHTML(Z),document.activeElement!==ne&&Z!==this._unescapeHTML((0,N.getInnerText)(ne))&&(ne.innerHTML=Z),this._updateSchema(),this._updateEnumOptions()),(ne=this.dom.value)&&("array"===this.type||"object"===this.type?this.updateNodeName():(Z=this._escapeHTML(this.value),document.activeElement!==ne&&Z!==this._unescapeHTML((0,N.getInnerText)(ne))&&(ne.innerHTML=Z))),(ne=this.dom.tr)&&("array"===this.type||"object"===this.type?((0,N.addClassName)(ne,"jsoneditor-expandable"),this.expanded?((0,N.addClassName)(ne,"jsoneditor-expanded"),(0,N.removeClassName)(ne,"jsoneditor-collapsed")):((0,N.addClassName)(ne,"jsoneditor-collapsed"),(0,N.removeClassName)(ne,"jsoneditor-expanded"))):((0,N.removeClassName)(ne,"jsoneditor-expandable"),(0,N.removeClassName)(ne,"jsoneditor-expanded"),(0,N.removeClassName)(ne,"jsoneditor-collapsed"))),this._updateDomField(),this._updateDomValue(),G&&!0===G.updateIndexes&&this._updateDomIndexes(),G&&!0===G.recurse&&this.childs&&this.childs.forEach(function(_e){_e.updateDom(G)}),this.error&&this.updateError(),this.append&&this.append.updateDom(),this.showMore&&this.showMore.updateDom(),this._updateCssClassName()}},{key:"_updateSchema",value:function(){this.editor&&this.editor.options&&(this.schema=this.editor.options.schema?X._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):null,this.schema?this.enum=X._findEnum(this.schema):delete this.enum)}},{key:"_updateDomIndexes",value:function(){var Z=this.childs;this.dom.value&&Z&&("array"===this.type?Z.forEach(function(ne,_e){ne.index=_e,(ne=ne.dom.field)&&(ne.textContent=_e)}):"object"===this.type&&Z.forEach(function(ne){void 0!==ne.index&&(delete ne.index,void 0===ne.field)&&(ne.field="")}))}},{key:"_createDomValue",value:function(){var G;return"array"===this.type?(G=document.createElement("div")).textContent="[...]":"object"===this.type?(G=document.createElement("div")).textContent="{...}":(!this.editable.value&&(0,N.isUrl)(this.value)?(G=document.createElement("a")).href=this.value:((G=document.createElement("div")).contentEditable=this.editable.value,G.spellcheck=!1),G.innerHTML=this._escapeHTML(this.value)),G}},{key:"_createDomExpandButton",value:function(){var G=document.createElement("button");return G.type="button",this._hasChilds()?(G.className=this.expanded?"jsoneditor-button jsoneditor-expanded":"jsoneditor-button jsoneditor-collapsed",G.title=(0,ce.Iu)("expandTitle")):(G.className="jsoneditor-button jsoneditor-invisible",G.title=""),G}},{key:"_createDomTree",value:function(){var G=this.dom,Z=document.createElement("table"),_e=document.createElement("tbody"),ne=(Z.style.borderCollapse="collapse",Z.className="jsoneditor-values",Z.appendChild(_e),document.createElement("tr"));return((((_e.appendChild(ne),_e=document.createElement("td")).className="jsoneditor-tree",ne.appendChild(_e),G.expand=this._createDomExpandButton(),_e.appendChild(G.expand),G.tdExpand=_e,_e=document.createElement("td")).className="jsoneditor-tree",ne.appendChild(_e),G.field=this._createDomField(),_e.appendChild(G.field),G.tdField=_e,_e=document.createElement("td")).className="jsoneditor-tree",ne.appendChild(_e),"object"!==this.type&&"array"!==this.type&&(_e.appendChild(document.createTextNode(":")),_e.className="jsoneditor-separator"),G.tdSeparator=_e,_e=document.createElement("td")).className="jsoneditor-tree",ne.appendChild(_e),G.value=this._createDomValue(),_e.appendChild(G.value),G.tdValue=_e,Z}},{key:"onEvent",value:function(G){var Z,ne=G.type,_e=G.target||G.srcElement,Ee=this.dom,Qe=this,ft=this._hasChilds(),yt=(_e!==Ee.drag&&_e!==Ee.menu||("mouseover"===ne?this.editor.highlighter.highlight(this):"mouseout"===ne&&this.editor.highlighter.unhighlight()),"click"===ne&&_e===Ee.menu&&((Z=Qe.editor.highlighter).highlight(Qe),Z.lock(),(0,N.addClassName)(Ee.menu,"jsoneditor-selected"),this.showContextMenu(Ee.menu,function(){(0,N.removeClassName)(Ee.menu,"jsoneditor-selected"),Z.unlock(),Z.unhighlight()})),"click"===ne&&_e===Ee.expand&&ft&&this._onExpand(Ut=G.ctrlKey),"click"!==ne||G.target!==Qe.dom.tdColor&&G.target!==Qe.dom.color||!this.editable.value||this._showColorPicker(),"change"===ne&&_e===Ee.checkbox&&(this.dom.value.textContent=String(!this.value),this._getDomValue(),this._updateDomDefault()),"change"===ne&&_e===Ee.select&&(this.dom.value.innerHTML=this._escapeHTML(Ee.select.value),this._getDomValue(),this._updateDomValue()),Ee.value);if(_e===yt)switch(ne){case"blur":case"change":this._getDomValue(),this._clearValueError(),this._updateDomValue();var Wt=this._escapeHTML(this.value);Wt!==this._unescapeHTML((0,N.getInnerText)(yt))&&(yt.innerHTML=Wt);break;case"input":case"keyup":this._getDomValue(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"click":G.ctrlKey&&this.editable.value&&(0,N.isUrl)(this.value)&&(G.preventDefault(),window.open(this.value,"_blank","noreferrer"));break;case"cut":case"paste":setTimeout(function(){Qe._getDomValue(),Qe._updateDomValue()},1)}var Vt=Ee.field;if(_e===Vt)switch(ne){case"blur":this._getDomField(!0),this._updateDomField();var qt=this._escapeHTML(this.field);qt!==this._unescapeHTML((0,N.getInnerText)(Vt))&&(Vt.innerHTML=qt);break;case"input":this._getDomField(),this._updateSchema(),this._updateDomField(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"keyup":this._getDomField(),this._updateDomField();break;case"cut":case"paste":setTimeout(function(){Qe._getDomField(),Qe._updateDomField()},1)}var Ut=Ee.tree;Ut&&_e===Ut.parentNode&&"click"===ne&&!G.hasMoved&&((void 0!==G.offsetX?G.offsetX<24*(this.getLevel()+1):G.pageX<(0,N.getAbsoluteLeft)(Ee.tdSeparator))||ft?Vt&&((0,N.setEndOfContentEditable)(Vt),Vt.focus()):yt&&!this.enum&&((0,N.setEndOfContentEditable)(yt),yt.focus())),(_e!==Ee.tdExpand||ft)&&_e!==Ee.tdField&&_e!==Ee.tdSeparator||"click"!==ne||G.hasMoved||Vt&&((0,N.setEndOfContentEditable)(Vt),Vt.focus()),"keydown"===ne&&this.onKeyDown(G),"function"==typeof this.editor.options.onEvent&&this._onEvent(G)}},{key:"_onEvent",value:function(G){var Z=(ne=G.target)===this.dom.field,ne=ne===this.dom.value||ne===this.dom.checkbox||ne===this.dom.select;(Z||ne)&&(Z={field:this.getField(),path:this.getPath()},ne&&!this._hasChilds()&&(Z.value=this.getValue()),this.editor.options.onEvent(Z,G))}},{key:"onKeyDown",value:function(G){var Z,ne,_e,Ee,Qe,ft,yt,Wt,Vt,qt,Ut,ji,ot,xt,vt=G.which||G.keyCode,At=G.target||G.srcElement,ni=G.ctrlKey,si=G.shiftKey,Ve=G.altKey,Be=!1,pt="tree"===this.editor.options.mode,$t=0<this.editor.multiselection.nodes.length?this.editor.multiselection.nodes:[this],ui=$t[0],$i=$t[$t.length-1];13===vt?At===this.dom.value?this.editable.value&&!G.ctrlKey||(0,N.isUrl)(this.value)&&(window.open(this.value,"_blank","noreferrer"),Be=!0):At===this.dom.expand&&this._hasChilds()&&(this._onExpand(ot=G.ctrlKey),At.focus(),Be=!0):68===vt?ni&&pt&&(X.onDuplicate($t),Be=!0):69===vt?ni&&(this._onExpand(si),At.focus(),Be=!0):77===vt&&pt?ni&&(this.showContextMenu(At),Be=!0):46===vt&&pt?ni&&(X.onRemove($t),Be=!0):45===vt&&pt?ni&&!si?(this._onInsertBefore(),Be=!0):ni&&si&&(this._onInsertAfter(),Be=!0):35===vt?Ve&&((ot=this._lastNode())&&ot.focus(X.focusElement||this._getElementName(At)),Be=!0):36===vt?Ve&&((ot=this._firstNode())&&ot.focus(X.focusElement||this._getElementName(At)),Be=!0):37===vt?Ve&&!si?((ot=this._previousElement(At))&&this.focus(this._getElementName(ot)),Be=!0):Ve&&si&&pt&&(ot=$i.expanded?(ot=$i.getAppendDom())?ot.nextSibling:void 0:$i.getDom().nextSibling)&&(Ut=X.getNodeFromTarget(ot),ji=X.getNodeFromTarget(ot=ot.nextSibling),Ut)&&Ut instanceof B&&1!==$i.parent.childs.length&&ji&&ji.parent&&(ne=this.editor.getDomSelection(),_e=(Ee=ui.parent).childs[$i.getIndex()+1]||Ee.append,Qe=ui.getIndex(),ft=ji.getIndex(),yt=Ee.getInternalPath(),Wt=ji.parent.getInternalPath(),$t.forEach(function(Te){ji.parent.moveBefore(Te,ji)}),this.focus(X.focusElement||this._getElementName(At)),this.editor._onAction("moveNodes",{count:$t.length,fieldNames:$t.map(E),oldParentPath:Ee.getInternalPath(),newParentPath:ui.parent.getInternalPath(),oldIndex:_e.getIndex(),newIndex:ui.getIndex(),oldIndexRedo:Qe,newIndexRedo:ft,oldParentPathRedo:yt,newParentPathRedo:Wt,oldSelection:ne,newSelection:this.editor.getDomSelection()})):38===vt?Ve&&!si?((Z=this._previousNode())&&(this.editor.deselect(!0),Z.focus(X.focusElement||this._getElementName(At))),Be=!0):!Ve&&ni&&si&&pt?((Z=this._previousNode())&&((qt=this.editor.multiselection).start=qt.start||this,qt.end=Z,Vt=this.editor._findTopLevelNodes(qt.start,qt.end),this.editor.select(Vt),Z.focus("field")),Be=!0):Ve&&si&&pt&&((Z=ui._previousNode())&&Z.parent&&(ne=this.editor.getDomSelection(),_e=(Ee=ui.parent).childs[$i.getIndex()+1]||Ee.append,Qe=ui.getIndex(),ft=Z.getIndex(),yt=Ee.getInternalPath(),Wt=Z.parent.getInternalPath(),$t.forEach(function(Te){Z.parent.moveBefore(Te,Z)}),this.focus(X.focusElement||this._getElementName(At)),this.editor._onAction("moveNodes",{count:$t.length,fieldNames:$t.map(E),oldParentPath:Ee.getInternalPath(),newParentPath:ui.parent.getInternalPath(),oldIndex:_e.getIndex(),newIndex:ui.getIndex(),oldIndexRedo:Qe,newIndexRedo:ft,oldParentPathRedo:yt,newParentPathRedo:Wt,oldSelection:ne,newSelection:this.editor.getDomSelection()})),Be=!0):39===vt?Ve&&!si?((ot=this._nextElement(At))&&this.focus(this._getElementName(ot)),Be=!0):Ve&&si&&pt&&(ot=ui.getDom().previousSibling)&&(Z=X.getNodeFromTarget(ot))&&Z.parent&&!Z.isVisible()&&(ne=this.editor.getDomSelection(),_e=(Ee=ui.parent).childs[$i.getIndex()+1]||Ee.append,Qe=ui.getIndex(),ft=Z.getIndex(),yt=Ee.getInternalPath(),Wt=Z.parent.getInternalPath(),$t.forEach(function(Te){Z.parent.moveBefore(Te,Z)}),this.focus(X.focusElement||this._getElementName(At)),this.editor._onAction("moveNodes",{count:$t.length,fieldNames:$t.map(E),oldParentPath:Ee.getInternalPath(),newParentPath:ui.parent.getInternalPath(),oldIndex:_e.getIndex(),newIndex:ui.getIndex(),oldIndexRedo:Qe,newIndexRedo:ft,oldParentPathRedo:yt,newParentPathRedo:Wt,oldSelection:ne,newSelection:this.editor.getDomSelection()})):40===vt&&(Ve&&!si?((Ut=this._nextNode())&&(this.editor.deselect(!0),Ut.focus(X.focusElement||this._getElementName(At))),Be=!0):!Ve&&ni&&si&&pt?((Ut=this._nextNode())&&((qt=this.editor.multiselection).start=qt.start||this,qt.end=Ut,Vt=this.editor._findTopLevelNodes(qt.start,qt.end),this.editor.select(Vt),Ut.focus("field")),Be=!0):Ve&&si&&pt&&((xt=(Ut=(Ut=(Ut=$i.expanded?$i.append?$i.append._nextNode():void 0:$i._nextNode())&&!Ut.isVisible()?Ut.parent.showMore:Ut)&&Ut instanceof B?$i:Ut)&&(Ut._nextNode()||Ut.parent.append))&&xt.parent&&(ne=this.editor.getDomSelection(),_e=(Ee=ui.parent).childs[$i.getIndex()+1]||Ee.append,Qe=ui.getIndex(),ft=xt.getIndex(),yt=Ee.getInternalPath(),Wt=xt.parent.getInternalPath(),$t.forEach(function(Te){xt.parent.moveBefore(Te,xt)}),this.focus(X.focusElement||this._getElementName(At)),this.editor._onAction("moveNodes",{count:$t.length,fieldNames:$t.map(E),oldParentPath:Ee.getInternalPath(),newParentPath:ui.parent.getInternalPath(),oldParentPathRedo:yt,newParentPathRedo:Wt,oldIndexRedo:Qe,newIndexRedo:ft,oldIndex:_e.getIndex(),newIndex:ui.getIndex(),oldSelection:ne,newSelection:this.editor.getDomSelection()})),Be=!0)),Be&&(G.preventDefault(),G.stopPropagation())}},{key:"_onExpand",value:function(G){var Z,ne,_e;G&&(_e=(ne=(Z=this.dom.tr.parentNode).parentNode).scrollTop,ne.removeChild(Z)),this.expanded?this.collapse(G):this.expand(G),G&&(ne.appendChild(Z),ne.scrollTop=_e),"function"==typeof this.editor.options.onExpand&&this.editor.options.onExpand({path:this.getPath(),isExpand:this.expanded,recursive:G})}},{key:"_showColorPicker",value:function(){var G,Z;"function"==typeof this.editor.options.onColorPicker&&this.dom.color&&((G=this)._deleteDomColor(),G.updateDom(),Z=(0,j.w)(this.dom.color,this.editor.getPopupAnchor()),this.editor.options.onColorPicker(Z,this.value,function(ne){"string"==typeof ne&&ne!==G.value&&(G._deleteDomColor(),G.value=ne,G.updateDom(),G._debouncedOnChangeValue())}))}},{key:"getFieldNames",value:function(G){return"object"===this.type?this.childs.filter(function(Z){return Z!==G}).map(function(Z){return Z.field}):[]}},{key:"_onInsertBefore",value:function(Ee,Qe,ft){var _e=this.editor.getDomSelection();(Ee=new X(this.editor,{field:void 0!==Ee?Ee:"",value:void 0!==Qe?Qe:"",type:ft})).expand(!0),Qe=this.getInternalPath(),this.parent.insertBefore(Ee,this),this.editor.highlighter.unhighlight(),Ee.focus("field"),ft=this.editor.getDomSelection(),this.editor._onAction("insertBeforeNodes",{nodes:[Ee],paths:[Ee.getInternalPath()],beforePath:Qe,parentPath:this.parent.getInternalPath(),oldSelection:_e,newSelection:ft})}},{key:"_onInsertAfter",value:function(Ee,Qe,ne){var _e=this.editor.getDomSelection();(Ee=new X(this.editor,{field:void 0!==Ee?Ee:"",value:void 0!==Qe?Qe:"",type:ne})).expand(!0),this.parent.insertAfter(Ee,this),this.editor.highlighter.unhighlight(),Ee.focus("field"),Qe=this.editor.getDomSelection(),this.editor._onAction("insertAfterNodes",{nodes:[Ee],paths:[Ee.getInternalPath()],afterPath:this.getInternalPath(),parentPath:this.parent.getInternalPath(),oldSelection:_e,newSelection:Qe})}},{key:"_onAppend",value:function(Ee,Qe,ne){var _e=this.editor.getDomSelection();(Ee=new X(this.editor,{field:void 0!==Ee?Ee:"",value:void 0!==Qe?Qe:"",type:ne})).expand(!0),this.parent.appendChild(Ee),this.editor.highlighter.unhighlight(),Ee.focus("field"),Qe=this.editor.getDomSelection(),this.editor._onAction("appendNodes",{nodes:[Ee],paths:[Ee.getInternalPath()],parentPath:this.parent.getInternalPath(),oldSelection:_e,newSelection:Qe})}},{key:"_onChangeType",value:function(G){var Z,ne,_e=this.type;G!==_e&&(Z=this.editor.getDomSelection(),this.changeType(G),ne=this.editor.getDomSelection(),this.editor._onAction("changeType",{path:this.getInternalPath(),oldType:_e,newType:G,oldSelection:Z,newSelection:ne}))}},{key:"sort",value:function(G,Z){var ne,_e,Ee=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];"string"==typeof G&&(G=(0,N.parsePath)(G)),this._hasChilds()&&(this.hideChilds(),ne=this.childs,this.childs=this.childs.concat(),_e="desc"===Z?-1:1,this.childs.sort("object"===this.type?function(Qe,ft){return _e*T()(Qe.field,ft.field)}:function(yt,Wt){return yt=yt.getNestedChild(G),Wt=Wt.getNestedChild(G),yt?Wt?(Wt=Wt.value,"string"!=typeof(yt=yt.value)&&"string"!=typeof Wt?Wt<yt?_e:yt<Wt?-_e:0:_e*T()(yt,Wt)):-_e:_e}),this._updateDomIndexes(),this.showChilds(),!0===Ee)&&this.editor._onAction("sort",{path:this.getInternalPath(),oldChilds:ne,newChilds:this.childs})}},{key:"update",value:function(G){var Z=this.getInternalValue();this.setValue(G),this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:Z,newValue:this.getInternalValue()})}},{key:"_detachFromDom",value:function(){var G=this.dom.tr?this.dom.tr.parentNode:void 0,Z=(Z=this.expanded?this.getAppendDom():this.getDom())&&Z.parentNode?Z.nextSibling:void 0;return this.hide({resetVisibleChilds:!1}),{table:G,nextTr:Z}}},{key:"_attachToDom",value:function(G){G.table&&(G.nextTr?G.table.insertBefore(this.getDom(),G.nextTr):G.table.appendChild(this.getDom())),this.expanded&&this.showChilds()}},{key:"transform",value:function(G){if(this._hasChilds()){this.hideChilds();try{var Z=this.getInternalValue(),ne=this.getValue(),_e=this.editor.options.executeQuery(ne,G),Ee=(this.setValue(_e),this.getInternalValue());this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:Z,newValue:Ee}),this.showChilds()}catch(Qe){this.showChilds(),this.editor._onError(Qe)}}}},{key:"extract",value:function(){this.editor.node.hideChilds(),this.hideChilds();try{var G=this.editor.node.getInternalValue(),Z=(this.editor._setRoot(this),this.editor.node.getInternalValue());this.editor._onAction("transform",{path:this.editor.node.getInternalPath(),oldValue:G,newValue:Z})}catch(ne){this.editor._onError(ne)}finally{this.updateDom({recurse:!0}),this.showChilds()}}},{key:"getNestedChild",value:function(G){for(var Z=0,ne=this;ne&&Z<G.length;)ne=ne.findChildByProperty(G[Z]),Z++;return ne}},{key:"findChildByProperty",value:function(G){if("object"===this.type)return this.childs.find(function(Z){return Z.field===G})}},{key:"getAppendDom",value:function(){return this.append||(this.append=new B(this.editor),this.append.setParent(this)),this.append.getDom()}},{key:"getShowMoreDom",value:function(){return this.showMore||(this.showMore=new U(this.editor,this)),this.showMore.getDom()}},{key:"nextSibling",value:function(){var G=this.parent.childs.indexOf(this);return this.parent.childs[G+1]||this.parent.append}},{key:"_previousNode",value:function(){var G=null,Z=this.getDom();if(Z&&Z.parentNode)for(var ne=Z;G=X.getNodeFromTarget(ne=ne.previousSibling),ne&&G&&G instanceof B&&!G.isVisible(););return G}},{key:"_nextNode",value:function(){var G=null,Z=this.getDom();if(Z&&Z.parentNode)for(var ne=Z;G=X.getNodeFromTarget(ne=ne.nextSibling),ne&&G&&G instanceof B&&!G.isVisible(););return G}},{key:"_firstNode",value:function(){var G=null,Z=this.getDom();return Z&&Z.parentNode&&(G=X.getNodeFromTarget(Z=Z.parentNode.firstChild)),G}},{key:"_lastNode",value:function(){var G=null,Z=this.getDom();if(Z&&Z.parentNode){var ne=Z.parentNode.lastChild;for(G=X.getNodeFromTarget(ne);ne&&G&&!G.isVisible();)G=X.getNodeFromTarget(ne=ne.previousSibling)}return G}},{key:"_previousElement",value:function(G){var Z=this.dom;switch(G){case Z.value:if(this.fieldEditable)return Z.field;case Z.field:if(this._hasChilds())return Z.expand;case Z.expand:return Z.menu;case Z.menu:if(Z.drag)return Z.drag;default:return null}}},{key:"_nextElement",value:function(G){var Z=this.dom;switch(G){case Z.drag:return Z.menu;case Z.menu:if(this._hasChilds())return Z.expand;case Z.expand:if(this.fieldEditable)return Z.field;case Z.field:if(!this._hasChilds())return Z.value;default:return null}}},{key:"_getElementName",value:function(G){var Z=this;return Object.keys(this.dom).find(function(ne){return Z.dom[ne]===G})}},{key:"_hasChilds",value:function(){return"array"===this.type||"object"===this.type}},{key:"addTemplates",value:function(G,Z){var ne=this,_e=ne.editor.options.templates;null!=_e&&(_e.length&&G.push({type:"separator"}),_e.forEach(function(Ee){G.push({text:Ee.text,className:Ee.className||"jsoneditor-type-object",title:Ee.title,click:(Z?function(Qe,ft){ne._onAppend(Qe,ft)}:function(Qe,ft){ne._onInsertBefore(Qe,ft)}).bind(this,Ee.field,Ee.value)})}))}},{key:"showContextMenu",value:function(G,Z){var ne,_e=this,Ee=[];this.editable.value&&Ee.push({text:(0,ce.Iu)("type"),title:(0,ce.Iu)("typeTitle"),className:"jsoneditor-type-"+this.type,submenu:[{text:(0,ce.Iu)("auto"),className:"jsoneditor-type-auto"+("auto"===this.type?" jsoneditor-selected":""),title:(0,ce.Iu)("autoType"),click:function(){_e._onChangeType("auto")}},{text:(0,ce.Iu)("array"),className:"jsoneditor-type-array"+("array"===this.type?" jsoneditor-selected":""),title:(0,ce.Iu)("arrayType"),click:function(){_e._onChangeType("array")}},{text:(0,ce.Iu)("object"),className:"jsoneditor-type-object"+("object"===this.type?" jsoneditor-selected":""),title:(0,ce.Iu)("objectType"),click:function(){_e._onChangeType("object")}},{text:(0,ce.Iu)("string"),className:"jsoneditor-type-string"+("string"===this.type?" jsoneditor-selected":""),title:(0,ce.Iu)("stringType"),click:function(){_e._onChangeType("string")}}]}),this._hasChilds()&&(this.editor.options.enableSort&&Ee.push({text:(0,ce.Iu)("sort"),title:(0,ce.Iu)("sortTitle",{type:this.type}),className:"jsoneditor-sort-asc",click:function(){_e.showSortModal()}}),this.editor.options.enableTransform&&Ee.push({text:(0,ce.Iu)("transform"),title:(0,ce.Iu)("transformTitle",{type:this.type}),className:"jsoneditor-transform",click:function(){_e.showTransformModal()}}),this.parent)&&Ee.push({text:(0,ce.Iu)("extract"),title:(0,ce.Iu)("extractTitle",{type:this.type}),className:"jsoneditor-extract",click:function(){_e.extract()}}),this.parent&&this.parent._hasChilds()&&(Ee.length&&Ee.push({type:"separator"}),_e===(ne=_e.parent.childs)[ne.length-1]&&(ne=[{text:(0,ce.Iu)("auto"),className:"jsoneditor-type-auto",title:(0,ce.Iu)("autoType"),click:function(){_e._onAppend("","","auto")}},{text:(0,ce.Iu)("array"),className:"jsoneditor-type-array",title:(0,ce.Iu)("arrayType"),click:function(){_e._onAppend("",[])}},{text:(0,ce.Iu)("object"),className:"jsoneditor-type-object",title:(0,ce.Iu)("objectType"),click:function(){_e._onAppend("",{})}},{text:(0,ce.Iu)("string"),className:"jsoneditor-type-string",title:(0,ce.Iu)("stringType"),click:function(){_e._onAppend("","","string")}}],_e.addTemplates(ne,!0),Ee.push({text:(0,ce.Iu)("appendText"),title:(0,ce.Iu)("appendTitle"),submenuTitle:(0,ce.Iu)("appendSubmenuTitle"),className:"jsoneditor-append",click:function(){_e._onAppend("","","auto")},submenu:ne})),ne=[{text:(0,ce.Iu)("auto"),className:"jsoneditor-type-auto",title:(0,ce.Iu)("autoType"),click:function(){_e._onInsertBefore("","","auto")}},{text:(0,ce.Iu)("array"),className:"jsoneditor-type-array",title:(0,ce.Iu)("arrayType"),click:function(){_e._onInsertBefore("",[])}},{text:(0,ce.Iu)("object"),className:"jsoneditor-type-object",title:(0,ce.Iu)("objectType"),click:function(){_e._onInsertBefore("",{})}},{text:(0,ce.Iu)("string"),className:"jsoneditor-type-string",title:(0,ce.Iu)("stringType"),click:function(){_e._onInsertBefore("","","string")}}],_e.addTemplates(ne,!1),Ee.push({text:(0,ce.Iu)("insert"),title:(0,ce.Iu)("insertTitle"),submenuTitle:(0,ce.Iu)("insertSub"),className:"jsoneditor-insert",click:function(){_e._onInsertBefore("","","auto")},submenu:ne}),this.editable.field)&&(Ee.push({text:(0,ce.Iu)("duplicateText"),title:(0,ce.Iu)("duplicateField"),className:"jsoneditor-duplicate",click:function(){X.onDuplicate(_e)}}),Ee.push({text:(0,ce.Iu)("removeText"),title:(0,ce.Iu)("removeField"),className:"jsoneditor-remove",click:function(){X.onRemove(_e)}})),this.editor.options.onCreateMenu&&(ne=_e.getPath(),Ee=this.editor.options.onCreateMenu(Ee,{type:"single",path:ne,paths:[ne]})),new z.x(Ee,{close:Z}).show(G,this.editor.getPopupAnchor())}},{key:"showSortModal",value:function(){var G=this,Z=this.editor.options.modalAnchor||b.qD,ne=this.getValue();(0,F.showSortModal)(Z,ne,function(_e){var Ee=(0,N.parsePath)(Ee=_e.path);G.sortedBy=_e,G.sort(Ee,_e.direction)},G.sortedBy)}},{key:"showTransformModal",value:function(){var G=this,Z=(Ee=this.editor.options).modalAnchor,ne=Ee.createQuery,_e=Ee.executeQuery,Ee=Ee.queryDescription,Qe=this.getValue();(0,v.showTransformModal)({container:Z||b.qD,json:Qe,queryDescription:Ee,createQuery:ne,executeQuery:_e,onTransform:function(ft){G.transform(ft)}})}},{key:"_getType",value:function(G){return G instanceof Array?"array":G instanceof Object?"object":"string"==typeof G&&"string"!=typeof(0,N.parseString)(G)?"string":"auto"}},{key:"_escapeHTML",value:function(G){return"string"!=typeof G?String(G):(G=String(G).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),G=(G=JSON.stringify(G)).substring(1,G.length-1),!0===this.editor.options.escapeUnicode?(0,N.escapeUnicodeChars)(G):G)}},{key:"_unescapeHTML",value:function(G){return G='"'+this._escapeJSON(G)+'"',(0,N.parse)(G).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")}},{key:"_escapeJSON",value:function(G){for(var Z="",ne=0;ne<G.length;){var _e=G.charAt(ne);"\n"===_e?Z+="\\n":"\\"===_e?(Z+=_e,ne++,""!==(_e=G.charAt(ne))&&-1!=='"\\/bfnrtu'.indexOf(_e)||(Z+="\\"),Z+=_e):Z+='"'===_e?'\\"':_e,ne++}return Z}},{key:"updateNodeName",value:function(){var G=this.childs?this.childs.length:0;if("object"===this.type||"array"===this.type){if(this.editor.options.onNodeName)try{var Z=this.getValue.bind(this),ne=this.editor.options.onNodeName({path:this.getPath(),size:G,type:this.type,get value(){return Z()}})}catch(_e){console.error("Error in onNodeName callback: ",_e)}this.dom.value.textContent="object"===this.type?"{"+(ne||G)+"}":"["+(ne||G)+"]"}}},{key:"recursivelyUpdateNodeName",value:function(){if(this.expanded&&(this.updateNodeName(),"undefined"!==this.childs))for(var G in this.childs)this.childs[G].recursivelyUpdateNodeName()}}])&&m(de.prototype,ge),Object.defineProperty(de,"prototype",{writable:!1}),X}(),S=(y.prototype.DEBOUNCE_INTERVAL=150,y.prototype.MAX_SEARCH_RESULTS=999,100);function V(X){return X.getInternalPath()}function E(X){return X.getField()}function w(X,de){return Object.prototype.hasOwnProperty.call(X,de)}y.focusElement=void 0,y.select=function(X){setTimeout(function(){(0,N.selectContentEditable)(X)},0)},y.onDragStart=function(X,de){if(!Array.isArray(X))return y.onDragStart([X],de);var ge,Ce,G,Z,ne;0!==X.length&&(Ce=X[X.length-1],G=(ge=X[0]).parent,ne=y.getNodeFromTarget(de.target),Z=ge.editor,ne=(0,N.getAbsoluteTop)(ne.dom.tr)-(0,N.getAbsoluteTop)(ge.dom.tr),Z.mousemove||(Z.mousemove=(0,N.addEventListener)(de.view,"mousemove",function(_e){y.onDrag(X,_e)})),Z.mouseup||(Z.mouseup=(0,N.addEventListener)(de.view,"mouseup",function(_e){y.onDragEnd(X,_e)})),Z.highlighter.lock(),Z.drag={oldCursor:document.body.style.cursor,oldSelection:Z.getDomSelection(),oldPaths:X.map(V),oldParent:G,oldNextNode:G.childs[Ce.getIndex()+1]||G.append,oldParentPathRedo:G.getInternalPath(),oldIndexRedo:ge.getIndex(),mouseX:de.pageX,offsetY:ne,level:ge.getLevel()},document.body.style.cursor="move",de.preventDefault())},y.onDrag=function(X,de){if(!Array.isArray(X))return y.onDrag([X],de);if(0!==X.length){var ge,Ce,G,Z,ne,_e=X[0].editor,Ee=de.pageY-_e.drag.offsetY,Qe=de.pageX,ft=!1,yt=X[0],Wt=yt.dom.tr,Vt=(0,N.getAbsoluteTop)(Wt),qt=Wt.offsetHeight;if(Ee<Vt){for(xt=Wt;vt=y.getNodeFromTarget(xt=xt.previousSibling),G=xt?(0,N.getAbsoluteTop)(xt):0,xt&&Ee<G;);(vt=vt&&!vt.parent?void 0:vt)||(xt=(Wt=Wt.parentNode.firstChild)?Wt.nextSibling:void 0,(vt=y.getNodeFromTarget(xt))===yt&&(vt=void 0)),!(vt=vt&&vt.isVisible()&&(G=(xt=vt.dom.tr)?(0,N.getAbsoluteTop)(xt):0)+qt<Ee?void 0:vt)||!1!==_e.options.limitDragging&&vt.parent!==X[0].parent||(X.forEach(function(ni){vt.parent.moveBefore(ni,vt)}),ft=!0)}else{var Ut=X[X.length-1];if(qt=(Wt=Ut.expanded&&Ut.append?Ut.append.getDom():Ut.dom.tr)?Wt.nextSibling:void 0){for(Z=(0,N.getAbsoluteTop)(qt),ge=qt;Ce=y.getNodeFromTarget(ge),ge&&(ne=ge.nextSibling?(0,N.getAbsoluteTop)(ge.nextSibling):0,ne=ge?ne-Z:0,Ce&&Ce.parent.childs.length===X.length&&Ce.parent.childs[X.length-1]===Ut&&(Vt+=27),ge=ge.nextSibling),ge&&Vt+ne<Ee;);if(Ce&&Ce.parent){qt=Qe-_e.drag.mouseX,qt=Math.round(qt/24/2);for(var ji=_e.drag.level+qt,ot=Ce.getLevel(),xt=Ce.dom.tr&&Ce.dom.tr.previousSibling;ot<ji&&xt;){var vt=y.getNodeFromTarget(xt),At=X.some(function(si){return si===vt||vt.isDescendantOf(si)});if(!At){if(!(vt instanceof B)||(At=vt.parent.childs).length===X.length&&At[X.length-1]===Ut)break;ot=(Ce=y.getNodeFromTarget(xt)).getLevel()}xt=xt.previousSibling}(Ce=Ce instanceof B&&!Ce.isVisible()&&Ce.parent.showMore.isVisible()?Ce._nextNode():Ce)&&(!1===_e.options.limitDragging||Ce.parent===X[0].parent)&&Ce.dom.tr&&Ce.dom.tr!==Wt.nextSibling&&(X.forEach(function(ni){Ce.parent.moveBefore(ni,Ce)}),ft=!0)}}}ft&&(_e.drag.mouseX=Qe,_e.drag.level=yt.getLevel()),_e.startAutoScroll(Ee),de.preventDefault()}},y.onDragEnd=function(X,de){if(!Array.isArray(X))return y.onDrag([X],de);var ge,Ce,G,Z,ne,_e,Ee,Qe,ft;0!==X.length&&(ge=(_e=X[0]).editor,_e&&_e.dom.menu&&_e.dom.menu.focus(),Ce=ge.drag.oldParent.getInternalPath(),G=_e.parent.getInternalPath(),Z=ge.drag.oldParent===_e.parent,ne=ge.drag.oldNextNode.getIndex(),_e=_e.getIndex(),Ee=ge.drag.oldParentPathRedo,Qe=ge.drag.oldIndexRedo,ft=Z&&Qe<_e?_e+X.length:_e,Z&&Qe===_e||ge._onAction("moveNodes",{count:X.length,fieldNames:X.map(E),oldParentPath:Ce,newParentPath:G,oldIndex:ne,newIndex:_e,oldIndexRedo:Qe,newIndexRedo:ft,oldParentPathRedo:Ee,newParentPathRedo:null,oldSelection:ge.drag.oldSelection,newSelection:ge.getDomSelection()}),document.body.style.cursor=ge.drag.oldCursor,ge.highlighter.unlock(),X.forEach(function(yt){yt.updateDom(),de.target!==yt.dom.drag&&de.target!==yt.dom.menu&&ge.highlighter.unhighlight()}),delete ge.drag,ge.mousemove&&((0,N.removeEventListener)(de.view,"mousemove",ge.mousemove),delete ge.mousemove),ge.mouseup&&((0,N.removeEventListener)(de.view,"mouseup",ge.mouseup),delete ge.mouseup),ge.stopAutoScroll(),de.preventDefault())},y._findEnum=function(X){return X.enum?X.enum:(X=X.oneOf||X.anyOf||X.allOf)&&0<(X=X.filter(function(de){return de.enum})).length?X[0].enum:null},y._findSchema=function(X,de,ge){for(var Ce=3<arguments.length&&void 0!==arguments[3]?arguments[3]:X,G=ge.slice(1,ge.length),Z=ge[0],ne=[Ce],_e=0,Ee=[Ce.oneOf,Ce.anyOf,Ce.allOf];_e<Ee.length;_e++){var Qe=Ee[_e];Array.isArray(Qe)&&(ne=ne.concat(Qe))}var ft,yt=h(ne);try{for(yt.s();!(ft=yt.n()).done;){if("$ref"in(Ce=ft.value)&&"string"==typeof Ce.$ref){var Wt,Vt=Ce.$ref;if(Vt in de)Ce=de[Vt];else{if(!Vt.startsWith("#/")){if(1===(null==(Wt=Vt.match(/#\//g))?void 0:Wt.length)){var qt,Ut,ji,ot=u(Vt.split("#/"),2),xt=ot[0];if(xt in de)return qt=de[xt],Ut={$ref:"#/".concat(ot[1])},(ji=[]).push(Z),0<G.length&&ji.push.apply(ji,p(G)),y._findSchema(qt,de,ji,Ut)}throw Error("Unable to resolve reference ".concat(Vt))}var At,ni=Vt.substring(2).split("/"),si=(Ce=X,h(ni));try{for(si.s();!(At=si.n()).done;){var Ve=At.value;if(!(Ve in Ce))throw Error("Unable to resolve reference ".concat(Vt));Ce=Ce[Ve]}}catch($t){si.e($t)}finally{si.f()}}}if(void 0===Z)return Ce;if("string"==typeof Z){if("object"===k(Ce.properties)&&null!==Ce.properties&&Z in Ce.properties)return y._findSchema(X,de,G,Ce=Ce.properties[Z]);if("object"===k(Ce.patternProperties)&&null!==Ce.patternProperties)for(var Be in Ce.patternProperties)if(Z.match(Be))return y._findSchema(X,de,G,Ce=Ce.patternProperties[Be]);if("object"===k(Ce.additionalProperties))return y._findSchema(X,de,G,Ce=Ce.additionalProperties)}else if("number"==typeof Z&&"object"===k(Ce.items)&&null!==Ce.items)return y._findSchema(X,de,G,Ce=Ce.items)}}catch(pt){yt.e(pt)}finally{yt.f()}return null},y.onRemove=function(X){if(!Array.isArray(X))return y.onRemove([X]);var de,ge,Ce,G,Z,ne;X&&0<X.length&&(de=(Ce=X[0]).parent,ge=Ce.editor,Ce=Ce.getIndex(),ge.highlighter.unhighlight(),G=ge.getDomSelection(),y.blurNodes(X),Z=ge.getDomSelection(),ne=X.map(V),X.forEach(function(_e){_e.parent._remove(_e)}),ge._onAction("removeNodes",{nodes:X,paths:ne,parentPath:de.getInternalPath(),index:Ce,oldSelection:G,newSelection:Z}))},y.onDuplicate=function(X){if(!Array.isArray(X))return y.onDuplicate([X]);var de,ge,Ce,G,Z,ne,_e;X&&0<X.length&&(ge=(de=X[X.length-1]).parent,(Ce=de.editor).deselect(Ce.multiselection.nodes),G=Ce.getDomSelection(),Z=de,ne=X.map(function(Ee){var Qe,ft=Ee.clone();return"object"===Ee.parent.type&&(Qe=Ee.parent.getFieldNames(),ft.field=(0,N.findUniqueName)(Ee.field,Qe)),ge.insertAfter(ft,Z),Z=ft}),1===X.length?"object"===ne[0].parent.type?(ne[0].dom.field.innerHTML=X[0]._escapeHTML(X[0].field),ne[0].focus("field")):ne[0].focus():Ce.select(ne),_e=Ce.getDomSelection(),Ce._onAction("duplicateNodes",{paths:X.map(V),clonePaths:ne.map(V),afterPath:de.getInternalPath(),parentPath:ge.getInternalPath(),oldSelection:G,newSelection:_e}))},y.getNodeFromTarget=function(X){for(;X;){if(X.node)return X.node;X=X.parentNode}},y.targetIsColorPicker=function(X){var de=y.getNodeFromTarget(X);if(de)for(var ge=X&&X.parentNode;ge;){if(ge===de.dom.color)return!0;ge=ge.parentNode}return!1},y.blurNodes=function(X){var de,ge;Array.isArray(X)?(de=(ge=X[0]).parent,ge=ge.getIndex(),(de.childs[ge+X.length]?de.childs[ge+X.length]:de.childs[ge-1]||de).focus()):y.blurNodes([X])},(K.prototype=new y).getDom=function(){var X=this.dom;if(X.tr)return X.tr;this._updateEditability();var de=document.createElement("tr"),ge=(de.className="jsoneditor-append",de.node=this,X.tr=de,"tree"===this.editor.options.mode&&(X.tdDrag=document.createElement("td"),Ce=document.createElement("td"),X.tdMenu=Ce,(ge=document.createElement("button")).type="button",ge.className="jsoneditor-button jsoneditor-contextmenu-button",ge.title="Click to open the actions menu (Ctrl+M)",X.menu=ge,Ce.appendChild(X.menu)),document.createElement("td")),Ce=document.createElement("div");return Ce.appendChild(document.createTextNode("("+(0,ce.Iu)("empty")+")")),Ce.className="jsoneditor-readonly",ge.appendChild(Ce),X.td=ge,X.text=Ce,this.updateDom(),de},K.prototype.getPath=function(){return null},K.prototype.getIndex=function(){return null},K.prototype.updateDom=function(X){var de=this.dom,ge=de.td,Ce=(ge&&(ge.style.paddingLeft=24*this.getLevel()+26+"px"),(Ce=de.text)&&(Ce.firstChild.nodeValue="("+(0,ce.Iu)("empty")+" "+this.parent.type+")"),de.tr);this.isVisible()?de.tr.firstChild||(de.tdDrag&&Ce.appendChild(de.tdDrag),de.tdMenu&&Ce.appendChild(de.tdMenu),Ce.appendChild(ge)):de.tr.firstChild&&(de.tdDrag&&Ce.removeChild(de.tdDrag),de.tdMenu&&Ce.removeChild(de.tdMenu),Ce.removeChild(ge))},K.prototype.isVisible=function(){return 0===this.parent.childs.length},K.prototype.showContextMenu=function(X,de){var ge,Ce=this,G=[{text:(0,ce.Iu)("auto"),className:"jsoneditor-type-auto",title:(0,ce.Iu)("autoType"),click:function(){Ce._onAppend("","","auto")}},{text:(0,ce.Iu)("array"),className:"jsoneditor-type-array",title:(0,ce.Iu)("arrayType"),click:function(){Ce._onAppend("",[])}},{text:(0,ce.Iu)("object"),className:"jsoneditor-type-object",title:(0,ce.Iu)("objectType"),click:function(){Ce._onAppend("",{})}},{text:(0,ce.Iu)("string"),className:"jsoneditor-type-string",title:(0,ce.Iu)("stringType"),click:function(){Ce._onAppend("","","string")}}];Ce.addTemplates(G,!0),G=[{text:(0,ce.Iu)("appendText"),title:(0,ce.Iu)("appendTitleAuto"),submenuTitle:(0,ce.Iu)("appendSubmenuTitle"),className:"jsoneditor-insert",click:function(){Ce._onAppend("","","auto")},submenu:G}],this.editor.options.onCreateMenu&&(ge=Ce.parent.getPath(),G=this.editor.options.onCreateMenu(G,{type:"append",path:ge,paths:[ge]})),new z.x(G,{close:de}).show(X,this.editor.getPopupAnchor())},K.prototype.onEvent=function(X){var de,ge=X.type,Ce=X.target||X.srcElement,G=this.dom;Ce===G.menu&&("mouseover"===ge?this.editor.highlighter.highlight(this.parent):"mouseout"===ge&&this.editor.highlighter.unhighlight()),"click"===ge&&Ce===G.menu&&((de=this.editor.highlighter).highlight(this.parent),de.lock(),(0,N.addClassName)(G.menu,"jsoneditor-selected"),this.showContextMenu(G.menu,function(){(0,N.removeClassName)(G.menu,"jsoneditor-selected"),de.unlock(),de.unhighlight()})),"keydown"===ge&&this.onKeyDown(X)};var B=K;function K(X){this.editor=X,this.dom={}}(W.prototype=new y).getDom=function(){var X,de,ge,Ce,G,Z;return this.dom.tr||(this._updateEditability(),this.dom.tr||(de=(X=this).parent,(G=document.createElement("a")).appendChild(document.createTextNode((0,ce.Iu)("showMore"))),G.href="#",G.onclick=function(ne){return de.visibleChilds=Math.floor(de.visibleChilds/de.getMaxVisibleChilds()+1)*de.getMaxVisibleChilds(),X.updateDom(),de.showChilds(),ne.preventDefault(),!1},(Z=document.createElement("a")).appendChild(document.createTextNode((0,ce.Iu)("showAll"))),Z.href="#",Z.onclick=function(ne){return de.visibleChilds=1/0,X.updateDom(),de.showChilds(),ne.preventDefault(),!1},ge=document.createElement("div"),Ce=document.createTextNode(this._getShowMoreText()),ge.className="jsoneditor-show-more",ge.appendChild(Ce),ge.appendChild(G),ge.appendChild(document.createTextNode(". ")),ge.appendChild(Z),ge.appendChild(document.createTextNode(". ")),(G=document.createElement("td")).appendChild(ge),Z=document.createElement("tr"),"tree"===this.editor.options.mode&&(Z.appendChild(document.createElement("td")),Z.appendChild(document.createElement("td"))),Z.appendChild(G),Z.className="jsoneditor-show-more",this.dom.tr=Z,this.dom.moreContents=ge,this.dom.moreText=Ce),this.updateDom()),this.dom.tr},W.prototype.updateDom=function(X){var de;this.isVisible()?(this.dom.tr.node=this.parent.childs[this.parent.visibleChilds],this.dom.tr.parentNode||(de=this.parent._getNextTr())&&de.parentNode.insertBefore(this.dom.tr,de),this.dom.moreText.nodeValue=this._getShowMoreText(),this.dom.moreContents.style.marginLeft=24*(this.getLevel()+1)+"px"):this.dom.tr&&this.dom.tr.parentNode&&this.dom.tr.parentNode.removeChild(this.dom.tr)},W.prototype._getShowMoreText=function(){return(0,ce.Iu)("showMoreStatus",{visibleChilds:this.parent.visibleChilds,totalChilds:this.parent.childs.length})+" "},W.prototype.isVisible=function(){return this.parent.expanded&&this.parent.childs.length>this.parent.visibleChilds},W.prototype.onEvent=function(X){"keydown"===X.type&&this.onKeyDown(X)};var U=W;function W(X,de){this.editor=X,this.parent=de,this.dom={}}function re(X){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(X)}function H(X,de){for(var ge=0;ge<de.length;ge++){var Ce=de[ge];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(X,(G=function(Z,ne){if("object"!==re(Z)||null===Z)return Z;var _e=Z[Symbol.toPrimitive];if(void 0===_e)return String(Z);if("object"!==re(_e=_e.call(Z,"string")))return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}(G=Ce.key),"symbol"===re(G)?G:String(G)),Ce)}var G}var L=function(){function X(G){if(!(this instanceof X))throw new TypeError("Cannot call a class as a function");function Z(ne){return G.node.findNodeByInternalPath(ne)}this.editor=G,this.history=[],this.index=-1,this.clear(),this.actions={editField:{undo:function(ne){Z(ne.parentPath).childs[ne.index].updateField(ne.oldValue)},redo:function(ne){Z(ne.parentPath).childs[ne.index].updateField(ne.newValue)}},editValue:{undo:function(ne){Z(ne.path).updateValue(ne.oldValue)},redo:function(ne){Z(ne.path).updateValue(ne.newValue)}},changeType:{undo:function(ne){Z(ne.path).changeType(ne.oldType)},redo:function(ne){Z(ne.path).changeType(ne.newType)}},appendNodes:{undo:function(ne){var _e=Z(ne.parentPath);ne.paths.map(Z).forEach(function(Ee){_e.removeChild(Ee)})},redo:function(ne){var _e=Z(ne.parentPath);ne.nodes.forEach(function(Ee){_e.appendChild(Ee)})}},insertBeforeNodes:{undo:function(ne){var _e=Z(ne.parentPath);ne.paths.map(Z).forEach(function(Ee){_e.removeChild(Ee)})},redo:function(ne){var _e=Z(ne.parentPath),Ee=Z(ne.beforePath);ne.nodes.forEach(function(Qe){_e.insertBefore(Qe,Ee)})}},insertAfterNodes:{undo:function(ne){var _e=Z(ne.parentPath);ne.paths.map(Z).forEach(function(Ee){_e.removeChild(Ee)})},redo:function(ne){var _e=Z(ne.parentPath),Ee=Z(ne.afterPath);ne.nodes.forEach(function(Qe){_e.insertAfter(Qe,Ee),Ee=Qe})}},removeNodes:{undo:function(ne){var _e=Z(ne.parentPath),Ee=_e.childs[ne.index]||_e.append;ne.nodes.forEach(function(Qe){_e.insertBefore(Qe,Ee)})},redo:function(ne){var _e=Z(ne.parentPath);ne.paths.map(Z).forEach(function(Ee){_e.removeChild(Ee)})}},duplicateNodes:{undo:function(ne){var _e=Z(ne.parentPath);ne.clonePaths.map(Z).forEach(function(Ee){_e.removeChild(Ee)})},redo:function(ne){var _e=Z(ne.parentPath),Ee=Z(ne.afterPath);ne.paths.map(Z).forEach(function(Qe){var ft,yt=Qe.clone();"object"===_e.type&&(ft=_e.getFieldNames(),yt.field=(0,N.findUniqueName)(Qe.field,ft)),_e.insertAfter(yt,Ee),Ee=yt})}},moveNodes:{undo:function(ne){var _e=Z(ne.oldParentPath),Ee=Z(ne.newParentPath),Qe=_e.childs[ne.oldIndex]||_e.append;Ee.childs.slice(ne.newIndex,ne.newIndex+ne.count).forEach(function(ft,yt){ft.field=ne.fieldNames[yt],_e.moveBefore(ft,Qe)}),null===ne.newParentPathRedo&&(ne.newParentPathRedo=Ee.getInternalPath())},redo:function(ne){var _e=Z(ne.oldParentPathRedo),Ee=Z(ne.newParentPathRedo),Qe=Ee.childs[ne.newIndexRedo]||Ee.append;_e.childs.slice(ne.oldIndexRedo,ne.oldIndexRedo+ne.count).forEach(function(ft,yt){ft.field=ne.fieldNames[yt],Ee.moveBefore(ft,Qe)})}},sort:{undo:function(ne){var _e=Z(ne.path);_e.hideChilds(),_e.childs=ne.oldChilds,_e.updateDom({updateIndexes:!0}),_e.showChilds()},redo:function(ne){var _e=Z(ne.path);_e.hideChilds(),_e.childs=ne.newChilds,_e.updateDom({updateIndexes:!0}),_e.showChilds()}},transform:{undo:function(ne){Z(ne.path).setInternalValue(ne.oldValue)},redo:function(ne){Z(ne.path).setInternalValue(ne.newValue)}}}}var de,ge;return de=X,(ge=[{key:"onChange",value:function(){}},{key:"add",value:function(G,Z){this.index++,this.history[this.index]={action:G,params:Z,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()}},{key:"clear",value:function(){this.history=[],this.index=-1,this.onChange()}},{key:"canUndo",value:function(){return 0<=this.index}},{key:"canRedo",value:function(){return this.index<this.history.length-1}},{key:"undo",value:function(){if(this.canUndo()){var G=this.history[this.index];if(G){var Z=this.actions[G.action];if(Z&&Z.undo){if(Z.undo(G.params),G.params.oldSelection)try{this.editor.setDomSelection(G.params.oldSelection)}catch(ne){console.error(ne)}}else console.error(new Error('unknown action "'+G.action+'"'))}this.index--,this.onChange()}}},{key:"redo",value:function(){if(this.canRedo()){this.index++;var G=this.history[this.index];if(G){var Z=this.actions[G.action];if(Z&&Z.redo){if(Z.redo(G.params),G.params.newSelection)try{this.editor.setDomSelection(G.params.newSelection)}catch(ne){console.error(ne)}}else console.error(new Error('unknown action "'+G.action+'"'))}this.onChange()}}},{key:"destroy",value:function(){this.editor=null,this.history=[],this.index=-1}}])&&H(de.prototype,ge),Object.defineProperty(de,"prototype",{writable:!1}),X}();function R(X){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(X)}function Q(X,de){for(var ge=0;ge<de.length;ge++){var Ce=de[ge];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(X,(G=function(Z,ne){if("object"!==R(Z)||null===Z)return Z;var _e=Z[Symbol.toPrimitive];if(void 0===_e)return String(Z);if("object"!==R(_e=_e.call(Z,"string")))return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}(G=Ce.key),"symbol"===R(G)?G:String(G)),Ce)}var G}var ae=function(){function X(Qe,_e){if(!(this instanceof X))throw new TypeError("Cannot call a class as a function");var ne=this,Ee=(this.editor=Qe,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.results=null,this.dom={},this.dom.container=_e,Qe=document.createElement("div"),(this.dom.wrapper=Qe).className="jsoneditor-search",_e.appendChild(Qe),_e=document.createElement("div"),(this.dom.results=_e).className="jsoneditor-results",Qe.appendChild(_e),_e=document.createElement("div"),((this.dom.input=_e).className="jsoneditor-frame",_e.title=(0,ce.Iu)("searchTitle"),Qe.appendChild(_e),Qe=document.createElement("button")).type="button",Qe.className="jsoneditor-refresh",_e.appendChild(Qe),document.createElement("input"));((Ee.type="text",(this.dom.search=Ee).oninput=function(ft){ne._onDelayedSearch(ft)},Ee.onchange=function(ft){ne._onSearch()},Ee.onkeydown=function(ft){ne._onKeyDown(ft)},Ee.onkeyup=function(ft){ne._onKeyUp(ft)},Qe.onclick=function(ft){Ee.select()},_e.appendChild(Ee),Qe=document.createElement("button")).type="button",Qe.title=(0,ce.Iu)("searchNextResultTitle"),Qe.className="jsoneditor-next",Qe.onclick=function(){ne.next()},_e.appendChild(Qe),Qe=document.createElement("button")).type="button",Qe.title=(0,ce.Iu)("searchPreviousResultTitle"),Qe.className="jsoneditor-previous",Qe.onclick=function(){ne.previous()},_e.appendChild(Qe)}var de,ge;return de=X,(ge=[{key:"next",value:function(G){var Z;this.results&&((Z=null!==this.resultIndex?this.resultIndex+1:0)>this.results.length-1&&(Z=0),this._setActiveResult(Z,G))}},{key:"previous",value:function(G){var Z,ne;this.results&&(Z=this.results.length-1,this._setActiveResult(ne=(ne=null!==this.resultIndex?this.resultIndex-1:Z)<0?Z:ne,G))}},{key:"_setActiveResult",value:function(G,Z){var ne,_e,Ee;this.activeResult&&(ne=this.activeResult.node,"field"===this.activeResult.elem?delete ne.searchFieldActive:delete ne.searchValueActive,ne.updateDom()),this.results&&this.results[G]?(this.resultIndex=G,_e=this.results[this.resultIndex].node,"field"===(Ee=this.results[this.resultIndex].elem)?_e.searchFieldActive=!0:_e.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],_e.updateDom(),_e.scrollTo(function(){Z&&_e.focus(Ee)})):(this.resultIndex=void 0,this.activeResult=void 0)}},{key:"_clearDelay",value:function(){void 0!==this.timeout&&(clearTimeout(this.timeout),delete this.timeout)}},{key:"_onDelayedSearch",value:function(G){this._clearDelay();var Z=this;this.timeout=setTimeout(function(ne){Z._onSearch()},this.delay)}},{key:"_onSearch",value:function(G){var Z;if(this._clearDelay(),(Z=0<(Z=this.dom.search.value).length?Z:void 0)!==this.lastText||G){this.lastText=Z,this.results=this.editor.search(Z),G=this.results[0]?this.results[0].node.MAX_SEARCH_RESULTS:1/0;var ne=0;if(this.activeResult)for(var _e=0;_e<this.results.length;_e++)if(this.results[_e].node===this.activeResult.node){ne=_e;break}this._setActiveResult(ne,!1),this.dom.results.textContent=void 0!==Z?0===(Z=this.results.length)?"no\xa0results":1===Z?"1\xa0result":G<Z?G+"+\xa0results":Z+"\xa0results":""}}},{key:"_onKeyDown",value:function(G){var Z=G.which;27===Z?(this.dom.search.value="",this._onSearch(),G.preventDefault(),G.stopPropagation()):13===Z&&(G.ctrlKey?this._onSearch(!0):G.shiftKey?this.previous():this.next(),G.preventDefault(),G.stopPropagation())}},{key:"_onKeyUp",value:function(G){var Z=G.keyCode;27!==Z&&13!==Z&&this._onDelayedSearch(G)}},{key:"clear",value:function(){this.dom.search.value="",this._onSearch()}},{key:"forceSearch",value:function(){this._onSearch(!0)}},{key:"isEmpty",value:function(){return""===this.dom.search.value}},{key:"destroy",value:function(){this.editor=null,this.dom.container.removeChild(this.dom.wrapper),this.dom=null,this.results=null,this.activeResult=null,this._clearDelay()}}])&&Q(de.prototype,ge),Object.defineProperty(de,"prototype",{writable:!1}),X}();function ve(X){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(X)}function xe(X,de){for(var ge=0;ge<de.length;ge++){var Ce=de[ge];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(X,(G=function(Z,ne){if("object"!==ve(Z)||null===Z)return Z;var _e=Z[Symbol.toPrimitive];if(void 0===_e)return String(Z);if("object"!==ve(_e=_e.call(Z,"string")))return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}(G=Ce.key),"symbol"===ve(G)?G:String(G)),Ce)}var G}var Se=function(){function X(G,Z){if(!(this instanceof X))throw new TypeError("Cannot call a class as a function");G&&(this.root=Z,this.path=document.createElement("div"),this.path.className="jsoneditor-treepath",this.path.setAttribute("tabindex",0),this.contentMenuClicked=!1,G.appendChild(this.path),this.reset())}var de,ge;return de=X,(ge=[{key:"reset",value:function(){this.path.textContent=(0,ce.Iu)("selectNode")}},{key:"setPath",value:function(G){var Z=this;this.path.textContent="",G&&G.length&&G.forEach(function(ne,_e){var Ee,Qe=document.createElement("span");Qe.className="jsoneditor-treepath-element",Qe.innerText=ne.name,Qe.onclick=function(ft){this.selectionCallback&&this.selectionCallback(ft)}.bind(Z,ne),Z.path.appendChild(Qe),ne.children.length&&((Ee=document.createElement("span")).className="jsoneditor-treepath-seperator",Ee.textContent="\u25ba",Ee.onclick=function(){Z.contentMenuClicked=!0;var ft=[];ne.children.forEach(function(yt){ft.push({text:yt.name,className:"jsoneditor-type-modes"+(G[_e+1]+1&&G[_e+1].name===yt.name?" jsoneditor-selected":""),click:function(Wt,Vt){this.contextMenuCallback&&this.contextMenuCallback(Wt,Vt)}.bind(Z,ne,yt.name)})}),new z.x(ft,{limitHeight:!0}).show(Ee,Z.root,!0)},Z.path.appendChild(Ee)),_e===G.length-1&&(Qe=(Ee||Qe).getBoundingClientRect().right,Z.path.offsetWidth<Qe&&(Z.path.scrollLeft=Qe),Z.path.scrollLeft)&&((Qe=document.createElement("span")).className="jsoneditor-treepath-show-all-btn",Qe.title="show all path",Qe.textContent="...",Qe.onclick=function(ft){(Z.contentMenuClicked=!1,N.addClassName)(Z.path,"show-all"),Z.path.style.width=Z.path.parentNode.getBoundingClientRect().width-10+"px",Z.path.onblur=function(){Z.contentMenuClicked?(Z.contentMenuClicked=!1,Z.path.focus()):((0,N.removeClassName)(Z.path,"show-all"),Z.path.onblur=void 0,Z.path.style.width="",Z.setPath(ft))}}.bind(Z,G),Z.path.insertBefore(Qe,Z.path.firstChild))})}},{key:"onSectionSelected",value:function(G){"function"==typeof G&&(this.selectionCallback=G)}},{key:"onContextMenuItemSelected",value:function(G){"function"==typeof G&&(this.contextMenuCallback=G)}}])&&xe(de.prototype,ge),Object.defineProperty(de,"prototype",{writable:!1}),X}(),Ge=(we=Ie(8037),Ie.n(we)),Ze=((Ie={}).create=function(X,de){if(!X)throw new Error("No container element provided.");function ge(Ve){var Be,pt;document.createRange?((Be=document.createRange()).selectNodeContents(Ve),Be.collapse(!1),(pt=window.getSelection()).removeAllRanges(),pt.addRange(Be)):document.selection&&((Be=document.body.createTextRange()).moveToElementText(Ve),Be.collapse(!1),Be.select())}function Ce(Ve){return void 0===Ee&&((Ee=document.createElement("span")).style.visibility="hidden",Ee.style.position="fixed",Ee.style.outline="0",Ee.style.margin="0",Ee.style.padding="0",Ee.style.border="0",Ee.style.left="0",Ee.style.whiteSpace="pre",Ee.style.fontSize=ft,Ee.style.fontFamily=yt,Ee.style.fontWeight="normal",document.body.appendChild(Ee)),Ee.textContent=Ve,Ee.getBoundingClientRect().right}function G(){this.style.backgroundColor="#ddd"}function Z(){this.style.backgroundColor=""}function ne(){xt.hide(),xt.onmouseselection(this.__hint,xt.rs)}var _e,Ee,Qe,ft,yt,Wt,Vt,qt,Ut,ji,ot,xt,vt,At,ni,si;this.container=X,this.dom={},this.highlighter=new ye,this.selection=void 0,this.multiselection={nodes:[]},this.validateSchema=null,this.validationSequence=0,this.errorNodes=[],this.lastSchemaErrors=void 0,this.node=null,this.focusTarget=null,this._setOptions(de),de.autocomplete&&(this.autocomplete=((_e=(_e=de.autocomplete)||{}).filter=_e.filter||"start",_e.trigger=_e.trigger||"keydown",_e.confirmKeys=_e.confirmKeys||[39,35,9],_e.caseSensitive=_e.caseSensitive||!1,yt=ft="",(Wt=document.createElement("div")).style.position="relative",Wt.style.outline="0",Wt.style.border="0",Wt.style.margin="0",Wt.style.padding="0",(Vt=document.createElement("div")).className="autocomplete dropdown",Vt.style.position="absolute",Vt.style.visibility="hidden",qt=Vt,Ut=[],ot=-1,At=xt={rs:vt={onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},startFrom:ji=0,options:[],element:null,elementHint:null,elementStyle:null,wrapper:Wt,show:function(Ve,Be,pt){var $t=this;this.startFrom=Be,this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null),""===ft&&(ft=window.getComputedStyle(Ve).getPropertyValue("font-size")),""===yt&&(yt=window.getComputedStyle(Ve).getPropertyValue("font-family")),Vt.style.marginLeft="0",Vt.style.marginTop=Ve.getBoundingClientRect().height+"px",this.options=pt.map(String),this.element!==Ve&&(this.element=Ve,this.elementStyle={zIndex:this.element.style.zIndex,position:this.element.style.position,backgroundColor:this.element.style.backgroundColor,borderColor:this.element.style.borderColor}),this.element.style.zIndex=3,this.element.style.position="relative",this.element.style.backgroundColor="transparent",this.element.style.borderColor="transparent",this.elementHint=Ve.cloneNode(),this.elementHint.className="autocomplete hint",this.elementHint.style.zIndex=2,this.elementHint.style.position="absolute",this.elementHint.onfocus=function(){$t.element.focus()},this.element.addEventListener&&(this.element.removeEventListener("keydown",ni),this.element.addEventListener("keydown",ni,!1),this.element.removeEventListener("blur",si),this.element.addEventListener("blur",si,!1)),Wt.appendChild(this.elementHint),Wt.appendChild(Vt),Ve.parentElement.appendChild(Wt),this.repaint(Ve)},setText:function(Ve){this.element.innerText=Ve},getText:function(){return this.element.innerText},hideDropDown:function(){this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null,At.hide(),this.element.style.zIndex=this.elementStyle.zIndex,this.element.style.position=this.elementStyle.position,this.element.style.backgroundColor=this.elementStyle.backgroundColor,this.element.style.borderColor=this.elementStyle.borderColor)},repaint:function(Be){Be=(Be=Be.innerText).replace("\n","");var pt=this.options.length,$t=Be.substring(this.startFrom);Qe=Be.substring(0,this.startFrom);for(var ui=0;ui<pt;ui++){var $i=this.options[ui];if(!_e.caseSensitive&&0===$i.toLowerCase().indexOf($t.toLowerCase())||_e.caseSensitive&&0===$i.indexOf($t)){this.elementHint.innerText=Qe+$t+$i.substring($t.length),this.elementHint.realInnerText=Qe+$i;break}}Vt.style.left=Ce(Qe)+"px",At.refresh($t,this.options),this.elementHint.style.width=Ce(this.elementHint.innerText)+10+"px","hidden"!==Vt.style.visibility&&(this.elementHint.style.width=Ce(this.elementHint.innerText)+Vt.clientWidth+"px")}},hide:function(){qt.style.visibility="hidden"},refresh:function(Ve,Be){qt.style.visibility="hidden",ji=0,qt.textContent="";var $t=window.innerHeight||document.documentElement.clientHeight,pt=($i=qt.parentNode.getBoundingClientRect()).top-6,ui=($t=$t-$i.bottom-6,Ut=[],"function"==typeof _e.filter?_e.filter:Ae[_e.filter]),$i=ui?Be.filter(function(Te){return ui(_e.caseSensitive?Ve:Ve.toLowerCase(),_e.caseSensitive?Te:Te.toLowerCase(),_e)}):[];0===(Ut=$i.map(function(Te){var We=document.createElement("div"),st=(We.className="item",We.onmouseover=G,We.onmouseout=Z,We.onmousedown=ne,We.__hint=Te,We.textContent="",We.appendChild(document.createTextNode(Te.substring(0,Ve.length))),document.createElement("b"));return st.appendChild(document.createTextNode(Te.substring(Ve.length))),We.appendChild(st),qt.appendChild(We),We})).length||1===Ut.length&&(Ve.toLowerCase()===Ut[0].__hint.toLowerCase()&&!_e.caseSensitive||Ve===Ut[0].__hint&&_e.caseSensitive)||Ut.length<2||(xt.highlight(0),3*$t<pt?(qt.style.maxHeight=pt+"px",qt.style.top="",qt.style.bottom="100%"):(qt.style.top="100%",qt.style.bottom="",qt.style.maxHeight=$t+"px"),qt.style.visibility="visible")},highlight:function(Ve){-1!==ot&&Ut[ot]&&(Ut[ot].className="item"),Ut[Ve].className="item hover",ot=Ve},move:function(Ve){return"hidden"===qt.style.visibility?"":(ji+Ve!==-1&&ji+Ve!==Ut.length&&xt.highlight(ji+=Ve),Ut[ji].__hint)},onmouseselection:function(){}},ni=function(Ve){var Be=(Ve=Ve||window.event).keyCode;if(null!=this.elementHint&&33!==Be&&34!==Be)if(27===Be)vt.hideDropDown(),vt.element.focus(),Ve.preventDefault(),Ve.stopPropagation();else{var pt,$t=($t=this.element.innerText).replace("\n","");if(0<=_e.confirmKeys.indexOf(Be))9===Be&&0===this.elementHint.innerText.length&&vt.onTab(),0<this.elementHint.innerText.length&&this.element.innerText!==this.elementHint.realInnerText&&(this.element.innerText=this.elementHint.realInnerText,vt.hideDropDown(),ge(this.element),9===Be)&&(vt.element.focus(),Ve.preventDefault(),Ve.stopPropagation());else if(13===Be)if(0===this.elementHint.innerText.length)vt.onEnter();else{var ui="hidden"===Vt.style.visibility;if(At.hide(),ui)return vt.hideDropDown(),vt.element.focus(),void vt.onEnter();this.element.innerText=this.elementHint.realInnerText,vt.hideDropDown(),ge(this.element),Ve.preventDefault(),Ve.stopPropagation()}else 40===Be?(ui=$t.substring(this.startFrom),""===(pt=At.move(1))&&vt.onArrowDown(),this.elementHint.innerText=Qe+ui+pt.substring(ui.length),this.elementHint.realInnerText=Qe+pt,Ve.preventDefault(),Ve.stopPropagation()):38===Be&&(ui=$t.substring(this.startFrom),""===(pt=At.move(-1))&&vt.onArrowUp(),this.elementHint.innerText=Qe+ui+pt.substring(ui.length),this.elementHint.realInnerText=Qe+pt,Ve.preventDefault(),Ve.stopPropagation())}}.bind(vt),si=function(Ve){vt.hideDropDown()},At.onmouseselection=function(Ve,Be){Be.element.innerText=Be.elementHint.innerText=Qe+Ve,Be.hideDropDown(),window.setTimeout(function(){Be.element.focus(),ge(Be.element)},1)},vt)),this.options.history&&"view"!==this.options.mode&&(this.history=new L(this)),this._createFrame(),this._createTable()},Ie.destroy=function(){this.frame&&this.container&&this.frame.parentNode===this.container&&(this.container.removeChild(this.frame),this.frame=null),this.container=null,this.dom=null,this.clear(),this.node=null,this.focusTarget=null,this.selection=null,this.multiselection=null,this.errorNodes=null,this.validateSchema=null,this._debouncedValidate=null,this.history&&(this.history.destroy(),this.history=null),this.searchBox&&(this.searchBox.destroy(),this.searchBox=null),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.frameFocusTracker.destroy()},Ie._setOptions=function(X){var de=this;this.options={search:!0,history:!0,mode:"tree",name:void 0,schema:null,schemaRefs:null,autocomplete:null,navigationBar:!0,mainMenuBar:!0,limitDragging:!1,onSelectionChange:null,colorPicker:!0,onColorPicker:function(ge,Ce,G){var Z;Ge()?(Z=ge.getBoundingClientRect().top,Z=(0,N.getWindow)(ge).innerHeight-Z<300&&300<Z,new(Ge())({parent:ge,color:Ce,popup:Z?"top":"bottom",onDone:function(ne){ne=1===ne.rgba[3]?ne.hex.substr(0,7):ne.hex,G(ne)}}).show()):console.warn("Cannot open color picker: the `vanilla-picker` library is not included in the bundle. Either use the full bundle or implement your own color picker using `onColorPicker`.")},timestampTag:!0,timestampFormat:null,createQuery:J.r,executeQuery:J.J,onEvent:null,enableSort:!0,enableTransform:!0},X&&(Object.keys(X).forEach(function(ge){de.options[ge]=X[ge]}),null==X.limitDragging)&&null!=X.schema&&(this.options.limitDragging=!0),this.setSchema(this.options.schema,this.options.schemaRefs),this._debouncedValidate=(0,N.debounce)(this._validateAndCatch.bind(this),this.DEBOUNCE_INTERVAL),X.onSelectionChange&&this.onSelectionChange(X.onSelectionChange),(0,ce.cC)(this.options.languages),(0,ce.m0)(this.options.language)},Ie.set=function(X){X instanceof Function||void 0===X?this.clear():(this.content.removeChild(this.table),X=new y(this,X={field:this.options.name,value:X}),this._setRoot(X),this._validateAndCatch(),this.node.expand(!1),this.content.appendChild(this.table)),this.history&&this.history.clear(),this.searchBox&&this.searchBox.clear()},Ie.update=function(X){var de,ge;this.node.deepEqual(X)||(de=this.getSelection(),this.onChangeDisabled=!0,this.node.update(X),this.onChangeDisabled=!1,this._validateAndCatch(),this.searchBox&&!this.searchBox.isEmpty()&&this.searchBox.forceSearch(),de&&de.start&&de.end&&(X=this.node.findNodeByPath(de.start.path),ge=this.node.findNodeByPath(de.end.path),X)&&ge?this.setSelection(de.start,de.end):this.setSelection({},{}))},Ie.get=function(){if(this.node)return this.node.getValue()},Ie.getText=function(){return JSON.stringify(this.get())},Ie.setText=function(X){try{this.set((0,N.parse)(X))}catch{X=(0,N.tryJsonRepair)(X),this.set((0,N.parse)(X))}},Ie.updateText=function(X){try{this.update((0,N.parse)(X))}catch{X=(0,N.tryJsonRepair)(X),this.update((0,N.parse)(X))}},Ie.setName=function(X){this.options.name=X,this.node&&this.node.updateField(this.options.name)},Ie.getName=function(){return this.options.name},Ie.focus=function(){var X=this.scrollableContent.querySelector("[contenteditable=true]");X?X.focus():this.node.dom.expand?this.node.dom.expand.focus():this.node.dom.menu?this.node.dom.menu.focus():(X=this.frame.querySelector("button"))&&X.focus()},Ie.clear=function(){this.node&&(this.node.hide(),delete this.node),this.treePath&&this.treePath.reset()},Ie._setRoot=function(X){this.clear(),(this.node=X).setParent(null),X.setField(this.getName(),!1),delete X.index,this.tbody.appendChild(X.getDom())},Ie.search=function(X){var de;return this.node?(this.content.removeChild(this.table),de=this.node.search(X),this.content.appendChild(this.table)):de=[],de},Ie.expandAll=function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))},Ie.collapseAll=function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))},Ie.expand=function(X){var de;X&&(de=this.node?this.node.findNodeByPath(X.path):null)&&(X.isExpand?de.expand(X.recursive):de.collapse(X.recursive))},Ie._onAction=function(X,de){this.history&&this.history.add(X,de),this._onChange()},Ie._onChange=function(){if(!this.onChangeDisabled){var X;if(this.selection=this.getDomSelection(),this._debouncedValidate(),this.treePath&&((X=this.node&&this.selection?this.node.findNodeByInternalPath(this.selection.path):this.multiselection?this.multiselection.nodes[0]:void 0)?this._updateTreePath(X.getNodePath()):this.treePath.reset()),this.options.onChange)try{this.options.onChange()}catch(de){console.error("Error in onChange callback: ",de)}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(de){console.error("Error in onChangeJSON callback: ",de)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(de){console.error("Error in onChangeText callback: ",de)}if(this.options.onClassName&&this.node.recursivelyUpdateCssClassesOnNodes(),this.options.onNodeName&&this.node.childs)try{this.node.recursivelyUpdateNodeName()}catch(de){console.error("Error in onNodeName callback: ",de)}}},Ie.validate=function(){var X=this,de=this.node;if(de){var ge=de.getValue(),Ce=[];this.validateSchema&&!this.validateSchema(ge)&&(Ce=this.validateSchema.errors.map(function(ne){return(0,N.improveSchemaError)(ne)}).map(function(ne){return{node:de.findNode(ne.dataPath),error:ne,type:"validation"}}).filter(function(ne){return null!=ne.node}));try{this.validationSequence++;var G=this,Z=this.validationSequence;return this._validateCustom(ge).then(function(ne){return Z===G.validationSequence&&(ne=[].concat(Ce,ne||[]),G._renderValidationErrors(ne),"function"==typeof X.options.onValidationError&&(0,N.isValidationErrorChanged)(ne,X.lastSchemaErrors)&&X.options.onValidationError.call(X,ne),X.lastSchemaErrors=ne),X.lastSchemaErrors})}catch(ne){return Promise.reject(ne)}}},Ie._validateAndCatch=function(){this.validate().catch(function(X){console.error("Error running validation:",X)})},Ie._renderValidationErrors=function(X){this.errorNodes&&this.errorNodes.forEach(function(ge){ge.setError(null)});var de=X.reduce(function(ge,Ce){return Ce.node.findParents().filter(function(G){return!ge.some(function(Z){return Z[0]===G})}).map(function(G){return[G,Ce.node]}).concat(ge)},[]);this.errorNodes=de.map(function(ge){return{node:ge[0],child:ge[1],error:{message:(0,ce.Iu)("object"===ge[0].type?"containsInvalidProperties":"containsInvalidItems")}}}).concat(X).map(function(ge){return ge.node.setError(ge.error,ge.child),ge.node})},Ie._validateCustom=function(X){try{var de,ge;if(this.options.onValidate)return de=this.node,ge=this.options.onValidate(X),((0,N.isPromise)(ge)?ge:Promise.resolve(ge)).then(function(Ce){return Array.isArray(Ce)?Ce.filter(function(G){var Z=(0,N.isValidValidationError)(G);return Z||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',G),Z}).map(function(G){var Z;try{Z=G&&G.path?de.findNodeByPath(G.path):null}catch{}return Z||console.warn("Ignoring validation error: node not found. Path:",G.path,"Error:",G),{node:Z,error:G,type:"customValidation"}}).filter(function(G){return G&&G.node&&G.error&&G.error.message}):null})}catch(Ce){return Promise.reject(Ce)}return Promise.resolve(null)},Ie.refresh=function(){this.node&&this.node.updateDom({recurse:!0})},Ie.startAutoScroll=function(X){var de=this,ge=this.scrollableContent,Ce=(0,N.getAbsoluteTop)(ge),G=ge.clientHeight,Z=Ce+G;this.autoScrollStep=X<Ce+24&&0<ge.scrollTop?(Ce+24-X)/3:Z-24<X&&G+ge.scrollTop<ge.scrollHeight?(Z-24-X)/3:void 0,this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval(function(){de.autoScrollStep?ge.scrollTop-=de.autoScrollStep:de.stopAutoScroll()},50)):this.stopAutoScroll()},Ie.stopAutoScroll=function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer),this.autoScrollStep&&delete this.autoScrollStep},Ie.setDomSelection=function(X){var de,ge,Ce;X&&("scrollTop"in X&&this.scrollableContent&&(this.scrollableContent.scrollTop=X.scrollTop),X.paths?(de=this,ge=X.paths.map(function(G){return de.node.findNodeByInternalPath(G)}),this.select(ge)):(Ce=(ge=X.path?this.node.findNodeByInternalPath(X.path):null)&&X.domName?ge.dom[X.domName]:null,X.range&&Ce?(X=Object.assign({},X.range,{container:Ce}),(0,N.setSelectionOffset)(X)):ge&&ge.focus()))},Ie.getDomSelection=function(){var X=y.getNodeFromTarget(this.focusTarget),de=this.focusTarget,ge=X?Object.keys(X.dom).find(function(G){return X.dom[G]===de}):null,Ce=(0,N.getSelectionOffset)();return(Ce=(Ce=Ce&&"DIV"!==Ce.container.nodeName?null:Ce)&&Ce.container!==de?null:Ce)&&delete Ce.container,{path:X?X.getInternalPath():null,domName:ge,range:Ce,paths:0<this.multiselection.length?this.multiselection.nodes.map(function(G){return G.getInternalPath()}):null,scrollTop:this.scrollableContent?this.scrollableContent.scrollTop:0}},Ie.scrollTo=function(X,de){var ge,Ce,G,Z,ne=this.scrollableContent;ne?((ge=this).animateTimeout&&(clearTimeout(ge.animateTimeout),delete ge.animateTimeout),ge.animateCallback&&(ge.animateCallback(!1),delete ge.animateCallback),G=ne.scrollHeight-(Ce=ne.clientHeight),Z=Math.min(Math.max(X-Ce/4,0),G),function _e(){var Ee=Z-(Ee=ne.scrollTop);3<Math.abs(Ee)?(ne.scrollTop+=Ee/3,ge.animateCallback=de,ge.animateTimeout=setTimeout(_e,50)):(de&&de(!0),ne.scrollTop=Z,delete ge.animateTimeout,delete ge.animateCallback)}()):de&&de(!1)},Ie._createFrame=function(){var X=this,de=(this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.container.appendChild(this.frame),this.contentOuter=document.createElement("div"),this.contentOuter.className="jsoneditor-outer",this);function ge(_e){de._onEvent&&de._onEvent(_e)}var Ce,G,Z,ne={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null};this.frameFocusTracker=new oe.R(ne),this.frame.onclick=function(_e){var Ee=_e.target;ge(_e),"BUTTON"===Ee.nodeName&&_e.preventDefault()},this.frame.oninput=ge,this.frame.onchange=ge,this.frame.onkeydown=ge,this.frame.onkeyup=ge,this.frame.oncut=ge,this.frame.onpaste=ge,this.frame.onmousedown=ge,this.frame.onmouseup=ge,this.frame.onmouseover=ge,this.frame.onmouseout=ge,(0,N.addEventListener)(this.frame,"focus",ge,!0),(0,N.addEventListener)(this.frame,"blur",ge,!0),this.frame.onfocusin=ge,this.frame.onfocusout=ge,this.options.mainMenuBar&&((0,N.addClassName)(this.contentOuter,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),(ne=document.createElement("button")).type="button",ne.className="jsoneditor-expand-all",ne.title=(0,ce.Iu)("expandAll"),ne.onclick=function(){de.expandAll(),"function"==typeof X.options.onExpand&&X.options.onExpand({path:[],isExpand:!0,recursive:!0})},this.menu.appendChild(ne),(ne=document.createElement("button")).type="button",ne.title=(0,ce.Iu)("collapseAll"),ne.className="jsoneditor-collapse-all",ne.onclick=function(){de.collapseAll(),"function"==typeof X.options.onExpand&&X.options.onExpand({path:[],isExpand:!1,recursive:!0})},this.menu.appendChild(ne),this.options.enableSort&&((ne=document.createElement("button")).type="button",ne.className="jsoneditor-sort",ne.title=(0,ce.Iu)("sortTitleShort"),ne.onclick=function(){de.node.showSortModal()},this.menu.appendChild(ne)),this.options.enableTransform&&((ne=document.createElement("button")).type="button",ne.title=(0,ce.Iu)("transformTitleShort"),ne.className="jsoneditor-transform",ne.onclick=function(){de.node.showTransformModal()},this.menu.appendChild(ne)),this.history&&((Ce=document.createElement("button")).type="button",Ce.className="jsoneditor-undo jsoneditor-separator",Ce.title=(0,ce.Iu)("undo"),Ce.onclick=function(){de._onUndo()},this.menu.appendChild(Ce),this.dom.undo=Ce,(G=document.createElement("button")).type="button",G.className="jsoneditor-redo",G.title=(0,ce.Iu)("redo"),G.onclick=function(){de._onRedo()},this.menu.appendChild(G),this.dom.redo=G,this.history.onChange=function(){Ce.disabled=!de.history.canUndo(),G.disabled=!de.history.canRedo()},this.history.onChange()),this.options&&this.options.modes&&this.options.modes.length&&((Z=this).modeSwitcher=new O.x(this.menu,this.options.modes,this.options.mode,function(_e){try{Z.setMode(_e),Z.modeSwitcher.focus()}catch(Ee){Z._onError(Ee)}})),this.options.search)&&(this.searchBox=new ae(this,this.menu)),this.options.navigationBar&&(this.navBar=document.createElement("div"),this.navBar.className="jsoneditor-navigation-bar nav-bar-empty",this.frame.appendChild(this.navBar),this.treePath=new Se(this.navBar,this.getPopupAnchor()),this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this)),this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this)))},Ie._onUndo=function(){this.history&&(this.history.undo(),this._onChange())},Ie._onRedo=function(){this.history&&(this.history.redo(),this._onChange())},Ie._onEvent=function(X){if(!y.targetIsColorPicker(X.target)){var de,ge=y.getNodeFromTarget(X.target);if("keydown"===X.type&&this._onKeyDown(X),ge&&"focus"===X.type&&(this.focusTarget=X.target,this.options.autocomplete)&&"focus"===this.options.autocomplete.trigger&&this._showAutoComplete(X.target),"mousedown"===X.type&&this._startDragDistance(X),"mousemove"!==X.type&&"mouseup"!==X.type&&"click"!==X.type||this._updateDragDistance(X),ge&&this.options&&this.options.navigationBar&&ge&&("keydown"===X.type||"mousedown"===X.type)&&(de=this,setTimeout(function(){de._updateTreePath(ge.getNodePath())})),ge&&ge.selected){if("click"===X.type){if(X.target===ge.dom.menu)return void this.showContextMenu(X.target);X.hasMoved||this.deselect()}"mousedown"===X.type&&y.onDragStart(this.multiselection.nodes,X)}else"mousedown"===X.type&&(0,N.hasParentNode)(X.target,this.content)&&(this.deselect(),ge&&X.target===ge.dom.drag?y.onDragStart(ge,X):ge&&(X.target===ge.dom.field||X.target===ge.dom.value||X.target===ge.dom.select)||this._onMultiSelectStart(X));ge&&ge.onEvent(X)}},Ie._updateTreePath=function(X){var de;function ge(Ce){return Ce.parent?"array"===Ce.parent.type?Ce.index:Ce.field:Ce.field||Ce.type}X&&X.length?((0,N.removeClassName)(this.navBar,"nav-bar-empty"),de=[],X.forEach(function(Ce){var G={name:ge(Ce),node:Ce,children:[]};Ce.childs&&Ce.childs.length&&Ce.childs.forEach(function(Z){G.children.push({name:ge(Z),node:Z})}),de.push(G)}),this.treePath.setPath(de)):(0,N.addClassName)(this.navBar,"nav-bar-empty")},Ie._onTreePathSectionSelected=function(X){X&&X.node&&(X.node.expandTo(),X.node.focus())},Ie._onTreePathMenuItemSelected=function(X,de){X&&X.children.length&&(X=X.children.find(function(ge){return ge.name===de}))&&X.node&&(this._updateTreePath(X.node.getNodePath()),X.node.expandTo(),X.node.focus())},Ie._startDragDistance=function(X){this.dragDistanceEvent={initialTarget:X.target,initialPageX:X.pageX,initialPageY:X.pageY,dragDistance:0,hasMoved:!1}},Ie._updateDragDistance=function(X){this.dragDistanceEvent||this._startDragDistance(X);var de=X.pageX-this.dragDistanceEvent.initialPageX,ge=X.pageY-this.dragDistanceEvent.initialPageY;return this.dragDistanceEvent.dragDistance=Math.sqrt(de*de+ge*ge),this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||10<this.dragDistanceEvent.dragDistance,X.dragDistance=this.dragDistanceEvent.dragDistance,X.hasMoved=this.dragDistanceEvent.hasMoved,X.dragDistance},Ie._onMultiSelectStart=function(X){var de,ge=y.getNodeFromTarget(X.target);"tree"===this.options.mode&&void 0===this.options.onEditable&&(this.multiselection={start:ge||null,end:null,nodes:[]},this._startDragDistance(X),(de=this).mousemove||(this.mousemove=(0,N.addEventListener)(X.view,"mousemove",function(Ce){de._onMultiSelect(Ce)})),this.mouseup||(this.mouseup=(0,N.addEventListener)(X.view,"mouseup",function(Ce){de._onMultiSelectEnd(Ce)})),X.preventDefault())},Ie._onMultiSelect=function(X){var de;X.preventDefault(),this._updateDragDistance(X),X.hasMoved&&((X=y.getNodeFromTarget(X.target))&&(null==this.multiselection.start&&(this.multiselection.start=X),this.multiselection.end=X),this.deselect(),de=this.multiselection.end||this.multiselection.start,X=this.multiselection.start)&&de&&(this.multiselection.nodes=this._findTopLevelNodes(X,de),this.multiselection.nodes&&this.multiselection.nodes.length&&(this.multiselection.direction=this.multiselection.start===(X=this.multiselection.nodes[0])||this.multiselection.start.isDescendantOf(X)?"down":"up"),this.select(this.multiselection.nodes))},Ie._onMultiSelectEnd=function(X){var de=this.multiselection.nodes[0];de&&de.dom.menu&&de.dom.menu.focus(),this.multiselection.start=null,this.multiselection.end=null,this.mousemove&&((0,N.removeEventListener)(X.view,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&((0,N.removeEventListener)(X.view,"mouseup",this.mouseup),delete this.mouseup)},Ie.deselect=function(X){var de=!!this.multiselection.nodes.length;this.multiselection.nodes.forEach(function(ge){ge.setSelected(!1)}),this.multiselection.nodes=[],X&&(this.multiselection.start=null,this.multiselection.end=null),de&&this._selectionChangedHandler&&this._selectionChangedHandler()},Ie.select=function(X){if(!Array.isArray(X))return this.select([X]);var de;X&&(this.deselect(),this.multiselection.nodes=X.slice(0),de=X[0],X.forEach(function(ge){ge.expandPathToNode(),ge.setSelected(!0,ge===de)}),this._selectionChangedHandler)&&(X=this.getSelection(),this._selectionChangedHandler(X.start,X.end))},Ie._findTopLevelNodes=function(ne,_e){for(var ge=ne.getNodePath(),Ce=_e.getNodePath(),G=0;G<ge.length&&ge[G]===Ce[G];)G++;ne=ge[G-1];var Z,Ee=Ce[G];return(_e=ge[G])&&Ee||(ne.parent?ne=(Ee=_e=ne).parent:(_e=ne.childs[0],Ee=ne.childs[ne.childs.length-1])),ne&&_e&&Ee?(_e=ne.childs.indexOf(_e),Ee=ne.childs.indexOf(Ee),Z=Math.min(_e,Ee),_e=Math.max(_e,Ee),ne.childs.slice(Z,_e+1)):[]},Ie._showAutoComplete=function(X){var de,ge=y.getNodeFromTarget(X),Ce="";0<=X.className.indexOf("jsoneditor-value")&&(Ce="value"),""!==(Ce=0<=X.className.indexOf("jsoneditor-field")?"field":Ce)&&(de=this,setTimeout(function(){var G;ge&&("focus"===de.options.autocomplete.trigger||0<X.innerText.length)&&null!==(G=de.options.autocomplete.getOptions(X.innerText,ge.getPath(),Ce,ge.editor))?"function"==typeof G.then?G.then(function(Z){null===Z?de.autocomplete.hideDropDown():Z.options?de.autocomplete.show(X,Z.startFrom,Z.options):de.autocomplete.show(X,0,Z)}).catch(function(Z){console.error(Z)}):G.options?de.autocomplete.show(X,G.startFrom,G.options):de.autocomplete.show(X,0,G):de.autocomplete.hideDropDown()},50))},Ie._onKeyDown=function(X){var de,ge=X.which||X.keyCode,Ce=X.altKey,G=X.ctrlKey,Z=X.metaKey,ne=X.shiftKey,_e=!1,Ee=this.focusTarget;9===ge&&(de=this,setTimeout(function(){de.focusTarget!==Ee&&(0,N.selectContentEditable)(de.focusTarget)},0)),this.searchBox&&(G&&70===ge?(this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),_e=!0):(114===ge||G&&71===ge)&&(ne?this.searchBox.previous(!0):this.searchBox.next(!0),_e=!0)),this.history&&(G&&!ne&&90===ge?(this._onUndo(),_e=!0):G&&ne&&90===ge&&(this._onRedo(),_e=!0)),!this.options.autocomplete||_e||G||Ce||Z||1!==X.key.length&&8!==ge&&46!==ge||(_e=!1,this._showAutoComplete(X.target)),_e&&(X.preventDefault(),X.stopPropagation())},Ie._createTable=function(){var X;this.options.navigationBar&&(0,N.addClassName)(this.contentOuter,"has-nav-bar"),this.scrollableContent=document.createElement("div"),this.scrollableContent.className="jsoneditor-tree",this.contentOuter.appendChild(this.scrollableContent),this.content=document.createElement("div"),this.content.className="jsoneditor-tree-inner",this.scrollableContent.appendChild(this.content),this.table=document.createElement("table"),this.table.className="jsoneditor-tree",this.content.appendChild(this.table),this.colgroupContent=document.createElement("colgroup"),"tree"===this.options.mode&&((X=document.createElement("col")).width="24px",this.colgroupContent.appendChild(X)),(X=document.createElement("col")).width="24px",this.colgroupContent.appendChild(X),X=document.createElement("col"),this.colgroupContent.appendChild(X),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(this.contentOuter)},Ie.showContextMenu=function(X,de){var ge,Ce=[],G=this.multiselection.nodes.slice();Ce.push({text:(0,ce.Iu)("duplicateText"),title:(0,ce.Iu)("duplicateTitle"),className:"jsoneditor-duplicate",click:function(){y.onDuplicate(G)}}),Ce.push({text:(0,ce.Iu)("remove"),title:(0,ce.Iu)("removeTitle"),className:"jsoneditor-remove",click:function(){y.onRemove(G)}}),this.options.onCreateMenu&&(ge=G.map(function(Z){return Z.getPath()}),Ce=this.options.onCreateMenu(Ce,{type:"multiple",path:ge[0],paths:ge})),new z.x(Ce,{close:de}).show(X,this.getPopupAnchor())},Ie.getPopupAnchor=function(){return this.options.popupAnchor||this.frame},Ie.getSelection=function(){var X,de,ge={start:null,end:null};return this.multiselection.nodes&&this.multiselection.nodes.length&&this.multiselection.nodes.length&&(X=this.multiselection.nodes[0],de=this.multiselection.nodes[this.multiselection.nodes.length-1],"down"===this.multiselection.direction?(ge.start=X.serialize(),ge.end=de.serialize()):(ge.start=de.serialize(),ge.end=X.serialize())),ge},Ie.onSelectionChange=function(X){"function"==typeof X&&(this._selectionChangedHandler=(0,N.debounce)(X,this.DEBOUNCE_INTERVAL))},Ie.setSelection=function(X,de){X&&X.dom&&X.range&&(console.warn("setSelection/getSelection usage for text selection is deprecated and should not be used, see documentation for supported selection options"),this.setDomSelection(X)),(X=this._getNodeInstancesByRange(X,de)).forEach(function(ge){ge.expandTo()}),this.select(X)},Ie._getNodeInstancesByRange=function(X,de){X&&X.path&&(ge=this.node.findNodeByPath(X.path),de)&&de.path&&(Ce=this.node.findNodeByPath(de.path));var ge,Ce,G=[];if(ge instanceof y)if(Ce instanceof y&&Ce!==ge)if(ge.parent===Ce.parent){de=ge.getIndex()<Ce.getIndex()?(X=ge,Ce):(X=Ce,ge);var Z=X;for(G.push(Z);Z=Z.nextSibling(),G.push(Z),Z&&Z!==de;);}else G=this._findTopLevelNodes(ge,Ce);else G.push(ge);return G},Ie.getNodesByRange=function(ge,de){ge=this._getNodeInstancesByRange(ge,de);var Ce=[];return ge.forEach(function(G){Ce.push(G.serialize())}),Ce},[{mode:"tree",mixin:Ie,data:"json"},{mode:"view",mixin:Ie,data:"json"},{mode:"form",mixin:Ie,data:"json"}])},2744:function(je,M,ue){M.tryRequireAjv=function(){try{return ue(8903)}catch{}}},9125:function(je,M,ue){M.O=function(){try{ue(4864)}catch(Ae){console.error(Ae)}}},9791:function(je,Ae,ue){"use strict";ue.r(Ae),ue.d(Ae,{addClassName:function(){return V},addEventListener:function(){return we},asyncExec:function(){return ui},clear:function(){return u},compileJSONPointer:function(){return ft},contains:function(){return Be},debounce:function(){return Z},escapeUnicodeChars:function(){return v},extend:function(){return p},findUniqueName:function(){return Ut},formatSize:function(){return ni},get:function(){return qt},getAbsoluteLeft:function(){return y},getAbsoluteTop:function(){return S},getChildPaths:function(){return ji},getColorCSS:function(){return yt},getIndexForPosition:function(){return Ee},getInnerText:function(){return R},getInputSelection:function(){return _e},getInternetExplorerVersion:function(){return ve},getPositionForPath:function(){return Qe},getSelection:function(){return W},getSelectionOffset:function(){return H},getType:function(){return h},getWindow:function(){return m},hasParentNode:function(){return ae},improveSchemaError:function(){return de},insideRect:function(){return G},isArray:function(){return k},isChildOf:function(){return Ie},isFirefox:function(){return Se},isObject:function(){return Ve},isPromise:function(){return ge},isTimestamp:function(){return At},isUrl:function(){return f},isValidColor:function(){return Wt},isValidValidationError:function(){return Ce},isValidationErrorChanged:function(){return pt},limitCharacters:function(){return si},makeFieldTooltip:function(){return Vt},parse:function(){return N},parsePath:function(){return Ze},parseString:function(){return vt},removeAllClassNames:function(){return E},removeClassName:function(){return w},removeEventListener:function(){return Ge},removeReturnsAndSurroundingWhitespace:function(){return Q},selectContentEditable:function(){return U},setEndOfContentEditable:function(){return K},setSelection:function(){return re},setSelectionOffset:function(){return L},sort:function(){return ot},sortObjectKeys:function(){return xt},stringifyPath:function(){return X},stripFormatting:function(){return B},textDiff:function(){return ne},tryJsonRepair:function(){return F},uniqueMergeArrays:function(){return $t},validate:function(){return b}}),ue(4987),Ae=ue(233);var z=ue.n(Ae),oe=ue(1262),be=ue(6589),fe=ue(7026),ye=ue(7907);function J(Te,We){(null==We||We>Te.length)&&(We=Te.length);for(var st=0,Pt=new Array(We);st<We;st++)Pt[st]=Te[st];return Pt}function O(Te){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(We){return typeof We}:function(We){return We&&"function"==typeof Symbol&&We.constructor===Symbol&&We!==Symbol.prototype?"symbol":typeof We})(Te)}var T=1e4,j=9466848e5;function N(Te){try{return JSON.parse(Te)}catch(We){throw b(Te),We}}function F(Te){try{return(0,oe.K)(Te)}catch{return Te}}function v(Te){return Te.replace(/[\u007F-\uFFFF]/g,function(We){return"\\u"+("0000"+We.charCodeAt(0).toString(16)).slice(-4)})}function b(Te){(void 0!==be?be:JSON).parse(Te)}function p(Te,We){for(var st in We)$i(We,st)&&(Te[st]=We[st]);return Te}function u(Te){for(var We in Te)$i(Te,We)&&delete Te[We];return Te}function h(Te){return null===Te?"null":void 0===Te?"undefined":Te instanceof Number||"number"==typeof Te?"number":Te instanceof String||"string"==typeof Te?"string":Te instanceof Boolean||"boolean"==typeof Te?"boolean":Te instanceof RegExp?"regexp":k(Te)?"array":"object"}var d=/^https?:\/\/\S+$/;function f(Te){return("string"==typeof Te||Te instanceof String)&&d.test(Te)}function k(Te){return"[object Array]"===Object.prototype.toString.call(Te)}function m(Te){return Te.ownerDocument.defaultView}function y(Te){return Te.getBoundingClientRect().left+window.pageXOffset||document.scrollLeft||0}function S(Te){return Te.getBoundingClientRect().top+window.pageYOffset||document.scrollTop||0}function V(Te,We){var st=Te.className.split(" ");-1===st.indexOf(We)&&(st.push(We),Te.className=st.join(" "))}function E(Te){Te.className=""}function w(Te,Pt){var st=Te.className.split(" ");-1!==(Pt=st.indexOf(Pt))&&(st.splice(Pt,1),Te.className=st.join(" "))}function B(Te){for(var We=Te.childNodes,st=0,Pt=We.length;st<Pt;st++){var ci=We[st],Jt=(ci.style&&ci.removeAttribute("style"),ci.attributes);if(Jt)for(var Ti=Jt.length-1;0<=Ti;Ti--){var Yn=Jt[Ti];!0===Yn.specified&&ci.removeAttribute(Yn.name)}B(ci)}}function K(Te){var We;document.createRange&&((We=document.createRange()).selectNodeContents(Te),We.collapse(!1),(Te=window.getSelection()).removeAllRanges(),Te.addRange(We))}function U(Te){var We;Te&&"DIV"===Te.nodeName&&window.getSelection&&document.createRange&&((We=document.createRange()).selectNodeContents(Te),(Te=window.getSelection()).removeAllRanges(),Te.addRange(We))}function W(){if(window.getSelection){var Te=window.getSelection();if(Te.getRangeAt&&Te.rangeCount)return Te.getRangeAt(0)}return null}function re(Te){var We;Te&&window.getSelection&&((We=window.getSelection()).removeAllRanges(),We.addRange(Te))}function H(){var Te=W();return Te&&"startOffset"in Te&&"endOffset"in Te&&Te.startContainer&&Te.startContainer===Te.endContainer?{startOffset:Te.startOffset,endOffset:Te.endOffset,container:Te.startContainer.parentNode}:null}function L(Te){var We;document.createRange&&window.getSelection&&window.getSelection()&&(We=document.createRange(),Te.container.firstChild||Te.container.appendChild(document.createTextNode("")),We.setStart(Te.container.firstChild,Te.startOffset),We.setEnd(Te.container.firstChild,Te.endOffset),re(We))}function R(Te,We){var st;if(void 0===We&&(We={_text:"",flush:function(){var jn=this._text;return this._text="",jn},set:function(jn){this._text=jn}}),Te.nodeValue)return""!==(st=Q(Te.nodeValue))?We.flush()+st:"";if(Te.hasChildNodes()){for(var Pt=Te.childNodes,ci="",Jt=0,Ti=Pt.length;Jt<Ti;Jt++){var Yn,_o=Pt[Jt];"DIV"===_o.nodeName||"P"===_o.nodeName?((Yn=(Yn=Pt[Jt-1])?Yn.nodeName:void 0)&&"DIV"!==Yn&&"P"!==Yn&&"BR"!==Yn&&(""!==ci&&(ci+="\n"),We.flush()),ci+=R(_o,We),We.set("\n")):"BR"===_o.nodeName?(ci+=We.flush(),We.set("\n")):ci+=R(_o,We)}return ci}return""}function Q(Te){return Te.replace(/(\b|^)\s*(\b|$)/g,function(We){return/\n/.exec(We)?"":We})}function ae(Te,We){for(var st=Te?Te.parentNode:void 0;st;){if(st===We)return!0;st=st.parentNode}return!1}function ve(){var Te;return-1===xe&&(Te=-1,typeof navigator<"u"&&"Microsoft Internet Explorer"===navigator.appName&&null!=/MSIE ([0-9]+[.0-9]+)/.exec(navigator.userAgent)&&(Te=parseFloat(RegExp.$1)),xe=Te),xe}var xe=-1;function Se(){return typeof navigator<"u"&&-1!==navigator.userAgent.indexOf("Firefox")}function we(Te,We,st,Pt){return Te.addEventListener?(void 0===Pt&&(Pt=!1),"mousewheel"===We&&Se()&&(We="DOMMouseScroll"),Te.addEventListener(We,st,Pt),st):Te.attachEvent?(Te.attachEvent("on"+We,Pt=function(){return st.call(Te,window.event)}),Pt):void 0}function Ge(Te,We,st,Pt){Te.removeEventListener?(void 0===Pt&&(Pt=!1),"mousewheel"===We&&Se()&&(We="DOMMouseScroll"),Te.removeEventListener(We,st,Pt)):Te.detachEvent&&Te.detachEvent("on"+We,st)}function Ie(Te,We){for(var st=Te.parentNode;st;){if(st===We)return!0;st=st.parentNode}return!1}function Ze(Te){var We=[],st=0;function Pt(Jt){for(var Ti="";void 0!==Te[st]&&Te[st]!==Jt;)Ti+=Te[st],st++;if(Te[st]!==Jt)throw new Error("Invalid JSON path: unexpected end, character "+Jt+" expected");return Ti}for(;void 0!==Te[st];)if("."===Te[st])st++,We.push(function(){for(var Jt="";void 0!==Te[st]&&/[\w$]/.test(Te[st]);)Jt+=Te[st],st++;if(""===Jt)throw new Error("Invalid JSON path: property name expected at index "+st);return Jt}());else{if("["!==Te[st])throw new Error('Invalid JSON path: unexpected character "'+Te[st]+'" at index '+st);if("'"===Te[++st]||'"'===Te[st]){var ci=Te[st];if(st++,We.push(Pt(ci)),Te[st]!==ci)throw new Error("Invalid JSON path: closing quote ' expected at index "+st);st++}else{if(0===(ci=Pt("]").trim()).length)throw new Error("Invalid JSON path: array value expected at index "+st);ci="*"===ci?ci:JSON.parse(ci),We.push(ci)}if("]"!==Te[st])throw new Error("Invalid JSON path: closing bracket ] expected at index "+st);st++}return We}function X(Te){return Te.map(function(We){return"number"==typeof We?"["+We+"]":"string"==typeof We&&We.match(/^[A-Za-z0-9_$]+$/)?"."+We:'["'+We+'"]'}).join("")}function de(Te){var We,st;return"enum"===Te.keyword&&Array.isArray(Te.schema)&&(st=Te.schema)&&(5<(st=st.map(function(Pt){return JSON.stringify(Pt)})).length&&(We=["("+(st.length-5)+" more...)"],(st=st.slice(0,5)).push(We)),Te.message="should be equal to one of: "+st.join(", ")),"additionalProperties"===Te.keyword&&(Te.message="should NOT have additional property: "+Te.params.additionalProperty),Te}function ge(Te){return Te&&"function"==typeof Te.then&&"function"==typeof Te.catch}function Ce(Te){return"object"===O(Te)&&Array.isArray(Te.path)&&"string"==typeof Te.message}function G(Te,We,st){return We.left-(st=void 0!==st?st:0)>=Te.left&&We.right+st<=Te.right&&We.top-st>=Te.top&&We.bottom+st<=Te.bottom}function Z(Te,We,st){var Pt;return function(){var ci=this,Jt=arguments,Ti=st&&!Pt;clearTimeout(Pt),Pt=setTimeout(function(){Pt=null,st||Te.apply(ci,Jt)},We),Ti&&Te.apply(ci,Jt)}}function ne(Te,We){for(var st=We.length,Pt=0,ci=Te.length,Jt=We.length;We.charAt(Pt)===Te.charAt(Pt)&&Pt<st;)Pt++;for(;We.charAt(Jt-1)===Te.charAt(ci-1)&&Pt<Jt&&0<ci;)Jt--,ci--;return{start:Pt,end:Jt}}function _e(Te){var We,st,Pt,ci,Jt=0,Ti=0;return"number"==typeof Te.selectionStart&&"number"==typeof Te.selectionEnd?(Jt=Te.selectionStart,Ti=Te.selectionEnd):(ci=document.selection.createRange())&&ci.parentElement()===Te&&(Pt=Te.value.length,We=Te.value.replace(/\r\n/g,"\n"),(st=Te.createTextRange()).moveToBookmark(ci.getBookmark()),(ci=Te.createTextRange()).collapse(!1),-1<st.compareEndPoints("StartToEnd",ci)?Jt=Ti=Pt:(Jt=-st.moveStart("character",-Pt),Jt+=We.slice(0,Jt).split("\n").length-1,-1<st.compareEndPoints("EndToEnd",ci)?Ti=Pt:(Ti=-st.moveEnd("character",-Pt),Ti+=We.slice(0,Ti).split("\n").length-1))),{startIndex:Jt,endIndex:Ti,start:Yn(Jt),end:Yn(Ti)};function Yn(_o){return{row:((_o=Te.value.substring(0,_o)).match(/\n/g)||[]).length+1,column:_o.length-_o.lastIndexOf("\n")}}}function Ee(Pt,We,st){return Pt=Pt.value||"",0<We&&0<st?(Pt=Pt.split("\n",We),We=Math.min(Pt.length,We),st=Math.min(Pt[We-1].length,st-1),st=1===We?st:st+1,Pt.slice(0,We-1).join("\n").length+st):-1}function Qe(Te,We){var st,Pt=[];if(We&&We.length){try{st=fe.parse(Te)}catch{return Pt}We.forEach(function(ci){var Jt=ft(Ze(ci));(Jt=st.pointers[Jt])&&Pt.push({path:ci,line:Jt.key?Jt.key.line:Jt.value?Jt.value.line:0,column:Jt.key?Jt.key.column:Jt.value?Jt.value.column:0})})}return Pt}function ft(Te){return Te.map(function(We){return"/"+String(We).replace(/~/g,"~0").replace(/\//g,"~1")}).join("")}function yt(Te){var We=document.createElement("div");return We.style.color=Te,We.style.color.split(/\s+/).join("").toLowerCase()||null}function Wt(Te){return!!yt(Te)}function Vt(Te,We){var st;return Te?(st="",Te.title&&(st+=Te.title),Te.description&&(0<st.length&&(st+="\n"),st+=Te.description),Te.default&&(0<st.length&&(st+="\n\n"),st=(st+=(0,ye.Iu)("default",void 0,We)+"\n")+JSON.stringify(Te.default,null,2)),Array.isArray(Te.examples)&&0<Te.examples.length&&(0<st.length&&(st+="\n\n"),st+=(0,ye.Iu)("examples",void 0,We)+"\n",Te.examples.forEach(function(Pt,ci){st+=JSON.stringify(Pt,null,2),ci!==Te.examples.length-1&&(st+="\n")})),st):""}function qt(Te,We){for(var st=Te,Pt=0;Pt<We.length&&null!=st;Pt++)st=st[We[Pt]];return st}function Ut(Te,We){for(var st=Te.replace(/ \(copy( \d+)?\)$/,""),Pt=st,ci=1;-1!==We.indexOf(Pt);)Pt=st+" (copy"+(1<ci?" "+ci:"")+")",ci++;return Pt}function ji(Te,We){var st={};if(Array.isArray(Te))for(var Pt=Math.min(Te.length,T),ci=0;ci<Pt;ci++)!function Jt(Ti,Yn,_o,jn){(Array.isArray(Ti)||Ve(Ti))&&!jn||(Yn[_o||""]=!0),Ve(Ti)&&Object.keys(Ti).forEach(function(Ki){Jt(Ti[Ki],Yn,_o+"."+Ki,jn)})}(Te[ci],st,"",We);else st[""]=!0;return Object.keys(st).sort()}function ot(Te,Jt,st){var Pt=Jt&&"."!==Jt?Ze(Jt):[],ci="desc"===st?-1:1;return(Jt=Te.slice()).sort(function(Ti,Yn){return Ti=qt(Ti,Pt),Yn=qt(Yn,Pt),ci*(Yn<Ti?1:Ti<Yn?-1:0)}),Jt}function xt(Te,Pt){var st="desc"===Pt?-1:1,ci=(Pt=Object.keys(Te).sort(function(Jt,Ti){return st*z()(Jt,Ti)}),{});return Pt.forEach(function(Jt){ci[Jt]=Te[Jt]}),ci}function vt(Te){var We,st;return""===Te?"":"null"===(We=Te.toLowerCase())?null:"true"===We||"false"!==We&&(We=Number(Te),st=parseFloat(Te),isNaN(We)||isNaN(st)?Te:We)}function At(Te,We){return"number"==typeof We&&j<We&&isFinite(We)&&Math.floor(We)===We&&!isNaN(new Date(We).valueOf())}function ni(Te){return Te<900?Te.toFixed()+" B":(Te/=1e3)<900?Te.toFixed(1)+" KB":(Te/=1e3)<900?Te.toFixed(1)+" MB":(Te/=1e3)<900?Te.toFixed(1)+" GB":(Te/1e3).toFixed(1)+" TB"}function si(Te,We){return Te.length<=We?Te:Te.slice(0,We)+"..."}function Ve(Te){return"object"===O(Te)&&null!==Te&&!Array.isArray(Te)}function Be(Te,We){return-1!==Te.indexOf(We)}function pt(Te,We){if(We||Te){if(We&&!Te||!We&&Te||We.length!==Te.length)return!0;for(var st=0;st<Te.length;++st){var Pt=function(ci){if(!We.find("error"===Te[ci].type?function(Ti){return Ti.line===Te[ci].line}:function(Ti){return Ti.dataPath===Te[ci].dataPath&&Ti.schemaPath===Te[ci].schemaPath}))return{v:!0}}(st);if("object"===O(Pt))return Pt.v}}return!1}function $t(Te,We){return Te=null!=Te&&Te.length?Te:[],We=null!=We&&We.length?We:[],function ce(Te){return function(We){if(Array.isArray(We))return J(We)}(Te)||function(We){if(typeof Symbol<"u"&&null!=We[Symbol.iterator]||null!=We["@@iterator"])return Array.from(We)}(Te)||function(We,st){var Pt;if(We)return"string"==typeof We?J(We,void 0):"Map"===(Pt="Object"===(Pt=Object.prototype.toString.call(We).slice(8,-1))&&We.constructor?We.constructor.name:Pt)||"Set"===Pt?Array.from(We):"Arguments"===Pt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pt)?J(We,void 0):void 0}(Te)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(Te.concat(We)))}function ui(Te){setTimeout(Te)}function $i(Te,We){return Object.prototype.hasOwnProperty.call(Te,We)}},8037:function(je,M,ue){var Ae;if(window.Picker)Ae=window.Picker;else try{Ae=ue(4049)}catch{}je.exports=Ae},6225:function(je,M,ue){function Ae(O,T){var j,N;return T=J(O,T),(O=fe.modules[T])||("function"==typeof(O=fe.payloads[T])&&(j={id:T,uri:"",exports:N={},packaged:!0},N=O(function(F,v){return ye(T,F,v)},N,j)||j.exports,fe.modules[T]=N,delete fe.payloads[T]),O=fe.modules[T]=N||O),O}var z,oe,be,fe,ye,ce,J;je=ue.nmd(je),(be=function(){return this}())||typeof window>"u"||(be=window),(fe=function(O,T,j){"string"!=typeof O?fe.original?fe.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace()):(2==arguments.length&&(j=T),fe.modules[O]||(fe.payloads[O]=j,fe.modules[O]=null))}).modules={},fe.payloads={},ye=function(O,T,j){if("string"==typeof T){var N=Ae(O,T);if(null!=N)return j&&j(),N}else if("[object Array]"===Object.prototype.toString.call(T)){for(var F=[],v=0,b=T.length;v<b;++v){var p=Ae(O,T[v]);if(null==p&&ce.original)return;F.push(p)}return j&&j.apply(null,F)||!0}},ce=function(O,T){var j=ye("",O,T);return null==j&&ce.original?ce.original.apply(this,arguments):j},J=function(O,T){var j;if(-1!==T.indexOf("!"))return j=T.split("!"),J(O,j[0])+"!"+J(O,j[1]);if("."==T.charAt(0))for(T=O.split("/").slice(0,-1).join("/")+"/"+T;-1!==T.indexOf(".")&&N!=T;){var N=T;T=T.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return T},oe=be,(z="ace")&&(be[z]||(be[z]={}),oe=be[z]),oe.define&&oe.define.packaged||(fe.original=oe.define,oe.define=fe,oe.define.packaged=!0),oe.require&&oe.require.packaged||(ce.original=oe.require,oe.require=ce,oe.require.packaged=!0),ace.define("ace/lib/es6-shim",["require","exports","module"],function(O,T,j){function N(F,v,b){Object.defineProperty(F,v,{value:b,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||N(String.prototype,"startsWith",function(F,v){return this.lastIndexOf(F,v=v||0)===v}),String.prototype.endsWith||N(String.prototype,"endsWith",function(F,v){return(void 0===v||v>this.length)&&(v=this.length),-1!==(F=this.indexOf(F,v-=F.length))&&F===v}),String.prototype.repeat||N(String.prototype,"repeat",function(F){for(var v="",b=this;0<F;)1&F&&(v+=b),(F>>=1)&&(b+=b);return v}),String.prototype.includes||N(String.prototype,"includes",function(F,v){return-1!=this.indexOf(F,v)}),Object.assign||(Object.assign=function(F){if(null==F)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(F),b=1;b<arguments.length;b++){var p=arguments[b];null!=p&&Object.keys(p).forEach(function(u){v[u]=p[u]})}return v}),Object.values||(Object.values=function(F){return Object.keys(F).map(function(v){return F[v]})}),Array.prototype.find||N(Array.prototype,"find",function(F){for(var v=this.length,b=arguments[1],p=0;p<v;p++){var u=this[p];if(F.call(b,u,p,this))return u}}),Array.prototype.findIndex||N(Array.prototype,"findIndex",function(F){for(var v=this.length,b=arguments[1],p=0;p<v;p++)if(F.call(b,this[p],p,this))return p}),Array.prototype.includes||N(Array.prototype,"includes",function(F,v){return-1!=this.indexOf(F,v)}),Array.prototype.fill||N(Array.prototype,"fill",function(F){for(var p,v=this.length>>>0,b=(p=arguments[1]>>0)<0?Math.max(v+p,0):Math.min(p,v),u=(p=void 0===(p=arguments[2])?v:p>>0)<0?Math.max(v+p,0):Math.min(p,v);b<u;)this[b]=F,b++;return this}),Array.of||N(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(O,T,j){"use strict";O("./es6-shim")}),ace.define("ace/lib/lang",["require","exports","module"],function(O,T,j){"use strict";T.last=function(v){return v[v.length-1]},T.stringReverse=function(v){return v.split("").reverse().join("")},T.stringRepeat=function(v,b){for(var p="";0<b;)1&b&&(p+=v),(b>>=1)&&(v+=v);return p};var N=/^\s\s*/,F=/\s\s*$/;T.stringTrimLeft=function(v){return v.replace(N,"")},T.stringTrimRight=function(v){return v.replace(F,"")},T.copyObject=function(v){var b,p={};for(b in v)p[b]=v[b];return p},T.copyArray=function(v){for(var b=[],p=0,u=v.length;p<u;p++)b[p]=v[p]&&"object"==typeof v[p]?this.copyObject(v[p]):v[p];return b},T.deepCopy=function v(b){if("object"!=typeof b||!b)return b;if(Array.isArray(b))for(var p=[],u=0;u<b.length;u++)p[u]=v(b[u]);else{if("[object Object]"!==Object.prototype.toString.call(b))return b;for(var u in p={},b)p[u]=v(b[u])}return p},T.arrayToMap=function(v){for(var b={},p=0;p<v.length;p++)b[v[p]]=1;return b},T.createMap=function(v){var b,p=Object.create(null);for(b in v)p[b]=v[b];return p},T.arrayRemove=function(v,b){for(var p=0;p<=v.length;p++)b===v[p]&&v.splice(p,1)},T.escapeRegExp=function(v){return v.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},T.escapeHTML=function(v){return(""+v).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},T.getMatchOffsets=function(v,b){var p=[];return v.replace(b,function(u){p.push({offset:arguments[arguments.length-2],length:u.length})}),p},T.deferredCall=function(v){function b(){u=null,v()}function p(h){return p.cancel(),u=setTimeout(b,h||0),p}var u=null;return(p.schedule=p).call=function(){return this.cancel(),v(),p},p.cancel=function(){return clearTimeout(u),u=null,p},p.isPending=function(){return u},p},T.delayedCall=function(v,b){function p(){h=null,v()}function u(d){null==h&&(h=setTimeout(p,d||b))}var h=null;return u.delay=function(d){h&&clearTimeout(h),h=setTimeout(p,d||b)},(u.schedule=u).call=function(){this.cancel(),v()},u.cancel=function(){h&&clearTimeout(h),h=null},u.isPending=function(){return h},u}}),ace.define("ace/lib/oop",["require","exports","module"],function(O,T,j){"use strict";T.inherits=function(N,F){N.super_=F,N.prototype=Object.create(F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}})},T.mixin=function(N,F){for(var v in F)N[v]=F[v];return N},T.implement=function(N,F){T.mixin(N,F)}}),ace.define("ace/lib/useragent",["require","exports","module"],function(O,T,j){"use strict";T.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},T.getOS=function(){return T.isMac?T.OS.MAC:T.isLinux?T.OS.LINUX:T.OS.WINDOWS};var v="object"==typeof navigator?navigator:{},N=(/mac|win|linux/i.exec(v.platform)||["other"])[0].toLowerCase(),F=v.userAgent||"";v=v.appName||"",T.isWin="win"==N,T.isMac="mac"==N,T.isLinux="linux"==N,T.isIE="Microsoft Internet Explorer"==v||0<=v.indexOf("MSAppHost")?parseFloat((F.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((F.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),T.isOldIE=T.isIE&&T.isIE<9,T.isGecko=T.isMozilla=F.match(/ Gecko\/\d+/),T.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),T.isWebKit=parseFloat(F.split("WebKit/")[1])||void 0,T.isChrome=parseFloat(F.split(" Chrome/")[1])||void 0,T.isEdge=parseFloat(F.split(" Edge/")[1])||void 0,T.isAIR=0<=F.indexOf("AdobeAIR"),T.isAndroid=0<=F.indexOf("Android"),T.isChromeOS=0<=F.indexOf(" CrOS "),T.isIOS=/iPad|iPhone|iPod/.test(F)&&!window.MSStream,T.isIOS&&(T.isMac=!0),T.isMobile=T.isIOS||T.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(v,T,j){"use strict";v=v("./useragent");var N,F,b=(T.buildDom=function h(d,f,k){if("string"==typeof d&&d)return w=document.createTextNode(d),f&&f.appendChild(w),w;if(!Array.isArray(d))return d&&d.appendChild&&f&&f.appendChild(d),d;if("string"!=typeof d[0]||!d[0]){for(var m=[],y=0;y<d.length;y++){var S=h(d[y],f,k);S&&m.push(S)}return m}var V=document.createElement(d[0]),E=d[1],w=1;for(y=w=E&&"object"==typeof E&&!Array.isArray(E)?2:w;y<d.length;y++)h(d[y],V,k);return 2==w&&Object.keys(E).forEach(function(B){var K=E[B];"class"===B?V.className=Array.isArray(K)?K.join(" "):K:"function"==typeof K||"value"==B||"$"==B[0]?V[B]=K:"ref"===B?k&&(k[K]=V):"style"===B?"string"==typeof K&&(V.style.cssText=K):null!=K&&V.setAttribute(B,K)}),f&&f.appendChild(V),V},T.getDocumentHead=function(h){return(h=h||document).head||h.getElementsByTagName("head")[0]||h.documentElement},T.createElement=function(h,d){return document.createElementNS?document.createElementNS(d||"http://www.w3.org/1999/xhtml",h):document.createElement(h)},T.removeChildren=function(h){h.innerHTML=""},T.createTextNode=function(h,d){return(d?d.ownerDocument:document).createTextNode(h)},T.createFragment=function(h){return(h?h.ownerDocument:document).createDocumentFragment()},T.hasCssClass=function(h,d){return-1!==(h.className+"").split(/\s+/g).indexOf(d)},T.addCssClass=function(h,d){T.hasCssClass(h,d)||(h.className+=" "+d)},T.removeCssClass=function(h,d){for(var f=h.className.split(/\s+/g);;){var k=f.indexOf(d);if(-1==k)break;f.splice(k,1)}h.className=f.join(" ")},T.toggleCssClass=function(h,d){for(var f=h.className.split(/\s+/g),k=!0;;){var m=f.indexOf(d);if(-1==m)break;k=!1,f.splice(m,1)}return k&&f.push(d),h.className=f.join(" "),k},T.setCssClass=function(h,d,f){f?T.addCssClass(h,d):T.removeCssClass(h,d)},T.hasCssString=function(h,d){var f,k=0;if(f=(d=d||document).querySelectorAll("style"))for(;k<f.length;)if(f[k++].id===h)return!0},T.removeElementById=function(h,d){(d=d||document).getElementById(h)&&d.getElementById(h).remove()},[]);function p(){var h=b;b=null,h&&h.forEach(function(d){u(d[0],d[1])})}function u(h,d,f){if(typeof document<"u"){if(b)if(f)p();else if(!1===f)return b.push([h,d]);if(!N){var k=f;if(f=(k=f&&f.getRootNode&&(k=f.getRootNode())&&k!=f?k:document).ownerDocument||k,d&&T.hasCssString(d,k))return null;d&&(h+="\n/*# sourceURL=ace/css/"+d+" */");var m=T.createElement("style");m.appendChild(f.createTextNode(h)),d&&(m.id=d),(k=k==f?T.getDocumentHead(f):k).insertBefore(m,k.firstChild)}}}T.useStrictCSP=function(h){0==(N=h)?p():b=b||[]},T.importCssString=u,T.importCssStylsheet=function(h,d){T.buildDom(["link",{rel:"stylesheet",href:h}],T.getDocumentHead(d))},T.scrollbarWidth=function(k){var d=T.createElement("ace_inner"),f=(d.style.width="100%",d.style.minWidth="0px",d.style.height="200px",d.style.display="block",T.createElement("ace_outer"));if((y=f.style).position="absolute",y.left="-10000px",y.overflow="hidden",y.width="200px",y.minWidth="0px",y.height="150px",y.display="block",f.appendChild(d),!(k=k&&k.documentElement||document&&document.documentElement))return 0;k.appendChild(f);var y,m=d.offsetWidth;return m===(y.overflow="scroll",y=d.offsetWidth)&&(y=f.clientWidth),k.removeChild(f),m-y},T.computedStyle=function(h,d){return window.getComputedStyle(h,"")||{}},T.setStyle=function(h,d,f){h[d]!==f&&(h[d]=f)},T.HAS_CSS_ANIMATION=!1,T.HAS_CSS_TRANSFORMS=!1,T.HI_DPI=!v.isWin||typeof window<"u"&&1.5<=window.devicePixelRatio,v.isChromeOS&&(T.HI_DPI=!1),typeof document<"u"&&(F=document.createElement("div"),T.HI_DPI&&void 0!==F.style.transform&&(T.HAS_CSS_TRANSFORMS=!0),v.isEdge||void 0===F.style.animationName||(T.HAS_CSS_ANIMATION=!0),F=null),T.translate=T.HAS_CSS_TRANSFORMS?function(h,d,f){h.style.transform="translate("+Math.round(d)+"px, "+Math.round(f)+"px)"}:function(h,d,f){h.style.top=Math.round(f)+"px",h.style.left=Math.round(d)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(O,T,j){"use strict";var N=O("./dom");T.get=function(F,v){var b=new XMLHttpRequest;b.open("GET",F,!0),b.onreadystatechange=function(){4===b.readyState&&v(b.responseText)},b.send(null)},T.loadScript=function(F,v){var b=N.getDocumentHead(),p=document.createElement("script");p.src=F,b.appendChild(p),p.onload=p.onreadystatechange=function(u,h){!h&&p.readyState&&"loaded"!=p.readyState&&"complete"!=p.readyState||(p=p.onload=p.onreadystatechange=null,h)||v()}},T.qualifyURL=function(F){var v=document.createElement("a");return v.href=F,v.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(O,T,j){"use strict";function N(){this.propagationStopped=!0}function F(){this.defaultPrevented=!0}var v={};v._emit=v._dispatchEvent=function(b,p){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var h=this._defaultHandlers[b];if((u=this._eventRegistry[b]||[]).length||h){(p="object"==typeof p&&p?p:{}).type||(p.type=b),p.stopPropagation||(p.stopPropagation=N),p.preventDefault||(p.preventDefault=F);for(var u=u.slice(),d=0;d<u.length&&(u[d](p,this),!p.propagationStopped);d++);return h&&!p.defaultPrevented?h(p,this):void 0}},v._signal=function(b,p){if(u=(this._eventRegistry||{})[b])for(var u=u.slice(),h=0;h<u.length;h++)u[h](p,this)},v.once=function(b,p){var u=this;if(this.on(b,function h(){u.off(b,h),p.apply(null,arguments)}),!p)return new Promise(function(h){p=h})},v.setDefaultHandler=function(b,p){var u,h,d=this._defaultHandlers;(d=d||(this._defaultHandlers={_disabled_:{}}))[b]&&(h=d[b],(u=d._disabled_[b])||(d._disabled_[b]=u=[]),u.push(h),-1!=(h=u.indexOf(p)))&&u.splice(h,1),d[b]=p},v.removeDefaultHandler=function(b,p){var u,h=this._defaultHandlers;h&&(u=h._disabled_[b],h[b]==p?u&&this.setDefaultHandler(b,u.pop()):u&&-1!=(h=u.indexOf(p))&&u.splice(h,1))},v.on=v.addEventListener=function(b,p,u){this._eventRegistry=this._eventRegistry||{};var h=this._eventRegistry[b];return-1==(h=h||(this._eventRegistry[b]=[])).indexOf(p)&&h[u?"unshift":"push"](p),p},v.off=v.removeListener=v.removeEventListener=function(b,p){this._eventRegistry=this._eventRegistry||{},(b=this._eventRegistry[b])&&-1!==(p=b.indexOf(p))&&b.splice(p,1)},v.removeAllListeners=function(b){b||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[b]=void 0),this._defaultHandlers&&(this._defaultHandlers[b]=void 0)},T.EventEmitter=v}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(O,T,j){var N=O("./oop"),F=O("./event_emitter").EventEmitter,v={setOptions:function(h){Object.keys(h).forEach(function(d){this.setOption(d,h[d])},this)},getOptions:function(h){var d,f={};return h?Array.isArray(h)||(f=h,h=Object.keys(f)):(d=this.$options,h=Object.keys(d).filter(function(k){return!d[k].hidden})),h.forEach(function(k){f[k]=this.getOption(k)},this),f},setOption:function(h,d){var f;if(this["$"+h]!==d)return(f=this.$options[h])?f.forwardTo?this[f.forwardTo]&&this[f.forwardTo].setOption(h,d):(f.handlesSet||(this["$"+h]=d),void(f&&f.set&&f.set.call(this,d))):b('misspelled option "'+h+'"')},getOption:function(h){var d=this.$options[h];return d?d.forwardTo?this[d.forwardTo]&&this[d.forwardTo].getOption(h):d&&d.get?d.get.call(this):this["$"+h]:b('misspelled option "'+h+'"')}};function b(h){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}function p(h,d){var f=new Error(h);f.data=d,"object"==typeof console&&console.error&&console.error(f),setTimeout(function(){throw f})}function u(){this.$defaultOptions={}}(function(){N.implement(this,F),this.defineOptions=function(h,d,f){return h.$options||(this.$defaultOptions[d]=h.$options={}),Object.keys(f).forEach(function(k){var m=f[k];(m="string"==typeof m?{forwardTo:m}:m).name||(m.name=k),"initialValue"in(h.$options[m.name]=m)&&(h["$"+m.name]=m.initialValue)}),N.implement(h,v),this},this.resetOptions=function(h){Object.keys(h.$options).forEach(function(d){var f=h.$options[d];"value"in f&&h.setOption(d,f.value)})},this.setDefaultValue=function(h,d,f){if(!h){for(h in this.$defaultOptions)if(this.$defaultOptions[h][d])break;if(!this.$defaultOptions[h][d])return!1}var k=this.$defaultOptions[h]||(this.$defaultOptions[h]={});k[d]&&(k.forwardTo?this.setDefaultValue(k.forwardTo,d,f):k[d].value=f)},this.setDefaultValues=function(h,d){Object.keys(d).forEach(function(f){this.setDefaultValue(h,f,d[f])},this)},this.warn=b,this.reportError=p}).call(u.prototype),T.AppConfig=u}),ace.define("ace/theme/textmate.css",["require","exports","module"],function(O,T,j){j.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],function(O,T,j){"use strict";T.isDark=!1,T.cssClass="ace-tm",T.cssText=O("./textmate.css"),T.$id="ace/theme/textmate",O("../lib/dom").importCssString(T.cssText,T.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(O,T,j){var N=O("./lib/lang"),F=(O("./lib/oop"),O("./lib/net")),v=O("./lib/dom"),b=O("./lib/app_config").AppConfig,p=(j.exports=T=new b,{packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null}),u=(T.get=function(d){if(p.hasOwnProperty(d))return p[d];throw new Error("Unknown config key: "+d)},T.set=function(d,f){if(p.hasOwnProperty(d))p[d]=f;else if(0==this.setDefaultValue("",d,f))throw new Error("Unknown config key: "+d);"useStrictCSP"==d&&v.useStrictCSP(f)},T.all=function(){return N.copyObject(p)},T.$modes={},T.moduleUrl=function(d,f){var k,m,y;return p.$moduleUrls[d]||(d=d.split("/"),k="snippets"==(f=f||d[d.length-2]||"")?"/":"-",m=d[d.length-1],"worker"==f&&"-"==k&&(y=new RegExp("^"+f+"[\\-_]|[\\-_]"+f+"$","g"),m=m.replace(y,"")),(!m||m==f)&&1<d.length&&(m=d[d.length-2]),null==(y=p[f+"Path"])?y=p.basePath:"/"==k&&(f=k=""),y&&"/"!=y.slice(-1)&&(y+="/"),y+f+k+m+this.get("suffix"))},T.setModuleUrl=function(d,f){return p.$moduleUrls[d]=f},function(d,f){return"ace/theme/textmate"==d?f(null,O("./theme/textmate")):console.error("loader is not configured")}),h=(T.setLoader=function(d){u=d},T.$loading={},T.loadModule=function(d,f){var k,m;Array.isArray(d)&&(m=d[0],d=d[1]);try{k=O(d)}catch{}if(k&&!T.$loading[d])return f&&f(k);if(T.$loading[d]||(T.$loading[d]=[]),T.$loading[d].push(f),!(1<T.$loading[d].length)){let S=function(){u(d,function(V,E){T._emit("load.module",{name:d,module:E});var w=T.$loading[d];T.$loading[d]=null,w.forEach(function(B){B&&B(E)})})};if(!T.get("packaged"))return S();F.loadScript(T.moduleUrl(d,m),S),h()}},function(){p.basePath||p.workerPath||p.modePath||p.themePath||Object.keys(p.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),h=function(){})});T.version="1.15.2"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(O,T,j){"use strict";O("./lib/fixoldbrowsers");var N=O("./config"),F=(N.setLoader(function(b,p){O([b],function(u){p(null,u)})}),function(){return this||typeof window<"u"&&window}());function v(b){if(F&&F.document){N.set("packaged",b||O.packaged||j.packaged||F.define&&ue.amdD.packaged);for(var p,u={},h="",d=((b=document.currentScript||document._currentScript)&&b.ownerDocument||document).getElementsByTagName("script"),f=0;f<d.length;f++){var k=d[f],m=k.src||k.getAttribute("src");if(m){for(var y=k.attributes,S=0,V=y.length;S<V;S++){var E=y[S];0===E.name.indexOf("data-ace-")&&(u[E.name.replace(/^data-ace-/,"").replace(/-(.)/g,function(B,K){return K.toUpperCase()})]=E.value)}(k=m.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/))&&(h=k[1])}}for(p in h&&(u.base=u.base||h,u.packaged=!0),u.basePath=u.base,u.workerPath=u.workerPath||u.base,u.modePath=u.modePath||u.base,u.themePath=u.themePath||u.base,delete u.base,u)void 0!==u[p]&&N.set(p,u[p])}}j.exports=function(b){N.init=v,b.require=O,b.define=ue.amdD},v(!0)}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(O,T,j){"use strict";var N=O("./oop"),F=function(){var v,b,p={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(b in p.PRINTABLE_KEYS[173]="-",p.FUNCTION_KEYS)v=p.FUNCTION_KEYS[b].toLowerCase(),p[v]=parseInt(b,10);for(b in p.PRINTABLE_KEYS)v=p.PRINTABLE_KEYS[b].toLowerCase(),p[v]=parseInt(b,10);N.mixin(p,p.MODIFIER_KEYS),N.mixin(p,p.PRINTABLE_KEYS),N.mixin(p,p.FUNCTION_KEYS),p.enter=p.return,p.escape=p.esc,p.del=p.delete;for(var u=["cmd","ctrl","alt","shift"],h=Math.pow(2,u.length);h--;)p.KEY_MODS[h]=u.filter(function(d){return h&p.KEY_MODS[d]}).join("-")+"-";return p.KEY_MODS[0]="",p.KEY_MODS[-1]="input-",p}();N.mixin(T,F),T.keyCodeToString=function(v){var b=F[v];return(b="string"!=typeof b?String.fromCharCode(v):b).toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(O,T,j){"use strict";var N,F=O("./keys"),v=O("./useragent"),b=null,p=0;function u(){if(null==N){N=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){N={passive:!1}}})}catch{}}return N}function h(V,E,w){this.elem=V,this.type=E,this.callback=w}function d(V){return 0|(V.ctrlKey?1:0)|(V.altKey?2:0)|(V.shiftKey?4:0)|(V.metaKey?8:0)}h.prototype.destroy=function(){m(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var f,k=T.addListener=function(V,E,w,B){V.addEventListener(E,w,u()),B&&B.$toDestroy.push(new h(V,E,w))},m=T.removeListener=function(V,E,w){V.removeEventListener(E,w,u())};function y(V,E,w){var B=d(E);if(!v.isMac&&b){if(E.getModifierState&&(E.getModifierState("OS")||E.getModifierState("Win"))&&(B|=8),b.altGr){if(3==(3&B))return;b.altGr=0}18!==w&&17!==w||(K="location"in E?E.location:E.keyLocation,17===w&&1===K?1==b[w]&&(p=E.timeStamp):18===w&&3===B&&2===K&&E.timeStamp-p<50&&(b.altGr=!0))}if(w in F.MODIFIER_KEYS&&(w=-1),!B&&13===w){var K="location"in E?E.location:E.keyLocation;if(3===K&&(V(E,B,-w),E.defaultPrevented))return}if(v.isChromeOS&&8&B){if(V(E,B,w),E.defaultPrevented)return;B&=-9}return!!(B||w in F.FUNCTION_KEYS||w in F.PRINTABLE_KEYS)&&V(E,B,w)}function S(){b=Object.create(null)}T.stopEvent=function(V){return T.stopPropagation(V),T.preventDefault(V),!1},T.stopPropagation=function(V){V.stopPropagation&&V.stopPropagation()},T.preventDefault=function(V){V.preventDefault&&V.preventDefault()},T.getButton=function(V){return"dblclick"==V.type?0:"contextmenu"==V.type||v.isMac&&V.ctrlKey&&!V.altKey&&!V.shiftKey?2:V.button},T.capture=function(V,E,w){var B=V&&V.ownerDocument||document;function K(U){E&&E(U),w&&w(U),m(B,"mousemove",E),m(B,"mouseup",K),m(B,"dragstart",K)}return k(B,"mousemove",E),k(B,"mouseup",K),k(B,"dragstart",K),K},T.addMouseWheelListener=function(V,E,w){k(V,"wheel",function(B){var K=B.deltaX||0,U=B.deltaY||0;switch(B.deltaMode){case B.DOM_DELTA_PIXEL:B.wheelX=.15*K,B.wheelY=.15*U;break;case B.DOM_DELTA_LINE:B.wheelX=15*K,B.wheelY=15*U;break;case B.DOM_DELTA_PAGE:B.wheelX=150*K,B.wheelY=150*U}E(B)},w)},T.addMultiMouseDownListener=function(V,E,w,B,K){var U,W,re,H=0,L={2:"dblclick",3:"tripleclick",4:"quadclick"};function R(Q){var ae;if(0!==T.getButton(Q)?H=0:1<Q.detail&&!(4<++H)||(H=1),v.isIE&&(ae=5<Math.abs(Q.clientX-U)||5<Math.abs(Q.clientY-W),re&&!ae||(H=1),re&&clearTimeout(re),re=setTimeout(function(){re=null},E[H-1]||600),1==H)&&(U=Q.clientX,W=Q.clientY),Q._clicks=H,w[B]("mousedown",Q),4<H)H=0;else if(1<H)return w[B](L[H],Q)}(V=Array.isArray(V)?V:[V]).forEach(function(Q){k(Q,"mousedown",R,K)})},T.getModifierString=function(V){return F.KEY_MODS[d(V)]},T.addCommandKeyListener=function(V,E,w){var B,K;v.isOldGecko||v.isOpera&&!("KeyboardEvent"in window)?(B=null,k(V,"keydown",function(U){B=U.keyCode},w),k(V,"keypress",function(U){return y(E,U,B)},w)):(K=null,k(V,"keydown",function(U){b[U.keyCode]=(b[U.keyCode]||0)+1;var W=y(E,U,U.keyCode);return K=U.defaultPrevented,W},w),k(V,"keypress",function(U){K&&(U.ctrlKey||U.altKey||U.shiftKey||U.metaKey)&&(T.stopEvent(U),K=null)},w),k(V,"keyup",function(U){b[U.keyCode]=null},w),b||(S(),k(window,"focus",S)))},"object"==typeof window&&window.postMessage&&!v.isOldIE&&(f=1,T.nextTick=function(V,E){E=E||window;var B="zero-timeout-message-"+f++;k(E,"message",function w(K){K.data==B&&(T.stopPropagation(K),m(E,"message",w),V())}),E.postMessage(B,"*")}),T.$idleBlocked=!1,T.onIdle=function(V,E){return setTimeout(function w(){T.$idleBlocked?setTimeout(w,100):V()},E)},T.$idleBlockId=null,T.blockIdle=function(V){T.$idleBlockId&&clearTimeout(T.$idleBlockId),T.$idleBlocked=!0,T.$idleBlockId=setTimeout(function(){T.$idleBlocked=!1},V||100)},T.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),T.nextFrame=T.nextFrame?T.nextFrame.bind(window):function(V){setTimeout(V,17)}}),ace.define("ace/range",["require","exports","module"],function(O,T,j){"use strict";function N(F,v,b,p){this.start={row:F,column:v},this.end={row:b,column:p}}(function(){this.isEqual=function(F){return this.start.row===F.start.row&&this.end.row===F.end.row&&this.start.column===F.start.column&&this.end.column===F.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(F,v){return 0==this.compare(F,v)},this.compareRange=function(v){var b=v.end;return v=v.start,1==(b=this.compare(b.row,b.column))?1==(b=this.compare(v.row,v.column))?2:0==b?1:0:-1==b?-2:-1==(b=this.compare(v.row,v.column))?-1:1==b?42:0},this.comparePoint=function(F){return this.compare(F.row,F.column)},this.containsRange=function(F){return 0==this.comparePoint(F.start)&&0==this.comparePoint(F.end)},this.intersects=function(F){return-1==(F=this.compareRange(F))||0==F||1==F},this.isEnd=function(F,v){return this.end.row==F&&this.end.column==v},this.isStart=function(F,v){return this.start.row==F&&this.start.column==v},this.setStart=function(F,v){"object"==typeof F?(this.start.column=F.column,this.start.row=F.row):(this.start.row=F,this.start.column=v)},this.setEnd=function(F,v){"object"==typeof F?(this.end.column=F.column,this.end.row=F.row):(this.end.row=F,this.end.column=v)},this.inside=function(F,v){return 0==this.compare(F,v)&&!this.isEnd(F,v)&&!this.isStart(F,v)},this.insideStart=function(F,v){return 0==this.compare(F,v)&&!this.isEnd(F,v)},this.insideEnd=function(F,v){return 0==this.compare(F,v)&&!this.isStart(F,v)},this.compare=function(F,v){return this.isMultiLine()||F!==this.start.row?F<this.start.row?-1:F>this.end.row?1:this.start.row===F?v>=this.start.column?0:-1:this.end.row!==F||v<=this.end.column?0:1:v<this.start.column?-1:v>this.end.column?1:0},this.compareStart=function(F,v){return this.start.row==F&&this.start.column==v?-1:this.compare(F,v)},this.compareEnd=function(F,v){return this.end.row==F&&this.end.column==v?1:this.compare(F,v)},this.compareInside=function(F,v){return this.end.row==F&&this.end.column==v?1:this.start.row==F&&this.start.column==v?-1:this.compare(F,v)},this.clipRows=function(F,v){var b,p;return this.end.row>v?b={row:v+1,column:0}:this.end.row<F&&(b={row:F,column:0}),this.start.row>v?p={row:v+1,column:0}:this.start.row<F&&(p={row:F,column:0}),N.fromPoints(p||this.start,b||this.end)},this.extend=function(F,v){var b,p,u=this.compare(F,v);return 0==u?this:(-1==u?b={row:F,column:v}:p={row:F,column:v},N.fromPoints(b||this.start,p||this.end))},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return N.fromPoints(this.start,this.end)},this.collapseRows=function(){return new N(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},this.toScreenRange=function(b){var v=b.documentToScreenPosition(this.start);return b=b.documentToScreenPosition(this.end),new N(v.row,v.column,b.row,b.column)},this.moveBy=function(F,v){this.start.row+=F,this.start.column+=v,this.end.row+=F,this.end.column+=v}}).call(N.prototype),N.fromPoints=function(F,v){return new N(F.row,F.column,v.row,v.column)},N.comparePoints=function(F,v){return F.row-v.row||F.column-v.column},N.comparePoints=function(F,v){return F.row-v.row||F.column-v.column},T.Range=N}),ace.define("ace/clipboard",["require","exports","module"],function(O,T,j){"use strict";var N;j.exports={lineMode:!1,pasteCancelled:function(){return!!(N&&N>Date.now()-50)||(N=!1)},cancel:function(){N=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(O,T,j){"use strict";var N=O("../lib/event"),F=O("../lib/useragent"),v=O("../lib/dom"),b=O("../lib/lang"),p=O("../clipboard"),u=F.isChrome<18,h=F.isIE,d=63<F.isChrome,f=O("../lib/keys"),k=f.KEY_MODS,m=F.isIOS,y=m?/\s/:/\n/,S=F.isMobile;T.TextInput=function(V,E){var w=v.createElement("textarea"),B=(w.className="ace_text-input",w.setAttribute("wrap","off"),w.setAttribute("autocorrect","off"),w.setAttribute("autocapitalize","off"),w.setAttribute("spellcheck",!1),w.style.opacity="0",V.insertBefore(w,V.firstChild),!1),K=!1,U=!1,W=!1,re="",H=(S||(w.style.fontSize="1px"),!1),L=!1,R="",Q=0,ae=0,ve=0;try{var xe=document.activeElement===w}catch{}function Se(ot){Z(ot,!0)}function we(ot){Z(ot,!1)}function Ge(ot){var xt=G(ot);p.pasteCancelled()||("string"==typeof xt?(xt&&E.onPaste(xt,ot),F.isIE&&setTimeout(Ie),N.preventDefault(ot)):(w.value="",K=!0))}this.setAriaOptions=function(ot){ot.activeDescendant?(w.setAttribute("aria-haspopup","true"),w.setAttribute("aria-autocomplete","list"),w.setAttribute("aria-activedescendant",ot.activeDescendant)):(w.setAttribute("aria-haspopup","false"),w.setAttribute("aria-autocomplete","both"),w.removeAttribute("aria-activedescendant")),ot.role&&w.setAttribute("role",ot.role)},this.setAriaOptions({role:"textbox"}),N.addListener(w,"blur",function(ot){L||(E.onBlur(ot),xe=!1)},E),N.addListener(w,"focus",function(ot){if(!L){if(xe=!0,F.isEdge)try{if(!document.hasFocus())return}catch{}E.onFocus(ot),F.isEdge?setTimeout(Ie):Ie()}},E),this.$focusScroll=!1,this.focus=function(){if(re||d||"browser"==this.$focusScroll)return w.focus({preventScroll:!0});var ot=w.style.top;w.style.position="fixed",w.style.top="0px";try{var xt=0!=w.getBoundingClientRect().top}catch{return}var vt=[];if(xt)for(var At=w.parentElement;At&&1==At.nodeType;)vt.push(At),At.setAttribute("ace_nocontext",!0),At=!At.parentElement&&At.getRootNode?At.getRootNode().host:At.parentElement;w.focus({preventScroll:!0}),xt&&vt.forEach(function(ni){ni.removeAttribute("ace_nocontext")}),setTimeout(function(){w.style.position="","0px"==w.style.top&&(w.style.top=ot)},0)},this.blur=function(){w.blur()},this.isFocused=function(){return xe},E.on("beforeEndOperation",function(){var ot=E.curOp,xt=ot&&ot.command&&ot.command.name;"insertstring"!=xt&&(xt=xt&&(ot.docChanged||ot.selectionChanged),U&&xt&&(R=w.value="",_e()),Ie())});var Ie=m?function(ot){var xt;!xe||B&&!ot||W||((xt="\n ab"+(ot=ot||"")+"cde fg\n")!=w.value&&(w.value=R=xt),xt=4+(ot.length||(E.selection.isEmpty()?0:1)),4==Q&&ae==xt||w.setSelectionRange(4,xt),Q=4,ae=xt)}:function(){if(!U&&!W&&(xe||de)){U=!0;var ot,xt,vt=0,At=0,ni="",si=(E.session&&(vt=(si=(ot=E.selection).getRange()).start.column,At=si.end.column,ni=E.session.getLine(ot=ot.cursor.row),si.start.row!=ot?(xt=E.session.getLine(ot-1),vt=si.start.row<ot-1?0:vt,At+=xt.length+1,ni=xt+"\n"+ni):si.end.row!=ot?(xt=E.session.getLine(ot+1),At=si.end.row>ot+1?xt.length:At,At+=ni.length+1,ni=ni+"\n"+xt):S&&0<ot&&(ni="\n"+ni,At+=1,vt+=1),400<ni.length)&&(vt<400&&At<400?ni=ni.slice(0,400):(ni="\n",vt==At?vt=At=0:(vt=0,At=1))),ni+"\n\n");if(si!=R&&(w.value=R=si,Q=ae=si.length),de&&(Q=w.selectionStart,ae=w.selectionEnd),ae!=At||Q!=vt||w.selectionEnd!=ae)try{w.setSelectionRange(vt,At),Q=vt,ae=At}catch{}U=!1}},Ze=(this.resetSelection=Ie,xe&&E.onFocus(),function(ot){return 0===ot.selectionStart&&ot.selectionEnd>=R.length&&ot.value===R&&R&&ot.selectionEnd!==ae}),X=null,de=(this.setInputHandler=function(ot){X=ot},!(this.getInputHandler=function(){return X})),ge=function(ot,xt){if(de=de&&!1,K)return Ie(),ot&&E.onPaste(ot),K=!1,"";for(var vt=w.selectionStart,At=w.selectionEnd,ni=Q,si=R.length-ae,Ve=ot,Be=ot.length-vt,pt=ot.length-At,$t=0;0<ni&&R[$t]==ot[$t];)$t++,ni--;for(Ve=Ve.slice($t),$t=1;0<si&&R.length-$t>Q-1&&R[R.length-$t]==ot[ot.length-$t];)$t++,si--;Be-=$t-1,pt-=$t-1;var ui=Ve.length-$t+1;return ui<0&&(ni=-ui,ui=0),Ve=Ve.slice(0,ui),xt||Ve||Be||ni||si||pt?(ui=!(W=!0),F.isAndroid&&". "==Ve&&(Ve="  ",ui=!0),Ve&&!ni&&!si&&!Be&&!pt||H?E.onTextInput(Ve):E.onTextInput(Ve,{extendLeft:ni,extendRight:si,restoreStart:Be,restoreEnd:pt}),W=!1,R=ot,Q=vt,ae=At,ve=pt,ui?"\n":Ve):""},Ce=function(xt){if(U)return ne();if(xt&&xt.inputType){if("historyUndo"==xt.inputType)return E.execCommand("undo");if("historyRedo"==xt.inputType)return E.execCommand("redo")}var vt=ge(xt=w.value,!0);(500<xt.length||y.test(vt)||S&&Q<1&&Q==ae)&&Ie()},G=function(ot,xt,vt){var At=ot.clipboardData||window.clipboardData;if(At&&!u){var ni=h||vt?"Text":"text/plain";try{return xt?!1!==At.setData(ni,xt):At.getData(ni)}catch(si){if(!vt)return G(si,xt,!0)}}},Z=function(ot,xt){var vt=E.getCopyText();if(!vt)return N.preventDefault(ot);G(ot,vt)?(m&&(Ie(vt),B=vt,setTimeout(function(){B=!1},10)),xt?E.onCut():E.onCopy(),N.preventDefault(ot)):(B=!0,w.value=vt,w.select(),setTimeout(function(){B=!1,Ie(),xt?E.onCut():E.onCopy()}))},ne=(N.addCommandKeyListener(w,E.onCommandKey.bind(E),E),N.addListener(w,"select",function(ot){U||(B?B=!1:Ze(w)?(E.selectAll(),Ie()):S&&w.selectionStart!=Q&&Ie())},E),N.addListener(w,"input",Ce,E),N.addListener(w,"cut",Se,E),N.addListener(w,"copy",we,E),N.addListener(w,"paste",Ge,E),"oncut"in w&&"oncopy"in w&&"onpaste"in w||N.addListener(V,"keydown",function(ot){if((!F.isMac||ot.metaKey)&&ot.ctrlKey)switch(ot.keyCode){case 67:we(ot);break;case 86:Ge(ot);break;case 88:Se(ot)}},E),function(){var ot;if(U&&E.onCompositionUpdate&&!E.$readOnly)return H?Ee():void(U.useTextareaForIME?E.onCompositionUpdate(w.value):(ot=w.value,ge(ot),U.markerRange&&(U.context&&(U.markerRange.start.column=U.selectionStart=U.context.compositionStartOffset),U.markerRange.end.column=U.markerRange.start.column+ae-U.selectionStart+ve)))}),_e=function(ot){E.onCompositionEnd&&!E.$readOnly&&(U=!1,E.onCompositionEnd(),E.off("mousedown",Ee),ot)&&Ce()};function Ee(){L=!0,w.blur(),w.focus(),L=!1}var Qe,ft=b.delayedCall(ne,50).schedule.bind(null,null);function yt(){clearTimeout(Qe),Qe=setTimeout(function(){re&&(w.style.cssText=re,re=""),E.renderer.$isMousePressed=!1,E.renderer.$keepTextAreaAtCursor&&E.renderer.$moveTextAreaToCursor()},0)}function Wt(ot){E.textInput.onContextMenu(ot),yt()}if(N.addListener(w,"compositionstart",function(ot){U||!E.onCompositionStart||E.$readOnly||(U={},H)||(ot.data&&(U.useTextareaForIME=!1),setTimeout(ne,0),E._signal("compositionStart"),E.on("mousedown",Ee),(ot=E.getSelectionRange()).end.row=ot.start.row,ot.end.column=ot.start.column,U.markerRange=ot,U.selectionStart=Q,E.onCompositionStart(U),U.useTextareaForIME?(R=w.value="",ae=Q=0):(w.msGetInputContext&&(U.context=w.msGetInputContext()),w.getInputContext&&(U.context=w.getInputContext())))},E),N.addListener(w,"compositionupdate",ne,E),N.addListener(w,"keyup",function(ot){27==ot.keyCode&&w.value.length<w.selectionStart&&(U||(R=w.value),Q=ae=-1,Ie()),ft()},E),N.addListener(w,"keydown",ft,E),N.addListener(w,"compositionend",_e,E),this.getElement=function(){return w},this.setCommandMode=function(ot){H=ot,w.readOnly=!1},this.setReadOnly=function(ot){H||(w.readOnly=ot)},this.setCopyWithEmptySelection=function(ot){},this.onContextMenu=function(ot){de=!0,Ie(),E._emit("nativecontextmenu",{target:E,domEvent:ot}),this.moveToMouse(ot,!0)},this.moveToMouse=function(ot,At){function vt(pt){v.translate(w,pt.clientX-Ve-2,Math.min(pt.clientY-si-2,Be))}re=re||w.style.cssText,w.style.cssText=(At?"z-index:100000;":"")+(F.isIE?"opacity:0.1;":"")+"text-indent: -"+(Q+ae)*E.renderer.characterWidth*.5+"px;",At=E.container.getBoundingClientRect();var ni=v.computedStyle(E.container),si=At.top+(parseInt(ni.borderTopWidth)||0),Ve=At.left+(parseInt(At.borderLeftWidth)||0),Be=At.bottom-si-w.clientHeight-2;vt(ot),"mousedown"==ot.type&&(E.renderer.$isMousePressed=!0,clearTimeout(Qe),F.isWin)&&N.capture(E.container,vt,yt)},this.onContextMenuClose=yt,N.addListener(w,"mouseup",Wt,E),N.addListener(w,"mousedown",function(ot){ot.preventDefault(),yt()},E),N.addListener(E.renderer.scroller,"contextmenu",Wt,E),N.addListener(w,"contextmenu",Wt,E),m){let ot=function(xt){var vt,At,ni,si;document.activeElement!==qt||ji||U||Vt.$mouseHandler.isMousePressed||B||(At=qt.selectionEnd,ni=null,(si=0)==(vt=qt.selectionStart)?ni=f.up:1==vt?ni=f.home:ae<At&&"\n"==R[At]?ni=f.end:vt<Q&&" "==R[vt-1]?(ni=f.left,si=k.option):vt<Q||vt==Q&&ae!=Q&&vt==At?ni=f.left:ae<At&&2<R.slice(0,At).split("\n").length?ni=f.down:ae<At&&" "==R[At-1]?(ni=f.right,si=k.option):(ae<At||At==ae&&ae!=Q&&vt==At)&&(ni=f.right),vt!==At&&(si|=k.shift),ni&&(!Vt.onCommandKey({},si,ni)&&Vt.commands&&(ni=f.keyCodeToString(ni),si=Vt.commands.findKeyCommand(si,ni))&&Vt.execCommand(si),Q=vt,ae=At,Ie("")))};var Vt=E,qt=w,Ut=null,ji=!1;qt.addEventListener("keydown",function(xt){Ut&&clearTimeout(Ut),ji=!0},!0),qt.addEventListener("keyup",function(xt){Ut=setTimeout(function(){ji=!1},100)},!0),document.addEventListener("selectionchange",ot),Vt.on("destroy",function(){document.removeEventListener("selectionchange",ot)})}this.destroy=function(){w.parentElement&&w.parentElement.removeChild(w)}},T.$setUserAgentForTests=function(V,E){S=V,m=E}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(O,T,j){"use strict";var N=O("../lib/useragent");function F(b){b.$clickSelection=null;var p=b.editor;p.setDefaultHandler("mousedown",this.onMouseDown.bind(b)),p.setDefaultHandler("dblclick",this.onDoubleClick.bind(b)),p.setDefaultHandler("tripleclick",this.onTripleClick.bind(b)),p.setDefaultHandler("quadclick",this.onQuadClick.bind(b)),p.setDefaultHandler("mousewheel",this.onMouseWheel.bind(b)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(u){b[u]=this[u]},this),b.selectByLines=this.extendSelectionBy.bind(b,"getLineRange"),b.selectByWords=this.extendSelectionBy.bind(b,"getWordRange")}function v(b,p){return(b.start.row==b.end.row?2*p.column-b.start.column-b.end.column:b.start.row!=b.end.row-1||b.start.column||b.end.column?2*p.row-b.start.row-b.end.row:p.column-4)<0?{cursor:b.start,anchor:b.end}:{cursor:b.end,anchor:b.start}}(function(){this.onMouseDown=function(b){var p=b.inSelection(),u=b.getDocumentPosition(),h=(this.mousedownEvent=b,this.editor),d=b.getButton();if(0!==d)!h.getSelectionRange().isEmpty()&&1!=d||h.selection.moveToPosition(u),2==d&&(h.textInput.onContextMenu(b.domEvent),N.isMozilla||b.preventDefault());else{if(this.mousedownEvent.time=Date.now(),!p||h.isFocused()||(h.focus(),!this.$focusTimeout)||this.$clickSelection||h.inMultiSelectMode)return this.captureMouse(b),this.startSelect(u,1<b.domEvent._clicks),b.preventDefault();this.setState("focusWait"),this.captureMouse(b)}},this.startSelect=function(b,p){b=b||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var u=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?u.selection.selectToPosition(b):p||u.selection.moveToPosition(b),p||this.select(),u.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var b,p=this.editor,u=p.renderer.screenToTextCoordinates(this.x,this.y);this.$clickSelection&&(b=-1==(b=this.$clickSelection.comparePoint(u))?this.$clickSelection.end:1==b?this.$clickSelection.start:(u=(b=v(this.$clickSelection,u)).cursor,b.anchor),p.selection.setSelectionAnchor(b.row,b.column)),p.selection.selectToPosition(u),p.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(k){var p,u,h,d=this.editor,f=d.renderer.screenToTextCoordinates(this.x,this.y);k=d.selection[k](f.row,f.column),this.$clickSelection&&(u=this.$clickSelection.comparePoint(k.start),p=this.$clickSelection.comparePoint(k.end),-1==u&&p<=0?(h=this.$clickSelection.end,k.end.row==f.row&&k.end.column==f.column||(f=k.start)):1==p&&0<=u?(h=this.$clickSelection.start,k.start.row==f.row&&k.start.column==f.column||(f=k.end)):h=-1==u&&1==p?(f=k.end,k.start):(f=(u=v(this.$clickSelection,f)).cursor,u.anchor),d.selection.setSelectionAnchor(h.row,h.column)),d.selection.selectToPosition(f),d.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},this.focusWait=function(){h=this.mousedownEvent.x,b=this.mousedownEvent.y,u=this.x,p=this.y;var b,p,u=Math.sqrt(Math.pow(u-h,2)+Math.pow(p-b,2)),h=Date.now();(0<u||h-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(p){p=p.getDocumentPosition();var u=this.editor,h=u.session.getBracketRange(p);h?(h.isEmpty()&&(h.start.column--,h.end.column++),this.setState("select")):(h=u.selection.getWordRange(p.row,p.column),this.setState("selectByWords")),this.$clickSelection=h,this.select()},this.onTripleClick=function(p){p=p.getDocumentPosition();var u=this.editor,h=(this.setState("selectByLines"),u.getSelectionRange());h.isMultiLine()&&h.contains(p.row,p.column)?(this.$clickSelection=u.selection.getLineRange(h.start.row),this.$clickSelection.end=u.selection.getLineRange(h.end.row).end):this.$clickSelection=u.selection.getLineRange(p.row),this.select()},this.onQuadClick=function(b){var p=this.editor;p.selectAll(),this.$clickSelection=p.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(b){var p,u,h,d,f,k,m;if(!b.getAccelKey())return b.getShiftKey()&&b.wheelY&&!b.wheelX&&(b.wheelX=b.wheelY,b.wheelY=0),p=this.editor,this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0}),d=(m=(h=b.domEvent.timeStamp)-(u=this.$lastScroll).t)?b.wheelX/m:u.vx,f=m?b.wheelY/m:u.vy,m<550&&(d=(d+u.vx)/2,f=(f+u.vy)/2),m=!1,1<=(k=Math.abs(d/f))&&p.renderer.isScrollableBy(b.wheelX*b.speed,0)&&(m=!0),(m=!!(k<=1&&p.renderer.isScrollableBy(0,b.wheelY*b.speed))||m)?u.allowed=h:h-u.allowed<550&&(Math.abs(d)<=1.5*Math.abs(u.vx)&&Math.abs(f)<=1.5*Math.abs(u.vy)?(m=!0,u.allowed=h):u.allowed=0),u.t=h,u.vx=d,u.vy=f,m?(p.renderer.scrollBy(b.wheelX*b.speed,b.wheelY*b.speed),b.stop()):void 0}}).call(F.prototype),T.DefaultHandlers=F}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(O,T,j){"use strict";O("./lib/oop");var N=O("./lib/dom"),F="ace_tooltip";function v(b){this.isOpen=!1,this.$element=null,this.$parentNode=b}(function(){this.$init=function(){return this.$element=N.createElement("div"),this.$element.className=F,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(b){this.getElement().textContent=b},this.setHtml=function(b){this.getElement().innerHTML=b},this.setPosition=function(b,p){this.getElement().style.left=b+"px",this.getElement().style.top=p+"px"},this.setClassName=function(b){N.addCssClass(this.getElement(),b)},this.show=function(b,p,u){null!=b&&this.setText(b),null!=p&&null!=u&&this.setPosition(p,u),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=F,this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(v.prototype),T.Tooltip=v}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(O,T,j){"use strict";var N=O("../lib/dom"),F=O("../lib/oop"),v=O("../lib/event"),b=O("../tooltip").Tooltip;function p(u){b.call(this,u)}F.inherits(p,b),function(){this.setPosition=function(u,h){var d=window.innerWidth||document.documentElement.clientWidth,f=window.innerHeight||document.documentElement.clientHeight,k=this.getWidth(),m=this.getHeight();d<(u+=15)+k&&(u-=u+k-d),f<(h+=15)+m&&(h-=20+m),b.prototype.setPosition.call(this,u,h)}}.call(p.prototype),T.GutterHandler=function(u){var h,d,f,k=u.editor,m=k.renderer.$gutterLayer,y=new p(k.container);function S(){h=h&&clearTimeout(h),f&&(y.hide(),f=null,k._signal("hideGutterTooltip",y),k.off("mousewheel",S))}function V(E){y.setPosition(E.x,E.y)}u.editor.setDefaultHandler("guttermousedown",function(E){if(k.isFocused()&&0==E.getButton()&&"foldWidgets"!=(w=m.getRegion(E))){var w=E.getDocumentPosition().row,B=k.session.selection;if(E.getShiftKey())B.selectTo(w,0);else{if(2==E.domEvent.detail)return k.selectAll(),E.preventDefault();u.$clickSelection=k.selection.getLineRange(w)}return u.setState("selectByLines"),u.captureMouse(E),E.preventDefault()}}),u.editor.setDefaultHandler("guttermousemove",function(E){if(N.hasCssClass(E.domEvent.target||E.domEvent.srcElement,"ace_fold-widget"))return S();f&&u.$tooltipFollowsMouse&&V(E),d=E,h=h||setTimeout(function(){if(h=null,d&&!u.isMousePressed){var B=d.getDocumentPosition().row,K=m.$annotations[B];if(K){if(B==k.session.getLength()){B=k.renderer.pixelToScreenCoordinates(0,d.y).row;var U=d.$pos;if(B>k.session.documentToScreenRow(U.row,U.column))return void S()}f!=K&&(f=K.text.join("<br/>"),y.setHtml(f),(B=K.className)&&y.setClassName(B.trim()),y.show(),k._signal("showGutterTooltip",y),k.on("mousewheel",S),u.$tooltipFollowsMouse?V(d):(U=d.domEvent.target.getBoundingClientRect(),(K=y.getElement().style).left=U.right+"px",K.top=U.bottom+"px"))}else S()}else S()},50)}),v.addListener(k.renderer.$gutter,"mouseout",function(E){d=null,f&&(h=h||setTimeout(function(){h=null,S()},50))},k),k.on("changeSession",S)}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(v,T,j){"use strict";var N=v("../lib/event"),F=v("../lib/useragent");v=T.MouseEvent=function(b,p){this.domEvent=b,this.editor=p,this.x=this.clientX=b.clientX,this.y=this.clientY=b.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1},function(){this.stopPropagation=function(){N.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){N.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){var b,p;return null===this.$inSelection&&((b=this.editor.getSelectionRange()).isEmpty()?this.$inSelection=!1:(p=this.getDocumentPosition(),this.$inSelection=b.contains(p.row,p.column))),this.$inSelection},this.getButton=function(){return N.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=F.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}.call(v.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(O,T,j){"use strict";var N=O("../lib/dom"),F=O("../lib/event"),v=O("../lib/useragent");function b(u){var h,d,f,k,m,y,S,V,E,w,B,K=u.editor,U=N.createElement("div"),W=(U.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",U.textContent="\xa0",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(Se){u[Se]=this[Se]},this),K.on("mousedown",this.onMouseDown.bind(u)),K.container),re=0;function H(){var Se,we,Ge,Ie,Ze,X,de,ge,Ce=y;Ge=y=K.renderer.screenToTextCoordinates(d,f),we=Ce,Ie=Date.now(),Se=!we||Ge.row!=we.row,we=!we||Ge.column!=we.column,!w||Se||we?(K.moveCursorToPosition(Ge),w=Ie,B={x:d,y:f}):5<p(B.x,B.y,d,f)?w=null:200<=Ie-w&&(K.renderer.scrollCursorIntoView(),w=null),Se=y,we=Ce,Ge=Date.now(),Ie=K.renderer.layerConfig.lineHeight,Ce=K.renderer.layerConfig.characterWidth,Ze=K.renderer.scroller.getBoundingClientRect(),Ze={x:{left:d-Ze.left,right:Ze.right-d},y:{top:f-Ze.top,bottom:Ze.bottom-f}},X=Math.min(Ze.x.left,Ze.x.right),de=Math.min(Ze.y.top,Ze.y.bottom),ge={row:Se.row,column:Se.column},X/Ce<=2&&(ge.column+=Ze.x.left<Ze.x.right?-3:2),de/Ie<=1&&(ge.row+=Ze.y.top<Ze.y.bottom?-1:1),Ce=Se.column!=ge.column,de=!we||Se.row!=we.row,(X=Se.row!=ge.row)||Ce&&!de?E?200<=Ge-E&&K.renderer.scrollCursorIntoView(ge):E=Ge:E=null}function L(){m=K.selection.toOrientedRange(),h=K.session.addMarker(m,"ace_selection",K.getSelectionStyle()),K.clearSelection(),K.isFocused()&&K.renderer.$cursorLayer.setBlinking(!1),clearInterval(k),H(),k=setInterval(H,20),re=0,F.addListener(document,"mousemove",ae)}function R(){clearInterval(k),K.session.removeMarker(h),h=null,K.selection.fromOrientedRange(m),K.isFocused()&&!V&&K.$resetCursorStyle(),re=0,w=E=y=m=null,F.removeListener(document,"mousemove",ae)}this.onDragStart=function(Se){var we;if(this.cancelDrag||!W.draggable)return we=this,setTimeout(function(){we.startSelect(),we.captureMouse(Se)},0),Se.preventDefault();m=K.getSelectionRange();var Ge=Se.dataTransfer;Ge.effectAllowed=K.getReadOnly()?"copy":"copyMove",K.container.appendChild(U),Ge.setDragImage&&Ge.setDragImage(U,0,0),setTimeout(function(){K.container.removeChild(U)}),Ge.clearData(),Ge.setData("Text",K.session.getTextRange()),V=!0,this.setState("drag")},this.onDragEnd=function(Se){W.draggable=!1,V=!1,this.setState(null),K.getReadOnly()||(Se=Se.dataTransfer.dropEffect,S||"move"!=Se||K.session.remove(K.getSelectionRange()),K.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(Se){if(!K.getReadOnly()&&ve(Se.dataTransfer))return d=Se.clientX,f=Se.clientY,h||L(),re++,Se.dataTransfer.dropEffect=S=xe(Se),F.preventDefault(Se)},this.onDragOver=function(Se){if(!K.getReadOnly()&&ve(Se.dataTransfer))return d=Se.clientX,f=Se.clientY,h||(L(),re++),null!==Q&&(Q=null),Se.dataTransfer.dropEffect=S=xe(Se),F.preventDefault(Se)},this.onDragLeave=function(Se){if(--re<=0&&h)return R(),S=null,F.preventDefault(Se)},this.onDrop=function(Se){if(y){var we=Se.dataTransfer;if(V)switch(S){case"move":m=m.contains(y.row,y.column)?{start:y,end:y}:K.moveText(m,y);break;case"copy":m=K.moveText(m,y,!0)}else we=we.getData("Text"),m={start:y,end:K.session.insert(y,we)},K.focus(),S=null;return R(),F.preventDefault(Se)}},F.addListener(W,"dragstart",this.onDragStart.bind(u),K),F.addListener(W,"dragend",this.onDragEnd.bind(u),K),F.addListener(W,"dragenter",this.onDragEnter.bind(u),K),F.addListener(W,"dragover",this.onDragOver.bind(u),K),F.addListener(W,"dragleave",this.onDragLeave.bind(u),K),F.addListener(W,"drop",this.onDrop.bind(u),K);var Q=null;function ae(){null==Q&&(Q=setTimeout(function(){null!=Q&&h&&R()},20))}function ve(Se){return!(Se=Se.types)||Array.prototype.some.call(Se,function(we){return"text/plain"==we||"Text"==we})}function xe(Se){var we=["copy","copymove","all","uninitialized"],Ge=v.isMac?Se.altKey:Se.ctrlKey,Ie="uninitialized";try{Ie=Se.dataTransfer.effectAllowed.toLowerCase()}catch{}var Ze="none";return Ge&&0<=we.indexOf(Ie)?Ze="copy":0<=["move","copymove","linkmove","all","uninitialized"].indexOf(Ie)?Ze="move":0<=we.indexOf(Ie)&&(Ze="copy"),Ze}}function p(u,h,d,f){return Math.sqrt(Math.pow(d-u,2)+Math.pow(f-h,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(u){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var u=this.editor,h=(u.container.draggable=!0,u.renderer.$cursorLayer.setBlinking(!1),u.setStyle("ace_dragging"),v.isWin?"default":"move");u.renderer.setCursorStyle(h),this.setState("dragReady")},this.onMouseDrag=function(u){var h=this.editor.container;v.isIE&&"dragReady"==this.state&&3<p(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&h.dragDrop(),"dragWait"===this.state&&0<p(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&(h.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(u){var h,d,f;this.$dragEnabled&&(this.mousedownEvent=u,h=this.editor,d=u.inSelection(),f=u.getButton(),1!==(u.domEvent.detail||1)||0!==f||!d||u.editor.inMultiSelectMode&&(u.getAccelKey()||u.getShiftKey())||(this.mousedownEvent.time=Date.now(),"unselectable"in(f=u.domEvent.target||u.domEvent.srcElement)&&(f.unselectable="on"),h.getDragDelay()?(v.isWebKit&&(this.cancelDrag=!0,h.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(u,this.onMouseDrag.bind(this)),u.defaultPrevented=!0))}}).call(b.prototype),T.DragdropHandler=b}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(O,T,j){"use strict";var N=O("./mouse_event").MouseEvent,F=O("../lib/event"),v=O("../lib/dom");T.addTouchListeners=function(b,p){var u,h,d,f,k,m,y,S,V,E="scroll",w=0,B=0,K=0,U=0;function re(){V||function W(){function R(ve){var xe,Se=ve.target.getAttribute("action");"more"!=Se&&ae?("paste"==Se?Q.readText().then(function(we){p.execCommand(Se,we)}):Se&&("cut"!=Se&&"copy"!=Se||(Q?Q.writeText(p.getCopyText()):document.execCommand("copy")),p.execCommand(Se)),V.firstChild.style.display="none",ae=!1,"openCommandPallete"!=Se&&p.focus()):(ae=!ae,ve=p.getCopyText(),xe=p.session.getUndoManager().hasUndo(),V.replaceChild(v.buildDom(ae?["span",!ve&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],ve&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],ve&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],Q&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],xe&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),V.firstChild))}var Q=window.navigator&&window.navigator.clipboard,ae=!1;V=v.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(ve){E="menu",ve.stopPropagation(),ve.preventDefault(),p.textInput.focus()},ontouchend:function(ve){ve.stopPropagation(),ve.preventDefault(),R(ve)},onclick:R},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],p.container)}();var R=p.renderer.textToScreenCoordinates((R=p.selection.cursor).row,R.column),Q=p.renderer.textToScreenCoordinates(0,0).pageX,ae=p.renderer.scrollLeft,ve=p.container.getBoundingClientRect();V.style.top=R.pageY-ve.top-3+"px",R.pageX-ve.left<ve.width-70?(V.style.left="",V.style.right="10px"):(V.style.right="",V.style.left=Q+ae-ve.left+"px"),V.style.display="",V.firstChild.style.display="none",p.on("input",H)}function H(R){V&&(V.style.display="none"),p.off("input",H)}function L(){k=null,clearTimeout(k);var R=p.selection.getRange(),Q=R.contains(y.row,y.column);!R.isEmpty()&&Q||(p.selection.moveToPosition(y),p.selection.selectWord()),E="wait",re()}F.addListener(b,"contextmenu",function(R){S&&p.textInput.getElement().focus()},p),F.addListener(b,"touchstart",function(R){var Q=R.touches;if(k||1<Q.length)clearTimeout(k),k=null,d=-1,E="zoom";else{S=p.$mouseHandler.isMousePressed=!0;var ae=p.renderer.layerConfig.lineHeight,ve=p.renderer.layerConfig.lineHeight,xe=R.timeStamp,we=(f=xe,Se=Q[0]).clientX,Se=Se.clientY;if(Math.abs(u-we)+Math.abs(h-Se)>ae&&(d=-1),u=R.clientX=we,h=R.clientY=Se,K=U=0,we=new N(R,p),y=we.getDocumentPosition(),xe-d<500&&1==Q.length&&!w)B++,R.preventDefault(),R.button=0,k=null,clearTimeout(k),p.selection.moveToPosition(y),(Se=2<=B?p.selection.getLineRange(y.row):p.session.getBracketRange(y))&&!Se.isEmpty()?p.selection.setRange(Se):p.selection.selectWord(),E="wait";else{B=0,we=p.selection.cursor,Q=p.selection.isEmpty()?we:p.selection.anchor,Se=p.renderer.$cursorLayer.getPixelPosition(we,!0),we=p.renderer.$cursorLayer.getPixelPosition(Q,!0),Q=p.renderer.scroller.getBoundingClientRect();var Ge=p.renderer.layerConfig.offset,Ie=p.renderer.scrollLeft,Ze=function(Ce,G){return(Ce/=ve)*Ce+(G=G/ae-.75)*G};if(R.clientX<Q.left)return void(E="zoom");Se=Ze(R.clientX-Q.left-Se.left+Ie,R.clientY-Q.top-Se.top+Ge),Ze=Ze(R.clientX-Q.left-we.left+Ie,R.clientY-Q.top-we.top+Ge),Se<3.5&&Ze<3.5&&(E=Ze<Se?"cursor":"anchor"),E=Ze<3.5?"anchor":Se<3.5?"cursor":"scroll",k=setTimeout(L,450)}d=xe}},p),F.addListener(b,"touchend",function(R){S=p.$mouseHandler.isMousePressed=!1,m&&clearInterval(m),"zoom"==E?(E="",w=0):(k?(p.selection.moveToPosition(y),w=0,re):"scroll"==E?(w+=60,m=setInterval(function(){w--<=0&&(clearInterval(m),m=null),Math.abs(K)<.01&&(K=0),Math.abs(U)<.01&&(U=0),w<20&&(K*=.9),w<20&&(U*=.9);var Q=p.session.getScrollTop();p.renderer.scrollBy(10*K,10*U),Q==p.session.getScrollTop()&&(w=0)},10),H):re)(),clearTimeout(k),k=null},p),F.addListener(b,"touchmove",function(R){if(k&&(clearTimeout(k),k=null),!(1<(Q=R.touches).length||"zoom"==E)){var ae=u-(Q=Q[0]).clientX,ve=h-Q.clientY;if("wait"==E){if(!(4<ae*ae+ve*ve))return R.preventDefault();E="cursor"}u=Q.clientX,h=Q.clientY,R.clientX=Q.clientX,R.clientY=Q.clientY;var Q,xe=(Q=R.timeStamp)-f;f=Q,"scroll"==E?((Q=new N(R,p)).speed=1,Q.wheelX=ae,Q.wheelY=ve,10*Math.abs(ae)<Math.abs(ve)&&(ae=0),10*Math.abs(ve)<Math.abs(ae)&&(ve=0),0!=xe&&(K=ae/xe,U=ve/xe),p._emit("mousewheel",Q),Q.propagationStopped||(K=U=0)):(ae=new N(R,p).getDocumentPosition(),"cursor"==E?p.selection.moveCursorToPosition(ae):"anchor"==E&&p.selection.setSelectionAnchor(ae.row,ae.column),p.renderer.scrollCursorIntoView(ae),R.preventDefault())}},p)}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(f,T,j){"use strict";function N(k){function m(E){document.hasFocus&&document.hasFocus()&&(k.isFocused()||document.activeElement!=(k.textInput&&k.textInput.getElement()))||window.focus(),k.focus(),setTimeout(function(){k.isFocused()||k.focus()})}var y=this,S=(this.editor=k,new b(this),new p(this),new h(this),k.renderer.getMouseEventTarget()),V=(F.addListener(S,"click",this.onMouseEvent.bind(this,"click"),k),F.addListener(S,"mousemove",this.onMouseMove.bind(this,"mousemove"),k),F.addMultiMouseDownListener([S,k.renderer.scrollBarV&&k.renderer.scrollBarV.inner,k.renderer.scrollBarH&&k.renderer.scrollBarH.inner,k.textInput&&k.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",k),F.addMouseWheelListener(k.container,this.onMouseWheel.bind(this,"mousewheel"),k),d(k.container,k),k.renderer.$gutter);F.addListener(V,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),k),F.addListener(V,"click",this.onMouseEvent.bind(this,"gutterclick"),k),F.addListener(V,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),k),F.addListener(V,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),k),F.addListener(S,"mousedown",m,k),F.addListener(V,"mousedown",m,k),v.isIE&&k.renderer.scrollBarV&&(F.addListener(k.renderer.scrollBarV.element,"mousedown",m,k),F.addListener(k.renderer.scrollBarH.element,"mousedown",m,k)),k.on("mousemove",function(E){var w,B;y.state||y.$dragDelay||!y.$dragEnabled||(E=k.renderer.screenToTextCoordinates(E.x,E.y),w=k.session.selection.getRange(),B=k.renderer,!w.isEmpty()&&w.insideStart(E.row,E.column)?B.setCursorStyle("default"):B.setCursorStyle(""))},k)}var F=f("../lib/event"),v=f("../lib/useragent"),b=f("./default_handlers").DefaultHandlers,p=f("./default_gutter_handler").GutterHandler,u=f("./mouse_event").MouseEvent,h=f("./dragdrop_handler").DragdropHandler,d=f("./touch_handler").addTouchListeners;f=f("../config"),function(){this.onMouseEvent=function(k,m){this.editor.session&&this.editor._emit(k,new u(m,this.editor))},this.onMouseMove=function(k,m){var y=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;y&&y.length&&this.editor._emit(k,new u(m,this.editor))},this.onMouseWheel=function(k,m){var y=new u(m,this.editor);y.speed=2*this.$scrollSpeed,y.wheelX=m.wheelX,y.wheelY=m.wheelY,this.editor._emit(k,y)},this.setState=function(k){this.state=k},this.captureMouse=function(k,m){function y(W){if(W){if(v.isWebKit&&!W.which&&B.releaseMouse)return B.releaseMouse();B.x=W.clientX,B.y=W.clientY,m&&m(W),B.mouseEvent=new u(W,B.editor),B.$mouseMoved=!0}}function S(W){E.off("beforeEndOperation",K),clearInterval(U),E.session&&V(),B[B.state+"End"]&&B[B.state+"End"](W),B.state="",B.isMousePressed=w.$isMousePressed=!1,w.$keepTextAreaAtCursor&&w.$moveTextAreaToCursor(),B.$onCaptureMouseMove=B.releaseMouse=null,W&&B.onMouseEvent("mouseup",W),E.endOperation()}function V(){B[B.state]&&B[B.state](),B.$mouseMoved=!1}this.x=k.x,this.y=k.y,this.isMousePressed=!0;var E=this.editor,w=this.editor.renderer,B=(w.$isMousePressed=!0,this);if(v.isOldIE&&"dblclick"==k.domEvent.type)return setTimeout(function(){S(k)});var K=function(W){B.releaseMouse&&E.curOp.command.name&&E.curOp.selectionChanged&&(B[B.state+"End"]&&B[B.state+"End"](),B.state="",B.releaseMouse())},U=(E.on("beforeEndOperation",K),E.startOperation({command:{name:"mouse"}}),B.$onCaptureMouseMove=y,B.releaseMouse=F.capture(this.editor.container,y,S),setInterval(V,20))},this.releaseMouse=null,this.cancelContextMenu=function(){var k=function(m){m&&m.domEvent&&"contextmenu"!=m.domEvent.type||(this.editor.off("nativecontextmenu",k),m&&m.domEvent&&F.stopEvent(m.domEvent))}.bind(this);setTimeout(k,10),this.editor.on("nativecontextmenu",k)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}.call(N.prototype),f.defineOptions(N.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:v.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),T.MouseHandler=N}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(O,T,j){"use strict";var N=O("../lib/dom");T.FoldHandler=function(F){F.on("click",function(v){var p=v.getDocumentPosition(),b=F.session;(p=b.getFoldAt(p.row,p.column,1))&&(v.getAccelKey()?b.removeFold(p):b.expandFold(p),v.stop()),(p=v.domEvent&&v.domEvent.target)&&N.hasCssClass(p,"ace_inline_button")&&N.hasCssClass(p,"ace_toggle_wrap")&&(b.setOption("wrap",!b.getUseWrapMode()),F.renderer.scrollCursorIntoView())}),F.on("gutterclick",function(v){var b,p;"foldWidgets"==F.renderer.$gutterLayer.getRegion(v)&&(b=v.getDocumentPosition().row,(p=F.session).foldWidgets&&p.foldWidgets[b]&&F.session.onFoldWidgetClick(b,v),F.isFocused()||F.focus(),v.stop())}),F.on("gutterdblclick",function(v){var b,p,u;"foldWidgets"==F.renderer.$gutterLayer.getRegion(v)&&(u=v.getDocumentPosition().row,(p=(p=(b=F.session).getParentFoldRangeData(u,!0)).range||p.firstRange)&&((u=b.getFoldAt(u=p.start.row,b.getLine(u).length,1))?b.removeFold(u):(b.addFold("...",p),F.renderer.scrollCursorIntoView({row:p.start.row,column:0}))),v.stop())})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(O,T,j){"use strict";function N(b){this.$editor=b,this.$data={editor:b},this.$handlers=[],this.setDefaultHandler(b.commands)}var F=O("../lib/keys"),v=O("../lib/event");(function(){this.setDefaultHandler=function(b){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=b,this.addKeyboardHandler(b,0)},this.setKeyboardHandler=function(b){var p=this.$handlers;if(p[p.length-1]!=b){for(;p[p.length-1]&&p[p.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(p[p.length-1]);this.addKeyboardHandler(b,1)}},this.addKeyboardHandler=function(b,p){var u;b&&("function"!=typeof b||b.handleKeyboard||(b.handleKeyboard=b),-1!=(u=this.$handlers.indexOf(b))&&this.$handlers.splice(u,1),null==p?this.$handlers.push(b):this.$handlers.splice(p,0,b),-1==u)&&b.attach&&b.attach(this.$editor)},this.removeKeyboardHandler=function(b){var p=this.$handlers.indexOf(b);return-1!=p&&(this.$handlers.splice(p,1),b.detach&&b.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var b=this.$data,p=b.editor;return this.$handlers.map(function(u){return u.getStatusText&&u.getStatusText(p,b)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(b,p,u,h){for(var d,f=!1,k=this.$editor.commands,m=this.$handlers.length;m--&&!((d=this.$handlers[m].handleKeyboard(this.$data,b,p,u,h))&&d.command&&((f="null"==d.command||k.exec(d.command,this.$editor,d.args,h))&&h&&-1!=b&&1!=d.passEvent&&1!=d.command.passEvent&&v.stopEvent(h),f)););return f||-1!=b||(d={command:"insertstring"},f=k.exec("insertstring",this.$editor,p)),f&&this.$editor._signal&&this.$editor._signal("keyboardActivity",d),f},this.onCommandKey=function(b,p,u){var h=F.keyCodeToString(u);return this.$callKeyboardHandlers(p,h,u,b)},this.onTextInput=function(b){return this.$callKeyboardHandlers(-1,b)}}).call(N.prototype),T.KeyBinding=N}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(O,T,j){"use strict";var N=0,F=0,v=!1,b=!1,p=!1,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d=0,f=1,k=2,m=3,y=4,S=5,V=6,E=7,w=8,B=9,K=10,U=11,W=12,re=13,H=14,L=15,R=16,Q=17,ae=18,ve=[ae,ae,ae,ae,ae,ae,ae,ae,ae,V,S,V,w,S,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,S,S,S,V,w,y,y,U,U,U,y,y,y,y,y,K,B,K,B,B,k,k,k,k,k,k,k,k,k,k,B,y,y,y,y,y,y,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,y,y,y,y,y,y,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,y,y,y,y,ae,ae,ae,ae,ae,ae,S,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,B,y,U,U,U,U,y,y,y,y,d,y,y,ae,y,y,U,U,k,k,y,d,y,y,y,k,d,y,y,y,y,y],xe=[w,w,w,w,w,w,w,w,w,w,w,ae,ae,ae,d,f,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,w,S,re,H,L,R,Q,B,U,U,U,U,U,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,B,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,w];function we(Ie,Ze,X){if(!(F<Ie))if(1!=Ie||1!=N||b)for(var de,ge,Ce,G,Z=X.length,ne=0;ne<Z;){if(Ze[ne]>=Ie){for(de=ne+1;de<Z&&Ze[de]>=Ie;)de++;for(ge=ne,Ce=de-1;ge<Ce;ge++,Ce--)G=X[ge],X[ge]=X[Ce],X[Ce]=G;ne=de}ne++}else X.reverse()}function Ge(Ie){var Ze=Ie.charCodeAt(0),X=Ze>>8;return 0==X?191<Ze?d:ve[Ze]:5==X?/[\u0591-\u05f4]/.test(Ie)?f:d:6==X?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(Ie)?W:/[\u0660-\u0669\u066b-\u066c]/.test(Ie)?m:1642==Ze?U:/[\u06f0-\u06f9]/.test(Ie)?k:E:32==X&&Ze<=8287?xe[255&Ze]:254==X&&65136<=Ze?E:y}T.L=d,T.R=f,T.EN=k,T.ON_R=3,T.AN=4,T.R_H=5,T.B=6,T.RLE=7,T.DOT="\xb7",T.doBidiReorder=function(Ie,Ze,X){if(Ie.length<2)return{};var de=Ie.split(""),ge=new Array(de.length),Ce=new Array(de.length),G=[];N=X?1:0,function Se(Ie,Ze,X,de){var ge,Ce,G,Z=N?h:u,ne=0,_e=-1,Ee=null,Qe=null,ft=[];if(!de)for(Ee=0,de=[];Ee<X;Ee++)de[Ee]=Ge(Ie[Ee]);for(F=N,p=b=v=!1,Qe=0;Qe<X;Qe++){if(G=ne,ft[Qe]=ge=function(Wt,Vt,qt,Ut){var ji,ot,xt,vt=Vt[Ut];switch(vt){case d:case f:v=!1;case y:case m:return vt;case k:return v?m:k;case E:return v=!0,f;case w:return y;case B:return Ut<1||Ut+1>=Vt.length||(ji=qt[Ut-1])!=k&&ji!=m||(At=Vt[Ut+1])!=k&&At!=m?y:(At=v?m:At)==ji?At:y;case K:return(ji=0<Ut?qt[Ut-1]:S)==k&&Ut+1<Vt.length&&Vt[Ut+1]==k?k:y;case U:if(0<Ut&&qt[Ut-1]==k)return k;if(v)return y;for(xt=Ut+1,ot=Vt.length;xt<ot&&Vt[xt]==U;)xt++;return xt<ot&&Vt[xt]==k?k:y;case W:for(ot=Vt.length,xt=Ut+1;xt<ot&&Vt[xt]==W;)xt++;var At;return xt<ot&&(ji=Vt[xt],(At=1425<=(At=Wt[Ut])&&At<=2303||64286==At)&&(ji==f||ji==E))?f:Ut<1||(ji=Vt[Ut-1])==S?y:qt[Ut-1];case S:return b=!(v=!1),N;case V:return p=!0,y;case re:case H:case R:case Q:case L:v=!1;case ae:return y}}(Ie,de,ft,Qe),G=240&(ne=Z[G][ge]),Ze[Qe]=Ce=Z[ne&=15][5],0<G){if(16==G)for(Ee=_e;Ee<Qe;Ee++)Ze[Ee]=1;_e=-1}if(Z[ne][6])-1==_e&&(_e=Qe);else if(-1<_e){for(Ee=_e;Ee<Qe;Ee++)Ze[Ee]=Ce;_e=-1}de[Qe]==S&&(Ze[Qe]=0),F|=Ce}if(p)for(Ee=0;Ee<X;Ee++)if(de[Ee]==V){Ze[Ee]=N;for(var yt=Ee-1;0<=yt&&de[yt]==w;yt--)Ze[yt]=N}}(de,G,de.length,Ze);for(var Z=0;Z<ge.length;ge[Z]=Z,Z++);for(we(2,G,ge),we(1,G,ge),Z=0;Z<ge.length-1;Z++)Ze[Z]===m?G[Z]=T.AN:G[Z]===f&&(Ze[Z]>E&&Ze[Z]<re||Ze[Z]===y||Ze[Z]===ae)?G[Z]=T.ON_R:0<Z&&"\u0644"===de[Z-1]&&/\u0622|\u0623|\u0625|\u0627/.test(de[Z])&&(G[Z-1]=G[Z]=T.R_H,Z++);for(de[de.length-1]===T.DOT&&(G[de.length-1]=T.B),"\u202b"===de[0]&&(G[0]=T.RLE),Z=0;Z<ge.length;Z++)Ce[Z]=G[ge[Z]];return{logicalFromVisual:ge,bidiLevels:Ce}},T.hasBidiCharacters=function(Ie,Ze){for(var X=!1,de=0;de<Ie.length;de++)Ze[de]=Ge(Ie.charAt(de)),X||Ze[de]!=f&&Ze[de]!=E&&Ze[de]!=m||(X=!0);return X},T.getVisualFromLogicalIdx=function(Ie,Ze){for(var X=0;X<Ze.logicalFromVisual.length;X++)if(Ze.logicalFromVisual[X]==Ie)return X;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(O,T,j){"use strict";function N(p){this.session=p,this.bidiMap={},this.currentRow=null,this.bidiUtil=F,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=b.test(p.getValue())}var F=O("./lib/bidiutil"),v=O("./lib/lang"),b=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/;(function(){this.isBidiRow=function(p,u,h){return!!this.seenBidi&&(p!==this.currentRow&&(this.currentRow=p,this.updateRowLine(u,h),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(p){this.seenBidi?this.currentRow=null:"insert"==p.action&&b.test(p.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var u=this.session.$screenRowCache;return u.length&&0<=(u=this.session.$getRowCacheIndex(u,this.currentRow))?this.session.$docRowCache[u]:0},this.getSplitIndex=function(){var p=0,u=this.session.$screenRowCache;if(u.length)for(var h,d=this.session.$getRowCacheIndex(u,this.currentRow);0<this.currentRow-p&&(h=this.session.$getRowCacheIndex(u,this.currentRow-p-1))===d;)d=h,p++;else p=this.currentRow;return p},this.updateRowLine=function(p,u){var h,d=(p=void 0===p?this.getDocumentRow():p)===this.session.getLength()-1?this.EOF:this.EOL,f=(this.wrapIndent=0,this.line=this.session.getLine(p),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,(!this.session.$useWrapMode||(p=this.session.$wrapData[p])&&(0<(u=void 0===u?this.getSplitIndex():u)&&p.length?(this.wrapIndent=p.indent,this.wrapOffset=this.wrapIndent*this.charWidths[F.L],this.line=u<p.length?this.line.substring(p[u-1],p[u]):this.line.substring(p[p.length-1])):this.line=this.line.substring(0,p[u]),u==p.length))&&(this.line+=this.showInvisibles?d:F.DOT),this.session),k=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(m,y){return"\t"===m||f.isFullWidth(m.charCodeAt(0))?(h="\t"===m?f.getScreenTabSize(y+k):2,k+=h-1,v.stringRepeat(F.DOT,h)):m}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==F.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var p=[];this.bidiMap=F.hasBidiCharacters(this.line,p)||this.isRtlDir?F.doBidiReorder(this.line,p,this.isRtlDir):{}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(p){var u;this.characterWidth!==p.$characterSize.width&&(this.fontMetrics=p,u=this.characterWidth=p.$characterSize.width,p=p.$measureCharWidth("\u05d4"),this.charWidths[F.L]=this.charWidths[F.EN]=this.charWidths[F.ON_R]=u,this.charWidths[F.R]=this.charWidths[F.AN]=p,this.charWidths[F.R_H]=.45*p,this.charWidths[F.B]=this.charWidths[F.RLE]=0,this.currentRow=null)},this.setShowInvisibles=function(p){this.showInvisibles=p,this.currentRow=null},this.setEolChar=function(p){this.EOL=p},this.setContentWidth=function(p){this.contentWidth=p},this.isRtlLine=function(p){return!!this.$isRtl||(null!=p?this.session.getLine(p).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(p,u){for(var h=p.getCursorPosition(),d=p.selection.getSelectionAnchor().row;d<=h.row;d++)u||p.session.getLine(d).charAt(0)!==p.session.$bidiHandler.RLE?u&&p.session.getLine(d).charAt(0)!==p.session.$bidiHandler.RLE&&p.session.doc.insert({column:0,row:d},p.session.$bidiHandler.RLE):p.session.doc.removeInLine(d,0,1)},this.getPosLeft=function(p){p-=this.wrapIndent;var u=this.line.charAt(0)===this.RLE?1:0,h=u<p?this.session.getOverwrite()?p:p-1:u,d=F.getVisualFromLogicalIdx(h,this.bidiMap),f=this.bidiMap.bidiLevels,k=0;!this.session.getOverwrite()&&p<=u&&f[d]%2!=0&&d++;for(var m=0;m<d;m++)k+=this.charWidths[f[m]];return!this.session.getOverwrite()&&u<p&&f[d]%2==0&&(k+=this.charWidths[f[d]]),this.wrapIndent&&(k+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(k+=this.rtlLineOffset),k},this.getSelections=function(p,u){var h,d=this.bidiMap,f=d.bidiLevels,k=[],m=0,y=Math.min(p,u)-this.wrapIndent,S=Math.max(p,u)-this.wrapIndent,V=!1,E=!1,w=0;this.wrapIndent&&(m+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var B,K=0;K<f.length;K++)h=f[K],(V=y<=(B=d.logicalFromVisual[K])&&B<S)&&!E?w=m:!V&&E&&k.push({left:w,width:m-w}),m+=this.charWidths[h],E=V;if(V&&K===f.length&&k.push({left:w,width:m-w}),this.isRtlDir)for(var U=0;U<k.length;U++)k[U].left+=this.rtlLineOffset;return k},this.offsetToCol=function(h){this.isRtlDir&&(h-=this.rtlLineOffset);var u=0,d=(h=Math.max(h,0),0),f=0,k=this.bidiMap.bidiLevels,m=this.charWidths[k[f]];for(this.wrapIndent&&(h-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);d+m/2<h;){if(d+=m,f===k.length-1){m=0;break}m=this.charWidths[k[++f]]}return 0===(u=0<f&&k[f-1]%2!=0&&k[f]%2==0?(h<d&&f--,this.bidiMap.logicalFromVisual[f]):0<f&&k[f-1]%2==0&&k[f]%2!=0?1+(d<h?this.bidiMap.logicalFromVisual[f]:this.bidiMap.logicalFromVisual[f-1]):this.isRtlDir&&f===k.length-1&&0===m&&k[f-1]%2==0||!this.isRtlDir&&0===f&&k[f]%2!=0?1+this.bidiMap.logicalFromVisual[f]:(0<f&&k[f-1]%2!=0&&0!==m&&f--,this.bidiMap.logicalFromVisual[f]))&&this.isRtlDir&&u++,u+this.wrapIndent}}).call(N.prototype),T.BidiHandler=N}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(O,T,j){"use strict";function N(u){this.session=u,this.doc=u.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var h=this;this.cursor.on("change",function(d){h.$cursorChanged=!0,h.$silent||h._emit("changeCursor"),h.$isEmpty||h.$silent||h._emit("changeSelection"),h.$keepDesiredColumnOnChange||d.old.column==d.value.column||(h.$desiredColumn=null)}),this.anchor.on("change",function(){h.$anchorChanged=!0,h.$isEmpty||h.$silent||h._emit("changeSelection")})}var F=O("./lib/oop"),v=O("./lib/lang"),b=O("./lib/event_emitter").EventEmitter,p=O("./range").Range;(function(){F.implement(this,b),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setAnchor=function(u,h){this.$isEmpty=!1,this.anchor.setPosition(u,h)},this.setSelectionAnchor=this.setAnchor,this.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionAnchor=this.getAnchor,this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var u=this.anchor,h=this.lead;return u.row>h.row||u.row==h.row&&u.column>h.column},this.getRange=function(){var u=this.anchor,h=this.lead;return this.$isEmpty?p.fromPoints(h,h):this.isBackwards()?p.fromPoints(h,u):p.fromPoints(u,h)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(u,f){var d=f?u.end:u.start;this.$setSelection(d.row,d.column,(f=f?u.start:u.end).row,f.column)},this.$setSelection=function(u,h,d,f){var k,m;!this.$silent&&(k=this.$isEmpty,m=this.inMultiSelectMode,this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(u,h),this.cursor.setPosition(d,f),this.$isEmpty=!p.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),this.$cursorChanged||this.$anchorChanged||k!=this.$isEmpty||m)&&this._emit("changeSelection")},this.$moveSelection=function(u){var h=this.lead;this.$isEmpty&&this.setSelectionAnchor(h.row,h.column),u.call(this)},this.selectTo=function(u,h){this.$moveSelection(function(){this.moveCursorTo(u,h)})},this.selectToPosition=function(u){this.$moveSelection(function(){this.moveCursorToPosition(u)})},this.moveTo=function(u,h){this.clearSelection(),this.moveCursorTo(u,h)},this.moveToPosition=function(u){this.clearSelection(),this.moveCursorToPosition(u)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(u,h){var d;return void 0===h&&(u=(d=u||this.lead).row,h=d.column),this.session.getWordRange(u,h)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var u=this.getCursor();u=this.session.getAWordRange(u.row,u.column),this.setSelectionRange(u)},this.getLineRange=function(d,h){var f=(f=this.session.getFoldLine(d="number"==typeof d?d:this.lead.row))?(d=f.start.row,f.end.row):d;return!0===h?new p(d,0,f,this.session.getLine(f).length):new p(d,0,f+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(u,h,d){var f=u.column,k=u.column+h;return d<0&&(f=u.column-h,k=u.column),this.session.isTabStop(u)&&this.doc.getLine(u.row).slice(f,k).split(" ").length-1==h},this.moveCursorLeft=function(){var u,h=this.lead.getPosition();(u=this.session.getFoldAt(h.row,h.column,-1))?this.moveCursorTo(u.start.row,u.start.column):0===h.column?0<h.row&&this.moveCursorTo(h.row-1,this.doc.getLine(h.row-1).length):(u=this.session.getTabSize(),this.wouldMoveIntoSoftTab(h,u,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-u):this.moveCursorBy(0,-1))},this.moveCursorRight=function(){var u,h=this.lead.getPosition();(u=this.session.getFoldAt(h.row,h.column,1))?this.moveCursorTo(u.end.row,u.end.column):this.lead.column==this.doc.getLine(this.lead.row).length?this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0):(u=this.session.getTabSize(),this.wouldMoveIntoSoftTab(h=this.lead,u,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,u):this.moveCursorBy(0,1))},this.moveCursorLineStart=function(){var d,u=this.lead.column,h=this.session.documentToScreenRow(d=this.lead.row,u);h=this.session.screenToDocumentPosition(h,0),(d=this.session.getDisplayLine(d,null,h.row,h.column).match(/^\s*/))[0].length==u||this.session.$useEmacsStyleLineStart||(h.column+=d[0].length),this.moveCursorToPosition(h)},this.moveCursorLineEnd=function(){var u,h=this.session.getDocumentLastRowColumnPosition((h=this.lead).row,h.column);this.lead.column==h.column&&(u=this.session.getLine(h.row),h.column==u.length)&&0<(u=u.search(/\s+$/))&&(h.column=u),this.moveCursorTo(h.row,h.column)},this.moveCursorFileEnd=function(){var u=this.doc.getLength()-1,h=this.doc.getLine(u).length;this.moveCursorTo(u,h)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var u=this.lead.row,h=this.lead.column,d=this.doc.getLine(u),f=d.substring(h),k=(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.getFoldAt(u,h,1));k?this.moveCursorTo(k.end.row,k.end.column):(this.session.nonTokenRe.exec(f)&&(h+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,f=d.substring(h)),h>=d.length?(this.moveCursorTo(u,d.length),this.moveCursorRight(),u<this.doc.getLength()-1&&this.moveCursorWordRight()):(this.session.tokenRe.exec(f)&&(h+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(u,h)))},this.moveCursorLongWordLeft=function(){var u,h=this.lead.row,d=this.lead.column;(u=this.session.getFoldAt(h,d,-1))?this.moveCursorTo(u.start.row,u.start.column):(null==(u=this.session.getFoldStringAt(h,d,-1))&&(u=this.doc.getLine(h).substring(0,d)),u=v.stringReverse(u),this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(u)&&(d-=this.session.nonTokenRe.lastIndex,u=u.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),d<=0?(this.moveCursorTo(h,0),this.moveCursorLeft(),0<h&&this.moveCursorWordLeft()):(this.session.tokenRe.exec(u)&&(d-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(h,d)))},this.$shortWordEndIndex=function(u){var h,d=0,f=/\s/,k=this.session.tokenRe;if(k.lastIndex=0,this.session.tokenRe.exec(u))d=this.session.tokenRe.lastIndex;else{for(;(h=u[d])&&f.test(h);)d++;if(d<1)for(k.lastIndex=0;(h=u[d])&&!k.test(h);)if(k.lastIndex=0,d++,f.test(h)){if(2<d){d--;break}for(;(h=u[d])&&f.test(h);)d++;if(2<d)break}}return k.lastIndex=0,d},this.moveCursorShortWordRight=function(){var u=this.lead.row,h=this.lead.column,d=this.doc.getLine(u),f=d.substring(h),k=this.session.getFoldAt(u,h,1);if(k)return this.moveCursorTo(k.end.row,k.end.column);if(h==d.length){for(var m=this.doc.getLength();f=this.doc.getLine(++u),u<m&&/^\s*$/.test(f););/^\s+/.test(f)||(f=""),h=0}k=this.$shortWordEndIndex(f),this.moveCursorTo(u,h+k)},this.moveCursorShortWordLeft=function(){var u=this.lead.row,h=this.lead.column;if(f=this.session.getFoldAt(u,h,-1))return this.moveCursorTo(f.start.row,f.start.column);var d=this.session.getLine(u).substring(0,h);if(0===h){for(;d=this.doc.getLine(--u),0<u&&/^\s*$/.test(d););h=d.length,/\s+$/.test(d)||(d="")}var f=v.stringReverse(d);return f=this.$shortWordEndIndex(f),this.moveCursorTo(u,h-f)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(u,h){var d,f=this.session.documentToScreenPosition(this.lead.row,this.lead.column),k=(0===h&&(0!==u&&(this.session.$bidiHandler.isBidiRow(f.row,this.lead.row)?(d=this.session.$bidiHandler.getPosLeft(f.column),f.column=Math.round(d/this.session.$bidiHandler.charWidths[0])):d=f.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?f.column=this.$desiredColumn:this.$desiredColumn=f.column),0!=u&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]&&(k=this.session.lineWidgets[this.lead.row],u<0?u-=k.rowsAbove||0:0<u&&(u+=k.rowCount-(k.rowsAbove||0))),this.session.screenToDocumentPosition(f.row+u,f.column,d));this.moveCursorTo(k.row,k.column+h,0===h)},this.moveCursorToPosition=function(u){this.moveCursorTo(u.row,u.column)},this.moveCursorTo=function(u,h,d){var f=((f=this.session.getFoldAt(u,h,1))&&(u=f.start.row,h=f.start.column),this.$keepDesiredColumnOnChange=!0,this.session.getLine(u));/[\uDC00-\uDFFF]/.test(f.charAt(h))&&f.charAt(h-1)&&(this.lead.row==u&&this.lead.column==h+1?h-=1:h+=1),this.lead.setPosition(u,h),this.$keepDesiredColumnOnChange=!1,d||(this.$desiredColumn=null)},this.moveCursorToScreen=function(u,h,d){u=this.session.screenToDocumentPosition(u,h),this.moveCursorTo(u.row,u.column,d)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(u){this.setSelectionRange(u,u.cursor==u.start),this.$desiredColumn=u.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(u){var h=this.getRange();return u?(u.start.column=h.start.column,u.start.row=h.start.row,u.end.column=h.end.column,u.end.row=h.end.row):u=h,u.cursor=this.isBackwards()?u.start:u.end,u.desiredColumn=this.$desiredColumn,u},this.getRangeOfMovements=function(u){var h=this.getCursor();try{u(this);var d=this.getCursor();return p.fromPoints(h,d)}catch{return p.fromPoints(h,h)}finally{this.moveCursorToPosition(h)}},this.toJSON=function(){var u;return this.rangeCount?u=this.ranges.map(function(h){var d=h.clone();return d.isBackwards=h.cursor==h.start,d}):(u=this.getRange()).isBackwards=this.isBackwards(),u},this.fromJSON=function(u){if(null==u.start){if(this.rangeList&&1<u.length){this.toSingleRange(u[0]);for(var h=u.length;h--;){var d=p.fromPoints(u[h].start,u[h].end);u[h].isBackwards&&(d.cursor=d.start),this.addRange(d,!0)}return}u=u[0]}this.rangeList&&this.toSingleRange(u),this.setSelectionRange(u,u.isBackwards)},this.isEqual=function(u){if((u.length||this.rangeCount)&&u.length!=this.rangeCount)return!1;if(!u.length||!this.ranges)return this.getRange().isEqual(u);for(var h=this.ranges.length;h--;)if(!this.ranges[h].isEqual(u[h]))return!1;return!0}}).call(N.prototype),T.Selection=N}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(O,T,j){"use strict";function N(b){for(var p in this.states=b,this.regExps={},this.matchMappings={},this.states){for(var u=this.states[p],h=[],d=0,f=this.matchMappings[p]={defaultToken:"text"},k="g",m=[],y=0;y<u.length;y++){var S,V,E=u[y];E.defaultToken&&(f.defaultToken=E.defaultToken),E.caseInsensitive&&-1===k.indexOf("i")&&(k+="i"),E.unicode&&-1===k.indexOf("u")&&(k+="u"),null==E.regex||(E.regex instanceof RegExp&&(E.regex=E.regex.toString().slice(1,-1)),S=E.regex,V=new RegExp("(?:("+S+")|(.))").exec("a").length-2,Array.isArray(E.token)?1==E.token.length||1==V?E.token=E.token[0]:V-1!=E.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:E,groupCount:V-1}),E.token=E.token[0]):(E.tokenArray=E.token,E.token=null,E.onMatch=this.$arrayTokens):"function"!=typeof E.token||E.onMatch||(E.onMatch=1<V?this.$applyToken:E.token),1<V&&(S=/\\\d/.test(E.regex)?E.regex.replace(/\\([0-9]+)/g,function(w,B){return"\\"+(parseInt(B,10)+d+1)}):(V=1,this.removeCapturingGroups(E.regex)),E.splitRegex||"string"==typeof E.token||m.push(E)),f[d]=y,d+=V,h.push(S),E.onMatch)||(E.onMatch=null)}h.length||(f[0]=0,h.push("$")),m.forEach(function(w){w.splitRegex=this.createSplitterRegexp(w.regex,k)},this),this.regExps[p]=new RegExp("("+h.join(")|(")+")|($)",k)}}var F=O("./config"),v=2e3;(function(){this.$setMaxTokenCount=function(b){v=0|b},this.$applyToken=function(b){var p=this.splitRegex.exec(b).slice(1),u=this.token.apply(this,p);if("string"==typeof u)return[{type:u,value:b}];for(var h=[],d=0,f=u.length;d<f;d++)p[d]&&(h[h.length]={type:u[d],value:p[d]});return h},this.$arrayTokens=function(b){if(!b)return[];var p=this.splitRegex.exec(b);if(!p)return"text";for(var u=[],h=this.tokenArray,d=0,f=h.length;d<f;d++)p[d+1]&&(u[u.length]={type:h[d],value:p[d+1]});return u},this.removeCapturingGroups=function(b){return b.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(p,u){return u?"(?:":p})},this.createSplitterRegexp=function(b,p){var u,h,d;return"$"!=(b="^"!=(b=-1!=b.indexOf("(?=")&&(u=0,h=!1,d={},b.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(f,k,m,y,S,V){return h?h="]"!=S:S?h=!0:y?(u==d.stack&&(d.end=V+1,d.stack=-1),u--):m&&(u++,1!=m.length)&&(d.stack=u,d.start=V),f}),null!=d.end)&&/^\)*$/.test(b.substr(d.end))?b.substring(0,d.start)+b.substr(d.end):b).charAt(0)?"^"+b:b).charAt(b.length-1)&&(b+="$"),new RegExp(b,(p||"").replace("g",""))},this.getLineTokens=function(b,p){p&&"string"!=typeof p?"#tmp"===(p=(u=p.slice(0))[0])&&(u.shift(),p=u.shift()):u=[];for(var u,h,d=p||"start",f=(f=this.states[d])||this.states[d="start"],k=this.matchMappings[d],m=this.regExps[d],y=[],S=m.lastIndex=0,V=0,E={type:null,value:""};h=m.exec(b);){var w,B=k.defaultToken,K=null,U=h[0],W=m.lastIndex;W-U.length>S&&(w=b.substring(S,W-U.length),E.type==B?E.value+=w:(E.type&&y.push(E),E={type:B,value:w}));for(var re=0;re<h.length-2;re++)if(void 0!==h[re+1]){B=(K=f[k[re]]).onMatch?K.onMatch(U,d,u,b):K.token,K.next&&(d="string"==typeof K.next?K.next:K.next(d,u),(f=this.states[d])||(this.reportError("state doesn't exist",d),f=this.states[d="start"]),k=this.matchMappings[d],(m=this.regExps[d]).lastIndex=S=W),K.consumeLineEnd&&(S=W);break}if(U)if("string"==typeof B)K&&!1===K.merge||E.type!==B?(E.type&&y.push(E),E={type:B,value:U}):E.value+=U;else if(B)for(E.type&&y.push(E),E={type:null,value:""},re=0;re<B.length;re++)y.push(B[re]);if(S==b.length)break;if(S=W,V++>v){for(V>2*b.length&&this.reportError("infinite loop with in ace tokenizer",{startState:p,line:b});S<b.length;)E.type&&y.push(E),E={value:b.substring(S,S+=500),type:"overflow"};d="start",u=[];break}}return E.type&&y.push(E),1<u.length&&u[0]!==d&&u.unshift("#tmp",d),{tokens:y,state:u.length?u:d}},this.reportError=F.reportError}).call(N.prototype),T.Tokenizer=N}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(O,T,j){"use strict";function N(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}}var F=O("../lib/lang");(function(){function v(p,u){return"start"==p&&!u.length||u.unshift(this.nextState,p),this.nextState}function b(p,u){return u.shift(),u.shift()||"start"}this.addRules=function(p,u){if(u)for(var h in p){for(var d=p[h],f=0;f<d.length;f++){var k=d[f];(k.next||k.onMatch)&&("string"==typeof k.next&&0!==k.next.indexOf(u)&&(k.next=u+k.next),k.nextState)&&0!==k.nextState.indexOf(u)&&(k.nextState=u+k.nextState)}this.$rules[u+h]=d}else for(var h in p)this.$rules[h]=p[h]},this.getRules=function(){return this.$rules},this.embedRules=function(p,u,h,d,f){if(p="function"==typeof p?(new p).getRules():p,d)for(var k=0;k<d.length;k++)d[k]=u+d[k];else for(var m in d=[],p)d.push(u+m);if(this.addRules(p,u),h){var y=Array.prototype[f?"push":"unshift"];for(k=0;k<d.length;k++)y.apply(this.$rules[d[k]],F.deepCopy(h))}this.$embeds||(this.$embeds=[]),this.$embeds.push(u)},this.getEmbeds=function(){return this.$embeds},this.normalizeRules=function(){var p=0,u=this.$rules;Object.keys(u).forEach(function h(d){var f=u[d];f.processed=!0;for(var k=0;k<f.length;k++){var m=f[k],y=null,S=(Array.isArray(m)&&(y=m,m={}),!m.regex&&m.start&&(m.regex=m.start,m.next||(m.next=[]),m.next.push({defaultToken:m.token},{token:m.token+".end",regex:m.end||m.start,next:"pop"}),m.token=m.token+".start",m.push=!0),m.next||m.push);if(S&&Array.isArray(S)?((E=m.stateName)||("string"!=typeof(E=m.token)&&(E=E[0]||""),u[E]&&(E+=p++)),u[E]=S,h(m.next=E)):"pop"==S&&(m.next=b),m.push&&(m.nextState=m.next||m.push,m.next=v,delete m.push),m.rules)for(var V in m.rules)u[V]?u[V].push&&u[V].push.apply(u[V],m.rules[V]):u[V]=m.rules[V];var E="string"==typeof m?m:m.include;(y=E?Array.isArray(E)?E.map(function(w){return u[w]}):u[E]:y)&&(S=[k,1].concat(y),m.noEscape&&(S=S.filter(function(w){return!w.next})),f.splice.apply(f,S),k--),m.keywordMap&&(m.token=this.createKeywordMapper(m.keywordMap,m.defaultToken||"text",m.caseInsensitive),delete m.defaultToken)}},this)},this.createKeywordMapper=function(p,u,h,d){var f=Object.create(null);return this.$keywordList=[],Object.keys(p).forEach(function(k){for(var m=p[k].split(d||"|"),y=m.length;y--;){var S=m[y];this.$keywordList.push(S),h&&(S=S.toLowerCase()),f[S]=k}},this),p=null,h?function(k){return f[k.toLowerCase()]||u}:function(k){return f[k]||u}},this.getKeywords=function(){return this.$keywords}}).call(N.prototype),T.TextHighlightRules=N}),ace.define("ace/mode/behaviour",["require","exports","module"],function(O,T,j){"use strict";function N(){this.$behaviours={}}(function(){this.add=function(F,v,b){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[F]:this.$behaviours[F]={}}this.$behaviours[F][v]=b},this.addBehaviours=function(F){for(var v in F)for(var b in F[v])this.add(v,b,F[v][b])},this.remove=function(F){this.$behaviours&&this.$behaviours[F]&&delete this.$behaviours[F]},this.inherit=function(F,v){F=("function"==typeof F?new F:F).getBehaviours(v),this.addBehaviours(F)},this.getBehaviours=function(F){if(F){for(var v={},b=0;b<F.length;b++)this.$behaviours[F[b]]&&(v[F[b]]=this.$behaviours[F[b]]);return v}return this.$behaviours}}).call(N.prototype),T.Behaviour=N}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(O,T,j){"use strict";function N(v,b,p){this.$session=v,this.$row=b,this.$rowTokens=v.getTokens(b),v=v.getTokenAt(b,p),this.$tokenIndex=v?v.index:-1}var F=O("./range").Range;(function(){this.stepBackward=function(){for(--this.$tokenIndex;this.$tokenIndex<0;){if(--this.$row,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var v;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,v=v||this.$session.getLength(),this.$row>=v)return this.$row=v-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var v=this.$rowTokens,b=this.$tokenIndex,p=v[b].start;if(void 0===p)for(p=0;0<b;)p+=v[--b].value.length;return p},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var v=this.$rowTokens[this.$tokenIndex],b=this.getCurrentTokenColumn();return new F(this.$row,b,this.$row,b+v.value.length)}}).call(N.prototype),T.TokenIterator=N}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(O,T,j){"use strict";function N(S){var V=-1;if((m=S.multiSelect&&(V=S.selection.index,m.rangeCount!=S.multiSelect.rangeCount)?{rangeCount:S.multiSelect.rangeCount}:m)[V])return b=m[V];b=m[V]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}}function F(S,V,E,w){var B=S.end.row-S.start.row;return{text:E+V+w,selection:[0,S.start.column+1,B,S.end.column+(B?0:1)]}}function v(S){this.add("braces","insertion",function(V,E,w,B,K){var U=w.getCursorPosition(),W=B.doc.getLine(U.row);if("{"==K)return N(w),H=w.getSelectionRange(),""!==(L=B.doc.getTextRange(H))&&"{"!==L&&w.getWrapBehavioursEnabled()?F(H,L,"{","}"):v.isSaneInsertion(w,B)?/[\]\}\)]/.test(W[U.column])||w.inMultiSelectMode||S&&S.braces?(v.recordAutoInsert(w,B,"}"),{text:"{}",selection:[1,1]}):(v.recordMaybeInsert(w,B,"{"),{text:"{",selection:[1,1]}):void 0;if("}"==K){N(w);var re=W.substring(U.column,U.column+1);if("}"==re&&null!==B.$findOpeningBracket("}",{column:U.column+1,row:U.row})&&v.isAutoInsertedClosing(U,W,K))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==K||"\r\n"==K){N(w);var H="";if(v.isMaybeInsertedClosing(U,W)&&(H=d.stringRepeat("}",b.maybeInsertedBrackets),v.clearMaybeInsertedClosing()),"}"===(re=W.substring(U.column,U.column+1))){var L=B.findMatchingBracket({row:U.row,column:U.column+1},"}");if(!L)return null;var R=this.$getIndent(B.getLine(L.row))}else{if(!H)return void v.clearMaybeInsertedClosing();R=this.$getIndent(W)}return{text:"\n"+(K=R+B.getTabString())+"\n"+R+H,selection:[1,K.length,1,K.length]}}v.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(V,E,w,B,K){var U=B.doc.getTextRange(K);if(!K.isMultiLine()&&"{"==U){if(N(w),"}"==B.doc.getLine(K.start.row).substring(K.end.column,K.end.column+1))return K.end.column++,K;b.maybeInsertedBrackets--}}),this.add("parens","insertion",function(V,E,w,B,K){if("("==K)return N(w),U=w.getSelectionRange(),""!==(W=B.doc.getTextRange(U))&&w.getWrapBehavioursEnabled()?F(U,W,"(",")"):v.isSaneInsertion(w,B)?(v.recordAutoInsert(w,B,")"),{text:"()",selection:[1,1]}):void 0;if(")"==K){N(w);var U=w.getCursorPosition(),W=B.doc.getLine(U.row);if(")"==(w=W.substring(U.column,U.column+1))&&null!==B.$findOpeningBracket(")",{column:U.column+1,row:U.row})&&v.isAutoInsertedClosing(U,W,K))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(V,E,w,B,K){var U=B.doc.getTextRange(K);if(!K.isMultiLine()&&"("==U&&(N(w),")"==B.doc.getLine(K.start.row).substring(K.start.column+1,K.start.column+2)))return K.end.column++,K}),this.add("brackets","insertion",function(V,E,w,B,K){if("["==K)return N(w),U=w.getSelectionRange(),""!==(W=B.doc.getTextRange(U))&&w.getWrapBehavioursEnabled()?F(U,W,"[","]"):v.isSaneInsertion(w,B)?(v.recordAutoInsert(w,B,"]"),{text:"[]",selection:[1,1]}):void 0;if("]"==K){N(w);var U=w.getCursorPosition(),W=B.doc.getLine(U.row);if("]"==(w=W.substring(U.column,U.column+1))&&null!==B.$findOpeningBracket("]",{column:U.column+1,row:U.row})&&v.isAutoInsertedClosing(U,W,K))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(V,E,w,B,K){var U=B.doc.getTextRange(K);if(!K.isMultiLine()&&"["==U&&(N(w),"]"==B.doc.getLine(K.start.row).substring(K.start.column+1,K.start.column+2)))return K.end.column++,K}),this.add("string_dquotes","insertion",function(V,E,w,B,K){var U=B.$mode.$quotes||y;if(1==K.length&&U[K]&&(!this.lineCommentStart||-1==this.lineCommentStart.indexOf(K))){N(w);var W=w.getSelectionRange();if(!(""===(re=B.doc.getTextRange(W))||1==re.length&&U[re])&&w.getWrapBehavioursEnabled())return F(W,re,K,K);if(!re){U=w.getCursorPosition();var re=(W=B.doc.getLine(U.row)).substring(U.column-1,U.column),R=(w=W.substring(U.column,U.column+1),B.getTokenAt(U.row,U.column)),H=B.getTokenAt(U.row,U.column+1);if("\\"==re&&R&&/escape/.test(R.type))return null;R=R&&/string|escape/.test(R.type);var L,Q=!H||/string|escape/.test(H.type);if(w==K)(L=R!==Q)&&/string\.end/.test(H.type)&&(L=!1);else{if(R&&!Q||R&&Q||((H=B.$mode.tokenRe).lastIndex=0,R=H.test(re),H.lastIndex=0,Q=H.test(re),R||Q)||w&&!/[\s;,.})\]\\]/.test(w)||(B=W[U.column-2],re==K&&(B==K||H.test(B))))return null;L=!0}return{text:L?K+K:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(V,E,w,B,K){var U=B.$mode.$quotes||y,W=B.doc.getTextRange(K);if(!K.isMultiLine()&&U.hasOwnProperty(W)&&(N(w),B.doc.getLine(K.start.row).substring(K.start.column+1,K.start.column+2)==W))return K.end.column++,K})}var b,p=O("../../lib/oop"),u=O("../behaviour").Behaviour,h=O("../../token_iterator").TokenIterator,d=O("../../lib/lang"),f=["text","paren.rparen","rparen","paren","punctuation.operator"],k=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],m={},y={'"':'"',"'":"'"};v.isSaneInsertion=function(S,V){var E=S.getCursorPosition(),w=new h(V,E.row,E.column);if(!this.$matchTokenType(w.getCurrentToken()||"text",f)){if(/[)}\]]/.test(S.session.getLine(E.row)[E.column]))return!0;if(S=new h(V,E.row,E.column+1),!this.$matchTokenType(S.getCurrentToken()||"text",f))return!1}return w.stepForward(),w.getCurrentTokenRow()!==E.row||this.$matchTokenType(w.getCurrentToken()||"text",k)},v.$matchTokenType=function(S,V){return-1<V.indexOf(S.type||S)},v.recordAutoInsert=function(S,V,E){S=S.getCursorPosition(),V=V.doc.getLine(S.row),this.isAutoInsertedClosing(S,V,b.autoInsertedLineEnd[0])||(b.autoInsertedBrackets=0),b.autoInsertedRow=S.row,b.autoInsertedLineEnd=E+V.substr(S.column),b.autoInsertedBrackets++},v.recordMaybeInsert=function(S,V,E){S=S.getCursorPosition(),V=V.doc.getLine(S.row),this.isMaybeInsertedClosing(S,V)||(b.maybeInsertedBrackets=0),b.maybeInsertedRow=S.row,b.maybeInsertedLineStart=V.substr(0,S.column)+E,b.maybeInsertedLineEnd=V.substr(S.column),b.maybeInsertedBrackets++},v.isAutoInsertedClosing=function(S,V,E){return 0<b.autoInsertedBrackets&&S.row===b.autoInsertedRow&&E===b.autoInsertedLineEnd[0]&&V.substr(S.column)===b.autoInsertedLineEnd},v.isMaybeInsertedClosing=function(S,V){return 0<b.maybeInsertedBrackets&&S.row===b.maybeInsertedRow&&V.substr(S.column)===b.maybeInsertedLineEnd&&V.substr(0,S.column)==b.maybeInsertedLineStart},v.popAutoInsertedClosing=function(){b.autoInsertedLineEnd=b.autoInsertedLineEnd.substr(1),b.autoInsertedBrackets--},v.clearMaybeInsertedClosing=function(){b&&(b.maybeInsertedBrackets=0,b.maybeInsertedRow=-1)},p.inherits(v,u),T.CstyleBehaviour=v}),ace.define("ace/unicode",["require","exports","module"],function(O,T,j){"use strict";for(var N=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],F=0,v=[],b=0;b<N.length;b+=2)v.push(F+=N[b]),N[b+1]&&v.push(45,F+=N[b+1]);T.wordChars=String.fromCharCode.apply(null,v)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(O,T,j){"use strict";function N(){this.HighlightRules=b}var F=O("../config"),v=O("../tokenizer").Tokenizer,b=O("./text_highlight_rules").TextHighlightRules,p=O("./behaviour/cstyle").CstyleBehaviour,u=O("../unicode"),h=O("../lib/lang"),d=O("../token_iterator").TokenIterator,f=O("../range").Range;(function(){this.$defaultBehaviour=new p,this.tokenRe=new RegExp("^["+u.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+u.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new v(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(k,m,y,S){var V=m.doc,E=!0,w=!0,B=1/0,K=m.getTabSize(),U=!1;if(this.lineCommentStart){Q=Array.isArray(this.lineCommentStart)?(ve=this.lineCommentStart.map(h.escapeRegExp).join("|"),this.lineCommentStart[0]):(ve=h.escapeRegExp(this.lineCommentStart),this.lineCommentStart),ve=new RegExp("^(\\s*)(?:"+ve+") ?"),U=m.getUseSoftTabs();var W=function(Ge,Ie){var Ze,X,de=Ge.match(ve);de&&(R(Ge,Ze=de[1].length,X=de[0].length)||" "!=de[0][X-1]||X--,V.removeInLine(Ie,Ze,X))},re=Q+" ",H=function(Ge,Ie){E&&!/\S/.test(Ge)||(R(Ge,B,B)?V.insertInLine({row:Ie,column:B},re):V.insertInLine({row:Ie,column:B},Q))},L=function(Ge,Ie){return ve.test(Ge)},R=function(Ge,Ie,Ze){for(var X=0;Ie--&&" "==Ge.charAt(Ie);)X++;if(X%K!=0)return!1;for(X=0;" "==Ge.charAt(Ze++);)X++;return 2<K?X%K!=K-1:X%K==0}}else{if(!this.blockComment)return!1;var Q=this.blockComment.start,ae=this.blockComment.end,ve=new RegExp("^(\\s*)(?:"+h.escapeRegExp(Q)+")"),xe=new RegExp("(?:"+h.escapeRegExp(ae)+")\\s*$");H=function(X,de){L(X,de)||E&&!/\S/.test(X)||(V.insertInLine({row:de,column:X.length},ae),V.insertInLine({row:de,column:B},Q))},W=function(X,de){var ge;(ge=X.match(xe))&&V.removeInLine(de,X.length-ge[0].length,X.length),(ge=X.match(ve))&&V.removeInLine(de,ge[1].length,ge[0].length)},L=function(X,de){if(ve.test(X))return!0;for(var ge=m.getTokens(de),Ce=0;Ce<ge.length;Ce++)if("comment"===ge[Ce].type)return!0}}function Se(Ge){for(var Ie=y;Ie<=S;Ie++)Ge(V.getLine(Ie),Ie)}var we=1/0;Se(function(Ge,Ie){var Ze=Ge.search(/\S/);-1!==Ze?(Ze<B&&(B=Ze),w&&!L(Ge,Ie)&&(w=!1)):we>Ge.length&&(we=Ge.length)}),B==1/0&&(B=we,w=E=!1),U&&B%K!=0&&(B=Math.floor(B/K)*K),Se(w?W:H)},this.toggleBlockComment=function(k,m,y,S){var V=this.blockComment;if(V){!V.start&&V[0]&&(V=V[0]);var E,w,B=(H=new d(m,S.row,S.column)).getCurrentToken(),K=m.selection.toOrientedRange();if(B&&/comment/.test(B.type)){for(;B&&/comment/.test(B.type);){if(-1!=(L=B.value.indexOf(V.start))){var U=H.getCurrentTokenRow(),W=H.getCurrentTokenColumn()+L,re=new f(U,W,U,W+V.start.length);break}B=H.stepBackward()}var H,L;for(B=(H=new d(m,S.row,S.column)).getCurrentToken();B&&/comment/.test(B.type);){if(-1!=(L=B.value.indexOf(V.end))){U=H.getCurrentTokenRow(),W=H.getCurrentTokenColumn()+L;var R=new f(U,W,U,W+V.end.length);break}B=H.stepForward()}R&&m.remove(R),re&&(m.remove(re),E=re.start.row,w=-V.start.length)}else w=V.start.length,E=y.start.row,m.insert(y.end,V.end),m.insert(y.start,V.start);K.start.row==E&&(K.start.column+=w),K.end.row==E&&(K.end.column+=w),m.selection.fromOrientedRange(K)}},this.getNextLineIndent=function(k,m,y){return this.$getIndent(m)},this.checkOutdent=function(k,m,y){return!1},this.autoOutdent=function(k,m,y){},this.$getIndent=function(k){return k.match(/^\s*/)[0]},this.createWorker=function(k){return null},this.createModeDelegates=function(k){for(var m in this.$embeds=[],this.$modes={},k){var y,S,V;k[m]&&(S=(y=k[m]).prototype.$id,(V=F.$modes[S])||(F.$modes[S]=V=new y),F.$modes[m]||(F.$modes[m]=V),this.$embeds.push(m),this.$modes[m]=V)}var E=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(m=0;m<E.length;m++)!function(B){var K=E[m],U=B[K];B[E[m]]=function(){return this.$delegator(K,arguments,U)}}(this)},this.$delegator=function(k,m,y){var S=m[0]||"start";if("string"!=typeof S){if(Array.isArray(S[2])){var V=S[2][S[2].length-1];if(w=this.$modes[V])return w[k].apply(w,[S[1]].concat([].slice.call(m,1)))}S=S[0]||"start"}for(var E=0;E<this.$embeds.length;E++)if(this.$modes[this.$embeds[E]]){var w,B=S.split(this.$embeds[E]);if(!B[0]&&B[1])return m[0]=B[1],(w=this.$modes[this.$embeds[E]])[k].apply(w,m)}return V=y.apply(this,m),y?V:void 0},this.transformAction=function(k,m,y,S,V){if(this.$behaviour){var E,w=this.$behaviour.getBehaviours();for(E in w)if(w[E][m]){var B=w[E][m].apply(this,arguments);if(B)return B}}},this.getKeywords=function(k){if(!this.completionKeywords){var m=this.$tokenizer.rules,y=[];for(w in m)for(var S=m[w],V=0,E=S.length;V<E;V++)if("string"==typeof S[V].token)/keyword|support|storage/.test(S[V].token)&&y.push(S[V].regex);else if("object"==typeof S[V].token)for(var w,B=0,K=S[V].token.length;B<K;B++)/keyword|support|storage/.test(S[V].token[B])&&(w=S[V].regex.match(/\(.+?\)/g)[B],y.push(w.substr(1,w.length-2)));this.completionKeywords=y}return k?y.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(k,m,y,S){return(this.$keywordList||this.$createKeywordList()).map(function(V){return{name:V,value:V,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(N.prototype),T.Mode=N}),ace.define("ace/apply_delta",["require","exports","module"],function(O,T,j){"use strict";T.applyDelta=function(N,F,v){var b=F.start.row,p=F.start.column,u=N[b]||"";switch(F.action){case"insert":1===F.lines.length?N[b]=u.substring(0,p)+F.lines[0]+u.substring(p):(h=[b,1].concat(F.lines),N.splice.apply(N,h),N[b]=u.substring(0,p)+N[b],N[b+F.lines.length-1]+=u.substring(p));break;case"remove":var h=F.end.column,d=F.end.row;b===d?N[b]=u.substring(0,p)+u.substring(h):N.splice(b,d-b+1,u.substring(0,p)+N[d].substring(h))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(v,T,j){"use strict";var N=v("./lib/oop"),F=v("./lib/event_emitter").EventEmitter;v=T.Anchor=function(b,p,u){this.$onChange=this.onChange.bind(this),this.attach(b),void 0===u?this.setPosition(p.row,p.column):this.setPosition(p,u)},function(){function b(p,u,h){return h=h?p.column<=u.column:p.column<u.column,p.row<u.row||p.row==u.row&&h}N.implement(this,F),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(p){var u,h,d,f,k,m,y;p.start.row==p.end.row&&p.start.row!=this.row||p.start.row>this.row||(f=((y="insert"==(u=p).action)?1:-1)*(u.end.row-u.start.row),k=(y?1:-1)*(u.end.column-u.start.column),m=u.start,y=y?m:u.end,p=b(h={row:this.row,column:this.column},m,d=this.$insertRight)?{row:h.row,column:h.column}:b(y,h,!d)?{row:h.row+f,column:h.column+(h.row==y.row?k:0)}:{row:m.row,column:m.column},this.setPosition(p.row,p.column,!0))},this.setPosition=function(p,u,h){h=h?{row:p,column:u}:this.$clipPositionToDocument(p,u),this.row==h.row&&this.column==h.column||(p={row:this.row,column:this.column},this.row=h.row,this.column=h.column,this._signal("change",{old:p,value:h}))},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(p){this.document=p||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(p,u){var h={};return p>=this.document.getLength()?(h.row=Math.max(0,this.document.getLength()-1),h.column=this.document.getLine(h.row).length):p<0?(h.row=0,h.column=0):(h.row=p,h.column=Math.min(this.document.getLine(h.row).length,Math.max(0,u))),u<0&&(h.column=0),h}}.call(v.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(O,T,j){"use strict";function N(h){this.$lines=[""],0===h.length?this.$lines=[""]:Array.isArray(h)?this.insertMergedLines({row:0,column:0},h):this.insert({row:0,column:0},h)}var F=O("./lib/oop"),v=O("./apply_delta").applyDelta,b=O("./lib/event_emitter").EventEmitter,p=O("./range").Range,u=O("./anchor").Anchor;(function(){F.implement(this,b),this.setValue=function(h){var d=this.getLength()-1;this.remove(new p(0,0,d,this.getLine(d).length)),this.insert({row:0,column:0},h||"")},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(h,d){return new u(this,h,d)},this.$split=0==="aaa".split(/a/).length?function(h){return h.replace(/\r\n|\r/g,"\n").split("\n")}:function(h){return h.split(/\r\n|\r|\n/)},this.$detectNewLine=function(h){h=h.match(/^.*?(\r\n|\r|\n)/m),this.$autoNewLine=h?h[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(h){this.$newLineMode!==h&&(this.$newLineMode=h,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(h){return"\r\n"==h||"\r"==h||"\n"==h},this.getLine=function(h){return this.$lines[h]||""},this.getLines=function(h,d){return this.$lines.slice(h,d+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(h){return this.getLinesForRange(h).join(this.getNewLineCharacter())},this.getLinesForRange=function(h){var d,f;return h.start.row===h.end.row?d=[this.getLine(h.start.row).substring(h.start.column,h.end.column)]:((d=this.getLines(h.start.row,h.end.row))[0]=(d[0]||"").substring(h.start.column),h.end.row-h.start.row==(f=d.length-1)&&(d[f]=d[f].substring(0,h.end.column))),d},this.insertLines=function(h,d){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(h,d)},this.removeLines=function(h,d){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(h,d)},this.insertNewLine=function(h){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(h,["",""])},this.insert=function(h,d){return this.getLength()<=1&&this.$detectNewLine(d),this.insertMergedLines(h,this.$split(d))},this.insertInLine=function(k,d){var f=this.clippedPos(k.row,k.column);return k=this.pos(k.row,k.column+d.length),this.applyDelta({start:f,end:k,action:"insert",lines:[d]},!0),this.clonePos(k)},this.clippedPos=function(h,d){var f=this.getLength();return void 0===h?h=f:h<0?h=0:f<=h&&(h=f-1,d=void 0),f=this.getLine(h),null==d&&(d=f.length),{row:h,column:d=Math.min(Math.max(d,0),f.length)}},this.clonePos=function(h){return{row:h.row,column:h.column}},this.pos=function(h,d){return{row:h,column:d}},this.$clipPosition=function(h){var d=this.getLength();return h.row>=d?(h.row=Math.max(0,d-1),h.column=this.getLine(d-1).length):(h.row=Math.max(0,h.row),h.column=Math.min(Math.max(h.column,0),this.getLine(h.row).length)),h},this.insertFullLines=function(h,d){var f;f=(h=Math.min(Math.max(h,0),this.getLength()))<this.getLength()?(d=d.concat([""]),0):(d=[""].concat(d),this.$lines[--h].length),this.insertMergedLines({row:h,column:f},d)},this.insertMergedLines=function(f,d){var k={row:(f=this.clippedPos(f.row,f.column)).row+d.length-1,column:(1==d.length?f.column:0)+d[d.length-1].length};return this.applyDelta({start:f,end:k,action:"insert",lines:d}),this.clonePos(k)},this.remove=function(f){var d=this.clippedPos(f.start.row,f.start.column);return f=this.clippedPos(f.end.row,f.end.column),this.applyDelta({start:d,end:f,action:"remove",lines:this.getLinesForRange({start:d,end:f})}),this.clonePos(d)},this.removeInLine=function(h,d,f){return d=this.clippedPos(h,d),h=this.clippedPos(h,f),this.applyDelta({start:d,end:h,action:"remove",lines:this.getLinesForRange({start:d,end:h})},!0),this.clonePos(d)},this.removeFullLines=function(h,d){h=Math.min(Math.max(0,h),this.getLength()-1);var y=(d=Math.min(Math.max(0,d),this.getLength()-1))==this.getLength()-1&&0<h,k=d<this.getLength()-1,m=y?h-1:h,f=(y=y?this.getLine(m).length:0,k?d+1:d);return k=k?0:this.getLine(f).length,m=new p(m,y,f,k),y=this.$lines.slice(h,d+1),this.applyDelta({start:m.start,end:m.end,action:"remove",lines:this.getLinesForRange(m)}),y},this.removeNewLine=function(h){h<this.getLength()-1&&0<=h&&this.applyDelta({start:this.pos(h,this.getLine(h).length),end:this.pos(h+1,0),action:"remove",lines:["",""]})},this.replace=function(h,d){return h instanceof p||(h=p.fromPoints(h.start,h.end)),0===d.length&&h.isEmpty()?h.start:d==this.getTextRange(h)?h.end:(this.remove(h),d?this.insert(h.start,d):h.start)},this.applyDeltas=function(h){for(var d=0;d<h.length;d++)this.applyDelta(h[d])},this.revertDeltas=function(h){for(var d=h.length-1;0<=d;d--)this.revertDelta(h[d])},this.applyDelta=function(h,d){var f="insert"==h.action;(f?h.lines.length<=1&&!h.lines[0]:!p.comparePoints(h.start,h.end))||(f&&2e4<h.lines.length?this.$splitAndapplyLargeDelta(h,2e4):(v(this.$lines,h,d),this._signal("change",h)))},this.$safeApplyDelta=function(h){var d=this.$lines.length;("remove"==h.action&&h.start.row<d&&h.end.row<d||"insert"==h.action&&h.start.row<=d)&&this.applyDelta(h)},this.$splitAndapplyLargeDelta=function(h,d){for(var f=h.lines,k=f.length-d+1,m=h.start.row,y=h.start.column,S=0,V=0;S<k;S=V){var E=f.slice(S,V+=d-1);E.push(""),this.applyDelta({start:this.pos(m+S,y),end:this.pos(m+V,y=0),action:h.action,lines:E},!0)}h.lines=f.slice(S),h.start.row=m+S,h.start.column=y,this.applyDelta(h,!0)},this.revertDelta=function(h){this.$safeApplyDelta({start:this.clonePos(h.start),end:this.clonePos(h.end),action:"insert"==h.action?"remove":"insert",lines:h.lines.slice()})},this.indexToPosition=function(h,d){for(var f=this.$lines||this.getAllLines(),k=this.getNewLineCharacter().length,m=d||0,y=f.length;m<y;m++)if((h-=f[m].length+k)<0)return{row:m,column:h+f[m].length+k};return{row:y-1,column:h+f[y-1].length+k}},this.positionToIndex=function(h,d){for(var f=this.$lines||this.getAllLines(),k=this.getNewLineCharacter().length,m=0,y=Math.min(h.row,f.length),S=d||0;S<y;++S)m+=f[S].length+k;return m+h.column}}).call(N.prototype),T.Document=N}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(O,T,j){"use strict";function N(b,p){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=b;var u=this;this.$worker=function(){if(u.running){for(var h=new Date,d=u.currentLine,f=-1,k=u.doc,m=d;u.lines[d];)d++;var y=k.getLength(),S=0;for(u.running=!1;d<y;){for(u.$tokenizeRow(d),f=d;d++,u.lines[d];);if(++S%5==0&&20<new Date-h){u.running=setTimeout(u.$worker,20);break}}u.currentLine=d,m<=(f=-1==f?d:f)&&u.fireUpdateEvent(m,f)}}}var F=O("./lib/oop"),v=O("./lib/event_emitter").EventEmitter;(function(){F.implement(this,v),this.setTokenizer=function(b){this.tokenizer=b,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(b){this.doc=b,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(b,p){this._signal("update",{data:{first:b,last:p}})},this.start=function(b){this.currentLine=Math.min(b||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(b){var p=b.start.row,u=b.end.row-p;0==u?this.lines[p]=null:"remove"==b.action?(this.lines.splice(p,1+u,null),this.states.splice(p,1+u,null)):((b=Array(1+u)).unshift(p,1),this.lines.splice.apply(this.lines,b),this.states.splice.apply(this.states,b)),this.currentLine=Math.min(p,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(b){return this.lines[b]||this.$tokenizeRow(b)},this.getState=function(b){return this.currentLine==b&&this.$tokenizeRow(b),this.states[b]||"start"},this.$tokenizeRow=function(b){var u=this.doc.getLine(b);return u=this.tokenizer.getLineTokens(u,this.states[b-1],b),this.states[b]+""!=u.state+""?(this.states[b]=u.state,this.lines[b+1]=null,this.currentLine>b+1&&(this.currentLine=b+1)):this.currentLine==b&&(this.currentLine=b+1),this.lines[b]=u.tokens},this.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}}).call(N.prototype),T.BackgroundTokenizer=N}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(O,T,j){"use strict";function N(b,p,u){this.setRegexp(b),this.clazz=p,this.type=u||"text"}var F=O("./lib/lang"),v=(O("./lib/oop"),O("./range").Range);(function(){this.MAX_RANGES=500,this.setRegexp=function(b){this.regExp+""!=b+""&&(this.regExp=b,this.cache=[])},this.update=function(b,p,u,h){if(this.regExp)for(var f=h.lastRow,k={},m=h.firstRow;m<=f;m++){var y=this.cache[m];null==y&&(y=(y=(y=F.getMatchOffsets(u.getLine(m),this.regExp)).length>this.MAX_RANGES?y.slice(0,this.MAX_RANGES):y).map(function(w){return new v(m,w.offset,m,w.offset+w.length)}),this.cache[m]=y.length?y:"");for(var S=y.length;S--;){var V=y[S].toScreenRange(u),E=V.toString();k[E]||(k[E]=!0,p.drawSingleLineMarker(b,V,this.clazz,h))}}}}).call(N.prototype),T.SearchHighlight=N}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(O,T,j){"use strict";var N=O("../range").Range;function F(v,b){this.foldData=v,Array.isArray(b)?this.folds=b:b=this.folds=[b],this.range=new N(b[0].start.row,b[0].start.column,(v=b[b.length-1]).end.row,v.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(p){p.setFoldLine(this)},this)}(function(){this.shiftRow=function(v){this.start.row+=v,this.end.row+=v,this.folds.forEach(function(b){b.start.row+=v,b.end.row+=v})},this.addFold=function(v){if(v.sameRow){if(v.start.row<this.startRow||v.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(v),this.folds.sort(function(b,p){return-b.range.compareEnd(p.start.row,p.start.column)}),0<this.range.compareEnd(v.start.row,v.start.column)?(this.end.row=v.end.row,this.end.column=v.end.column):this.range.compareStart(v.end.row,v.end.column)<0&&(this.start.row=v.start.row,this.start.column=v.start.column)}else if(v.start.row==this.end.row)this.folds.push(v),this.end.row=v.end.row,this.end.column=v.end.column;else{if(v.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(v),this.start.row=v.start.row,this.start.column=v.start.column}v.foldLine=this},this.containsRow=function(v){return v>=this.start.row&&v<=this.end.row},this.walk=function(v,b,p){var u,h,d=0,f=this.folds,k=!0;null==b&&(b=this.end.row,p=this.end.column);for(var m=0;m<f.length;m++){if(-1==(h=(u=f[m]).range.compareStart(b,p)))return void v(null,b,p,d,k);if(!v(null,u.start.row,u.start.column,d,k)&&v(u.placeholder,u.start.row,u.start.column,d)||0===h)return;k=!u.sameRow,d=u.end.column}v(null,b,p,d,k)},this.getNextFoldTo=function(v,b){for(var p,u,h=0;h<this.folds.length;h++){if(-1==(u=(p=this.folds[h]).range.compareEnd(v,b)))return{fold:p,kind:"after"};if(0===u)return{fold:p,kind:"inside"}}return null},this.addRemoveChars=function(v,b,p){var u,h=this.getNextFoldTo(v,b);if(h)if(u=h.fold,"inside"==h.kind&&u.start.column!=b&&u.start.row!=v)window.console&&window.console.log(v,b,u);else if(u.start.row==v){var d,f=(d=this.folds).indexOf(u);for(0===f&&(this.start.column+=p);f<d.length;f++){if((u=d[f]).start.column+=p,!u.sameRow)return;u.end.column+=p}this.end.column+=p}},this.split=function(h,b){var p,u;return(h=this.getNextFoldTo(h,b))&&"inside"!=h.kind?(b=h.fold,p=this.foldData,b=(h=this.folds).indexOf(b),this.end.row=(u=h[b-1]).end.row,this.end.column=u.end.column,u=new F(p,h=h.splice(b,h.length-b)),p.splice(p.indexOf(this)+1,0,u),u):null},this.merge=function(v){for(var b=v.folds,p=0;p<b.length;p++)this.addFold(b[p]);var u=this.foldData;u.splice(u.indexOf(v),1)},this.toString=function(){var v=[this.range.toString()+": ["];return this.folds.forEach(function(b){v.push("  "+b.toString())}),v.push("]"),v.join("\n")},this.idxToPosition=function(v){for(var b=0,p=0;p<this.folds.length;p++){var u=this.folds[p];if((v-=u.start.column-b)<0)return{row:u.start.row,column:u.start.column+v};if((v-=u.placeholder.length)<0)return u.start;b=u.end.column}return{row:this.end.row,column:this.end.column+v}}}).call(F.prototype),T.FoldLine=F}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(O,T,j){"use strict";function N(){this.ranges=[],this.$bias=1}var F=O("./range").Range.comparePoints;(function(){this.comparePoints=F,this.pointIndex=function(v,b,p){for(var u=this.ranges,h=p||0;h<u.length;h++){var d=u[h],f=F(v,d.end);if(!(0<f))return d=F(v,d.start),0===f?b&&0!==d?-h-2:h:0<d||0===d&&!b?h:-h-1}return-h-1},this.add=function(v){var p=!v.isEmpty(),b=this.pointIndex(v.start,p);return(p=this.pointIndex(v.end,p,b=b<0?-b-1:b))<0?p=-p-1:p++,this.ranges.splice(b,p-b,v)},this.addList=function(v){for(var b=[],p=v.length;p--;)b.push.apply(b,this.add(v[p]));return b},this.substractPoint=function(v){if(0<=(v=this.pointIndex(v)))return this.ranges.splice(v,1)},this.merge=function(){for(var v=[],b=this.ranges,p=(b=b.sort(function(f,k){return F(f.start,k.start)}))[0],u=1;u<b.length;u++){var h=p,d=F(h.end,(p=b[u]).start);d<0||(0!=d||h.isEmpty()||p.isEmpty())&&(F(h.end,p.end)<0&&(h.end.row=p.end.row,h.end.column=p.end.column),b.splice(u,1),v.push(p),p=h,u--)}return this.ranges=b,v},this.contains=function(v,b){return 0<=this.pointIndex({row:v,column:b})},this.containsPoint=function(v){return 0<=this.pointIndex(v)},this.rangeAtPoint=function(v){if(0<=(v=this.pointIndex(v)))return this.ranges[v]},this.clipRows=function(v,b){var p=this.ranges;if(p[0].start.row>b||p[p.length-1].start.row<v)return[];v=this.pointIndex({row:v,column:0});for(var u=this.pointIndex({row:b,column:0},v=v<0?-v-1:v),h=(u<0&&(u=-u-1),[]),d=v;d<u;d++)h.push(p[d]);return h},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(v){this.session&&this.detach(),this.session=v,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(v){for(var b=v.start,p=v.end,u=b.row,h=p.row,d=this.ranges,f=0,k=d.length;f<k&&!((S=d[f]).end.row>=u);f++);var S;if("insert"==v.action)for(var m=h-u,y=-b.column+p.column;f<k&&!((S=d[f]).start.row>u);f++)S.start.row==u&&S.start.column>=b.column&&(S.start.column==b.column&&this.$bias<=0||(S.start.column+=y,S.start.row+=m)),S.end.row==u&&S.end.column>=b.column&&(S.end.column==b.column&&this.$bias<0||(S.end.column==b.column&&0<y&&f<k-1&&S.end.column>S.start.column&&S.end.column==d[f+1].start.column&&(S.end.column-=y),S.end.column+=y,S.end.row+=m));else for(m=u-h,y=b.column-p.column;f<k&&!((S=d[f]).start.row>h);f++)S.end.row<h&&(u<S.end.row||u==S.end.row&&b.column<S.end.column)?(S.end.row=u,S.end.column=b.column):S.end.row==h?S.end.column<=p.column?(m||S.end.column>b.column)&&(S.end.column=b.column,S.end.row=b.row):(S.end.column+=y,S.end.row+=m):S.end.row>h&&(S.end.row+=m),S.start.row<h&&(u<S.start.row||u==S.start.row&&b.column<S.start.column)?(S.start.row=u,S.start.column=b.column):S.start.row==h?S.start.column<=p.column?(m||S.start.column>b.column)&&(S.start.column=b.column,S.start.row=b.row):(S.start.column+=y,S.start.row+=m):S.start.row>h&&(S.start.row+=m);if(0!=m&&f<k)for(;f<k;f++)(S=d[f]).start.row+=m,S.end.row+=m}}).call(N.prototype),T.RangeList=N}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(F,T,j){"use strict";var N=F("../range_list").RangeList,v=(F=F("../lib/oop"),T.Fold=function(u,h){this.foldLine=null,this.placeholder=h,this.range=u,this.start=u.start,this.end=u.end,this.sameRow=u.start.row==u.end.row,this.subFolds=this.ranges=[]});function b(u,h){u.row-=h.row,0==u.row&&(u.column-=h.column)}function p(u,h){0==u.row&&(u.column+=h.column),u.row+=h.row}F.inherits(v,N),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(u){this.foldLine=u,this.subFolds.forEach(function(h){h.setFoldLine(u)})},this.clone=function(){var u=this.range.clone(),h=new v(u,this.placeholder);return this.subFolds.forEach(function(d){h.subFolds.push(d.clone())}),h.collapseChildren=this.collapseChildren,h},this.addSubFold=function(u){if(!this.range.isEqual(u)){b((m=u).start,y=this.start),b(m.end,y);for(var h=u.start.row,d=u.start.column,f=0,k=-1;f<this.subFolds.length&&1==(k=this.subFolds[f].range.compare(h,d));f++);var m=this.subFolds[f],y=0;if(0==k){if(m.range.containsRange(u))return m.addSubFold(u);y=1}h=u.range.end.row,d=u.range.end.column;var S=f;for(k=-1;S<this.subFolds.length&&1==(k=this.subFolds[S].range.compare(h,d));S++);0==k&&S++;for(var V=this.subFolds.splice(f,S-f,u),E=0==k?V.length-1:V.length,w=y;w<E;w++)u.addSubFold(V[w]);return u.setFoldLine(this.foldLine),u}},this.restoreRange=function(u){return p(u.start,h=this.start),void p(u.end,h);var h}}.call(v.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(O,T,j){"use strict";var N=O("../range").Range,F=O("./fold_line").FoldLine,v=O("./fold").Fold,b=O("../token_iterator").TokenIterator;T.Folding=function(){this.getFoldAt=function(p,u,h){var d=this.getFoldLine(p);if(!d)return null;for(var f=d.folds,k=0;k<f.length;k++){var m=f[k].range;if(m.contains(p,u)&&(1!=h||!m.isEnd(p,u)||m.isEmpty())&&(-1!=h||!m.isStart(p,u)||m.isEmpty()))return f[k]}},this.getFoldsInRange=function(p){var u=p.start,h=p.end,d=this.$foldData,f=[];u.column+=1,--h.column;for(var k=0;k<d.length;k++){var m=d[k].range.compareRange(p);if(2!=m){if(-2==m)break;for(var y=d[k].folds,S=0;S<y.length;S++){var V=y[S];if(-2==(m=V.range.compareRange(p)))break;if(2!=m){if(42==m)break;f.push(V)}}}}return--u.column,h.column+=1,f},this.getFoldsInRangeList=function(p){var u;return Array.isArray(p)?(u=[],p.forEach(function(h){u=u.concat(this.getFoldsInRange(h))},this)):u=this.getFoldsInRange(p),u},this.getAllFolds=function(){for(var p=[],u=this.$foldData,h=0;h<u.length;h++)for(var d=0;d<u[h].folds.length;d++)p.push(u[h].folds[d]);return p},this.getFoldStringAt=function(p,u,h,d){if(!(d=d||this.getFoldLine(p)))return null;for(var f,k={end:{column:0}},m=0;m<d.folds.length;m++){var y,S=(y=d.folds[m]).range.compareEnd(p,u);if(-1==S){f=this.getLine(y.start.row).substring(k.end.column,y.start.column);break}if(0===S)return null;k=y}return f=f||this.getLine(y.start.row).substring(k.end.column),-1==h?f.substring(0,u-k.end.column):1==h?f.substring(u-k.end.column):f},this.getFoldLine=function(p,u){var h=this.$foldData,d=0;for(-1==(d=u?h.indexOf(u):d)&&(d=0);d<h.length;d++){var f=h[d];if(f.start.row<=p&&f.end.row>=p)return f;if(f.end.row>p)return null}return null},this.getNextFoldLine=function(p,u){var h=this.$foldData,d=0;for(-1==(d=u?h.indexOf(u):d)&&(d=0);d<h.length;d++){var f=h[d];if(f.end.row>=p)return f}return null},this.getFoldedRowCount=function(p,u){for(var h=this.$foldData,d=u-p+1,f=0;f<h.length;f++){var k=(m=h[f]).end.row,m=m.start.row;if(u<=k){m<u&&(p<=m?d-=u-m:d=0);break}p<=k&&(d-=p<=m?k-m:k-p+1)}return d},this.$addFoldLine=function(p){return this.$foldData.push(p),this.$foldData.sort(function(u,h){return u.start.row-h.start.row}),p},this.addFold=function(m,S){var h,d=this.$foldData,f=!1,k=(m instanceof v?h=m:(h=new v(S,m)).collapseChildren=S.collapseChildren,this.$clipRangeToDocument(h.range),h.start.row),y=h.end.row,V=(S=h.end.column,this.getFoldAt(k,m=h.start.column,1)),E=this.getFoldAt(y,S,-1);if(V&&E==V)return V.addSubFold(h);V&&!V.range.isStart(k,m)&&this.removeFold(V),E&&!E.range.isEnd(y,S)&&this.removeFold(E),0<(m=this.getFoldsInRange(h.range)).length&&(this.removeFolds(m),h.collapseChildren||m.forEach(function(U){h.addSubFold(U)}));for(var w=0;w<d.length;w++){var B=d[w];if(y==B.start.row){B.addFold(h),f=!0;break}if(k==B.end.row){if(B.addFold(h),f=!0,!h.sameRow){var K=d[w+1];if(K&&K.start.row==y){B.merge(K);break}}break}if(y<=B.start.row)break}return f||(B=this.$addFoldLine(new F(this.$foldData,h))),this.$useWrapMode?this.$updateWrapData(B.start.row,B.start.row):this.$updateRowLengthCache(B.start.row,B.start.row),this.$modified=!0,this._signal("changeFold",{data:h,action:"add"}),h},this.addFolds=function(p){p.forEach(function(u){this.addFold(u)},this)},this.removeFold=function(p){var u=p.foldLine,h=u.start.row,d=u.end.row,f=this.$foldData,k=u.folds;1==k.length?f.splice(f.indexOf(u),1):u.range.isEnd(p.end.row,p.end.column)?(k.pop(),u.end.row=k[k.length-1].end.row,u.end.column=k[k.length-1].end.column):u.range.isStart(p.start.row,p.start.column)?(k.shift(),u.start.row=k[0].start.row,u.start.column=k[0].start.column):p.sameRow?k.splice(k.indexOf(p),1):((k=(f=u.split(p.start.row,p.start.column)).folds).shift(),f.start.row=k[0].start.row,f.start.column=k[0].start.column),this.$updating||(this.$useWrapMode?this.$updateWrapData(h,d):this.$updateRowLengthCache(h,d)),this.$modified=!0,this._signal("changeFold",{data:p,action:"remove"})},this.removeFolds=function(p){for(var u=[],h=0;h<p.length;h++)u.push(p[h]);u.forEach(function(d){this.removeFold(d)},this),this.$modified=!0},this.expandFold=function(p){this.removeFold(p),p.subFolds.forEach(function(u){p.restoreRange(u),this.addFold(u)},this),0<p.collapseChildren&&this.foldAll(p.start.row+1,p.end.row,p.collapseChildren-1),p.subFolds=[]},this.expandFolds=function(p){p.forEach(function(u){this.expandFold(u)},this)},this.unfold=function(p,u){var h,d;if(null==p)h=new N(0,0,this.getLength(),0),null==u&&(u=!0);else if("number"==typeof p)h=new N(p,0,p,this.getLine(p).length);else if("row"in p)h=N.fromPoints(p,p);else{if(Array.isArray(p))return d=[],p.forEach(function(f){d=d.concat(this.unfold(f))},this),d;h=p}for(p=d=this.getFoldsInRangeList(h);1==d.length&&N.comparePoints(d[0].start,h.start)<0&&0<N.comparePoints(d[0].end,h.end);)this.expandFolds(d),d=this.getFoldsInRangeList(h);if(0!=u?this.removeFolds(d):this.expandFolds(d),p.length)return p},this.isRowFolded=function(p,u){return!!this.getFoldLine(p,u)},this.getRowFoldEnd=function(p,u){return(u=this.getFoldLine(p,u))?u.end.row:p},this.getRowFoldStart=function(p,u){return(u=this.getFoldLine(p,u))?u.start.row:p},this.getFoldDisplayLine=function(p,u,h,d,f){null==d&&(d=p.start.row),null==f&&(f=0),null==u&&(u=p.end.row),null==h&&(h=this.getLine(u).length);var k=this.doc,m="";return p.walk(function(y,S,V,E){if(!(S<d)){if(S==d){if(V<f)return;E=Math.max(f,E)}m+=y??k.getLine(S).substring(E,V)}},u,h),m},this.getDisplayLine=function(p,u,h,d){var f=this.getFoldLine(p);return f?this.getFoldDisplayLine(f,p,u,h,d):(f=this.doc.getLine(p)).substring(d||0,u||f.length)},this.$cloneFoldData=function(){var p=[];return p=this.$foldData.map(function(u){return u=u.folds.map(function(h){return h.clone()}),new F(p,u)})},this.toggleFold=function(p){var u=this.selection.getRange();if(u.isEmpty()){var h,d=u.start;if(h=this.getFoldAt(d.row,d.column))return void this.expandFold(h);(f=this.findMatchingBracket(d))?1==u.comparePoint(f)?u.end=f:(u.start=f,u.start.column++,u.end.column--):(f=this.findMatchingBracket({row:d.row,column:d.column+1}))?(1==u.comparePoint(f)?u.end=f:u.start=f,u.start.column++):u=this.getCommentFoldRange(d.row,d.column)||u}else{var f=this.getFoldsInRange(u);if(p&&f.length)return void this.expandFolds(f);1==f.length&&(h=f[0])}if((h=h||this.getFoldAt(u.start.row,u.start.column))&&h.range.toString()==u.toString())this.expandFold(h);else{if(d="...",!u.isMultiLine()){if((d=this.getTextRange(u)).length<4)return;d=d.trim().substring(0,2)+".."}this.addFold(d,u)}},this.getCommentFoldRange=function(p,u,h){var d=new b(this,p,u),f=d.getCurrentToken(),k=f&&f.type;if(f&&/^comment|string/.test(k)){"comment"==(k=k.match(/comment|string/)[0])&&(k+="|doc-start");var m=new RegExp(k);if(k=new N,1!=h){for(;(f=d.stepBackward())&&m.test(f.type)&&!/^comment.end/.test(f.type););f=d.stepForward()}if(k.start.row=d.getCurrentTokenRow(),k.start.column=d.getCurrentTokenColumn()+(/^comment.start/.test(f.type)?f.value.length:2),d=new b(this,p,u),-1!=h){var y=-1;do{if(f=d.stepForward(),-1==y){var S=this.getState(d.$row);m.test(S)||(y=d.$row)}else if(d.$row>y)break}while(f&&m.test(f.type)&&!/^comment.start/.test(f.type));f=d.stepBackward()}else f=d.getCurrentToken();return k.end.row=d.getCurrentTokenRow(),k.end.column=d.getCurrentTokenColumn(),/^comment.end/.test(f.type)||(k.end.column+=f.value.length-2),k}},this.foldAll=function(p,u,h,d){null==h&&(h=1e5);var f=this.foldWidgets;if(f){u=u||this.getLength();for(var k,m=p=p||0;m<u;m++)null==f[m]&&(f[m]=this.getFoldWidget(m)),"start"!=f[m]||d&&!d(m)||(k=this.getFoldWidgetRange(m))&&k.isMultiLine()&&k.end.row<=u&&k.start.row>=p&&(m=k.end.row,k.collapseChildren=h,this.addFold("...",k))}},this.foldToLevel=function(p){for(this.foldAll();0<p--;)this.unfold(null,!1)},this.foldAllComments=function(){var p=this;this.foldAll(null,null,null,function(u){for(var h=p.getTokens(u),d=0;d<h.length;d++){var f=h[d];if("text"!=f.type||!/^\s+$/.test(f.value))return!!/comment/.test(f.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(p){if(!this.$foldStyles[p])throw new Error("invalid fold style: "+p+"["+Object.keys(this.$foldStyles).join(", ")+"]");this.$foldStyle!=p&&("manual"==(this.$foldStyle=p)&&this.unfold(),p=this.$foldMode,this.$setFolding(null),this.$setFolding(p))},this.$setFolding=function(p){this.$foldMode!=p&&(this.$foldMode=p,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),p&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=p.getFoldWidget.bind(p,this,this.$foldStyle),this.getFoldWidgetRange=p.getFoldWidgetRange.bind(p,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(p,u){var h=this.foldWidgets;if(!h||u&&h[p])return{};for(var d=p-1;0<=d;){var f=h[d];if("start"==(f=f??(h[d]=this.getFoldWidget(d)))){var k=this.getFoldWidgetRange(d),m=m||k;if(k&&k.end.row>=p)break}d--}return{range:-1!==d&&k,firstRange:m}},this.onFoldWidgetClick=function(p,u){var h={children:(u=u.domEvent).shiftKey,all:u.ctrlKey||u.metaKey,siblings:u.altKey};this.$toggleFoldWidget(p,h)||(p=u.target||u.srcElement)&&/ace_fold-widget/.test(p.className)&&(p.className+=" ace_invalid")},this.$toggleFoldWidget=function(p,u){var h,d,f,k;if(this.getFoldWidget)return h=this.getFoldWidget(p),d=this.getLine(p),(d=this.getFoldAt(p,-1==(h="end"===h?-1:1)?0:d.length,h))?(u.children||u.all?this.removeFold(d):this.expandFold(d),d):(h=this.getFoldWidgetRange(p,!0))&&!h.isMultiLine()&&(d=this.getFoldAt(h.start.row,h.start.column,1))&&h.isEqual(d.range)?(this.removeFold(d),d):(u.siblings?((d=this.getParentFoldRangeData(p)).range&&(f=d.range.start.row+1,k=d.range.end.row),this.foldAll(f,k,u.all?1e4:0)):u.children?(k=h?h.end.row:this.getLength(),this.foldAll(p+1,k,u.all?1e4:0)):h&&(u.all&&(h.collapseChildren=1e4),this.addFold("...",h)),h)},this.toggleFoldWidget=function(p){var u,h=this.selection.getCursor().row;h=this.getRowFoldStart(h),!this.$toggleFoldWidget(h,{})&&(u=(u=this.getParentFoldRangeData(h,!0)).range||u.firstRange)&&((h=this.getFoldAt(h=u.start.row,this.getLine(h).length,1))?this.removeFold(h):this.addFold("...",u))},this.updateFoldWidgets=function(p){var u=p.start.row,h=p.end.row-u;0==h?this.foldWidgets[u]=null:"remove"==p.action?this.foldWidgets.splice(u,1+h,null):((p=Array(1+h)).unshift(u,1),this.foldWidgets.splice.apply(this.foldWidgets,p))},this.tokenizerUpdateFoldWidgets=function(p){(p=p.data).first!=p.last&&this.foldWidgets.length>p.first&&this.foldWidgets.splice(p.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(O,T,j){"use strict";var N=O("../token_iterator").TokenIterator,F=O("../range").Range;T.BracketMatch=function(){this.findMatchingBracket=function(v,b){return 0!=v.column&&""!=(b=b||this.getLine(v.row).charAt(v.column-1))&&(b=b.match(/([\(\[\{])|([\)\]\}])/))?b[1]?this.$findClosingBracket(b[1],v):this.$findOpeningBracket(b[2],v):null},this.getBracketRange=function(v){var b,p,u=this.getLine(v.row),h=!0,d=u.charAt(v.column-1),f=d&&d.match(/([\(\[\{])|([\)\]\}])/);if(f||(d=u.charAt(v.column),v={row:v.row,column:v.column+1},f=d&&d.match(/([\(\[\{])|([\)\]\}])/),h=!1),!f)return null;if(f[1]){if(!(p=this.$findClosingBracket(f[1],v)))return null;b=F.fromPoints(v,p),h||(b.end.column++,b.start.column--),b.cursor=b.end}else{if(!(p=this.$findOpeningBracket(f[2],v)))return null;b=F.fromPoints(p,v),h||(b.start.column++,b.end.column--),b.cursor=b.start}return b},this.getMatchingBracketRanges=function(v,b){var p=this.getLine(v.row),u=/([\(\[\{])|([\)\]\}])/,h=!b&&p.charAt(v.column-1),d=h&&h.match(u);return d||(h=(void 0===b||b)&&p.charAt(v.column),v={row:v.row,column:v.column+1},d=h&&h.match(u)),d?(b=new F(v.row,v.column-1,v.row,v.column),(p=d[1]?this.$findClosingBracket(d[1],v):this.$findOpeningBracket(d[2],v))?[b,new F(p.row,p.column,p.row,p.column+1)]:[b]):null},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(v,b,p){var u=this.$brackets[v],h=1,d=new N(this,b.row,b.column),f=d.getCurrentToken();if(f=f||d.stepForward()){p=p||new RegExp("(\\.?"+f.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+");for(var k=b.column-d.getCurrentTokenColumn()-2,m=f.value;;){for(;0<=k;){var y=m.charAt(k);if(y==u){if(0==--h)return{row:d.getCurrentTokenRow(),column:k+d.getCurrentTokenColumn()}}else y==v&&(h+=1);--k}for(;(f=d.stepBackward())&&!p.test(f.type););if(null==f)break;k=(m=f.value).length-1}return null}},this.$findClosingBracket=function(v,b,p){var u=this.$brackets[v],h=1,d=new N(this,b.row,b.column),f=d.getCurrentToken();if(f=f||d.stepForward()){p=p||new RegExp("(\\.?"+f.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+");for(var k=b.column-d.getCurrentTokenColumn();;){for(var m=f.value,y=m.length;k<y;){var S=m.charAt(k);if(S==u){if(0==--h)return{row:d.getCurrentTokenRow(),column:k+d.getCurrentTokenColumn()}}else S==v&&(h+=1);k+=1}for(;(f=d.stepForward())&&!p.test(f.type););if(null==f)break;k=0}return null}},this.getMatchingTags=function(b){b=new N(this,b.row,b.column);var p=this.$findTagName(b);if(p)return"<"===b.stepBackward().value?this.$findClosingTag(b,p):this.$findOpeningTag(b,p)},this.$findTagName=function(v){var b=v.getCurrentToken(),p=!1,u=!1;if(b&&-1===b.type.indexOf("tag-name"))for(;(b=u?v.stepBackward():v.stepForward())&&("/>"===b.value?u=!0:-1!==b.type.indexOf("tag-name")&&(p=!0)),b&&!p;);return b},this.$findClosingTag=function(v,b){var p=b.value,u=b.value,h=0,d=new F(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+1),f=(b=v.stepForward(),new F(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+b.value.length)),k=!1;do{var m,y=b;if(b=v.stepForward())if(">"!==b.value||k||(m=new F(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+1),k=!0),-1!==b.type.indexOf("tag-name")){if(u===(p=b.value))if("<"===y.value)h++;else if("</"===y.value&&--h<0){v.stepBackward();var S=new F(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+2),V=(b=v.stepForward(),new F(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+b.value.length));if(!(b=v.stepForward())||">"!==b.value)return;var E=new F(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+1)}}else u===p&&"/>"===b.value&&--h<0&&(E=V=S=new F(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+2),m=new F(f.end.row,f.end.column,f.end.row,f.end.column+1))}while(b&&0<=h);if(d&&m&&S&&E&&f&&V)return{openTag:new F(d.start.row,d.start.column,m.end.row,m.end.column),closeTag:new F(S.start.row,S.start.column,E.end.row,E.end.column),openTagName:f,closeTagName:V}},this.$findOpeningTag=function(v,b){var p,u=v.getCurrentToken(),h=b.value,d=0,f=v.getCurrentTokenRow(),k=v.getCurrentTokenColumn(),m=new F(f,k,f,k+2),y=(v.stepForward(),new F(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+b.value.length));if((b=v.stepForward())&&">"===b.value){var S=new F(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+1);v.stepBackward(),v.stepBackward();do{if(b=u,f=v.getCurrentTokenRow(),p=(k=v.getCurrentTokenColumn())+b.value.length,u=v.stepBackward(),b)if(-1!==b.type.indexOf("tag-name")){if(h===b.value)if("<"===u.value){if(0<++d){for(var V=new F(f,k,f,p),E=new F(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+1);(b=v.stepForward())&&">"!==b.value;);var w=new F(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+1)}}else"</"===u.value&&d--}else if("/>"===b.value){for(var B=0,K=u;K;){if(-1!==K.type.indexOf("tag-name")&&K.value===h){d--;break}if("<"===K.value)break;K=v.stepBackward(),B++}for(var U=0;U<B;U++)v.stepForward()}}while(u&&d<=0);return E&&w&&m&&S&&V&&y?{openTag:new F(E.start.row,E.start.column,w.end.row,w.end.column),closeTag:new F(m.start.row,m.start.column,S.end.row,S.end.column),openTagName:V,closeTagName:y}:void 0}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(O,T,j){"use strict";function N(S,V){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++N.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new m((new d).getTokenizer(),this);var E=this;this.bgTokenizer.on("update",function(w){E._signal("tokenizerUpdate",w)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof S&&S.getLine||(S=new k(S)),this.setDocument(S),this.selection=new h(this),this.$bidiHandler=new b(this),p.resetOptions(this),this.setMode(V),p._signal("session",this),this.destroyed=!1}var F=O("./lib/oop"),v=O("./lib/lang"),b=O("./bidihandler").BidiHandler,p=O("./config"),u=O("./lib/event_emitter").EventEmitter,h=O("./selection").Selection,d=O("./mode/text").Mode,f=O("./range").Range,k=O("./document").Document,m=O("./background_tokenizer").BackgroundTokenizer,y=O("./search_highlight").SearchHighlight;N.$uid=0,function(){F.implement(this,u),this.setDocument=function(w){this.doc&&this.doc.off("change",this.$onChange),(this.doc=w).on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(w){var B;w?(B=this.$docRowCache.length,(w=this.$getRowCacheIndex(this.$docRowCache,w)+1)<B&&(this.$docRowCache.splice(w,B),this.$screenRowCache.splice(w,B))):(this.$docRowCache=[],this.$screenRowCache=[])},this.$getRowCacheIndex=function(w,B){for(var K=0,U=w.length-1;K<=U;){var W=K+U>>1,re=w[W];if(re<B)K=1+W;else{if(!(B<re))return W;U=W-1}}return K-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},this.onChangeFold=function(w){this.$resetRowCache((w=w.data).start.row)},this.onChange=function(w){this.$modified=!0,this.$bidiHandler.onChange(w),this.$resetRowCache(w.start.row);var B=this.$updateInternalDataOnChange(w);!this.$fromUndo&&this.$undoManager&&(B&&B.length&&(this.$undoManager.add({action:"removeFolds",folds:B},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(w,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(w),this._signal("change",w)},this.setValue=function(w){this.doc.setValue(w),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(w){return this.bgTokenizer.getState(w)},this.getTokens=function(w){return this.bgTokenizer.getTokens(w)},this.getTokenAt=function(w,B){var K=this.bgTokenizer.getTokens(w),W=0;if(null==B){var U=K.length-1;W=this.getLine(w).length}else for(U=0;U<K.length&&!(B<=(W+=K[U].value.length));U++);return(w=K[U])?(w.index=U,w.start=W-w.value.length,w):null},this.setUndoManager=function(w){var B;this.$undoManager=w,this.$informUndoManager&&this.$informUndoManager.cancel(),w?(w.addSession(B=this),this.$syncInformUndoManager=function(){B.$informUndoManager.cancel(),B.mergeUndoDeltas=!1},this.$informUndoManager=v.delayedCall(this.$syncInformUndoManager)):this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?v.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(w){this.setOption("useSoftTabs",w)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(w){this.setOption("tabSize",w)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(w){return this.$useSoftTabs&&w.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(w){this.setOption("navigateWithinSoftTabs",w)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(w){this.setOption("overwrite",w)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(w,B){this.$decorations[w]||(this.$decorations[w]=""),this.$decorations[w]+=" "+B,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(w,B){this.$decorations[w]=(this.$decorations[w]||"").replace(" "+B,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(w){this.$breakpoints=[];for(var B=0;B<w.length;B++)this.$breakpoints[w[B]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(w,B){(B=void 0===B?"ace_breakpoint":B)?this.$breakpoints[w]=B:delete this.$breakpoints[w],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(w){delete this.$breakpoints[w],this._signal("changeBreakpoint",{})},this.addMarker=function(re,B,K,U){var W=this.$markerId++;return re={range:re,type:K||"line",renderer:"function"==typeof K?K:null,clazz:B,inFront:!!U,id:W},U?(this.$frontMarkers[W]=re,this._signal("changeFrontMarker")):(this.$backMarkers[W]=re,this._signal("changeBackMarker")),W},this.addDynamicMarker=function(w,B){var K;if(w.update)return K=this.$markerId++,w.id=K,w.inFront=!!B,B?(this.$frontMarkers[K]=w,this._signal("changeFrontMarker")):(this.$backMarkers[K]=w,this._signal("changeBackMarker")),w},this.removeMarker=function(w){var B=this.$frontMarkers[w]||this.$backMarkers[w];B&&(delete(B.inFront?this.$frontMarkers:this.$backMarkers)[w],this._signal(B.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(w){return w?this.$frontMarkers:this.$backMarkers},this.highlight=function(w){var B;this.$searchHighlight||(B=new y(null,"ace_selected-word","text"),this.$searchHighlight=this.addDynamicMarker(B)),this.$searchHighlight.setRegexp(w)},this.highlightLines=function(w,B,K,U){return"number"!=typeof B&&(K=B,B=w),K=K||"ace_step",(w=new f(w,0,B,1/0)).id=this.addMarker(w,K,"fullLine",U),w},this.setAnnotations=function(w){this.$annotations=w,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(w){w=w.match(/^.*?(\r?\n)/m),this.$autoNewLine=w?w[1]:"\n"},this.getWordRange=function(w,B){var K,U=this.getLine(w),W=!1,re=(K=(W=(W=0<B?!!U.charAt(B-1).match(this.tokenRe):W)||!!U.charAt(B).match(this.tokenRe))?this.tokenRe:/^\s+$/.test(U.slice(B-1,B+1))?/\s/:this.nonTokenRe,B);if(0<re){for(;0<=--re&&U.charAt(re).match(K););re++}for(var H=B;H<U.length&&U.charAt(H).match(K);)H++;return new f(w,re,w,H)},this.getAWordRange=function(w,B){for(var K=this.getWordRange(w,B),U=this.getLine(K.end.row);U.charAt(K.end.column).match(/[ \t]/);)K.end.column+=1;return K},this.setNewLineMode=function(w){this.doc.setNewLineMode(w)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(w){this.setOption("useWorker",w)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(w){this.bgTokenizer.start(w.data.first),this._signal("tokenizerUpdate",w)},this.$modes=p.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(w,B){if(w&&"object"==typeof w){if(w.getTokenizer)return this.$onChangeMode(w);var K=w,U=w.path}else U=w||"ace/mode/text";this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new d),this.$modes[U]&&!K?(this.$onChangeMode(this.$modes[U]),B&&B()):(this.$modeId=U,p.loadModule(["mode",U],function(W){if(this.$modeId!==U)return B&&B();this.$modes[U]&&!K?this.$onChangeMode(this.$modes[U]):W&&W.Mode&&(W=new W.Mode(K),K||((this.$modes[U]=W).$id=U),this.$onChangeMode(W)),B&&B()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0))},this.$onChangeMode=function(w,B){var K,U,W;B||(this.$modeId=w.$id),this.$mode===w||(K=this.$mode,this.$mode=w,this.$stopWorker(),this.$useWorker&&this.$startWorker(),void 0!==(U=w.getTokenizer()).on&&(W=this.onReloadTokenizer.bind(this),U.on("update",W)),this.bgTokenizer.setTokenizer(U),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=w.tokenRe,this.nonTokenRe=w.nonTokenRe,B)||(w.attachToSession&&w.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(w.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:K,mode:w}))},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(w){p.warn("Could not load worker",w),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(w){this.$scrollTop===w||isNaN(w)||(this.$scrollTop=w,this._signal("changeScrollTop",w))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(w){this.$scrollLeft===w||isNaN(w)||(this.$scrollLeft=w,this._signal("changeScrollLeft",w))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){var w;return null!=this.lineWidgetsWidth?this.lineWidgetsWidth:(w=0,this.lineWidgets.forEach(function(B){B&&B.screenWidth>w&&(w=B.screenWidth)}),this.lineWidgetWidth=w)},this.$computeWidth=function(w){if(this.$modified||w){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var B=this.doc.getAllLines(),K=this.$rowLengthCache,U=0,W=0,re=this.$foldData[W],H=re?re.start.row:1/0,L=B.length,R=0;R<L;R++){if(H<R){if(L<=(R=re.end.row+1))break;H=(re=this.$foldData[W++])?re.start.row:1/0}null==K[R]&&(K[R]=this.$getStringScreenWidth(B[R])[0]),K[R]>U&&(U=K[R])}this.screenWidth=U}},this.getLine=function(w){return this.doc.getLine(w)},this.getLines=function(w,B){return this.doc.getLines(w,B)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(w){return this.doc.getTextRange(w||this.selection.getRange())},this.insert=function(w,B){return this.doc.insert(w,B)},this.remove=function(w){return this.doc.remove(w)},this.removeFullLines=function(w,B){return this.doc.removeFullLines(w,B)},this.undoChanges=function(w,B){if(w.length){this.$fromUndo=!0;for(var K=w.length-1;-1!=K;K--){var U=w[K];"insert"==U.action||"remove"==U.action?this.doc.revertDelta(U):U.folds&&this.addFolds(U.folds)}!B&&this.$undoSelect&&(w.selectionBefore?this.selection.fromJSON(w.selectionBefore):this.selection.setRange(this.$getUndoSelection(w,!0))),this.$fromUndo=!1}},this.redoChanges=function(w,B){if(w.length){this.$fromUndo=!0;for(var K=0;K<w.length;K++){var U=w[K];"insert"!=U.action&&"remove"!=U.action||this.doc.$safeApplyDelta(U)}!B&&this.$undoSelect&&(w.selectionAfter?this.selection.fromJSON(w.selectionAfter):this.selection.setRange(this.$getUndoSelection(w,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(w){this.$undoSelect=w},this.$getUndoSelection=function(w,B){function K(L){return B?"insert"!==L.action:"insert"===L.action}for(var U,W,re=0;re<w.length;re++){var H=w[re];H.start&&(U?K(H)?(-1==U.compare((W=H.start).row,W.column)&&U.setStart(W),1==U.compare((W=H.end).row,W.column)&&U.setEnd(W)):-1==U.compare((W=H.start).row,W.column)&&(U=f.fromPoints(H.start,H.start)):U=K(H)?f.fromPoints(H.start,H.end):f.fromPoints(H.start,H.start))}return U},this.replace=function(w,B){return this.doc.replace(w,B)},this.moveText=function(w,R,K){var U,W,re,H=this.getTextRange(w),L=this.getFoldsInRange(w);return R=f.fromPoints(R,R),K||(this.remove(w),(re=(W=w.start.row-w.end.row)?-w.end.column:w.start.column-w.end.column)&&(R.start.row==w.end.row&&R.start.column>w.end.column&&(R.start.column+=re),R.end.row==w.end.row)&&R.end.column>w.end.column&&(R.end.column+=re),W&&R.start.row>=w.end.row&&(R.start.row+=W,R.end.row+=W)),R.end=this.insert(R.start,H),L.length&&(W=(K=R.start).row-(U=w.start).row,re=K.column-U.column,this.addFolds(L.map(function(Q){return(Q=Q.clone()).start.row==U.row&&(Q.start.column+=re),Q.end.row==U.row&&(Q.end.column+=re),Q.start.row+=W,Q.end.row+=W,Q}))),R},this.indentRows=function(w,B,K){K=K.replace(/\t/g,this.getTabString());for(var U=w;U<=B;U++)this.doc.insertInLine({row:U,column:0},K)},this.outdentRows=function(w){for(var B=w.collapseRows(),K=new f(0,0,0,0),U=this.getTabSize(),W=B.start.row;W<=B.end.row;++W){var re=this.getLine(W);K.start.row=W,K.end.row=W;for(var H=0;H<U&&" "==re.charAt(H);++H);H<U&&"\t"==re.charAt(H)?(K.start.column=H,K.end.column=H+1):(K.start.column=0,K.end.column=H),this.remove(K)}},this.$moveLines=function(w,B,re){if(w=this.getRowFoldStart(w),B=this.getRowFoldEnd(B),re<0){if((W=this.getRowFoldStart(w+re))<0)return 0;var U=W-w}else if(0<re){if((W=this.getRowFoldEnd(B+re))>this.doc.getLength()-1)return 0;U=W-B}else w=this.$clipRowToDocument(w),U=(B=this.$clipRowToDocument(B))-w+1;var W=new f(w,0,B,Number.MAX_VALUE);return W=this.getFoldsInRange(W).map(function(H){return(H=H.clone()).start.row+=U,H.end.row+=U,H}),re=0==re?this.doc.getLines(w,B):this.doc.removeFullLines(w,B),this.doc.insertFullLines(w+U,re),W.length&&this.addFolds(W),U},this.moveLinesUp=function(w,B){return this.$moveLines(w,B,-1)},this.moveLinesDown=function(w,B){return this.$moveLines(w,B,1)},this.duplicateLines=function(w,B){return this.$moveLines(w,B,0)},this.$clipRowToDocument=function(w){return Math.max(0,Math.min(w,this.doc.getLength()-1))},this.$clipColumnToRow=function(w,B){return B<0?0:Math.min(this.doc.getLine(w).length,B)},this.$clipPositionToDocument=function(w,B){var K;return B=Math.max(0,B),B=w<0?w=0:(K=this.doc.getLength())<=w?this.doc.getLine(w=K-1).length:Math.min(this.doc.getLine(w).length,B),{row:w,column:B}},this.$clipRangeToDocument=function(w){w.start.row<0?(w.start.row=0,w.start.column=0):w.start.column=this.$clipColumnToRow(w.start.row,w.start.column);var B=this.doc.getLength()-1;return w.end.row>B?(w.end.row=B,w.end.column=this.doc.getLine(B).length):w.end.column=this.$clipColumnToRow(w.end.row,w.end.column),w},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(w){w!=this.$useWrapMode&&(this.$useWrapMode=w,this.$modified=!0,this.$resetRowCache(0),w&&(w=this.getLength(),this.$wrapData=Array(w),this.$updateWrapData(0,w-1)),this._signal("changeWrapMode"))},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(w,B){this.$wrapLimitRange.min===w&&this.$wrapLimitRange.max===B||(this.$wrapLimitRange={min:w,max:B},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(w,U){var K=this.$wrapLimitRange;return K.max<0&&(K={min:U,max:U}),(U=this.$constrainWrapLimit(w,K.min,K.max))!=this.$wrapLimit&&1<U&&(this.$wrapLimit=U,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(w,B,K){return B&&(w=Math.max(B,w)),K?Math.min(K,w):w},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(w){this.setWrapLimitRange(w,w)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(w){var Se,B=this.$useWrapMode,K=w.action,U=w.start,W=w.end,re=U.row,H=W.row,L=H-re,R=null;if(this.$updating=!0,0!=L)if("remove"===K){this[B?"$wrapData":"$rowLengthCache"].splice(re,L);var Q=this.$foldData;R=this.getFoldsInRange(w),this.removeFolds(R);var ae=0;for((Se=this.getFoldLine(W.row))&&(Se.addRemoveChars(W.row,W.column,U.column-W.column),Se.shiftRow(-L),(ve=this.getFoldLine(re))&&ve!==Se&&(ve.merge(Se),Se=ve),ae=Q.indexOf(Se)+1);ae<Q.length;ae++)(Se=Q[ae]).start.row>=W.row&&Se.shiftRow(-L);H=re}else{var ve=Array(L),xe=(ve.unshift(re,0),B?this.$wrapData:this.$rowLengthCache);for(xe.splice.apply(xe,ve),Q=this.$foldData,ae=0,(Se=this.getFoldLine(re))&&(0==(xe=Se.range.compareInside(U.row,U.column))?(Se=Se.split(U.row,U.column))&&(Se.shiftRow(L),Se.addRemoveChars(H,0,W.column-U.column)):-1==xe&&(Se.addRemoveChars(re,0,W.column-U.column),Se.shiftRow(L)),ae=Q.indexOf(Se)+1);ae<Q.length;ae++)(Se=Q[ae]).start.row>=re&&Se.shiftRow(L)}else L=Math.abs(w.start.column-w.end.column),"remove"===K&&(R=this.getFoldsInRange(w),this.removeFolds(R),L=-L),(Se=this.getFoldLine(re))&&Se.addRemoveChars(re,U.column,L);return B&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,B?this.$updateWrapData(re,H):this.$updateRowLengthCache(re,H),R},this.$updateRowLengthCache=function(w,B,K){this.$rowLengthCache[w]=null,this.$rowLengthCache[B]=null},this.$updateWrapData=function(w,B){var K,U,W=this.doc.getAllLines(),re=this.getTabSize(),H=this.$wrapData,L=this.$wrapLimit,R=w;for(B=Math.min(B,W.length-1);R<=B;)(U=this.getFoldLine(R,U))?(K=[],U.walk(function(Q,ae,ve,xe){var Se;if(null!=Q){(Se=this.$getDisplayTokens(Q,K.length))[0]=S;for(var we=1;we<Se.length;we++)Se[we]=V}else Se=this.$getDisplayTokens(W[ae].substring(xe,ve),K.length);K=K.concat(Se)}.bind(this),U.end.row,W[U.end.row].length+1),H[U.start.row]=this.$computeWrapSplits(K,L,re),R=U.end.row+1):(K=this.$getDisplayTokens(W[R]),H[R]=this.$computeWrapSplits(K,L,re),R++)};var S=3,V=4;function E(w){return!(w<4352)&&(4352<=w&&w<=4447||4515<=w&&w<=4519||4602<=w&&w<=4607||9001<=w&&w<=9002||11904<=w&&w<=11929||11931<=w&&w<=12019||12032<=w&&w<=12245||12272<=w&&w<=12283||12288<=w&&w<=12350||12353<=w&&w<=12438||12441<=w&&w<=12543||12549<=w&&w<=12589||12593<=w&&w<=12686||12688<=w&&w<=12730||12736<=w&&w<=12771||12784<=w&&w<=12830||12832<=w&&w<=12871||12880<=w&&w<=13054||13056<=w&&w<=19903||19968<=w&&w<=42124||42128<=w&&w<=42182||43360<=w&&w<=43388||44032<=w&&w<=55203||55216<=w&&w<=55238||55243<=w&&w<=55291||63744<=w&&w<=64255||65040<=w&&w<=65049||65072<=w&&w<=65106||65108<=w&&w<=65126||65128<=w&&w<=65131||65281<=w&&w<=65376||65504<=w&&w<=65510)}this.$computeWrapSplits=function(w,B,K){if(0==w.length)return[];var U=[],W=w.length,re=0,H=0,L=this.$wrapAsCode,R=this.$indentedSoftWrap,Q=B<=Math.max(2*K,8)||!1===R?0:Math.floor(B/2);function ae(we){for(var Ge=we-re,Ie=re;Ie<we;Ie++){var Ze=w[Ie];12!==Ze&&2!==Ze||--Ge}U.length||(ve=function(){var X=0;if(0===Q)return X;if(R)for(var de=0;de<w.length;de++){var ge=w[de];if(10==ge)X+=1;else if(11==ge)X+=K;else if(12!=ge)break}return L&&!1!==R&&(X+=K),Math.min(X,Q)}(),U.indent=ve),U.push(H+=Ge),re=we}for(var ve=0;B-ve<W-re;){var xe=re+B-ve;if(10<=w[xe-1]&&10<=w[xe])ae(xe);else if(w[xe]==S||w[xe]==V){for(;xe!=re-1&&w[xe]!=S;xe--);if(!(re<xe)){for(xe=re+B;xe<w.length&&w[xe]==V;xe++);if(xe==w.length)break}ae(xe)}else{for(var Se=Math.max(xe-(B-(B>>2)),re-1);Se<xe&&w[xe]<S;)xe--;if(L){for(;Se<xe&&w[xe]<S;)xe--;for(;Se<xe&&9==w[xe];)xe--}else for(;Se<xe&&w[xe]<10;)xe--;Se<xe?ae(++xe):(2==w[xe=re+B]&&xe--,ae(xe-ve))}}return U},this.$getDisplayTokens=function(w,B){var K,U=[];B=B||0;for(var W=0;W<w.length;W++){var re=w.charCodeAt(W);if(9==re){K=this.getScreenTabSize(U.length+B),U.push(11);for(var H=1;H<K;H++)U.push(12)}else 32==re?U.push(10):39<re&&re<48||57<re&&re<64?U.push(9):4352<=re&&E(re)?U.push(1,2):U.push(1)}return U},this.$getStringScreenWidth=function(w,B,K){if(0==B)return[0,0];var U,W;for(null==B&&(B=1/0),K=K||0,W=0;W<w.length&&(9==(U=w.charCodeAt(W))?K+=this.getScreenTabSize(K):4352<=U&&E(U)?K+=2:K+=1,!(B<K));W++);return[K,W]},this.lineWidgets=null,this.getRowLength=function(w){var B=1;return this.lineWidgets&&(B+=this.lineWidgets[w]&&this.lineWidgets[w].rowCount||0),this.$useWrapMode&&this.$wrapData[w]?this.$wrapData[w].length+B:B},this.getRowLineCount=function(w){return this.$useWrapMode&&this.$wrapData[w]?this.$wrapData[w].length+1:1},this.getRowWrapIndent=function(w){var B;return this.$useWrapMode&&(w=this.screenToDocumentPosition(w,Number.MAX_VALUE),(B=this.$wrapData[w.row]).length)&&B[0]<w.column?B.indent:0},this.getScreenLastRowColumn=function(w){return w=this.screenToDocumentPosition(w,Number.MAX_VALUE),this.documentToScreenColumn(w.row,w.column)},this.getDocumentLastRowColumn=function(w,B){return w=this.documentToScreenRow(w,B),this.getScreenLastRowColumn(w)},this.getDocumentLastRowColumnPosition=function(w,B){return w=this.documentToScreenRow(w,B),this.screenToDocumentPosition(w,Number.MAX_VALUE/10)},this.getRowSplitData=function(w){if(this.$useWrapMode)return this.$wrapData[w]},this.getScreenTabSize=function(w){return this.$tabSize-(w%this.$tabSize|0)},this.screenToDocumentRow=function(w,B){return this.screenToDocumentPosition(w,B).row},this.screenToDocumentColumn=function(w,B){return this.screenToDocumentPosition(w,B).column},this.screenToDocumentPosition=function(w,B,K){if(w<0)return{row:0,column:0};for(var U,W,re,H=0,L=0,R=0,Q=0,ae=this.$screenRowCache,ve=this.$getRowCacheIndex(ae,w),xe=ae.length,Se=(re=xe&&0<=ve?(R=ae[ve],H=this.$docRowCache[ve],w>ae[xe-1]):!xe,this.getLength()-1),we=this.getNextFoldLine(H),Ge=we?we.start.row:1/0;R<=w&&!(w<R+(Q=this.getRowLength(H))||Se<=H);)R+=Q,Ge<++H&&(Ge=(we=this.getNextFoldLine(H=we.end.row+1,we))?we.start.row:1/0),re&&(this.$docRowCache.push(H),this.$screenRowCache.push(R));if(we&&we.start.row<=H)U=this.getFoldDisplayLine(we),H=we.start.row;else{if(R+Q<=w||Se<H)return{row:Se,column:this.getLine(Se).length};U=this.getLine(H),we=null}return ve=0,ae=Math.floor(w-R),this.$useWrapMode&&(xe=this.$wrapData[H])&&(W=xe[ae],0<ae)&&xe.length&&(ve=xe.indent,U=U.substring(L=xe[ae-1]||xe[xe.length-1])),void 0!==K&&this.$bidiHandler.isBidiRow(R+ae,H,ae)&&(B=this.$bidiHandler.offsetToCol(K)),L+=this.$getStringScreenWidth(U,B-ve)[1],this.$useWrapMode&&W<=L&&(L=W-1),we?we.idxToPosition(L):{row:H,column:L}},this.documentToScreenPosition=function(w,B){var K=(w=(ve=void 0===B?this.$clipPositionToDocument(w.row,w.column):this.$clipPositionToDocument(w,B)).row,B=ve.column,0),ve=null;(H=this.getFoldAt(w,B,1))&&(w=H.start.row,B=H.start.column);for(var U,W,re=0,H=this.$docRowCache,xe=this.$getRowCacheIndex(H,w),L=H.length,R=(W=L&&0<=xe?(re=H[xe],K=this.$screenRowCache[xe],w>H[L-1]):!L,this.getNextFoldLine(re)),Q=R?R.start.row:1/0;re<w;){if(Q<=re){if(w<(U=R.end.row+1))break;Q=(R=this.getNextFoldLine(U,R))?R.start.row:1/0}else U=re+1;K+=this.getRowLength(re),re=U,W&&(this.$docRowCache.push(re),this.$screenRowCache.push(K))}var ae="";if(ve=R&&Q<=re?(ae=this.getFoldDisplayLine(R,w,B),R.start.row):(ae=this.getLine(w).substring(0,B),w),xe=0,this.$useWrapMode){var Se=this.$wrapData[ve];if(Se){for(var we=0;ae.length>=Se[we];)K++,we++;ae=ae.substring(Se[we-1]||0,ae.length),xe=0<we?Se.indent:0}}return this.lineWidgets&&this.lineWidgets[re]&&this.lineWidgets[re].rowsAbove&&(K+=this.lineWidgets[re].rowsAbove),{row:K,column:xe+this.$getStringScreenWidth(ae)[0]}},this.documentToScreenColumn=function(w,B){return this.documentToScreenPosition(w,B).column},this.documentToScreenRow=function(w,B){return this.documentToScreenPosition(w,B).row},this.getScreenLength=function(){var w=0,B=null;if(this.$useWrapMode)for(var K=this.$wrapData.length,U=0,W=0,re=(B=this.$foldData[W++])?B.start.row:1/0;U<K;){var H=this.$wrapData[U];w+=H?H.length+1:1,re<++U&&(U=B.end.row+1,re=(B=this.$foldData[W++])?B.start.row:1/0)}else{w=this.getLength();var L=this.$foldData;for(W=0;W<L.length;W++)w-=(B=L[W]).end.row-B.start.row}return this.lineWidgets&&(w+=this.$getWidgetScreenLength()),w},this.$setFontMetrics=function(w){this.$enableVarChar&&(this.$getStringScreenWidth=function(B,K,U){if(0===K)return[0,0];var W,re;for(K=K||1/0,U=U||0,re=0;re<B.length&&!(K<(U+="\t"===(W=B.charAt(re))?this.getScreenTabSize(U):w.getCharacterWidth(W)));re++);return[U,re]})},this.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=E}.call(N.prototype),O("./edit_session/folding").Folding.call(N.prototype),O("./edit_session/bracket_match").BracketMatch.call(N.prototype),p.defineOptions(N.prototype,"session",{wrap:{set:function(S){S&&"off"!=S?"free"==S?S=!0:"printMargin"==S?S=-1:"string"==typeof S&&(S=parseInt(S,10)||!1):S=!1,this.$wrap!=S&&((this.$wrap=S)?(this.setWrapLimitRange(S="number"==typeof S?S:null,S),this.setUseWrapMode(!0)):this.setUseWrapMode(!1))},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(S){(S="auto"==S?"text"!=this.$mode.type:"text"!=S)!=this.$wrapAsCode&&(this.$wrapAsCode=S,this.$useWrapMode)&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(S){this.$useWorker=S,this.$stopWorker(),S&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(S){0<(S=parseInt(S))&&this.$tabSize!==S&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=S,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(S){this.setFoldStyle(S)},handlesSet:!0},overwrite:{set:function(S){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(S){this.doc.setNewLineMode(S)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(S){this.setMode(S)},get:function(){return this.$modeId},handlesSet:!0}}),T.EditSession=N}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(O,T,j){"use strict";function N(){this.$options={}}var F=O("./lib/lang"),v=O("./lib/oop"),b=O("./range").Range;(function(){this.set=function(p){return v.mixin(this.$options,p),this},this.getOptions=function(){return F.copyObject(this.$options)},this.setOptions=function(p){this.$options=p},this.find=function(d){var u,h=this.$options;return!!(d=this.$matchIterator(d,h))&&(u=null,d.forEach(function(f,k,m,y){return u=new b(f,k,m,y),!(k==y&&h.start&&h.start.start&&0!=h.skipCurrent&&u.isEqual(h.start)&&(u=null,1))}),u)},this.findAll=function(p){var u=this.$options;if(!u.needle)return[];this.$assembleRegExp(u);var h=u.range,d=h?p.getLines(h.start.row,h.end.row):p.doc.getAllLines(),f=[],k=u.re;if(u.$isMultiLine){var m,y=k.length,S=d.length-y;e:for(var V=k.offset||0;V<=S;V++){for(var E=0;E<y;E++)if(-1==d[V+E].search(k[E]))continue e;var B=d[V+y-1],w=(w=d[V]).length-w.match(k[0])[0].length;B=B.match(k[y-1])[0].length,m&&m.end.row===V&&m.end.column>w||(f.push(m=new b(V,w,V+y-1,B)),2<y&&(V=V+y-2))}}else for(var K=0;K<d.length;K++){var U=F.getMatchOffsets(d[K],k);for(E=0;E<U.length;E++){var W=U[E];f.push(new b(K,W.offset,K,W.offset+W.length))}}if(h){var re=h.start.column,H=h.end.column;for(K=0,E=f.length-1;K<E&&f[K].start.column<re&&0==f[K].start.row;)K++;for(var L=h.end.row-h.start.row;K<E&&f[E].end.column>H&&f[E].end.row==L;)E--;for(f=f.slice(K,E+1),K=0,E=f.length;K<E;K++)f[K].start.row+=h.start.row,f[K].end.row+=h.start.row}return f},this.replace=function(p,u){var h=this.$options,d=this.$assembleRegExp(h);if(h.$isMultiLine)return u;if(d){var f=d.exec(p);if(!f||f[0].length!=p.length)return null;if(u=p.replace(d,u),h.preserveCase){u=u.split("");for(var k=Math.min(p.length,p.length);k--;){var m=p[k];u[k]=m&&m.toLowerCase()!=m?u[k].toUpperCase():u[k].toLowerCase()}u=u.join("")}return u}},this.$assembleRegExp=function(p,u){if(p.needle instanceof RegExp)return p.re=p.needle;var h,d=p.needle;if(!p.needle)return p.re=!1;function f(y){return/\w/.test(y)||h.regExp?"\\b":""}p.regExp||(d=F.escapeRegExp(d)),p.wholeWord&&(h=p,d=f((k=d)[0])+k+f(k[k.length-1]));var k=p.caseSensitive?"gm":"gmi";if(p.$isMultiLine=!u&&/[\n\r]/.test(d),p.$isMultiLine)return p.re=this.$assembleMultilineRegExp(d,k);try{var m=new RegExp(d,k)}catch{m=!1}return p.re=m},this.$assembleMultilineRegExp=function(p,u){for(var h=p.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),d=[],f=0;f<h.length;f++)try{d.push(new RegExp(h[f],u))}catch{return!1}return d},this.$matchIterator=function(p,u){var h,d,f,k,m,y,S,V,E=this.$assembleRegExp(u);return!!E&&(h=1==u.backwards,d=0!=u.skipCurrent,f=u.range,(k=(k=u.start)||(f?f[h?"end":"start"]:p.selection.getRange())).start&&(k=k[d!=h?"end":"start"]),m=f?f.start.row:0,y=f?f.end.row:p.getLength()-1,V=u.$isMultiLine?(S=E.length,function(w,B,K){var U=h?w-S+1:w;if(!(U<0||U+S>p.getLength())){var W=p.getLine(U);if(w=W.search(E[0]),!(!h&&w<B||-1===w)){for(var re=1;re<S;re++)if(-1==(W=p.getLine(U+re)).search(E[re]))return;var H=W.match(E[S-1])[0].length;if(!(h&&B<H))return!!K(U,w,U+S-1,H)||void 0}}}):h?function(w,B,K){var U,W=p.getLine(w),re=[];for(E.lastIndex=0;U=E.exec(W);){var H=U[0].length,L=U.index;if(!H){if(L>=W.length)break;E.lastIndex=L+=1}if(U.index+H>B)break;re.push(U.index,H)}for(var R=re.length-1;0<=R;R-=2){var Q=re[R-1];if(K(w,Q,w,Q+(H=re[R])))return!0}}:function(w,B,K){var U=p.getLine(w);for(E.lastIndex=B;W=E.exec(U);){var W,re=W[0].length;if(K(w,W=W.index,w,W+re))return!0;if(!re&&(E.lastIndex=W+=1,W>=U.length))return!1}},{forEach:h?function(w){var B=k.row;if(!V(B,k.column,w)){for(B--;m<=B;B--)if(V(B,Number.MAX_VALUE,w))return;if(0!=u.wrap)for(B=y,m=k.row;m<=B;B--)if(V(B,Number.MAX_VALUE,w))return}}:function(w){var B=k.row;if(!V(B,k.column,w)){for(B+=1;B<=y;B++)if(V(B,0,w))return;if(0!=u.wrap)for(B=m,y=k.row;B<=y;B++)if(V(B,0,w))return}}})}}).call(N.prototype),T.Search=N}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(O,T,j){"use strict";var N=O("../lib/keys"),F=O("../lib/useragent"),v=N.KEY_MODS;function b(u,h){this.platform=h||(F.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(u),this.$singleCommand=!0}function p(u,h){b.call(this,u,h),this.$singleCommand=!1}p.prototype=b.prototype,function(){function u(h){return"object"==typeof h&&h.bindKey&&h.bindKey.position||(h.isDefault?-100:0)}this.addCommand=function(h){this.commands[h.name]&&this.removeCommand(h),(this.commands[h.name]=h).bindKey&&this._buildKeyHash(h)},this.removeCommand=function(h,d){var f,k=h&&("string"==typeof h?h:h.name),m=(h=this.commands[k],d||delete this.commands[k],this.commandKeyBinding);for(f in m){var y,S=m[f];S==h?delete m[f]:Array.isArray(S)&&-1!=(y=S.indexOf(h))&&(S.splice(y,1),1==S.length)&&(m[f]=S[0])}},this.bindKey=function(h,d,f){if("object"==typeof h&&h&&(null==f&&(f=h.position),h=h[this.platform]),h)return"function"==typeof d?this.addCommand({exec:d,bindKey:h,name:d.name||h}):void h.split("|").forEach(function(S){var m="",y=(-1!=S.indexOf(" ")&&(S=(y=S.split(/\s+/)).pop(),y.forEach(function(V){V=this.parseKeys(V),this._addCommandToBinding(m+=(m?" ":"")+(V=v[V.hashId]+V.key),"chainKeys")},this),m+=" "),this.parseKeys(S));this._addCommandToBinding(m+(S=v[y.hashId]+y.key),d,f)},this)},this._addCommandToBinding=function(h,d,f){var k=this.commandKeyBinding;if(d)if(!k[h]||this.$singleCommand)k[h]=d;else{Array.isArray(k[h])?-1!=(y=k[h].indexOf(d))&&k[h].splice(y,1):k[h]=[k[h]],"number"!=typeof f&&(f=u(d));for(var m=k[h],y=0;y<m.length&&!(f<u(m[y]));y++);m.splice(y,0,d)}else delete k[h]},this.addCommands=function(h){h&&Object.keys(h).forEach(function(d){var f=h[d];if(f){if("string"==typeof f)return this.bindKey(f,d);"object"==typeof(f="function"==typeof f?{exec:f}:f)&&(f.name||(f.name=d),this.addCommand(f))}},this)},this.removeCommands=function(h){Object.keys(h).forEach(function(d){this.removeCommand(h[d])},this)},this.bindKeys=function(h){Object.keys(h).forEach(function(d){this.bindKey(d,h[d])},this)},this._buildKeyHash=function(h){this.bindKey(h.bindKey,h)},this.parseKeys=function(h){var d=h.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(V){return V}),f=d.pop(),k=N[f];if(N.FUNCTION_KEYS[k])f=N.FUNCTION_KEYS[k].toLowerCase();else{if(!d.length)return{key:f,hashId:-1};if(1==d.length&&"shift"==d[0])return{key:f.toUpperCase(),hashId:-1}}for(var m=0,y=d.length;y--;){var S=N.KEY_MODS[d[y]];if(null==S)return typeof console<"u"&&console.error("invalid modifier "+d[y]+" in "+h),!1;m|=S}return{key:f,hashId:m}},this.findKeyCommand=function(h,d){return this.commandKeyBinding[h=v[h]+d]},this.handleKeyboard=function(h,d,f,k){var m,y;if(!(k<0))return y=this.commandKeyBinding[m=v[d]+f],h.$keyChain&&(h.$keyChain+=" "+m,y=this.commandKeyBinding[h.$keyChain]||y),!y||"chainKeys"!=y&&"chainKeys"!=y[y.length-1]?(h.$keyChain&&(d&&4!=d||1!=f.length?(-1==d||0<k)&&(h.$keyChain=""):h.$keyChain=h.$keyChain.slice(0,-m.length-1)),{command:y}):(h.$keyChain=h.$keyChain||m,{command:"null"})},this.getStatusText=function(h,d){return d.$keyChain||""}}.call(b.prototype),T.HashHandler=b,T.MultiHashHandler=p}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(O,T,j){"use strict";function N(p,u){v.call(this,u,p),this.byName=this.commands,this.setDefaultHandler("exec",function(h){return h.args?h.command.exec(h.editor,h.args,h.event,!1):h.command.exec(h.editor,{},h.event,!0)})}var F=O("../lib/oop"),v=O("../keyboard/hash_handler").MultiHashHandler,b=O("../lib/event_emitter").EventEmitter;F.inherits(N,v),function(){F.implement(this,b),this.exec=function(p,u,h){if(Array.isArray(p)){for(var d=p.length;d--;)if(this.exec(p[d],u,h))return!0;return!1}var f;return!!(p="string"==typeof p?this.commands[p]:p)&&!(u&&u.$readOnly&&!p.readOnly||0!=this.$checkCommandState&&p.isAvailable&&!p.isAvailable(u)||((f={editor:u,command:p,args:h}).returnValue=this._emit("exec",f),this._signal("afterExec",f),!1===f.returnValue))},this.toggleRecording=function(p){if(!this.$inReplay)return p&&p._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(u){this.macro.push([u.command,u.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(p){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(p);try{this.$inReplay=!0,this.macro.forEach(function(u){"string"==typeof u?this.exec(u,p):this.exec(u[0],p,u[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(p){return p.map(function(u){return"string"!=typeof u[0]&&(u[0]=u[0].name),u[1]?u:u[0]})}}.call(N.prototype),T.CommandManager=N}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(O,T,j){"use strict";var N=O("../lib/lang"),F=O("../config"),v=O("../range").Range;function b(u,h){return{win:u,mac:h}}T.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:b("Ctrl-,","Command-,"),exec:function(u){F.loadModule("ace/ext/settings_menu",function(h){h.init(u),u.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:b("Alt-E","F4"),exec:function(u){F.loadModule("ace/ext/error_marker",function(h){h.showErrorMarker(u,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:b("Alt-Shift-E","Shift-F4"),exec:function(u){F.loadModule("ace/ext/error_marker",function(h){h.showErrorMarker(u,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:b("Ctrl-A","Command-A"),exec:function(u){u.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:b(null,"Ctrl-L"),exec:function(u){u.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:b("Ctrl-L","Command-L"),exec:function(u,h){"number"!=typeof h||isNaN(h)||u.gotoLine(h),u.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:b("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(u){u.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:b("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(u){u.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:b("F2","F2"),exec:function(u){u.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:b("Alt-F2","Alt-F2"),exec:function(u){u.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:b(null,"Ctrl-Command-Option-0"),exec:function(u){u.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:b(null,"Ctrl-Command-Option-0"),exec:function(u){u.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:b("Alt-0","Command-Option-0"),exec:function(u){u.session.foldAll(),u.session.unfold(u.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:b("Alt-Shift-0","Command-Option-Shift-0"),exec:function(u){u.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:b("Ctrl-K","Command-G"),exec:function(u){u.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:b("Ctrl-Shift-K","Command-Shift-G"),exec:function(u){u.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:b("Alt-K","Ctrl-G"),exec:function(u){u.selection.isEmpty()?u.selection.selectWord():u.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:b("Alt-Shift-K","Ctrl-Shift-G"),exec:function(u){u.selection.isEmpty()?u.selection.selectWord():u.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:b("Ctrl-F","Command-F"),exec:function(u){F.loadModule("ace/ext/searchbox",function(h){h.Search(u)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(u){u.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:b("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(u){u.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:b("Ctrl-Home","Command-Home|Command-Up"),exec:function(u){u.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:b("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(u){u.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:b("Up","Up|Ctrl-P"),exec:function(u,h){u.navigateUp(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:b("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(u){u.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:b("Ctrl-End","Command-End|Command-Down"),exec:function(u){u.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:b("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(u){u.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:b("Down","Down|Ctrl-N"),exec:function(u,h){u.navigateDown(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:b("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(u){u.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:b("Ctrl-Left","Option-Left"),exec:function(u){u.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:b("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(u){u.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:b("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(u){u.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:b("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(u){u.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:b("Left","Left|Ctrl-B"),exec:function(u,h){u.navigateLeft(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:b("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(u){u.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:b("Ctrl-Right","Option-Right"),exec:function(u){u.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:b("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(u){u.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:b("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(u){u.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:b("Shift-Right","Shift-Right"),exec:function(u){u.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:b("Right","Right|Ctrl-F"),exec:function(u,h){u.navigateRight(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(u){u.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:b(null,"Option-PageDown"),exec:function(u){u.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:b("PageDown","PageDown|Ctrl-V"),exec:function(u){u.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(u){u.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:b(null,"Option-PageUp"),exec:function(u){u.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(u){u.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:b("Ctrl-Up",null),exec:function(u){u.renderer.scrollBy(0,-2*u.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:b("Ctrl-Down",null),exec:function(u){u.renderer.scrollBy(0,2*u.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(u){u.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(u){u.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:b("Ctrl-Alt-E","Command-Option-E"),exec:function(u){u.commands.toggleRecording(u)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:b("Ctrl-Shift-E","Command-Shift-E"),exec:function(u){u.commands.replay(u)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:b("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(u){u.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:b("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(u){u.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:b("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(u){u.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:b(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(u){},readOnly:!0},{name:"cut",description:"Cut",exec:function(u){var h=u.$copyWithEmptySelection&&u.selection.isEmpty()?u.selection.getLineRange():u.selection.getRange();u._emit("cut",h),h.isEmpty()||u.session.remove(h),u.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(u,h){u.$handlePaste(h)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:b("Ctrl-D","Command-D"),exec:function(u){u.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:b("Ctrl-Shift-D","Command-Shift-D"),exec:function(u){u.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:b("Ctrl-Alt-S","Command-Alt-S"),exec:function(u){u.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:b("Ctrl-/","Command-/"),exec:function(u){u.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:b("Ctrl-Shift-/","Command-Shift-/"),exec:function(u){u.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:b("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(u){u.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:b("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(u){u.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:b("Ctrl-H","Command-Option-F"),exec:function(u){F.loadModule("ace/ext/searchbox",function(h){h.Search(u,!0)})}},{name:"undo",description:"Undo",bindKey:b("Ctrl-Z","Command-Z"),exec:function(u){u.undo()}},{name:"redo",description:"Redo",bindKey:b("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(u){u.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:b("Alt-Shift-Up","Command-Option-Up"),exec:function(u){u.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:b("Alt-Up","Option-Up"),exec:function(u){u.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:b("Alt-Shift-Down","Command-Option-Down"),exec:function(u){u.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:b("Alt-Down","Option-Down"),exec:function(u){u.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:b("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(u){u.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:b("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(u){u.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:b("Shift-Delete",null),exec:function(u){if(!u.selection.isEmpty())return!1;u.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:b("Alt-Backspace","Command-Backspace"),exec:function(u){u.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:b("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(u){u.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:b("Ctrl-Shift-Backspace",null),exec:function(u){var h=u.selection.getRange();h.start.column=0,u.session.remove(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:b("Ctrl-Shift-Delete",null),exec:function(u){var h=u.selection.getRange();h.end.column=Number.MAX_VALUE,u.session.remove(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:b("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(u){u.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:b("Ctrl-Delete","Alt-Delete"),exec:function(u){u.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:b("Shift-Tab","Shift-Tab"),exec:function(u){u.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:b("Tab","Tab"),exec:function(u){u.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:b("Ctrl-[","Ctrl-["),exec:function(u){u.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:b("Ctrl-]","Ctrl-]"),exec:function(u){u.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(u,h){u.insert(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(u,h){u.insert(N.stringRepeat(h.text||"",h.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:b(null,"Ctrl-O"),exec:function(u){u.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:b("Alt-Shift-X","Ctrl-T"),exec:function(u){u.transposeLetters()},multiSelectAction:function(u){u.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:b("Ctrl-U","Ctrl-U"),exec:function(u){u.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:b("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(u){u.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:b(null,null),exec:function(u){u.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:b("Ctrl-Shift-L","Command-Shift-L"),exec:function(u){var h=u.selection.getRange();h.start.column=h.end.column=0,h.end.row++,u.selection.setRange(h,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:b("Ctrl+F3","F3"),exec:function(u){u.openLink()}},{name:"joinlines",description:"Join lines",bindKey:b(null,null),exec:function(u){for(var h=(f=u.selection.isBackwards())?u.selection.getSelectionLead():u.selection.getSelectionAnchor(),d=f?u.selection.getSelectionAnchor():u.selection.getSelectionLead(),f=u.session.doc.getLine(h.row).length,k=u.session.doc.getTextRange(u.selection.getRange()).replace(/\n\s*/," ").length,m=u.session.doc.getLine(h.row),y=h.row+1;y<=d.row+1;y++){var S=N.stringTrimLeft(N.stringTrimRight(u.session.doc.getLine(y)));m+=S=0!==S.length?" "+S:S}d.row+1<u.session.doc.getLength()-1&&(m+=u.session.doc.getNewLineCharacter()),u.clearSelection(),u.session.doc.replace(new v(h.row,0,d.row+2,0),m),0<k?(u.selection.moveCursorTo(h.row,h.column),u.selection.selectTo(h.row,h.column+k)):(f=u.session.doc.getLine(h.row).length>f?f+1:f,u.selection.moveCursorTo(h.row,f))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:b(null,null),exec:function(u){var h=u.session.doc.getLength()-1,d=u.session.doc.getLine(h).length,f=u.selection.rangeList.ranges,k=[];f.length<1&&(f=[u.selection.getRange()]);for(var m=0;m<f.length;m++)m!=f.length-1||f[m].end.row===h&&f[m].end.column===d||k.push(new v(f[m].end.row,f[m].end.column,h,d)),0===m?0===f[m].start.row&&0===f[m].start.column||k.push(new v(0,0,f[m].start.row,f[m].start.column)):k.push(new v(f[m-1].end.row,f[m-1].end.column,f[m].start.row,f[m].start.column));for(u.exitMultiSelectMode(),u.clearSelection(),m=0;m<k.length;m++)u.selection.addRange(k[m],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(u){u.selection.clearSelection(),u.navigateLineEnd(),u.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(u){u.selection.clearSelection();var h=u.getCursorPosition();u.selection.moveTo(h.row-1,Number.MAX_VALUE),u.insert("\n"),0===h.row&&u.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:b("F1","F1"),exec:function(u){u.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:b(null,null),exec:function(u){u.prompt({$type:"modes"})},readOnly:!0}];for(var p=1;p<9;p++)T.commands.push({name:"foldToLevel"+p,description:"Fold To Level "+p,level:p,exec:function(u){u.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(O,T,j){"use strict";var N=O("./lib/dom");function F(v){this.session=v,(this.session.widgetManager=this).session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(v){var b=this.lineWidgets&&this.lineWidgets[v]&&this.lineWidgets[v].rowCount||0;return this.$useWrapMode&&this.$wrapData[v]?this.$wrapData[v].length+1+b:1+b},this.$getWidgetScreenLength=function(){var v=0;return this.lineWidgets.forEach(function(b){b&&b.rowCount&&!b.hidden&&(v+=b.rowCount)}),v},this.$onChangeEditor=function(v){this.attach(v.editor)},this.attach=function(v){v&&v.widgetManager&&v.widgetManager!=this&&v.widgetManager.detach(),this.editor!=v&&(this.detach(),this.editor=v)&&(v.widgetManager=this,v.renderer.on("beforeRender",this.measureWidgets),v.renderer.on("afterRender",this.renderWidgets))},this.detach=function(v){var b=this.editor;b&&(this.editor=null,b.widgetManager=null,b.renderer.off("beforeRender",this.measureWidgets),b.renderer.off("afterRender",this.renderWidgets),b=this.session.lineWidgets)&&b.forEach(function(p){p&&p.el&&p.el.parentNode&&(p._inDocument=!1,p.el.parentNode.removeChild(p.el))})},this.updateOnFold=function(v,b){var p=b.lineWidgets;if(p&&v.action){for(var u=(b=v.data).start.row,h=b.end.row,d="add"==v.action,f=u+1;f<h;f++)p[f]&&(p[f].hidden=d);p[h]&&(d?p[u]?p[h].hidden=d:p[u]=p[h]:(p[u]==p[h]&&(p[u]=void 0),p[h].hidden=d))}},this.updateOnChange=function(v){var b,p,u,h=this.session.lineWidgets;h&&0!=(p=v.end.row-(b=v.start.row))&&("remove"==v.action?(u=h.splice(b+1,p),!h[b]&&u[u.length-1]&&(h[b]=u.pop()),u.forEach(function(d){d&&this.removeLineWidget(d)},this)):(u=new Array(p),h[b]&&null!=h[b].column&&v.start.column>h[b].column&&b++,u.unshift(b,0),h.splice.apply(h,u)),this.$updateRows())},this.$updateRows=function(){var v,b=this.session.lineWidgets;b&&(v=!0,b.forEach(function(p,u){if(p)for(v=!1,p.row=u;p.$oldWidget;)p.$oldWidget.row=u,p=p.$oldWidget}),v)&&(this.session.lineWidgets=null)},this.$registerLineWidget=function(v){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var b=this.session.lineWidgets[v.row];return b&&(v.$oldWidget=b).el&&b.el.parentNode&&(b.el.parentNode.removeChild(b.el),b._inDocument=!1),this.session.lineWidgets[v.row]=v},this.addLineWidget=function(v){var b,p,u;return this.$registerLineWidget(v),v.session=this.session,this.editor&&(b=this.editor.renderer,v.html&&!v.el&&(v.el=N.createElement("div"),v.el.innerHTML=v.html),v.text&&!v.el&&(v.el=N.createElement("div"),v.el.textContent=v.text),v.el&&(N.addCssClass(v.el,"ace_lineWidgetContainer"),v.className&&N.addCssClass(v.el,v.className),v.el.style.position="absolute",v.el.style.zIndex=5,b.container.appendChild(v.el),v._inDocument=!0,v.coverGutter||(v.el.style.zIndex=3),null==v.pixelHeight)&&(v.pixelHeight=v.el.offsetHeight),null==v.rowCount&&(v.rowCount=v.pixelHeight/b.layerConfig.lineHeight),p=this.session.getFoldAt(v.row,0),(v.$fold=p)&&(u=this.session.lineWidgets,v.row!=p.end.row||u[p.start.row]?v.hidden=!0:u[p.start.row]=v),this.session._emit("changeFold",{data:{start:{row:v.row}}}),this.$updateRows(),this.renderWidgets(null,b),this.onWidgetChanged(v)),v},this.removeLineWidget=function(v){if(v._inDocument=!1,v.session=null,v.el&&v.el.parentNode&&v.el.parentNode.removeChild(v.el),v.editor&&v.editor.destroy)try{v.editor.destroy()}catch{}if(this.session.lineWidgets){var b=this.session.lineWidgets[v.row];if(b==v)this.session.lineWidgets[v.row]=v.$oldWidget,v.$oldWidget&&this.onWidgetChanged(v.$oldWidget);else for(;b;){if(b.$oldWidget==v){b.$oldWidget=v.$oldWidget;break}b=b.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:v.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(v){for(var b=this.session.lineWidgets,p=b&&b[v],u=[];p;)u.push(p),p=p.$oldWidget;return u},this.onWidgetChanged=function(v){this.session._changedWidgets.push(v),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(v,b){var p=this.session._changedWidgets,u=b.layerConfig;if(p&&p.length){for(var h=1/0,d=0;d<p.length;d++){var f=p[d];if(f&&f.el&&f.session==this.session){if(!f._inDocument){if(this.session.lineWidgets[f.row]!=f)continue;f._inDocument=!0,b.container.appendChild(f.el)}f.h=f.el.offsetHeight,f.fixedWidth||(f.w=f.el.offsetWidth,f.screenWidth=Math.ceil(f.w/u.characterWidth));var k=f.h/u.lineHeight;f.coverLine&&(k-=this.session.getRowLineCount(f.row))<0&&(k=0),f.rowCount!=k&&(f.rowCount=k,f.row<h)&&(h=f.row)}}h!=1/0&&(this.session._emit("changeFold",{data:{start:{row:h}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(v,b){var p=b.layerConfig,u=this.session.lineWidgets;if(u){for(var h=Math.min(this.firstRow,p.firstRow),d=Math.max(this.lastRow,p.lastRow,u.length);0<h&&!u[h];)h--;this.firstRow=p.firstRow,this.lastRow=p.lastRow,b.$cursorLayer.config=p;for(var f=h;f<=d;f++){var k,m=u[f];m&&m.el&&(m.hidden?m.el.style.top=-100-(m.pixelHeight||0)+"px":(m._inDocument||(m._inDocument=!0,b.container.appendChild(m.el)),k=b.$cursorLayer.getPixelPosition({row:f,column:0},!0).top,m.coverLine||(k+=p.lineHeight*this.session.getRowLineCount(m.row)),m.el.style.top=k-p.offset+"px",k=m.coverGutter?0:b.gutterWidth,m.fixedWidth||(k-=b.scrollLeft),m.el.style.left=k+"px",m.fullWidth&&m.screenWidth&&(m.el.style.minWidth=p.width+2*p.padding+"px"),m.el.style.right=m.fixedWidth?b.scrollBar.getWidth()+"px":""))}}}}).call(F.prototype),T.LineWidgets=F}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/clipboard"],function(O,T,j){"use strict";var N=this&&this.__values||function(H){var L="function"==typeof Symbol&&Symbol.iterator,R=L&&H[L],Q=0;if(R)return R.call(H);if(H&&"number"==typeof H.length)return{next:function(){return{value:(H=H&&Q>=H.length?void 0:H)&&H[Q++],done:!H}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")},F=O("./lib/oop"),v=O("./lib/dom"),b=O("./lib/lang"),p=O("./lib/useragent"),u=O("./keyboard/textinput").TextInput,h=O("./mouse/mouse_handler").MouseHandler,d=O("./mouse/fold_handler").FoldHandler,f=O("./keyboard/keybinding").KeyBinding,k=O("./edit_session").EditSession,m=O("./search").Search,y=O("./range").Range,S=O("./lib/event_emitter").EventEmitter,V=O("./commands/command_manager").CommandManager,E=O("./commands/default_commands").commands,w=O("./config"),B=O("./token_iterator").TokenIterator,K=O("./line_widgets").LineWidgets,U=O("./clipboard"),W=function(H,L,R){this.$toDestroy=[];var Q=H.getContainerElement();this.container=Q,this.renderer=H,this.id="editor"+ ++W.$uid,this.commands=new V(p.isMac?"mac":"win",E),"object"==typeof document&&(this.textInput=new u(H.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new h(this),new d(this)),this.keyBinding=new f(this),this.$search=(new m).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=b.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(ae,ve){ve._$emitInputEvent.schedule(31)}),this.setSession(L||R&&R.session||new k("")),w.resetOptions(this),R&&this.setOptions(R),w._signal("editor",this)},re=(W.$uid=0,function(){F.implement(this,S),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=b.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(H){if(this.curOp){if(!H||this.curOp.command)return;this.prevOp=this.curOp}H||(this.previousCommand=null,H={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:H.command||{},args:H.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(H){if(this.curOp&&this.session){if(H&&!1===H.returnValue||!this.session)return this.curOp=null;if((1!=H||!this.curOp.command||"mouse"!=this.curOp.command.name)&&(this._signal("beforeEndOperation"),this.curOp)){var L=(H=this.curOp.command)&&H.scrollIntoView;if(L){switch(L){case"center-animate":L="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var R=this.selection.getRange(),Q=this.renderer.layerConfig;(R.start.row>=Q.lastRow||R.end.row<=Q.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==L&&this.renderer.animateScrolling(this.curOp.scrollTop)}H=this.selection.toJSON(),this.curOp.selectionAfter=H,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(H),this.prevOp=this.curOp,this.curOp=null}}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(H){var L,R,Q,ae;this.$mergeUndoDeltas&&(R=this.$mergeableCommands,Q=(L=this.prevOp).command&&H.command.name==L.command.name,"insertstring"==H.command.name?(ae=H.args,void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),Q=Q&&this.mergeNextCommand&&(!/\s/.test(ae)||/\s/.test(L.args)),this.mergeNextCommand=!0):Q=Q&&-1!==R.indexOf(H.command.name),(Q=!("always"!=this.$mergeUndoDeltas&&2e3<Date.now()-this.sequenceStartTime)&&Q)?this.session.mergeUndoDeltas=!0:-1!==R.indexOf(H.command.name)&&(this.sequenceStartTime=Date.now()))},this.setKeyboardHandler=function(H,L){var R;H&&"string"==typeof H&&"ace"!=H?(this.$keybindingId=H,R=this,w.loadModule(["keybinding",H],function(Q){R.$keybindingId==H&&R.keyBinding.setKeyboardHandler(Q&&Q.handler),L&&L()})):(this.$keybindingId=null,this.keyBinding.setKeyboardHandler(H),L&&L())},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(H){var L,R;this.session!=H&&(this.curOp&&this.endOperation(),this.curOp={},(L=this.session)&&(this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),(R=this.session.getSelection()).off("changeCursor",this.$onCursorChange),R.off("changeSelection",this.$onSelectionChange)),(this.session=H)?(this.$onDocumentChange=this.onDocumentChange.bind(this),H.on("change",this.$onDocumentChange),this.renderer.setSession(H),this.$onChangeMode=this.onChangeMode.bind(this),H.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),H.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),H.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),H.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),H.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),H.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=H.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(H)),this._signal("changeSession",{session:H,oldSession:L}),this.curOp=null,L&&L._signal("changeEditor",{oldEditor:this}),H&&H._signal("changeEditor",{editor:this}),H)&&!H.destroyed&&H.bgTokenizer.scheduleStart()},this.getSession=function(){return this.session},this.setValue=function(H,L){return this.session.doc.setValue(H),L?1==L?this.navigateFileEnd():-1==L&&this.navigateFileStart():this.selectAll(),H},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(H){this.renderer.onResize(H)},this.setTheme=function(H,L){this.renderer.setTheme(H,L)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(H){this.renderer.setStyle(H)},this.unsetStyle=function(H){this.renderer.unsetStyle(H)},this.getFontSize=function(){return this.getOption("fontSize")||v.computedStyle(this.container).fontSize},this.setFontSize=function(H){this.setOption("fontSize",H)},this.$highlightBrackets=function(){var H;this.$highlightPending||((H=this).$highlightPending=!0,setTimeout(function(){H.$highlightPending=!1;var L,R,Q,ae,ve=H.session;ve&&!ve.destroyed&&(ve.$bracketHighlight&&(ve.$bracketHighlight.markerIds.forEach(function(xe){ve.removeMarker(xe)}),ve.$bracketHighlight=null),L=H.getCursorPosition(),R=(R=H.getKeyboardHandler())&&R.$getDirectionForHighlight&&R.$getDirectionForHighlight(H),(R=ve.getMatchingBracketRanges(L,R))||(Q=new B(ve,L.row,L.column).getCurrentToken())&&/\b(?:tag-open|tag-name)/.test(Q.type)&&(Q=ve.getMatchingTags(L))&&(R=[Q.openTagName,Q.closeTagName]),(R=!R&&ve.$mode.getMatching?ve.$mode.getMatching(H.session):R)&&(ae="ace_bracket",Array.isArray(R)?1==R.length&&(ae="ace_error_bracket"):R=[R],2==R.length&&(0==y.comparePoints(R[0].end,R[1].start)?R=[y.fromPoints(R[0].start,R[1].end)]:0==y.comparePoints(R[0].start,R[1].end)&&(R=[y.fromPoints(R[1].start,R[0].end)])),ve.$bracketHighlight={ranges:R,markerIds:R.map(function(xe){return ve.addMarker(xe,ae,"text")})}),H.getHighlightIndentGuides())&&H.renderer.$textLayer.$highlightIndentGuide()},50))},this.focus=function(){this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(H){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",H))},this.onBlur=function(H){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",H))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(H){this.renderer.updateLines(H.start.row,H.start.row==H.end.row?H.end.row:1/0,this.session.$useWrapMode),this._signal("change",H),this.$cursorChange()},this.onTokenizerUpdate=function(H){this.renderer.updateLines((H=H.data).first,H.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var H,L,R=this.getSession();this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(H=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(H=!1),!this.renderer.$maxLines||1!==this.session.getLength()||1<this.renderer.$minLines||(H=!1)),R.$highlightLineMarker&&!H?(R.removeMarker(R.$highlightLineMarker.id),R.$highlightLineMarker=null):!R.$highlightLineMarker&&H?((L=new y(H.row,H.column,H.row,1/0)).id=R.addMarker(L,"ace_active-line","screenLine"),R.$highlightLineMarker=L):H&&(R.$highlightLineMarker.start.row=H.row,R.$highlightLineMarker.end.row=H.row,R.$highlightLineMarker.start.column=H.column,R._signal("changeBackMarker"))},this.onSelectionChange=function(H){var L,R,Q=((Q=this.session).$selectionMarker&&Q.removeMarker(Q.$selectionMarker),Q.$selectionMarker=null,this.selection.isEmpty()?this.$updateHighlightActiveLine():(L=this.selection.getRange(),R=this.getSelectionStyle(),Q.$selectionMarker=Q.addMarker(L,"ace_selection",R)),this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp());this.session.highlight(Q),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var H=this.session;if(!(L=this.getSelectionRange()).isEmpty()&&!L.isMultiLine()){var L,R=L.start.column,Q=L.end.column;if(!(5e3<(L=(H=H.getLine(L.start.row)).substring(R,Q)).length)&&/[\w\d]/.test(L)&&(L=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:L}),H=H.substring(R-1,Q+1),L.test(H)))return L}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(H){this.renderer.updateText(),this._emit("changeMode",H)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var H=this.getSelectedText(),L=this.session.doc.getNewLineCharacter(),R=!1;if(!H&&this.$copyWithEmptySelection){R=!0;for(var Q=this.selection.getAllRanges(),ae=0;ae<Q.length;ae++){var ve=Q[ae];ae&&Q[ae-1].start.row==ve.start.row||(H+=this.session.getLine(ve.start.row)+L)}}var xe={text:H};return this._signal("copy",xe),U.lineMode=!!R&&xe.text,xe.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(H,L){this.commands.exec("paste",this,{text:H,event:L})},this.$handlePaste=function(R){this._signal("paste",R="string"==typeof R?{text:R}:R);var L=R.text,Q=(R=L===U.lineMode,this.session);if(!this.inMultiSelectMode||this.inVirtualSelectionMode)R?Q.insert({row:this.selection.lead.row,column:0},L):this.insert(L);else if(R)this.selection.rangeList.ranges.forEach(function(we){Q.insert({row:we.start.row,column:0},L)});else{var ae=L.split(/\r\n|\r|\n/),ve=this.selection.rangeList.ranges;if(R=!(2!=ae.length||ae[0]&&ae[1]),ae.length!=ve.length||R)return this.commands.exec("insertstring",this,L);for(var xe=ve.length;xe--;){var Se=ve[xe];Se.isEmpty()||Q.remove(Se),Q.insert(Se.start,ae[xe])}}},this.execCommand=function(H,L){return this.commands.exec(H,this,L)},this.insert=function(H,Se){var R,Q=this.session,ae=Q.getMode(),ve=this.getCursorPosition(),xe=(this.getBehavioursEnabled()&&!Se&&(R=ae.transformAction(Q.getState(ve.row),"insertion",this,Q,H))&&(H===R.text||this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1),H=R.text),"\t"==H&&(H=this.session.getTabString()),this.selection.isEmpty()?this.session.getOverwrite()&&-1==H.indexOf("\n")&&((xe=new y.fromPoints(ve,ve)).end.column+=H.length,this.session.remove(xe)):(xe=this.getSelectionRange(),ve=this.session.remove(xe),this.clearSelection()),"\n"!=H&&"\r\n"!=H||(we=Q.getLine(ve.row),ve.column>we.search(/\S|$/)&&(Se=we.substr(ve.column).search(/\S|$/),Q.doc.removeInLine(ve.row,ve.column,ve.column+Se))),this.clearSelection(),ve.column),we=(Se=Q.getState(ve.row),Q.getLine(ve.row)),Ge=ae.checkOutdent(Se,we,H);Q.insert(ve,H),R&&R.selection&&this.selection.setSelectionRange(2==R.selection.length?new y(ve.row,xe+R.selection[0],ve.row,xe+R.selection[1]):new y(ve.row+R.selection[0],R.selection[1],ve.row+R.selection[2],R.selection[3])),this.$enableAutoIndent&&(Q.getDocument().isNewLine(H)&&(xe=ae.getNextLineIndent(Se,we.slice(0,ve.column),Q.getTabString()),Q.insert({row:ve.row+1,column:0},xe)),Ge)&&ae.autoOutdent(Se,Q,ve.row)},this.autoIndent=function(){for(var H,L,R,Q,ae,ve=this.session,xe=ve.getMode(),Se=(R=this.selection.isEmpty()?(L=0,ve.doc.getLength()-1):(L=(H=this.getSelectionRange()).start.row,H.end.row),""),we="",Ge=ve.getTabString(),Ie=L;Ie<=R;Ie++)0<Ie&&(Se=ve.getState(Ie-1),Q=ve.getLine(Ie-1),we=xe.getNextLineIndent(Se,Q,Ge)),Q=ve.getLine(Ie),we!==(ae=xe.$getIndent(Q))&&(0<ae.length&&(ae=new y(Ie,0,Ie,ae.length),ve.remove(ae)),0<we.length)&&ve.insert({row:Ie,column:0},we),xe.autoOutdent(Se,ve,Ie)},this.onTextInput=function(H,L){if(!L)return this.keyBinding.onTextInput(H);this.startOperation({command:{name:"insertstring"}}),H=this.applyComposition.bind(this,H,L),this.selection.rangeCount?this.forEachSelection(H):H(),this.endOperation()},this.applyComposition=function(H,L){var R;(L.extendLeft||L.extendRight)&&((R=this.selection.getRange()).start.column-=L.extendLeft,R.end.column+=L.extendRight,R.start.column<0&&(R.start.row--,R.start.column+=this.session.getLine(R.start.row).length+1),this.selection.setRange(R),H||R.isEmpty()||this.remove()),!H&&this.selection.isEmpty()||this.insert(H,!0),(L.restoreStart||L.restoreEnd)&&((R=this.selection.getRange()).start.column-=L.restoreStart,R.end.column-=L.restoreEnd,this.selection.setRange(R))},this.onCommandKey=function(H,L,R){return this.keyBinding.onCommandKey(H,L,R)},this.setOverwrite=function(H){this.session.setOverwrite(H)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(H){this.setOption("scrollSpeed",H)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(H){this.setOption("dragDelay",H)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(H){this.setOption("selectionStyle",H)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(H){this.setOption("highlightActiveLine",H)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(H){this.setOption("highlightGutterLine",H)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(H){this.setOption("highlightSelectedWord",H)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(H){this.renderer.setAnimatedScroll(H)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(H){this.renderer.setShowInvisibles(H)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(H){this.renderer.setDisplayIndentGuides(H)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setHighlightIndentGuides=function(H){this.renderer.setHighlightIndentGuides(H)},this.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},this.setShowPrintMargin=function(H){this.renderer.setShowPrintMargin(H)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(H){this.renderer.setPrintMarginColumn(H)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(H){this.setOption("readOnly",H)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(H){this.setOption("behavioursEnabled",H)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(H){this.setOption("wrapBehavioursEnabled",H)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(H){this.setOption("showFoldWidgets",H)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(H){this.setOption("fadeFoldWidgets",H)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(ae){var L,R,Q;this.selection.isEmpty()&&("left"==ae?this.selection.selectLeft():this.selection.selectRight()),ae=this.getSelectionRange(),this.getBehavioursEnabled()&&(R=(L=this.session).getState(ae.start.row),R=L.getMode().transformAction(R,"deletion",this,L,ae),0===ae.end.column&&"\n"==(Q=L.getTextRange(ae))[Q.length-1]&&(Q=L.getLine(ae.end.row),/^\s+$/.test(Q))&&(ae.end.column=Q.length),R)&&(ae=R),this.session.remove(ae),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var H=this.getSelectionRange();H.start.column==H.end.column&&H.start.row==H.end.row&&(H.end.column=0,H.end.row++),this.session.remove(H),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var H=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(H)},this.setGhostText=function(H,L){this.session.widgetManager||(this.session.widgetManager=new K(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(H,L)},this.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},this.transposeLetters=function(){var H,L,R,Q;this.selection.isEmpty()&&0!==(L=(H=this.getCursorPosition()).column)&&(Q=L<(Q=this.session.getLine(H.row)).length?(R=Q.charAt(L)+Q.charAt(L-1),new y(H.row,L-1,H.row,L+1)):(R=Q.charAt(L-1)+Q.charAt(L-2),new y(H.row,L-2,H.row,L)),this.session.replace(Q,R),this.session.selection.moveToPosition(Q.end))},this.toLowerCase=function(){var H=this.getSelectionRange(),L=(this.selection.isEmpty()&&this.selection.selectWord(),this.getSelectionRange()),R=this.session.getTextRange(L);this.session.replace(L,R.toLowerCase()),this.selection.setSelectionRange(H)},this.toUpperCase=function(){var H=this.getSelectionRange(),L=(this.selection.isEmpty()&&this.selection.selectWord(),this.getSelectionRange()),R=this.session.getTextRange(L);this.session.replace(L,R.toUpperCase()),this.selection.setSelectionRange(H)},this.indent=function(){var H=this.session,L=this.getSelectionRange();if(!(L.start.row<L.end.row)){if(L.start.column<L.end.column){var R,ve=H.getTextRange(L);if(!/^\s+$/.test(ve))return R=this.$getSelectedRows(),void H.indentRows(R.first,R.last,"\t")}var Q=H.getLine(L.start.row),ae=(ve=L.start,H.getTabSize());if(ve=H.documentToScreenColumn(ve.row,ve.column),this.session.getUseSoftTabs())var xe=ae-ve%ae,Se=b.stringRepeat(" ",xe);else{for(xe=ve%ae;" "==Q[L.start.column-1]&&xe;)L.start.column--,xe--;this.selection.setSelectionRange(L),Se="\t"}return this.insert(Se)}R=this.$getSelectedRows(),H.indentRows(R.first,R.last,"\t")},this.blockIndent=function(){var H=this.$getSelectedRows();this.session.indentRows(H.first,H.last,"\t")},this.blockOutdent=function(){var H=this.session.getSelection();this.session.outdentRows(H.getRange())},this.sortLines=function(){for(var H=this.$getSelectedRows(),L=this.session,R=[],Q=H.first;Q<=H.last;Q++)R.push(L.getLine(Q));R.sort(function(xe,Se){return xe.toLowerCase()<Se.toLowerCase()?-1:xe.toLowerCase()>Se.toLowerCase()?1:0});var ae=new y(0,0,0,0);for(Q=H.first;Q<=H.last;Q++){var ve=L.getLine(Q);ae.start.row=Q,ae.end.row=Q,ae.end.column=ve.length,L.replace(ae,R[Q-H.first])}},this.toggleCommentLines=function(){var H=this.session.getState(this.getCursorPosition().row),L=this.$getSelectedRows();this.session.getMode().toggleCommentLines(H,this.session,L.first,L.last)},this.toggleBlockComment=function(){var H=this.getCursorPosition(),L=this.session.getState(H.row),R=this.getSelectionRange();this.session.getMode().toggleBlockComment(L,this.session,R,H)},this.getNumberAt=function(H,L){for(var R=/[\-]?[0-9]+(?:\.[0-9]+)?/g,Q=(R.lastIndex=0,this.session.getLine(H));R.lastIndex<L;){var ae=R.exec(Q);if(ae.index<=L&&ae.index+ae[0].length>=L)return{value:ae[0],start:ae.index,end:ae.index+ae[0].length}}return null},this.modifyNumber=function(H){var L,R,Q,ae=this.selection.getCursor().row,ve=this.selection.getCursor().column,xe=new y(ae,ve-1,ae,ve);xe=this.session.getTextRange(xe),!isNaN(parseFloat(xe))&&isFinite(xe)?(xe=this.getNumberAt(ae,ve))&&(Q=0<=xe.value.indexOf(".")?xe.start+xe.value.indexOf(".")+1:xe.end,L=xe.start+xe.value.length-Q,R=parseFloat(xe.value),R*=Math.pow(10,L),Q=(R=(R+=H*=Q!==xe.end&&ve<Q?Math.pow(10,xe.end-ve-1):Math.pow(10,xe.end-ve))/Math.pow(10,L)).toFixed(L),H=new y(ae,xe.start,ae,xe.end),this.session.replace(H,Q),this.moveCursorTo(ae,Math.max(xe.start+1,ve+Q.length-xe.value.length))):this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){for(var H,L=this.selection.getCursor().row,R=this.selection.getCursor().column,Q=(this.selection.selectWord(),this.getSelectedText()),ae=this.selection.getWordRange().start.column,ve=Q.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),xe=R-ae-1,Se=(xe<0&&(xe=0),0),we=this,Ge=(Q.match(/[A-Za-z0-9_]+/)&&ve.forEach(function(Ce,G){H=Se+Ce.length,Se<=xe&&xe<=H&&(Q=Ce,we.selection.clearSelection(),we.moveCursorTo(L,Se+ae),we.selection.selectTo(L,H+ae)),Se=H}),this.$toggleWordPairs),Ie=0;Ie<Ge.length;Ie++)for(var Ze=Ge[Ie],X=0;X<=1;X++){var de=+!X,ge=Q.match(new RegExp("^\\s?_?("+b.escapeRegExp(Ze[X])+")\\s?$","i"));ge&&Q.match(new RegExp("([_]|^|\\s)("+b.escapeRegExp(ge[1])+")($|\\s)","g"))&&(ge=Q.replace(new RegExp(b.escapeRegExp(Ze[X]),"i"),function(Ce){var G=Ze[de];return Ce.toUpperCase()==Ce?G=G.toUpperCase():Ce.charAt(0).toUpperCase()==Ce.charAt(0)&&(G=G.substr(0,0)+Ze[de].charAt(0).toUpperCase()+G.substr(1)),G}),this.insert(ge))}},this.findLinkAt=function(ve,L){ve=this.session.getLine(ve).split(/((?:https?|ftp):\/\/[\S]+)/);var R,Q,ae,xe=L,Se=(xe<0&&(xe=0),0);try{for(var we=N(ve),Ge=we.next();!Ge.done;Ge=we.next()){var Ie=Ge.value,Ze=Se+Ie.length;if(Se<=xe&&xe<=Ze&&Ie.match(/((?:https?|ftp):\/\/[\S]+)/)){ae=Ie.replace(/[\s:.,'";}\]]+$/,"");break}Se=Ze}}catch(X){R={error:X}}finally{try{Ge&&!Ge.done&&(Q=we.return)&&Q.call(we)}finally{if(R)throw R.error}}return ae},this.openLink=function(){var H=this.selection.getCursor();return(H=this.findLinkAt(H.row,H.column))&&window.open(H,"_blank"),null!=H},this.removeLines=function(){var H=this.$getSelectedRows();this.session.removeFullLines(H.first,H.last),this.clearSelection()},this.duplicateSelection=function(){var H,L=this.selection,R=this.session,Q=L.getRange(),ae=L.isBackwards();Q.isEmpty()?R.duplicateLines(H=Q.start.row,H):(R=R.insert(H=ae?Q.start:Q.end,R.getTextRange(Q),!1),Q.start=H,Q.end=R,L.setSelectionRange(Q,ae))},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(H,L,R){return this.session.moveText(H,L,R)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(H,L){var R=this.selection;if(!R.inMultiSelectMode||this.inVirtualSelectionMode){var Q=R.toOrientedRange(),ae=this.$getSelectedRows(Q),ve=this.session.$moveLines(ae.first,ae.last,L?0:H);Q.moveBy(ve=L&&-1==H?0:ve,0),R.fromOrientedRange(Q)}else{for(var xe=R.rangeList.ranges,Se=(R.rangeList.detach(this.session),this.inVirtualSelectionMode=!0,0),we=0,Ge=xe.length,Ie=0;Ie<Ge;Ie++){for(var Ze=Ie,X=(xe[Ie].moveBy(Se,0),(ae=this.$getSelectedRows(xe[Ie])).first),de=ae.last;++Ie<Ge;){we&&xe[Ie].moveBy(we,0);var ge=this.$getSelectedRows(xe[Ie]);if(L&&ge.first!=de||!L&&ge.first>de+1)break;de=ge.last}for(Ie--,Se=this.session.$moveLines(X,de,L?0:H),L&&-1==H&&(Ze=Ie+1);Ze<=Ie;)xe[Ze].moveBy(Se,0),Ze++;we+=Se=L?Se:0}R.fromOrientedRange(R.ranges[0]),R.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(H){return H=(H||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(H.start.row),last:this.session.getRowFoldEnd(H.end.row)}},this.onCompositionStart=function(H){this.renderer.showComposition(H)},this.onCompositionUpdate=function(H){this.renderer.setCompositionText(H)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(H){return H>=this.getFirstVisibleRow()&&H<=this.getLastVisibleRow()},this.isRowFullyVisible=function(H){return H>=this.renderer.getFirstFullyVisibleRow()&&H<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(ve,L){var R=this.renderer,Q=this.renderer.layerConfig,ae=ve*Math.floor(Q.height/Q.lineHeight);!0===L?this.selection.$moveSelection(function(){this.moveCursorBy(ae,0)}):!1===L&&(this.selection.moveCursorBy(ae,0),this.selection.clearSelection()),ve=R.scrollTop,R.scrollBy(0,ae*Q.lineHeight),null!=L&&R.scrollCursorIntoView(null,.5),R.animateScrolling(ve)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(H){this.renderer.scrollToRow(H)},this.scrollToLine=function(H,L,R,Q){this.renderer.scrollToLine(H,L,R,Q)},this.centerSelection=function(){var H=this.getSelectionRange();H={row:Math.floor(H.start.row+(H.end.row-H.start.row)/2),column:Math.floor(H.start.column+(H.end.column-H.start.column)/2)},this.renderer.alignCursor(H,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(H,L){this.selection.moveCursorTo(H,L)},this.moveCursorToPosition=function(H){this.selection.moveCursorToPosition(H)},this.jumpToMatching=function(H,L){var R=this.getCursorPosition(),Q=new B(this.session,R.row,R.column),ae=Q.getCurrentToken(),ve=0,xe=(ae=ae&&-1!==ae.type.indexOf("tag-name")?Q.stepBackward():ae)||Q.stepForward();if(xe){var Se,we,Ge=!1,Ie={},Ze=R.column-xe.start,X={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(xe.value.match(/[{}()\[\]]/g)){for(;Ze<xe.value.length&&!Ge;Ze++)if(X[xe.value[Ze]])switch(we=X[xe.value[Ze]]+"."+xe.type.replace("rparen","lparen"),isNaN(Ie[we])&&(Ie[we]=0),xe.value[Ze]){case"(":case"[":case"{":Ie[we]++;break;case")":case"]":case"}":Ie[we]--,-1===Ie[we]&&(Se="bracket",Ge=!0)}}else-1!==xe.type.indexOf("tag-name")&&(isNaN(Ie[xe.value])&&(Ie[xe.value]=0),"<"===ae.value&&1<ve?Ie[xe.value]++:"</"===ae.value&&Ie[xe.value]--,-1===Ie[xe.value])&&(Se="tag",Ge=!0)}while(Ge||(ae=xe,ve++,xe=Q.stepForward(),Ze=0),xe&&!Ge);if(Se){if("bracket"===Se)!(ge=this.session.getBracketRange(R))&&(Ce=(ge=new y(Q.getCurrentTokenRow(),Q.getCurrentTokenColumn()+Ze-1,Q.getCurrentTokenRow(),Q.getCurrentTokenColumn()+Ze-1)).start,L||Ce.row===R.row&&Math.abs(Ce.column-R.column)<2)&&(ge=this.session.getBracketRange(Ce));else if("tag"===Se){if(!xe||-1===xe.type.indexOf("tag-name"))return;var de,ge,Ce=(Ce=0===(ge=new y(Q.getCurrentTokenRow(),Q.getCurrentTokenColumn()-2,Q.getCurrentTokenRow(),Q.getCurrentTokenColumn()-2)).compare(R.row,R.column)&&(de=this.session.getMatchingTags(R))?de.openTag.contains(R.row,R.column)?(ge=de.closeTag).start:(ge=de.openTag,de.closeTag.start.row===R.row&&de.closeTag.start.column===R.column?ge.end:ge.start):Ce)||ge.start}(Ce=ge&&ge.cursor||Ce)&&(H?ge&&L?this.selection.setRange(ge):ge&&ge.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Ce.row,Ce.column):this.selection.moveTo(Ce.row,Ce.column))}}},this.gotoLine=function(H,L,R){this.selection.clearSelection(),this.session.unfold({row:H-1,column:L||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(H-1,L||0),this.isRowFullyVisible(H-1)||this.scrollToLine(H-1,!0,R)},this.navigateTo=function(H,L){this.selection.moveTo(H,L)},this.navigateUp=function(H){var L;if(this.selection.isMultiLine()&&!this.selection.isBackwards())return L=this.selection.anchor.getPosition(),this.moveCursorToPosition(L);this.selection.clearSelection(),this.selection.moveCursorBy(-H||-1,0)},this.navigateDown=function(H){var L;if(this.selection.isMultiLine()&&this.selection.isBackwards())return L=this.selection.anchor.getPosition(),this.moveCursorToPosition(L);this.selection.clearSelection(),this.selection.moveCursorBy(H||1,0)},this.navigateLeft=function(H){if(this.selection.isEmpty())for(H=H||1;H--;)this.selection.moveCursorLeft();else{var L=this.getSelectionRange().start;this.moveCursorToPosition(L)}this.clearSelection()},this.navigateRight=function(H){if(this.selection.isEmpty())for(H=H||1;H--;)this.selection.moveCursorRight();else{var L=this.getSelectionRange().end;this.moveCursorToPosition(L)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(H,R){R&&this.$search.set(R);var Q=0;return(R=this.$search.find(this.session))&&(this.$tryReplace(R,H)&&(Q=1),this.selection.setSelectionRange(R),this.renderer.scrollSelectionIntoView(R.start,R.end)),Q},this.replaceAll=function(H,L){L&&this.$search.set(L);var R=this.$search.findAll(this.session),Q=0;if(R.length){L=this.getSelectionRange(),this.selection.moveTo(0,0);for(var ae=R.length-1;0<=ae;--ae)this.$tryReplace(R[ae],H)&&Q++;this.selection.setSelectionRange(L)}return Q},this.$tryReplace=function(H,L){var R=this.session.getTextRange(H);return null!==(L=this.$search.replace(R,L))?(H.end=this.session.replace(H,L),H):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(ae,L,R){L=L||{},"string"==typeof ae||ae instanceof RegExp?L.needle=ae:"object"==typeof ae&&F.mixin(L,ae);var Q=this.selection.getRange();return null==L.needle&&((ae=this.session.getTextRange(Q)||this.$search.$options.needle)||(Q=this.session.getWordRange(Q.start.row,Q.start.column),ae=this.session.getTextRange(Q)),this.$search.set({needle:ae})),this.$search.set(L),L.start||this.$search.set({start:Q}),ae=this.$search.find(this.session),L.preventScroll?ae:ae?(this.revealRange(ae,R),ae):(L.backwards?Q.start=Q.end:Q.end=Q.start,void this.selection.setRange(Q))},this.findNext=function(H,L){this.find({skipCurrent:!0,backwards:!1},H,L)},this.findPrevious=function(H,L){this.find(H,{skipCurrent:!0,backwards:!0},L)},this.revealRange=function(H,L){this.session.unfold(H),this.selection.setSelectionRange(H);var R=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(H.start,H.end,.5),!1!==L&&this.renderer.animateScrolling(R)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(H){H.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(H){var L,R,Q,ae,ve,xe,Se;H&&(Q=!1,(R=this).$scrollAnchor||(this.$scrollAnchor=document.createElement("div")),(ae=this.$scrollAnchor).style.cssText="position:absolute",this.container.insertBefore(ae,this.container.firstChild),ve=this.on("changeSelection",function(){Q=!0}),xe=this.renderer.on("beforeRender",function(){Q&&(L=R.renderer.container.getBoundingClientRect())}),Se=this.renderer.on("afterRender",function(){var we,Ge,Ie;Q&&L&&(R.isFocused()||R.searchBox&&R.searchBox.isFocused())&&(Ie=(we=(Ge=R.renderer).$cursorLayer.$pixelPos).top-(Ge=Ge.layerConfig).offset,null!=(Q=0<=we.top&&Ie+L.top<0||!(we.top<Ge.height&&we.top+L.top+Ge.lineHeight>window.innerHeight)&&null)&&(ae.style.top=Ie+"px",ae.style.left=we.left+"px",ae.style.height=Ge.lineHeight+"px",ae.scrollIntoView(Q)),Q=L=null)}),this.setAutoScrollEditorIntoView=function(we){we||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",ve),this.renderer.off("afterRender",Se),this.renderer.off("beforeRender",xe))})},this.$resetCursorStyle=function(){var H=this.$cursorStyle||"ace",L=this.renderer.$cursorLayer;L&&(L.setSmoothBlinking(/smooth/.test(H)),L.isBlinking=!this.$readOnly&&"wide"!=H,v.setCssClass(L.element,"ace_slim-cursors",/slim/.test(H)))},this.prompt=function(H,L,R){var Q=this;w.loadModule("ace/ext/prompt",function(ae){ae.prompt(Q,H,L,R)})}}.call(W.prototype),w.defineOptions(W.prototype,"editor",{selectionStyle:{set:function(H){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:H})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(H){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(H){this.textInput.setReadOnly(H),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(H){this.textInput.setCopyWithEmptySelection(H)},initialValue:!1},cursorStyle:{set:function(H){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(H){this.setAutoScrollEditorIntoView(H)}},keyboardHandler:{set:function(H){this.setKeyboardHandler(H)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(H){this.session.setValue(H)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(H){this.setSession(H)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(H){this.renderer.$gutterLayer.setShowLineNumbers(H),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),H&&this.$relativeLineNumbers?re.attach(this):re.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(H){this.$showLineNumbers&&H?re.attach(this):re.detach(this)}},placeholder:{set:function(H){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var L=this.session&&(this.renderer.$composition||this.getValue());L&&this.renderer.placeholderNode?(this.renderer.off("afterRender",this.$updatePlaceholder),v.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null):L||this.renderer.placeholderNode?!L&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||""):(this.renderer.on("afterRender",this.$updatePlaceholder),v.addCssClass(this.container,"ace_hasPlaceholder"),(L=v.createElement("div")).className="ace_placeholder",L.textContent=this.$placeholder||"",this.renderer.placeholderNode=L,this.renderer.content.appendChild(this.renderer.placeholderNode))}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),{getText:function(H,L){return(Math.abs(H.selection.lead.row-L)||L+1+(L<9?"\xb7":""))+""},getWidth:function(H,L,R){return Math.max(L.toString().length,(R.lastRow+1).toString().length,2)*R.characterWidth},update:function(H,L){L.renderer.$loop.schedule(L.renderer.CHANGE_GUTTER)},attach:function(H){H.renderer.$gutterLayer.$renderer=this,H.on("changeSelection",this.update),this.update(null,H)},detach:function(H){H.renderer.$gutterLayer.$renderer==this&&(H.renderer.$gutterLayer.$renderer=null),H.off("changeSelection",this.update),this.update(null,H)}});T.Editor=W}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(O,T,j){"use strict";function N(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}(function(){this.addSession=function(m){this.$session=m},this.add=function(m,y,S){this.$fromUndo||m!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==y&&this.lastDeltas||(this.lastDeltas=[],(y=this.$undoStack.length)>this.$undoDepth-1&&this.$undoStack.splice(0,y-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),m.id=this.$rev=++this.$maxRev),"remove"!=m.action&&"insert"!=m.action||(this.$lastDelta=m),this.lastDeltas.push(m))},this.addSelection=function(m,y){this.selections.push({value:m,rev:y||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(m,y){null==y&&(y=this.$rev+1);for(var S=this.$undoStack,V=S.length;V--;){var E=S[V][0];if(E.id<=m)break;E.id<y&&(E.ignore=!0)}this.lastDeltas=null},this.getSelection=function(m,y){for(var S=this.selections,V=S.length;V--;){var E=S[V];if(E.rev<m)return y?S[V+1]:E}},this.getRevision=function(){return this.$rev},this.getDeltas=function(m,y){null==y&&(y=this.$rev+1);for(var S=this.$undoStack,V=null,E=0,w=S.length;w--;){var B=S[w][0];if(B.id<y&&!V&&(V=w+1),B.id<=m){E=w+1;break}}return S.slice(E,V)},this.getChangedRanges=function(m,y){},this.getChangedLines=function(m,y){},this.undo=function(m,y){this.lastDeltas=null;var S,V=this.$undoStack;if(function(E,w){for(var B=w;B--;){var K=E[B];if(K&&!K[0].ignore){for(;B<w-1;){var U=function(W,re){for(var H=W.length;H--;)for(var L=0;L<re.length;L++)if(!h(W[H],re[L])){for(;H<W.length;){for(;L--;)h(re[L],W[H]);L=re.length,H++}return[W,re]}return W.selectionBefore=re.selectionBefore=W.selectionAfter=re.selectionAfter=null,[re,W]}(E[B],E[B+1]);E[B]=U[0],E[B+1]=U[1],B++}return 1}}}(V,V.length))return m=m||this.$session,this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0,S=null,(V=V.pop())&&(S=m.undoChanges(V,y),this.$redoStack.push(V),this.$syncRev()),this.$fromUndo=!1,S},this.redo=function(m,y){if(this.lastDeltas=null,m=m||this.$session,this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){for(var R=this.getDeltas(this.$redoStackBaseRev,this.$rev+1),S=this.$redoStack,V=R,E=0;E<V.length;E++)for(var w=V[E],B=0;B<w.length;B++){K=void 0,U=void 0,W=void 0,re=void 0,H=void 0,L=void 0;var K=S,U=w[B];U={start:b((ve=U).start),end:b(ve.end),action:ve.action,lines:ve.lines.slice()};for(var W=K.length;W--;){for(var re=K[W],H=0;H<re.length;H++){var L=function(ve,xe){var Se,we,Ge="insert"==ve.action,Ie="insert"==xe.action;if(Ge&&Ie)v(ve.start,xe.start)<0?d(xe,ve,1):d(ve,xe,1);else if(Ge&&!Ie)0<=v(ve.start,xe.end)?d(ve,xe,-1):(v(ve.start,xe.start)<=0||d(ve,F.fromPoints(xe.start,ve.start),-1),d(xe,ve,1));else if(!Ge&&Ie)0<=v(xe.start,ve.end)?d(xe,ve,-1):(v(xe.start,ve.start)<=0||d(xe,F.fromPoints(ve.start,xe.start),-1),d(ve,xe,1));else if(!Ge&&!Ie)if(0<=v(xe.start,ve.end))d(xe,ve,-1);else{if(!(v(xe.end,ve.start)<=0))return v(ve.start,xe.start)<0&&(ve=k(Se=ve,xe.start)),0<v(ve.end,xe.end)&&(we=k(ve,xe.end)),f(xe.end,ve.start,ve.end,-1),we&&!Se&&(ve.lines=we.lines,ve.start=we.start,ve.end=we.end,we=ve),[xe,Se,we].filter(Boolean);d(ve,xe,-1)}return[xe,ve]}(re[H],U);U=L[0],2!=L.length&&(L[2]?(re.splice(H+1,1,L[1],L[2]),H++):L[1]||(re.splice(H,1),H--))}re.length||K.splice(W,1)}}this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(ae){ae[0].id=++this.$maxRev},this)}var ve,Q=null;return(R=this.$redoStack.pop())&&(Q=m.redoChanges(R,y),this.$undoStack.push(R),this.$syncRev()),this.$fromUndo=!1,Q},this.$syncRev=function(){var m;this.$redoStackBaseRev=m=(m=(m=this.$undoStack)[m.length-1])&&m[0].id||0,this.$rev=m},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return 0<this.$undoStack.length},this.canRedo=function(){return 0<this.$redoStack.length},this.bookmark=function(m){null==m&&(m=this.$rev),this.mark=m},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(m){return m?p(m):p(this.$undoStack)+"\n---\n"+p(this.$redoStack)}}).call(N.prototype);var F=O("./range").Range,v=F.comparePoints;function b(m){return{row:m.row,column:m.column}}function p(m){var y;return m=m||this,Array.isArray(m)?m.map(p).join("\n"):(y="",m.action?(y="insert"==m.action?"+":"-",y+="["+m.lines+"]"):m.value&&(y=Array.isArray(m.value)?m.value.map(u).join("\n"):u(m.value)),m.start&&(y+=u(m)),(m.id||m.rev)&&(y+="\t("+(m.id||m.rev)+")"),y)}function u(m){return m.start.row+":"+m.start.column+"=>"+m.end.row+":"+m.end.column}function h(m,y){var S="insert"==m.action,V="insert"==y.action;if(S&&V)if(0<=v(y.start,m.end))d(y,m,-1);else{if(!(v(y.start,m.start)<=0))return;d(m,y,1)}else if(S&&!V)if(0<=v(y.start,m.end))d(y,m,-1);else{if(!(v(y.end,m.start)<=0))return;d(m,y,-1)}else if(!S&&V)if(0<=v(y.start,m.start))d(y,m,1);else{if(!(v(y.start,m.start)<=0))return;d(m,y,1)}else if(!S&&!V)if(0<=v(y.start,m.start))d(y,m,1);else{if(!(v(y.end,m.start)<=0))return;d(m,y,-1)}return 1}function d(m,y,S){f(m.start,y.start,y.end,S),f(m.end,y.start,y.end,S)}function f(m,y,S,V){m.row==(1==V?y:S).row&&(m.column+=V*(S.column-y.column)),m.row+=V*(S.row-y.row)}function k(m,y){var S=m.lines,V=m.end,w=(m.end=b(y),m.end.row-m.start.row),E=S.splice(w,S.length);return S.push(E[0].substring(0,w=w?y.column:y.column-m.start.column)),E[0]=E[0].substr(w),{start:b(y),end:V,lines:E,action:m.action}}T.UndoManager=N}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(O,T,j){"use strict";function N(v,b){this.element=v,this.canvasHeight=b||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}var F=O("../lib/dom");(function(){this.moveContainer=function(v){F.translate(this.element,0,-v.firstRowScreen*v.lineHeight%this.canvasHeight-v.offset*this.$offsetCoefficient)},this.pageChanged=function(v,b){return Math.floor(v.firstRowScreen*v.lineHeight/this.canvasHeight)!==Math.floor(b.firstRowScreen*b.lineHeight/this.canvasHeight)},this.computeLineTop=function(v,b,p){var u=b.firstRowScreen*b.lineHeight;return u=Math.floor(u/this.canvasHeight),p.documentToScreenRow(v,0)*b.lineHeight-u*this.canvasHeight},this.computeLineHeight=function(v,b,p){return b.lineHeight*p.getRowLineCount(v)},this.getLength=function(){return this.cells.length},this.get=function(v){return this.cells[v]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(v){if(Array.isArray(v)){this.cells.push.apply(this.cells,v);for(var b=F.createFragment(this.element),p=0;p<v.length;p++)b.appendChild(v[p].element);this.element.appendChild(b)}else this.cells.push(v),this.element.appendChild(v.element)},this.unshift=function(v){if(Array.isArray(v)){this.cells.unshift.apply(this.cells,v);for(var b=F.createFragment(this.element),p=0;p<v.length;p++)b.appendChild(v[p].element);this.element.firstChild?this.element.insertBefore(b,this.element.firstChild):this.element.appendChild(b)}else this.cells.unshift(v),this.element.insertAdjacentElement("afterbegin",v.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(v){v&&(v.element.remove(),this.cellCache.push(v))},this.createCell=function(v,b,p,u){var h,d=this.cellCache.pop();return d||(h=F.createElement("div"),u&&u(h),this.element.appendChild(h),d={element:h,text:"",row:v}),d.row=v,d}}).call(N.prototype),T.Lines=N}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(O,T,j){"use strict";function N(d){this.element=F.createElement("div"),this.element.className="ace_layer ace_gutter-layer",d.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new u(this.element),this.$lines.$offsetCoefficient=1}var F=O("../lib/dom"),v=O("../lib/oop"),b=O("../lib/lang"),p=O("../lib/event_emitter").EventEmitter,u=O("./lines").Lines;function h(d){var f=document.createTextNode("");return d.appendChild(f),f=F.createElement("span"),d.appendChild(f),d}(function(){v.implement(this,p),this.setSession=function(d){this.session&&this.session.off("change",this.$updateAnnotations),(this.session=d)&&d.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(d,f){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(d,f)},this.removeGutterDecoration=function(d,f){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(d,f)},this.setAnnotations=function(d){this.$annotations=[];for(var f=0;f<d.length;f++){var y,k=(k=this.$annotations[m=(y=d[f]).row])||(this.$annotations[m]={text:[]}),m=(m=y.text)?b.escapeHTML(m):y.html||"";-1===k.text.indexOf(m)&&k.text.push(m),m=y.type,(y=y.className)?k.className=y:"error"==m?k.className=" ace_error":"warning"==m&&" ace_error"!=k.className?k.className=" ace_warning":"info"!=m||k.className||(k.className=" ace_info")}},this.$updateAnnotations=function(d){var f,k;this.$annotations.length&&0!=(k=d.end.row-(f=d.start.row))&&("remove"==d.action?this.$annotations.splice(f,1+k,null):((d=new Array(1+k)).unshift(f,1),this.$annotations.splice.apply(this.$annotations,d)))},this.update=function(d){this.config=d;for(var f=this.session,k=d.firstRow,m=Math.min(d.lastRow+d.gutterOffset,f.getLength()-1),y=(this.oldLastRow=m,this.config=d,this.$lines.moveContainer(d),this.$updateCursorRow(),f.getNextFoldLine(k)),S=y?y.start.row:1/0,V=null,E=-1,w=k;;){if(S<w&&(S=(y=f.getNextFoldLine(w=y.end.row+1,y))?y.start.row:1/0),m<w){for(;this.$lines.getLength()>E+1;)this.$lines.pop();break}(V=this.$lines.get(++E))?V.row=w:(V=this.$lines.createCell(w,d,this.session,h),this.$lines.push(V)),this.$renderCell(V,d,y,w),w++}this._signal("afterRender"),this.$updateGutterWidth(d)},this.$updateGutterWidth=function(d){var f=this.session,y=f.gutterRenderer||this.$renderer,m=f.$firstLineNumber,k=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||f.$useWrapMode)&&(k=f.getLength()+m-1),m=y?y.getWidth(f,k,d):k.toString().length*d.characterWidth,(m+=(y=this.$padding||this.$computePadding()).left+y.right)===this.gutterWidth||isNaN(m)||(this.gutterWidth=m,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",m))},this.$updateCursorRow=function(){var d;this.$highlightGutterLine&&(d=this.session.selection.getCursor(),this.$cursorRow!==d.row)&&(this.$cursorRow=d.row)},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var d=this.session.selection.cursor.row;if(this.$cursorRow=d,!this.$cursorCell||this.$cursorCell.row!=d){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var f=this.$lines.cells;this.$cursorCell=null;for(var k=0;k<f.length;k++){var m=f[k];if(m.row>=this.$cursorRow){if(m.row>this.$cursorRow){var y=this.session.getFoldLine(this.$cursorRow);if(!(0<k&&y&&y.start.row==f[k-1].row))break;m=f[k-1]}m.element.className="ace_gutter-active-line "+m.element.className,this.$cursorCell=m;break}}}}},this.scrollLines=function(d){var f=this.config;if(this.config=d,this.$updateCursorRow(),this.$lines.pageChanged(f,d))return this.update(d);this.$lines.moveContainer(d);var k=Math.min(d.lastRow+d.gutterOffset,this.session.getLength()-1),m=this.oldLastRow;if(this.oldLastRow=k,!f||m<d.firstRow)return this.update(d);if(k<f.firstRow)return this.update(d);if(f.firstRow<d.firstRow)for(var y=this.session.getFoldedRowCount(f.firstRow,d.firstRow-1);0<y;y--)this.$lines.shift();if(k<m)for(y=this.session.getFoldedRowCount(k+1,m);0<y;y--)this.$lines.pop();d.firstRow<f.firstRow&&this.$lines.unshift(this.$renderLines(d,d.firstRow,f.firstRow-1)),m<k&&this.$lines.push(this.$renderLines(d,m+1,k)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(d)},this.$renderLines=function(d,f,k){for(var m=[],y=f,S=this.session.getNextFoldLine(y),V=S?S.start.row:1/0;V<y&&(V=(S=this.session.getNextFoldLine(y=S.end.row+1,S))?S.start.row:1/0),!(k<y);){var E=this.$lines.createCell(y,d,this.session,h);this.$renderCell(E,d,S,y),m.push(E),y++}return m},this.$renderCell=function(d,f,k,m){var y,S=d.element,V=this.session,E=S.childNodes[0],w=S.childNodes[1],B=V.$firstLineNumber,K=V.$breakpoints,L=V.$decorations,U=V.gutterRenderer||this.$renderer,W=this.$showFoldWidgets&&V.foldWidgets,re=k?k.start.row:Number.MAX_VALUE,H="ace_gutter-cell ";return this.$highlightGutterLine&&(m==this.$cursorRow||k&&m<this.$cursorRow&&re<=m&&this.$cursorRow<=k.end.row)&&(H+="ace_gutter-active-line ",this.$cursorCell!=d)&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=d),K[m]&&(H+=K[m]),L[m]&&(H+=L[m]),this.$annotations[m]&&(H+=this.$annotations[m].className),S.className!=H&&(S.className=H),(y=W&&null==(y=W[m])?W[m]=V.getFoldWidget(m):y)?(H="ace_fold-widget ace_"+y,w.className!=(H+="start"==y&&m==re&&m<k.end.row?" ace_closed":" ace_open")&&(w.className=H),F.setStyle(w.style,"height",K=f.lineHeight+"px"),F.setStyle(w.style,"display","inline-block")):w&&F.setStyle(w.style,"display","none"),(L=(U?U.getText(V,m):m+B).toString())!==E.data&&(E.data=L),F.setStyle(d.element.style,"height",this.$lines.computeLineHeight(m,f,V)+"px"),F.setStyle(d.element.style,"top",this.$lines.computeLineTop(m,f,V)+"px"),d.text=L,d},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(d){this.$highlightGutterLine=d},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(d){this.$renderer=!d&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(d){d?F.addCssClass(this.element,"ace_folding-enabled"):F.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=d,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){var d;return this.element.firstChild?(d=F.computedStyle(this.element.firstChild),this.$padding={},this.$padding.left=(parseInt(d.borderLeftWidth)||0)+(parseInt(d.paddingLeft)||0)+1,this.$padding.right=(parseInt(d.borderRightWidth)||0)+(parseInt(d.paddingRight)||0),this.$padding):{left:0,right:0}},this.getRegion=function(d){var f=this.$padding||this.$computePadding(),k=this.element.getBoundingClientRect();return d.x<f.left+k.left?"markers":this.$showFoldWidgets&&d.x>k.right-f.right?"foldWidgets":void 0}}).call(N.prototype),T.Gutter=N}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(O,T,j){"use strict";function N(b){this.element=v.createElement("div"),this.element.className="ace_layer ace_marker-layer",b.appendChild(this.element)}var F=O("../range").Range,v=O("../lib/dom");(function(){this.$padding=0,this.setPadding=function(b){this.$padding=b},this.setSession=function(b){this.session=b},this.setMarkers=function(b){this.markers=b},this.elt=function(b,p){var u=-1!=this.i&&this.element.childNodes[this.i];u?this.i++:(u=document.createElement("div"),this.element.appendChild(u),this.i=-1),u.style.cssText=p,u.className=b},this.update=function(b){if(b){var p,u;for(u in this.config=b,this.i=0,this.markers){var h,f,k=this.markers[u];k.range?(f=k.range.clipRows(b.firstRow,b.lastRow)).isEmpty()||(f=f.toScreenRange(this.session),k.renderer?(h=this.$getTop(f.start.row,b),k.renderer(p,f,this.$padding+f.start.column*b.characterWidth,h,b)):"fullLine"==k.type?this.drawFullLineMarker(p,f,k.clazz,b):"screenLine"==k.type?this.drawScreenLineMarker(p,f,k.clazz,b):f.isMultiLine()?"text"==k.type?this.drawTextMarker(p,f,k.clazz,b):this.drawMultiLineMarker(p,f,k.clazz,b):this.drawSingleLineMarker(p,f,k.clazz+" ace_start ace_br15",b)):k.update(p,this,this.session,b)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(b,p){return(b-p.firstRowScreen)*p.lineHeight},this.drawTextMarker=function(b,p,u,h,d){for(var f,k=this.session,m=p.start.row,y=p.end.row,S=m,V=0,E=k.getScreenLastRowColumn(S),w=new F(S,p.start.column,S,V);S<=y;S++)w.start.row=w.end.row=S,w.start.column=S==m?p.start.column:k.getRowWrapIndent(S),w.end.column=E,f=V,V=E,E=S+1<y?k.getScreenLastRowColumn(S+1):S==y?0:p.end.column,this.drawSingleLineMarker(b,w,u+(S==m?" ace_start":"")+" ace_br"+((S==m||S==m+1&&p.start.column?1:0)|(f<V?2:0)|(E<V?4:0)|(S==y?8:0)),h,S==y?0:1,d)},this.drawMultiLineMarker=function(b,p,u,h,d){var f,k=this.$padding,m=h.lineHeight,y=this.$getTop(p.start.row,h),S=k+p.start.column*h.characterWidth;d=d||"",this.session.$bidiHandler.isBidiRow(p.start.row)?((f=p.clone()).end.row=f.start.row,f.end.column=this.session.getLine(f.start.row).length,this.drawBidiSingleLineMarker(b,f,u+" ace_br1 ace_start",h,null,d)):this.elt(u+" ace_br1 ace_start","height:"+m+"px;right:0;top:"+y+"px;left:"+S+"px;"+(d||"")),this.session.$bidiHandler.isBidiRow(p.end.row)?((f=p.clone()).start.row=f.end.row,f.start.column=0,this.drawBidiSingleLineMarker(b,f,u+" ace_br12",h,null,d)):(y=this.$getTop(p.end.row,h),this.elt(u+" ace_br12","height:"+m+"px;width:"+(S=p.end.column*h.characterWidth)+"px;top:"+y+"px;left:"+k+"px;"+(d||""))),(m=(p.end.row-p.start.row-1)*h.lineHeight)<=0||(y=this.$getTop(p.start.row+1,h),this.elt(u+((b=(p.start.column?1:0)|(p.end.column?0:8))?" ace_br"+b:""),"height:"+m+"px;right:0;top:"+y+"px;left:"+k+"px;"+(d||"")))},this.drawSingleLineMarker=function(k,S,u,h,m,f){if(this.session.$bidiHandler.isBidiRow(S.start.row))return this.drawBidiSingleLineMarker(k,S,u,h,m,f);k=h.lineHeight,m=(S.end.column+(m||0)-S.start.column)*h.characterWidth;var y=this.$getTop(S.start.row,h);this.elt(u,"height:"+k+"px;width:"+m+"px;top:"+y+"px;left:"+(S=this.$padding+S.start.column*h.characterWidth)+"px;"+(f||""))},this.drawBidiSingleLineMarker=function(b,p,u,h,d,f){var k=h.lineHeight,m=this.$getTop(p.start.row,h),y=this.$padding;this.session.$bidiHandler.getSelections(p.start.column,p.end.column).forEach(function(S){this.elt(u,"height:"+k+"px;width:"+(S.width+(d||0))+"px;top:"+m+"px;left:"+(y+S.left)+"px;"+(f||""))},this)},this.drawFullLineMarker=function(b,p,u,h,d){var f=this.$getTop(p.start.row,h),k=h.lineHeight;p.start.row!=p.end.row&&(k+=this.$getTop(p.end.row,h)-f),this.elt(u,"height:"+k+"px;top:"+f+"px;left:0;right:0;"+(d||""))},this.drawScreenLineMarker=function(b,p,u,h,d){p=this.$getTop(p.start.row,h),this.elt(u,"height:"+(h=h.lineHeight)+"px;top:"+p+"px;left:0;right:0;"+(d||""))}}).call(N.prototype),T.Marker=N}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(O,T,j){"use strict";function N(h){this.dom=v,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",h.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new p(this.element)}var F=O("../lib/oop"),v=O("../lib/dom"),b=O("../lib/lang"),p=O("./lines").Lines,u=O("../lib/event_emitter").EventEmitter;(function(){F.implement(this,u),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var h="\n"==(h=this.session.doc).getNewLineCharacter()&&"windows"!=h.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=h)return this.EOL_CHAR=h,!0},this.setPadding=function(h){this.$padding=h,this.element.style.margin="0 "+h+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(h){this.$fontMetrics=h,this.$fontMetrics.on("changeCharacterSize",function(d){this._signal("changeCharacterSize",d)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(h){(this.session=h)&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(h){return this.showInvisibles!=h&&("string"==typeof(this.showInvisibles=h)?(this.showSpaces=/tab/i.test(h),this.showTabs=/space/i.test(h),this.showEOL=/eol/i.test(h)):this.showSpaces=this.showTabs=this.showEOL=h,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(h){return this.displayIndentGuides!=h&&(this.displayIndentGuides=h,this.$computeTabString(),!0)},this.$highlightIndentGuides=!0,this.setHighlightIndentGuides=function(h){return this.$highlightIndentGuides!==h&&(this.$highlightIndentGuides=h)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){for(var h,d,f,k,m,y,S=this.session.getTabSize(),V=(this.tabSize=S,this.$tabStrings=[0]),E=1;E<S+1;E++)this.showTabs?((y=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",y.textContent=b.stringRepeat(this.TAB_CHAR,E),V.push(y)):V.push(this.dom.createTextNode(b.stringRepeat(" ",E),this.element));this.displayIndentGuides&&(this.$indentGuideRe=/\s\S| \t|\t |\s$/,h="ace_indent-guide",d=this.showSpaces?" ace_invisible ace_invisible_space":"",f=b.stringRepeat(this.showSpaces?this.SPACE_CHAR:" ",this.tabSize),k=this.showTabs?" ace_invisible ace_invisible_tab":"",m=this.showTabs?b.stringRepeat(this.TAB_CHAR,this.tabSize):f,(y=this.dom.createElement("span")).className=h+d,y.textContent=f,this.$tabStrings[" "]=y,(y=this.dom.createElement("span")).className=h+k,y.textContent=m,this.$tabStrings["\t"]=y)},this.updateLines=function(h,d,f){if(this.config.lastRow!=h.lastRow||this.config.firstRow!=h.firstRow)return this.update(h);this.config=h;for(var k=Math.max(d,h.firstRow),m=Math.min(f,h.lastRow),y=this.element.childNodes,S=0,V=h.firstRow;V<k;V++){if(E=this.session.getFoldLine(V)){if(E.containsRow(k)){k=E.start.row;break}V=E.end.row}S++}for(var E,w=!1,B=(E=this.session.getNextFoldLine(V=k))?E.start.row:1/0;B<V&&(B=(E=this.session.getNextFoldLine(V=E.end.row+1,E))?E.start.row:1/0),!(m<V);){var K,U=y[S++];U&&(this.dom.removeChildren(U),this.$renderLine(U,V,V==B&&E),w&&(U.style.top=this.$lines.computeLineTop(V,h,this.session)+"px"),K=h.lineHeight*this.session.getRowLength(V)+"px",U.style.height!=K)&&(w=!0,U.style.height=K),V++}if(w)for(;S<this.$lines.cells.length;){var W=this.$lines.cells[S++];W.element.style.top=this.$lines.computeLineTop(W.row,h,this.session)+"px"}},this.scrollLines=function(h){var d=this.config;if(this.config=h,this.$lines.pageChanged(d,h))return this.update(h);this.$lines.moveContainer(h);var f=h.lastRow;if(!d||(d?d.lastRow:-1)<h.firstRow)return this.update(h);if(f<d.firstRow)return this.update(h);if(!d||d.lastRow<h.firstRow)return this.update(h);if(h.lastRow<d.firstRow)return this.update(h);if(d.firstRow<h.firstRow)for(var m=this.session.getFoldedRowCount(d.firstRow,h.firstRow-1);0<m;m--)this.$lines.shift();if(d.lastRow>h.lastRow)for(m=this.session.getFoldedRowCount(h.lastRow+1,d.lastRow);0<m;m--)this.$lines.pop();h.firstRow<d.firstRow&&this.$lines.unshift(this.$renderLinesFragment(h,h.firstRow,d.firstRow-1)),h.lastRow>d.lastRow&&this.$lines.push(this.$renderLinesFragment(h,d.lastRow+1,h.lastRow)),this.$highlightIndentGuide()},this.$renderLinesFragment=function(h,d,f){for(var k=[],m=d,y=this.session.getNextFoldLine(m),S=y?y.start.row:1/0;S<m&&(S=(y=this.session.getNextFoldLine(m=y.end.row+1,y))?y.start.row:1/0),!(f<m);){var V=this.$lines.createCell(m,h,this.session),E=V.element;this.dom.removeChildren(E),v.setStyle(E.style,"height",this.$lines.computeLineHeight(m,h,this.session)+"px"),v.setStyle(E.style,"top",this.$lines.computeLineTop(m,h,this.session)+"px"),this.$renderLine(E,m,m==S&&y),E.className=this.$useLineGroups()?"ace_line_group":"ace_line",k.push(V),m++}return k},this.update=function(h){this.$lines.moveContainer(h);for(var d=(this.config=h).firstRow,f=h.lastRow,k=this.$lines;k.getLength();)k.pop();k.push(this.$renderLinesFragment(h,d,f))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(h,d,f,k){for(var m,y,S=this,V=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,E=this.dom.createFragment(this.element),w=0;m=V.exec(k);){var B,K,U=m[1],W=m[2],re=m[3],H=m[4],L=m[5];!S.showSpaces&&W||(B=w!=m.index?k.slice(w,m.index):"",w=m.index+m[0].length,B&&E.appendChild(this.dom.createTextNode(B,this.element)),U?(B=S.session.getScreenTabSize(d+m.index),E.appendChild(S.$tabStrings[B].cloneNode(!0)),d+=B-1):W?S.showSpaces?((K=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",K.textContent=b.stringRepeat(S.SPACE_CHAR,W.length),E.appendChild(K)):E.appendChild(this.com.createTextNode(W,this.element)):re?((K=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",K.textContent=b.stringRepeat(S.SPACE_CHAR,re.length),E.appendChild(K)):H?(d+=1,(K=this.dom.createElement("span")).style.width=2*S.config.characterWidth+"px",K.className=S.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",K.textContent=S.showSpaces?S.SPACE_CHAR:H,E.appendChild(K)):L&&(d+=1,(K=this.dom.createElement("span")).style.width=2*S.config.characterWidth+"px",K.className="ace_cjk",K.textContent=L,E.appendChild(K)))}return E.appendChild(this.dom.createTextNode(w?k.slice(w):k,this.element)),this.$textToken[f.type]?h.appendChild(E):(y="ace_"+f.type.replace(/\./g," ace_"),K=this.dom.createElement("span"),"fold"==f.type&&(K.style.width=f.value.length*this.config.characterWidth+"px"),K.className=y,K.appendChild(E),h.appendChild(K)),d+k.length},this.renderIndentGuide=function(h,d,f){var k=d.search(this.$indentGuideRe);if(!(k<=0||f<=k)){if(" "==d[0]){for(var m=(k-=k%this.tabSize)/this.tabSize,y=0;y<m;y++)h.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),d.substr(k)}if("\t"==d[0]){for(y=0;y<k;y++)h.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),d.substr(k)}this.$highlightIndentGuide()}return d},this.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var h=this.session.doc.$lines;if(h){var d=this.session.selection.getCursor(),f=/^\s*/.exec(this.session.doc.getLine(d.row))[0].length,k=Math.floor(f/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:k,start:d.row},this.session.$bracketHighlight)for(var m=this.session.$bracketHighlight.ranges,y=0;y<m.length;y++)if(d.row!==m[y].start.row){this.$highlightIndentGuideMarker.end=m[y].start.row,this.$highlightIndentGuideMarker.dir=d.row>m[y].start.row?-1:1;break}if(!this.$highlightIndentGuideMarker.end&&""!==h[d.row]&&d.column===h[d.row].length)for(this.$highlightIndentGuideMarker.dir=1,y=d.row+1;y<h.length;y++){var S=h[y],V=/^\s*/.exec(S)[0].length;if(""!==S&&(this.$highlightIndentGuideMarker.end=y,V<=f))break}this.$renderHighlightIndentGuide()}}},this.$clearActiveIndentGuide=function(){for(var h=this.$lines.cells,d=0;d<h.length;d++){var f=h[d].element.childNodes;if(0<f.length)for(var k=0;k<f.length;k++)if(f[k].classList&&f[k].classList.contains("ace_indent-guide-active")){f[k].classList.remove("ace_indent-guide-active");break}}},this.$setIndentGuideActive=function(h,d){""!==this.session.doc.getLine(h.row)&&(h=h.element.childNodes)&&(h=h[d-1])&&h.classList&&h.classList.contains("ace_indent-guide")&&h.classList.add("ace_indent-guide-active")},this.$renderHighlightIndentGuide=function(){if(this.$lines){var h=this.$lines.cells,d=(this.$clearActiveIndentGuide(),this.$highlightIndentGuideMarker.indentLevel);if(0!==d)if(1===this.$highlightIndentGuideMarker.dir)for(var f=0;f<h.length;f++){var k=h[f];if(this.$highlightIndentGuideMarker.end&&k.row>=this.$highlightIndentGuideMarker.start+1){if(k.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(k,d)}}else for(f=h.length-1;0<=f;f--)if(k=h[f],this.$highlightIndentGuideMarker.end&&k.row<this.$highlightIndentGuideMarker.start){if(k.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(k,d)}}},this.$createLineElement=function(h){var d=this.dom.createElement("div");return d.className="ace_line",d.style.height=this.config.lineHeight+"px",d},this.$renderWrappedLine=function(h,d,f){var k=0,m=0,y=f[0],S=0,V=this.$createLineElement();h.appendChild(V);for(var E=0;E<d.length;E++){var w=d[E],B=w.value;if(0==E&&this.displayIndentGuides){if(k=B.length,!(B=this.renderIndentGuide(V,B,y)))continue;k-=B.length}if(k+B.length<y)S=this.$renderToken(V,S,w,B),k+=B.length;else{for(;k+B.length>=y;)S=this.$renderToken(V,S,w,B.substring(0,y-k)),B=B.substring(y-k),k=y,V=this.$createLineElement(),h.appendChild(V),V.appendChild(this.dom.createTextNode(b.stringRepeat("\xa0",f.indent),this.element)),S=0,y=f[++m]||Number.MAX_VALUE;0!=B.length&&(k+=B.length,S=this.$renderToken(V,S,w,B))}}f[f.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(V,S,null,"",!0)},this.$renderSimpleLine=function(h,d){for(var f=0,k=0;k<d.length;k++){var m=d[k],y=m.value;if(0!=k||!this.displayIndentGuides||(y=this.renderIndentGuide(h,y))){if(f+y.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(h,f,m,y);f=this.$renderToken(h,f,m,y)}}},this.$renderOverflowMessage=function(h,d,f,k,m){f&&this.$renderToken(h,d,f,k.slice(0,this.MAX_LINE_LENGTH-d)),(f=this.dom.createElement("span")).className="ace_inline_button ace_keyword ace_toggle_wrap",f.textContent=m?"<hide>":"<click to see more...>",h.appendChild(f)},this.$renderLine=function(h,d,f){var k,m,y=h;(k=(f=f||0==f?f:this.session.getFoldLine(d))?this.$getFoldLineTokens(d,f):this.session.getTokens(d)).length?(m=this.session.getRowSplitData(d))&&m.length?(this.$renderWrappedLine(h,k,m),y=h.lastChild):(y=h,this.$useLineGroups()&&(y=this.$createLineElement(),h.appendChild(y)),this.$renderSimpleLine(y,k)):this.$useLineGroups()&&(y=this.$createLineElement(),h.appendChild(y)),this.showEOL&&y&&(f&&(d=f.end.row),(m=this.dom.createElement("span")).className="ace_invisible ace_invisible_eol",m.textContent=d==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,y.appendChild(m))},this.$getFoldLineTokens=function(h,d){var f=this.session,k=[],m=f.getTokens(h);return d.walk(function(y,S,V,E,w){if(null!=y)k.push({type:"fold",value:y});else if((m=w?f.getTokens(S):m).length){for(var B,K=m,U=E,W=V,re=0,H=0;H+K[re].value.length<U;)if(H+=K[re].value.length,++re==K.length)return;for(H!=U&&((B=K[re].value.substring(U-H)).length>W-U&&(B=B.substring(0,W-U)),k.push({type:K[re].type,value:B}),H=U+B.length,re+=1);H<W&&re<K.length;)(B=K[re].value).length+H>W?k.push({type:K[re].type,value:B.substring(0,W-H)}):k.push(K[re]),H+=B.length,re+=1}},d.end.row,this.session.getLine(d.end.row).length),k},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(N.prototype),T.Text=N}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(O,T,j){"use strict";function N(v){this.element=F.createElement("div"),this.element.className="ace_layer ace_cursor-layer",v.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),F.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}var F=O("../lib/dom");(function(){this.$updateOpacity=function(v){for(var b=this.cursors,p=b.length;p--;)F.setStyle(b[p].style,"opacity",v?"":"0")},this.$startCssAnimation=function(){for(var v=this.cursors,b=v.length;b--;)v[b].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&F.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,F.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(v){this.$padding=v},this.setSession=function(v){this.session=v},this.setBlinking=function(v){v!=this.isBlinking&&(this.isBlinking=v,this.restartTimer())},this.setBlinkInterval=function(v){v!=this.blinkInterval&&(this.blinkInterval=v,this.restartTimer())},this.setSmoothBlinking=function(v){v!=this.smoothBlinking&&(this.smoothBlinking=v,F.setCssClass(this.element,"ace_smooth-blinking",v),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var v=F.createElement("div");return v.className="ace_cursor",this.element.appendChild(v),this.cursors.push(v),v},this.removeCursor=function(){var v;if(1<this.cursors.length)return(v=this.cursors.pop()).parentNode.removeChild(v),v},this.hideCursor=function(){this.isVisible=!1,F.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,F.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var v,b=this.$updateCursors;clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,F.removeCssClass(this.element,"ace_smooth-blinking")),b(!0),this.isBlinking&&this.blinkInterval&&this.isVisible?(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&F.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),F.HAS_CSS_ANIMATION?this.$startCssAnimation():(v=function(){this.timeoutId=setTimeout(function(){b(!1)},.6*this.blinkInterval)}.bind(this),this.intervalId=setInterval(function(){b(!0),v()},this.blinkInterval),v())):this.$stopCssAnimation()},this.getPixelPosition=function(v,b){if(!this.config||!this.session)return{left:0,top:0};v=v||this.session.selection.getCursor();var p=this.session.documentToScreenPosition(v);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(p.row,v.row)?this.session.$bidiHandler.getPosLeft(p.column):p.column*this.config.characterWidth),top:(p.row-(b?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(v,b){return 0<=v.top&&v.top<b.maxHeight},this.update=function(v){this.config=v;for(var b=this.session.$selectionMarkers,u=0,p=0,h=(u=0,(b=void 0!==b&&0!==b.length?b:[{cursor:null}]).length);u<h;u++){var d,f,k=this.getPixelPosition(b[u].cursor,!0);(k.top>v.height+v.offset||k.top<0)&&1<u||(f=(d=this.cursors[p++]||this.addCursor()).style,this.drawCursor?this.drawCursor(d,k,v,b[u],this.session):this.isCursorInView(k,v)?(F.setStyle(f,"display","block"),F.translate(d,k.left,k.top),F.setStyle(f,"width",Math.round(v.characterWidth)+"px"),F.setStyle(f,"height",v.lineHeight+"px")):F.setStyle(f,"display","none"))}for(;this.cursors.length>p;)this.removeCursor();var m=this.session.getOverwrite();this.$setOverwrite(m),this.$pixelPos=k,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(v){v!=this.overwrite&&((this.overwrite=v)?F.addCssClass(this.element,"ace_overwrite-cursors"):F.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(N.prototype),T.Cursor=N}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(O,T,j){"use strict";function N(d){this.element=p.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=p.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),d.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,u.addListener(this.element,"scroll",this.onScroll.bind(this)),u.addListener(this.element,"mousedown",u.preventDefault)}function F(d,f){N.call(this,d),this.scrollTop=0,this.scrollHeight=0,f.$scrollbarWidth=this.width=p.scrollbarWidth(d.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0}function v(d,f){N.call(this,d),this.scrollLeft=0,this.height=f.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"}var b=O("./lib/oop"),p=O("./lib/dom"),u=O("./lib/event"),h=O("./lib/event_emitter").EventEmitter;(function(){b.implement(this,h),this.setVisible=function(d){this.element.style.display=d?"":"none",this.isVisible=d,this.coeff=1}}).call(N.prototype),b.inherits(F,N),function(){this.classSuffix="-v",this.onScroll=function(){var d;this.skipEvent||(this.scrollTop=this.element.scrollTop,1!=this.coeff&&(this.scrollTop=this.scrollTop*(1-(d=this.element.clientHeight/this.scrollHeight))/(this.coeff-d)),this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(d){this.element.style.height=d+"px"},this.setInnerHeight=this.setScrollHeight=function(d){32768<(this.scrollHeight=d)?(this.coeff=32768/d,d=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=d+"px"},this.setScrollTop=function(d){this.scrollTop!=d&&(this.skipEvent=!0,this.scrollTop=d,this.element.scrollTop=d*this.coeff)}}.call(F.prototype),b.inherits(v,N),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(d){this.element.style.width=d+"px"},this.setInnerWidth=function(d){this.inner.style.width=d+"px"},this.setScrollWidth=function(d){this.inner.style.width=d+"px"},this.setScrollLeft=function(d){this.scrollLeft!=d&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=d)}}.call(v.prototype),T.ScrollBar=F,T.ScrollBarV=F,T.ScrollBarH=v,T.VScrollBar=F,T.HScrollBar=v}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(O,T,j){"use strict";function N(d){this.element=p.createElement("div"),this.element.className="ace_sb"+this.classSuffix,this.inner=p.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,d.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,u.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}function F(d,f){N.call(this,d),this.scrollTop=0,this.scrollHeight=0,this.parent=d,this.width=this.VScrollWidth,this.renderer=f,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0}function v(d,f){N.call(this,d),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=f}var b=O("./lib/oop"),p=O("./lib/dom"),u=O("./lib/event"),h=O("./lib/event_emitter").EventEmitter;p.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1),function(){b.implement(this,h),this.setVisible=function(d){this.element.style.display=d?"":"none",this.isVisible=d,this.coeff=1}}.call(N.prototype),b.inherits(F,N),function(){this.classSuffix="-v",b.implement(this,h),this.onMouseDown=function(d,f){var k,m,y,S,V;if("mousedown"===d&&0===u.getButton(f)&&2!==f.detail)return f.target===this.inner?(k=this,m=f.clientY,y=f.clientY,S=this.thumbTop,u.capture(this.inner,function(E){m=E.clientY},function(){clearInterval(V)}),V=setInterval(function(){var E;void 0!==m&&(E=k.scrollTopFromThumbTop(S+m-y))!==k.scrollTop&&k._emit("scroll",{data:E})},20)):(d=f.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2,this._emit("scroll",{data:this.scrollTopFromThumbTop(d)})),u.preventDefault(f)},this.getHeight=function(){return this.height},this.scrollTopFromThumbTop=function(d){return d=d*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight),(d>>=0)<0?d=0:d>this.pageHeight-this.viewHeight&&(d=this.pageHeight-this.viewHeight),d},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(d){this.height=Math.max(0,d),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},this.setInnerHeight=this.setScrollHeight=function(d,f){(this.pageHeight!==d||f)&&(this.pageHeight=d,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight)&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop}))},this.setScrollTop=function(d){this.scrollTop=d,this.thumbTop=(d=d<0?0:d)*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}}.call(F.prototype),b.inherits(v,N),function(){this.classSuffix="-h",b.implement(this,h),this.onMouseDown=function(d,f){var k,m,y,S,V;if("mousedown"===d&&0===u.getButton(f)&&2!==f.detail)return f.target===this.inner?(k=this,m=f.clientX,y=f.clientX,S=this.thumbLeft,u.capture(this.inner,function(E){m=E.clientX},function(){clearInterval(V)}),V=setInterval(function(){var E;void 0!==m&&(E=k.scrollLeftFromThumbLeft(S+m-y))!==k.scrollLeft&&k._emit("scroll",{data:E})},20)):(d=f.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2,this._emit("scroll",{data:this.scrollLeftFromThumbLeft(d)})),u.preventDefault(f)},this.getHeight=function(){return this.isVisible?this.height:0},this.scrollLeftFromThumbLeft=function(d){return d=d*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth),(d>>=0)<0?d=0:d>this.pageWidth-this.viewWidth&&(d=this.pageWidth-this.viewWidth),d},this.setWidth=function(d){this.width=Math.max(0,d),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},this.setInnerWidth=this.setScrollWidth=function(d,f){(this.pageWidth!==d||f)&&(this.pageWidth=d,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth)&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft}))},this.setScrollLeft=function(d){this.scrollLeft=d,this.thumbLeft=(d=d<0?0:d)*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}}.call(v.prototype),T.ScrollBar=F,T.ScrollBarV=F,T.ScrollBarH=v,T.VScrollBar=F,T.HScrollBar=v}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(O,T,j){"use strict";function N(v,b){this.onRender=v,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=b||window;var p=this;this._flush=function(u){p.pending=!1;var h=p.changes;h&&(F.blockIdle(100),p.changes=0,p.onRender(h)),p.changes?p.$recursionLimit--<0||p.schedule():p.$recursionLimit=2}}var F=O("./lib/event");(function(){this.schedule=function(v){this.changes=this.changes|v,this.changes&&!this.pending&&(F.nextFrame(this._flush),this.pending=!0)},this.clear=function(v){var b=this.changes;return this.changes=0,b}}).call(N.prototype),T.RenderLoop=N}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(d,T,j){var N=d("../lib/oop"),F=d("../lib/dom"),v=d("../lib/lang"),b=d("../lib/event"),p=d("../lib/useragent"),u=d("../lib/event_emitter").EventEmitter,h="function"==typeof ResizeObserver;d=T.FontMetrics=function(f){this.el=F.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=F.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=F.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),f.appendChild(this.el),this.$measureNode.textContent=v.stringRepeat("X",512),this.$characterSize={width:0,height:0},h?this.$addObserver():this.checkForSizeChanges()},function(){N.implement(this,u),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(f,k){f.width=f.height="auto",f.left=f.top="0px",f.visibility="hidden",f.position="absolute",f.whiteSpace="pre",p.isIE<8?f["font-family"]="inherit":f.font="inherit",f.overflow=k?"hidden":"visible"},this.checkForSizeChanges=function(f){var k;!(f=void 0===f?this.$measureSizes():f)||this.$characterSize.width===f.width&&this.$characterSize.height===f.height||(this.$measureNode.style.fontWeight="bold",k=this.$measureSizes(),this.$measureNode.style.fontWeight="",this.$characterSize=f,this.charSizes=Object.create(null),this.allowBoldFonts=k&&k.width===f.width&&k.height===f.height,this._emit("changeCharacterSize",{data:f}))},this.$addObserver=function(){var f=this;this.$observer=new window.ResizeObserver(function(k){f.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){var f;return this.$pollSizeChangesTimer||this.$observer?this.$pollSizeChangesTimer:(f=this).$pollSizeChangesTimer=b.onIdle(function k(){f.checkForSizeChanges(),b.onIdle(k,500)},500)},this.setPolling=function(f){f?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(f){return 0===(f={height:(f||this.$measureNode).clientHeight,width:(f||this.$measureNode).clientWidth/512}).width||0===f.height?null:f},this.$measureCharWidth=function(f){return this.$main.textContent=v.stringRepeat(f,512),this.$main.getBoundingClientRect().width/512},this.getCharacterWidth=function(f){var k=this.charSizes[f];return void 0===k?this.charSizes[f]=this.$measureCharWidth(f)/this.$characterSize.width:k},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function f(k){return k&&k.parentElement?(window.getComputedStyle(k).zoom||1)*f(k.parentElement):1},this.$initTransformMeasureNodes=function(){function f(k,m){return["div",{style:"position: absolute;top:"+k+"px;left:"+m+"px;"}]}this.els=F.buildDom([f(0,0),f(200,0),f(0,200),f(200,200)],this.el)},this.transformCoordinates=function(f,k){function m(re,H,L){var R=re[1]*H[0]-re[0]*H[1];return[(-H[1]*L[0]+H[0]*L[1])/R,(+re[1]*L[0]-re[0]*L[1])/R]}function y(re,H){return[re[0]-H[0],re[1]-H[1]]}function S(re,H){return[re[0]+H[0],re[1]+H[1]]}function V(re,H){return[re*H[0],re*H[1]]}function E(re){return[(re=re.getBoundingClientRect()).left,re.top]}f=f&&V(1/this.$getZoom(this.el),f),this.els||this.$initTransformMeasureNodes();var w,K,B=E(this.els[0]),U=E(this.els[1]),W=E(this.els[2]);return U=V(1+(K=m(y(K=E(this.els[3]),U),y(K,W),y(S(U,W),S(K,B))))[0],y(U,B)),W=V(1+K[1],y(W,B)),k?(w=K[0]*k[0]/200+K[1]*k[1]/200+1,k=S(V(k[0],U),V(k[1],W)),S(V(1/w/200,k),B)):(w=y(f,B),k=m(y(U,V(K[0],w)),y(W,V(K[1],w)),w),V(200,k))}}.call(d.prototype)}),ace.define("ace/css/editor.css",["require","exports","module"],function(O,T,j){j.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell.ace_error {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n    will-change: transform;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #FFF;\n    background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n}\n\n.ace_folding-enabled > .ace_gutter-cell {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n}'}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(O,T,j){"use strict";function N(p,u){this.canvas=F.createElement("canvas"),this.renderer=u,this.pixelRatio=1,this.maxHeight=u.layerConfig.maxHeight,this.lineHeight=u.layerConfig.lineHeight,this.canvasHeight=p.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=p.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},p.element.appendChild(this.canvas)}var F=O("../lib/dom"),v=O("../lib/oop"),b=O("../lib/event_emitter").EventEmitter;(function(){v.implement(this,b),this.$updateDecorators=function(p){var u=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light,h=(p&&(this.maxHeight=p.maxHeight,this.lineHeight=p.lineHeight,this.canvasHeight=p.height,this.heightRatio=(p.lastRow+1)*this.lineHeight<this.canvasHeight?1:this.canvasHeight/this.maxHeight),this.canvas.getContext("2d")),d=this.renderer.session.$annotations;if(h.clearRect(0,0,this.canvas.width,this.canvas.height),d)for(var f={info:1,warning:2,error:3},k=(d.forEach(function(B){B.priority=f[B.type]||null}),d=d.sort(function(B,K){return B.priority<K.priority?-1:B.priority>K.priority?1:0}),this.renderer.session.$foldData),m=0;m<d.length;m++){var y,w,S=this.compensateFoldRows(w=d[m].row,k),V=Math.round((w-S)*this.lineHeight*this.heightRatio),E=Math.round((w-S)*this.lineHeight*this.heightRatio);(w=Math.round(((w-S)*this.lineHeight+this.lineHeight)*this.heightRatio))-E<this.minDecorationHeight&&((y=(E+w)/2|0)<this.halfMinDecorationHeight?y=this.halfMinDecorationHeight:y+this.halfMinDecorationHeight>this.canvasHeight&&(y=this.canvasHeight-this.halfMinDecorationHeight),E=Math.round(y-this.halfMinDecorationHeight),w=Math.round(y+this.halfMinDecorationHeight)),h.fillStyle=u[d[m].type]||null,h.fillRect(0,V,this.canvasWidth,w-E)}(p=this.renderer.session.selection.getCursor())&&(S=this.compensateFoldRows(p.row,k),V=Math.round((p.row-S)*this.lineHeight*this.heightRatio),h.fillStyle="rgba(0, 0, 0, 0.5)",h.fillRect(0,V,this.canvasWidth,2))},this.compensateFoldRows=function(p,u){var h=0;if(u&&0<u.length)for(var d=0;d<u.length;d++)p>u[d].start.row&&p<u[d].end.row?h+=p-u[d].start.row:p>=u[d].end.row&&(h+=u[d].end.row-u[d].start.row);return h}}).call(N.prototype),T.Decorator=N}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],function(O,T,j){"use strict";function N(L,re){var H=this;this.container=L||v.createElement("div"),v.addCssClass(this.container,"ace_editor"),v.HI_DPI&&v.addCssClass(this.container,"ace_hidpi"),this.setTheme(re),null==b.get("useStrictCSP")&&b.set("useStrictCSP",!1),this.$gutter=v.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=v.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=v.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new p(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new u(this.content),L=this.$textLayer=new h(this.content),this.canvas=L.element,this.$markerFront=new u(this.content),this.$cursorLayer=new d(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new k(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.on("scroll",function(R){H.$scrollAnimation||H.session.setScrollTop(R.data-H.scrollMargin.top)}),this.scrollBarH.on("scroll",function(R){H.$scrollAnimation||H.session.setScrollLeft(R.data-H.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new V(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(R){H.updateCharacterSize(),H.onResize(!0,H.gutterWidth,H.$size.width,H.$size.height),H._signal("changeCharacterSize",R)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!K.isIOS,this.$loop=new S(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),b.resetOptions(this),b._signal("renderer",this)}var F=O("./lib/oop"),v=O("./lib/dom"),b=O("./config"),p=O("./layer/gutter").Gutter,u=O("./layer/marker").Marker,h=O("./layer/text").Text,d=O("./layer/cursor").Cursor,f=O("./scrollbar").HScrollBar,k=O("./scrollbar").VScrollBar,m=O("./scrollbar_custom").HScrollBar,y=O("./scrollbar_custom").VScrollBar,S=O("./renderloop").RenderLoop,V=O("./layer/font_metrics").FontMetrics,E=O("./lib/event_emitter").EventEmitter,w=O("./css/editor.css"),B=O("./layer/decorators").Decorator,K=O("./lib/useragent"),U=K.isIE;v.importCssString(w,"ace_editor.css",!1),function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,F.implement(this,E),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),v.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(W){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),(this.session=W)&&this.scrollMargin.top&&W.getScrollTop()<=0&&W.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(W),this.$markerBack.setSession(W),this.$markerFront.setSession(W),this.$gutterLayer.setSession(W),this.$textLayer.setSession(W),W&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(W,re,H){if(void 0===re&&(re=1/0),this.$changedLines?(this.$changedLines.firstRow>W&&(this.$changedLines.firstRow=W),this.$changedLines.lastRow<re&&(this.$changedLines.lastRow=re)):this.$changedLines={firstRow:W,lastRow:re},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!H)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(W){W?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(W,re,H,L){if(!(2<this.resizing)){0<this.resizing?this.resizing++:this.resizing=W?1:0;var R=this.container;if(R=this.$updateCachedSize(W,re,H=H||R.clientWidth||R.scrollWidth,L=L||R.clientHeight||R.scrollHeight),!this.$size.scrollerHeight||!H&&!L)return this.resizing=0;W&&(this.$gutterLayer.$padding=null),W?this.$renderChanges(R|this.$changes,!0):this.$loop.schedule(R|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},this.$updateCachedSize=function(W,re,H,L){var R=0,Q=this.$size,ae={width:Q.width,height:Q.height,scrollerHeight:Q.scrollerHeight,scrollerWidth:Q.scrollerWidth};return(L-=this.$extraHeight||0)&&(W||Q.height!=L)&&(Q.height=L,R|=this.CHANGE_SIZE,Q.scrollerHeight=Q.height,this.$horizScroll&&(Q.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(Q.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",R|=this.CHANGE_SCROLL),H&&(W||Q.width!=H)&&(R|=this.CHANGE_SIZE,Q.width=H,null==re&&(re=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=re,v.setStyle(this.scrollBarH.element.style,"left",re+"px"),v.setStyle(this.scroller.style,"left",re+this.margin.left+"px"),Q.scrollerWidth=Math.max(0,H-re-this.scrollBarV.getWidth()-this.margin.h),v.setStyle(this.$gutter.style,"left",this.margin.left+"px"),re=this.scrollBarV.getWidth()+"px",v.setStyle(this.scrollBarH.element.style,"right",re),v.setStyle(this.scroller.style,"right",re),v.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(Q.scrollerWidth),this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||W)&&(R|=this.CHANGE_FULL),Q.$dirty=!H||!L,R&&this._signal("resize",ae),R},this.onGutterResize=function(W){(W=this.$showGutter?W:0)!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,W,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var W=this.$size.scrollerWidth-2*this.$padding;return W=Math.floor(W/this.characterWidth),this.session.adjustWrapLimit(W,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(W){this.setOption("animatedScroll",W)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(W){this.setOption("showInvisibles",W),this.session.$bidiHandler.setShowInvisibles(W)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(W){this.setOption("displayIndentGuides",W)},this.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},this.setHighlightIndentGuides=function(W){this.setOption("highlightIndentGuides",W)},this.setShowPrintMargin=function(W){this.setOption("showPrintMargin",W)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(W){this.setOption("printMarginColumn",W)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(W){return this.setOption("showGutter",W)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(W){this.setOption("fadeFoldWidgets",W)},this.setHighlightGutterLine=function(W){this.setOption("highlightGutterLine",W)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){var W;(this.$showPrintMargin||this.$printMarginEl)&&(this.$printMarginEl||((W=v.createElement("div")).className="ace_layer ace_print-margin-layer",this.$printMarginEl=v.createElement("div"),this.$printMarginEl.className="ace_print-margin",W.appendChild(this.$printMarginEl),this.content.insertBefore(W,this.content.firstChild)),(W=this.$printMarginEl.style).left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",W.visibility=this.$showPrintMargin?"visible":"hidden",this.session)&&-1==this.session.$wrap&&this.adjustWrapLimit()},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){var W,re,H,L,R,Q,ae;this.$isMousePressed||(W=this.textarea.style,Q=this.$composition,this.$keepTextAreaAtCursor||Q?(H=this.$cursorLayer.$pixelPos)&&(Q&&Q.markerRange&&(H=this.$cursorLayer.getPixelPosition(Q.markerRange.start,!0)),re=H.top,H=H.left,L=Q&&Q.useTextareaForIME?this.lineHeight:U?0:1,(re-=(ae=this.layerConfig).offset)<0||re>ae.height-L?v.translate(this.textarea,0,0):(ae=1,R=this.$size.height-L,Q?Q.useTextareaForIME?ae=this.characterWidth*this.session.$getStringScreenWidth(Q=this.textarea.value)[0]:re+=this.lineHeight+2:re+=this.lineHeight,(H-=this.scrollLeft)>this.$size.scrollerWidth-ae&&(H=this.$size.scrollerWidth-ae),H+=this.gutterWidth+this.margin.left,v.setStyle(W,"height",L+"px"),v.setStyle(W,"width",ae+"px"),v.translate(this.textarea,Math.min(H,this.$size.scrollerWidth-ae),Math.min(re,R)))):v.translate(this.textarea,-100,0))},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var W=this.layerConfig,re=W.lastRow;return this.session.documentToScreenRow(re,0)*W.lineHeight-this.session.getScrollTop()>W.height-W.lineHeight?re-1:re},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(W){this.$padding=W,this.$textLayer.setPadding(W),this.$cursorLayer.setPadding(W),this.$markerFront.setPadding(W),this.$markerBack.setPadding(W),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(W,re,H,L){var R=this.scrollMargin;R.top=0|W,R.bottom=0|re,R.right=0|L,R.left=0|H,R.v=R.top+R.bottom,R.h=R.left+R.right,R.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-R.top),this.updateFull()},this.setMargin=function(W,re,H,L){var R=this.margin;R.top=0|W,R.bottom=0|re,R.right=0|L,R.left=0|H,R.v=R.top+R.bottom,R.h=R.left+R.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(W){this.setOption("hScrollBarAlwaysVisible",W)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(W){this.setOption("vScrollBarAlwaysVisible",W)},this.$updateScrollBarV=function(){var W=this.layerConfig.maxHeight,re=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(W-=(re-this.lineHeight)*this.$scrollPastEnd)-re&&(W=this.scrollTop+re,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(W+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(W,re){if(this.$changes&&(W|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(W||re)){if(this.$size.$dirty)return this.$changes|=W,this.onResize(!0);var H,L;this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",W),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics),re=this.layerConfig,(W&this.CHANGE_FULL||W&this.CHANGE_SIZE||W&this.CHANGE_TEXT||W&this.CHANGE_LINES||W&this.CHANGE_SCROLL||W&this.CHANGE_H_SCROLL)&&(W|=this.$computeLayerConfig()|this.$loop.clear(),re.firstRow!=this.layerConfig.firstRow&&re.firstRowScreen==this.layerConfig.firstRowScreen&&0<(H=this.scrollTop+(re.firstRow-this.layerConfig.firstRow)*this.lineHeight)&&(this.scrollTop=H,W=(W|=this.CHANGE_SCROLL)|this.$computeLayerConfig()|this.$loop.clear()),re=this.layerConfig,this.$updateScrollBarV(),W&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),v.translate(this.content,-this.scrollLeft,-re.offset),L=re.minHeight+"px",v.setStyle(this.content.style,"width",H=re.width+2*this.$padding+"px"),v.setStyle(this.content.style,"height",L)),W&this.CHANGE_H_SCROLL&&(v.translate(this.content,-this.scrollLeft,-re.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),W&this.CHANGE_FULL?(this.$changedLines=null,this.$textLayer.update(re),this.$showGutter&&this.$gutterLayer.update(re),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(re),this.$markerBack.update(re),this.$markerFront.update(re),this.$cursorLayer.update(re),this.$moveTextAreaToCursor()):W&this.CHANGE_SCROLL?(this.$changedLines=null,W&this.CHANGE_TEXT||W&this.CHANGE_LINES?this.$textLayer.update(re):this.$textLayer.scrollLines(re),this.$showGutter&&(W&this.CHANGE_GUTTER||W&this.CHANGE_LINES?this.$gutterLayer.update(re):this.$gutterLayer.scrollLines(re)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(re),this.$markerBack.update(re),this.$markerFront.update(re),this.$cursorLayer.update(re),this.$moveTextAreaToCursor()):(W&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(re),this.$showGutter&&this.$gutterLayer.update(re),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(re)):W&this.CHANGE_LINES?((this.$updateLines()||W&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(re),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(re)):W&this.CHANGE_TEXT||W&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(re),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(re)):W&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(re),this.$customScrollbar)&&this.$scrollDecorator.$updateDecorators(re),W&this.CHANGE_CURSOR&&(this.$cursorLayer.update(re),this.$moveTextAreaToCursor()),W&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(re),W&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(re)),this._signal("afterRender",W)}else this.$changes|=W},this.$autosize=function(){var W=this.session.getScreenLength()*this.lineHeight,re=this.$maxLines*this.lineHeight,H=Math.min(re,Math.max((this.$minLines||1)*this.lineHeight,W))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(H+=this.scrollBarH.getHeight()),re=!((H=this.$maxPixelHeight&&H>this.$maxPixelHeight?this.$maxPixelHeight:H)<=2*this.lineHeight)&&re<W,H==this.desiredHeight&&this.$size.height==this.desiredHeight&&re==this.$vScroll||(re!=this.$vScroll&&(this.$vScroll=re,this.scrollBarV.setVisible(re)),W=this.container.clientWidth,this.container.style.height=H+"px",this.$updateCachedSize(!0,this.$gutterWidth,W,H),this.desiredHeight=H,this._signal("autosize"))},this.$computeLayerConfig=function(){var W,ae,Ie=this.session,re=this.$size,we=re.height<=2*this.lineHeight,H=this.session.getScreenLength()*this.lineHeight,L=this.$getLongestLine(),R=this.$horizScroll!==(xe=!we&&(this.$hScrollBarAlwaysVisible||re.scrollerWidth-L-2*this.$padding<0)),xe=(R&&(this.$horizScroll=xe,this.scrollBarH.setVisible(xe)),this.$vScroll),Q=(this.$maxLines&&1<this.lineHeight&&this.$autosize(),re.scrollerHeight+this.lineHeight),ve=(H+=ae=!this.$maxLines&&this.$scrollPastEnd?(re.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0,this.scrollMargin),Se=((ae=xe!==(this.session.setScrollTop(Math.max(-ve.top,Math.min(this.scrollTop,H-re.scrollerHeight+ve.bottom))),this.session.setScrollLeft(Math.max(-ve.left,Math.min(this.scrollLeft,L+2*this.$padding-re.scrollerWidth+ve.right))),we=!we&&(this.$vScrollBarAlwaysVisible||re.scrollerHeight-H+ae<0||this.scrollTop>ve.top)))&&(this.$vScroll=we,this.scrollBarV.setVisible(we)),ve=this.scrollTop%this.lineHeight,xe=Math.ceil(Q/this.lineHeight)-1,xe=(we=Math.max(0,Math.round((this.scrollTop-ve)/this.lineHeight)))+xe,this.lineHeight),Ge=(we=Ie.screenToDocumentRow(we,0),Ie.getFoldLine(we));return Ge&&(we=Ge.start.row),Ge=Ie.documentToScreenRow(we,0),W=Ie.getRowLength(we)*Se,xe=Math.min(Ie.screenToDocumentRow(xe,0),Ie.getLength()-1),Q=re.scrollerHeight+Ie.getRowLength(xe)*Se+W,ve=this.scrollTop-Ge*Se,Ie=0,this.layerConfig.width==L&&!R||(Ie=this.CHANGE_H_SCROLL),(R||ae)&&(Ie|=this.$updateCachedSize(!0,this.gutterWidth,re.width,re.height),this._signal("scrollbarVisibilityChanged"),ae)&&(L=this.$getLongestLine()),this.layerConfig={width:L,padding:this.$padding,firstRow:we,firstRowScreen:Ge,lastRow:xe,lineHeight:Se,characterWidth:this.characterWidth,minHeight:Q,maxHeight:H,offset:ve,gutterOffset:Se?Math.max(0,Math.ceil((ve+re.height-re.scrollerHeight)/Se)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(L-this.$padding),Ie},this.$updateLines=function(){if(this.$changedLines){var W=this.$changedLines.firstRow,re=this.$changedLines.lastRow,H=(this.$changedLines=null,this.layerConfig);if(!(W>H.lastRow+1||re<H.firstRow)){if(re!==1/0)return this.$textLayer.updateLines(H,W,re),!0;this.$showGutter&&this.$gutterLayer.update(H),this.$textLayer.update(H)}}},this.$getLongestLine=function(){var W=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(W+=1),this.$textLayer&&W>this.$textLayer.MAX_LINE_LENGTH&&(W=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(W*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(W,re){this.$gutterLayer.addGutterDecoration(W,re)},this.removeGutterDecoration=function(W,re){this.$gutterLayer.removeGutterDecoration(W,re)},this.updateBreakpoints=function(W){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(W){this.$gutterLayer.setAnnotations(W),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(W,re,H){this.scrollCursorIntoView(W,H),this.scrollCursorIntoView(re,H)},this.scrollCursorIntoView=function(W,re,H){var L,R,Q;0!==this.$size.scrollerHeight&&(L=(W=this.$cursorLayer.getPixelPosition(W)).left,W=W.top,R=H&&H.top||0,H=H&&H.bottom||0,this.$scrollAnimation&&(this.$stopAnimation=!0),W<(Q=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop)+R?(re&&Q+R>W+this.lineHeight&&(W-=re*this.$size.scrollerHeight),0===W&&(W=-this.scrollMargin.top),this.session.setScrollTop(W)):Q+this.$size.scrollerHeight-H<W+this.lineHeight&&(re&&Q+this.$size.scrollerHeight-H<W-this.lineHeight&&(W+=re*this.$size.scrollerHeight),this.session.setScrollTop(W+this.lineHeight+H-this.$size.scrollerHeight)),L-(Q=2*this.layerConfig.characterWidth)<(R=this.scrollLeft)?((L-=Q)<this.$padding+Q&&(L=-this.scrollMargin.left),this.session.setScrollLeft(L)):R+this.$size.scrollerWidth<(L+=Q)+this.characterWidth?this.session.setScrollLeft(Math.round(L+this.characterWidth-this.$size.scrollerWidth)):R<=this.$padding&&L-R<this.characterWidth&&this.session.setScrollLeft(0))},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(W){this.session.setScrollTop(W*this.lineHeight)},this.alignCursor=function(L,re){return L=this.$cursorLayer.getPixelPosition(L="number"==typeof L?{row:L,column:0}:L),this.session.setScrollTop(L=L.top-(this.$size.scrollerHeight-this.lineHeight)*(re||0)),L},this.STEPS=8,this.$calcSteps=function(W,re){var L,ae=0,R=this.STEPS,Q=[];for(ae=0;ae<R;++ae)Q.push((re-(L=W))*(Math.pow(ae/this.STEPS-1,3)+1)+L);return Q},this.scrollToLine=function(W,re,H,L){W=this.$cursorLayer.getPixelPosition({row:W,column:0}).top,re&&(W-=this.$size.scrollerHeight/2),re=this.scrollTop,this.session.setScrollTop(W),!1!==H&&this.animateScrolling(re,L)},this.animateScrolling=function(W,re){var H=this.scrollTop;if(this.$animatedScroll){var L=this;if(W!=H){if(this.$scrollAnimation){var R=this.$scrollAnimation.steps;if(R.length&&(W=R[0])==H)return}var Q=L.$calcSteps(W,H);this.$scrollAnimation={from:W,to:H,steps:Q},clearInterval(this.$timer),L.session.setScrollTop(Q.shift()),L.session.$scrollTop=H,this.$timer=setInterval(function(){if(!L.$stopAnimation)return L.session?void(Q.length?(L.session.setScrollTop(Q.shift()),L.session.$scrollTop=H):null!=H?(L.session.$scrollTop=-1,L.session.setScrollTop(H),H=null):ae()):clearInterval(L.$timer);ae()},10)}}function ae(){L.$timer=clearInterval(L.$timer),L.$scrollAnimation=null,L.$stopAnimation=!1,re&&re()}},this.scrollToY=function(W){this.scrollTop!==W&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=W)},this.scrollToX=function(W){this.scrollLeft!==W&&(this.scrollLeft=W),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(W,re){this.session.setScrollTop(re),this.session.setScrollLeft(W)},this.scrollBy=function(W,re){re&&this.session.setScrollTop(this.session.getScrollTop()+re),W&&this.session.setScrollLeft(this.session.getScrollLeft()+W)},this.isScrollableBy=function(W,re){return re<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||0<re&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||W<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||0<W&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(L,R){this.$hasCssTransforms?(Q={top:0,left:0},L=(H=this.$fontMetrics.transformCoordinates([L,R]))[1]-this.gutterWidth-this.margin.left,R=H[0]):Q=this.scroller.getBoundingClientRect();var H=L+this.scrollLeft-Q.left-this.$padding,Q=(L=H/this.characterWidth,R=Math.floor((R+this.scrollTop-Q.top)/this.lineHeight),this.$blockCursor?Math.floor(L):Math.round(L));return{row:R,column:Q,side:0<L-Q?1:-1,offsetX:H}},this.screenToTextCoordinates=function(R,Q){this.$hasCssTransforms?(H={top:0,left:0},R=(L=this.$fontMetrics.transformCoordinates([R,Q]))[1]-this.gutterWidth-this.margin.left,Q=L[0]):H=this.scroller.getBoundingClientRect();var H,L=R+this.scrollLeft-H.left-this.$padding;return R=L/this.characterWidth,R=this.$blockCursor?Math.floor(R):Math.round(R),Q=Math.floor((Q+this.scrollTop-H.top)/this.lineHeight),this.session.screenToDocumentPosition(Q,Math.max(R,0),L)},this.textToScreenCoordinates=function(L,R){var H=this.scroller.getBoundingClientRect();return R=this.session.documentToScreenPosition(L,R),L=this.$padding+(this.session.$bidiHandler.isBidiRow(R.row,L)?this.session.$bidiHandler.getPosLeft(R.column):Math.round(R.column*this.characterWidth)),{pageX:H.left+L-this.scrollLeft,pageY:H.top+(R=R.row*this.lineHeight)-this.scrollTop}},this.visualizeFocus=function(){v.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){v.removeCssClass(this.container,"ace_focus")},this.showComposition=function(W){(this.$composition=W).cssText||(W.cssText=this.textarea.style.cssText),null==W.useTextareaForIME&&(W.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(v.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):W.markerId=this.session.addMarker(W.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(W){var re=this.session.selection.cursor;this.addToken(W,"composition_placeholder",re.row,re.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){var W;this.$composition&&(this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),v.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText,this.removeExtraToken((W=this.session.selection.cursor).row,W.column),this.$composition=null,this.$cursorLayer.element.style.display="")},this.setGhostText=function(W,H){var L=this.session.selection.cursor;H=H||{row:L.row,column:L.column},this.removeGhostText(),L=W.split("\n"),this.addToken(L[0],"ghost_text",H.row,H.column),this.$ghostText={text:W,position:{row:H.row,column:H.column}},1<L.length&&(this.$ghostTextWidget={text:L.slice(1).join("\n"),row:H.row,column:H.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget))},this.removeGhostText=function(){var W;this.$ghostText&&(this.removeExtraToken((W=this.$ghostText.position).row,W.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null)},this.addToken=function(W,re,H,L){var R=this.session,Q=(R.bgTokenizer.lines[H]=null,{type:re,value:W}),ae=R.getTokens(H);if(null==L)ae.push(Q);else for(var ve=0,xe=0;xe<ae.length;xe++){var Se=ae[xe];if(L<=(ve+=Se.value.length)){var we=Se.value.slice(0,Ge=Se.value.length-(ve-L)),Ge=Se.value.slice(Ge);ae.splice(xe,1,{type:Se.type,value:we},Q,{type:Se.type,value:Ge});break}}this.updateLines(H,H)},this.removeExtraToken=function(W,re){this.updateLines(W,W)},this.setTheme=function(W,re){var L=this;function R(Q){if(L.$themeId!=W)return re&&re();if(!Q||!Q.cssClass)throw new Error("couldn't load module "+W+" or it didn't call define");Q.$id&&(L.$themeId=Q.$id),v.importCssString(Q.cssText,Q.cssClass,L.container),L.theme&&v.removeCssClass(L.container,L.theme.cssClass);var ae="padding"in Q?Q.padding:"padding"in(L.theme||{})?4:L.$padding;L.$padding&&ae!=L.$padding&&L.setPadding(ae),L.$theme=Q.cssClass,L.theme=Q,v.addCssClass(L.container,Q.cssClass),v.setCssClass(L.container,"ace_dark",Q.isDark),L.$size&&(L.$size.width=0,L.$updateSizeAsync()),L._dispatchEvent("themeLoaded",{theme:Q}),re&&re()}this.$themeId=W,L._dispatchEvent("themeChange",{theme:W}),W&&"string"!=typeof W?R(W):b.loadModule(["theme",W||this.$options.theme.initialValue],R)},this.getTheme=function(){return this.$themeId},this.setStyle=function(W,re){v.setCssClass(this.container,W,!1!==re)},this.unsetStyle=function(W){v.removeCssClass(this.container,W)},this.setCursorStyle=function(W){v.setStyle(this.scroller.style,"cursor",W)},this.setMouseCursor=function(W){v.setStyle(this.scroller.style,"cursor",W)},this.attachToShadowRoot=function(){v.importCssString(w,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""},this.$updateCustomScrollbar=function(W){var re=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===W?(this.scrollBarV=new y(this.container,this),this.scrollBarH=new m(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(H){re.$scrollAnimation||re.session.setScrollTop(H.data-re.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(H){re.$scrollAnimation||re.session.setScrollLeft(H.data-re.scrollMargin.left)}),this.$scrollDecorator=new B(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new k(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.addEventListener("scroll",function(H){re.$scrollAnimation||re.session.setScrollTop(H.data-re.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(H){re.$scrollAnimation||re.session.setScrollLeft(H.data-re.scrollMargin.left)}))}}.call(N.prototype),b.defineOptions(N.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(W){this.$textLayer.setShowInvisibles(W)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(W){"number"==typeof W&&(this.$printMarginColumn=W),this.$showPrintMargin=!!W,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(W){this.$gutter.style.display=W?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(W){v.setCssClass(this.$gutter,"ace_fade-fold-widgets",W)},initialValue:!1},showFoldWidgets:{set:function(W){this.$gutterLayer.setShowFoldWidgets(W),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(W){this.$textLayer.setDisplayIndentGuides(W)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(W){1==this.$textLayer.setHighlightIndentGuides(W)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(W){this.$gutterLayer.setHighlightGutterLine(W),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(W){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(W){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(W){"number"==typeof W&&(W+="px"),this.container.style.fontSize=W,this.updateFontSize()},initialValue:12},fontFamily:{set:function(W){this.container.style.fontFamily=W,this.updateFontSize()}},maxLines:{set:function(W){this.updateFull()}},minLines:{set:function(W){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(W){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(W){this.$scrollPastEnd!=(W=+W||0)&&(this.$scrollPastEnd=W,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(W){this.$gutterLayer.$fixedWidth=!!W,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(W){this.$updateCustomScrollbar(W)},initialValue:!1},theme:{set:function(W){this.setTheme(W)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!K.isMobile&&!K.isIE}}),T.VirtualRenderer=N}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(O,T,j){"use strict";var N=O("../lib/oop"),F=O("../lib/net"),v=O("../lib/event_emitter").EventEmitter,b=O("../config");function p(h){var d;return typeof Worker>"u"?{postMessage:function(){},terminate:function(){}}:b.get("loadWorkerFromBlob")?(d=function(f){f="importScripts('"+F.qualifyURL(f)+"');";try{return new Blob([f],{type:"application/javascript"})}catch{var k=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return k.append(f),k.getBlob("application/javascript")}}(h),d=(window.URL||window.webkitURL).createObjectURL(d),new Worker(d)):new Worker(h)}function u(h){h.postMessage||(h=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=h,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage}(function(){N.implement(this,v),this.$createWorkerFromOldConfig=function(h,d,f,k,m){var y,S;return O.nameToUrl&&!O.toUrl&&(O.toUrl=O.nameToUrl),b.get("packaged")||!O.toUrl?k=k||b.moduleUrl(d,"worker"):(y=this.$normalizePath,k=k||y(O.toUrl("ace/worker/worker.js",null,"_")),S={},h.forEach(function(V){S[V]=y(O.toUrl(V,null,"_").replace(/(\.js)?(\?.*)?$/,""))})),this.$worker=p(k),m&&this.send("importScripts",m),this.$worker.postMessage({init:!0,tlns:S,module:d,classname:f}),this.$worker},this.onMessage=function(h){var d=h.data;switch(d.type){case"event":this._signal(d.name,{data:d.data});break;case"call":var f=this.callbacks[d.id];f&&(f(d.data),delete this.callbacks[d.id]);break;case"error":this.reportError(d.data);break;case"log":window.console&&console.log&&console.log.apply(console,d.data)}},this.reportError=function(h){window.console&&console.error&&console.error(h)},this.$normalizePath=function(h){return F.qualifyURL(h)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(h,d){this.$worker.postMessage({command:h,args:d})},this.call=function(h,d,f){var k;f&&(k=this.callbackId++,this.callbacks[k]=f,d.push(k)),this.send(h,d)},this.emit=function(h,d){try{d.data&&d.data.err&&(d.data.err={message:d.data.err.message,stack:d.data.err.stack,code:d.data.err.code}),this.$worker&&this.$worker.postMessage({event:h,data:{data:d.data}})}catch(f){console.error(f.stack)}},this.attachToDocument=function(h){this.$doc&&this.terminate(),this.$doc=h,this.call("setValue",[h.getValue()]),h.on("change",this.changeListener,!0)},this.changeListener=function(h){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(h.start,"insert"==h.action?h.lines:h.end)},this.$sendDeltaQueue=function(){var h=this.deltaQueue;h&&(this.deltaQueue=null,50<h.length&&h.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:h}))}}).call(u.prototype),T.UIWorkerClient=function(h,d,f){var k=null,m=!1,y=Object.create(v),S=[],V=new u({messageBuffer:S,terminate:function(){},postMessage:function(w){S.push(w),k&&(m?setTimeout(E):E())}}),E=(V.setEmitSync=function(w){m=w},function(){var w=S.shift();w.command?k[w.command].apply(k,w.args):w.event&&y._signal(w.event,w.data)});return y.postMessage=function(w){V.onMessage({data:w})},y.callback=function(w,B){this.postMessage({type:"call",id:B,data:w})},y.emit=function(w,B){this.postMessage({type:"event",name:w,data:B})},b.loadModule(["worker",d],function(w){for(k=new w[f](y);S.length;)E()}),V},T.WorkerClient=u,T.createWorker=p}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(O,T,j){"use strict";function N(p,y,h,d,f,k){var m=this;this.length=y,this.session=p,this.doc=p.getDocument(),this.mainClass=f,this.othersClass=k,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=d,this.$onCursorChange=function(){setTimeout(function(){m.onCursorChange()})},this.$pos=h,y=p.getUndoManager().$undoStack||p.getUndoManager().$undostack||{length:-1},this.$undoStackDepth=y.length,this.setup(),p.selection.on("changeCursor",this.$onCursorChange)}var F=O("./range").Range,v=O("./lib/event_emitter").EventEmitter,b=O("./lib/oop");(function(){b.implement(this,v),this.setup=function(){var p=this,u=this.doc,h=this.session,d=(this.selectionBefore=h.selection.toJSON(),h.selection.inMultiSelectMode&&h.selection.toSingleRange(),this.pos=u.createAnchor(this.$pos.row,this.$pos.column),this.pos);d.$insertRight=!0,d.detach(),d.markerId=h.addMarker(new F(d.row,d.column,d.row,d.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(f){(f=u.createAnchor(f.row,f.column)).$insertRight=!0,f.detach(),p.others.push(f)}),h.setUndoSelect(!1)},this.showOtherMarkers=function(){var p,u;this.othersActive||(p=this.session,(u=this).othersActive=!0,this.others.forEach(function(h){h.markerId=p.addMarker(new F(h.row,h.column,h.row,h.column+u.length),u.othersClass,null,!1)}))},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var p=0;p<this.others.length;p++)this.session.removeMarker(this.others[p].markerId)}},this.onUpdate=function(p){if(this.$updating)return this.updateAnchors(p);var u=p;if(u.start.row===u.end.row&&u.start.row===this.pos.row){this.$updating=!0;var h="insert"===p.action?u.end.column-u.start.column:u.start.column-u.end.column,d=u.start.column>=this.pos.column&&u.start.column<=this.pos.column+this.length+1,f=u.start.column-this.pos.column;if(this.updateAnchors(p),d&&(this.length+=h),d&&!this.session.$fromUndo)if("insert"===p.action)for(var k=this.others.length-1;0<=k;k--){var m={row:(y=this.others[k]).row,column:y.column+f};this.doc.insertMergedLines(m,p.lines)}else if("remove"===p.action)for(k=this.others.length-1;0<=k;k--){var y;m={row:(y=this.others[k]).row,column:y.column+f},this.doc.remove(new F(m.row,m.column,m.row,m.column-h))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(p){this.pos.onChange(p);for(var u=this.others.length;u--;)this.others[u].onChange(p);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var p=this,u=this.session,h=function(f,k){u.removeMarker(f.markerId),f.markerId=u.addMarker(new F(f.row,f.column,f.row,f.column+p.length),k,null,!1)};h(this.pos,this.mainClass);for(var d=this.others.length;d--;)h(this.others[d],this.othersClass)}},this.onCursorChange=function(p){var u;!this.$updating&&this.session&&((u=this.session.selection.getCursor()).row===this.pos.row&&u.column>=this.pos.column&&u.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",p)):(this.hideOtherMarkers(),this._emit("cursorLeave",p)))},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var p=this.session.getUndoManager(),u=(p.$undoStack||p.$undostack).length-this.$undoStackDepth,h=0;h<u;h++)p.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(N.prototype),T.PlaceHolder=N}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(O,T,j){var N=O("../lib/event"),F=O("../lib/useragent");function v(b,p){return b.row==p.row&&b.column==p.column}T.onMouseDown=function(b){var p=b.domEvent,u=p.altKey,h=p.shiftKey,d=p.ctrlKey,f=b.getAccelKey(),k=b.getButton();if(d&&F.isMac&&(k=p.button),b.editor.inMultiSelectMode&&2==k)b.editor.textInput.onContextMenu(b.domEvent);else if(d||u||f){if(0===k){var m,y,S,V,E,w,B,K,U=b.editor,W=U.selection,re=U.inMultiSelectMode,H=b.getDocumentPosition(),L=W.getCursor(),R=(L=b.inSelection()||W.isEmpty()&&v(H,L),b.x),Q=b.y,ae=U.session,ve=U.renderer.pixelToScreenCoordinates(R,Q),xe=ve;if(U.$mouseHandler.$enableJumpToDef)d&&u||f&&u?m=h?"block":"add":u&&U.$blockSelectEnabled&&(m="block");else if(f&&!u){if(m="add",!re&&h)return}else u&&U.$blockSelectEnabled&&(m="block");if(m&&F.isMac&&p.ctrlKey&&U.$mouseHandler.cancelContextMenu(),"add"==m)!re&&L||(re||(y=W.toOrientedRange(),U.addSelectionMarker(y)),S=W.rangeList.rangeAtPoint(H),U.inVirtualSelectionMode=!0,h&&(S=null,U.removeSelectionMarker(y=W.ranges[0]||y)),U.once("mouseup",function(){var Se=W.toOrientedRange();S&&Se.isEmpty()&&v(S.cursor,Se.cursor)?W.substractPoint(Se.cursor):(h?W.substractPoint(y.cursor):y&&(U.removeSelectionMarker(y),W.addRange(y)),W.addRange(Se)),U.inVirtualSelectionMode=!1}));else if("block"==m)return b.stop(),U.inVirtualSelectionMode=!0,E=[],w=function(){var Se=U.renderer.pixelToScreenCoordinates(R,Q),we=ae.screenToDocumentPosition(Se.row,Se.column,Se.offsetX);v(xe,Se)&&v(we,W.lead)||(xe=Se,U.selection.moveToPosition(we),U.renderer.scrollCursorIntoView(),U.removeSelectionMarkers(E),E=W.rectangularRangeBlock(xe,ve),U.$mouseHandler.$clickSelection&&1==E.length&&E[0].isEmpty()&&(E[0]=U.$mouseHandler.$clickSelection.clone()),E.forEach(U.addSelectionMarker,U),U.updateSelectionMarkers())},re&&!f?W.toSingleRange():!re&&f&&(V=W.toOrientedRange(),U.addSelectionMarker(V)),h?ve=ae.documentToScreenPosition(W.lead):W.moveToPosition(H),xe={row:-1,column:-1},B=w,N.capture(U.container,function(Se){R=Se.clientX,Q=Se.clientY},function(Se){w(),clearInterval(K),U.removeSelectionMarkers(E),E.length||(E=[W.toOrientedRange()]),V&&(U.removeSelectionMarker(V),W.toSingleRange(V));for(var we=0;we<E.length;we++)W.addRange(E[we]);U.inVirtualSelectionMode=!1,U.$mouseHandler.$clickSelection=null}),K=setInterval(function(){B()},20),b.preventDefault()}}else 0===k&&b.editor.inMultiSelectMode&&b.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(O,T,j){T.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(N){N.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(N){N.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(N){N.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(N){N.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(N){N.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(N){N.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(N){N.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(N){N.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(N){1<N.multiSelect.rangeCount?N.multiSelect.joinSelections():N.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(N){N.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(N){N.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(N){N.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],T.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(N){N.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(N){return N&&N.inMultiSelectMode}}],O=O("../keyboard/hash_handler").HashHandler,T.keyboardHandler=new O(T.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(O,T,j){var N=O("./range_list").RangeList,F=O("./range").Range,v=O("./selection").Selection,b=O("./mouse/multi_select_handler").onMouseDown,p=O("./lib/event"),u=O("./lib/lang"),h=O("./commands/multi_select_commands");T.commands=h.defaultCommands.concat(h.multiSelectCommands);var d=new(O("./search").Search),f=O("./edit_session").EditSession;function k(m){var y,S;function V(E){S&&(y.renderer.setMouseCursor(""),S=!1)}m.$multiselectOnSessionChange||(m.$onAddRange=m.$onAddRange.bind(m),m.$onRemoveRange=m.$onRemoveRange.bind(m),m.$onMultiSelect=m.$onMultiSelect.bind(m),m.$onSingleSelect=m.$onSingleSelect.bind(m),m.$multiselectOnSessionChange=T.onSessionChange.bind(m),m.$checkMultiselectChange=m.$checkMultiselectChange.bind(m),m.$multiselectOnSessionChange(m),m.on("changeSession",m.$multiselectOnSessionChange),m.on("mousedown",b),m.commands.addCommands(h.defaultCommands),(y=m).textInput&&(m=y.textInput.getElement(),S=!1,p.addListener(m,"keydown",function(E){E=18==E.keyCode&&!(E.ctrlKey||E.shiftKey||E.metaKey),y.$blockSelectEnabled&&E?S||(y.renderer.setMouseCursor("crosshair"),S=!0):S&&V()},y),p.addListener(m,"keyup",V,y),p.addListener(m,"blur",V,y)))}(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(f.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(m,y){if(m){if(!this.inMultiSelectMode&&0===this.rangeCount){var S=this.toOrientedRange();if(this.rangeList.add(S),this.rangeList.add(m),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),y||this.fromOrientedRange(m);this.rangeList.removeAll(),this.rangeList.add(S),this.$onAddRange(S)}return m.cursor||(m.cursor=m.end),S=this.rangeList.add(m),this.$onAddRange(m),S.length&&this.$onRemoveRange(S),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),y||this.fromOrientedRange(m)}},this.toSingleRange=function(m){m=m||this.ranges[0];var y=this.rangeList.removeAll();y.length&&this.$onRemoveRange(y),m&&this.fromOrientedRange(m)},this.substractPoint=function(m){if(m=this.rangeList.substractPoint(m))return this.$onRemoveRange(m),m[0]},this.mergeOverlappingRanges=function(){var m=this.rangeList.merge();m.length&&this.$onRemoveRange(m)},this.$onAddRange=function(m){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(m),this._signal("addRange",{range:m})},this.$onRemoveRange=function(m){var y;this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode&&(y=this.rangeList.ranges.pop(),m.push(y),this.rangeCount=0);for(var S=m.length;S--;){var V=this.ranges.indexOf(m[S]);this.ranges.splice(V,1)}this._signal("removeRange",{ranges:m}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(y=y||this.ranges[0])&&!y.isEqual(this.getRange())&&this.fromOrientedRange(y)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new N,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var m=this.ranges.length?this.ranges:[this.getRange()],y=[],S=0;S<m.length;S++){var V=m[S],E=V.start.row,w=V.end.row;if(E===w)y.push(V.clone());else{for(y.push(new F(E,V.start.column,E,this.session.getLine(E).length));++E<w;)y.push(this.getLineRange(E,!0));y.push(new F(w,0,w,V.end.column))}0!=S||this.isBackwards()||(y=y.reverse())}for(this.toSingleRange(),S=y.length;S--;)this.addRange(y[S])},this.joinSelections=function(){var m=(y=this.rangeList.ranges)[y.length-1],y=F.fromPoints(y[0].start,m.end);this.toSingleRange(),this.setSelectionRange(y,m.cursor==m.start)},this.toggleBlockSelection=function(){var m,y;1<this.rangeCount?(y=(m=this.rangeList.ranges)[m.length-1],m=F.fromPoints(m[0].start,y.end),this.toSingleRange(),this.setSelectionRange(m,y.cursor==y.start)):(m=this.session.documentToScreenPosition(this.cursor),y=this.session.documentToScreenPosition(this.anchor),this.rectangularRangeBlock(m,y).forEach(this.addRange,this))},this.rectangularRangeBlock=function(m,y,S){var V,E,w,B,K,U,W,re=[],H=m.column<y.column,L=(B=(H?(V=m.column,E=y.column,w=m.offsetX,y):(V=y.column,E=m.column,w=y.offsetX,m)).offsetX,m.row<y.row);U=(L?(K=m.row,y):(K=y.row,m)).row,V<0&&(V=0),(K=K<0?0:K)==U&&(S=!0);for(var R,Q,ae=K;ae<=U;ae++){var ve=F.fromPoints(this.session.screenToDocumentPosition(ae,V,w),this.session.screenToDocumentPosition(ae,E,B));if(ve.isEmpty()){if(W&&(R=ve.end).row==(Q=W).row&&R.column==Q.column)break;W=ve.end}ve.cursor=H?ve.start:ve.end,re.push(ve)}if(L&&re.reverse(),!S){for(var xe=re.length-1;re[xe].isEmpty()&&0<xe;)xe--;if(0<xe)for(var Se=0;re[Se].isEmpty();)Se++;for(var we=xe;Se<=we;we--)re[we].isEmpty()&&re.splice(we,1)}return re}}.call(v.prototype),f=O("./editor").Editor,function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(m){m.cursor||(m.cursor=m.end);var y=this.getSelectionStyle();return m.marker=this.session.addMarker(m,"ace_selection",y),this.session.$selectionMarkers.push(m),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,m},this.removeSelectionMarker=function(m){m.marker&&(this.session.removeMarker(m.marker),-1!=(m=this.session.$selectionMarkers.indexOf(m))&&this.session.$selectionMarkers.splice(m,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length)},this.removeSelectionMarkers=function(m){for(var y=this.session.$selectionMarkers,S=m.length;S--;){var V=m[S];V.marker&&(this.session.removeMarker(V.marker),-1!=(V=y.indexOf(V)))&&y.splice(V,1)}this.session.selectionMarkerCount=y.length},this.$onAddRange=function(m){this.addSelectionMarker(m.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(m){this.removeSelectionMarkers(m.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(m){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(m){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(m){var y,S=m.command,V=m.editor;if(V.multiSelect)return S.multiSelectAction?y="forEach"==S.multiSelectAction?V.forEachSelection(S,m.args):"forEachLine"==S.multiSelectAction?V.forEachSelection(S,m.args,!0):"single"==S.multiSelectAction?(V.exitMultiSelectMode(),S.exec(V,m.args||{})):S.multiSelectAction(V,m.args||{}):(y=S.exec(V,m.args||{}),V.multiSelect.addRange(V.multiSelect.toOrientedRange()),V.multiSelect.mergeOverlappingRanges()),y},this.forEachSelection=function(m,y,S){if(!this.inVirtualSelectionMode){var V,U=S&&S.keepOrder,E=1==S||S&&S.$byLines,w=this.session,B=(S=this.selection).rangeList,K=(U?S:B).ranges;if(!K.length)return m.exec?m.exec(this,y||{}):m(this,y||{});U=S._eventRegistry;var W=(S._eventRegistry={},new v(w));this.inVirtualSelectionMode=!0;for(var re=K.length;re--;){if(E)for(;0<re&&K[re].start.row==K[re-1].end.row;)re--;W.fromOrientedRange(K[re]),W.index=re,this.selection=w.selection=W;var H=m.exec?m.exec(this,y||{}):m(this,y||{});V||void 0===H||(V=H),W.toOrientedRange(K[re])}return W.detach(),this.selection=w.selection=S,this.inVirtualSelectionMode=!1,S._eventRegistry=U,S.mergeOverlappingRanges(),S.ranges[0]&&S.fromOrientedRange(S.ranges[0]),B=this.renderer.$scrollAnimation,this.onCursorChange(),this.onSelectionChange(),B&&B.from==B.to&&this.renderer.animateScrolling(B.from),V}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var m="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var y=this.multiSelect.rangeList.ranges,S=[],V=0;V<y.length;V++)S.push(this.session.getTextRange(y[V]));var E=this.session.getDocument().getNewLineCharacter();(m=S.join(E)).length==(S.length-1)*E.length&&(m="")}else this.selection.isEmpty()||(m=this.session.getTextRange(this.getSelectionRange()));return m},this.$checkMultiselectChange=function(m,y){var S;this.inMultiSelectMode&&!this.inVirtualSelectionMode&&(S=this.multiSelect.ranges[0],this.multiSelect.isEmpty()&&y==this.multiSelect.anchor||((S=y==this.multiSelect.anchor?S.cursor==S.start?S.end:S.start:S.cursor).row!=y.row||this.session.$clipPositionToDocument(S.row,S.column).column!=y.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()))},this.findAll=function(m,y,S){(y=y||{}).needle=m||y.needle,null==y.needle&&(V=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange(),y.needle=this.session.getTextRange(V)),this.$search.set(y);var V,E=this.$search.findAll(this.session);if(!E.length)return 0;var w=this.multiSelect;S||w.toSingleRange(E[0]);for(var B=E.length;B--;)w.addRange(E[B],!0);return V&&w.rangeList.rangeAtPoint(V.start)&&w.addRange(V,!0),E.length},this.selectMoreLines=function(m,y){var S,V,E,w=this.selection.toOrientedRange(),B=w.cursor==w.end,K=this.session.documentToScreenPosition(w.cursor),U=(this.selection.$desiredColumn&&(K.column=this.selection.$desiredColumn),this.session.screenToDocumentPosition(K.row+m,K.column));m=w.isEmpty()?U:(S=this.session.documentToScreenPosition(B?w.end:w.start),this.session.screenToDocumentPosition(S.row+m,S.column)),B?(V=F.fromPoints(U,m)).cursor=V.start:(V=F.fromPoints(m,U)).cursor=V.end,V.desiredColumn=K.column,this.selection.inMultiSelectMode?y&&(E=w.cursor):this.selection.addRange(w),this.selection.addRange(V),E&&this.selection.substractPoint(E)},this.transposeSelections=function(m){for(var y=this.session,S=y.multiSelect,V=S.ranges,E=V.length;E--;)(B=V[E]).isEmpty()&&(K=y.getWordRange(B.start.row,B.start.column),B.start.row=K.start.row,B.start.column=K.start.column,B.end.row=K.end.row,B.end.column=K.end.column);S.mergeOverlappingRanges();var w=[];for(E=V.length;E--;){var B=V[E];w.unshift(y.getTextRange(B))}for(m<0?w.unshift(w.pop()):w.push(w.shift()),E=V.length;E--;){var K=(B=V[E]).clone();y.replace(B,w[E]),B.start.row=K.start.row,B.start.column=K.start.column}S.fromOrientedRange(S.ranges[0])},this.selectMore=function(m,y,S){var V,E=this.session,w=E.multiSelect.toOrientedRange();w.isEmpty()&&((w=E.getWordRange(w.start.row,w.start.column)).cursor=-1==m?w.start:w.end,this.multiSelect.addRange(w),S)||(S=E.getTextRange(w),V=m,d.$options.wrap=!0,d.$options.needle=S,d.$options.backwards=-1==V,(S=d.find(E))&&(S.cursor=-1==m?S.start:S.end,this.session.unfold(S),this.multiSelect.addRange(S),this.renderer.scrollCursorIntoView(null,.5)),y&&this.multiSelect.substractPoint(w.cursor))},this.alignCursors=function(){var m=this.session,y=m.multiSelect,V=-1,E=(S=y.ranges).filter(function(R){if(R.cursor.row==V)return!0;V=R.cursor.row});if(S.length&&E.length!=S.length-1){E.forEach(function(R){y.substractPoint(R.cursor)});var w=0,B=1/0,K=S.map(function(Q){var ae=m.getLine((Q=Q.cursor).row).substr(Q.column).search(/\S/g);return Q.column>w&&(w=Q.column),(ae=-1==ae?0:ae)<B&&(B=ae),ae});S.forEach(function(R,xe){var ae=R.cursor,ve=w-ae.column;(xe=K[xe]-B)<ve?m.insert(ae,u.stringRepeat(" ",ve-xe)):m.remove(new F(ae.row,ae.column,ae.row,ae.column-ve+xe)),R.start.column=R.end.column=w,R.start.row=R.end.row=ae.row,R.cursor=R.end}),y.fromOrientedRange(S[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var S,U=(E=this.selection.getRange()).start.row,W=E.end.row;if(S=U==W){for(var re,H=this.session.getLength();re=this.session.getLine(W),/[=:]/.test(re)&&++W<H;);for(;re=this.session.getLine(U),/[=:]/.test(re)&&0<--U;);U<0&&(U=0),H<=W&&(W=H-1)}var L=this.session.removeFullLines(U,W);L=this.$reAlignText(L,S),this.session.insert({row:U,column:0},L.join("\n")+"\n"),S||(E.start.column=0,E.end.column=L[L.length-1].length),this.selection.setRange(E)}},this.$reAlignText=function(m,y){var S,V,E,w=!0,B=!0;return m.map(function(W){var re=W.match(/(\s*)(.*?)(\s*)([=:].*)/);return re?(null==S?(S=re[1].length,V=re[2].length,E=re[3].length):(S+V+E!=re[1].length+re[2].length+re[3].length&&(B=!1),S!=re[1].length&&(w=!1),S>re[1].length&&(S=re[1].length),V<re[2].length&&(V=re[2].length),E>re[3].length&&(E=re[3].length)),re):[W]}).map(y?U:w?B?function(W){return W[2]?K(S+V-W[2].length)+W[2]+K(E)+W[4].replace(/^([=:])\s+/,"$1 "):W[0]}:U:function(W){return W[2]?K(S)+W[2]+K(E)+W[4].replace(/^([=:])\s+/,"$1 "):W[0]});function K(W){return u.stringRepeat(" ",W)}function U(W){return W[2]?K(S)+W[2]+K(V-W[2].length+E)+W[4].replace(/^([=:])\s+/,"$1 "):W[0]}}}.call(f.prototype),T.onSessionChange=function(S){var y=S.session;y&&!y.multiSelect&&(y.$selectionMarkers=[],y.selection.$initRangeList(),y.multiSelect=y.selection),this.multiSelect=y&&y.multiSelect,(S=S.oldSession)&&(S.multiSelect.off("addRange",this.$onAddRange),S.multiSelect.off("removeRange",this.$onRemoveRange),S.multiSelect.off("multiSelect",this.$onMultiSelect),S.multiSelect.off("singleSelect",this.$onSingleSelect),S.multiSelect.lead.off("change",this.$checkMultiselectChange),S.multiSelect.anchor.off("change",this.$checkMultiselectChange)),y&&(y.multiSelect.on("addRange",this.$onAddRange),y.multiSelect.on("removeRange",this.$onRemoveRange),y.multiSelect.on("multiSelect",this.$onMultiSelect),y.multiSelect.on("singleSelect",this.$onSingleSelect),y.multiSelect.lead.on("change",this.$checkMultiselectChange),y.multiSelect.anchor.on("change",this.$checkMultiselectChange)),y&&this.inMultiSelectMode!=y.selection.inMultiSelectMode&&(y.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},T.MultiSelect=k,O("./config").defineOptions(f.prototype,"editor",{enableMultiselect:{set:function(m){k(this),m?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",b)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",b))},value:!0},enableBlockSelect:{set:function(m){this.$blockSelectEnabled=m},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(F,T,j){"use strict";var N=F("../../range").Range;F=T.FoldMode=function(){},function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(v,b,p){return v=v.getLine(p),this.foldingStartMarker.test(v)?"start":"markbeginend"==b&&this.foldingStopMarker&&this.foldingStopMarker.test(v)?"end":""},this.getFoldWidgetRange=function(v,b,p){return null},this.indentationBlock=function(v,b,p){var u=/\S/,d=(h=v.getLine(b)).search(u);if(-1!=d){p=p||h.length;for(var f,k=v.getLength(),h=b,m=b;++b<k;){var y=v.getLine(b).search(u);if(-1!=y){if(y<=d&&(!(y=v.getTokenAt(b,0))||"string"!==y.type))break;m=b}}return h<m?(f=v.getLine(m).length,new N(h,p,m,f)):void 0}},this.openingBracketBlock=function(v,b,p,u,h){if(u=v.$findClosingBracket(b,p={row:p,column:u+1},h))return"start"==(b=null==(b=v.foldWidgets[u.row])?v.getFoldWidget(u.row):b)&&u.row>p.row&&(u.row--,u.column=v.getLine(u.row).length),N.fromPoints(p,u)},this.closingBracketBlock=function(v,b,p,u,h){if(u=v.$findOpeningBracket(b,p={row:p,column:u}))return u.column++,p.column--,N.fromPoints(u,p)}}.call(F.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(O,T,j){"use strict";var N=O("../line_widgets").LineWidgets,F=O("../lib/dom"),v=O("../range").Range;T.showErrorMarker=function(p,S){var h,d=p.session,f=(d.widgetManager||(d.widgetManager=new N(d),d.widgetManager.attach(p)),p.getCursorPosition());if((V=d.widgetManager.getWidgetsAtRow(y=f.row).filter(function(E){return"errorMarker"==E.type})[0])?V.destroy():y-=S,y=function b(p,u,h){var d=p.getAnnotations().sort(v.comparePoints);if(d.length){var f=function(y,S,V){for(var E=0,w=y.length-1;E<=w;){var B=E+w>>1,K=V(S,y[B]);if(0<K)E=1+B;else{if(!(K<0))return B;w=B-1}}return-(E+1)}(d,{row:u,column:-1},v.comparePoints),k=((f=f<0?-f-1:f)>=d.length?f=0<h?0:d.length-1:0===f&&h<0&&(f=d.length-1),d[f]);if(k&&h){if(k.row===u){for(;(k=d[f+=h])&&k.row===u;);if(!k)return d.slice()}var m=[];for(u=k.row;m[h<0?"unshift":"push"](k),(k=d[f+=h])&&k.row==u;);return m.length&&m}}}(d,y,S))f.column=((S=y[0]).pos&&"number"!=typeof S.column?S.pos.sc:S.column)||0,f.row=S.row,h=p.renderer.$gutterLayer.$annotations[f.row];else{if(V)return;h={text:["Looks good!"],className:"ace_ok"}}function k(E,w,B){if(0===w&&("esc"===B||"return"===B))return m.destroy(),{command:"null"}}p.session.unfold(f.row),p.selection.moveToPosition(f);var m={row:f.row,fixedWidth:!0,coverGutter:!0,el:F.createElement("div"),type:"errorMarker"},y=m.el.appendChild(F.createElement("div")),V=((S=m.el.appendChild(F.createElement("div"))).className="error_widget_arrow "+h.className,p.renderer.$cursorLayer.getPixelPosition(f).left);S.style.left=V+p.renderer.gutterWidth-5+"px",m.el.className="error_widget_wrapper",y.className="error_widget "+h.className,y.innerHTML=h.text.join("<br>"),y.appendChild(F.createElement("div")),m.destroy=function(){p.$mouseHandler.isMousePressed||(p.keyBinding.removeKeyboardHandler(k),d.widgetManager.removeLineWidget(m),p.off("changeSelection",m.destroy),p.off("changeSession",m.destroy),p.off("mouseup",m.destroy),p.off("change",m.destroy))},p.keyBinding.addKeyboardHandler(k),p.on("changeSelection",m.destroy),p.on("changeSession",m.destroy),p.on("mouseup",m.destroy),p.on("change",m.destroy),p.session.widgetManager.addLineWidget(m),m.el.onmousedown=p.focus.bind(p),p.renderer.scrollCursorIntoView(null,.5,{bottom:m.el.offsetHeight})},F.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(O,T,j){"use strict";O("./loader_build")(T);var N=O("./lib/dom"),F=O("./lib/event"),v=O("./range").Range,b=O("./editor").Editor,p=O("./edit_session").EditSession,u=O("./undomanager").UndoManager,h=O("./virtual_renderer").VirtualRenderer;O("./worker/worker_client"),O("./keyboard/hash_handler"),O("./placeholder"),O("./multi_select"),O("./mode/folding/fold_mode"),O("./theme/textmate"),O("./ext/error_marker"),T.config=O("./config"),T.edit=function(d,f){if("string"==typeof d){var k=d;if(!(d=document.getElementById(k)))throw new Error("ace.edit can't find div #"+k)}var m,y;return d&&d.env&&d.env.editor instanceof b?d.env.editor:(k="",d&&/input|textarea/i.test(d.tagName)?(k=(m=d).value,d=N.createElement("pre"),m.parentNode.replaceChild(d,m)):d&&(k=d.textContent,d.innerHTML=""),k=T.createEditSession(k),d=new b(new h(d),k,f),y={document:k,editor:d,onResize:d.resize.bind(d,null)},m&&(y.textarea=m),F.addListener(window,"resize",y.onResize),d.on("destroy",function(){F.removeListener(window,"resize",y.onResize),y.editor.container.env=null}),d.container.env=d.env=y,d)},T.createEditSession=function(d,f){return(d=new p(d,f)).setUndoManager(new u),d},T.Range=v,T.Editor=b,T.EditSession=p,T.UndoManager=u,T.VirtualRenderer=h,T.version=T.config.version}),ace.require(["ace/ace"],function(O){for(var T in O&&(O.config.init(!0),O.define=ace.define),window.ace||(window.ace=O),O)O.hasOwnProperty(T)&&(window.ace[T]=O[T]);window.ace.default=window.ace,je&&(je.exports=window.ace)})},4317:function(je,M,ue){je=ue.nmd(je),ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(Ae,z,oe){"use strict";var h=Ae("./lib/dom"),be=Ae("./lib/oop"),fe=Ae("./lib/event_emitter").EventEmitter,ye=Ae("./lib/lang"),ce=Ae("./range").Range,J=Ae("./range_list").RangeList,O=Ae("./keyboard/hash_handler").HashHandler,T=Ae("./tokenizer").Tokenizer,j=Ae("./clipboard"),N={CURRENT_WORD:function(d){return d.session.getTextRange(d.session.getWordRange())},SELECTION:function(d,f,k){return d=d.session.getTextRange(),k?d.replace(/\n\r?([ \t]*\S)/g,"\n"+k+"$1"):d},CURRENT_LINE:function(d){return d.session.getLine(d.getCursorPosition().row)},PREV_LINE:function(d){return d.session.getLine(d.getCursorPosition().row-1)},LINE_INDEX:function(d){return d.getCursorPosition().row},LINE_NUMBER:function(d){return d.getCursorPosition().row+1},SOFT_TABS:function(d){return d.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(d){return d.session.getTabSize()},CLIPBOARD:function(d){return j.getText&&j.getText()},FILENAME:function(d){return/[^/\\]*$/.exec(this.FILEPATH(d))[0]},FILENAME_BASE:function(d){return/[^/\\]*$/.exec(this.FILEPATH(d))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(d){return this.FILEPATH(d).replace(/[^/\\]*$/,"")},FILEPATH:function(d){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(d){return(d=d.session.$mode||{}).blockComment&&d.blockComment.start||""},BLOCK_COMMENT_END:function(d){return(d=d.session.$mode||{}).blockComment&&d.blockComment.end||""},LINE_COMMENT:function(d){return(d.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:F.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:F.bind(null,{year:"2-digit"}),CURRENT_MONTH:F.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:F.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:F.bind(null,{month:"short"}),CURRENT_DATE:F.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:F.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:F.bind(null,{weekday:"short"}),CURRENT_HOUR:F.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:F.bind(null,{minute:"2-digit"}),CURRENT_SECOND:F.bind(null,{second:"2-digit"})};function F(d){return 1==(d=(new Date).toLocaleString("en-us",d)).length?"0"+d:d}function v(){this.snippetMap={},this.snippetNameMap={}}N.SELECTED_TEXT=N.SELECTION,function(){be.implement(this,fe),this.getTokenizer=function(){return v.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function d(m){return m=m.substr(1),/^\d+$/.test(m)?[{tabstopId:parseInt(m,10)}]:[{text:m}]}function f(m){return"(?:[^\\\\"+m+"]|\\\\.)"}var k={regex:"/("+f("/")+"+)/",onMatch:function(m,y,S){return(S=S[0]).fmtString=!0,S.guard=m.slice(1,-1),S.flag=""},next:"formatString"};return v.$tokenizer=new T({start:[{regex:/\\./,onMatch:function(m,y,S){var V=m[1];return[m="}"==V&&S.length||-1!="`$\\".indexOf(V)?V:m]}},{regex:/}/,onMatch:function(m,y,S){return[S.length?S.shift():m]}},{regex:/\$(?:\d+|\w+)/,onMatch:d},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(m,y,S){return m=d(m.substr(1)),S.unshift(m[0]),m},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+f("\\|")+"*\\|",onMatch:function(m,y,S){return m=m.slice(1,-1).replace(/\\[,|\\]|,/g,function(V){return 2==V.length?V[1]:"\0"}).split("\0").map(function(V){return{value:V}}),[(S[0].choices=m)[0]]},next:"start"},k,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(m,y,S){return S.length&&S[0].expectElse?(S[0].expectElse=!1,S[0].ifEnd={elseEnd:S[0]},[S[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(m,y,S){var V=m[1];return"}"==V&&S.length||-1!="`$\\".indexOf(V)?m=V:"n"==V?m="\n":"t"==V?m="\t":-1!="ulULE".indexOf(V)&&(m={changeCase:V,local:"a"<V}),[m]}},{regex:"/\\w*}",onMatch:function(m,y,S){return(S=S.shift())&&(S.flag=m.slice(1,-1)),this.next=S&&S.tabstopId?"start":"",[S||m]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(m,y,S){return[{text:m.slice(1)}]}},{regex:/\${\w+/,onMatch:function(m,y,S){return m={text:m.slice(2)},S.unshift(m),[m]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(m,y,S){return S=S.shift(),this.next=S&&S.tabstopId?"start":"",[S||m]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(m,y,S){return S[0].formatFunction=m.slice(2,-1),[S.shift()]},next:"formatString"},k,{regex:/:[\?\-+]?/,onMatch:function(m,y,S){"+"==m[1]&&(S[0].ifEnd=S[0]),"?"==m[1]&&(S[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]})},this.tokenizeTmSnippet=function(d,f){return this.getTokenizer().getLineTokens(d,f).tokens.map(function(k){return k.value||k})},this.getVariableValue=function(d,f,k){var m;return/^\d+$/.test(f)?(this.variables.__||{})[f]||"":/^[A-Z]\d+$/.test(f)?(this.variables[f[0]+"__"]||{})[f.substr(1)]||"":(f=f.replace(/^TM_/,""),this.variables.hasOwnProperty(f)&&null!=(m="function"==typeof(m=this.variables[f])?this.variables[f](d,f,k):m)?m:"")},this.variables=N,this.tmStrFormat=function(d,f,k){var y,S,V;return f.fmt?(y=f.guard,y=new RegExp(y,(f.flag||"").replace(/[^gim]/g,"")),S="string"==typeof f.fmt?this.tokenizeTmSnippet(f.fmt,"formatString"):f.fmt,V=this,d.replace(y,function(){for(var E=V.variables.__,w=(V.variables.__=[].slice.call(arguments),V.resolveVariables(S,k)),B="E",K=0;K<w.length;K++){var U,W=w[K];"object"==typeof W?(w[K]="",W.changeCase&&W.local?(U=w[K+1])&&"string"==typeof U&&(w[K]="u"==W.changeCase?U[0].toUpperCase():U[0].toLowerCase(),w[K+1]=U.substr(1)):W.changeCase&&(B=W.changeCase)):"U"==B?w[K]=W.toUpperCase():"L"==B&&(w[K]=W.toLowerCase())}return V.variables.__=E,w.join("")})):d},this.tmFormatFunction=function(d,f,k){return"upcase"==f.formatFunction?d.toUpperCase():"downcase"==f.formatFunction?d.toLowerCase():d},this.resolveVariables=function(d,f){for(var k=[],m="",y=!0,S=0;S<d.length;S++){var V,E=d[S];"string"==typeof E?(k.push(E),"\n"==E?(y=!0,m=""):y&&(m=/^\t*/.exec(E)[0],y=/\S/.test(E))):E&&(y=!1,E.fmtString&&(-1==(V=d.indexOf(E,S+1))&&(V=d.length),E.fmt=d.slice(S+1,V),S=V),E.text?(V=this.getVariableValue(f,E.text,m)+"",E.fmtString&&(V=this.tmStrFormat(V,E,f)),(V=E.formatFunction?this.tmFormatFunction(V,E,f):V)&&!E.ifEnd?(k.push(V),w(E)):!V&&E.ifEnd&&w(E.ifEnd)):E.elseEnd?w(E.elseEnd):null==E.tabstopId&&null==E.changeCase||k.push(E))}function w(B){-1!=(B=d.indexOf(B,S+1))&&(S=B)}return k},this.insertSnippetForSelection=function(d,Q){for(var R=d.getCursorPosition(),L=d.session.getLine(R.row),k=d.session.getTabString(),m=L.match(/^\s*/)[0],y=(R.column<m.length&&(m=m.slice(0,R.column)),Q=Q.replace(/\r/g,""),this.tokenizeTmSnippet(Q)),S=(y=(y=this.resolveVariables(y,d)).map(function(ve){return"\n"==ve?ve+m:"string"==typeof ve?ve.replace(/\t/g,k):ve}),[]),V=(y.forEach(function(ve,xe){var Se,we,Ge;"object"==typeof ve&&((Se=S[Ge=ve.tabstopId])||((Se=S[Ge]=[]).index=Ge,Se.value="",Se.parents={}),-1===Se.indexOf(ve))&&(ve.choices&&!Se.choices&&(Se.choices=ve.choices),Se.push(ve),-1!==(we=y.indexOf(ve,xe+1)))&&((Ge=y.slice(xe+1,we)).some(function(Ie){return"object"==typeof Ie})&&!Se.value?Se.value=Ge:!Ge.length||Se.value&&"string"==typeof Se.value||(Se.value=Ge.join("")))}),S.forEach(function(ve){ve.length=0}),{}),E=0;E<y.length;E++){var w,B,K,U=y[E];"object"==typeof U&&(w=S[K=U.tabstopId],B=y.indexOf(U,E+1),V[K]?V[K]===U&&(delete V[K],Object.keys(V).forEach(function(ve){w.parents[ve]=!0})):(V[K]=U,"string"!=typeof(K=w.value)?K=function(ve){for(var xe=[],Se=0;Se<ve.length;Se++){if("object"==typeof(we=ve[Se])){if(V[we.tabstopId])continue;var we=xe[ve.lastIndexOf(we,Se-1)]||{tabstopId:we.tabstopId}}xe[Se]=we}return xe}(K):U.fmt&&(K=this.tmStrFormat(K,U,d)),y.splice.apply(y,[E+1,Math.max(0,B-E)].concat(K,U)),-1===w.indexOf(U)&&w.push(U)))}var W=0,re=0,H="";y.forEach(function(ve){var xe;"string"==typeof ve?(1<(xe=ve.split("\n")).length?(re=xe[xe.length-1].length,W+=xe.length-1):re+=ve.length,H+=ve):ve&&(ve.start?ve.end={row:W,column:re}:ve.start={row:W,column:re})}),L=d.getSelectionRange(),R=d.session.replace(L,H),(Q=new b(d)).addTabstops(S,L.start,R,d.inVirtualSelectionMode&&d.selection.index)},this.insertSnippet=function(d,f){var k=this;if(d.inVirtualSelectionMode)return k.insertSnippetForSelection(d,f);d.forEachSelection(function(){k.insertSnippetForSelection(d,f)},null,{keepOrder:!0}),d.tabstopManager&&d.tabstopManager.tabNext()},this.$getScope=function(d){var f,k=d.session.$mode.$id||"";return"html"!==(k=k.split("/").pop())&&"php"!==k||("php"!==k||d.session.$mode.inlinePhp||(k="html"),f=d.getCursorPosition(),(d="object"==typeof(d=d.session.getState(f.row))?d[0]:d).substring&&("js-"==d.substring(0,3)?k="javascript":"css-"==d.substring(0,4)?k="css":"php-"==d.substring(0,4)&&(k="php"))),k},this.getActiveScopes=function(f){var k=[f=this.$getScope(f)],m=this.snippetMap;return m[f]&&m[f].includeScopes&&k.push.apply(k,m[f].includeScopes),k.push("_"),k},this.expandWithTab=function(d,f){var k=this,m=d.forEachSelection(function(){return k.expandSnippetForSelection(d,f)},null,{keepOrder:!0});return m&&d.tabstopManager&&d.tabstopManager.tabNext(),m},this.expandSnippetForSelection=function(d,f){var k,m=d.getCursorPosition(),y=d.session.getLine(m.row),S=y.substring(0,m.column),V=y.substr(m.column),E=this.snippetMap;return this.getActiveScopes(d).some(function(w){return!!(k=(w=E[w])?this.findMatchingSnippet(w,S,V):k)},this),!!k&&(f&&f.dryRun||(d.session.doc.removeInLine(m.row,m.column-k.replaceBefore.length,m.column+k.replaceAfter.length),this.variables.M__=k.matchBefore,this.variables.T__=k.matchAfter,this.insertSnippetForSelection(d,k.content),this.variables.M__=this.variables.T__=null),!0)},this.findMatchingSnippet=function(d,f,k){for(var m=d.length;m--;){var y=d[m];if((!y.startRe||y.startRe.test(f))&&(!y.endRe||y.endRe.test(k))&&(y.startRe||y.endRe))return y.matchBefore=y.startRe?y.startRe.exec(f):[""],y.matchAfter=y.endRe?y.endRe.exec(k):[""],y.replaceBefore=y.triggerRe?y.triggerRe.exec(f)[0]:"",y.replaceAfter=y.endTriggerRe?y.endTriggerRe.exec(k)[0]:"",y}},this.snippetMap={},this.snippetNameMap={},this.register=function(d,f){var k=this.snippetMap,m=this.snippetNameMap,y=this;function S(w){return(w=w&&!/^\^?\(.*\)\$?$|^\\b$/.test(w)?"(?:"+w+")":w)||""}function V(w,B,K){return w=S(w),B=S(B),K?(w=B+w)&&"$"!=w[w.length-1]&&(w+="$"):(w+=B)&&"^"!=w[0]&&(w="^"+w),new RegExp(w)}function E(w){w.scope||(w.scope=f||"_"),k[f=w.scope]||(k[f]=[],m[f]={});var B,K=m[f];w.name&&((B=K[w.name])&&y.unregister(B),K[w.name]=w),k[f].push(w),w.prefix&&(w.tabTrigger=w.prefix),!w.content&&w.body&&(w.content=Array.isArray(w.body)?w.body.join("\n"):w.body),w.tabTrigger&&!w.trigger&&(!w.guard&&/^\w/.test(w.tabTrigger)&&(w.guard="\\b"),w.trigger=ye.escapeRegExp(w.tabTrigger)),(w.trigger||w.guard||w.endTrigger||w.endGuard)&&(w.startRe=V(w.trigger,w.guard,!0),w.triggerRe=new RegExp(w.trigger),w.endRe=V(w.endTrigger,w.endGuard,!0),w.endTriggerRe=new RegExp(w.endTrigger))}d=d||[],Array.isArray(d)?d.forEach(E):Object.keys(d).forEach(function(w){E(d[w])}),this._signal("registerSnippets",{scope:f})},this.unregister=function(d,f){var k=this.snippetMap,m=this.snippetNameMap;function y(S){var V=m[S.scope||f];V&&V[S.name]&&(delete V[S.name],0<=(S=(V=k[S.scope||f])&&V.indexOf(S)))&&V.splice(S,1)}d.content?y(d):Array.isArray(d)&&d.forEach(y)},this.parseSnippetFile=function(d){d=d.replace(/\r/g,"");for(var f,k,m,y=[],S={},V=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;k=V.exec(d);){if(k[1])try{S=JSON.parse(k[1]),y.push(S)}catch{}k[4]?(S.content=k[4].replace(/^\t/gm,""),y.push(S),S={}):(f=k[2],k=k[3],"regex"==f?(S.guard=(m=/\/((?:[^\/\\]|\\.)*)|$/g).exec(k)[1],S.trigger=m.exec(k)[1],S.endTrigger=m.exec(k)[1],S.endGuard=m.exec(k)[1]):"snippet"==f?(S.tabTrigger=k.match(/^\S*/)[0],S.name||(S.name=k)):f&&(S[f]=k))}return y},this.getSnippetByName=function(d,f){var k,m=this.snippetNameMap;return this.getActiveScopes(f).some(function(y){return!!(k=(y=m[y])?y[d]:k)},this),k}}.call(v.prototype);var b=function(d){if(d.tabstopManager)return d.tabstopManager;(d.tabstopManager=this).$onChange=this.onChange.bind(this),this.$onChangeSelection=ye.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(d)},p=(function(){this.attach=function(d){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=d,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(d){for(var f="r"==d.action[0],k=this.selectedTabstop||{},m=k.parents||{},y=(this.tabstops||[]).slice(),S=0;S<y.length;S++){var V=y[S];if(V.rangeList.$bias=(E=V==k||m[V.index])?0:1,"remove"==d.action&&V!==k)for(var w=(w=V.rangeList.pointIndex(d.start,E=V.parents&&V.parents[k.index]))<0?-w-1:w+1,E=V.rangeList.pointIndex(d.end,E),B=V.rangeList.ranges.slice(w,E<0?-E-1:E-1),K=0;K<B.length;K++)this.removeRange(B[K]);V.rangeList.$onChange(d)}var U=this.editor.session;this.$inChange||!f||1!=U.getLength()||U.getValue()||this.detach()},this.updateLinkedFields=function(){var d=this.selectedTabstop;if(d&&d.hasLinkedRanges&&d.firstNonLinked){this.$inChange=!0;for(var f=this.editor.session,k=f.getTextRange(d.firstNonLinked),m=0;m<d.length;m++){var y,S=d[m];S.linked&&(y=z.snippetManager.tmStrFormat(k,y=S.original,this.editor),f.replace(S,y))}this.$inChange=!1}},this.onAfterExec=function(d){d.command&&!d.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var d=this.editor.selection.lead,f=this.editor.selection.anchor,k=this.editor.selection.isEmpty(),m=0;m<this.ranges.length;m++)if(!this.ranges[m].linked){var y=this.ranges[m].contains(d.row,d.column),S=k||this.ranges[m].contains(f.row,f.column);if(y&&S)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(k){var f=this.tabstops.length;k=this.index+(k||1),k=Math.min(Math.max(k,1),f),this.selectTabstop(k=k==f?0:k),0===k&&this.detach()},this.selectTabstop=function(d){this.$openTabstops=null;var f=this.tabstops[this.index];if(f&&this.addTabstopMarkers(f),this.index=d,(f=this.tabstops[this.index])&&f.length){if(d=(this.selectedTabstop=f).firstNonLinked||f,f.choices&&(d.cursor=d.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(d);else{var k=this.editor.multiSelect;k.toSingleRange(d);for(var m=0;m<f.length;m++)f.hasLinkedRanges&&f[m].linked||k.addRange(f[m].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(d,f,k){var m=this.useLink||!this.editor.getOption("enableMultiselect");this.$openTabstops||(this.$openTabstops=[]),d[0]||(k=ce.fromPoints(k,k),u(k.start,f),u(k.end,f),d[0]=[k],d[0].index=0);var y=[this.index+1,0],S=this.ranges;d.forEach(function(V,E){for(var w=this.$openTabstops[E]||V,B=0;B<V.length;B++){var K=V[B],U=ce.fromPoints(K.start,K.end||K.start);p(U.start,f),p(U.end,f),U.original=K,U.tabstop=w,S.push(U),w!=V?w.unshift(U):w[B]=U,K.fmtString||w.firstNonLinked&&m?(U.linked=!0,w.hasLinkedRanges=!0):w.firstNonLinked||(w.firstNonLinked=U)}w.firstNonLinked||(w.hasLinkedRanges=!1),w===V&&(y.push(w),this.$openTabstops[E]=w),this.addTabstopMarkers(w),w.rangeList=w.rangeList||new J,w.rangeList.$bias=0,w.rangeList.addList(w)},this),2<y.length&&(this.tabstops.length&&y.push(y.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,y))},this.addTabstopMarkers=function(d){var f=this.editor.session;d.forEach(function(k){k.markerId||(k.markerId=f.addMarker(k,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(d){var f=this.editor.session;d.forEach(function(k){f.removeMarker(k.markerId),k.markerId=null})},this.removeRange=function(d){var f=d.tabstop.indexOf(d);-1!=f&&d.tabstop.splice(f,1),-1!=(f=this.ranges.indexOf(d))&&this.ranges.splice(f,1),-1!=(f=d.tabstop.rangeList.ranges.indexOf(d))&&d.tabstop.splice(f,1),this.editor.session.removeMarker(d.markerId),d.tabstop.length||(-1!=(f=this.tabstops.indexOf(d.tabstop))&&this.tabstops.splice(f,1),this.tabstops.length)||this.detach()},this.keyboardHandler=new O,this.keyboardHandler.bindKeys({Tab:function(d){z.snippetManager&&z.snippetManager.expandWithTab(d)||(d.tabstopManager.tabNext(1),d.renderer.scrollCursorIntoView())},"Shift-Tab":function(d){d.tabstopManager.tabNext(-1),d.renderer.scrollCursorIntoView()},Esc:function(d){d.tabstopManager.detach()}})}.call(b.prototype),function(d,f){0==d.row&&(d.column+=f.column),d.row+=f.row}),u=function(d,f){d.row==f.row&&(d.column-=f.column),d.row-=f.row};h.importCssString("\n.ace_snippet-marker {\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    background: rgba(194, 193, 208, 0.09);\n    border: 1px dotted rgba(211, 208, 235, 0.62);\n    position: absolute;\n}","snippets.css",!1),z.snippetManager=new v,h=Ae("./editor").Editor,function(){this.insertSnippet=function(d,f){return z.snippetManager.insertSnippet(this,d,f)},this.expandSnippet=function(d){return z.snippetManager.expandWithTab(this,d)}}.call(h.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(Ae,z,oe){"use strict";function be(N){return"suggest-aria-id:".concat(N)}function fe(N){return(N=new ye(N)).$maxLines=4,(N=new ce(N)).setHighlightActiveLine(!1),N.setShowPrintMargin(!1),N.renderer.setShowGutter(!1),N.renderer.setHighlightGutterLine(!1),N.$mouseHandler.$focusTimeout=0,N.$highlightTagPending=!0,N}var ye=Ae("../virtual_renderer").VirtualRenderer,ce=Ae("../editor").Editor,J=Ae("../range").Range,O=Ae("../lib/event"),T=Ae("../lib/lang"),j=Ae("../lib/dom");j.importCssString("\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #CAD6FA;\n    z-index: 1;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #3a674e;\n}\n.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid #abbffe;\n    margin-top: -1px;\n    background: rgba(233,233,253,0.4);\n    position: absolute;\n    z-index: 2;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid rgba(109, 150, 13, 0.8);\n    background: rgba(58, 103, 78, 0.62);\n}\n.ace_completion-meta {\n    opacity: 0.5;\n    margin: 0.9em;\n}\n.ace_completion-message {\n    color: blue;\n}\n.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #2d69c7;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #93ca12;\n}\n.ace_editor.ace_autocomplete {\n    width: 300px;\n    z-index: 200000;\n    border: 1px lightgray solid;\n    position: fixed;\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n    line-height: 1.4;\n    background: #fefefe;\n    color: #111;\n}\n.ace_dark.ace_editor.ace_autocomplete {\n    border: 1px #484747 solid;\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\n    line-height: 1.4;\n    background: #25282c;\n    color: #c1c1c1;\n}","autocompletion.css",!1),z.AcePopup=function(k){function F(){}function v(){f(-1)}var b,p=j.createElement("div"),u=new fe(p),h=(k&&k.appendChild(p),p.style.display="none",u.renderer.content.style.cursor="default",u.renderer.setStyle("ace_autocomplete"),u.renderer.container.setAttribute("role","listbox"),u.renderer.container.setAttribute("aria-label","Autocomplete suggestions"),u.setOption("displayIndentGuides",!1),u.setOption("dragDelay",150),u.focus=F,u.$isFocused=!0,u.renderer.$cursorLayer.restartTimer=F,u.renderer.$cursorLayer.element.style.opacity=0,u.renderer.$maxLines=8,u.renderer.$keepTextAreaAtCursor=!1,u.setHighlightActiveLine(!1),u.session.highlight(""),u.session.$searchHighlight.clazz="ace_highlight-marker",u.on("mousedown",function(m){var y=m.getDocumentPosition();u.selection.moveToPosition(y),d.start.row=d.end.row=y.row,m.stop()}),new J(-1,0,-1,1/0)),d=new J(-1,0,-1,1/0),f=(d.id=u.session.addMarker(d,"ace_active-line","fullLine"),u.setSelectOnHover=function(m){m?h.id&&(u.session.removeMarker(h.id),h.id=null):h.id=u.session.addMarker(h,"ace_line-hover","fullLine")},u.setSelectOnHover(!1),u.on("mousemove",function(m){var y;b?b.x==m.x&&b.y==m.y||((b=m).scrollTop=u.renderer.scrollTop,y=b.getDocumentPosition().row,h.start.row!=y&&(h.id||u.setRow(y),f(y))):b=m}),u.renderer.on("beforeRender",function(){var m;b&&-1!=h.start.row&&(b.$pos=null,m=b.getDocumentPosition().row,h.id||u.setRow(m),f(m,!0))}),u.renderer.on("afterRender",function(){var m=u.getRow(),y=u.renderer.$textLayer,S=y.element.childNodes[m-y.config.firstRow],V=document.activeElement;S!==y.selectedNode&&y.selectedNode&&(j.removeCssClass(y.selectedNode,"ace_selected"),V.removeAttribute("aria-activedescendant"),y.selectedNode.removeAttribute("id")),(y.selectedNode=S)&&(j.addCssClass(S,"ace_selected"),y=be(m),S.id=y,u.renderer.container.setAttribute("aria-activedescendant",y),V.setAttribute("aria-activedescendant",y),S.setAttribute("role","option"),S.setAttribute("aria-label",u.getData(m).value),S.setAttribute("aria-setsize",u.data.length),S.setAttribute("aria-posinset",m))}),function(m,y){m!==h.start.row&&(h.start.row=h.end.row=m,y||u.session._emit("changeBackMarker"),u._emit("changeHoverMarker"))});return(u.getHoveredRow=function(){return h.start.row},O.addListener(u.container,"mouseout",v),u.on("hide",v),u.on("changeSelection",v),u.session.doc.getLength=function(){return u.data.length},u.session.doc.getLine=function(m){return"string"==typeof(m=u.data[m])?m:m&&m.value||""},k=u.session.bgTokenizer).$tokenizeRow=function(m){var y=u.data[m],S=[];if(y){for(var V,E,w=(y="string"==typeof y?{value:y}:y).caption||y.value||y.name,B=w.toLowerCase(),K=(u.filterText||"").toLowerCase(),U=0,W=0,re=0;re<=K.length;re++)re!=W&&(y.matchMask&1<<re||re==K.length)&&(V=K.slice(W,re),W=re,-1!=(E=B.indexOf(V,U)))&&(H(w.slice(U,E),""),H(w.slice(E,U=E+V.length),"completion-highlight"));H(w.slice(U,w.length),""),y.meta&&S.push({type:"completion-meta",value:y.meta}),y.message&&S.push({type:"completion-message",value:y.message})}return S;function H(L,R){L&&S.push({type:(y.className||"")+(R||""),value:L})}},k.$updateOnChange=F,k.start=F,u.session.$computeWidth=function(){return this.screenWidth=0},u.isOpen=!1,u.isTopdown=!1,u.autoSelect=!0,u.filterText="",u.data=[],u.setData=function(m,y){u.filterText=y||"",u.setValue(T.stringRepeat("\n",m.length),-1),u.data=m||[],u.setRow(0)},u.getData=function(m){return u.data[m]},u.getRow=function(){return d.start.row},u.setRow=function(m){m=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,m)),d.start.row!=m&&(u.selection.clearSelection(),d.start.row=d.end.row=m||0,u.session._emit("changeBackMarker"),u.moveCursorTo(m||0,0),u.isOpen)&&u._signal("select")},u.on("changeSelection",function(){u.isOpen&&u.setRow(u.selection.lead.row),u.renderer.scrollCursorIntoView()}),u.hide=function(){this.container.style.display="none",this._signal("hide"),u.isOpen=!1},u.show=function(m,y,W){var V=this.container,E=window.innerHeight,w=window.innerWidth,B=this.renderer,U=m.top+this.$borderSize;E/2<U&&!W&&E<U+y+B.$maxLines*y*1.4?(B.$maxPixelHeight=U-2*this.$borderSize,V.style.top="",V.style.bottom=E-U+"px",u.isTopdown=!1):(B.$maxPixelHeight=E-(U+=y)-.2*y,V.style.top=U+"px",V.style.bottom="",u.isTopdown=!0),V.style.display="",(W=m.left)+V.offsetWidth>w&&(W=w-V.offsetWidth),V.style.left=W+"px",this._signal("show"),b=null,u.isOpen=!0},u.goTo=function(m){var y=this.getRow(),S=this.session.getLength()-1;switch(m){case"up":y=y<=0?S:y-1;break;case"down":y=S<=y?-1:y+1;break;case"start":y=0;break;case"end":y=S}this.setRow(y)},u.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},u.$imageSize=0,u.$borderSize=1,u},z.$singleLineEditor=fe,z.getAriaId=be}),ace.define("ace/autocomplete/util",["require","exports","module"],function(Ae,z,oe){"use strict";z.parForEach=function(fe,ye,ce){var J=0,O=fe.length;0===O&&ce();for(var T=0;T<O;T++)ye(fe[T],function(j,N){++J===O&&ce(j,N)})};var be=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;z.retrievePrecedingIdentifier=function(fe,ye,ce){ce=ce||be;for(var J=[],O=ye-1;0<=O&&ce.test(fe[O]);O--)J.push(fe[O]);return J.reverse().join("")},z.retrieveFollowingIdentifier=function(fe,ye,ce){ce=ce||be;for(var J=[],O=ye;O<fe.length&&ce.test(fe[O]);O++)J.push(fe[O]);return J},z.getCompletionPrefix=function(fe){var ye,ce=fe.getCursorPosition(),J=fe.session.getLine(ce.row);return fe.completers.forEach(function(O){O.identifierRegexps&&O.identifierRegexps.forEach(function(T){!ye&&T&&(ye=this.retrievePrecedingIdentifier(J,ce.column,T))}.bind(this))}.bind(this)),ye||this.retrievePrecedingIdentifier(J,ce.column)}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(Ae,z,oe){"use strict";function be(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new fe,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=O.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=O.delayedCall(this.updateDocTooltip.bind(this),50)}var fe=Ae("./keyboard/hash_handler").HashHandler,ye=Ae("./autocomplete/popup").AcePopup,ce=Ae("./autocomplete/popup").getAriaId,J=Ae("./autocomplete/util"),O=Ae("./lib/lang"),T=Ae("./lib/dom"),j=Ae("./snippets").snippetManager,N=Ae("./config"),F=(function(){this.$init=function(){return this.popup=new ye(document.body||document.documentElement),this.popup.on("click",function(v){this.insertMatch(),v.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(v,b,p){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:ce(this.popup.getRow())}),v.keyBinding.addKeyboardHandler(this.keyboardHandler);var u,h=v.renderer;this.popup.setRow(this.autoSelect?0:-1),p?b||this.detach():(this.popup.setTheme(v.getTheme()),this.popup.setFontSize(v.getFontSize()),p=h.layerConfig.lineHeight,(b=h.$cursorLayer.getPixelPosition(this.base,!0)).left-=this.popup.getTextLeftOffset(),u=v.container.getBoundingClientRect(),b.top+=u.top-h.layerConfig.offset,b.left+=u.left-v.renderer.scrollLeft,b.left+=h.gutterWidth,this.popup.show(b,p)),this.changeTimer.cancel()},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(v){var b=this.editor.selection.lead;(b.row!=this.base.row||b.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(v){var b=document.activeElement,p=this.editor.textInput.getElement(),u=v.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(v.relatedTarget);b==p||b.parentNode==(this.popup&&this.popup.container)||u||b==this.tooltipNode||v.relatedTarget==p||this.detach()},this.mousedownListener=function(v){this.detach()},this.mousewheelListener=function(v){this.detach()},this.goTo=function(v){this.popup.goTo(v)},this.insertMatch=function(v,b){if(!(v=v||this.popup.getData(this.popup.getRow())))return!1;var p=this.completions;if(this.editor.startOperation({command:{name:"insertMatch"}}),v.completer&&v.completer.insertMatch)v.completer.insertMatch(this.editor,v);else{if(!p)return!1;if(p.filterText)for(var u,h=this.editor.selection.getAllRanges(),d=0;u=h[d];d++)u.start.column-=p.filterText.length,this.editor.session.remove(u);v.snippet?j.insertSnippet(this.editor,v.snippet):this.editor.execCommand("insertstring",v.value||v)}this.completions==p&&this.detach(),this.editor.endOperation()},this.commands={Up:function(v){v.completer.goTo("up")},Down:function(v){v.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(v){v.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(v){v.completer.goTo("end")},Esc:function(v){v.completer.detach()},Return:function(v){return v.completer.insertMatch()},"Shift-Return":function(v){v.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(v){var b=v.completer.insertMatch();if(b||v.tabstopManager)return b;v.completer.goTo("down")},PageUp:function(v){v.completer.popup.gotoPageUp()},PageDown:function(v){v.completer.popup.gotoPageDown()}},this.gatherCompletions=function(v,b){var p=v.getSession(),u=v.getCursorPosition(),h=J.getCompletionPrefix(v),d=(this.base=p.doc.createAnchor(u.row,u.column-h.length),this.base.$insertRight=!0,[]),f=v.completers.length;return v.completers.forEach(function(k,m){k.getCompletions(v,p,u,h,function(y,S){!y&&S&&(d=d.concat(S)),b(null,{prefix:J.getCompletionPrefix(v),matches:d,finished:0==--f})})}),!0},this.showPopup=function(v,b){this.editor&&this.detach(),this.activated=!0,(this.editor=v).completer!=this&&(v.completer&&v.completer.detach(),v.completer=this),v.on("changeSelection",this.changeListener),v.on("blur",this.blurListener),v.on("mousedown",this.mousedownListener),v.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,b)},this.updateCompletions=function(v,b){var p,u,h,d,f,k,m;return v&&this.base&&this.completions?(p=this.editor.getCursorPosition(),(k=this.editor.session.getTextRange({start:this.base,end:p}))==this.completions.filterText?void 0:(this.completions.setFilter(k),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=k||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,k,v):this.detach())):b&&b.matches?(p=this.editor.getSelectionRange().start,this.base=this.editor.session.doc.createAnchor(p.row,p.column),this.base.$insertRight=!0,this.completions=new F(b.matches),this.openPopup(this.editor,"",v)):(u=this.gatherCompletionsId,h=function(y){if(y.finished)return this.detach()}.bind(this),d=function(y){var V,S=y.prefix;return(this.completions=new F(y.matches),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(S),V=this.completions.filtered).length&&(1!=V.length||V[0].value!=S||V[0].snippet)?this.autoInsert&&1==V.length&&y.finished?this.insertMatch(V[0]):void this.openPopup(this.editor,S,v):h(y)}.bind(this),f=!0,m=null,this.gatherCompletions(this.editor,function(y,S){var V=S.prefix,E=S&&S.matches;if(!E||!E.length)return h(S);0===V.indexOf(S.prefix)&&u==this.gatherCompletionsId&&(f?m=S:d(S))}.bind(this)),f=!1,void(m&&(k=m,m=null,d(k))))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var v=this.popup,b=v.data,p=b&&(b[v.getHoveredRow()]||b[v.getRow()]),u=null;return p&&this.editor&&this.popup.isOpen&&(this.editor.completers.some(function(h){return u=h.getDocTooltip?h.getDocTooltip(p):u}),u="string"==typeof(u=u||"string"==typeof p?u:p)?{docText:u}:u)&&(u.docHTML||u.docText)?void this.showDocTooltip(u):this.hideDocTooltip()},this.showDocTooltip=function(p){this.tooltipNode||(this.tooltipNode=T.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var b=this.tooltipNode,u=(p.docHTML?b.innerHTML=p.docHTML:p.docText&&(b.textContent=p.docText),b.parentNode||document.body.appendChild(b),p=this.popup).container.getBoundingClientRect();b.style.top=p.container.style.top,b.style.bottom=p.container.style.bottom,b.style.display="block",window.innerWidth-u.right<320?u.left<320?(b.style.top=p.isTopdown?u.bottom+"px":p.container.offsetTop-b.offsetHeight+"px",b.style.left=u.left+"px",b.style.right="",b.style.bottom=""):(b.style.right=window.innerWidth-u.left+"px",b.style.left=""):(b.style.left=u.right+1+"px",b.style.right="")},this.hideDocTooltip=function(){var v;this.tooltipTimer.cancel(),this.tooltipNode&&(v=this.tooltipNode,this.editor.isFocused()||document.activeElement!=v||this.editor.focus(),this.tooltipNode=null,v.parentNode)&&v.parentNode.removeChild(v)},this.onTooltipClick=function(v){for(var b=v.target;b&&b!=this.tooltipNode;){if("A"==b.nodeName&&b.href){b.rel="noreferrer",b.target="_blank";break}b=b.parentNode}},this.destroy=function(){var v;this.detach(),this.popup&&(this.popup.destroy(),v=this.popup.container)&&v.parentNode&&v.parentNode.removeChild(v),this.popup=null}}.call(be.prototype),be.for=function(v){return v.completer||(N.get("sharedPopups")?(be.$shared||(be.$sharedInstance=new be),v.completer=be.$sharedInstance):(v.completer=new be,v.once("destroy",function(b,p){p.completer.destroy()}))),v.completer},be.startCommand={name:"startAutocomplete",exec:function(v,b){var p=be.for(v);p.autoInsert=!1,p.autoSelect=!0,p.showPopup(v,b),p.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"},function(v,b){this.all=v,this.filtered=v,this.filterText=b||"",this.exactMatch=!1});(function(){this.setFilter=function(v){b=v.length>this.filterText&&0===v.lastIndexOf(this.filterText,0)?this.filtered:this.all,this.filterText=v,b=(b=this.filterCompletions(b,this.filterText)).sort(function(u,h){return h.exactMatch-u.exactMatch||h.$score-u.$score||(u.caption||u.value).localeCompare(h.caption||h.value)});var b,p=null;b=b.filter(function(u){return(u=u.snippet||u.caption||u.value)!==p&&(p=u,!0)}),this.filtered=b},this.filterCompletions=function(v,b){var p=[],u=b.toUpperCase(),h=b.toLowerCase();e:for(var d,f=0;d=v[f];f++){var k=d.caption||d.value||d.snippet;if(k){var m=-1,y=0,S=0;if(this.exactMatch){if(b!==k.substr(0,b.length))continue}else{var V=k.toLowerCase().indexOf(h);if(-1<V)S=V;else for(var E=0;E<b.length;E++){var w=k.indexOf(h[E],m+1),B=k.indexOf(u[E],m+1);if((w=0<=w&&(B<0||w<B)?w:B)<0)continue e;0<(B=w-m-1)&&(-1===m&&(S+=10),S+=B,y|=1<<E),m=w}}d.matchMask=y,d.exactMatch=S?0:1,d.$score=(d.score||0)-S,p.push(d)}}return p}}).call(F.prototype),z.Autocomplete=be,z.FilteredList=F}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(Ae,z,oe){var be=Ae("../range").Range,fe=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;z.getCompletions=function(ce,J,O,T,j){var N=function ye(ce,J){var O=ce.getTextRange(be.fromPoints({row:0,column:0},J)).split(fe).length-1,T=ce.getValue().split(fe),j=Object.create(null),N=T[O];return T.forEach(function(F,v){F&&F!==N&&(v=Math.abs(O-v),v=T.length-v,j[F]=j[F]?Math.max(v,j[F]):v)}),j}(J,O);j(null,Object.keys(N).map(function(F){return{caption:F,value:F,score:N[F],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(Ae,z,oe){"use strict";function be(h,d){b(d.session.$mode)}function fe(h){var d=h.editor,f=d.completer&&d.completer.activated;"backspace"===h.command.name?f&&!T.getCompletionPrefix(d)&&d.completer.detach():"insertstring"===h.command.name&&T.getCompletionPrefix(d)&&!f&&((h=ce.for(d)).autoInsert=!1,h.showPopup(d))}var ye=Ae("../snippets").snippetManager,ce=Ae("../autocomplete").Autocomplete,J=Ae("../config"),O=Ae("../lib/lang"),T=Ae("../autocomplete/util"),j={getCompletions:function(h,d,f,k,m){if(d.$mode.completer)return d.$mode.completer.getCompletions(h,d,f,k,m);h=h.session.getState(f.row),m(null,d.$mode.getCompletions(h,d,f,k))}},N={getCompletions:function(h,S,f,k,m){var y=[],V=((S=S.getTokenAt(f.row,f.column))&&S.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?y.push("html-tag"):y=ye.getActiveScopes(h),ye.snippetMap),E=[];y.forEach(function(w){for(var B=V[w]||[],K=B.length;K--;){var U=B[K],W=U.name||U.tabTrigger;W&&E.push({caption:W,snippet:U.content,meta:U.tabTrigger&&!U.name?U.tabTrigger+"\u21e5 ":"snippet",type:"snippet"})}},this),m(null,E)},getDocTooltip:function(h){var d;"snippet"!=h.type||h.docHTML||(h.docHTML=["<b>",O.escapeHTML(h.caption),"</b>","<hr></hr>",O.escapeHTML((h=h.snippet,d={},h.replace(/\${(\d+)(:(.*?))?}/g,function(f,k,m,y){return d[k]=y||""}).replace(/\$(\d+?)/g,function(f,k){return d[k]})))].join(""))}},F=[N,u=Ae("../autocomplete/text_completer"),j],v=(z.setCompleters=function(h){F.length=0,h&&F.push.apply(F,h)},z.addCompleter=function(h){F.push(h)},z.textCompleter=u,z.keyWordCompleter=j,z.snippetCompleter=N,{name:"expandSnippet",exec:function(h){return ye.expandWithTab(h)},bindKey:"Tab"}),b=function(h){(h="string"==typeof h?J.$modes[h]:h)&&(ye.files||(ye.files={}),p(h.$id,h.snippetFileId),h.modes)&&h.modes.forEach(b)},p=function(h,d){d&&h&&!ye.files[h]&&(ye.files[h]={},J.loadModule(d,function(f){f&&(!(ye.files[h]=f).snippets&&f.snippetText&&(f.snippets=ye.parseSnippetFile(f.snippetText)),ye.register(f.snippets||[],f.scope),f.includeScopes)&&(ye.snippetMap[f.scope].includeScopes=f.includeScopes,f.includeScopes.forEach(function(k){b("ace/mode/"+k)}))}))},u=Ae("../editor").Editor;Ae("../config").defineOptions(u.prototype,"editor",{enableBasicAutocompletion:{set:function(h){h?(this.completers||(this.completers=Array.isArray(h)?h:F),this.commands.addCommand(ce.startCommand)):this.commands.removeCommand(ce.startCommand)},value:!1},enableLiveAutocompletion:{set:function(h){h?(this.completers||(this.completers=Array.isArray(h)?h:F),this.commands.on("afterExec",fe)):this.commands.removeListener("afterExec",fe)},value:!1},enableSnippets:{set:function(h){h?(this.commands.addCommand(v),this.on("changeMode",be),be(0,this)):(this.commands.removeCommand(v),this.off("changeMode",be))},value:!1}})}),ace.require(["ace/ext/language_tools"],function(Ae){je&&(je.exports=Ae)})},3330:function(je,M,ue){je=ue.nmd(je),ace.define("ace/ext/searchbox.css",["require","exports","module"],function(Ae,z,oe){oe.exports='\n\n/* ------------------------------------------------------------------------------------------\n * Editor Search Form\n * --------------------------------------------------------------------------------------- */\n.ace_search {\n    background-color: #ddd;\n    color: #666;\n    border: 1px solid #cbcbcb;\n    border-top: 0 none;\n    overflow: hidden;\n    margin: 0;\n    padding: 4px 6px 0 4px;\n    position: absolute;\n    top: 0;\n    z-index: 99;\n    white-space: normal;\n}\n.ace_search.left {\n    border-left: 0 none;\n    border-radius: 0px 0px 5px 0px;\n    left: 0;\n}\n.ace_search.right {\n    border-radius: 0px 0px 0px 5px;\n    border-right: 0 none;\n    right: 0;\n}\n\n.ace_search_form, .ace_replace_form {\n    margin: 0 20px 4px 0;\n    overflow: hidden;\n    line-height: 1.9;\n}\n.ace_replace_form {\n    margin-right: 0;\n}\n.ace_search_form.ace_nomatch {\n    outline: 1px solid red;\n}\n\n.ace_search_field {\n    border-radius: 3px 0 0 3px;\n    background-color: white;\n    color: black;\n    border: 1px solid #cbcbcb;\n    border-right: 0 none;\n    outline: 0;\n    padding: 0;\n    font-size: inherit;\n    margin: 0;\n    line-height: inherit;\n    padding: 0 6px;\n    min-width: 17em;\n    vertical-align: top;\n    min-height: 1.8em;\n    box-sizing: content-box;\n}\n.ace_searchbtn {\n    border: 1px solid #cbcbcb;\n    line-height: inherit;\n    display: inline-block;\n    padding: 0 6px;\n    background: #fff;\n    border-right: 0 none;\n    border-left: 1px solid #dcdcdc;\n    cursor: pointer;\n    margin: 0;\n    position: relative;\n    color: #666;\n}\n.ace_searchbtn:last-child {\n    border-radius: 0 3px 3px 0;\n    border-right: 1px solid #cbcbcb;\n}\n.ace_searchbtn:disabled {\n    background: none;\n    cursor: default;\n}\n.ace_searchbtn:hover {\n    background-color: #eef1f6;\n}\n.ace_searchbtn.prev, .ace_searchbtn.next {\n     padding: 0px 0.7em\n}\n.ace_searchbtn.prev:after, .ace_searchbtn.next:after {\n     content: "";\n     border: solid 2px #888;\n     width: 0.5em;\n     height: 0.5em;\n     border-width:  2px 0 0 2px;\n     display:inline-block;\n     transform: rotate(-45deg);\n}\n.ace_searchbtn.next:after {\n     border-width: 0 2px 2px 0 ;\n}\n.ace_searchbtn_close {\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\n    border-radius: 50%;\n    border: 0 none;\n    color: #656565;\n    cursor: pointer;\n    font: 16px/16px Arial;\n    padding: 0;\n    height: 14px;\n    width: 14px;\n    top: 9px;\n    right: 7px;\n    position: absolute;\n}\n.ace_searchbtn_close:hover {\n    background-color: #656565;\n    background-position: 50% 100%;\n    color: white;\n}\n\n.ace_button {\n    margin-left: 2px;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    overflow: hidden;\n    opacity: 0.7;\n    border: 1px solid rgba(100,100,100,0.23);\n    padding: 1px;\n    box-sizing:    border-box!important;\n    color: black;\n}\n\n.ace_button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_button:active {\n    background-color: #ddd;\n}\n\n.ace_button.checked {\n    border-color: #3399ff;\n    opacity:1;\n}\n\n.ace_search_options{\n    margin-bottom: 3px;\n    text-align: right;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    clear: both;\n}\n\n.ace_search_counter {\n    float: left;\n    font-family: arial;\n    padding: 0 8px;\n}'}),ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/ext/searchbox.css","ace/keyboard/hash_handler","ace/lib/keys"],function(Ae,z,oe){"use strict";function be(j,N,F){var v=fe.createElement("div");fe.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:"Search for",spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},"\u200b"],["span",{action:"findNext",class:"ace_searchbtn next"},"\u200b"],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},"All"]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:"Replace with",spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},"Replace"],["span",{action:"replaceAll",class:"ace_searchbtn"},"All"]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:"Toggle Replace mode",style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:"RegExp Search"},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:"CaseSensitive Search"},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:"Whole Word Search"},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:"Search In Selection"},"S"]]],v),this.element=v.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(j),fe.importCssString(J,"ace_searchbox",j.container)}var fe=Ae("../lib/dom"),ye=Ae("../lib/lang"),ce=Ae("../lib/event"),J=Ae("./searchbox.css"),O=Ae("../keyboard/hash_handler").HashHandler,T=Ae("../lib/keys");fe.importCssString(J,"ace_searchbox",!1),function(){this.setEditor=function(j){j.searchBox=this,j.renderer.scroller.appendChild(this.element),this.editor=j},this.setSession=function(j){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(j){this.searchBox=j.querySelector(".ace_search_form"),this.replaceBox=j.querySelector(".ace_replace_form"),this.searchOption=j.querySelector("[action=searchInSelection]"),this.replaceOption=j.querySelector("[action=toggleReplace]"),this.regExpOption=j.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=j.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=j.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=j.querySelector(".ace_search_counter")},this.$init=function(){var j=this.element,N=(this.$initElements(j),this);ce.addListener(j,"mousedown",function(F){setTimeout(function(){N.activeInput.focus()},0),ce.stopPropagation(F)}),ce.addListener(j,"click",function(F){var v=(F.target||F.srcElement).getAttribute("action");v&&N[v]?N[v]():N.$searchBarKb.commands[v]&&N.$searchBarKb.commands[v].exec(N),ce.stopPropagation(F)}),ce.addCommandKeyListener(j,function(F,v,b){b=T.keyCodeToString(b),(v=N.$searchBarKb.findKeyCommand(v,b))&&v.exec&&(v.exec(N),ce.stopEvent(F))}),this.$onChange=ye.delayedCall(function(){N.find(!1,!1)}),ce.addListener(this.searchInput,"input",function(){N.$onChange.schedule(20)}),ce.addListener(this.searchInput,"focus",function(){N.activeInput=N.searchInput,N.searchInput.value&&N.highlight()}),ce.addListener(this.replaceInput,"focus",function(){N.activeInput=N.replaceInput,N.searchInput.value&&N.highlight()})},this.$closeSearchBarKb=new O([{bindKey:"Esc",name:"closeSearchBar",exec:function(j){j.searchBox.hide()}}]),this.$searchBarKb=new O,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(j){var N=j.isReplace=!j.isReplace;j.replaceBox.style.display=N?"":"none",j.replaceOption.checked=!1,j.$syncOptions(),j.searchInput.focus()},"Ctrl-H|Command-Option-F":function(j){j.editor.getReadOnly()||(j.replaceOption.checked=!0,j.$syncOptions(),j.replaceInput.focus())},"Ctrl-G|Command-G":function(j){j.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(j){j.findPrev()},esc:function(j){setTimeout(function(){j.hide()})},Return:function(j){j.activeInput==j.replaceInput&&j.replace(),j.findNext()},"Shift-Return":function(j){j.activeInput==j.replaceInput&&j.replace(),j.findPrev()},"Alt-Return":function(j){j.activeInput==j.replaceInput&&j.replaceAll(),j.findAll()},Tab:function(j){(j.activeInput==j.replaceInput?j.searchInput:j.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(j){j.regExpOption.checked=!j.regExpOption.checked,j.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(j){j.caseSensitiveOption.checked=!j.caseSensitiveOption.checked,j.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(j){j.wholeWordOption.checked=!j.wholeWordOption.checked,j.$syncOptions()}},{name:"toggleReplace",exec:function(j){j.replaceOption.checked=!j.replaceOption.checked,j.$syncOptions()}},{name:"searchInSelection",exec:function(j){j.searchOption.checked=!j.searchRange,j.setSearchRange(j.searchOption.checked&&j.editor.getSelectionRange()),j.$syncOptions()}}]),this.setSearchRange=function(j){(this.searchRange=j)?this.searchRangeMarker=this.editor.session.addMarker(j,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(j){fe.setCssClass(this.replaceOption,"checked",this.searchRange),fe.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",fe.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),fe.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),fe.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var N=this.editor.getReadOnly();this.replaceOption.style.display=N?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!N?"":"none",this.find(!1,!1,j)},this.highlight=function(j){this.editor.session.highlight(j||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(j,N,F){j=!this.editor.find(this.searchInput.value,{skipCurrent:j,backwards:N,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:F,range:this.searchRange})&&this.searchInput.value,fe.setCssClass(this.searchBox,"ace_nomatch",j),this.editor._emit("findSearchBox",{match:!j}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var j=this.editor,N=j.$search.$options.re,F=0,v=0;if(N){var b,p,u=this.searchRange?j.session.getTextRange(this.searchRange):j.getValue(),h=j.session.doc.positionToIndex(j.selection.anchor);for(this.searchRange&&(h-=j.session.doc.positionToIndex(this.searchRange.start)),N.lastIndex=0;(p=N.exec(u))&&((b=p.index)<=h&&v++,!(999<++F))&&(p[0]||(N.lastIndex=b+=1,!(b>=u.length))););}this.searchCounter.textContent=v+" of "+(999<F?"999+":F)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var j=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;fe.setCssClass(this.searchBox,"ace_nomatch",j),this.editor._emit("findSearchBox",{match:!j}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(j,N){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=N,j&&(this.searchInput.value=j),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var j=document.activeElement;return j==this.searchInput||j==this.replaceInput}}.call(be.prototype),z.SearchBox=be,z.Search=function(j,N){(j.searchBox||new be(j)).show(j.session.getTextRange(),N)}}),ace.require(["ace/ext/searchbox"],function(Ae){je&&(je.exports=Ae)})},4091:function(je,M,ue){je=ue.nmd(je),ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(ye,z,oe){"use strict";function be(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}}var fe=ye("../lib/oop");ye=ye("./text_highlight_rules").TextHighlightRules,fe.inherits(be,ye),z.JsonHighlightRules=be}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(Ae,z,oe){"use strict";function be(){}var fe=Ae("../range").Range;(function(){this.checkOutdent=function(ye,ce){return!!/^\s+$/.test(ye)&&/^\s*\}/.test(ce)},this.autoOutdent=function(ye,ce){var J,O=ye.getLine(ce).match(/^(\s*\})/);return O&&(J=ye.findMatchingBracket({row:ce,column:O=O[1].length}))&&J.row!=ce?(J=this.$getIndent(ye.getLine(J.row)),void ye.replace(new fe(ce,0,ce,O-1),J)):0},this.$getIndent=function(ye){return ye.match(/^\s*/)[0]}}).call(be.prototype),z.MatchingBraceOutdent=be}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(ye,ce,oe){"use strict";var be=ye("../../lib/oop"),fe=ye("../../range").Range;ye=ye("./fold_mode").FoldMode,ce=ce.FoldMode=function(J){J&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+J.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+J.end)))},be.inherits(ce,ye),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(J,O,T){var j=J.getLine(T);return!this.singleLineBlockCommentRe.test(j)||this.startRegionRe.test(j)||this.tripleStarBlockCommentRe.test(j)?!(J=this._getFoldWidgetBase(J,O,T))&&this.startRegionRe.test(j)?"start":J:""},this.getFoldWidgetRange=function(J,O,T,j){var N,F,v,b=J.getLine(T);return this.startRegionRe.test(b)?this.getCommentRegionBlock(J,b,T):(F=b.match(this.foldingStartMarker))?(v=F.index,F[1]?this.openingBracketBlock(J,F[1],T,v):((N=J.getCommentFoldRange(T,v+F[0].length,1))&&!N.isMultiLine()&&(j?N=this.getSectionRange(J,T):"all"!=O&&(N=null)),N)):"markbegin"!==O&&(F=b.match(this.foldingStopMarker))?(v=F.index+F[0].length,F[1]?this.closingBracketBlock(J,F[1],T,v):J.getCommentFoldRange(T,v,-1)):void 0},this.getSectionRange=function(J,O){for(var T=(b=J.getLine(O)).search(/\S/),j=O,N=b.length,F=O+=1,v=J.getLength();++O<v;){var b,p=(b=J.getLine(O)).search(/\S/);if(-1!==p){if(p<T)break;var u=this.getFoldWidgetRange(J,"all",O);if(u){if(u.start.row<=j)break;if(u.isMultiLine())O=u.end.row;else if(T==p)break}F=O}}return new fe(j,N,F,J.getLine(F).length)},this.getCommentRegionBlock=function(J,O,T){for(var j=O.search(/\s*$/),N=J.getLength(),F=T,v=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,b=1;++T<N;){O=J.getLine(T);var p=v.exec(O);if(p&&(p[1]?b--:b++,!b))break}if(F<T)return new fe(F,j,T,O.length)}}.call(ce.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(Ae,z,oe){"use strict";function be(){this.HighlightRules=ce,this.$outdent=new J,this.$behaviour=new O,this.foldingRules=new T}var fe=Ae("../lib/oop"),ye=Ae("./text").Mode,ce=Ae("./json_highlight_rules").JsonHighlightRules,J=Ae("./matching_brace_outdent").MatchingBraceOutdent,O=Ae("./behaviour/cstyle").CstyleBehaviour,T=Ae("./folding/cstyle").FoldMode,j=Ae("../worker/worker_client").WorkerClient;fe.inherits(be,ye),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(N,F,v){var b=this.$getIndent(F);return"start"==N&&F.match(/^.*[\{\(\[]\s*$/)&&(b+=v),b},this.checkOutdent=function(N,F,v){return this.$outdent.checkOutdent(F,v)},this.autoOutdent=function(N,F,v){this.$outdent.autoOutdent(F,v)},this.createWorker=function(N){var F=new j(["ace"],"ace/mode/json_worker","JsonWorker");return F.attachToDocument(N.getDocument()),F.on("annotate",function(v){N.setAnnotations(v.data)}),F.on("terminate",function(){N.clearAnnotations()}),F},this.$id="ace/mode/json"}.call(be.prototype),z.Mode=be}),ace.require(["ace/mode/json"],function(Ae){je&&(je.exports=Ae)})},8903:function(T,M,ue){"use strict";var Ae=ue(5689),z=ue(3969),oe=ue(5255),be=ue(4293),fe=ue(3508),ye=ue(3368),ce=ue(742),J=ue(9394),O=ue(3724),j=((T.exports=v).prototype.validate=function(m,y){var S;if("string"==typeof m){if(!(S=this.getSchema(m)))throw new Error('no schema with key or ref "'+m+'"')}else S=(m=this._addSchema(m)).validate||this._compile(m);return m=S(y),!0!==S.$async&&(this.errors=S.errors),m},v.prototype.compile=function(m,y){return(m=this._addSchema(m,void 0,y)).validate||this._compile(m)},v.prototype.addSchema=function(m,y,S,V){if(Array.isArray(m))for(var E=0;E<m.length;E++)this.addSchema(m[E],void 0,S,V);else{var w=this._getId(m);if(void 0!==w&&"string"!=typeof w)throw new Error("schema id must be string");f(this,y=z.normalizeId(y||w)),this._schemas[y]=this._addSchema(m,S,V,!0)}return this},v.prototype.addMetaSchema=function(m,y,S){return this.addSchema(m,y,S,!0),this},v.prototype.validateSchema=function(m,y){var V,E,S=m.$schema;if(void 0!==S&&"string"!=typeof S)throw new Error("$schema must be a string");if(!(S=S||this._opts.defaultMeta||(V=this,E=V._opts.meta,V._opts.defaultMeta="object"==typeof E?V._getId(E)||E:V.getSchema(j)?j:void 0,V._opts.defaultMeta)))return this.logger.warn("meta-schema not available"),!(this.errors=null);if(!(S=this.validate(S,m))&&y){if(m="schema is invalid: "+this.errorsText(),"log"!=this._opts.validateSchema)throw new Error(m);this.logger.error(m)}return S},v.prototype.getSchema=function(m){var y=b(this,m);switch(typeof y){case"object":return y.validate||this._compile(y);case"string":return this.getSchema(y);case"undefined":return function(S,V){var w,B,K,E=z.schema.call(S,{schema:{}},V);if(E)return K=Ae.call(S,w=E.schema,B=E.root,void 0,E=E.baseId),S._fragments[V]=new be({ref:V,fragment:!0,schema:w,root:B,baseId:E,validate:K}),K}(this,m)}},v.prototype.removeSchema=function(m){if(m instanceof RegExp)p(this,this._schemas,m),p(this,this._refs,m);else switch(typeof m){case"undefined":return p(this,this._schemas),p(this,this._refs),this._cache.clear(),this;case"string":var y=b(this,m);return y&&this._cache.del(y.cacheKey),delete this._schemas[m],delete this._refs[m],this;case"object":y=(y=this._opts.serialize)?y(m):m,this._cache.del(y),(y=this._getId(m))&&(y=z.normalizeId(y),delete this._schemas[y],delete this._refs[y])}return this},v.prototype.addFormat=function(m,y){return"string"==typeof y&&(y=new RegExp(y)),this._formats[m]=y,this},v.prototype.errorsText=function(m,y){if(!(m=m||this.errors))return"No errors";for(var S=void 0===(y=y||{}).separator?", ":y.separator,V=void 0===y.dataVar?"data":y.dataVar,E="",w=0;w<m.length;w++){var B=m[w];B&&(E+=V+B.dataPath+" "+B.message+S)}return E.slice(0,-S.length)},v.prototype._addSchema=function(m,K,S,V){if("object"!=typeof m&&"boolean"!=typeof m)throw new Error("schema should be object or boolean");var B,E=(E=this._opts.serialize)?E(m):m,w=this._cache.get(E);if(w)return w;V=V||!1!==this._opts.addUsedSchema,(w=z.normalizeId(this._getId(m)))&&V&&f(this,w),(K=!1!==this._opts.validateSchema&&!K)&&!(B=w&&w==z.normalizeId(m.$schema))&&this.validateSchema(m,!0);var U=z.ids.call(this,m);return U=new be({id:w,schema:m,localRefs:U,cacheKey:E,meta:S}),"#"!=w[0]&&V&&(this._refs[w]=U),this._cache.put(E,U),K&&B&&this.validateSchema(m,!0),U},v.prototype._compile=function(m,y){if(m.compiling)return(m.validate=E).schema=m.schema,E.errors=null,E.root=y||E,!0===m.schema.$async&&(E.$async=!0),E;var S,V;m.compiling=!0,m.meta&&(S=this._opts,this._opts=this._metaOpts);try{V=Ae.call(this,m.schema,y,m.localRefs)}catch(w){throw delete m.validate,w}finally{m.compiling=!1,m.meta&&(this._opts=S)}return m.validate=V,m.refs=V.refs,m.refVal=V.refVal,m.root=V.root,V;function E(){var w=m.validate,B=w.apply(this,arguments);return E.errors=w.errors,B}},v.prototype.compileAsync=ue(9677),T=ue(7931),v.prototype.addKeyword=T.add,v.prototype.getKeyword=T.get,v.prototype.removeKeyword=T.remove,v.prototype.validateKeyword=T.validate,T=ue(5359),v.ValidationError=T.Validation,v.MissingRefError=T.MissingRef,v.$dataMetaSchema=J,"http://json-schema.org/draft-07/schema"),N=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],F=["/properties"];function v(m){if(!(this instanceof v))return new v(m);m=this._opts=O.copy(m)||{};var y=(W=this)._opts.logger;if(!1===y)W.logger={log:k,warn:k,error:k};else{if(!("object"==typeof(y=void 0===y?console:y)&&y.log&&y.warn&&y.error))throw new Error("logger must implement log, warn and error methods");W.logger=y}if(this._schemas={},this._refs={},this._fragments={},this._formats=ye(m.format),this._cache=m.cache||new oe,this._loadingSchemas={},this._compilations=[],this.RULES=ce(),this._getId=function(R){switch(R.schemaId){case"auto":return d;case"id":return u;default:return h}}(m),m.loopRequired=m.loopRequired||1/0,"property"==m.errorDataPath&&(m._errorDataPathProperty=!0),void 0===m.serialize&&(m.serialize=fe),this._metaOpts=function(R){for(var Q=O.copy(R._opts),ae=0;ae<N.length;ae++)delete Q[N[ae]];return Q}(this),m.formats){var S,V=this;for(S in V._opts.formats)V.addFormat(S,V._opts.formats[S])}if(m.keywords){var w,B=this;for(w in B._opts.keywords)B.addKeyword(w,B._opts.keywords[w])}var U,W,re=((W=this)._opts.$data&&(U=ue(894),W.addMetaSchema(U,U.$id,!0)),!1!==W._opts.meta&&(U=ue(6680),W._opts.$data&&(U=J(U,F)),W.addMetaSchema(U,j,!0),W._refs["http://json-schema.org/schema"]=j),"object"==typeof m.meta&&this.addMetaSchema(m.meta),m.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),this),H=re._opts.schemas;if(H)if(Array.isArray(H))re.addSchema(H);else for(var L in H)re.addSchema(H[L],L)}function b(m,y){return y=z.normalizeId(y),m._schemas[y]||m._refs[y]||m._fragments[y]}function p(m,y,S){for(var V in y){var E=y[V];E.meta||S&&!S.test(V)||(m._cache.del(E.cacheKey),delete y[V])}}function u(m){return m.$id&&this.logger.warn("schema $id ignored",m.$id),m.id}function h(m){return m.id&&this.logger.warn("schema id ignored",m.id),m.$id}function d(m){if(m.$id&&m.id&&m.$id!=m.id)throw new Error("schema $id is different from id");return m.$id||m.id}function f(m,y){if(m._schemas[y]||m._refs[y])throw new Error('schema with key or id "'+y+'" already exists')}function k(){}},5255:function(je){"use strict";(je=je.exports=function(){this._cache={}}).prototype.put=function(M,ue){this._cache[M]=ue},je.prototype.get=function(M){return this._cache[M]},je.prototype.del=function(M){delete this._cache[M]},je.prototype.clear=function(){this._cache={}}},9677:function(je,M,ue){"use strict";var Ae=ue(5359).MissingRef;je.exports=function z(oe,be,fe){var ye=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof be&&(fe=be,be=void 0);var ce=J(oe).then(function(){var O=ye._addSchema(oe,void 0,be);return O.validate||function T(j){try{return ye._compile(j)}catch(F){if(F instanceof Ae)return function N(F){var v=F.missingSchema;if(p(v))throw new Error("Schema "+v+" is loaded but "+F.missingRef+" cannot be resolved");return(F=ye._loadingSchemas[v])||(F=ye._loadingSchemas[v]=ye._opts.loadSchema(v)).then(b,b),F.then(function(u){if(!p(v))return J(u).then(function(){p(v)||ye.addSchema(u,v,void 0,be)})}).then(function(){return T(j)});function b(){delete ye._loadingSchemas[v]}function p(u){return ye._refs[u]||ye._schemas[u]}}(F);throw F}}(O)});return fe&&ce.then(function(O){fe(null,O)},fe),ce;function J(O){return(O=O.$schema)&&!ye.getSchema(O)?z.call(ye,{$ref:O},!0):Promise.resolve()}}},5359:function(je,M,ue){"use strict";var Ae=ue(3969);function z(be,fe,ye){this.message=ye||z.message(be,fe),this.missingRef=Ae.url(be,fe),this.missingSchema=Ae.normalizeId(Ae.fullPath(this.missingRef))}function oe(be){return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be}je.exports={Validation:oe(function(be){this.message="validation failed",this.errors=be,this.ajv=this.validation=!0}),MissingRef:oe(z)},z.message=function(be,fe){return"can't resolve reference "+fe+" from id "+be}},3368:function(je,M,fe){"use strict";var Ae=fe(3724),z=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,oe=[0,31,28,31,30,31,30,31,31,30,31,30,31],be=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,ye=(fe=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i),ce=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,J=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,O=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,T=/^(?:\/(?:[^~/]|~0|~1)*)*$/,j=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,N=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function F(f){return Ae.copy(F[f="full"==f?"full":"fast"])}function v(y){var k,m;return!!(y=y.match(z))&&(k=+y[1],m=+y[2],y=+y[3],1<=m)&&m<=12&&1<=y&&y<=(2!=m||(y=k)%4!=0||y%100==0&&y%400!=0?oe[m]:29)}function b(V,k){var m,y,S;return!!(V=V.match(be))&&(m=V[1],y=V[2],S=V[3],V=V[5],m<=23&&y<=59&&S<=59||23==m&&59==y&&60==S)&&(!k||V)}(je.exports=F).fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":ce,url:J,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:fe,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:d,uuid:O,"json-pointer":T,"json-pointer-uri-fragment":j,"relative-json-pointer":N},F.full={date:v,time:b,"date-time":function(f){return 2==(f=f.split(p)).length&&v(f[0])&&b(f[1],!0)},uri:function(f){return u.test(f)&&ye.test(f)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":ce,url:J,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:fe,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:d,uuid:O,"json-pointer":T,"json-pointer-uri-fragment":j,"relative-json-pointer":N};var p=/t|\s/i,u=/\/|:/,h=/[^\\]\\Z/;function d(f){if(h.test(f))return!1;try{return new RegExp(f),!0}catch{return!1}}},5689:function(je,M,ue){"use strict";var Ae=ue(3969),z=ue(3724),oe=ue(5359),be=ue(3508),fe=ue(1869),ye=z.ucs2length,ce=ue(2303),J=oe.Validation;function T(p,u,h){for(var d=0;d<this._compilations.length;d++){var f=this._compilations[d];if(f.schema==p&&f.root==u&&f.baseId==h)return d}return-1}function j(p,u){return"var pattern"+p+" = new RegExp("+z.toQuotedString(u[p])+");"}function N(p){return"var default"+p+" = defaults["+p+"];"}function F(p,u){return void 0===u[p]?"":"var refVal"+p+" = refVal["+p+"];"}function v(p){return"var customRule"+p+" = customRules["+p+"];"}function b(p,u){if(!p.length)return"";for(var h="",d=0;d<p.length;d++)h+=u(d,p);return h}je.exports=function O(p,u,h,d){var f=this,k=this._opts,m=[void 0],y={},S=[],V={},E=[],w={},B=[],K=function(Ie,Ze,X){var de=T.call(this,Ie,Ze,X);return 0<=de?{index:de,compiling:!0}:(this._compilations[de=this._compilations.length]={schema:Ie,root:Ze,baseId:X},{index:de,compiling:!1})}.call(this,p,u=u||{schema:p,refVal:m,refs:y},d),U=this._compilations[K.index];if(K.compiling)return U.callValidate=function R(){var Ie=U.validate,Ze=Ie.apply(this,arguments);return R.errors=Ie.errors,Ze};var W=this._formats,re=this.RULES;try{var H=Q(p,u,h,d),L=(U.validate=H,U.callValidate);return L&&(L.schema=H.schema,L.errors=null,L.refs=H.refs,L.refVal=H.refVal,L.root=H.root,L.$async=H.$async,k.sourceCode)&&(L.source=H.source),H}finally{(function(Ie,Ze,X){0<=(Ie=T.call(this,Ie,Ze,X))&&this._compilations.splice(Ie,1)}).call(this,p,u,d)}function Q(Ie,Ze,X,de){var ge=!Ze||Ze.schema==Ie;if(Ze.schema!=u.schema)return O.call(f,Ie,Ze,X,de);X=!0===Ie.$async,de=fe({isTop:!0,schema:Ie,isRoot:ge,baseId:de,root:Ze,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:oe.MissingRef,RULES:re,validate:fe,util:z,resolve:Ae,resolveRef:ae,usePattern:Se,useDefault:we,useCustomRule:Ge,opts:k,formats:W,logger:f.logger,self:f}),de=b(m,F)+b(S,j)+b(E,N)+b(B,v)+de,k.processCode&&(de=k.processCode(de,Ie));try{var Ce=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",de)(f,re,W,u,m,E,B,ce,ye,J);m[0]=Ce}catch(G){throw f.logger.error("Error compiling schema, function code:",de),G}return Ce.schema=Ie,Ce.errors=null,Ce.refs=y,Ce.refVal=m,Ce.root=ge?Ce:Ze,X&&(Ce.$async=!0),!0===k.sourceCode&&(Ce.source={code:de,patterns:S,defaults:E}),Ce}function ae(Ie,Ze,G){Ze=Ae.url(Ie,Ze);var de=y[Ze];if(void 0!==de)return xe(ge=m[de],Ce="refVal["+de+"]");if(!G&&u.refs&&void 0!==(de=u.refs[Ze]))return xe(ge=u.refVal[de],Ce=ve(Ze,ge));var ge,Ce=ve(Ze);if(void 0!==(G=void 0===(G=Ae.call(f,Q,u,Ze))&&(de=h&&h[Ze])?Ae.inlineRef(de,k.inlineRefs)?de:O.call(f,de,u,h,Ie):G))return de=y[de=Ze],m[de]=ge=G,xe(G,Ce);delete y[Ze]}function ve(Ie,Ze){var X=m.length;return m[X]=Ze,"refVal"+(y[Ie]=X)}function xe(Ie,Ze){return"object"==typeof Ie||"boolean"==typeof Ie?{code:Ze,schema:Ie,inline:!0}:{code:Ze,$async:Ie&&!!Ie.$async}}function Se(Ie){var Ze=V[Ie];return void 0===Ze&&(Ze=V[Ie]=S.length,S[Ze]=Ie),"pattern"+Ze}function we(Ie){switch(typeof Ie){case"boolean":case"number":return""+Ie;case"string":return z.toQuotedString(Ie);case"object":var Ze,X;return null===Ie?"null":(Ze=be(Ie),void 0===(X=w[Ze])&&(X=w[Ze]=E.length,E[X]=Ie),"default"+X)}}function Ge(Ie,Ze,X,de){if(!1!==f._opts.validateSchema){if((Ce=Ie.definition.dependencies)&&!Ce.every(function(_e){return Object.prototype.hasOwnProperty.call(X,_e)}))throw new Error("parent schema must have all required keywords: "+Ce.join(","));if((Ce=Ie.definition.validateSchema)&&!Ce(Ze)){if(Ce="keyword schema is invalid: "+f.errorsText(Ce.errors),"log"!=f._opts.validateSchema)throw new Error(Ce);f.logger.error(Ce)}}var ge,Ce,G=Ie.definition.inline,Z=Ie.definition.macro;if(Ce=Ie.definition.compile)ge=Ce.call(f,Ze,X,de);else if(Z)ge=Z.call(f,Ze,X,de),!1!==k.validateSchema&&f.validateSchema(ge,!0);else if(G)ge=G.call(f,de,Ie.keyword,Ze,X);else if(!(ge=Ie.definition.validate))return;if(void 0===ge)throw new Error('custom keyword "'+Ie.keyword+'"failed to compile');return{code:"customRule"+(Ce=B.length),validate:B[Ce]=ge}}}},3969:function(je,M,ue){"use strict";var Ae=ue(7533),z=ue(2303),oe=ue(3724),be=ue(4293),fe=ue(500);function ye(u,h,d){var f,k,m,y=this._refs[d];if("string"==typeof y){if(!this._refs[y])return ye.call(this,u,h,y);y=this._refs[y]}return(y=y||this._schemas[d])instanceof be?j(y.schema,this._opts.inlineRefs)?y.schema:y.validate||this._compile(y):((y=ce.call(this,h,d))&&(f=y.schema,h=y.root,m=y.baseId),f instanceof be?k=f.validate||u.call(this,f.schema,h,void 0,m):void 0!==f&&(k=j(f,this._opts.inlineRefs)?f:u.call(this,f,h,void 0,m)),k)}function ce(u,h){var d=Ae.parse(h),f=F(d),k=N(this._getId(u.schema));if(0===Object.keys(u.schema).length||f!==k){f=b(f);var m=this._refs[f];if("string"==typeof m)return function(S,V,E){var w,B;if(V=ce.call(this,S,V))return B=V.baseId,S=V.root,(V=this._getId(w=V.schema))&&(B=p(B,V)),O.call(this,E,B,w,S)}.call(this,u,m,d);if(m instanceof be)m.validate||this._compile(m);else{if(!((m=this._schemas[f])instanceof be))return;if(m.validate||this._compile(m),f==b(h))return{schema:m,root:u,baseId:k}}if(!(u=m).schema)return;k=N(this._getId(u.schema))}return O.call(this,d,k,u.schema,u)}(je.exports=ye).normalizeId=b,ye.fullPath=N,ye.url=p,ye.ids=function(u){var h=b(this._getId(u)),d={"":h},f={"":N(h,!1)},k={},m=this;return fe(u,{allKeys:!0},function(y,S,V,E,w,B,K){if(""!==S){var U=m._getId(y),W=d[E];if(E=f[E]+"/"+w,void 0!==K&&(E+="/"+("number"==typeof K?K:oe.escapeFragment(K))),"string"==typeof U)if(U=W=b(W?Ae.resolve(W,U):U),(w="string"==typeof(w=m._refs[U])?m._refs[w]:w)&&w.schema){if(!z(y,w.schema))throw new Error('id "'+U+'" resolves to more than one schema')}else if(U!=b(E))if("#"==U[0]){if(k[U]&&!z(y,k[U]))throw new Error('id "'+U+'" resolves to more than one schema');k[U]=y}else m._refs[U]=E;d[S]=W,f[S]=E}}),k},ye.inlineRef=j,ye.schema=ce;var J=oe.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function O(u,h,d,f){if(u.fragment=u.fragment||"","/"==u.fragment.slice(0,1)){for(var k=u.fragment.split("/"),m=1;m<k.length;m++){var y=k[m];if(y){if(void 0===(d=d[y=oe.unescapeFragment(y)]))break;J[y]||((y=this._getId(d))&&(h=p(h,y)),d.$ref&&(y=p(h,d.$ref),y=ce.call(this,f,y))&&(d=y.schema,f=y.root,h=y.baseId))}}return void 0!==d&&d!==f.schema?{schema:d,root:f,baseId:h}:void 0}}var T=oe.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function j(u,h){return!1!==h&&(void 0===h||!0===h?function d(f){var k;if(Array.isArray(f)){for(var m=0;m<f.length;m++)if("object"==typeof(k=f[m])&&!d(k))return!1}else for(var y in f)if("$ref"==y||"object"==typeof(k=f[y])&&!d(k))return!1;return!0}(u):h?function d(f){var k,m=0;if(Array.isArray(f)){for(var y=0;y<f.length;y++)if("object"==typeof(k=f[y])&&(m+=d(k)),m==1/0)return 1/0}else for(var S in f){if("$ref"==S)return 1/0;if(T[S])m++;else if("object"==typeof(k=f[S])&&(m+=d(k)+1),m==1/0)return 1/0}return m}(u)<=h:void 0)}function N(u,h){return!1!==h&&(u=b(u)),F(Ae.parse(u))}function F(u){return Ae.serialize(u).split("#")[0]+"#"}var v=/#\/?$/;function b(u){return u?u.replace(v,""):""}function p(u,h){return h=b(h),Ae.resolve(u,h)}},742:function(je,M,ue){"use strict";var Ae=ue(9646),z=ue(3724).toHash;je.exports=function(){var oe=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],be=["type","$comment"];return oe.all=z(be),oe.types=z(["number","integer","string","array","object","boolean","null"]),oe.forEach(function(fe){fe.rules=fe.rules.map(function(ye){var ce,J;return"object"==typeof ye&&(J=ye[ce=Object.keys(ye)[0]],ye=ce,J.forEach(function(O){be.push(O),oe.all[O]=!0})),be.push(ye),oe.all[ye]={keyword:ye,code:Ae[ye],implements:J}}),oe.all.$comment={keyword:"$comment",code:Ae.$comment},fe.type&&(oe.types[fe.type]=fe)}),oe.keywords=z(be.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),oe.custom={},oe}},4293:function(je,M,ue){"use strict";var Ae=ue(3724);je.exports=function(z){Ae.copy(z,this)}},6887:function(je){"use strict";je.exports=function(M){for(var ue,Ae=0,z=M.length,oe=0;oe<z;)Ae++,55296<=(ue=M.charCodeAt(oe++))&&ue<=56319&&oe<z&&56320==(64512&M.charCodeAt(oe))&&oe++;return Ae}},3724:function(je,M,ue){"use strict";function Ae(v,b,p,u){var h=u?" !== ":" === ",d=u?" || ":" && ",f=u?"!":"",k=u?"":"!";switch(v){case"null":return b+h+"null";case"array":return f+"Array.isArray("+b+")";case"object":return"("+f+b+d+"typeof "+b+h+'"object"'+d+k+"Array.isArray("+b+"))";case"integer":return"(typeof "+b+h+'"number"'+d+k+"("+b+" % 1)"+d+b+h+b+(p?d+f+"isFinite("+b+")":"")+")";case"number":return"(typeof "+b+h+'"'+v+'"'+(p?d+f+"isFinite("+b+")":"")+")";default:return"typeof "+b+h+'"'+v+'"'}}je.exports={copy:function(v,b){for(var p in b=b||{},v)b[p]=v[p];return b},checkDataType:Ae,checkDataTypes:function(v,b,p){if(1===v.length)return Ae(v[0],b,p,!0);var u,h="";for(u in(v=oe(v)).array&&v.object&&(h=v.null?"(":"(!"+b+" || ",h+="typeof "+b+' !== "object")',delete v.null,delete v.array,delete v.object),v.number&&delete v.integer,v)h+=(h?" && ":"")+Ae(u,b,p,!0);return h},coerceToTypes:function(v,b){if(!Array.isArray(b))return z[b]?[b]:"array"===v&&"array"===b?["array"]:void 0;for(var p=[],u=0;u<b.length;u++){var h=b[u];(z[h]||"array"===v&&"array"===h)&&(p[p.length]=h)}return p.length?p:void 0},toHash:oe,getProperty:ye,escapeQuotes:ce,equal:ue(2303),ucs2length:ue(6887),varOccurences:function(v,b){return(v=v.match(new RegExp(b+="[^0-9]","g")))?v.length:0},varReplace:function(v,b,p){return b+="([^0-9])",p=p.replace(/\$/g,"$$$$"),v.replace(new RegExp(b,"g"),p+"$1")},schemaHasRules:function(v,b){if("boolean"==typeof v)return!v;for(var p in v)if(b[p])return!0},schemaHasRulesExcept:function(v,b,p){if("boolean"==typeof v)return!v&&"not"!=p;for(var u in v)if(u!=p&&b[u])return!0},schemaUnknownRules:function(v,b){if("boolean"!=typeof v)for(var p in v)if(!b[p])return p},toQuotedString:J,getPathExpr:function(v,b,p,u){return j(v,p?"'/' + "+b+(u?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):u?"'[' + "+b+" + ']'":"'[\\'' + "+b+" + '\\']'")},getPath:function(v,b,p){return j(v,p=J(p?"/"+N(b):ye(b)))},getData:function(v,b,p){var u,h,d;if(""===v)return"rootData";if("/"==v[0]){if(!O.test(v))throw new Error("Invalid JSON-pointer: "+v);u=v,h="rootData"}else{if(!(d=v.match(T)))throw new Error("Invalid JSON-pointer: "+v);if(v=+d[1],"#"==(u=d[2])){if(b<=v)throw new Error("Cannot access property/index "+v+" levels up, current level is "+b);return p[b-v]}if(b<v)throw new Error("Cannot access data "+v+" levels up, current level is "+b);if(h="data"+(b-v||""),!u)return h}for(var f=h,k=u.split("/"),m=0;m<k.length;m++){var y=k[m];y&&(f+=" && "+(h+=ye(F(y))))}return f},unescapeFragment:function(v){return F(decodeURIComponent(v))},unescapeJsonPointer:F,escapeFragment:function(v){return encodeURIComponent(N(v))},escapeJsonPointer:N};var z=oe(["string","number","integer","boolean","null"]);function oe(v){for(var b={},p=0;p<v.length;p++)b[v[p]]=!0;return b}var be=/^[a-z$_][a-z$_0-9]*$/i,fe=/'|\\/g;function ye(v){return"number"==typeof v?"["+v+"]":be.test(v)?"."+v:"['"+ce(v)+"']"}function ce(v){return v.replace(fe,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function J(v){return"'"+ce(v)+"'"}var O=/^\/(?:[^~]|~0|~1)*$/,T=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function j(v,b){return'""'==v?b:(v+" + "+b).replace(/([^\\])' \+ '/g,"$1")}function N(v){return v.replace(/~/g,"~0").replace(/\//g,"~1")}function F(v){return v.replace(/~1/g,"/").replace(/~0/g,"~")}},9394:function(je){"use strict";var M=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];je.exports=function(ue,Ae){for(var z=0;z<Ae.length;z++){ue=JSON.parse(JSON.stringify(ue));for(var oe=Ae[z].split("/"),be=ue,fe=1;fe<oe.length;fe++)be=be[oe[fe]];for(fe=0;fe<M.length;fe++){var ye=M[fe],ce=be[ye];ce&&(be[ye]={anyOf:[ce,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return ue}},5868:function(je,M,ue){"use strict";ue=ue(6680),je.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:ue.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:ue.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},1796:function(je){"use strict";je.exports=function(M,ue,Ae){var z,oe,be,fe,ye,ce=" ",J=M.level,O=M.dataLevel,T=M.schema[ue],j=M.schemaPath+M.util.getProperty(ue),N=M.errSchemaPath+"/"+ue,F=!M.opts.allErrors,v="data"+(O||""),b=M.opts.$data&&T&&T.$data,p=b?(ce+=" var schema"+J+" = "+M.util.getData(T.$data,O,M.dataPathArr)+"; ","schema"+J):T,u="maximum"==ue,h=u?"exclusiveMaximum":"exclusiveMinimum",d=M.schema[h],f=M.opts.$data&&d&&d.$data,k=u?"<":">",m=u?">":"<",y=void 0;if(!b&&"number"!=typeof T&&void 0!==T)throw new Error(ue+" must be number");if(!f&&void 0!==d&&"number"!=typeof d&&"boolean"!=typeof d)throw new Error(h+" must be number or boolean");f?(O=M.util.getData(d.$data,O,M.dataPathArr),be="exclIsNumber"+J,fe="' + "+(ye="op"+J)+" + '",y=h,(S=S||[]).push(ce=ce+" var schemaExcl"+J+" = "+O+";  var "+(z="exclusive"+J)+"; var "+(oe="exclType"+J)+" = typeof "+(O="schemaExcl"+J)+"; if ("+oe+" != 'boolean' && "+oe+" != 'undefined' && "+oe+" != 'number') { "),ce="",!1!==M.createErrors?(ce+=" { keyword: '"+(y||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(N)+" , params: {} ",!1!==M.opts.messages&&(ce+=" , message: '"+h+" should be boolean' "),M.opts.verbose&&(ce+=" , schema: validate.schema"+j+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+v+" "),ce+=" } "):ce+=" {} ",V=ce,ce=S.pop(),ce+=!M.compositeRule&&F?M.async?" throw new ValidationError(["+V+"]); ":" validate.errors = ["+V+"]; return false; ":" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",ce+=" } else if ( ",b&&(ce+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),ce+=" "+oe+" == 'number' ? ( ("+z+" = "+p+" === undefined || "+O+" "+k+"= "+p+") ? "+v+" "+m+"= "+O+" : "+v+" "+m+" "+p+" ) : ( ("+z+" = "+O+" === true) ? "+v+" "+m+"= "+p+" : "+v+" "+m+" "+p+" ) || "+v+" !== "+v+") { var op"+J+" = "+z+" ? '"+k+"' : '"+k+"='; ",void 0===T&&(N=M.errSchemaPath+"/"+(y=h),p=O,b=f)):(fe=k,(be="number"==typeof d)&&b?(ye="'"+fe+"'",ce+=" if ( ",b&&(ce+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),ce+=" ( "+p+" === undefined || "+d+" "+k+"= "+p+" ? "+v+" "+m+"= "+d+" : "+v+" "+m+" "+p+" ) || "+v+" !== "+v+") { "):(be&&void 0===T?(z=!0,N=M.errSchemaPath+"/"+(y=h),p=d,m+="="):(be&&(p=Math[u?"min":"max"](d,T)),d===(!be||p)?(z=!0,N=M.errSchemaPath+"/"+(y=h),m+="="):(z=!1,fe+="=")),ye="'"+fe+"'",ce+=" if ( ",b&&(ce+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),ce+=" "+v+" "+m+" "+p+" || "+v+" !== "+v+") { ")),y=y||ue,(S=S||[]).push(ce),ce="",!1!==M.createErrors?(ce+=" { keyword: '"+(y||"_limit")+"' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(N)+" , params: { comparison: "+ye+", limit: "+p+", exclusive: "+z+" } ",!1!==M.opts.messages&&(ce=ce+" , message: 'should be "+fe+" "+(b?"' + "+p:p+"'")),M.opts.verbose&&(ce=(ce+=" , schema:  ")+(b?"validate.schema"+j:""+T)+"         , parentSchema: validate.schema"+M.schemaPath+" , data: "+v+" "),ce+=" } "):ce+=" {} ";var S,V=ce;return ce=S.pop(),ce+=!M.compositeRule&&F?M.async?" throw new ValidationError(["+V+"]); ":" validate.errors = ["+V+"]; return false; ":" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",ce+=" } ",F&&(ce+=" else { "),ce}},2407:function(je){"use strict";je.exports=function(M,ue,Ae){var z,oe=" ",be=M.level,j=M.dataLevel,fe=M.schema[ue],ye=M.schemaPath+M.util.getProperty(ue),ce=M.errSchemaPath+"/"+ue,J=!M.opts.allErrors,O="data"+(j||""),T=M.opts.$data&&fe&&fe.$data;if(j=T?(oe+=" var schema"+be+" = "+M.util.getData(fe.$data,j,M.dataPathArr)+"; ","schema"+be):fe,T||"number"==typeof fe)return oe+="if ( ",T&&(oe+=" ("+j+" !== undefined && typeof "+j+" != 'number') || "),(be=[]).push(oe+=" "+O+".length "+("maxItems"==(z=ue)?">":"<")+" "+j+") { "),oe="",!1!==M.createErrors?(oe+=" { keyword: '"+(z||"_limitItems")+"' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ce)+" , params: { limit: "+j+" } ",!1!==M.opts.messages&&(oe=(oe=(oe+=" , message: 'should NOT have ")+("maxItems"==ue?"more":"fewer")+" than ")+(T?"' + "+j+" + '":""+fe)+" items' "),M.opts.verbose&&(oe=(oe+=" , schema:  ")+(T?"validate.schema"+ye:""+fe)+"         , parentSchema: validate.schema"+M.schemaPath+" , data: "+O+" "),oe+=" } "):oe+=" {} ",z=oe,oe=be.pop(),oe+=!M.compositeRule&&J?M.async?" throw new ValidationError(["+z+"]); ":" validate.errors = ["+z+"]; return false; ":" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",oe+="} ",J&&(oe+=" else { "),oe;throw new Error(ue+" must be number")}},1250:function(je){"use strict";je.exports=function(M,ue,Ae){var z,oe=" ",be=M.level,j=M.dataLevel,fe=M.schema[ue],ye=M.schemaPath+M.util.getProperty(ue),ce=M.errSchemaPath+"/"+ue,J=!M.opts.allErrors,O="data"+(j||""),T=M.opts.$data&&fe&&fe.$data;if(j=T?(oe+=" var schema"+be+" = "+M.util.getData(fe.$data,j,M.dataPathArr)+"; ","schema"+be):fe,T||"number"==typeof fe)return oe+="if ( ",T&&(oe+=" ("+j+" !== undefined && typeof "+j+" != 'number') || "),oe+=!1===M.opts.unicode?" "+O+".length ":" ucs2length("+O+") ",(be=[]).push(oe+=" "+("maxLength"==(z=ue)?">":"<")+" "+j+") { "),oe="",!1!==M.createErrors?(oe+=" { keyword: '"+(z||"_limitLength")+"' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ce)+" , params: { limit: "+j+" } ",!1!==M.opts.messages&&(oe=(oe=(oe+=" , message: 'should NOT be ")+("maxLength"==ue?"longer":"shorter")+" than ")+(T?"' + "+j+" + '":""+fe)+" characters' "),M.opts.verbose&&(oe=(oe+=" , schema:  ")+(T?"validate.schema"+ye:""+fe)+"         , parentSchema: validate.schema"+M.schemaPath+" , data: "+O+" "),oe+=" } "):oe+=" {} ",z=oe,oe=be.pop(),oe+=!M.compositeRule&&J?M.async?" throw new ValidationError(["+z+"]); ":" validate.errors = ["+z+"]; return false; ":" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",oe+="} ",J&&(oe+=" else { "),oe;throw new Error(ue+" must be number")}},2596:function(je){"use strict";je.exports=function(M,ue,Ae){var z,oe=" ",be=M.level,j=M.dataLevel,fe=M.schema[ue],ye=M.schemaPath+M.util.getProperty(ue),ce=M.errSchemaPath+"/"+ue,J=!M.opts.allErrors,O="data"+(j||""),T=M.opts.$data&&fe&&fe.$data;if(j=T?(oe+=" var schema"+be+" = "+M.util.getData(fe.$data,j,M.dataPathArr)+"; ","schema"+be):fe,T||"number"==typeof fe)return oe+="if ( ",T&&(oe+=" ("+j+" !== undefined && typeof "+j+" != 'number') || "),(be=[]).push(oe+=" Object.keys("+O+").length "+("maxProperties"==(z=ue)?">":"<")+" "+j+") { "),oe="",!1!==M.createErrors?(oe+=" { keyword: '"+(z||"_limitProperties")+"' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ce)+" , params: { limit: "+j+" } ",!1!==M.opts.messages&&(oe=(oe=(oe+=" , message: 'should NOT have ")+("maxProperties"==ue?"more":"fewer")+" than ")+(T?"' + "+j+" + '":""+fe)+" properties' "),M.opts.verbose&&(oe=(oe+=" , schema:  ")+(T?"validate.schema"+ye:""+fe)+"         , parentSchema: validate.schema"+M.schemaPath+" , data: "+O+" "),oe+=" } "):oe+=" {} ",z=oe,oe=be.pop(),oe+=!M.compositeRule&&J?M.async?" throw new ValidationError(["+z+"]); ":" validate.errors = ["+z+"]; return false; ":" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",oe+="} ",J&&(oe+=" else { "),oe;throw new Error(ue+" must be number")}},9486:function(je){"use strict";je.exports=function(M,ue,Ae){var z=" ",oe=M.schema[ue],be=M.schemaPath+M.util.getProperty(ue),fe=M.errSchemaPath+"/"+ue,ye=!M.opts.allErrors,ce=M.util.copy(M),J="",O=(ce.level++,"valid"+ce.level),T=ce.baseId,j=!0,N=oe;if(N)for(var F,v=-1,b=N.length-1;v<b;)F=N[v+=1],(M.opts.strictKeywords?"object"==typeof F&&0<Object.keys(F).length||!1===F:M.util.schemaHasRules(F,M.RULES.all))&&(j=!1,ce.schema=F,ce.schemaPath=be+"["+v+"]",ce.errSchemaPath=fe+"/"+v,z+="  "+M.validate(ce)+" ",ce.baseId=T,ye)&&(z+=" if ("+O+") { ",J+="}");return ye&&(z+=j?" if (true) { ":" "+J.slice(0,-1)+" "),z}},5347:function(je){"use strict";je.exports=function(M,ye,Ae){var z=" ",O=M.level,ce=M.dataLevel,oe=M.schema[ye],be=M.schemaPath+M.util.getProperty(ye),fe=M.errSchemaPath+"/"+ye,J=(ye=!M.opts.allErrors,ce="data"+(ce||""),"valid"+O),T=(O="errs__"+O,M.util.copy(M)),j="",N=(T.level++,"valid"+T.level);if(oe.every(function(d){return M.opts.strictKeywords?"object"==typeof d&&0<Object.keys(d).length||!1===d:M.util.schemaHasRules(d,M.RULES.all)})){var F=T.baseId,v=(z+=" var "+O+" = errors; var "+J+" = false;  ",M.compositeRule),b=(M.compositeRule=T.compositeRule=!0,oe);if(b)for(var p,u=-1,h=b.length-1;u<h;)p=b[u+=1],T.schema=p,T.schemaPath=be+"["+u+"]",T.errSchemaPath=fe+"/"+u,z+="  "+M.validate(T)+" ",T.baseId=F,z+=" "+J+" = "+J+" || "+N+"; if (!"+J+") { ",j+="}";M.compositeRule=T.compositeRule=v,z+=" "+j+" if (!"+J+") {   var err =   ",!1!==M.createErrors?(z+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(fe)+" , params: {} ",!1!==M.opts.messages&&(z+=" , message: 'should match some schema in anyOf' "),M.opts.verbose&&(z+=" , schema: validate.schema"+be+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+ce+" "),z+=" } "):z+=" {} ",z+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!M.compositeRule&&ye&&(z+=M.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),z+=" } else {  errors = "+O+"; if (vErrors !== null) { if ("+O+") vErrors.length = "+O+"; else vErrors = null; } ",M.opts.allErrors&&(z+=" } ")}else ye&&(z+=" if (true) { ");return z}},923:function(je){"use strict";je.exports=function(M,oe,Ae){var z=" ",be=M.schema[oe];return oe=M.errSchemaPath+"/"+oe,be=M.util.toQuotedString(be),!0===M.opts.$comment?z+=" console.log("+be+");":"function"==typeof M.opts.$comment&&(z+=" self._opts.$comment("+be+", "+M.util.toQuotedString(oe)+", validate.root.schema);"),z}},2617:function(je){"use strict";je.exports=function(M,be,Ae){var j=" ",z=M.level,T=M.dataLevel,O=M.schema[be],oe=M.schemaPath+M.util.getProperty(be),fe=(be=M.errSchemaPath+"/"+be,!M.opts.allErrors),ye="data"+(T||""),ce="valid"+z,J=M.opts.$data&&O&&O.$data;return(J&&(j+=" var schema"+z+" = "+M.util.getData(O.$data,T,M.dataPathArr)+"; "),J||(j+=" var schema"+z+" = validate.schema"+oe+";"),O=[]).push(j+="var "+ce+" = equal("+ye+", schema"+z+"); if (!"+ce+") {   "),j="",!1!==M.createErrors?(j+=" { keyword: 'const' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(be)+" , params: { allowedValue: schema"+z+" } ",!1!==M.opts.messages&&(j+=" , message: 'should be equal to constant' "),M.opts.verbose&&(j+=" , schema: validate.schema"+oe+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+ye+" "),j+=" } "):j+=" {} ",T=j,j=O.pop(),j+=!M.compositeRule&&fe?M.async?" throw new ValidationError(["+T+"]); ":" validate.errors = ["+T+"]; return false; ":" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",j+=" }",fe&&(j+=" else { "),j}},2119:function(je){"use strict";je.exports=function(M,be,Ae){var p=" ",v=M.level,ye=M.dataLevel,z=M.schema[be],oe=M.schemaPath+M.util.getProperty(be),fe=(be=M.errSchemaPath+"/"+be,!M.opts.allErrors),ce=(ye="data"+(ye||""),"valid"+v),J="errs__"+v,O=M.util.copy(M),T=(O.level++,"valid"+O.level),j=(v="i"+v,O.dataLevel=M.dataLevel+1),N="data"+j,b=M.baseId,F=M.opts.strictKeywords?"object"==typeof z&&0<Object.keys(z).length||!1===z:M.util.schemaHasRules(z,M.RULES.all);return(p+="var "+J+" = errors;var "+ce+";",F?(ce=M.compositeRule,M.compositeRule=O.compositeRule=!0,O.schema=z,O.schemaPath=oe,O.errSchemaPath=be,p+=" var "+T+" = false; for (var "+v+" = 0; "+v+" < "+ye+".length; "+v+"++) { ",O.errorPath=M.util.getPathExpr(M.errorPath,v,M.opts.jsonPointers,!0),z=ye+"["+v+"]",O.dataPathArr[j]=v,j=M.validate(O),O.baseId=b,M.util.varOccurences(j,N)<2?p+=" "+M.util.varReplace(j,N,z)+" ":p+=" var "+N+" = "+z+"; "+j+" ",p+=" if ("+T+") break; }  ",M.compositeRule=O.compositeRule=ce,p+="  if (!"+T+") {"):p+=" if ("+ye+".length == 0) {",v=[]).push(p),p="",!1!==M.createErrors?(p+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(be)+" , params: {} ",!1!==M.opts.messages&&(p+=" , message: 'should contain a valid item' "),M.opts.verbose&&(p+=" , schema: validate.schema"+oe+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+ye+" "),p+=" } "):p+=" {} ",b=p,p=v.pop(),p+=!M.compositeRule&&fe?M.async?" throw new ValidationError(["+b+"]); ":" validate.errors = ["+b+"]; return false; ":" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",p+=" } else { ",F&&(p+="  errors = "+J+"; if (vErrors !== null) { if ("+J+") vErrors.length = "+J+"; else vErrors = null; } "),M.opts.allErrors&&(p+=" } "),p}},1793:function(je){"use strict";je.exports=function(M,E,Ae){var z,oe,be,fe=" ",ye=M.level,ce=M.dataLevel,w=M.schema[E],J=M.schemaPath+M.util.getProperty(E),O=M.errSchemaPath+"/"+E,T=!M.opts.allErrors,j="data"+(ce||""),N="valid"+ye,F="errs__"+ye,v=M.opts.$data&&w&&w.$data,b=v?(fe+=" var schema"+ye+" = "+M.util.getData(w.$data,ce,M.dataPathArr)+"; ","schema"+ye):w,p="definition"+ye,u=this.definition,h="";if(v&&u.$data){var d="keywordValidate"+ye,f=u.validateSchema;fe+=" var "+p+" = RULES.custom['"+E+"'].definition; var "+d+" = "+p+".validate;"}else{if(!(S=M.useCustomRule(this,w,M.schema,M)))return;b="validate.schema"+J,d=S.code,z=u.compile,oe=u.inline,be=u.macro}E=d+".errors",w="i"+ye;var k,m,y,S,V,B="ruleErr"+ye,K=u.async;if(K&&!M.async)throw new Error("async keyword in sync schema");return oe||be||(fe+=E+" = null;"),fe+="var "+F+" = errors;var "+N+";",v&&u.$data&&(h+="}",fe+=" if ("+b+" === undefined) { "+N+" = true; } else { ",f)&&(h+="}",fe+=" "+N+" = "+p+".validateSchema("+b+"); if ("+N+") { "),oe?fe+=u.statements?" "+S.validate+" ":" "+N+" = "+S.validate+"; ":be?(h="",(v=M.util.copy(M)).level++,k="valid"+v.level,v.schema=S.validate,v.schemaPath="",f=M.compositeRule,M.compositeRule=v.compositeRule=!0,p=M.validate(v).replace(/validate\.schema/g,d),M.compositeRule=v.compositeRule=f,fe+=" "+p):((V=V||[]).push(fe),fe="",fe+="  "+d+".call( ",fe+=M.opts.passContext?"this":"self",fe+=z||!1===u.schema?" , "+j+" ":" , "+b+" , "+j+" , validate.schema"+M.schemaPath+" ",fe+=" , (dataPath || '')",'""'!=M.errorPath&&(fe+=" + "+M.errorPath),S=fe+=" , "+(m=ce?"data"+(ce-1||""):"parentData")+" , "+(y=ce?M.dataPathArr[ce]:"parentDataProperty")+" , rootData )  ",fe=V.pop(),!1===u.errors?(fe+=" "+N+" = ",K&&(fe+="await "),fe+=S+"; "):fe+=K?" var "+(E="customErrors"+ye)+" = null; try { "+N+" = await "+S+"; } catch (e) { "+N+" = false; if (e instanceof ValidationError) "+E+" = e.errors; else throw e; } ":" "+E+" = null; "+N+" = "+S+"; "),u.modifying&&(fe+=" if ("+m+") "+j+" = "+m+"["+y+"];"),fe+=""+h,u.valid?T&&(fe+=" if (true) { "):(fe+=" if ( ",void 0===u.valid?fe=fe+" !"+(be?""+k:N):fe+=" "+!u.valid+" ",v=this.keyword,(V=V||[]).push(fe+=") { "),(V=V||[]).push(fe=""),fe="",!1!==M.createErrors?(fe+=" { keyword: '"+(v||"custom")+"' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(O)+" , params: { keyword: '"+this.keyword+"' } ",!1!==M.opts.messages&&(fe+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),M.opts.verbose&&(fe+=" , schema: validate.schema"+J+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+j+" "),fe+=" } "):fe+=" {} ",f=fe,fe=V.pop(),p=fe+=!M.compositeRule&&T?M.async?" throw new ValidationError(["+f+"]); ":" validate.errors = ["+f+"]; return false; ":" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",fe=V.pop(),oe?u.errors?"full"!=u.errors&&(fe+="  for (var "+w+"="+F+"; "+w+"<errors; "+w+"++) { var "+B+" = vErrors["+w+"]; if ("+B+".dataPath === undefined) "+B+".dataPath = (dataPath || '') + "+M.errorPath+"; if ("+B+".schemaPath === undefined) { "+B+'.schemaPath = "'+O+'"; } ',M.opts.verbose&&(fe+=" "+B+".schema = "+b+"; "+B+".data = "+j+"; "),fe+=" } "):!1===u.errors?fe+=" "+p+" ":(fe+=" if ("+F+" == errors) { "+p+" } else {  for (var "+w+"="+F+"; "+w+"<errors; "+w+"++) { var "+B+" = vErrors["+w+"]; if ("+B+".dataPath === undefined) "+B+".dataPath = (dataPath || '') + "+M.errorPath+"; if ("+B+".schemaPath === undefined) { "+B+'.schemaPath = "'+O+'"; } ',M.opts.verbose&&(fe+=" "+B+".schema = "+b+"; "+B+".data = "+j+"; "),fe+=" } } "):be?(fe+="   var err =   ",!1!==M.createErrors?(fe+=" { keyword: '"+(v||"custom")+"' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(O)+" , params: { keyword: '"+this.keyword+"' } ",!1!==M.opts.messages&&(fe+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),M.opts.verbose&&(fe+=" , schema: validate.schema"+J+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+j+" "),fe+=" } "):fe+=" {} ",fe+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!M.compositeRule&&T&&(fe+=M.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===u.errors?fe+=" "+p+" ":(fe+=" if (Array.isArray("+E+")) { if (vErrors === null) vErrors = "+E+"; else vErrors = vErrors.concat("+E+"); errors = vErrors.length;  for (var "+w+"="+F+"; "+w+"<errors; "+w+"++) { var "+B+" = vErrors["+w+"]; if ("+B+".dataPath === undefined) "+B+".dataPath = (dataPath || '') + "+M.errorPath+";  "+B+'.schemaPath = "'+O+'";  ',M.opts.verbose&&(fe+=" "+B+".schema = "+b+"; "+B+".data = "+j+"; "),fe+=" } } else { "+p+" } "),fe+=" } ",T&&(fe+=" else { ")),fe}},9115:function(je){"use strict";je.exports=function(M,j,Ae){var z,oe=" ",be=M.level,fe=M.dataLevel,ye=M.schema[j],ce=M.schemaPath+M.util.getProperty(j),J=M.errSchemaPath+"/"+j,O=!M.opts.allErrors,T="data"+(fe||""),N=(j="errs__"+be,M.util.copy(M)),F="",v=(N.level++,"valid"+N.level),b={},p={},u=M.opts.ownProperties;for(W in ye)"__proto__"!=W&&(H=ye[W],(z=Array.isArray(H)?p:b)[W]=H);var h=M.errorPath;for(W in oe=oe+"var "+j+" = errors;var missing"+be+";",p)if((z=p[W]).length){if(oe+=" if ( "+T+M.util.getProperty(W)+" !== undefined ",u&&(oe+=" && Object.prototype.hasOwnProperty.call("+T+", '"+M.util.escapeQuotes(W)+"') "),O){oe+=" && ( ";var d=z;if(d)for(var f=-1,k=d.length-1;f<k;)E=d[f+=1],f&&(oe+=" || "),oe+=" ( ( "+(U=T+(K=M.util.getProperty(E)))+" === undefined ",u&&(oe+=" || ! Object.prototype.hasOwnProperty.call("+T+", '"+M.util.escapeQuotes(E)+"') "),oe+=") && (missing"+be+" = "+M.util.toQuotedString(M.opts.jsonPointers?E:K)+") ) ";oe+=")) {  ";var m="' + "+(S="missing"+be)+" + '",y=(M.opts._errorDataPathProperty&&(M.errorPath=M.opts.jsonPointers?M.util.getPathExpr(h,S,!0):h+" + "+S),y||[]),S=(y.push(oe),oe="",!1!==M.createErrors?(oe+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(J)+" , params: { property: '"+M.util.escapeQuotes(W)+"', missingProperty: '"+m+"', depsCount: "+z.length+", deps: '"+M.util.escapeQuotes(1==z.length?z[0]:z.join(", "))+"' } ",!1!==M.opts.messages&&(oe+=" , message: 'should have ",oe+=1==z.length?"property "+M.util.escapeQuotes(z[0]):"properties "+M.util.escapeQuotes(z.join(", ")),oe+=" when property "+M.util.escapeQuotes(W)+" is present' "),M.opts.verbose&&(oe+=" , schema: validate.schema"+ce+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+T+" "),oe+=" } "):oe+=" {} ",oe);oe=y.pop(),oe+=!M.compositeRule&&O?M.async?" throw new ValidationError(["+S+"]); ":" validate.errors = ["+S+"]; return false; ":" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{oe+=" ) { ";var V=z;if(V)for(var E,w=-1,B=V.length-1;w<B;){E=V[w+=1];var K=M.util.getProperty(E),U=(m=M.util.escapeQuotes(E),T+K);M.opts._errorDataPathProperty&&(M.errorPath=M.util.getPath(h,E,M.opts.jsonPointers)),oe+=" if ( "+U+" === undefined ",u&&(oe+=" || ! Object.prototype.hasOwnProperty.call("+T+", '"+M.util.escapeQuotes(E)+"') "),oe+=") {  var err =   ",!1!==M.createErrors?(oe+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(J)+" , params: { property: '"+M.util.escapeQuotes(W)+"', missingProperty: '"+m+"', depsCount: "+z.length+", deps: '"+M.util.escapeQuotes(1==z.length?z[0]:z.join(", "))+"' } ",!1!==M.opts.messages&&(oe+=" , message: 'should have ",oe+=1==z.length?"property "+M.util.escapeQuotes(z[0]):"properties "+M.util.escapeQuotes(z.join(", ")),oe+=" when property "+M.util.escapeQuotes(W)+" is present' "),M.opts.verbose&&(oe+=" , schema: validate.schema"+ce+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+T+" "),oe+=" } "):oe+=" {} ",oe+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}oe+=" }   ",O&&(F+="}",oe+=" else { ")}M.errorPath=h;var W,re=N.baseId;for(W in b){var H=b[W];(M.opts.strictKeywords?"object"==typeof H&&0<Object.keys(H).length||!1===H:M.util.schemaHasRules(H,M.RULES.all))&&(oe+=" "+v+" = true; if ( "+T+M.util.getProperty(W)+" !== undefined ",u&&(oe+=" && Object.prototype.hasOwnProperty.call("+T+", '"+M.util.escapeQuotes(W)+"') "),oe+=") { ",N.schema=H,N.schemaPath=ce+M.util.getProperty(W),N.errSchemaPath=J+"/"+M.util.escapeFragment(W),oe+="  "+M.validate(N)+" ",N.baseId=re,oe+=" }  ",O)&&(oe+=" if ("+v+") { ",F+="}")}return O&&(oe+="   "+F+" if ("+j+" == errors) {"),oe}},9317:function(je){"use strict";je.exports=function(M,be,Ae){var j=" ",z=M.level,O=M.dataLevel,T=M.schema[be],oe=M.schemaPath+M.util.getProperty(be),fe=(be=M.errSchemaPath+"/"+be,!M.opts.allErrors),ye="data"+(O||""),ce="valid"+z,J=M.opts.$data&&T&&T.$data;return J&&(j+=" var schema"+z+" = "+M.util.getData(T.$data,O,M.dataPathArr)+"; "),O="schema"+z,(J||(j+=" var "+O+" = validate.schema"+oe+";"),j+="var "+ce+";",J&&(j+=" if (schema"+z+" === undefined) "+ce+" = true; else if (!Array.isArray(schema"+z+")) "+ce+" = false; else {"),j+=ce+" = false;for (var "+(T="i"+z)+"=0; "+T+"<"+O+".length; "+T+"++) if (equal("+ye+", "+O+"["+T+"])) { "+ce+" = true; break; }",J&&(j+="  }  "),O=[]).push(j+=" if (!"+ce+") {   "),j="",!1!==M.createErrors?(j+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(be)+" , params: { allowedValues: schema"+z+" } ",!1!==M.opts.messages&&(j+=" , message: 'should be equal to one of the allowed values' "),M.opts.verbose&&(j+=" , schema: validate.schema"+oe+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+ye+" "),j+=" } "):j+=" {} ",T=j,j=O.pop(),j+=!M.compositeRule&&fe?M.async?" throw new ValidationError(["+T+"]); ":" validate.errors = ["+T+"]; return false; ":" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",j+=" }",fe&&(j+=" else { "),j}},8327:function(je){"use strict";je.exports=function(M,ce,Ae){var z=" ",oe=M.level,be=M.dataLevel,fe=M.schema[ce],ye=M.schemaPath+M.util.getProperty(ce),J=(ce=M.errSchemaPath+"/"+ce,!M.opts.allErrors),O="data"+(be||"");if(!1===M.opts.format)J&&(z+=" if (true) { ");else{var T,j=M.opts.$data&&fe&&fe.$data,N=(be=j?(z+=" var schema"+oe+" = "+M.util.getData(fe.$data,be,M.dataPathArr)+"; ","schema"+oe):fe,M.opts.unknownFormats),F=Array.isArray(N);if(j)z+=" var "+(T="format"+oe)+" = formats["+be+"]; var "+(v="isObject"+oe)+" = typeof "+T+" == 'object' && !("+T+" instanceof RegExp) && "+T+".validate; var "+(p="formatType"+oe)+" = "+v+" && "+T+".type || 'string'; if ("+v+") { ",M.async&&(z+=" var async"+oe+" = "+T+".async; "),z+=" "+T+" = "+T+".validate; } if (  ",j&&(z+=" ("+be+" !== undefined && typeof "+be+" != 'string') || "),z+=" (","ignore"!=N&&(z+=" ("+be+" && !"+T+" ",F&&(z+=" && self._opts.unknownFormats.indexOf("+be+") == -1 "),z+=") || "),z+=" ("+T+" && "+p+" == '"+Ae+"' && !(typeof "+T+" == 'function' ? ",z+=M.async?" (async"+oe+" ? await "+T+"("+O+") : "+T+"("+O+")) ":" "+T+"("+O+") ",z+=" : "+T+".test("+O+"))))) {";else{if(!(T=M.formats[fe])){if("ignore"==N)return M.logger.warn('unknown format "'+fe+'" ignored in schema at path "'+M.errSchemaPath+'"'),J&&(z+=" if (true) { "),z;if(F&&0<=N.indexOf(fe))return J&&(z+=" if (true) { "),z;throw new Error('unknown format "'+fe+'" is used in schema at path "'+M.errSchemaPath+'"')}var v,b,p=(v="object"==typeof T&&!(T instanceof RegExp)&&T.validate)&&T.type||"string";if(v&&(b=!0===T.async,T=T.validate),p!=Ae)return J&&(z+=" if (true) { "),z;if(b){if(!M.async)throw new Error("async format in sync schema");z+=" if (!(await "+(u="formats"+M.util.getProperty(fe)+".validate")+"("+O+"))) { "}else{z+=" if (! ";var u="formats"+M.util.getProperty(fe);v&&(u+=".validate"),z=z+("function"==typeof T?" "+u+"("+O+") ":" "+u+".test("+O+") ")+") { "}}(oe=[]).push(z),z="",!1!==M.createErrors?(z=(z+=" { keyword: 'format' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ce)+" , params: { format:  ")+(j?""+be:""+M.util.toQuotedString(fe))+"  } ",!1!==M.opts.messages&&(z=(z+=" , message: 'should match format \"")+(j?"' + "+be+" + '":""+M.util.escapeQuotes(fe))+"\"' "),M.opts.verbose&&(z=(z=(z+=" , schema:  ")+(j?"validate.schema"+ye:""+M.util.toQuotedString(fe)))+"         , parentSchema: validate.schema"+M.schemaPath+" , data: "+O+" "),z+=" } "):z+=" {} ",F=z,z=oe.pop(),z+=!M.compositeRule&&J?M.async?" throw new ValidationError(["+F+"]); ":" validate.errors = ["+F+"]; return false; ":" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",z+=" } ",J&&(z+=" else { ")}return z}},5926:function(je){"use strict";je.exports=function(M,ce,Ae){var z,oe=" ",be=M.level,O=M.dataLevel,fe=M.schema[ce],ye=M.schemaPath+M.util.getProperty(ce),J=(ce=M.errSchemaPath+"/"+ce,!M.opts.allErrors),T=(O="data"+(O||""),"valid"+be),j="errs__"+be,N=M.util.copy(M),F=(N.level++,"valid"+N.level),b=M.schema.else,v=void 0!==(v=M.schema.then)&&(M.opts.strictKeywords?"object"==typeof v&&0<Object.keys(v).length||!1===v:M.util.schemaHasRules(v,M.RULES.all)),p=(b=void 0!==b&&(M.opts.strictKeywords?"object"==typeof b&&0<Object.keys(b).length||!1===b:M.util.schemaHasRules(b,M.RULES.all)),N.baseId);return v||b?(N.createErrors=!1,N.schema=fe,N.schemaPath=ye,N.errSchemaPath=ce,oe+=" var "+j+" = errors; var "+T+" = true;  ",fe=M.compositeRule,M.compositeRule=N.compositeRule=!0,oe+="  "+M.validate(N)+" ",N.baseId=p,N.createErrors=!0,oe+="  errors = "+j+"; if (vErrors !== null) { if ("+j+") vErrors.length = "+j+"; else vErrors = null; }  ",M.compositeRule=N.compositeRule=fe,v?(oe+=" if ("+F+") {  ",N.schema=M.schema.then,N.schemaPath=M.schemaPath+".then",N.errSchemaPath=M.errSchemaPath+"/then",oe+="  "+M.validate(N)+" ",N.baseId=p,oe+=" "+T+" = "+F+"; ",v&&b?oe+=" var "+(z="ifClause"+be)+" = 'then'; ":z="'then'",oe+=" } ",b&&(oe+=" else { ")):oe+=" if (!"+F+") { ",b&&(N.schema=M.schema.else,N.schemaPath=M.schemaPath+".else",N.errSchemaPath=M.errSchemaPath+"/else",oe+="  "+M.validate(N)+" ",N.baseId=p,oe+=" "+T+" = "+F+"; ",v&&b?oe+=" var "+(z="ifClause"+be)+" = 'else'; ":z="'else'",oe+=" } "),oe+=" if (!"+T+") {   var err =   ",!1!==M.createErrors?(oe+=" { keyword: 'if' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ce)+" , params: { failingKeyword: "+z+" } ",!1!==M.opts.messages&&(oe+=" , message: 'should match \"' + "+z+" + '\" schema' "),M.opts.verbose&&(oe+=" , schema: validate.schema"+ye+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+O+" "),oe+=" } "):oe+=" {} ",oe+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!M.compositeRule&&J&&(oe+=M.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),oe+=" }   ",J&&(oe+=" else { ")):J&&(oe+=" if (true) { "),oe}},9646:function(je,M,ue){"use strict";je.exports={$ref:ue(2331),allOf:ue(9486),anyOf:ue(5347),$comment:ue(923),const:ue(2617),contains:ue(2119),dependencies:ue(9115),enum:ue(9317),format:ue(8327),if:ue(5926),items:ue(392),maximum:ue(1796),minimum:ue(1796),maxItems:ue(2407),minItems:ue(2407),maxLength:ue(1250),minLength:ue(1250),maxProperties:ue(2596),minProperties:ue(2596),multipleOf:ue(6039),not:ue(7946),oneOf:ue(9344),pattern:ue(9737),properties:ue(2537),propertyNames:ue(2127),required:ue(1204),uniqueItems:ue(1985),validate:ue(1869)}},392:function(je){"use strict";je.exports=function(M,J,Ae){var z=" ",F=M.level,O=M.dataLevel,oe=M.schema[J],be=M.schemaPath+M.util.getProperty(J),fe=M.errSchemaPath+"/"+J,ye=!M.opts.allErrors,ce="data"+(O||""),T=(J="valid"+F,O="errs__"+F,M.util.copy(M)),j="",N=(T.level++,"valid"+T.level),v=(F="i"+F,T.dataLevel=M.dataLevel+1),b="data"+v,p=M.baseId;if(z+="var "+O+" = errors;var "+J+";",Array.isArray(oe)){var u,h,d=M.schema.additionalItems,f=(!1===d&&(z+=" "+J+" = "+ce+".length <= "+oe.length+"; ",u=fe,fe=M.errSchemaPath+"/additionalItems",(h=h||[]).push(z+="  if (!"+J+") {   "),z="",!1!==M.createErrors?(z+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(fe)+" , params: { limit: "+oe.length+" } ",!1!==M.opts.messages&&(z+=" , message: 'should NOT have more than "+oe.length+" items' "),M.opts.verbose&&(z+=" , schema: false , parentSchema: validate.schema"+M.schemaPath+" , data: "+ce+" "),z+=" } "):z+=" {} ",J=z,z=h.pop(),z+=!M.compositeRule&&ye?M.async?" throw new ValidationError(["+J+"]); ":" validate.errors = ["+J+"]; return false; ":" var err = "+J+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",z+=" } ",fe=u,ye)&&(j+="}",z+=" else { "),oe);if(f)for(var k=-1,m=f.length-1;k<m;){var y,S,V=f[k+=1];(M.opts.strictKeywords?"object"==typeof V&&0<Object.keys(V).length||!1===V:M.util.schemaHasRules(V,M.RULES.all))&&(z+=" "+N+" = true; if ("+ce+".length > "+k+") { ",y=ce+"["+k+"]",T.schema=V,T.schemaPath=be+"["+k+"]",T.errSchemaPath=fe+"/"+k,T.errorPath=M.util.getPathExpr(M.errorPath,k,M.opts.jsonPointers,!0),T.dataPathArr[v]=k,S=M.validate(T),T.baseId=p,M.util.varOccurences(S,b)<2?z+=" "+M.util.varReplace(S,b,y)+" ":z+=" var "+b+" = "+y+"; "+S+" ",z+=" }  ",ye)&&(z+=" if ("+N+") { ",j+="}")}"object"==typeof d&&(M.opts.strictKeywords?"object"==typeof d&&0<Object.keys(d).length||!1===d:M.util.schemaHasRules(d,M.RULES.all))&&(T.schema=d,T.schemaPath=M.schemaPath+".additionalItems",T.errSchemaPath=M.errSchemaPath+"/additionalItems",z+=" "+N+" = true; if ("+ce+".length > "+oe.length+") {  for (var "+F+" = "+oe.length+"; "+F+" < "+ce+".length; "+F+"++) { ",T.errorPath=M.util.getPathExpr(M.errorPath,F,M.opts.jsonPointers,!0),y=ce+"["+F+"]",T.dataPathArr[v]=F,S=M.validate(T),T.baseId=p,M.util.varOccurences(S,b)<2?z+=" "+M.util.varReplace(S,b,y)+" ":z+=" var "+b+" = "+y+"; "+S+" ",ye&&(z+=" if (!"+N+") break; "),z+=" } }  ",ye)&&(z+=" if ("+N+") { ",j+="}")}else(M.opts.strictKeywords?"object"==typeof oe&&0<Object.keys(oe).length||!1===oe:M.util.schemaHasRules(oe,M.RULES.all))&&(T.schema=oe,T.schemaPath=be,T.errSchemaPath=fe,z+="  for (var "+F+" = 0; "+F+" < "+ce+".length; "+F+"++) { ",T.errorPath=M.util.getPathExpr(M.errorPath,F,M.opts.jsonPointers,!0),y=ce+"["+F+"]",T.dataPathArr[v]=F,S=M.validate(T),T.baseId=p,M.util.varOccurences(S,b)<2?z+=" "+M.util.varReplace(S,b,y)+" ":z+=" var "+b+" = "+y+"; "+S+" ",ye&&(z+=" if (!"+N+") break; "),z+=" }");return ye&&(z+=" "+j+" if ("+O+" == errors) {"),z}},6039:function(je){"use strict";je.exports=function(M,ue,Ae){var z=" ",oe=M.level,T=M.dataLevel,be=M.schema[ue],fe=M.schemaPath+M.util.getProperty(ue),ye=M.errSchemaPath+"/"+ue,ce=!M.opts.allErrors,J="data"+(T||""),O=M.opts.$data&&be&&be.$data;if(T=O?(z+=" var schema"+oe+" = "+M.util.getData(be.$data,T,M.dataPathArr)+"; ","schema"+oe):be,!O&&"number"!=typeof be)throw new Error(ue+" must be number");return z+="var division"+oe+";if (",O&&(z+=" "+T+" !== undefined && ( typeof "+T+" != 'number' || "),z+=" (division"+oe+" = "+J+" / "+T+", ",z+=M.opts.multipleOfPrecision?" Math.abs(Math.round(division"+oe+") - division"+oe+") > 1e-"+M.opts.multipleOfPrecision+" ":" division"+oe+" !== parseInt(division"+oe+") ",z+=" ) ",O&&(z+="  )  "),(ue=[]).push(z+=" ) {   "),z="",!1!==M.createErrors?(z+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ye)+" , params: { multipleOf: "+T+" } ",!1!==M.opts.messages&&(z=z+" , message: 'should be multiple of "+(O?"' + "+T:T+"'")),M.opts.verbose&&(z=(z+=" , schema:  ")+(O?"validate.schema"+fe:""+be)+"         , parentSchema: validate.schema"+M.schemaPath+" , data: "+J+" "),z+=" } "):z+=" {} ",oe=z,z=ue.pop(),z+=!M.compositeRule&&ce?M.async?" throw new ValidationError(["+oe+"]); ":" validate.errors = ["+oe+"]; return false; ":" var err = "+oe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",z+="} ",ce&&(z+=" else { "),z}},7946:function(je){"use strict";je.exports=function(M,ce,Ae){var z,oe,be=" ",T=M.level,O=M.dataLevel,fe=M.schema[ce],ye=M.schemaPath+M.util.getProperty(ce),J=(ce=M.errSchemaPath+"/"+ce,!M.opts.allErrors),j=(O="data"+(O||""),T="errs__"+T,M.util.copy(M)),N=(j.level++,"valid"+j.level);return(M.opts.strictKeywords?"object"==typeof fe&&0<Object.keys(fe).length||!1===fe:M.util.schemaHasRules(fe,M.RULES.all))?(j.schema=fe,j.schemaPath=ye,j.errSchemaPath=ce,be+=" var "+T+" = errors;  ",fe=M.compositeRule,M.compositeRule=j.compositeRule=!0,j.createErrors=!1,j.opts.allErrors&&(oe=j.opts.allErrors,j.opts.allErrors=!1),be+=" "+M.validate(j)+" ",j.createErrors=!0,oe&&(j.opts.allErrors=oe),M.compositeRule=j.compositeRule=fe,(z=z||[]).push(be+=" if ("+N+") {   "),be="",!1!==M.createErrors?(be+=" { keyword: 'not' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ce)+" , params: {} ",!1!==M.opts.messages&&(be+=" , message: 'should NOT be valid' "),M.opts.verbose&&(be+=" , schema: validate.schema"+ye+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+O+" "),be+=" } "):be+=" {} ",oe=be,be=z.pop(),be+=!M.compositeRule&&J?M.async?" throw new ValidationError(["+oe+"]); ":" validate.errors = ["+oe+"]; return false; ":" var err = "+oe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",be+=" } else {  errors = "+T+"; if (vErrors !== null) { if ("+T+") vErrors.length = "+T+"; else vErrors = null; } ",M.opts.allErrors&&(be+=" } ")):(be+="  var err =   ",!1!==M.createErrors?(be+=" { keyword: 'not' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ce)+" , params: {} ",!1!==M.opts.messages&&(be+=" , message: 'should NOT be valid' "),M.opts.verbose&&(be+=" , schema: validate.schema"+ye+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+O+" "),be+=" } "):be+=" {} ",be+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",J&&(be+=" if (false) { ")),be}},9344:function(je){"use strict";je.exports=function(M,ye,Ae){var z=" ",p=M.level,ce=M.dataLevel,oe=M.schema[ye],be=M.schemaPath+M.util.getProperty(ye),fe=M.errSchemaPath+"/"+ye,J=(ye=!M.opts.allErrors,ce="data"+(ce||""),"valid"+p),O="errs__"+p,T=M.util.copy(M),j="",N=(T.level++,"valid"+T.level),F=T.baseId,v="prevValid"+p,b="passingSchemas"+p,u=(z+="var "+O+" = errors , "+v+" = false , "+J+" = false , "+b+" = null; ",p=M.compositeRule,M.compositeRule=T.compositeRule=!0,oe);if(u)for(var h,d=-1,f=u.length-1;d<f;)h=u[d+=1],(M.opts.strictKeywords?"object"==typeof h&&0<Object.keys(h).length||!1===h:M.util.schemaHasRules(h,M.RULES.all))?(T.schema=h,T.schemaPath=be+"["+d+"]",T.errSchemaPath=fe+"/"+d,z+="  "+M.validate(T)+" ",T.baseId=F):z+=" var "+N+" = true; ",d&&(z+=" if ("+N+" && "+v+") { "+J+" = false; "+b+" = ["+b+", "+d+"]; } else { ",j+="}"),z+=" if ("+N+") { "+J+" = "+v+" = true; "+b+" = "+d+"; }";return M.compositeRule=T.compositeRule=p,z+=j+"if (!"+J+") {   var err =   ",!1!==M.createErrors?(z+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(fe)+" , params: { passingSchemas: "+b+" } ",!1!==M.opts.messages&&(z+=" , message: 'should match exactly one schema in oneOf' "),M.opts.verbose&&(z+=" , schema: validate.schema"+be+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+ce+" "),z+=" } "):z+=" {} ",z+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!M.compositeRule&&ye&&(z+=M.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),z+="} else {  errors = "+O+"; if (vErrors !== null) { if ("+O+") vErrors.length = "+O+"; else vErrors = null; }",M.opts.allErrors&&(z+=" } "),z}},9737:function(je){"use strict";je.exports=function(M,be,Ae){var j=" ",T=M.level,J=M.dataLevel,z=M.schema[be],oe=M.schemaPath+M.util.getProperty(be),fe=(be=M.errSchemaPath+"/"+be,!M.opts.allErrors),ye="data"+(J||""),ce=M.opts.$data&&z&&z.$data,O=(J=ce?(j+=" var schema"+T+" = "+M.util.getData(z.$data,J,M.dataPathArr)+"; ","schema"+T):z,T=ce?"(new RegExp("+J+"))":M.usePattern(z),j+="if ( ",ce&&(j+=" ("+J+" !== undefined && typeof "+J+" != 'string') || "),[]);return O.push(j+=" !"+T+".test("+ye+") ) {   "),j="",!1!==M.createErrors?(j=(j+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(be)+" , params: { pattern:  ")+(ce?""+J:""+M.util.toQuotedString(z))+"  } ",!1!==M.opts.messages&&(j=(j+=" , message: 'should match pattern \"")+(ce?"' + "+J+" + '":""+M.util.escapeQuotes(z))+"\"' "),M.opts.verbose&&(j=(j=(j+=" , schema:  ")+(ce?"validate.schema"+oe:""+M.util.toQuotedString(z)))+"         , parentSchema: validate.schema"+M.schemaPath+" , data: "+ye+" "),j+=" } "):j+=" {} ",T=j,j=O.pop(),j+=!M.compositeRule&&fe?M.async?" throw new ValidationError(["+T+"]); ":" validate.errors = ["+T+"]; return false; ":" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",j+="} ",fe&&(j+=" else { "),j}},2537:function(je){"use strict";je.exports=function(M,T,Ae){var z,oe=" ",be=M.level,d=M.dataLevel,fe=M.schema[T],ye=M.schemaPath+M.util.getProperty(T),ce=M.errSchemaPath+"/"+T,J=!M.opts.allErrors,O="data"+(d||""),j=(T="errs__"+be,M.util.copy(M)),N="",F=(j.level++,"valid"+j.level),v="key"+be,b="idx"+be,p=j.dataLevel=M.dataLevel+1,u="data"+p,h="dataProperties"+be,f=(d=Object.keys(fe||{}).filter(W),M.schema.patternProperties||{}),k=Object.keys(f).filter(W),m=M.schema.additionalProperties,y=d.length||k.length,S=!1===m,V="object"==typeof m&&Object.keys(m).length,E=M.opts.removeAdditional,w=S||V||E,B=M.opts.ownProperties,K=M.baseId,U=M.schema.required;function W(Wt){return"__proto__"!==Wt}if(U&&(!M.opts.$data||!U.$data)&&U.length<M.opts.loopRequired&&(z=M.util.toHash(U)),oe+="var "+T+" = errors;var "+F+" = true;",B&&(oe+=" var "+h+" = undefined;"),w){if(oe+=B?" "+h+" = "+h+" || Object.keys("+O+"); for (var "+b+"=0; "+b+"<"+h+".length; "+b+"++) { var "+v+" = "+h+"["+b+"]; ":" for (var "+v+" in "+O+") { ",y){if(oe+=" var isAdditional"+be+" = !(false ",d.length)if(8<d.length)oe+=" || validate.schema"+ye+".hasOwnProperty("+v+") ";else{var re=d;if(re)for(var H=-1,L=re.length-1;H<L;)Se=re[H+=1],oe+=" || "+v+" == "+M.util.toQuotedString(Se)+" "}if(k.length){var R=k;if(R)for(var Q=-1,ae=R.length-1;Q<ae;)_e=R[Q+=1],oe+=" || "+M.usePattern(_e)+".test("+v+") "}oe+=" ); if (isAdditional"+be+") { "}"all"==E?oe+=" delete "+O+"["+v+"]; ":(X=M.errorPath,U="' + "+v+" + '",M.opts._errorDataPathProperty&&(M.errorPath=M.util.getPathExpr(M.errorPath,v,M.opts.jsonPointers)),S?E?oe+=" delete "+O+"["+v+"]; ":(de=ce,ce=M.errSchemaPath+"/additionalProperties",(Ce=Ce||[]).push(oe+=" "+F+" = false; "),oe="",!1!==M.createErrors?(oe+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ce)+" , params: { additionalProperty: '"+U+"' } ",!1!==M.opts.messages&&(oe+=" , message: '",oe+=M.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",oe+="' "),M.opts.verbose&&(oe+=" , schema: false , parentSchema: validate.schema"+M.schemaPath+" , data: "+O+" "),oe+=" } "):oe+=" {} ",G=oe,oe=Ce.pop(),oe+=!M.compositeRule&&J?M.async?" throw new ValidationError(["+G+"]); ":" validate.errors = ["+G+"]; return false; ":" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",ce=de,J&&(oe+=" break; ")):V&&("failing"==E?(oe+=" var "+T+" = errors;  ",w=M.compositeRule,M.compositeRule=j.compositeRule=!0,j.schema=m,j.schemaPath=M.schemaPath+".additionalProperties",j.errSchemaPath=M.errSchemaPath+"/additionalProperties",j.errorPath=M.opts._errorDataPathProperty?M.errorPath:M.util.getPathExpr(M.errorPath,v,M.opts.jsonPointers),ft=O+"["+v+"]",j.dataPathArr[p]=v,yt=M.validate(j),j.baseId=K,M.util.varOccurences(yt,u)<2?oe+=" "+M.util.varReplace(yt,u,ft)+" ":oe+=" var "+u+" = "+ft+"; "+yt+" ",oe+=" if (!"+F+") { errors = "+T+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+O+"["+v+"]; }  ",M.compositeRule=j.compositeRule=w):(j.schema=m,j.schemaPath=M.schemaPath+".additionalProperties",j.errSchemaPath=M.errSchemaPath+"/additionalProperties",j.errorPath=M.opts._errorDataPathProperty?M.errorPath:M.util.getPathExpr(M.errorPath,v,M.opts.jsonPointers),ft=O+"["+v+"]",j.dataPathArr[p]=v,yt=M.validate(j),j.baseId=K,M.util.varOccurences(yt,u)<2?oe+=" "+M.util.varReplace(yt,u,ft)+" ":oe+=" var "+u+" = "+ft+"; "+yt+" ",J&&(oe+=" if (!"+F+") break; "))),M.errorPath=X),y&&(oe+=" } "),oe+=" }  ",J&&(oe+=" if ("+F+") { ",N+="}")}var ve=M.opts.useDefaults&&!M.compositeRule;if(d.length){var xe=d;if(xe)for(var Se,we=-1,Ge=xe.length-1;we<Ge;){var Ie,Ze,X,de,ge,Ce,G,Z=fe[Se=xe[we+=1]];(M.opts.strictKeywords?"object"==typeof Z&&0<Object.keys(Z).length||!1===Z:M.util.schemaHasRules(Z,M.RULES.all))&&(ft=O+(ge=M.util.getProperty(Se)),Ie=ve&&void 0!==Z.default,j.schema=Z,j.schemaPath=ye+ge,j.errSchemaPath=ce+"/"+M.util.escapeFragment(Se),j.errorPath=M.util.getPath(M.errorPath,Se,M.opts.jsonPointers),j.dataPathArr[p]=M.util.toQuotedString(Se),yt=M.validate(j),j.baseId=K,M.util.varOccurences(yt,u)<2?(yt=M.util.varReplace(yt,u,ft),Ze=ft):oe+=" var "+(Ze=u)+" = "+ft+"; ",Ie?oe+=" "+yt+" ":(z&&z[Se]?(oe+=" if ( "+Ze+" === undefined ",B&&(oe+=" || ! Object.prototype.hasOwnProperty.call("+O+", '"+M.util.escapeQuotes(Se)+"') "),oe+=") { "+F+" = false; ",X=M.errorPath,de=ce,ge=M.util.escapeQuotes(Se),M.opts._errorDataPathProperty&&(M.errorPath=M.util.getPath(X,Se,M.opts.jsonPointers)),ce=M.errSchemaPath+"/required",(Ce=Ce||[]).push(oe),oe="",!1!==M.createErrors?(oe+=" { keyword: 'required' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ce)+" , params: { missingProperty: '"+ge+"' } ",!1!==M.opts.messages&&(oe+=" , message: '",oe+=M.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+ge+"\\'",oe+="' "),M.opts.verbose&&(oe+=" , schema: validate.schema"+ye+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+O+" "),oe+=" } "):oe+=" {} ",G=oe,oe=Ce.pop(),oe+=!M.compositeRule&&J?M.async?" throw new ValidationError(["+G+"]); ":" validate.errors = ["+G+"]; return false; ":" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",ce=de,M.errorPath=X,oe+=" } else { "):J?(oe+=" if ( "+Ze+" === undefined ",B&&(oe+=" || ! Object.prototype.hasOwnProperty.call("+O+", '"+M.util.escapeQuotes(Se)+"') "),oe+=") { "+F+" = true; } else { "):(oe+=" if ("+Ze+" !== undefined ",B&&(oe+=" &&   Object.prototype.hasOwnProperty.call("+O+", '"+M.util.escapeQuotes(Se)+"') "),oe+=" ) { "),oe+=" "+yt+" } ")),J&&(oe+=" if ("+F+") { ",N+="}")}}if(k.length){var ne=k;if(ne)for(var _e,Ee=-1,Qe=ne.length-1;Ee<Qe;){var ft,yt;Z=f[_e=ne[Ee+=1]],(M.opts.strictKeywords?"object"==typeof Z&&0<Object.keys(Z).length||!1===Z:M.util.schemaHasRules(Z,M.RULES.all))&&(j.schema=Z,j.schemaPath=M.schemaPath+".patternProperties"+M.util.getProperty(_e),j.errSchemaPath=M.errSchemaPath+"/patternProperties/"+M.util.escapeFragment(_e),oe=(oe+=B?" "+h+" = "+h+" || Object.keys("+O+"); for (var "+b+"=0; "+b+"<"+h+".length; "+b+"++) { var "+v+" = "+h+"["+b+"]; ":" for (var "+v+" in "+O+") { ")+" if ("+M.usePattern(_e)+".test("+v+")) { ",j.errorPath=M.util.getPathExpr(M.errorPath,v,M.opts.jsonPointers),ft=O+"["+v+"]",j.dataPathArr[p]=v,yt=M.validate(j),j.baseId=K,M.util.varOccurences(yt,u)<2?oe+=" "+M.util.varReplace(yt,u,ft)+" ":oe+=" var "+u+" = "+ft+"; "+yt+" ",J&&(oe+=" if (!"+F+") break; "),oe+=" } ",J&&(oe+=" else "+F+" = true; "),oe+=" }  ",J)&&(oe+=" if ("+F+") { ",N+="}")}}return J&&(oe+=" "+N+" if ("+T+" == errors) {"),oe}},2127:function(je){"use strict";je.exports=function(M,F,Ae){var z,oe,be,fe,ye,ce,J,O=" ",T=M.level,b=M.dataLevel,j=M.schema[F],N=M.schemaPath+M.util.getProperty(F),v=(F=M.errSchemaPath+"/"+F,!M.opts.allErrors),p=(b="data"+(b||""),"errs__"+T),u=M.util.copy(M),h=(u.level++,"valid"+u.level);return O+="var "+p+" = errors;",(M.opts.strictKeywords?"object"==typeof j&&0<Object.keys(j).length||!1===j:M.util.schemaHasRules(j,M.RULES.all))&&(u.schema=j,u.schemaPath=N,u.errSchemaPath=F,j="idx"+T,oe="i"+T,be="' + "+(z="key"+T)+" + '",fe="data"+(u.dataLevel=M.dataLevel+1),J="dataProperties"+T,ye=M.baseId,(ce=M.opts.ownProperties)&&(O+=" var "+J+" = undefined; "),O=O+(ce?" "+J+" = "+J+" || Object.keys("+b+"); for (var "+j+"=0; "+j+"<"+J+".length; "+j+"++) { var "+z+" = "+J+"["+j+"]; ":" for (var "+z+" in "+b+") { ")+" var startErrs"+T+" = errors; ",ce=z,J=M.compositeRule,M.compositeRule=u.compositeRule=!0,j=M.validate(u),u.baseId=ye,M.util.varOccurences(j,fe)<2?O+=" "+M.util.varReplace(j,fe,ce)+" ":O+=" var "+fe+" = "+ce+"; "+j+" ",M.compositeRule=u.compositeRule=J,O+=" if (!"+h+") { for (var "+oe+"=startErrs"+T+"; "+oe+"<errors; "+oe+"++) { vErrors["+oe+"].propertyName = "+z+"; }   var err =   ",!1!==M.createErrors?(O+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(F)+" , params: { propertyName: '"+be+"' } ",!1!==M.opts.messages&&(O+=" , message: 'property name \\'"+be+"\\' is invalid' "),M.opts.verbose&&(O+=" , schema: validate.schema"+N+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+b+" "),O+=" } "):O+=" {} ",O+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!M.compositeRule&&v&&(O+=M.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),v&&(O+=" break; "),O+=" } }"),v&&(O+="  if ("+p+" == errors) {"),O}},2331:function(je){"use strict";je.exports=function(M,ce,Ae){var z,oe,F,be=" ",fe=M.dataLevel,ye=M.schema[ce],J=(ce=M.errSchemaPath+"/"+ce,!M.opts.allErrors),O="data"+(fe||""),T="valid"+(T=M.level);if("#"==ye||"#/"==ye)oe=M.isRoot?(z=M.async,"validate"):(z=!0===M.root.schema.$async,"root.refVal[0]");else{var j=M.resolveRef(M.baseId,ye,M.isRoot);if(void 0===j){var N=M.MissingRefError.message(M.baseId,ye);if("fail"==M.opts.missingRefs)M.logger.error(N),(F=F||[]).push(be),be="",!1!==M.createErrors?(be+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ce)+" , params: { ref: '"+M.util.escapeQuotes(ye)+"' } ",!1!==M.opts.messages&&(be+=" , message: 'can\\'t resolve reference "+M.util.escapeQuotes(ye)+"' "),M.opts.verbose&&(be+=" , schema: "+M.util.toQuotedString(ye)+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+O+" "),be+=" } "):be+=" {} ",ce=be,be=F.pop(),be+=!M.compositeRule&&J?M.async?" throw new ValidationError(["+ce+"]); ":" validate.errors = ["+ce+"]; return false; ":" var err = "+ce+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",J&&(be+=" if (false) { ");else{if("ignore"!=M.opts.missingRefs)throw new M.MissingRefError(M.baseId,ye,N);M.logger.warn(N),J&&(be+=" if (true) { ")}}else j.inline?((ce=M.util.copy(M)).level++,N="valid"+ce.level,ce.schema=j.schema,ce.schemaPath="",ce.errSchemaPath=ye,be+=" "+M.validate(ce).replace(/validate\.schema/g,j.code)+" ",J&&(be+=" if ("+N+") { ")):(z=!0===j.$async||M.async&&!1!==j.$async,oe=j.code)}if(oe)if((F=F||[]).push(be),be="",be+=M.opts.passContext?" "+oe+".call(this, ":" "+oe+"( ",be+=" "+O+", (dataPath || '')",'""'!=M.errorPath&&(be+=" + "+M.errorPath),ce=be+=" , "+(ye=fe?"data"+(fe-1||""):"parentData")+" , "+(fe?M.dataPathArr[fe]:"parentDataProperty")+", rootData)  ",be=F.pop(),z){if(!M.async)throw new Error("async schema referenced by sync schema");J&&(be+=" var "+T+"; "),be+=" try { await "+ce+"; ",J&&(be+=" "+T+" = true; "),be+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",J&&(be+=" "+T+" = false; "),be+=" } ",J&&(be+=" if ("+T+") { ")}else be+=" if (!"+ce+") { if (vErrors === null) vErrors = "+oe+".errors; else vErrors = vErrors.concat("+oe+".errors); errors = vErrors.length; } ",J&&(be+=" else { ");return be}},1204:function(je){"use strict";je.exports=function(M,ce,Ae){var z=" ",oe=M.level,j=M.dataLevel,be=M.schema[ce],fe=M.schemaPath+M.util.getProperty(ce),ye=M.errSchemaPath+"/"+ce,J=(ce=!M.opts.allErrors,"data"+(j||"")),O="valid"+oe,T=M.opts.$data&&be&&be.$data;if(T&&(z+=" var schema"+oe+" = "+M.util.getData(be.$data,j,M.dataPathArr)+"; "),j="schema"+oe,!T)if(be.length<M.opts.loopRequired&&M.schema.properties&&Object.keys(M.schema.properties).length){var N=[],F=be;if(F)for(var v=-1,b=F.length-1;v<b;){var p=F[v+=1],u=M.schema.properties[p];u&&(M.opts.strictKeywords?"object"==typeof u&&0<Object.keys(u).length||!1===u:M.util.schemaHasRules(u,M.RULES.all))||(N[N.length]=p)}}else N=be;if(T||N.length){var h=M.errorPath,d=(be=T||N.length>=M.opts.loopRequired,M.opts.ownProperties);if(ce){if(z+=" var missing"+oe+"; ",be){T||(z+=" var "+j+" = validate.schema"+fe+"; ");var f="' + "+(E="schema"+oe+"["+(y="i"+oe)+"]")+" + '";M.opts._errorDataPathProperty&&(M.errorPath=M.util.getPathExpr(h,E,M.opts.jsonPointers)),z+=" var "+O+" = true; ",T&&(z+=" if (schema"+oe+" === undefined) "+O+" = true; else if (!Array.isArray(schema"+oe+")) "+O+" = false; else {"),z+=" for (var "+y+" = 0; "+y+" < "+j+".length; "+y+"++) { "+O+" = "+J+"["+j+"["+y+"]] !== undefined ",d&&(z+=" &&   Object.prototype.hasOwnProperty.call("+J+", "+j+"["+y+"]) "),z+="; if (!"+O+") break; } ",T&&(z+="  }  "),(V=V||[]).push(z+="  if (!"+O+") {   "),z="",!1!==M.createErrors?(z+=" { keyword: 'required' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ye)+" , params: { missingProperty: '"+f+"' } ",!1!==M.opts.messages&&(z+=" , message: '",z+=M.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+f+"\\'",z+="' "),M.opts.verbose&&(z+=" , schema: validate.schema"+fe+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+J+" "),z+=" } "):z+=" {} ";var k=z;z=V.pop()}else{z+=" if ( ";var V,m=N;if(m)for(var y=-1,S=m.length-1;y<S;)B=m[y+=1],y&&(z+=" || "),z+=" ( ( "+(re=J+(W=M.util.getProperty(B)))+" === undefined ",d&&(z+=" || ! Object.prototype.hasOwnProperty.call("+J+", '"+M.util.escapeQuotes(B)+"') "),z+=") && (missing"+oe+" = "+M.util.toQuotedString(M.opts.jsonPointers?B:W)+") ) ";z+=") {  ",f="' + "+(E="missing"+oe)+" + '",M.opts._errorDataPathProperty&&(M.errorPath=M.opts.jsonPointers?M.util.getPathExpr(h,E,!0):h+" + "+E),(V=V||[]).push(z),z="",!1!==M.createErrors?(z+=" { keyword: 'required' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ye)+" , params: { missingProperty: '"+f+"' } ",!1!==M.opts.messages&&(z+=" , message: '",z+=M.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+f+"\\'",z+="' "),M.opts.verbose&&(z+=" , schema: validate.schema"+fe+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+J+" "),z+=" } "):z+=" {} ",k=z,z=V.pop()}z+=!M.compositeRule&&ce?M.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",z+=" } else { "}else if(be){var E;T||(z+=" var "+j+" = validate.schema"+fe+"; "),f="' + "+(E="schema"+oe+"["+(y="i"+oe)+"]")+" + '",M.opts._errorDataPathProperty&&(M.errorPath=M.util.getPathExpr(h,E,M.opts.jsonPointers)),T&&(z+=" if ("+j+" && !Array.isArray("+j+")) {  var err =   ",!1!==M.createErrors?(z+=" { keyword: 'required' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ye)+" , params: { missingProperty: '"+f+"' } ",!1!==M.opts.messages&&(z+=" , message: '",z+=M.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+f+"\\'",z+="' "),M.opts.verbose&&(z+=" , schema: validate.schema"+fe+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+J+" "),z+=" } "):z+=" {} ",z+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+j+" !== undefined) { "),z+=" for (var "+y+" = 0; "+y+" < "+j+".length; "+y+"++) { if ("+J+"["+j+"["+y+"]] === undefined ",d&&(z+=" || ! Object.prototype.hasOwnProperty.call("+J+", "+j+"["+y+"]) "),z+=") {  var err =   ",!1!==M.createErrors?(z+=" { keyword: 'required' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ye)+" , params: { missingProperty: '"+f+"' } ",!1!==M.opts.messages&&(z+=" , message: '",z+=M.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+f+"\\'",z+="' "),M.opts.verbose&&(z+=" , schema: validate.schema"+fe+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+J+" "),z+=" } "):z+=" {} ",z+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",T&&(z+="  }  ")}else{var w=N;if(w)for(var B,K=-1,U=w.length-1;K<U;){B=w[K+=1];var W=M.util.getProperty(B),re=(f=M.util.escapeQuotes(B),J+W);M.opts._errorDataPathProperty&&(M.errorPath=M.util.getPath(h,B,M.opts.jsonPointers)),z+=" if ( "+re+" === undefined ",d&&(z+=" || ! Object.prototype.hasOwnProperty.call("+J+", '"+M.util.escapeQuotes(B)+"') "),z+=") {  var err =   ",!1!==M.createErrors?(z+=" { keyword: 'required' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ye)+" , params: { missingProperty: '"+f+"' } ",!1!==M.opts.messages&&(z+=" , message: '",z+=M.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+f+"\\'",z+="' "),M.opts.verbose&&(z+=" , schema: validate.schema"+fe+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+J+" "),z+=" } "):z+=" {} ",z+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}M.errorPath=h}else ce&&(z+=" if (true) {");return z}},1985:function(je){"use strict";je.exports=function(M,ce,Ae){var z,oe=" ",be=M.level,N=M.dataLevel,fe=M.schema[ce],ye=M.schemaPath+M.util.getProperty(ce),J=(ce=M.errSchemaPath+"/"+ce,!M.opts.allErrors),O="data"+(N||""),T="valid"+be,j=M.opts.$data&&fe&&fe.$data;return N=j?(oe+=" var schema"+be+" = "+M.util.getData(fe.$data,N,M.dataPathArr)+"; ","schema"+be):fe,(fe||j)&&!1!==M.opts.uniqueItems?(j&&(oe+=" var "+T+"; if ("+N+" === false || "+N+" === undefined) "+T+" = true; else if (typeof "+N+" != 'boolean') "+T+" = false; else { "),oe+=" var i = "+O+".length , "+T+" = true , j; if (i > 1) { ",be=M.schema.items&&M.schema.items.type,N=Array.isArray(be),!be||"object"==be||"array"==be||N&&(0<=be.indexOf("object")||0<=be.indexOf("array"))?oe+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+O+"[i], "+O+"[j])) { "+T+" = false; break outer; } } } ":(oe=(oe+=" var itemIndices = {}, item; for (;i--;) { var item = "+O+"[i]; ")+" if ("+M.util["checkDataType"+(N?"s":"")](be,"item",M.opts.strictNumbers,!0)+") continue; ",N&&(oe+=" if (typeof item == 'string') item = '\"' + item; "),oe+=" if (typeof itemIndices[item] == 'number') { "+T+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),oe+=" } ",j&&(oe+="  }  "),(z=z||[]).push(oe+=" if (!"+T+") {   "),oe="",!1!==M.createErrors?(oe+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(ce)+" , params: { i: i, j: j } ",!1!==M.opts.messages&&(oe+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),M.opts.verbose&&(oe=(oe+=" , schema:  ")+(j?"validate.schema"+ye:""+fe)+"         , parentSchema: validate.schema"+M.schemaPath+" , data: "+O+" "),oe+=" } "):oe+=" {} ",be=oe,oe=z.pop(),oe+=!M.compositeRule&&J?M.async?" throw new ValidationError(["+be+"]); ":" validate.errors = ["+be+"]; return false; ":" var err = "+be+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",oe+=" } ",J&&(oe+=" else { ")):J&&(oe+=" if (true) { "),oe}},1869:function(je){"use strict";je.exports=function(M,ue,Ae){var z="",oe=!0===M.schema.$async,be=M.util.schemaHasRulesExcept(M.schema,M.RULES.all,"$ref"),fe=M.self._getId(M.schema);if(M.opts.strictKeywords&&(ye=M.util.schemaUnknownRules(M.schema,M.RULES.keywords))){if(ye="unknown keyword: "+ye,"log"!==M.opts.strictKeywords)throw new Error(ye);M.logger.warn(ye)}if(M.isTop&&(z+=" var validate = ",oe&&(M.async=!0,z+="async "),z+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",fe)&&(M.opts.sourceCode||M.opts.processCode)&&(z+=" /*# sourceURL="+fe+" */ "),"boolean"==typeof M.schema||!be&&!M.schema.$ref)J=M.level,O=M.dataLevel,re=M.schema[ue="false schema"],f=M.schemaPath+M.util.getProperty(ue),k=M.errSchemaPath+"/"+ue,F=!M.opts.allErrors,T="data"+(O||""),N="valid"+J,!1===M.schema?(M.isTop?F=!0:z+=" var "+N+" = false; ",(we=we||[]).push(z),z="",!1!==M.createErrors?(z+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(k)+" , params: {} ",!1!==M.opts.messages&&(z+=" , message: 'boolean schema is false' "),M.opts.verbose&&(z+=" , schema: false , parentSchema: validate.schema"+M.schemaPath+" , data: "+T+" "),z+=" } "):z+=" {} ",B=z,z=we.pop(),z+=!M.compositeRule&&F?M.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "):z+=M.isTop?oe?" return data; ":" validate.errors = null; return true; ":" var "+N+" = true; ",M.isTop&&(z+=" }; return validate; ");else{if(M.isTop){var ce=M.isTop,J=M.level=0,O=M.dataLevel=0,T="data";if(M.rootId=M.resolve.fullPath(M.self._getId(M.root.schema)),M.baseId=M.baseId||M.rootId,delete M.isTop,M.dataPathArr=[""],void 0!==M.schema.default&&M.opts.useDefaults&&M.opts.strictDefaults){var j="default is ignored in the schema root";if("log"!==M.opts.strictDefaults)throw new Error(j);M.logger.warn(j)}z=(z+=" var vErrors = null; ")+" var errors = 0;      if (rootData === undefined) rootData = data; "}else{if(J=M.level,T="data"+((O=M.dataLevel)||""),fe&&(M.baseId=M.resolve.url(M.baseId,fe)),oe&&!M.async)throw new Error("async schema in sync schema");z+=" var errs_"+J+" = errors;"}var N="valid"+J,F=!M.opts.allErrors,v="",b="",p=M.schema.type,u=Array.isArray(p);if(p&&M.opts.nullable&&!0===M.schema.nullable&&(u?-1==p.indexOf("null")&&(p=p.concat("null")):"null"!=p&&(p=[p,"null"],u=!0)),u&&1==p.length&&(p=p[0],u=!1),M.schema.$ref&&be){if("fail"==M.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+M.errSchemaPath+'" (see option extendRefs)');!0!==M.opts.extendRefs&&(be=!1,M.logger.warn('$ref: keywords ignored in schema at path "'+M.errSchemaPath+'"'))}if(M.schema.$comment&&M.opts.$comment&&(z+=" "+M.RULES.all.$comment.code(M,"$comment")),p){M.opts.coerceTypes&&(h=M.util.coerceToTypes(M.opts.coerceTypes,p));var h,d=M.RULES.types[p];if(h||u||!0===d||d&&!de(d)){var f=M.schemaPath+".type",k=M.errSchemaPath+"/type";if(f=M.schemaPath+".type",k=M.errSchemaPath+"/type",z+=" if ("+M.util[u?"checkDataTypes":"checkDataType"](p,T,M.opts.strictNumbers,!0)+") { ",h){var m="dataType"+J,y="coerced"+J,S=(z+=" var "+m+" = typeof "+T+"; var "+y+" = undefined; ","array"==M.opts.coerceTypes&&(z+=" if ("+m+" == 'object' && Array.isArray("+T+") && "+T+".length == 1) { "+T+" = "+T+"[0]; "+m+" = typeof "+T+"; if ("+M.util.checkDataType(M.schema.type,T,M.opts.strictNumbers)+") "+y+" = "+T+"; } "),z+=" if ("+y+" !== undefined) ; ",h);if(S)for(var V,E=-1,w=S.length-1;E<w;)"string"==(V=S[E+=1])?z+=" else if ("+m+" == 'number' || "+m+" == 'boolean') "+y+" = '' + "+T+"; else if ("+T+" === null) "+y+" = ''; ":"number"==V||"integer"==V?(z+=" else if ("+m+" == 'boolean' || "+T+" === null || ("+m+" == 'string' && "+T+" && "+T+" == +"+T+" ","integer"==V&&(z+=" && !("+T+" % 1)"),z+=")) "+y+" = +"+T+"; "):"boolean"==V?z+=" else if ("+T+" === 'false' || "+T+" === 0 || "+T+" === null) "+y+" = false; else if ("+T+" === 'true' || "+T+" === 1) "+y+" = true; ":"null"==V?z+=" else if ("+T+" === '' || "+T+" === 0 || "+T+" === false) "+y+" = null; ":"array"==M.opts.coerceTypes&&"array"==V&&(z+=" else if ("+m+" == 'string' || "+m+" == 'number' || "+m+" == 'boolean' || "+T+" == null) "+y+" = ["+T+"]; ");(we=we||[]).push(z+=" else {   "),z="",!1!==M.createErrors?(z=(z+=" { keyword: 'type' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(k)+" , params: { type: '")+(u?""+p.join(","):""+p)+"' } ",!1!==M.opts.messages&&(z=(z+=" , message: 'should be ")+(u?""+p.join(","):""+p)+"' "),M.opts.verbose&&(z+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+T+" "),z+=" } "):z+=" {} ";var B=z,ye=(z=we.pop(),z+=!M.compositeRule&&F?M.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",O?"data"+(O-1||""):"parentData");z=z+" } if ("+y+" !== undefined) {   "+T+" = "+y+"; ",O||(z+="if ("+ye+" !== undefined)"),z+=" "+ye+"["+(O?M.dataPathArr[O]:"parentDataProperty")+"] = "+y+"; } "}else(we=we||[]).push(z),z="",!1!==M.createErrors?(z=(z+=" { keyword: 'type' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(k)+" , params: { type: '")+(u?""+p.join(","):""+p)+"' } ",!1!==M.opts.messages&&(z=(z+=" , message: 'should be ")+(u?""+p.join(","):""+p)+"' "),M.opts.verbose&&(z+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+T+" "),z+=" } "):z+=" {} ",B=z,z=we.pop(),z+=!M.compositeRule&&F?M.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";z+=" } "}}if(M.schema.$ref&&!be)z+=" "+M.RULES.all.$ref.code(M,"$ref")+" ",F&&(z=(z+=" } if (errors === ")+(ce?"0":"errs_"+J)+") { ",b+="}");else{var K=M.RULES;if(K)for(var U=-1,W=K.length-1;U<W;)if(de(d=K[U+=1])){if(d.type&&(z+=" if ("+M.util.checkDataType(d.type,T,M.opts.strictNumbers)+") { "),M.opts.useDefaults)if("object"==d.type&&M.schema.properties){var re=M.schema.properties,H=Object.keys(re);if(H)for(var L,R=-1,Q=H.length-1;R<Q;)if(void 0!==(xe=re[L=H[R+=1]]).default){var ae=T+M.util.getProperty(L);if(M.compositeRule){if(M.opts.strictDefaults){if(j="default is ignored for: "+ae,"log"!==M.opts.strictDefaults)throw new Error(j);M.logger.warn(j)}}else z+=" if ("+ae+" === undefined ","empty"==M.opts.useDefaults&&(z+=" || "+ae+" === null || "+ae+" === '' "),z+=" ) "+ae+" = ",z+="shared"==M.opts.useDefaults?" "+M.useDefault(xe.default)+" ":" "+JSON.stringify(xe.default)+" ",z+="; "}}else if("array"==d.type&&Array.isArray(M.schema.items)){var ve=M.schema.items;if(ve){E=-1;for(var xe,Se=ve.length-1;E<Se;)if(void 0!==(xe=ve[E+=1]).default)if(ae=T+"["+E+"]",M.compositeRule){if(M.opts.strictDefaults){if(j="default is ignored for: "+ae,"log"!==M.opts.strictDefaults)throw new Error(j);M.logger.warn(j)}}else z+=" if ("+ae+" === undefined ","empty"==M.opts.useDefaults&&(z+=" || "+ae+" === null || "+ae+" === '' "),z+=" ) "+ae+" = ",z+="shared"==M.opts.useDefaults?" "+M.useDefault(xe.default)+" ":" "+JSON.stringify(xe.default)+" ",z+="; "}}var we,Ge=d.rules;if(Ge)for(var Ie,Ze=-1,X=Ge.length-1;Ze<X;)ge(Ie=Ge[Ze+=1])&&(Ie=Ie.code(M,Ie.keyword,d.type))&&(z+=" "+Ie+" ",F)&&(v+="}");F&&(z+=" "+v+" ",v=""),d.type&&(z+=" } ",p)&&p===d.type&&!h&&(f=M.schemaPath+".type",k=M.errSchemaPath+"/type",(we=we||[]).push(z+=" else { "),z="",!1!==M.createErrors?(z=(z+=" { keyword: 'type' , dataPath: (dataPath || '') + "+M.errorPath+" , schemaPath: "+M.util.toQuotedString(k)+" , params: { type: '")+(u?""+p.join(","):""+p)+"' } ",!1!==M.opts.messages&&(z=(z+=" , message: 'should be ")+(u?""+p.join(","):""+p)+"' "),M.opts.verbose&&(z+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+M.schemaPath+" , data: "+T+" "),z+=" } "):z+=" {} ",B=z,z=we.pop(),z+=!M.compositeRule&&F?M.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",z+=" } "),F&&(z=(z+=" if (errors === ")+(ce?"0":"errs_"+J)+") { ",b+="}")}}F&&(z+=" "+b+" "),ce?z=z+(oe?" if (errors === 0) return data;            else throw new ValidationError(vErrors); ":" validate.errors = vErrors;  return errors === 0;       ")+" }; return validate;":z+=" var "+N+" = errors === errs_"+J+";"}return z;function de(Ce){for(var G=Ce.rules,Z=0;Z<G.length;Z++)if(ge(G[Z]))return 1}function ge(Ce){return void 0!==M.schema[Ce.keyword]||Ce.implements&&function(G){for(var Z=G.implements,ne=0;ne<Z.length;ne++)if(void 0!==M.schema[Z[ne]])return 1}(Ce)}}},7931:function(je,M,ue){"use strict";var Ae=/^[a-z_$][a-z0-9_$-]*$/i,z=ue(1793),oe=ue(5868);je.exports={add:function(fe,ye){var ce=this.RULES;if(ce.keywords[fe])throw new Error("Keyword "+fe+" is already defined");if(!Ae.test(fe))throw new Error("Keyword "+fe+" is not a valid identifier");if(ye){this.validateKeyword(ye,!0);var J=ye.type;if(Array.isArray(J))for(var O=0;O<J.length;O++)j(fe,J[O],ye);else j(fe,J,ye);var T=ye.metaSchema;T&&(ye.$data&&this._opts.$data&&(T={anyOf:[T,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),ye.validateSchema=this.compile(T,!0))}function j(N,F,v){for(var b,p=0;p<ce.length;p++){var u=ce[p];if(u.type==F){b=u;break}}b||ce.push(b={type:F,rules:[]}),b.rules.push(v={keyword:N,definition:v,custom:!0,code:z,implements:v.implements}),ce.custom[N]=v}return ce.keywords[fe]=ce.all[fe]=!0,this},get:function(fe){var ye=this.RULES.custom[fe];return ye?ye.definition:this.RULES.keywords[fe]||!1},remove:function(fe){var ye=this.RULES;delete ye.keywords[fe],delete ye.all[fe],delete ye.custom[fe];for(var ce=0;ce<ye.length;ce++)for(var J=ye[ce].rules,O=0;O<J.length;O++)if(J[O].keyword==fe){J.splice(O,1);break}return this},validate:function be(fe,ye){be.errors=null;var ce=this._validateKeyword=this._validateKeyword||this.compile(oe,!0);if(ce(fe))return!0;if(be.errors=ce.errors,ye)throw new Error("custom keyword definition is invalid: "+this.errorsText(ce.errors));return!1}}},2303:function(je){"use strict";je.exports=function M(ue,Ae){if(ue===Ae)return!0;if(ue&&Ae&&"object"==typeof ue&&"object"==typeof Ae){if(ue.constructor!==Ae.constructor)return!1;var z,oe,be;if(Array.isArray(ue)){if((z=ue.length)!=Ae.length)return!1;for(oe=z;0!=oe--;)if(!M(ue[oe],Ae[oe]))return!1}else{if(ue.constructor===RegExp)return ue.source===Ae.source&&ue.flags===Ae.flags;if(ue.valueOf!==Object.prototype.valueOf)return ue.valueOf()===Ae.valueOf();if(ue.toString!==Object.prototype.toString)return ue.toString()===Ae.toString();if((z=(be=Object.keys(ue)).length)!==Object.keys(Ae).length)return!1;for(oe=z;0!=oe--;)if(!Object.prototype.hasOwnProperty.call(Ae,be[oe]))return!1;for(oe=z;0!=oe--;){var fe=be[oe];if(!M(ue[fe],Ae[fe]))return!1}}return!0}return ue!=ue&&Ae!=Ae}},3508:function(je){"use strict";je.exports=function(M,ue){var Ae,z="boolean"==typeof(ue="function"==typeof(ue=ue||{})?{cmp:ue}:ue).cycles&&ue.cycles,oe=ue.cmp&&(Ae=ue.cmp,function(fe){return function(ye,ce){return Ae(ye={key:ye,value:fe[ye]},ce={key:ce,value:fe[ce]})}}),be=[];return function fe(ye){if(void 0!==(ye=ye&&ye.toJSON&&"function"==typeof ye.toJSON?ye.toJSON():ye)){if("number"==typeof ye)return isFinite(ye)?""+ye:"null";if("object"!=typeof ye)return JSON.stringify(ye);if(Array.isArray(ye)){for(O="[",T=0;T<ye.length;T++)T&&(O+=","),O+=fe(ye[T])||"null";return O+"]"}if(null===ye)return"null";if(-1!==be.indexOf(ye)){if(z)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}for(var ce=be.push(ye)-1,J=Object.keys(ye).sort(oe&&oe(ye)),O="",T=0;T<J.length;T++){var j=J[T],N=fe(ye[j]);N&&(O&&(O+=","),O+=JSON.stringify(j)+":"+N)}return be.splice(ce,1),"{"+O+"}"}}(M)}},233:function(je){je.exports=function M(J,O){"use strict";function z(p){return M.insensitive&&(""+p).toLowerCase()||""+p}var oe,be,F=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,N=/(^[ ]*|[ ]*$)/g,fe=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,ye=/^0x[0-9a-f]+$/i,ce=/^0/,T=(J=z(J).replace(N,"")||"",O=z(O).replace(N,"")||"",J.replace(F,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0")),j=O.replace(F,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0");if(N=parseInt(J.match(ye),16)||1!==T.length&&J.match(fe)&&Date.parse(J),F=parseInt(O.match(ye),16)||N&&O.match(fe)&&Date.parse(O)||null){if(N<F)return-1;if(F<N)return 1}for(var v=0,b=Math.max(T.length,j.length);v<b;v++){if(oe=!(T[v]||"").match(ce)&&parseFloat(T[v])||T[v]||0,be=!(j[v]||"").match(ce)&&parseFloat(j[v])||j[v]||0,isNaN(oe)!==isNaN(be))return isNaN(oe)?1:-1;if(typeof oe!=typeof be&&(oe+="",be+=""),oe<be)return-1;if(be<oe)return 1}return 0}},5156:function(je,M){!function(ue){"use strict";function Ae(L){return null!==L&&"[object Array]"===Object.prototype.toString.call(L)}function z(L){return null!==L&&"[object Object]"===Object.prototype.toString.call(L)}function oe(L,R){if(L!==R){if(Object.prototype.toString.call(L)!==Object.prototype.toString.call(R))return!1;if(!0===Ae(L)){if(L.length!==R.length)return!1;for(var Q=0;Q<L.length;Q++)if(!1===oe(L[Q],R[Q]))return!1}else{if(!0!==z(L))return!1;var ae,ve,xe={};for(ae in L)if(hasOwnProperty.call(L,ae)){if(!1===oe(L[ae],R[ae]))return!1;xe[ae]=!0}for(ve in R)if(hasOwnProperty.call(R,ve)&&!0!==xe[ve])return!1}}return!0}function be(L){if(""===L||!1===L||null===L||Ae(L)&&0===L.length)return!0;if(z(L)){for(var R in L)if(L.hasOwnProperty(R))return!1;return!0}return!1}var fe="function"==typeof String.prototype.trimLeft?function(L){return L.trimLeft()}:function(L){return L.match(/^\s*(.*)/)[1]},ye={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},ce="UnquotedIdentifier",J="QuotedIdentifier",O="Rbracket",T="Rparen",j="Comma",N="Colon",F="Rbrace",v="Number",b="Current",p="Expref",u="Pipe",h="Flatten",d="Star",f="Filter",k="Lbrace",m="Lbracket",y="Lparen",S="Literal",V={".":"Dot","*":d,",":j,":":N,"{":k,"}":F,"]":O,"(":y,")":T,"@":b},E={"<":!0,">":!0,"=":!0,"!":!0},w={" ":!0,"\t":!0,"\n":!0};function B(L){return"0"<=L&&L<="9"||"-"===L}function K(){}K.prototype={tokenize:function(L){var R,Q,ae=[];for(this._current=0;this._current<L.length;)if("a"<=(xe=L[this._current])&&xe<="z"||"A"<=xe&&xe<="Z"||"_"===xe)ve=this._current,R=this._consumeUnquotedIdentifier(L),ae.push({type:ce,value:R,start:ve});else if(void 0!==V[L[this._current]])ae.push({type:V[L[this._current]],value:L[this._current],start:this._current}),this._current++;else if(B(L[this._current]))Q=this._consumeNumber(L),ae.push(Q);else if("["===L[this._current])Q=this._consumeLBracket(L),ae.push(Q);else if('"'===L[this._current])ve=this._current,R=this._consumeQuotedIdentifier(L),ae.push({type:J,value:R,start:ve});else if("'"===L[this._current])ve=this._current,R=this._consumeRawStringLiteral(L),ae.push({type:S,value:R,start:ve});else if("`"===L[this._current]){var ve=this._current,xe=this._consumeLiteral(L);ae.push({type:S,value:xe,start:ve})}else if(void 0!==E[L[this._current]])ae.push(this._consumeOperator(L));else if(void 0!==w[L[this._current]])this._current++;else if("&"===L[this._current])ve=this._current,this._current++,"&"===L[this._current]?(this._current++,ae.push({type:"And",value:"&&",start:ve})):ae.push({type:p,value:"&",start:ve});else{if("|"!==L[this._current])throw(xe=new Error("Unknown character:"+L[this._current])).name="LexerError",xe;ve=this._current,this._current++,"|"===L[this._current]?(this._current++,ae.push({type:"Or",value:"||",start:ve})):ae.push({type:u,value:"|",start:ve})}return ae},_consumeUnquotedIdentifier:function(L){var R,Q=this._current;for(this._current++;this._current<L.length&&("a"<=(R=L[this._current])&&R<="z"||"A"<=R&&R<="Z"||"0"<=R&&R<="9"||"_"===R);)this._current++;return L.slice(Q,this._current)},_consumeQuotedIdentifier:function(L){for(var R=this._current,Q=(this._current++,L.length);'"'!==L[this._current]&&this._current<Q;){var ae=this._current;"\\"!==L[ae]||"\\"!==L[ae+1]&&'"'!==L[ae+1]?ae++:ae+=2,this._current=ae}return this._current++,JSON.parse(L.slice(R,this._current))},_consumeRawStringLiteral:function(L){for(var R=this._current,Q=(this._current++,L.length);"'"!==L[this._current]&&this._current<Q;){var ae=this._current;"\\"!==L[ae]||"\\"!==L[ae+1]&&"'"!==L[ae+1]?ae++:ae+=2,this._current=ae}return this._current++,L.slice(R+1,this._current-1).replace("\\'","'")},_consumeNumber:function(L){for(var R=this._current,Q=(this._current++,L.length);B(L[this._current])&&this._current<Q;)this._current++;var ae=parseInt(L.slice(R,this._current));return{type:v,value:ae,start:R}},_consumeLBracket:function(L){var R=this._current;return this._current++,"?"===L[this._current]?(this._current++,{type:f,value:"[?",start:R}):"]"===L[this._current]?(this._current++,{type:h,value:"[]",start:R}):{type:m,value:"[",start:R}},_consumeOperator:function(L){var R=this._current,Q=L[R];return this._current++,"!"===Q?"="===L[this._current]?(this._current++,{type:"NE",value:"!=",start:R}):{type:"Not",value:"!",start:R}:"<"===Q?"="===L[this._current]?(this._current++,{type:"LTE",value:"<=",start:R}):{type:"LT",value:"<",start:R}:">"===Q?"="===L[this._current]?(this._current++,{type:"GTE",value:">=",start:R}):{type:"GT",value:">",start:R}:"="===Q&&"="===L[this._current]?(this._current++,{type:"EQ",value:"==",start:R}):void 0},_consumeLiteral:function(L){this._current++;for(var R=this._current,Q=L.length;"`"!==L[this._current]&&this._current<Q;){var ae=this._current;"\\"!==L[ae]||"\\"!==L[ae+1]&&"`"!==L[ae+1]?ae++:ae+=2,this._current=ae}return R=(R=fe(L.slice(R,this._current))).replace("\\`","`"),R=this._looksLikeJSON(R)?JSON.parse(R):JSON.parse('"'+R+'"'),this._current++,R},_looksLikeJSON:function(L){if(""===L)return!1;if(0<='[{"'.indexOf(L[0])||0<=["true","false","null"].indexOf(L))return!0;if(!(0<="-0123456789".indexOf(L[0])))return!1;try{return JSON.parse(L),!0}catch{return!1}}};var U={};function W(){}function re(L){this.runtime=L}function H(L){this._interpreter=L,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[0]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[0]}]},contains:{_func:this._functionContains,_signature:[{types:[2,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[2]},{types:[2]}]},floor:{_func:this._functionFloor,_signature:[{types:[0]}]},length:{_func:this._functionLength,_signature:[{types:[2,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[2]},{types:[2]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[2]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[2,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}U.EOF=0,U[ce]=0,U[J]=0,U[O]=0,U[T]=0,U[j]=0,U[F]=0,U[v]=0,U[b]=0,U[p]=0,U.Pipe=1,U.Or=2,U.And=3,U.EQ=5,U.GT=5,U.LT=5,U.GTE=5,U.LTE=5,U.NE=5,U[h]=9,U.Star=20,U[f]=21,U.Dot=40,U.Not=45,U[k]=50,U[m]=55,U[y]=60,W.prototype={parse:function(Q){var R;if(this._loadTokens(Q),this.index=0,Q=this.expression(0),"EOF"!==this._lookahead(0))throw R=this._lookaheadToken(0),(R=new Error("Unexpected token type: "+R.type+", value: "+R.value)).name="ParserError",R;return Q},_loadTokens:function(L){var R=(new K).tokenize(L);R.push({type:"EOF",value:"",start:L.length}),this.tokens=R},expression:function(L){for(var R=this._lookaheadToken(0),Q=(this._advance(),this.nud(R)),ae=this._lookahead(0);L<U[ae];)this._advance(),Q=this.led(ae,Q),ae=this._lookahead(0);return Q},_lookahead:function(L){return this.tokens[this.index+L].type},_lookaheadToken:function(L){return this.tokens[this.index+L]},_advance:function(){this.index++},nud:function(L){var R,Q;switch(L.type){case S:return{type:"Literal",value:L.value};case ce:return{type:"Field",name:L.value};case J:var ae={type:"Field",name:L.value};if(this._lookahead(0)===y)throw new Error("Quoted identifier not allowed for function names.");return ae;case"Not":return{type:"NotExpression",children:[R=this.expression(U.Not)]};case d:return R=null,{type:"ValueProjection",children:[{type:"Identity"},R=this._lookahead(0)===O?{type:"Identity"}:this._parseProjectionRHS(U.Star)]};case f:return this.led(L.type,{type:"Identity"});case k:return this._parseMultiselectHash();case h:return{type:"Projection",children:[{type:h,children:[{type:"Identity"}]},R=this._parseProjectionRHS(U.Flatten)]};case m:return this._lookahead(0)===v||this._lookahead(0)===N?(R=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},R)):this._lookahead(0)===d&&this._lookahead(1)===O?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},R=this._parseProjectionRHS(U.Star)]}):this._parseMultiselectList();case b:return{type:b};case p:return{type:"ExpressionReference",children:[Q=this.expression(U.Expref)]};case y:for(var ve=[];this._lookahead(0)!==T;)this._lookahead(0)===b?(Q={type:b},this._advance()):Q=this.expression(0),ve.push(Q);return this._match(T),ve[0];default:this._errorToken(L)}},led:function(L,R){var Q;switch(L){case"Dot":var ae=U.Dot;return this._lookahead(0)!==d?{type:"Subexpression",children:[R,Q=this._parseDotRHS(ae)]}:(this._advance(),{type:"ValueProjection",children:[R,Q=this._parseProjectionRHS(ae)]});case u:return Q=this.expression(U.Pipe),{type:u,children:[R,Q]};case"Or":return{type:"OrExpression",children:[R,Q=this.expression(U.Or)]};case"And":return{type:"AndExpression",children:[R,Q=this.expression(U.And)]};case y:ae=R.name;for(var ve,xe=[];this._lookahead(0)!==T;)this._lookahead(0)===b?(ve={type:b},this._advance()):ve=this.expression(0),this._lookahead(0)===j&&this._match(j),xe.push(ve);return this._match(T),{type:"Function",name:ae,children:xe};case f:return ae=this.expression(0),this._match(O),{type:"FilterProjection",children:[R,Q=this._lookahead(0)===h?{type:"Identity"}:this._parseProjectionRHS(U.Filter),ae]};case h:return{type:"Projection",children:[{type:h,children:[R]},this._parseProjectionRHS(U.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(R,L);case m:return(ae=this._lookaheadToken(0)).type===v||ae.type===N?(Q=this._parseIndexExpression(),this._projectIfSlice(R,Q)):(this._match(d),this._match(O),{type:"Projection",children:[R,Q=this._parseProjectionRHS(U.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(L){var R;if(this._lookahead(0)!==L)throw R=this._lookaheadToken(0),(L=new Error("Expected "+L+", got: "+R.type)).name="ParserError",L;this._advance()},_errorToken:function(L){throw(L=new Error("Invalid token ("+L.type+'): "'+L.value+'"')).name="ParserError",L},_parseIndexExpression:function(){var L;return this._lookahead(0)===N||this._lookahead(1)===N?this._parseSliceExpression():(L={type:"Index",value:this._lookaheadToken(0).value},this._advance(),this._match(O),L)},_projectIfSlice:function(L,R){return L={type:"IndexExpression",children:[L,R]},"Slice"===R.type?{type:"Projection",children:[L,this._parseProjectionRHS(U.Star)]}:L},_parseSliceExpression:function(){for(var L,R=[null,null,null],Q=0,ae=this._lookahead(0);ae!==O&&Q<3;){if(ae===N)Q++;else{if(ae!==v)throw L=this._lookahead(0),(L=new Error("Syntax error, unexpected token: "+L.value+"("+L.type+")")).name="Parsererror",L;R[Q]=this._lookaheadToken(0).value}this._advance(),ae=this._lookahead(0)}return this._match(O),{type:"Slice",children:R}},_parseComparator:function(L,R){return{type:"Comparator",name:R,children:[L,this.expression(U[R])]}},_parseDotRHS:function(L){var R=this._lookahead(0);return 0<=[ce,J,d].indexOf(R)?this.expression(L):R===m?(this._match(m),this._parseMultiselectList()):R===k?(this._match(k),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(L){var R,Q;if(U[this._lookahead(0)]<10)R={type:"Identity"};else if(this._lookahead(0)===m)R=this.expression(L);else if(this._lookahead(0)===f)R=this.expression(L);else{if("Dot"!==this._lookahead(0))throw Q=this._lookaheadToken(0),(Q=new Error("Sytanx error, unexpected token: "+Q.value+"("+Q.type+")")).name="ParserError",Q;this._match("Dot"),R=this._parseDotRHS(L)}return R},_parseMultiselectList:function(){for(var L=[];this._lookahead(0)!==O;){var R=this.expression(0);if(L.push(R),this._lookahead(0)===j&&(this._match(j),this._lookahead(0)===O))throw new Error("Unexpected token Rbracket")}return this._match(O),{type:"MultiSelectList",children:L}},_parseMultiselectHash:function(){for(var L,R,Q=[],ae=[ce,J];;){if(L=this._lookaheadToken(0),ae.indexOf(L.type)<0)throw new Error("Expecting an identifier token, got: "+L.type);if(L=L.value,this._advance(),this._match(N),R=this.expression(0),Q.push({type:"KeyValuePair",name:L,value:R}),this._lookahead(0)===j)this._match(j);else if(this._lookahead(0)===F){this._match(F);break}}return{type:"MultiSelectHash",children:Q}}},re.prototype={search:function(L,R){return this.visit(L,R)},visit:function(L,R){var Q,ae,ve,xe,Se,we;switch(L.type){case"Field":return null!==R&&z(R)?void 0===(Ge=R[L.name])?null:Ge:null;case"Subexpression":for(de=this.visit(L.children[0],R),Z=1;Z<L.children.length;Z++)if(null===(de=this.visit(L.children[1],de)))return null;return de;case"IndexExpression":return Se=this.visit(L.children[0],R),this.visit(L.children[1],Se);case"Index":return Ae(R)?void 0===(de=R[Ge=(Ge=L.value)<0?R.length+Ge:Ge])?null:de:null;case"Slice":if(!Ae(R))return null;var Ge=L.children.slice(0),Ie=(Ge=this.computeSliceParams(R.length,Ge))[0],Ze=Ge[1],X=Ge[2],de=[];if(0<X)for(Z=Ie;Z<Ze;Z+=X)de.push(R[Z]);else for(Z=Ie;Ze<Z;Z+=X)de.push(R[Z]);return de;case"Projection":var ge=this.visit(L.children[0],R);if(!Ae(ge))return null;for(Ce=[],Z=0;Z<ge.length;Z++)null!==(ae=this.visit(L.children[1],ge[Z]))&&Ce.push(ae);return Ce;case"ValueProjection":if(!z(ge=this.visit(L.children[0],R)))return null;for(var Ce=[],G=function(Wt){for(var Vt=Object.keys(Wt),qt=[],Ut=0;Ut<Vt.length;Ut++)qt.push(Wt[Vt[Ut]]);return qt}(ge),Z=0;Z<G.length;Z++)null!==(ae=this.visit(L.children[1],G[Z]))&&Ce.push(ae);return Ce;case"FilterProjection":if(!Ae(ge=this.visit(L.children[0],R)))return null;var ne=[],_e=[];for(Z=0;Z<ge.length;Z++)be(Q=this.visit(L.children[2],ge[Z]))||ne.push(ge[Z]);for(var Ee=0;Ee<ne.length;Ee++)null!==(ae=this.visit(L.children[1],ne[Ee]))&&_e.push(ae);return _e;case"Comparator":switch(ve=this.visit(L.children[0],R),xe=this.visit(L.children[1],R),L.name){case"EQ":de=oe(ve,xe);break;case"NE":de=!oe(ve,xe);break;case"GT":de=xe<ve;break;case"GTE":de=xe<=ve;break;case"LT":de=ve<xe;break;case"LTE":de=ve<=xe;break;default:throw new Error("Unknown comparator: "+L.name)}return de;case h:var Qe=this.visit(L.children[0],R);if(!Ae(Qe))return null;var ft=[];for(Z=0;Z<Qe.length;Z++)Ae(ae=Qe[Z])?ft.push.apply(ft,ae):ft.push(ae);return ft;case"Identity":return R;case"MultiSelectList":if(null===R)return null;for(Ce=[],Z=0;Z<L.children.length;Z++)Ce.push(this.visit(L.children[Z],R));return Ce;case"MultiSelectHash":if(null===R)return null;for(Ce={},Z=0;Z<L.children.length;Z++)Ce[(we=L.children[Z]).name]=this.visit(we.value,R);return Ce;case"OrExpression":return be(Q=this.visit(L.children[0],R))?this.visit(L.children[1],R):Q;case"AndExpression":return!0===be(ve=this.visit(L.children[0],R))?ve:this.visit(L.children[1],R);case"NotExpression":return be(ve=this.visit(L.children[0],R));case"Literal":return L.value;case u:return Se=this.visit(L.children[0],R),this.visit(L.children[1],Se);case b:return R;case"Function":var yt=[];for(Z=0;Z<L.children.length;Z++)yt.push(this.visit(L.children[Z],R));return this.runtime.callFunction(L.name,yt);case"ExpressionReference":return(Ge=L.children[0]).jmespathType=p,Ge;default:throw new Error("Unknown node type: "+L.type)}},computeSliceParams:function(L,Q){var xe=Q[0],Se=Q[1],ae=[null,null,null];if(null===(Q=Q[2]))Q=1;else if(0===Q)throw(ve=new Error("Invalid slice, step cannot be 0")).name="RuntimeError",ve;var ve=Q<0;return xe=null===xe?ve?L-1:0:this.capSliceRange(L,xe,Q),Se=null===Se?ve?-1:L:this.capSliceRange(L,Se,Q),ae[0]=xe,ae[1]=Se,ae[2]=Q,ae},capSliceRange:function(L,R,Q){return R<0?(R+=L)<0&&(R=Q<0?-1:0):L<=R&&(R=Q<0?L-1:L),R}},H.prototype={callFunction:function(L,R){var Q=this.functionTable[L];if(void 0===Q)throw new Error("Unknown function: "+L+"()");return this._validateArgs(L,R,Q._signature),Q._func.call(this,R)},_validateArgs:function(L,R,Q){var ae;if(Q[Q.length-1].variadic){if(R.length<Q.length)throw ae=1===Q.length?" argument":" arguments",new Error("ArgumentError: "+L+"() takes at least"+Q.length+ae+" but received "+R.length)}else if(R.length!==Q.length)throw ae=1===Q.length?" argument":" arguments",new Error("ArgumentError: "+L+"() takes "+Q.length+ae+" but received "+R.length);for(var ve=0;ve<Q.length;ve++){for(var xe,Se=!1,we=Q[ve].types,Ge=this._getTypeName(R[ve]),Ie=0;Ie<we.length;Ie++)if(this._typeMatches(Ge,we[Ie],R[ve])){Se=!0;break}if(!Se)throw xe=we.map(function(Ze){return ye[Ze]}).join(","),new Error("TypeError: "+L+"() expected argument "+(ve+1)+" to be type "+xe+" but received type "+ye[Ge]+" instead.")}},_typeMatches:function(L,R,Q){if(1===R)return!0;if(9!==R&&8!==R&&3!==R)return L===R;if(3===R)return 3===L;if(3===L){var ae;8===R?ae=0:9===R&&(ae=2);for(var ve=0;ve<Q.length;ve++)if(!this._typeMatches(this._getTypeName(Q[ve]),ae,Q[ve]))return!1;return!0}},_getTypeName:function(L){switch(Object.prototype.toString.call(L)){case"[object String]":return 2;case"[object Number]":return 0;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return L.jmespathType===p?6:4}},_functionStartsWith:function(L){return 0===L[0].lastIndexOf(L[1])},_functionEndsWith:function(Q){var R=Q[0];return-1!==R.indexOf(Q=Q[1],R.length-Q.length)},_functionReverse:function(L){var R;if(2!==this._getTypeName(L[0]))return(R=L[0].slice(0)).reverse(),R;for(var Q=L[0],ae="",ve=Q.length-1;0<=ve;ve--)ae+=Q[ve];return ae},_functionAbs:function(L){return Math.abs(L[0])},_functionCeil:function(L){return Math.ceil(L[0])},_functionAvg:function(L){for(var R=0,Q=L[0],ae=0;ae<Q.length;ae++)R+=Q[ae];return R/Q.length},_functionContains:function(L){return 0<=L[0].indexOf(L[1])},_functionFloor:function(L){return Math.floor(L[0])},_functionLength:function(L){return(z(L[0])?Object.keys(L[0]):L[0]).length},_functionMap:function(L){for(var R=[],Q=this._interpreter,ae=L[0],ve=L[1],xe=0;xe<ve.length;xe++)R.push(Q.visit(ae,ve[xe]));return R},_functionMerge:function(L){for(var R={},Q=0;Q<L.length;Q++){var ae,ve=L[Q];for(ae in ve)R[ae]=ve[ae]}return R},_functionMax:function(L){if(0<L[0].length){if(0===this._getTypeName(L[0][0]))return Math.max.apply(Math,L[0]);for(var R=L[0],Q=R[0],ae=1;ae<R.length;ae++)Q.localeCompare(R[ae])<0&&(Q=R[ae]);return Q}return null},_functionMin:function(L){if(0<L[0].length){if(0===this._getTypeName(L[0][0]))return Math.min.apply(Math,L[0]);for(var R=L[0],Q=R[0],ae=1;ae<R.length;ae++)R[ae].localeCompare(Q)<0&&(Q=R[ae]);return Q}return null},_functionSum:function(L){for(var R=0,Q=L[0],ae=0;ae<Q.length;ae++)R+=Q[ae];return R},_functionType:function(L){switch(this._getTypeName(L[0])){case 0:return"number";case 2:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(L){return Object.keys(L[0])},_functionValues:function(L){for(var R=L[0],Q=Object.keys(R),ae=[],ve=0;ve<Q.length;ve++)ae.push(R[Q[ve]]);return ae},_functionJoin:function(L){return L[1].join(L[0])},_functionToArray:function(L){return 3===this._getTypeName(L[0])?L[0]:[L[0]]},_functionToString:function(L){return 2===this._getTypeName(L[0])?L[0]:JSON.stringify(L[0])},_functionToNumber:function(L){var R=this._getTypeName(L[0]);return 0===R?L[0]:2!==R||(R=+L[0],isNaN(R))?null:R},_functionNotNull:function(L){for(var R=0;R<L.length;R++)if(7!==this._getTypeName(L[R]))return L[R];return null},_functionSort:function(L){return(L=L[0].slice(0)).sort(),L},_functionSortBy:function(L){var R=L[0].slice(0);if(0!==R.length){var Q=this._interpreter,ae=L[1],ve=this._getTypeName(Q.visit(ae,R[0]));if([0,2].indexOf(ve)<0)throw new Error("TypeError");for(var xe=this,Se=[],we=0;we<R.length;we++)Se.push([we,R[we]]);Se.sort(function(Ie,Ze){var X=Q.visit(ae,Ie[1]),de=Q.visit(ae,Ze[1]);if(xe._getTypeName(X)!==ve)throw new Error("TypeError: expected "+ve+", received "+xe._getTypeName(X));if(xe._getTypeName(de)!==ve)throw new Error("TypeError: expected "+ve+", received "+xe._getTypeName(de));return de<X?1:X<de?-1:Ie[0]-Ze[0]});for(var Ge=0;Ge<Se.length;Ge++)R[Ge]=Se[Ge][1]}return R},_functionMaxBy:function(L){for(var R,Q,ve=L[0],xe=this.createKeyFunction(L[1],[0,2]),Se=-1/0,we=0;we<ve.length;we++)Se<(Q=xe(ve[we]))&&(Se=Q,R=ve[we]);return R},_functionMinBy:function(L){for(var R,Q,ve=L[0],xe=this.createKeyFunction(L[1],[0,2]),Se=1/0,we=0;we<ve.length;we++)(Q=xe(ve[we]))<Se&&(Se=Q,R=ve[we]);return R},createKeyFunction:function(L,R){var Q=this,ae=this._interpreter;return function(Se){var xe;if(Se=ae.visit(L,Se),R.indexOf(Q._getTypeName(Se))<0)throw xe="TypeError: expected one of "+R+", received "+Q._getTypeName(Se),new Error(xe);return Se}}},ue.tokenize=function(L){return(new K).tokenize(L)},ue.compile=function(L){return(new W).parse(L)},ue.search=function(L,R){var Q=new W,ae=new re(ve=new H),ve=(ve._interpreter=ae,Q.parse(R));return ae.search(ve,L)},ue.strictDeepEqual=oe}(M)},500:function(je){"use strict";var M=je.exports=function(Ae,z,oe){"function"==typeof z&&(oe=z,z={}),function be(fe,ye,ce,J,O,T,j,N,F,v){if(J&&"object"==typeof J&&!Array.isArray(J)){for(var b in ye(J,O,T,j,N,F,v),J){var p=J[b];if(Array.isArray(p)){if(b in M.arrayKeywords)for(var u=0;u<p.length;u++)be(fe,ye,ce,p[u],O+"/"+b+"/"+u,T,O,b,J,u)}else if(b in M.propsKeywords){if(p&&"object"==typeof p)for(var h in p)be(fe,ye,ce,p[h],O+"/"+b+"/"+ue(h),T,O,b,J,h)}else(b in M.keywords||fe.allKeys&&!(b in M.skipKeywords))&&be(fe,ye,ce,p,O+"/"+b,T,O,b,J)}ce(J,O,T,j,N,F,v)}}(z,"function"==typeof(oe=z.cb||oe)?oe:oe.pre||function(){},oe.post||function(){},Ae,"",Ae)};function ue(Ae){return Ae.replace(/~/g,"~0").replace(/\//g,"~1")}M.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},M.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},M.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},M.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},7026:function(je,M){"use strict";var ue={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},Ae="a".charCodeAt(),z=(M.parse=function(v,b,p){var u={},h=0,d=0,f=0,k=p&&p.bigint&&typeof BigInt<"u";return{data:function m(R,Q){y(),K(R,"value");var ae,ve=E();switch(ve){case"t":V("rue"),ae=!0;break;case"f":V("alse"),ae=!1;break;case"n":V("ull"),ae=null;break;case'"':ae=S();break;case"[":ae=function(xe){y();var Se=[],we=0;if("]"!=E())for(w();;){Se.push(m(xe+"/"+we)),y();var Ge=E();if("]"==Ge)break;","!=Ge&&H(),y(),we++}return Se}(R);break;case"{":ae=function(xe){y();var Se={};if("}"!=E())for(w();;){var Ie=W(),we=('"'!=E()&&H(),S()),Ge=xe+"/"+F(we);if("}"==(U(Ge,"key",Ie),K(Ge,"keyEnd"),y(),":"!=E()&&H(),y(),Se[we]=m(Ge),y(),Ie=E()))break;","!=Ie&&H(),y()}return Se}(R);break;default:w(),0<="-0123456789".indexOf(ve)?ae=function(){var xe="",Se=!0;"-"==v[f]&&(xe+=E()),xe+=("0"==v[f]?E:B)(),"."==v[f]&&(xe+=E()+B(),Se=!1),"e"!=v[f]&&"E"!=v[f]||(xe+=E(),"+"!=v[f]&&"-"!=v[f]||(xe+=E()),xe+=B(),Se=!1);var we=+xe;return k&&Se&&(we>Number.MAX_SAFE_INTEGER||we<Number.MIN_SAFE_INTEGER)?BigInt(xe):we}():re()}return K(R,"valueEnd"),y(),Q&&f<v.length&&re(),ae}("",!0),pointers:u};function y(){e:for(;f<v.length;){switch(v[f]){case" ":d++;break;case"\t":d+=4;break;case"\r":d=0;break;case"\n":d=0,h++;break;default:break e}f++}}function S(){for(var R,Q="";'"'!=(R=E());)"\\"==R?(R=E())in ue?Q+=ue[R]:"u"==R?Q+=function(){for(var ae=4,ve=0;ae--;){ve<<=4;var xe=E().toLowerCase();"a"<=xe&&xe<="f"?ve+=xe.charCodeAt()-Ae+10:"0"<=xe&&xe<="9"?ve+=+xe:H()}return String.fromCharCode(ve)}():H():Q+=R;return Q}function V(R){for(var Q=0;Q<R.length;Q++)E()!==R[Q]&&H()}function E(){L();var R=v[f];return f++,d++,R}function w(){f--,d--}function B(){for(var R="";"0"<=v[f]&&v[f]<="9";)R+=E();if(R.length)return R;L(),re()}function K(R,Q){U(R,Q,W())}function U(R,Q,ae){u[R]=u[R]||{},u[R][Q]=ae}function W(){return{line:h,column:d,pos:f}}function re(){throw new SyntaxError("Unexpected token "+v[f]+" in JSON at position "+f)}function H(){w(),re()}function L(){if(f>=v.length)throw new SyntaxError("Unexpected end of JSON input")}},M.stringify=function(v,b,p){if(oe(v)){var u=0;switch(typeof(d="object"==typeof p?p.space:p)){case"number":var h=10<d?10:d<0?0:Math.floor(d),d=h&&re(h," "),f=h,k=h;break;case"string":d=d.slice(0,10);for(var m=k=f=0;m<d.length;m++){switch(d[m]){case" ":k++;break;case"\t":k+=4;break;case"\r":k=0;break;case"\n":k=0,u++;break;default:throw new Error("whitespace characters not allowed in JSON")}f++}break;default:d=void 0}var y="",S={},V=0,E=0,w=0,B=p&&p.es6&&"function"==typeof Map;return function H(L,R,Q){switch(W(Q,"value"),typeof L){case"number":case"bigint":case"boolean":K(""+L);break;case"string":K(T(L));break;case"object":null===L?K("null"):"function"==typeof L.toJSON?K(T(L.toJSON())):Array.isArray(L)?ae():B?L.constructor.BYTES_PER_ELEMENT?ae():L instanceof Map?xe():L instanceof Set?xe(!0):ve():ve()}function ae(){if(L.length){K("[");for(var Se=R+1,we=0;we<L.length;we++){we&&K(","),U(Se);var Ge=oe(L[we])?L[we]:null;H(Ge,Se,Q+"/"+we)}U(R),K("]")}else K("[]")}function ve(){var Se=Object.keys(L);if(Se.length){K("{");for(var we=R+1,Ge=0;Ge<Se.length;Ge++){var Ie,Ze=Se[Ge],X=L[Ze];oe(X)&&(Ge&&K(","),Ie=Q+"/"+F(Ze),U(we),W(Ie,"key"),K(T(Ze)),W(Ie,"keyEnd"),K(":"),d&&K(" "),H(X,we,Ie))}U(R),K("}")}else K("{}")}function xe(Se){if(L.size){K("{");for(var we=R+1,Ge=!0,Ie=L.entries(),Ze=Ie.next();!Ze.done;){var X,ge,de=(ge=Ze.value)[0];oe(ge=!!Se||ge[1])&&(Ge||K(","),Ge=!1,X=Q+"/"+F(de),U(we),W(X,"key"),K(T(de)),W(X,"keyEnd"),K(":"),d&&K(" "),H(ge,we,X)),Ze=Ie.next()}U(R),K("}")}else K("{}")}W(Q,"valueEnd")}(v,0,""),{json:y,pointers:S}}function K(H){E+=H.length,w+=H.length,y+=H}function U(H){if(d){for(y+="\n"+re(H,d),V++,E=0;H--;)u?(V+=u,E=k):E+=k,w+=f;w+=1}}function W(H,L){S[H]=S[H]||{},S[H][L]={line:V,column:E,pos:w}}function re(H,L){return Array(H+1).join(L)}},["number","bigint","boolean","string","object"]);function oe(v){return 0<=z.indexOf(typeof v)}var be=/"|\\/g,fe=/[\b]/g,ye=/\f/g,ce=/\n/g,J=/\r/g,O=/\t/g;function T(v){return'"'+(v=v.replace(be,"\\$&").replace(ye,"\\f").replace(fe,"\\b").replace(ce,"\\n").replace(J,"\\r").replace(O,"\\t"))+'"'}var j=/~/g,N=/\//g;function F(v){return v.replace(j,"~0").replace(N,"~1")}},483:function(je,M){var ue,Ae;!function(){"use strict";Ae=[],void 0!==(Ae="function"==typeof(ue=function(){function z(p){return"object"==typeof Node?p instanceof Node:p&&"object"==typeof p&&"number"==typeof p.nodeType}function be(){var p=[];return{watch:p.push.bind(p),trigger:function(u,h){for(var d=!0,f={detail:h,preventDefault:function(){d=!1}},k=0;k<p.length;k++)p[k](u,f);return d}}}function fe(p){return"none"===window.getComputedStyle(p).display}function ye(p){this.elem=p}function ce(p,u){return ye.make(p("parent")).clazz("pico-overlay").clazz(p("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(p("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){p("overlayClose",!0)&&u()})}ye.make=function(p,u){"string"==typeof p&&(p=document.querySelector(p));var h=document.createElement(u||"div");return(p||document.body).appendChild(h),new ye(h)},ye.prototype={child:function(p){return ye.make(this.elem,p)},stylize:function(p){for(var u in typeof(p=p||{}).opacity<"u"&&(p.filter="alpha(opacity="+100*p.opacity+")"),p)p.hasOwnProperty(u)&&(this.elem.style[u]=p[u]);return this},clazz:function(p){return this.elem.className+=" "+p,this},html:function(p){return z(p)?this.elem.appendChild(p):this.elem.innerHTML=p,this},onClick:function(p){return this.elem.addEventListener("click",p),this},destroy:function(){this.elem.parentNode.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(p,u){return void 0!==u&&this.elem.setAttribute(p,u),this},anyAncestor:function(p){for(var u=this.elem;u;){if(p(new ye(u)))return!0;u=u.parentNode}return!1},isVisible:function(){return!fe(this.elem)}};var J=1;function T(p,u){if(u("closeButton",!0))return p.child("button").html(u("closeHtml","&#xD7;")).clazz("pico-close").clazz(u("closeClass","")).stylize(u("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",u("close-label","Close"))}function j(p){return function(){return p().elem}}var N=be(),F=be();function v(p,u){function h(y,S){return(y.msMatchesSelector||y.webkitMatchesSelector||y.matches).call(y,S)}function d(y){return!(fe(y)||h(y,":disabled")||y.hasAttribute("contenteditable"))&&(y.hasAttribute("tabindex")||h(y,"input,select,textarea,button,a[href],area[href],iframe"))}function f(y){for(var S=y.getElementsByTagName("*"),V=0;V<S.length;V++)if(d(S[V]))return S[V]}var m;p.beforeShow(function(){m=document.activeElement}),p.afterShow(function(){if(u()){var S=f(p.modalElem());S&&S.focus()}}),p.afterClose(function(){u()&&m&&m.focus(),m=null}),F.watch(function(S){if(u()&&p.isVisible()){var V=f(p.modalElem()),E=function k(y){for(var S=y.getElementsByTagName("*"),V=S.length;V--;)if(d(S[V]))return S[V]}(p.modalElem());(S.shiftKey?V:E)===document.activeElement&&((S.shiftKey?E:V).focus(),S.preventDefault())}})}return document.documentElement.addEventListener("keydown",function(u){var h=u.which||u.keyCode;27===h?N.trigger():9===h&&F.trigger(u)}),function(u){(function oe(p){return"string"==typeof p}(u)||z(u))&&(u={content:u});var h=be(),d=be(),f=be(),k=be(),m=be();function y(H,L){var R=u[H];return"function"==typeof R&&(R=R(L)),void 0===R?L:R}var w,W,S=re.bind(window,"modal"),V=re.bind(window,"overlay"),E=re.bind(window,"close");function B(H){V().hide(),S().hide(),m.trigger(w,H)}function K(H){k.trigger(w,H)&&B(H)}function U(H){return function(){return H.apply(this,arguments),w}}function re(H,L){if(!W){var R=function O(p,u){var h=p("width","auto");"number"==typeof h&&(h+="px");var d=p("modalId","pico-"+J++);return ye.make(p("parent")).clazz("pico-content").clazz(p("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:h,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(p("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(p("content")).attr("id",d).attr("role","dialog").attr("aria-labelledby",p("ariaLabelledBy")).attr("aria-describedby",p("ariaDescribedBy",d)).onClick(function(k){new ye(k.target).anyAncestor(function(y){return/\bpico-close\b/.test(y.elem.className)})&&u()})}(y,K);W={modal:R,overlay:ce(y,K),close:T(R,y)},h.trigger(w,L)}return W[H]}return v(w={modalElem:j(S),closeElem:j(E),overlayElem:j(V),buildDom:U(re.bind(null,null)),isVisible:function(){return!!(W&&S&&S().isVisible())},show:function(H){return d.trigger(w,H)&&(V().show(),E(),S().show(),f.trigger(w,H)),this},close:U(K),forceClose:U(B),destroy:function(){S().destroy(),V().destroy(),V=S=E=void 0},options:function(H){Object.keys(H).map(function(L){u[L]=H[L]})},afterCreate:U(h.watch),beforeShow:U(d.watch),afterShow:U(f.watch),beforeClose:U(k.watch),afterClose:U(m.watch)},y.bind(null,"focus",!0)),function b(p,u){var h,d=new ye(document.body);p.beforeShow(function(){h=d.elem.style.overflow,u()&&d.stylize({overflow:"hidden"})}),p.afterClose(function(){d.stylize({overflow:h})})}(w,y.bind(null,"bodyOverflow",!0)),N.watch(function(){y("escCloses",!0)&&w.isVisible()&&w.close()}),w}})?ue.apply(M,Ae):ue)&&(je.exports=Ae)}()},7533:function(je,M){!function(ue){"use strict";function Ae(){for(var He=arguments.length,Oe=Array(He),Ue=0;Ue<He;Ue++)Oe[Ue]=arguments[Ue];if(Oe.length>1){Oe[0]=Oe[0].slice(0,-1);for(var lt=Oe.length-1,rt=1;rt<lt;++rt)Oe[rt]=Oe[rt].slice(1,-1);return Oe[lt]=Oe[lt].slice(1),Oe.join("")}return Oe[0]}function z(He){return"(?:"+He+")"}function oe(He){return void 0===He?"undefined":null===He?"null":Object.prototype.toString.call(He).split(" ").pop().split("]").shift().toLowerCase()}function be(He){return He.toUpperCase()}function ce(He){var Oe="[A-Za-z]",lt="[0-9]",Kt=Ae(lt,"[A-Fa-f]"),En=z(z("%[EFef]"+Kt+"%"+Kt+Kt+"%"+Kt+Kt)+"|"+z("%[89A-Fa-f]"+Kt+"%"+Kt+Kt)+"|"+z("%"+Kt+Kt)),cn="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",no=Ae("[\\:\\/\\?\\#\\[\\]\\@]",cn),so=He?"[\\uE000-\\uF8FF]":"[]",vn=Ae(Oe,lt,"[\\-\\.\\_\\~]",He?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),ro=z(Oe+Ae(Oe,lt,"[\\+\\-\\.]")+"*"),Gn=z(z(En+"|"+Ae(vn,cn,"[\\:]"))+"*"),Xs=(z(z("25[0-5]")+"|"+z("2[0-4]"+lt)+"|"+z("1"+lt+lt)+"|"+z("[1-9]"+lt)+"|"+lt),z(z("25[0-5]")+"|"+z("2[0-4]"+lt)+"|"+z("1"+lt+lt)+"|"+z("0?[1-9]"+lt)+"|0?0?"+lt)),pr=z(Xs+"\\."+Xs+"\\."+Xs+"\\."+Xs),Wn=z(Kt+"{1,4}"),qs=z(z(Wn+"\\:"+Wn)+"|"+pr),mr=z(z(Wn+"\\:")+"{6}"+qs),Dn=z("\\:\\:"+z(Wn+"\\:")+"{5}"+qs),Yi=z(z(Wn)+"?\\:\\:"+z(Wn+"\\:")+"{4}"+qs),Dr=z(z(z(Wn+"\\:")+"{0,1}"+Wn)+"?\\:\\:"+z(Wn+"\\:")+"{3}"+qs),nc=z(z(z(Wn+"\\:")+"{0,2}"+Wn)+"?\\:\\:"+z(Wn+"\\:")+"{2}"+qs),On=z(z(z(Wn+"\\:")+"{0,3}"+Wn)+"?\\:\\:"+Wn+"\\:"+qs),Gc=z(z(z(Wn+"\\:")+"{0,4}"+Wn)+"?\\:\\:"+qs),Sn=z(z(z(Wn+"\\:")+"{0,5}"+Wn)+"?\\:\\:"+Wn),fl=z(z(z(Wn+"\\:")+"{0,6}"+Wn)+"?\\:\\:"),Da=z([mr,Dn,Yi,Dr,nc,On,Gc,Sn,fl].join("|")),Si=z(z(vn+"|"+En)+"+"),Oa=(z(Da+"\\%25"+Si),z(Da+z("\\%25|\\%(?!"+Kt+"{2})")+Si)),xp=z("[vV]"+Kt+"+\\."+Ae(vn,cn,"[\\:]")+"+"),VA=z("\\["+z(Oa+"|"+Da+"|"+xp)+"\\]"),kd=z(z(En+"|"+Ae(vn,cn))+"*"),mt=z(VA+"|"+pr+"(?!"+kd+")|"+kd),gl=z(lt+"*"),Fi=z(z(Gn+"@")+"?"+mt+z("\\:"+gl)+"?"),gn=z(En+"|"+Ae(vn,cn,"[\\:\\@]")),Ly=z(gn+"*"),Ny=z(gn+"+"),By=z(z(En+"|"+Ae(vn,cn,"[\\@]"))+"+"),fr=z(z("\\/"+Ly)+"*"),jo=z("\\/"+z(Ny+fr)+"?"),cg=z(By+fr),Pu=z(Ny+fr),Id="(?!"+gn+")",Ad=(z(fr+"|"+jo+"|"+cg+"|"+Pu+"|"+Id),z(z(gn+"|"+Ae("[\\/\\?]",so))+"*")),Tu=z(z(gn+"|[\\/\\?]")+"*"),Vy=z(z("\\/\\/"+Fi+fr)+"|"+jo+"|"+Pu+"|"+Id),$A=z(ro+"\\:"+Vy+z("\\?"+Ad)+"?"+z("\\#"+Tu)+"?"),$y=z(z("\\/\\/"+Fi+fr)+"|"+jo+"|"+cg+"|"+Id),HA=z($y+z("\\?"+Ad)+"?"+z("\\#"+Tu)+"?");return z($A+"|"+HA),z(ro+"\\:"+Vy+z("\\?"+Ad)+"?"),z(z("\\/\\/("+z("("+Gn+")@")+"?("+mt+")"+z("\\:("+gl+")")+"?)")+"?("+fr+"|"+jo+"|"+Pu+"|"+Id+")"),z("\\?("+Ad+")"),z("\\#("+Tu+")"),z(z("\\/\\/("+z("("+Gn+")@")+"?("+mt+")"+z("\\:("+gl+")")+"?)")+"?("+fr+"|"+jo+"|"+cg+"|"+Id+")"),z("\\?("+Ad+")"),z("\\#("+Tu+")"),z(z("\\/\\/("+z("("+Gn+")@")+"?("+mt+")"+z("\\:("+gl+")")+"?)")+"?("+fr+"|"+jo+"|"+Pu+"|"+Id+")"),z("\\?("+Ad+")"),z("\\#("+Tu+")"),z("("+Gn+")@"),z("\\:("+gl+")"),{NOT_SCHEME:new RegExp(Ae("[^]",Oe,lt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(Ae("[^\\%\\:]",vn,cn),"g"),NOT_HOST:new RegExp(Ae("[^\\%\\[\\]\\:]",vn,cn),"g"),NOT_PATH:new RegExp(Ae("[^\\%\\/\\:\\@]",vn,cn),"g"),NOT_PATH_NOSCHEME:new RegExp(Ae("[^\\%\\/\\@]",vn,cn),"g"),NOT_QUERY:new RegExp(Ae("[^\\%]",vn,cn,"[\\:\\@\\/\\?]",so),"g"),NOT_FRAGMENT:new RegExp(Ae("[^\\%]",vn,cn,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(Ae("[^]",vn,cn),"g"),UNRESERVED:new RegExp(vn,"g"),OTHER_CHARS:new RegExp(Ae("[^\\%]",vn,no),"g"),PCT_ENCODED:new RegExp(En,"g"),IPV4ADDRESS:new RegExp("^("+pr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Da+")"+z(z("\\%25|\\%(?!"+Kt+"{2})")+"("+Si+")")+"?\\]?$")}}var J=ce(!1),O=ce(!0),T=function(Oe,Ue){if(Array.isArray(Oe))return Oe;if(Symbol.iterator in Object(Oe))return function He(Oe,Ue){var lt=[],rt=!0,Kt=!1,xi=void 0;try{for(var En,Cn=Oe[Symbol.iterator]();!(rt=(En=Cn.next()).done)&&(lt.push(En.value),!Ue||lt.length!==Ue);rt=!0);}catch(bo){Kt=!0,xi=bo}finally{try{!rt&&Cn.return&&Cn.return()}finally{if(Kt)throw xi}}return lt}(Oe,Ue);throw new TypeError("Invalid attempt to destructure non-iterable instance")},N=2147483647,F=36,k=/^xn--/,m=/[^\0-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=Math.floor,w=String.fromCharCode;function B(He){throw new RangeError(S[He])}function U(He,Oe){var Ue=He.split("@"),lt="";return Ue.length>1&&(lt=Ue[0]+"@",He=Ue[1]),lt+function K(He,Oe){for(var Ue=[],lt=He.length;lt--;)Ue[lt]=Oe(He[lt]);return Ue}((He=He.replace(y,".")).split("."),Oe).join(".")}function W(He){for(var Oe=[],Ue=0,lt=He.length;Ue<lt;){var rt=He.charCodeAt(Ue++);if(rt>=55296&&rt<=56319&&Ue<lt){var Kt=He.charCodeAt(Ue++);56320==(64512&Kt)?Oe.push(((1023&rt)<<10)+(1023&Kt)+65536):(Oe.push(rt),Ue--)}else Oe.push(rt)}return Oe}var H=function(Oe){return Oe-48<10?Oe-22:Oe-65<26?Oe-65:Oe-97<26?Oe-97:F},L=function(Oe,Ue){return Oe+22+75*(Oe<26)-((0!=Ue)<<5)},R=function(Oe,Ue,lt){var rt=0;for(Oe=lt?E(Oe/700):Oe>>1,Oe+=E(Oe/Ue);Oe>455;rt+=F)Oe=E(Oe/35);return E(rt+36*Oe/(Oe+38))},Q=function(Oe){var Ue=[],lt=Oe.length,rt=0,Kt=128,xi=72,Cn=Oe.lastIndexOf("-");Cn<0&&(Cn=0);for(var En=0;En<Cn;++En)Oe.charCodeAt(En)>=128&&B("not-basic"),Ue.push(Oe.charCodeAt(En));for(var bo=Cn>0?Cn+1:0;bo<lt;){for(var cn=rt,no=1,oo=F;;oo+=F){bo>=lt&&B("invalid-input");var so=H(Oe.charCodeAt(bo++));(so>=F||so>E((N-rt)/no))&&B("overflow"),rt+=so*no;var vn=oo<=xi?1:oo>=xi+26?26:oo-xi;if(so<vn)break;var ro=F-vn;no>E(N/ro)&&B("overflow"),no*=ro}var Gn=Ue.length+1;xi=R(rt-cn,Gn,0==cn),E(rt/Gn)>N-Kt&&B("overflow"),Kt+=E(rt/Gn),rt%=Gn,Ue.splice(rt++,0,Kt)}return String.fromCodePoint.apply(String,Ue)},ae=function(Oe){var Ue=[],lt=(Oe=W(Oe)).length,rt=128,Kt=0,xi=72,Cn=!0,En=!1,bo=void 0;try{for(var no,cn=Oe[Symbol.iterator]();!(Cn=(no=cn.next()).done);Cn=!0){var oo=no.value;oo<128&&Ue.push(w(oo))}}catch(Oa){En=!0,bo=Oa}finally{try{!Cn&&cn.return&&cn.return()}finally{if(En)throw bo}}var so=Ue.length,vn=so;for(so&&Ue.push("-");vn<lt;){var ro=N,Gn=!0,ic=!1,Xs=void 0;try{for(var Wn,pr=Oe[Symbol.iterator]();!(Gn=(Wn=pr.next()).done);Gn=!0){var qs=Wn.value;qs>=rt&&qs<ro&&(ro=qs)}}catch(Oa){ic=!0,Xs=Oa}finally{try{!Gn&&pr.return&&pr.return()}finally{if(ic)throw Xs}}var mr=vn+1;ro-rt>E((N-Kt)/mr)&&B("overflow"),Kt+=(ro-rt)*mr,rt=ro;var Dn=!0,Yi=!1,Dr=void 0;try{for(var On,nc=Oe[Symbol.iterator]();!(Dn=(On=nc.next()).done);Dn=!0){var Gc=On.value;if(Gc<rt&&++Kt>N&&B("overflow"),Gc==rt){for(var Sn=Kt,fl=F;;fl+=F){var Da=fl<=xi?1:fl>=xi+26?26:fl-xi;if(Sn<Da)break;var Si=Sn-Da,ki=F-Da;Ue.push(w(L(Da+Si%ki,0))),Sn=E(Si/ki)}Ue.push(w(L(Sn,0))),xi=R(Kt,mr,vn==so),Kt=0,++vn}}}catch(Oa){Yi=!0,Dr=Oa}finally{try{!Dn&&nc.return&&nc.return()}finally{if(Yi)throw Dr}}++Kt,++rt}return Ue.join("")},Se={version:"2.1.0",ucs2:{decode:W,encode:function(Oe){return String.fromCodePoint.apply(String,function(He){if(Array.isArray(He)){for(var Oe=0,Ue=Array(He.length);Oe<He.length;Oe++)Ue[Oe]=He[Oe];return Ue}return Array.from(He)}(Oe))}},decode:Q,encode:ae,toASCII:function(Oe){return U(Oe,function(Ue){return m.test(Ue)?"xn--"+ae(Ue):Ue})},toUnicode:function(Oe){return U(Oe,function(Ue){return k.test(Ue)?Q(Ue.slice(4).toLowerCase()):Ue})}},we={};function Ge(He){var Oe=He.charCodeAt(0);return Oe<16?"%0"+Oe.toString(16).toUpperCase():Oe<128?"%"+Oe.toString(16).toUpperCase():Oe<2048?"%"+(Oe>>6|192).toString(16).toUpperCase()+"%"+(63&Oe|128).toString(16).toUpperCase():"%"+(Oe>>12|224).toString(16).toUpperCase()+"%"+(Oe>>6&63|128).toString(16).toUpperCase()+"%"+(63&Oe|128).toString(16).toUpperCase()}function Ie(He){for(var Oe="",Ue=0,lt=He.length;Ue<lt;){var rt=parseInt(He.substr(Ue+1,2),16);if(rt<128)Oe+=String.fromCharCode(rt),Ue+=3;else if(rt>=194&&rt<224){if(lt-Ue>=6){var Kt=parseInt(He.substr(Ue+4,2),16);Oe+=String.fromCharCode((31&rt)<<6|63&Kt)}else Oe+=He.substr(Ue,6);Ue+=6}else if(rt>=224){if(lt-Ue>=9){var xi=parseInt(He.substr(Ue+4,2),16),Cn=parseInt(He.substr(Ue+7,2),16);Oe+=String.fromCharCode((15&rt)<<12|(63&xi)<<6|63&Cn)}else Oe+=He.substr(Ue,9);Ue+=9}else Oe+=He.substr(Ue,3),Ue+=3}return Oe}function Ze(He,Oe){function Ue(lt){var rt=Ie(lt);return rt.match(Oe.UNRESERVED)?rt:lt}return He.scheme&&(He.scheme=String(He.scheme).replace(Oe.PCT_ENCODED,Ue).toLowerCase().replace(Oe.NOT_SCHEME,"")),void 0!==He.userinfo&&(He.userinfo=String(He.userinfo).replace(Oe.PCT_ENCODED,Ue).replace(Oe.NOT_USERINFO,Ge).replace(Oe.PCT_ENCODED,be)),void 0!==He.host&&(He.host=String(He.host).replace(Oe.PCT_ENCODED,Ue).toLowerCase().replace(Oe.NOT_HOST,Ge).replace(Oe.PCT_ENCODED,be)),void 0!==He.path&&(He.path=String(He.path).replace(Oe.PCT_ENCODED,Ue).replace(He.scheme?Oe.NOT_PATH:Oe.NOT_PATH_NOSCHEME,Ge).replace(Oe.PCT_ENCODED,be)),void 0!==He.query&&(He.query=String(He.query).replace(Oe.PCT_ENCODED,Ue).replace(Oe.NOT_QUERY,Ge).replace(Oe.PCT_ENCODED,be)),void 0!==He.fragment&&(He.fragment=String(He.fragment).replace(Oe.PCT_ENCODED,Ue).replace(Oe.NOT_FRAGMENT,Ge).replace(Oe.PCT_ENCODED,be)),He}function X(He){return He.replace(/^0*(.*)/,"$1")||"0"}function de(He,Oe){var Ue=He.match(Oe.IPV4ADDRESS)||[],rt=T(Ue,2)[1];return rt?rt.split(".").map(X).join("."):He}function ge(He,Oe){var Ue=He.match(Oe.IPV6ADDRESS)||[],lt=T(Ue,3),rt=lt[1],Kt=lt[2];if(rt){for(var xi=rt.toLowerCase().split("::").reverse(),Cn=T(xi,2),En=Cn[0],bo=Cn[1],cn=bo?bo.split(":").map(X):[],no=En.split(":").map(X),oo=Oe.IPV4ADDRESS.test(no[no.length-1]),so=oo?7:8,vn=no.length-so,ro=Array(so),Gn=0;Gn<so;++Gn)ro[Gn]=cn[Gn]||no[vn+Gn]||"";oo&&(ro[so-1]=de(ro[so-1],Oe));var Xs=ro.reduce(function(mr,Dn,Yi){if(!Dn||"0"===Dn){var Dr=mr[mr.length-1];Dr&&Dr.index+Dr.length===Yi?Dr.length++:mr.push({index:Yi,length:1})}return mr},[]).sort(function(mr,Dn){return Dn.length-mr.length})[0],pr=void 0;if(Xs&&Xs.length>1){var Wn=ro.slice(0,Xs.index),qs=ro.slice(Xs.index+Xs.length);pr=Wn.join(":")+"::"+qs.join(":")}else pr=ro.join(":");return Kt&&(pr+="%"+Kt),pr}return He}var Ce=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,G=void 0==="".match(/(){0}/)[1];function Z(He){var Oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ue={},lt=!1!==Oe.iri?O:J;"suffix"===Oe.reference&&(He=(Oe.scheme?Oe.scheme+":":"")+"//"+He);var rt=He.match(Ce);if(rt){G?(Ue.scheme=rt[1],Ue.userinfo=rt[3],Ue.host=rt[4],Ue.port=parseInt(rt[5],10),Ue.path=rt[6]||"",Ue.query=rt[7],Ue.fragment=rt[8],isNaN(Ue.port)&&(Ue.port=rt[5])):(Ue.scheme=rt[1]||void 0,Ue.userinfo=-1!==He.indexOf("@")?rt[3]:void 0,Ue.host=-1!==He.indexOf("//")?rt[4]:void 0,Ue.port=parseInt(rt[5],10),Ue.path=rt[6]||"",Ue.query=-1!==He.indexOf("?")?rt[7]:void 0,Ue.fragment=-1!==He.indexOf("#")?rt[8]:void 0,isNaN(Ue.port)&&(Ue.port=He.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?rt[4]:void 0)),Ue.host&&(Ue.host=ge(de(Ue.host,lt),lt)),Ue.reference=void 0!==Ue.scheme||void 0!==Ue.userinfo||void 0!==Ue.host||void 0!==Ue.port||Ue.path||void 0!==Ue.query?void 0===Ue.scheme?"relative":void 0===Ue.fragment?"absolute":"uri":"same-document",Oe.reference&&"suffix"!==Oe.reference&&Oe.reference!==Ue.reference&&(Ue.error=Ue.error||"URI is not a "+Oe.reference+" reference.");var Kt=we[(Oe.scheme||Ue.scheme||"").toLowerCase()];if(Oe.unicodeSupport||Kt&&Kt.unicodeSupport)Ze(Ue,lt);else{if(Ue.host&&(Oe.domainHost||Kt&&Kt.domainHost))try{Ue.host=Se.toASCII(Ue.host.replace(lt.PCT_ENCODED,Ie).toLowerCase())}catch(xi){Ue.error=Ue.error||"Host's domain name can not be converted to ASCII via punycode: "+xi}Ze(Ue,J)}Kt&&Kt.parse&&Kt.parse(Ue,Oe)}else Ue.error=Ue.error||"URI can not be parsed.";return Ue}var _e=/^\.\.?\//,Ee=/^\/\.(\/|$)/,Qe=/^\/\.\.(\/|$)/,ft=/^\/?(?:.|\n)*?(?=\/|$)/;function yt(He){for(var Oe=[];He.length;)if(He.match(_e))He=He.replace(_e,"");else if(He.match(Ee))He=He.replace(Ee,"/");else if(He.match(Qe))He=He.replace(Qe,"/"),Oe.pop();else if("."===He||".."===He)He="";else{var Ue=He.match(ft);if(!Ue)throw new Error("Unexpected dot segment condition");var lt=Ue[0];He=He.slice(lt.length),Oe.push(lt)}return Oe.join("")}function Wt(He){var Oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ue=Oe.iri?O:J,lt=[],rt=we[(Oe.scheme||He.scheme||"").toLowerCase()];if(rt&&rt.serialize&&rt.serialize(He,Oe),He.host&&!Ue.IPV6ADDRESS.test(He.host)&&(Oe.domainHost||rt&&rt.domainHost))try{He.host=Oe.iri?Se.toUnicode(He.host):Se.toASCII(He.host.replace(Ue.PCT_ENCODED,Ie).toLowerCase())}catch(Cn){He.error=He.error||"Host's domain name can not be converted to "+(Oe.iri?"Unicode":"ASCII")+" via punycode: "+Cn}Ze(He,Ue),"suffix"!==Oe.reference&&He.scheme&&(lt.push(He.scheme),lt.push(":"));var Kt=function ne(He,Oe){var Ue=!1!==Oe.iri?O:J,lt=[];return void 0!==He.userinfo&&(lt.push(He.userinfo),lt.push("@")),void 0!==He.host&&lt.push(ge(de(String(He.host),Ue),Ue).replace(Ue.IPV6ADDRESS,function(rt,Kt,xi){return"["+Kt+(xi?"%25"+xi:"")+"]"})),("number"==typeof He.port||"string"==typeof He.port)&&(lt.push(":"),lt.push(String(He.port))),lt.length?lt.join(""):void 0}(He,Oe);if(void 0!==Kt&&("suffix"!==Oe.reference&&lt.push("//"),lt.push(Kt),He.path&&"/"!==He.path.charAt(0)&&lt.push("/")),void 0!==He.path){var xi=He.path;!Oe.absolutePath&&(!rt||!rt.absolutePath)&&(xi=yt(xi)),void 0===Kt&&(xi=xi.replace(/^\/\//,"/%2F")),lt.push(xi)}return void 0!==He.query&&(lt.push("?"),lt.push(He.query)),void 0!==He.fragment&&(lt.push("#"),lt.push(He.fragment)),lt.join("")}function Vt(He,Oe){var Ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},rt={};return arguments[3]||(He=Z(Wt(He,Ue),Ue),Oe=Z(Wt(Oe,Ue),Ue)),!(Ue=Ue||{}).tolerant&&Oe.scheme?(rt.scheme=Oe.scheme,rt.userinfo=Oe.userinfo,rt.host=Oe.host,rt.port=Oe.port,rt.path=yt(Oe.path||""),rt.query=Oe.query):(void 0!==Oe.userinfo||void 0!==Oe.host||void 0!==Oe.port?(rt.userinfo=Oe.userinfo,rt.host=Oe.host,rt.port=Oe.port,rt.path=yt(Oe.path||""),rt.query=Oe.query):(Oe.path?("/"===Oe.path.charAt(0)?rt.path=yt(Oe.path):(rt.path=void 0===He.userinfo&&void 0===He.host&&void 0===He.port||He.path?He.path?He.path.slice(0,He.path.lastIndexOf("/")+1)+Oe.path:Oe.path:"/"+Oe.path,rt.path=yt(rt.path)),rt.query=Oe.query):(rt.path=He.path,rt.query=void 0!==Oe.query?Oe.query:He.query),rt.userinfo=He.userinfo,rt.host=He.host,rt.port=He.port),rt.scheme=He.scheme),rt.fragment=Oe.fragment,rt}function xt(He,Oe){return He&&He.toString().replace(Oe&&Oe.iri?O.PCT_ENCODED:J.PCT_ENCODED,Ie)}var vt={scheme:"http",domainHost:!0,parse:function(Oe,Ue){return Oe.host||(Oe.error=Oe.error||"HTTP URIs must have a host."),Oe},serialize:function(Oe,Ue){var lt="https"===String(Oe.scheme).toLowerCase();return(Oe.port===(lt?443:80)||""===Oe.port)&&(Oe.port=void 0),Oe.path||(Oe.path="/"),Oe}},At={scheme:"https",domainHost:vt.domainHost,parse:vt.parse,serialize:vt.serialize};function ni(He){return"boolean"==typeof He.secure?He.secure:"wss"===String(He.scheme).toLowerCase()}var si={scheme:"ws",domainHost:!0,parse:function(Oe,Ue){var lt=Oe;return lt.secure=ni(lt),lt.resourceName=(lt.path||"/")+(lt.query?"?"+lt.query:""),lt.path=void 0,lt.query=void 0,lt},serialize:function(Oe,Ue){if((Oe.port===(ni(Oe)?443:80)||""===Oe.port)&&(Oe.port=void 0),"boolean"==typeof Oe.secure&&(Oe.scheme=Oe.secure?"wss":"ws",Oe.secure=void 0),Oe.resourceName){var lt=Oe.resourceName.split("?"),rt=T(lt,2),Kt=rt[0],xi=rt[1];Oe.path=Kt&&"/"!==Kt?Kt:void 0,Oe.query=xi,Oe.resourceName=void 0}return Oe.fragment=void 0,Oe}},Ve={scheme:"wss",domainHost:si.domainHost,parse:si.parse,serialize:si.serialize},Be={},$t="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ui="[0-9A-Fa-f]",$i=z(z("%[EFef]"+ui+"%"+ui+ui+"%"+ui+ui)+"|"+z("%[89A-Fa-f]"+ui+"%"+ui+ui)+"|"+z("%"+ui+ui)),st=Ae("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),ci=new RegExp($t,"g"),Jt=new RegExp($i,"g"),Ti=new RegExp(Ae("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',st),"g"),Yn=new RegExp(Ae("[^]",$t,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),_o=Yn;function jn(He){var Oe=Ie(He);return Oe.match(ci)?Oe:He}var Ki={scheme:"mailto",parse:function(Oe,Ue){var lt=Oe,rt=lt.to=lt.path?lt.path.split(","):[];if(lt.path=void 0,lt.query){for(var Kt=!1,xi={},Cn=lt.query.split("&"),En=0,bo=Cn.length;En<bo;++En){var cn=Cn[En].split("=");switch(cn[0]){case"to":for(var no=cn[1].split(","),oo=0,so=no.length;oo<so;++oo)rt.push(no[oo]);break;case"subject":lt.subject=xt(cn[1],Ue);break;case"body":lt.body=xt(cn[1],Ue);break;default:Kt=!0,xi[xt(cn[0],Ue)]=xt(cn[1],Ue)}}Kt&&(lt.headers=xi)}lt.query=void 0;for(var vn=0,ro=rt.length;vn<ro;++vn){var Gn=rt[vn].split("@");if(Gn[0]=xt(Gn[0]),Ue.unicodeSupport)Gn[1]=xt(Gn[1],Ue).toLowerCase();else try{Gn[1]=Se.toASCII(xt(Gn[1],Ue).toLowerCase())}catch(ic){lt.error=lt.error||"Email address's domain name can not be converted to ASCII via punycode: "+ic}rt[vn]=Gn.join("@")}return lt},serialize:function(Oe,Ue){var lt=Oe,rt=function fe(He){return null!=He?He instanceof Array?He:"number"!=typeof He.length||He.split||He.setInterval||He.call?[He]:Array.prototype.slice.call(He):[]}(Oe.to);if(rt){for(var Kt=0,xi=rt.length;Kt<xi;++Kt){var Cn=String(rt[Kt]),En=Cn.lastIndexOf("@"),bo=Cn.slice(0,En).replace(Jt,jn).replace(Jt,be).replace(Ti,Ge),cn=Cn.slice(En+1);try{cn=Ue.iri?Se.toUnicode(cn):Se.toASCII(xt(cn,Ue).toLowerCase())}catch(vn){lt.error=lt.error||"Email address's domain name can not be converted to "+(Ue.iri?"Unicode":"ASCII")+" via punycode: "+vn}rt[Kt]=bo+"@"+cn}lt.path=rt.join(",")}var no=Oe.headers=Oe.headers||{};Oe.subject&&(no.subject=Oe.subject),Oe.body&&(no.body=Oe.body);var oo=[];for(var so in no)no[so]!==Be[so]&&oo.push(so.replace(Jt,jn).replace(Jt,be).replace(Yn,Ge)+"="+no[so].replace(Jt,jn).replace(Jt,be).replace(_o,Ge));return oo.length&&(lt.query=oo.join("&")),lt}},fn=/^([^\:]+)\:(.*)/,Ds={scheme:"urn",parse:function(Oe,Ue){var lt=Oe.path&&Oe.path.match(fn),rt=Oe;if(lt){var Kt=Ue.scheme||rt.scheme||"urn",xi=lt[1].toLowerCase(),Cn=lt[2],bo=we[Kt+":"+(Ue.nid||xi)];rt.nid=xi,rt.nss=Cn,rt.path=void 0,bo&&(rt=bo.parse(rt,Ue))}else rt.error=rt.error||"URN can not be parsed.";return rt},serialize:function(Oe,Ue){var rt=Oe.nid,xi=we[(Ue.scheme||Oe.scheme||"urn")+":"+(Ue.nid||rt)];xi&&(Oe=xi.serialize(Oe,Ue));var Cn=Oe;return Cn.path=(rt||Ue.nid)+":"+Oe.nss,Cn}},Ea=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Os={scheme:"urn:uuid",parse:function(Oe,Ue){var lt=Oe;return lt.uuid=lt.nss,lt.nss=void 0,!Ue.tolerant&&(!lt.uuid||!lt.uuid.match(Ea))&&(lt.error=lt.error||"UUID is not valid."),lt},serialize:function(Oe,Ue){var lt=Oe;return lt.nss=(Oe.uuid||"").toLowerCase(),lt}};we[vt.scheme]=vt,we[At.scheme]=At,we[si.scheme]=si,we[Ve.scheme]=Ve,we[Ki.scheme]=Ki,we[Ds.scheme]=Ds,we[Os.scheme]=Os,ue.SCHEMES=we,ue.pctEncChar=Ge,ue.pctDecChars=Ie,ue.parse=Z,ue.removeDotSegments=yt,ue.serialize=Wt,ue.resolveComponents=Vt,ue.resolve=function qt(He,Oe,Ue){var lt=function ye(He,Oe){var Ue=He;if(Oe)for(var lt in Oe)Ue[lt]=Oe[lt];return Ue}({scheme:"null"},Ue);return Wt(Vt(Z(He,lt),Z(Oe,lt),lt,!0),lt)},ue.normalize=function Ut(He,Oe){return"string"==typeof He?He=Wt(Z(He,Oe),Oe):"object"===oe(He)&&(He=Z(Wt(He,Oe),Oe)),He},ue.equal=function ji(He,Oe,Ue){return"string"==typeof He?He=Wt(Z(He,Ue),Ue):"object"===oe(He)&&(He=Wt(He,Ue)),"string"==typeof Oe?Oe=Wt(Z(Oe,Ue),Ue):"object"===oe(Oe)&&(Oe=Wt(Oe,Ue)),He===Oe},ue.escapeComponent=function ot(He,Oe){return He&&He.toString().replace(Oe&&Oe.iri?O.ESCAPE:J.ESCAPE,Ge)},ue.unescapeComponent=xt,Object.defineProperty(ue,"__esModule",{value:!0})}(M)},4049:function(je){je.exports=function(){"use strict";var M=function(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")},ue=function(){function h(d,f){for(var k=0;k<f.length;k++){var m=f[k];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,f,k){return f&&h(d.prototype,f),k&&h(d,k),d}}(),Ae=function(d,f){if(Array.isArray(d))return d;if(Symbol.iterator in Object(d))return function h(d,f){var k=[],m=!0,y=!1,S=void 0;try{for(var E,V=d[Symbol.iterator]();!(m=(E=V.next()).done)&&(k.push(E.value),!f||k.length!==f);m=!0);}catch(w){y=!0,S=w}finally{try{!m&&V.return&&V.return()}finally{if(y)throw S}}return k}(d,f);throw new TypeError("Invalid attempt to destructure non-iterable instance")},z=(String.prototype.startsWith=String.prototype.startsWith||function(h){return 0===this.indexOf(h)},String.prototype.padStart=String.prototype.padStart||function(h,d){for(var f=this;f.length<h;)f=d+f;return f},{cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"});function oe(h){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(d>0?h.toFixed(d).replace(/0+$/,"").replace(/\.$/,""):h.toString())||"0"}var be=function(){function h(d,f,k,m){M(this,h);var y=this;if(void 0!==d)if(Array.isArray(d))this.rgba=d;else if(void 0===k){var V=d&&""+d;V&&function S(E){if(E.startsWith("hsl")){var w=E.match(/([\-\d\.e]+)/g).map(Number),B=Ae(w,4),K=B[0],U=B[1],W=B[2],re=B[3];void 0===re&&(re=1),y.hsla=[K/=360,U/=100,W/=100,re]}else if(E.startsWith("rgb")){var H=E.match(/([\-\d\.e]+)/g).map(Number),L=Ae(H,4),ve=L[3];void 0===ve&&(ve=1),y.rgba=[L[0],L[1],L[2],ve]}else y.rgba=E.startsWith("#")?h.hexToRgb(E):h.nameToRgb(E)||h.hexToRgb(E)}(V.toLowerCase())}else this.rgba=[d,f,k,void 0===m?1:m]}return ue(h,[{key:"printRGB",value:function(f){var m=(f?this.rgba:this.rgba.slice(0,3)).map(function(y,S){return oe(y,3===S?3:0)});return f?"rgba("+m+")":"rgb("+m+")"}},{key:"printHSL",value:function(f){var k=[360,100,100,1],m=["","%","%",""],S=(f?this.hsla:this.hsla.slice(0,3)).map(function(V,E){return oe(V*k[E],3===E?3:1)+m[E]});return f?"hsla("+S+")":"hsl("+S+")"}},{key:"printHex",value:function(f){var k=this.hex;return f?k:k.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=h.hslToRgb(this._hsla)},set:function(f){3===f.length&&(f[3]=1),this._rgba=f,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=h.rgbToHsl(this._rgba)},set:function(f){3===f.length&&(f[3]=1),this._hsla=f,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return"#"+this.rgba.map(function(m,y){return y<3?m.toString(16):Math.round(255*m).toString(16)}).map(function(m){return m.padStart(2,"0")}).join("")},set:function(f){this.rgba=h.hexToRgb(f)}}],[{key:"hexToRgb",value:function(f){var k=(f.startsWith("#")?f.slice(1):f).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!k.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+f);var m=k.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(y){return parseInt(y,16)});return m[3]=m[3]/255,m}},{key:"nameToRgb",value:function(f){var k=f.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),m=z[k];return void 0===m?m:h.hexToRgb(m.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(f){var k=Ae(f,4),m=k[0],y=k[1],S=k[2],V=k[3];m/=255,y/=255,S/=255;var E=Math.max(m,y,S),w=Math.min(m,y,S),B=void 0,K=void 0,U=(E+w)/2;if(E===w)B=K=0;else{var W=E-w;switch(K=U>.5?W/(2-E-w):W/(E+w),E){case m:B=(y-S)/W+(y<S?6:0);break;case y:B=(S-m)/W+2;break;case S:B=(m-y)/W+4}B/=6}return[B,K,U,V]}},{key:"hslToRgb",value:function(f){var k=Ae(f,4),m=k[0],y=k[1],S=k[2],V=k[3],E=void 0,w=void 0,B=void 0;if(0===y)E=w=B=S;else{var K=function(L,R,Q){return Q<0&&(Q+=1),Q>1&&(Q-=1),Q<.16666666666666666?L+6*(R-L)*Q:Q<.5?R:Q<.6666666666666666?L+(R-L)*(.6666666666666666-Q)*6:L},U=S<.5?S*(1+y):S+y-S*y,W=2*S-U;E=K(W,U,m+1/3),w=K(W,U,m),B=K(W,U,m-1/3)}var re=[255*E,255*w,255*B].map(Math.round);return re[3]=V,re}}]),h}(),fe=function(){function h(){M(this,h),this._events=[]}return ue(h,[{key:"add",value:function(f,k,m){f.addEventListener(k,m,!1),this._events.push({target:f,type:k,handler:m})}},{key:"remove",value:function(f,k,m){this._events=this._events.filter(function(y){var S=!0;return f&&f!==y.target&&(S=!1),k&&k!==y.type&&(S=!1),m&&m!==y.handler&&(S=!1),S&&h._doRemove(y.target,y.type,y.handler),!S})}},{key:"destroy",value:function(){this._events.forEach(function(f){return h._doRemove(f.target,f.type,f.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(f,k,m){f.removeEventListener(k,m,!1)}}]),h}();function ce(h,d,f){var k=!1;function m(E,w,B){return Math.max(w,Math.min(E,B))}function y(E,w,B){if(B&&(k=!0),k){E.preventDefault();var K=d.getBoundingClientRect(),U=K.width,W=K.height,H=w.clientY,L=m(w.clientX-K.left,0,U),R=m(H-K.top,0,W);f(L/U,R/W)}}function S(E,w){1===(void 0===E.buttons?E.which:E.buttons)?y(E,E,w):k=!1}function V(E,w){1===E.touches.length?y(E,E.touches[0],w):k=!1}h.add(d,"mousedown",function(E){S(E,!0)}),h.add(d,"touchstart",function(E){V(E,!0)}),h.add(window,"mousemove",S),h.add(d,"touchmove",V),h.add(window,"mouseup",function(E){k=!1}),h.add(d,"touchend",function(E){k=!1}),h.add(d,"touchcancel",function(E){k=!1})}var T="keydown",j="mousedown",N="focusin";function F(h,d){return(d||document).querySelector(h)}function v(h){h.preventDefault(),h.stopPropagation()}function b(h,d,f,k,m){h.add(d,T,function(y){f.indexOf(y.key)>=0&&(m&&v(y),k(y))})}var p=function(){function h(d){M(this,h),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new fe,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(d)}return ue(h,[{key:"setOptions",value:function(f){var k=this;if(f){var m=this.settings;if(f instanceof HTMLElement)m.parent=f;else{m.parent&&f.parent&&m.parent!==f.parent&&(this._events.remove(m.parent),this._popupInited=!1),function y(w,B,K){for(var U in w)K&&K.indexOf(U)>=0||(B[U]=w[U])}(f,m),f.onChange&&(this.onChange=f.onChange),f.onDone&&(this.onDone=f.onDone),f.onOpen&&(this.onOpen=f.onOpen),f.onClose&&(this.onClose=f.onClose);var S=f.color||f.colour;S&&this._setColor(S)}var V=m.parent;if(V&&m.popup&&!this._popupInited){var E=function(B){return k.openHandler(B)};this._events.add(V,"click",E),b(this._events,V,[" ","Spacebar","Enter"],E),this._popupInited=!0}else f.parent&&!m.popup&&this.show()}}},{key:"openHandler",value:function(f){if(this.show()){f&&f.preventDefault(),this.settings.parent.style.pointerEvents="none";var k=f&&f.type===T?this._domEdit:this.domElement;setTimeout(function(){return k.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(f){var k=f&&f.type,m=!1;f?k===j||k===N?f.timeStamp>(this.__containedEvent||0)+100&&(m=!0):(v(f),m=!0):m=!0,m&&this.hide()&&(this.settings.parent.style.pointerEvents="",k!==j&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(f,k){this.closeHandler(),this.setOptions(f),k&&this.openHandler()}},{key:"setColor",value:function(f,k){this._setColor(f,{silent:k})}},{key:"_setColor",value:function(f,k){if("string"==typeof f&&(f=f.trim()),f){k=k||{};var m=void 0;try{m=new be(f)}catch(S){if(k.failSilently)return;throw S}if(!this.settings.alpha){var y=m.hsla;y[3]=1,m.hsla=y}this.colour=this.color=m,this._setHSLA(null,null,null,null,k)}}},{key:"setColour",value:function(f,k){this.setColor(f,k)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var k=this._toggleDOM(!0);return this._setPosition(),k}var y=function ye(h){var d=document.createElement("div");return d.innerHTML=h,d.firstElementChild}(this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>');return this.domElement=y,this._domH=F(".picker_hue",y),this._domSL=F(".picker_sl",y),this._domA=F(".picker_alpha",y),this._domEdit=F(".picker_editor input",y),this._domSample=F(".picker_sample",y),this._domOkay=F(".picker_done button",y),this._domCancel=F(".picker_cancel button",y),y.classList.add("layout_"+this.settings.layout),this.settings.alpha||y.classList.add("no_alpha"),this.settings.editor||y.classList.add("no_editor"),this.settings.cancelButton||y.classList.add("no_cancel"),this._ifPopup(function(){return y.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var f=this,k=this,m=this.domElement,y=this._events;function S(w,B,K){y.add(w,B,K)}S(m,"click",function(w){return w.preventDefault()}),ce(y,this._domH,function(w,B){return k._setHSLA(w)}),ce(y,this._domSL,function(w,B){return k._setHSLA(null,w,1-B)}),this.settings.alpha&&ce(y,this._domA,function(w,B){return k._setHSLA(null,null,null,1-B)});var V=this._domEdit;S(V,"input",function(w){k._setColor(this.value,{fromEditor:!0,failSilently:!0})}),S(V,"focus",function(w){var B=this;B.selectionStart===B.selectionEnd&&B.select()}),this._ifPopup(function(){var w=function(U){return f.closeHandler(U)};S(window,j,w),S(window,N,w),b(y,m,["Esc","Escape"],w);var B=function(U){f.__containedEvent=U.timeStamp};S(m,j,B),S(m,N,B),S(f._domCancel,"click",w)});var E=function(B){f._ifPopup(function(){return f.closeHandler(B)}),f.onDone&&f.onDone(f.colour)};S(this._domOkay,"click",E),b(y,m,["Enter"],E)}},{key:"_setPosition",value:function(){var f=this.settings.parent,k=this.domElement;f!==k.parentNode&&f.appendChild(k),this._ifPopup(function(m){"static"===getComputedStyle(f).position&&(f.style.position="relative");var y=!0===m?"popup_right":"popup_"+m;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(S){S===y?k.classList.add(S):k.classList.remove(S)}),k.classList.add(y)})}},{key:"_setHSLA",value:function(f,k,m,y,S){S=S||{};var V=this.colour,E=V.hsla;[f,k,m,y].forEach(function(w,B){(w||0===w)&&(E[B]=w)}),V.hsla=E,this._updateUI(S),this.onChange&&!S.silent&&this.onChange(V)}},{key:"_updateUI",value:function(f){if(this.domElement){f=f||{};var k=this.colour,m=k.hsla,y="hsl("+360*m[0]+", 100%, 50%)",S=k.hslString,V=k.hslaString,E=this._domH,w=this._domSL,B=this._domA,K=F(".picker_selector",E),U=F(".picker_selector",w),W=F(".picker_selector",B);re(0,K,m[0]),this._domSL.style.backgroundColor=this._domH.style.color=y,re(0,U,m[1]),H(0,U,1-m[2]),w.style.color=S,H(0,W,1-m[3]);var L=S,R=L.replace("hsl","hsla").replace(")",", 0)");if(this._domA.style.background="linear-gradient("+[L,R]+"), linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,\n                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em",!f.fromEditor){var ve=this.settings.alpha,xe=void 0;switch(this.settings.editorFormat){case"rgb":xe=k.printRGB(ve);break;case"hsl":xe=k.printHSL(ve);break;default:xe=k.printHex(ve)}this._domEdit.value=xe}this._domSample.style.color=V}function re(Se,we,Ge){we.style.left=100*Ge+"%"}function H(Se,we,Ge){we.style.top=100*Ge+"%"}}},{key:"_ifPopup",value:function(f,k){this.settings.parent&&this.settings.popup?f&&f(this.settings.popup):k&&k()}},{key:"_toggleDOM",value:function(f){var k=this.domElement;if(!k)return!1;var m=f?"":"none",y=k.style.display!==m;return y&&(k.style.display=m),y}}]),h}(),u=document.createElement("style");return u.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(u),p.StyleElement=u,p}()},1262:function(je,M,ue){"use strict";function Ae(Ve){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Be){return typeof Be}:function(Be){return Be&&"function"==typeof Symbol&&Be.constructor===Symbol&&Be!==Symbol.prototype?"symbol":typeof Be})(Ve)}function fe(Ve,Be,pt){return(fe=ye()?Reflect.construct.bind():function($t,ui,$i){var Te=[null];return Te.push.apply(Te,ui),ui=new(Function.bind.apply($t,Te)),$i&&ce(ui,$i.prototype),ui}).apply(null,arguments)}function ye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ce(Ve,Be){return(ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pt,$t){return pt.__proto__=$t,pt})(Ve,Be)}function J(Ve){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Be){return Be.__proto__||Object.getPrototypeOf(Be)})(Ve)}ue.d(M,{K:function(){return si}});var O=function(Ve){var Be=$i;if("function"!=typeof Ve&&null!==Ve)throw new TypeError("Super expression must either be null or a function");Be.prototype=Object.create(Ve&&Ve.prototype,{constructor:{value:Be,writable:!0,configurable:!0}}),Object.defineProperty(Be,"prototype",{writable:!1}),Ve&&ce(Be,Ve);var ui=function oe(Ve){var Be=ye();return function(){var pt,$t=J(Ve);if(pt=Be?(pt=J(this).constructor,Reflect.construct($t,arguments,pt)):$t.apply(this,arguments),$t=this,pt&&("object"===Ae(pt)||"function"==typeof pt))return pt;if(void 0!==pt)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==$t)return $t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}($i);function $i(Te,We){if(this instanceof $i)return(Te=ui.call(this,Te+" at position "+We)).position=We,Te;throw new TypeError("Cannot call a class as a function")}return Be=$i,Object.defineProperty(Be,"prototype",{writable:!1}),Be}(function be(Ve){var Be="function"==typeof Map?new Map:void 0;return function(pt){if(null===pt||-1===Function.toString.call(pt).indexOf("[native code]"))return pt;if("function"!=typeof pt)throw new TypeError("Super expression must either be null or a function");if(void 0!==Be){if(Be.has(pt))return Be.get(pt);Be.set(pt,$t)}function $t(){return fe(pt,arguments,J(this).constructor)}return $t.prototype=Object.create(pt.prototype,{constructor:{value:$t,enumerable:!1,writable:!0,configurable:!0}}),ce($t,pt)}(Ve)}(Error)),T=92,j=47,N=42,F=123,v=125,b=91,p=93,u=40,h=41,d=32,f=10,k=9,m=13,y=8,S=12,V=34,E=43,w=45,B=39,K=48,U=49,W=57,re=44,H=46,L=58,R=59,Q=65,ae=97,ve=69,xe=101,Se=70,we=102,Ge=160,Ie=8192,Ze=8202,X=8239,de=8287,ge=12288,Ce=8220,G=8221,Z=8216,ne=8217,_e=96,Ee=180;function Qe(Ve){return K<=Ve&&Ve<=W||Q<=Ve&&Ve<=Se||ae<=Ve&&Ve<=we}function ft(Ve){return K<=Ve&&Ve<=W}var yt=/^[,:[\]{}()\n]$/;function Wt(Ve){return Vt.test(Ve)||Ve&&Ut(Ve.charCodeAt(0))}var Vt=/^[[{\w-]$/;function qt(Ve){return Ve===d||Ve===f||Ve===k||Ve===m}function Ut(Ve){return ji(Ve)||ot(Ve)}function ji(Ve){return Ve===V||Ve===Ce||Ve===G}function ot(Ve){return Ve===B||Ve===Z||Ve===ne||Ve===_e||Ve===Ee}function xt(Ve,Be,pt){return pt=2<arguments.length&&void 0!==pt&&pt,-1!==(Be=Ve.lastIndexOf(Be))?Ve.substring(0,Be)+(pt?"":Ve.substring(Be+1)):Ve}function vt(Ve,Be){var pt=Ve.length;if(!qt(Ve.charCodeAt(pt-1)))return Ve+Be;for(;qt(Ve.charCodeAt(pt-1));)pt--;return Ve.substring(0,pt)+Be+Ve.substring(pt)}var At={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},ni={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function si(Ve){var Be=0,pt="";if(!Te())throw new O("Unexpected end of json string",Ve.length);var $t=Pt(re);if($t&&We(),Wt(Ve[Be])&&/[,\n][ \t\r]*$/.test(pt)){$t||(pt=vt(pt,","));for(var ui=!0,$i=!0;$i;)ui?ui=!1:Pt(re)||(pt=vt(pt,",")),$i=Te();$i||(pt=xt(pt,",")),pt="[\n".concat(pt,"\n]")}else $t&&(pt=xt(pt,","));if(Be>=Ve.length)return pt;throw new O("Unexpected character "+JSON.stringify(Ve[Be]),Be);function Te(){We();var Ki=function(){if(Ve.charCodeAt(Be)!==F)return!1;pt+="{",Be++,We();for(var fn=!0;Be<Ve.length&&Ve.charCodeAt(Be)!==v;){if(fn?fn=!1:(Pt(re)||(pt=vt(pt,",")),We()),!Jt()&&!Yn()){Ve.charCodeAt(Be)===v||Ve.charCodeAt(Be)===F||Ve.charCodeAt(Be)===p||Ve.charCodeAt(Be)===b||void 0===Ve[Be]?pt=xt(pt,","):function(){throw new O("Object key expected",Be)}();break}We();var Ds=Pt(L);Ds||(Wt(Ve[Be])?pt=vt(pt,":"):jn()),Te()||(Ds?function(){throw new O("Object value expected",Be)}:jn)()}return Ve.charCodeAt(Be)===v?(pt+="}",Be++):pt=vt(pt,"}"),!0}()||function(){if(Ve.charCodeAt(Be)!==b)return!1;pt+="[",Be++,We();for(var fn=!0;Be<Ve.length&&Ve.charCodeAt(Be)!==p;)if(fn?fn=!1:Pt(re)||(pt=vt(pt,",")),!Te()){pt=xt(pt,",");break}return Ve.charCodeAt(Be)===p?(pt+="]",Be++):pt=vt(pt,"]"),!0}()||Jt()||function(){var Ds,fn=Be;if(Ve.charCodeAt(Be)===w&&(Be++,_o(fn)),Ve.charCodeAt(Be)===K)Be++;else if(Ds=Ve.charCodeAt(Be),U<=Ds&&Ds<=W)for(Be++;ft(Ve.charCodeAt(Be));)Be++;if(Ve.charCodeAt(Be)===H)for(Be++,_o(fn);ft(Ve.charCodeAt(Be));)Be++;if(Ve.charCodeAt(Be)===xe||Ve.charCodeAt(Be)===ve)for(Be++,Ve.charCodeAt(Be)!==w&&Ve.charCodeAt(Be)!==E||Be++,_o(fn);ft(Ve.charCodeAt(Be));)Be++;return fn<Be&&(pt+=Ve.slice(fn,Be),!0)}()||Ti("true","true")||Ti("false","false")||Ti("null","null")||Ti("True","true")||Ti("False","false")||Ti("None","null")||Yn();return We(),Ki}function We(){for(st();function(){if(Ve.charCodeAt(Be)===j&&Ve.charCodeAt(Be+1)===N){for(;Be<Ve.length&&("*"!==(Ki=Ve)[fn=Be]||"/"!==Ki[fn+1]);)Be++;Be+=2}else{if(Ve.charCodeAt(Be)!==j||Ve.charCodeAt(Be+1)!==j)return!1;for(;Be<Ve.length&&Ve.charCodeAt(Be)!==f;)Be++}var Ki,fn;return!0}()&&st(););}function st(){for(var Ki,fn,Ds="";(Ki=qt(Ve.charCodeAt(Be)))||(fn=Ve.charCodeAt(Be))===Ge||Ie<=fn&&fn<=Ze||fn===X||fn===de||fn===ge;)Ds+=Ki?Ve[Be]:" ",Be++;return 0<Ds.length&&(pt+=Ds,!0)}function Pt(Ki){return Ve.charCodeAt(Be)===Ki&&(pt+=Ve[Be],Be++,!0)}function ci(){return Ki=T,Ve.charCodeAt(Be)===Ki&&(Be++,!0);var Ki}function Jt(){var Ki,Ue,lt,fn=Ve.charCodeAt(Be)===T;if(fn&&(Be++,fn=!0),Ut(Ve.charCodeAt(Be))){var Ds=ot(Ve.charCodeAt(Be))?ot:ji;for(Ve.charCodeAt(Be),pt+='"',Be++;Be<Ve.length&&!Ds(Ve.charCodeAt(Be));){if(Ve.charCodeAt(Be)===T){var Ea=Ve[Be+1];if(void 0!==ni[Ea])pt+=Ve.slice(Be,Be+2),Be+=2;else if("u"===Ea){if(!(Qe(Ve.charCodeAt(Be+2))&&Qe(Ve.charCodeAt(Be+3))&&Qe(Ve.charCodeAt(Be+4))&&Qe(Ve.charCodeAt(Be+5)))){He=Os=void 0;for(var Os=Be,He=Os+2;/\w/.test(Ve[He]);)He++;throw Os=Ve.slice(Os,He),new O('Invalid unicode character "'.concat(Os,'"'),Be)}pt+=Ve.slice(Be,Be+6),Be+=6}else pt+=Ea,Be+=2}else{if(Os=Ve[Be],(Ea=Ve.charCodeAt(Be))===V&&Ve.charCodeAt(Be-1)!==T)pt+="\\"+Os;else if((Ki=Ea)===f||Ki===m||Ki===k||Ki===y||Ki===S)pt+=At[Os];else{if(!(32<=(Ki=Ea)&&Ki<=1114111))throw new O("Invalid character "+JSON.stringify(Os),Be);pt+=Os}Be++}fn&&ci()}for(Ut(Ve.charCodeAt(Be))?(Ve.charCodeAt(Be),pt+='"',Be++):pt+='"',We();Ve.charCodeAt(Be)===E;){Be++,We();var Oe=(pt=xt(pt,'"',!0)).length;Jt(),1,pt=(Ue=pt).substring(0,lt=Oe)+Ue.substring(lt+1)}return!0}return!1}function Ti(Ki,fn){return Ve.slice(Be,Be+Ki.length)===Ki&&(pt+=fn,Be+=Ki.length,!0)}function Yn(){for(var Ki,fn=Be;Be<Ve.length&&!(yt.test(Ki=Ve[Be])||Ki&&Ut(Ki.charCodeAt(0)));)Be++;if(fn<Be){if(Ve.charCodeAt(Be)===u)Be++,Te(),Ve.charCodeAt(Be)===h&&(Be++,Ve.charCodeAt(Be)===R)&&Be++;else{for(;qt(Ve.charCodeAt(Be-1))&&0<Be;)Be--;fn=Ve.slice(fn,Be),pt+=JSON.stringify(fn)}return!0}}function _o(Ki){if(!ft(Ve.charCodeAt(Be)))throw Ki=Ve.slice(Ki,Be),new O("Invalid number '".concat(Ki,"', expecting a digit ").concat(Ve[Be]?"but got '".concat(Ve[Be],"'"):"but reached end of input"),2)}function jn(){throw new O("Colon expected",Be)}}},894:function(je){"use strict";je.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},7171:function(je){"use strict";je.exports=JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string"},"$schema":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}')},6273:function(je){"use strict";je.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://json-schema.org/draft-06/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"examples":{"type":"array","items":{}},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":{},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":{}}')},6680:function(je){"use strict";je.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},tc={},Ys.amdD=function(){throw new Error("define cannot be used indirect")},Ys.n=function(je){var M=je&&je.__esModule?function(){return je.default}:function(){return je};return Ys.d(M,{a:M}),M},Ys.d=function(je,M){for(var ue in M)Ys.o(M,ue)&&!Ys.o(je,ue)&&Object.defineProperty(je,ue,{enumerable:!0,get:M[ue]})},Ys.o=function(je,M){return Object.prototype.hasOwnProperty.call(je,M)},Ys.r=function(je){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(je,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(je,"__esModule",{value:!0})},Ys.nmd=function(je){return je.paths=[],je.children||(je.children=[]),je},Ys(3161);function Ys(je){var M=tc[je];return void 0!==M||(M=tc[je]={id:je,loaded:!1,exports:{}},ec[je].call(M.exports,M,M.exports,Ys),M.loaded=!0),M.exports}var ec,tc}()}},yp=>{yp(yp.s=984)}]);